{"version":3,"file":"ElevationLayer.js","mappings":"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","sources":["webpack://defra/./node_modules/@arcgis/core/core/ByteSizeUnit.js","webpack://defra/./node_modules/@arcgis/core/core/LRUCache.js","webpack://defra/./node_modules/@arcgis/core/core/MemCache.js","webpack://defra/./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack://defra/./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack://defra/./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack://defra/./node_modules/@arcgis/core/core/accessorSupport/layerContainerType.js","webpack://defra/./node_modules/@arcgis/core/core/workers/Connection.js","webpack://defra/./node_modules/@arcgis/core/core/workers/InvokeHandler.js","webpack://defra/./node_modules/@arcgis/core/core/workers/RemoteClient.js","webpack://defra/./node_modules/@arcgis/core/core/workers/WorkerFallback.js","webpack://defra/./node_modules/@arcgis/core/core/workers/WorkerHandle.js","webpack://defra/./node_modules/@arcgis/core/core/workers/WorkerOwner.js","webpack://defra/./node_modules/@arcgis/core/core/workers/connectionRegistry.js","webpack://defra/./node_modules/@arcgis/core/core/workers/loaderConfig.js","webpack://defra/./node_modules/@arcgis/core/core/workers/registry.js","webpack://defra/./node_modules/@arcgis/core/core/workers/staticWorkerMessages.js","webpack://defra/./node_modules/@arcgis/core/core/workers/utils.js","webpack://defra/./node_modules/@arcgis/core/core/workers/workerFactory.js","webpack://defra/./node_modules/@arcgis/core/core/workers/workers.js","webpack://defra/./node_modules/@arcgis/core/geometry/HeightModelInfo.js","webpack://defra/./node_modules/@arcgis/core/geometry/support/UintArray.js","webpack://defra/./node_modules/@arcgis/core/layers/ElevationLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/ArcGISCachedService.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/ArcGISService.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/operationalLayers.js","webpack://defra/./node_modules/@arcgis/core/layers/support/ElevationTileData.js","webpack://defra/./node_modules/@arcgis/core/layers/support/LOD.js","webpack://defra/./node_modules/@arcgis/core/layers/support/LercDecoder.js","webpack://defra/./node_modules/@arcgis/core/layers/support/TileInfo.js","webpack://defra/./node_modules/@arcgis/core/layers/support/TileInfoTilemapCache.js","webpack://defra/./node_modules/@arcgis/core/layers/support/TileKey.js","webpack://defra/./node_modules/@arcgis/core/layers/support/Tilemap.js","webpack://defra/./node_modules/@arcgis/core/layers/support/TilemapCache.js","webpack://defra/./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack://defra/./node_modules/@arcgis/core/portal/support/portalItemUtils.js","webpack://defra/./node_modules/@arcgis/core/tables/AttributeTableTemplate.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableAttachmentElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableFieldElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableGroupElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableRelationshipElement.js","webpack://defra/./node_modules/@arcgis/core/tables/support/elements.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar E;!function(E){E[E.KILOBYTES=1024]=\"KILOBYTES\",E[E.MEGABYTES=1048576]=\"MEGABYTES\",E[E.GIGABYTES=1073741824]=\"GIGABYTES\"}(E||(E={}));export{E as ByteSizeUnit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{MemCacheStorage as t}from\"./MemCache.js\";class e{constructor(e,s){this._storage=new t,this.id=\"\",this.name=\"\",this.size=0,this._storage.maxSize=e,this._storage.register(this),s&&this._storage.registerRemoveFunc(\"\",s)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,s=1){this._storage.put(this,t,e,s,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}export{e as LRUCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"./PooledArray.js\";const e=-3,s=e-1;var i;!function(t){t[t.ALL=0]=\"ALL\",t[t.SOME=1]=\"SOME\"}(i||(i={}));class r{constructor(t,e,s){this.name=t,this._storage=e,this.id=o+++\":\",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),s&&(this._storage.registerRemoveFunc(this.id,s),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,e,s,i=0){this._storage.put(this,t,e,s,i)}pop(t){const e=this._storage.pop(this,t);return void 0===e?++this._miss:++this._hit,e}get(t){const e=this._storage.get(this,t);return void 0===e?++this._miss:++this._hit,e}peek(t){return this._storage.peek(this,t)}updateSize(t,e,s){this._storage.updateSize(this,t,e,s)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class h{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new t,this._users=new t}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,e){const s=this._db.get(t.id+e);return s?.size??0}put(t,r,h,o,_){r=t.id+r;const a=this._db.get(r);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(r),a.entry!==h&&this._notifyRemove(r,a.entry,a.size,i.ALL)),o>this._maxSize)return void this._notifyRemove(r,h,o,i.ALL);if(void 0===h)return void console.warn(\"Refusing to cache undefined entry \");if(!o||o<0)return console.warn(`Refusing to cache entry with size ${o} for key ${r}`),void this._notifyRemove(r,h,0,i.ALL);const c=1+Math.max(_,s)-e;this._db.set(r,new n(h,o,c)),this._size+=o,t.size+=o,this._checkSize()}updateSize(t,e,s,r){e=t.id+e;const h=this._db.get(e);if(h&&h.entry===s){for(this._size-=h.size,t.size-=h.size;r>this._maxSize;){const t=this._notifyRemove(e,s,r,i.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);r=t}h.size=r,this._size+=r,t.size+=r,this._checkSize()}}pop(t,e){e=t.id+e;const s=this._db.get(e);if(s)return this._size-=s.size,t.size-=s.size,this._db.delete(e),++this._hit,s.entry;++this._miss}get(t,e){e=t.id+e;const s=this._db.get(e);if(void 0!==s)return this._db.delete(e),s.lives=s.lifetime,this._db.set(e,s),++this._hit,s.entry;++this._miss}peek(t,e){const s=this._db.get(t.id+e);return s?++this._hit:++this._miss,s?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+\"/\"+Math.round(this._maxSize/1048576)+\"MB\",\"Hit rate\":Math.round(100*this._getHitRate())+\"%\",Entries:this._db.size.toString()},s={},i=new Array;this._db.forEach(((t,e)=>{const r=t.lifetime;i[r]=(i[r]||0)+t.size,this._users.forAll((i=>{const{id:r,name:h}=i;if(e.startsWith(r)){const e=s[h]||0;s[h]=e+t.size}}))}));const r={};this._users.forAll((t=>{const e=t.name;if(\"hitRate\"in t&&\"number\"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const i=s[e]||0;s[e]=i,r[e]=Math.round(100*t.hitRate)+\"%\"}else r[e]=\"0%\"}));const h=Object.keys(s);h.sort(((t,e)=>s[e]-s[t])),h.forEach((e=>t[e]=Math.round(s[e]/2**20)+\"MB / \"+r[e]));for(let o=i.length-1;o>=0;--o){const s=i[o];s&&(t[\"Priority \"+(o+e-1)]=Math.round(s/this._size*100)+\"%\")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,s)=>{s.startsWith(e)&&(this._size-=t.size,this._db.delete(s),this._notifyRemove(s,t.entry,t.size,i.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,t.size,i.ALL))),this._users.forAll((t=>t.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,s,i){let r;return this._removeFuncs.some((h=>{if(t.startsWith(h[0])){const t=h[1](e,i,s);return\"number\"==typeof t&&(r=t),!0}return!1})),r}_checkSize(){this._users.forAll((t=>this._checkSizeLimits(t))),this._checkSizeLimits()}_checkSizeLimits(t){const e=t??this;if(e.maxSize<0||e.size<=e.maxSize)return;const s=t?.id;let i=!0;for(;i;){i=!1;for(const[r,h]of this._db)if(0===h.lifetime&&(!s||r.startsWith(s))){if(this._purgeItem(r,h,t),e.size<=.9*e.maxSize)return;i||=this._db.has(r)}}for(const[r,h]of this._db)if((!s||r.startsWith(s))&&(this._purgeItem(r,h,t),e.size<=.9*e.maxSize))return}_purgeItem(t,e,s=this._users.find((e=>t.startsWith(e.id)))){if(this._db.delete(t),e.lives<=1){this._size-=e.size,s&&(s.size-=e.size);const r=this._notifyRemove(t,e.entry,e.size,i.SOME);null!=r&&r>0&&(this._size+=r,s&&(s.size+=r),e.lives=e.lifetime,e.size=r,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}let o=0;class n{constructor(t,e,s){this.entry=t,this.size=e,this.lifetime=s,this.lives=s}}export{r as MemCache,h as MemCacheStorage,e as MinPriority,s as NoPriority,i as RemoveMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{ReadOnlyMultiOriginJSONMixin as s}from\"./ReadOnlyMultiOriginJSONSupport.js\";import{get as e}from\"./accessorSupport/get.js\";import{nameToId as o,OriginId as i,originIdNum as p}from\"./accessorSupport/PropertyOrigin.js\";import{getProperties as c}from\"./accessorSupport/utils.js\";import{write as u}from\"./accessorSupport/write.js\";import{subclass as n}from\"./accessorSupport/decorators/subclass.js\";const l=t=>{let s=class extends t{constructor(...r){super(...r)}clear(r,t=\"user\"){return O(this).delete(r,o(t))}write(r,t){return u(this,r=r||{},t),r}setAtOrigin(r,t,s){c(this).setAtOrigin(r,t,o(s))}removeOrigin(r){const t=O(this),s=o(r),e=t.keys(s);for(const o of e)t.originOf(o)===s&&t.set(o,t.get(o,s),i.USER)}updateOrigin(r,t){const s=O(this),i=o(t),c=e(this,r);for(let e=i+1;e<p;++e)s.delete(r,e);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return s=r([n(\"esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport\")],s),s.prototype.toJSON.isDefaultToJSON=!0,s};function O(r){return c(r).store}const S=t=>{let e=class extends(l(s(t))){constructor(...r){super(...r)}};return e=r([n(\"esri.core.MultiOriginJSONSupport\")],e),e};let m=class extends(S(t)){};m=r([n(\"esri.core.MultiOriginJSONSupport\")],m);export{S as MultiOriginJSONMixin,m as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{setupConstructedDefaults as s}from\"./accessorSupport/defaultsStoreUtils.js\";import o from\"./accessorSupport/MultiOriginStore.js\";import{nameToId as e,idToName as i}from\"./accessorSupport/PropertyOrigin.js\";import{read as c}from\"./accessorSupport/read.js\";import{getProperties as n}from\"./accessorSupport/utils.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const u=t=>{let u=class extends t{constructor(...r){super(...r);const t=n(this),e=t.store,i=new o;t.store=i,s(t,e,i)}read(r,t){c(this,r,t)}getAtOrigin(r,t){const s=a(this),o=e(t);if(\"string\"==typeof r)return s.get(r,o);const i={};return r.forEach((r=>{i[r]=s.get(r,o)})),i}originOf(r){return i(this.originIdOf(r))}originIdOf(r){return a(this).originOf(r)}revert(r,t){const s=a(this),o=e(t),i=n(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{i.invalidate(r),s.revert(r,o),i.commit(r)}))}};return u=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],u),u};function a(r){return n(r).store}let f=class extends(u(t)){};f=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{u as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{originIdNum as s,OriginId as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(s),this._values=new Map,this.multipleOriginsSupported=!0}clone(i){const o=new r,n=this._originStores[e.DEFAULTS];n&&n.forEach(((s,r)=>{o.set(r,t(s),e.DEFAULTS)}));for(let r=e.SERVICE;r<s;r++){const s=this._originStores[r];s&&s.forEach(((s,e)=>{i&&i.has(e)||o.set(e,t(s),r)}))}return o}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,s,r=e.USER){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,s),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const e=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,r),e!==s}return!1}delete(t,s=e.USER){const r=this._originStores[s];if(!r)return;const i=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return i}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e?.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||e.DEFAULTS}forEach(t){this._values.forEach(t)}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst a=(a=>a)([\"operational-layers\",\"basemap\",\"ground\"]);export{a as excludeTables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e}from\"../handleUtils.js\";import\"../has.js\";import{isPromiseLike as t,createAbortError as s,createResolver as i,throwIfAborted as n}from\"../promiseUtils.js\";import o from\"../Queue.js\";import{unregister as r}from\"./connectionRegistry.js\";import{createInvokeProxy as l}from\"./InvokeHandler.js\";import h from\"./RemoteClient.js\";class c{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new o}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,s){return new Promise(((i,o)=>{let r=!0;const l=e=>{n(s.signal),r&&(r=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let n=0;n<e.length;++n){const r=e[n];t(r)?this._clientPromises[n]=r.then((e=>(this._clients[n]=new h(e,s,this._ongoingJobsQueue),l(i),this._clients[n])),(()=>(l(o),null))):(this._clients[n]=new h(r,s,this._ongoingJobsQueue),this._clientPromises[n]=Promise.resolve(this._clients[n]),l(i))}}))}broadcast(e,t,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const o=this._clientPromises[n];i[n]=o.then((i=>i?.invoke(e,t,s)))}return i}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(s(`Worker closing, aborting job calling '${e.methodName}'`));for(const t of this._clientPromises)t.then((e=>e?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,r(this)}invoke(e,t,s){return this.apply(e,[t],s)}apply(e,t,s){const n=i();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:s,resolver:n});for(let i=0;i<this._clientPromises.length;i++){const e=this._clients[i];e?e.jobAdded():this._clientPromises[i].then((e=>e?.jobAdded()))}return n.promise}createInvokeProxy(e){return l(this,e)}on(t,s){return Promise.all(this._clientPromises).then((()=>e(this._clients.map((e=>e.on(t,s))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let s=t.length;for(let i=0;i<this._clientPromises.length;++i){this._clientPromises[i].then((n=>{n&&(t[i]=n.openPort()),0==--s&&e(t)}))}}))}get test(){}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t,r){return new Proxy({},{get:(e,i,s)=>(...e)=>{let s,o;const a=e[e.length-1];n(a)&&(s=a.signal,o=a.transferList,e.pop());return t.apply(r?`${r}.${i.toString()}`:i.toString(),e,{transferList:o,signal:s})}})}function n(t){return\"object\"==typeof t&&!Array.isArray(t)&&null!=t&&(\"signal\"in t||\"transferList\"in t||0===Object.keys(t).length)}export{t as createInvokeProxy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fullVersion as e}from\"../../kernel.js\";import s from\"../Error.js\";import{on as t}from\"../events.js\";import{makeHandle as o}from\"../handleUtils.js\";import{removeMaybe as n}from\"../maybe.js\";import{isAborted as r,createAbortError as i,onAbort as l,isPromiseLike as a,isAbortError as h}from\"../promiseUtils.js\";import{createInvokeProxy as c}from\"./InvokeHandler.js\";import{registry as p}from\"./registry.js\";import{portClosedErrorName as _,newJobId as u,MessageType as d,receiveMessage as b,toInvokeError as m,postMessage as g}from\"./utils.js\";import{buildDate as f,commitHash as v}from\"../../support/revision.js\";const{CLOSE:M,ABORT:k,INVOKE:j,RESPONSE:y,OPEN_PORT:I,ON:J}=d,w=2;class O{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===d.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class E{static connect(e,s){const t=new MessageChannel;let o;o=\"function\"==typeof e?new e:\"default\"in e&&\"function\"==typeof e.default?new e.default:e;const n=new E(t.port1,{channel:t,client:o,schedule:s});return\"object\"==typeof o&&\"remoteClient\"in o&&(o.remoteClient=n),E.clients.set(n,o),t.port2}static loadWorker(e){const s=p[e];return s?s():Promise.resolve(null)}constructor(e,s,t){this._port=e,this._jobQueue=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new O((e=>this._onInvokeMessage(e))),this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,this._schedule=s.schedule,this._port.addEventListener(\"message\",this._onMessage),this._port.start()}close(){this._post({type:M}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,s,t){return this.apply(e,[s],t)}apply(e,t,o){const a=o?.signal,h=o?.transferList;if(!this._port)return Promise.reject(new s(_,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const c=u();return new Promise(((s,o)=>{if(r(a))return this._processWork(),void o(i());const p=l(a,(()=>{const e=this._outJobs.get(c);e&&(this._outJobs.delete(c),this._processWork(),n(e.abortHandle),this._post({type:k,jobId:c}),o(i()))})),_={resolve:s,reject:o,abortHandle:p,debugInfo:e};this._outJobs.set(c,_),this._post({type:j,jobId:c,methodName:e,abortable:null!=a},t,h)}))}createInvokeProxy(e){return c(this,e)}on(e,s){const t=new MessageChannel;function n(e){s(e.data)}return this._port.postMessage({type:d.ON,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener(\"message\",n),t.port1.start(),o((()=>{t.port1.postMessage({type:d.CLOSE}),t.port1.close(),t.port1.removeEventListener(\"message\",n)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:I,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=w)return;const e=this._jobQueue?.pop();if(!e)return;const{methodName:s,data:t,invokeOptions:o,resolver:n}=e;this.apply(s,t,o).then((e=>n.resolve(e))).catch((e=>n.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener(\"message\",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{n(e.abortHandle),e.reject(i(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,s){const t=b(e);if(t)switch(t.type){case y:this._onResponseMessage(t);break;case j:s?this._onInvokeMessage(t):this._invokeQueue.push(t);break;case k:this._onAbortMessage(t);break;case M:this._onCloseMessage();break;case I:this._onOpenPortMessage(t);break;case J:this._onOnMessage(t)}}_onAbortMessage(e){const s=this._inJobs,t=e.jobId,o=s.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),s.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&\"destroy\"in e&&E.clients.get(this)===e&&e.destroy(),E.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:s,jobId:t,data:o=[],abortable:n}=e,r=n?new AbortController:null,i=this._inJobs;let l,c=this._client,p=c[s];try{if(!p&&s&&s.includes(\".\")){const e=s.split(\".\");for(let s=0;s<e.length-1;s++)c=c[e[s]],p=c[e[s+1]]}if(\"function\"!=typeof p)throw new TypeError(`${s} is not a function`);o.push({client:this,signal:r?r.signal:null}),l=p.apply(c,o)}catch(_){return void this._post({type:y,jobId:t,error:m(_)})}a(l)?(i.set(t,{controller:r,promise:l}),l.then((e=>{i.has(t)&&(i.delete(t),this._post({type:y,jobId:t},e))}),(e=>{i.has(t)&&(i.delete(t),h(e)||this._post({type:y,jobId:t,error:m(e||{message:`Error encountered at method ${s}`})}))}))):this._post({type:y,jobId:t},l)}_onOpenPortMessage(e){new E(e.port,{client:this._client})}_onOnMessage(e){const{port:s}=e,o=this._client.on(e.eventType,(e=>{s.postMessage(e)})),n=t(e.port,\"message\",(e=>{const t=b(e);t?.type===d.CLOSE&&(n.remove(),o.remove(),s.close())}))}_onResponseMessage(e){const{jobId:t,error:o,data:r}=e,i=this._outJobs;if(!i.has(t))return;const l=i.get(t);i.delete(t),this._processWork(),n(l.abortHandle),o?l.reject(s.fromJSON(JSON.parse(o))):l.resolve(r)}_post(e,s,t){return g(this._port,e,s,t)}}E.kernelInfo={buildDate:f,fullVersion:e,revision:v},E.clients=new Map;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{nextTick as e}from\"../nextTick.js\";import s from\"./RemoteClient.js\";import{MessageType as r,receiveMessage as t}from\"./utils.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((s=>{this[s]=(...r)=>e[s](...r)}))}}class a{constructor(){this._dispatcher=new n,this._workerPostMessage({type:r.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(s){e((()=>{this._workerMessageHandler(new MessageEvent(\"message\",{data:s}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,s,r){this._dispatcher.addEventListener(e,s,r)}removeEventListener(e,s,r){this._dispatcher.removeEventListener(e,s,r)}_workerPostMessage(s){e((()=>{this.dispatchEvent(new MessageEvent(\"message\",{data:s}))}))}async _workerMessageHandler(e){const n=t(e);if(n&&n.type===r.OPEN){const{modulePath:e,jobId:t}=n;let a=await s.loadWorker(e);a||(a=await import(/* @vite-ignore */ /* webpackIgnore: true */e));const o=s.connect(a);this._workerPostMessage({type:r.OPENED,jobId:t,data:o})}}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../arrayUtils.js\";import{makeHandle as t}from\"../handleUtils.js\";import s from\"../Logger.js\";import{throwIfAborted as r}from\"../promiseUtils.js\";import{open as i}from\"./workers.js\";class h{constructor(e,t,r,h,o={}){this._mainMethod=t,this._transferLists=r,this._listeners=[],this._promise=i(e,{...o,schedule:h}).then((e=>{if(void 0===this._thread){this._thread=e,this._promise=null,o.hasInitialize&&this.broadcast({},\"initialize\");for(const e of this._listeners)this._connectListener(e)}else e.close()})),this._promise.catch((t=>s.getLogger(\"esri.core.workers.WorkerHandle\").error(`Failed to initialize ${e} worker: ${t}`)))}on(s,r){const i={removed:!1,eventName:s,callback:r,threadHandle:null};return this._listeners.push(i),this._connectListener(i),t((()=>{i.removed=!0,e(this._listeners,i),this._thread&&null!=i.threadHandle&&i.threadHandle.remove()}))}destroy(){this._thread&&(this._thread.close(),this._thread=null),this._promise=null,this._listeners.length=0,this._transferLists={}}invoke(e,t){return this.invokeMethod(this._mainMethod,e,t)}invokeMethod(e,t,s){if(this._thread){const r=this._transferLists[e],i=r?r(t):[];return this._thread.invoke(e,t,{transferList:i,signal:s})}return this._promise?this._promise.then((()=>(r(s),this.invokeMethod(e,t,s)))):Promise.reject(null)}broadcast(e,t){return this._thread?Promise.all(this._thread.broadcast(t,e)).then((()=>{})):this._promise?this._promise.then((()=>this.broadcast(e,t))):Promise.reject()}get promise(){return this._promise}_connectListener(e){this._thread&&this._thread.on(e.eventName,e.callback).then((t=>{e.removed||(e.threadHandle=t)}))}}export{h as WorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../Error.js\";import t from\"../Logger.js\";import{removeMaybe as o}from\"../maybe.js\";import{onAbortOrThrow as s,isPromiseLike as r,isAbortError as n}from\"../promiseUtils.js\";import{staticWorkerMessages as a}from\"./staticWorkerMessages.js\";import{newJobId as i,receiveMessage as l,toInvokeError as d,postMessage as c,MessageType as h}from\"./utils.js\";import{createWorker as p}from\"./workerFactory.js\";const{ABORT:b,INVOKE:m,OPEN:_,OPENED:g,RESPONSE:u}=h;class j{static async create(e){const t=await p();return new j(t,e)}constructor(e,o){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=o,e.addEventListener(\"message\",this._onMessage.bind(this)),e.addEventListener(\"error\",(e=>{e.preventDefault(),t.getLogger(\"esri.core.workers.WorkerOwner\").error(e)}))}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:o}=t,r=i();return new Promise(((t,n)=>{const a={resolve:t,reject:n,abortHandle:s(o,(()=>{this._outJobs.delete(r),this._post({type:b,jobId:r})}))};this._outJobs.set(r,a),this._post({type:_,jobId:r,modulePath:e})}))}_onMessage(e){const t=l(e);if(t)switch(t.type){case g:this._onOpenedMessage(t);break;case u:this._onResponseMessage(t);break;case b:this._onAbortMessage(t);break;case m:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,o=e.jobId,s=t.get(o);s&&(s.controller&&s.controller.abort(),t.delete(o))}_onInvokeMessage(e){const{methodName:t,jobId:o,data:s,abortable:i}=e,l=i?new AbortController:null,c=this._inJobs,h=a[t];let p;try{if(\"function\"!=typeof h)throw new TypeError(`${t} is not a function`);p=h.call(null,s,{signal:l?l.signal:null})}catch(b){return void this._post({type:u,jobId:o,error:d(b)})}r(p)?(c.set(o,{controller:l,promise:p}),p.then((e=>{c.has(o)&&(c.delete(o),this._post({type:u,jobId:o},e))}),(e=>{c.has(o)&&(c.delete(o),e||(e={message:\"Error encountered at method\"+t}),n(e)||this._post({type:u,jobId:o,error:d(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:u,jobId:o},p)}_onOpenedMessage(e){const{jobId:t,data:s}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),o(r.abortHandle),r.resolve(s))}_onResponseMessage(t){const{jobId:s,error:r,data:n}=t,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),o(a.abortHandle),r?a.reject(e.fromJSON(JSON.parse(r))):a.resolve(n))}_post(e,t,o){return c(this.worker,e,t,o)}}export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst n=new FinalizationRegistry((n=>{n.close()}));function e(e,i){n.register(e,i,i)}function i(e){n.unregister(e)}export{e as register,i as unregister};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../config.js\";import\"../../request.js\";import\"../Error.js\";import\"../Logger.js\";import\"../urlUtils.js\";import\"../has.js\";let s=null;const a={};function r(s){const r={async:s.async,isDebug:s.isDebug,locale:s.locale,baseUrl:s.baseUrl,has:{...s.has},map:{...s.map},packages:s.packages?.slice()||[],paths:{...a.paths,...s.paths}};return s.hasOwnProperty(\"async\")||(r.async=!0),s.hasOwnProperty(\"isDebug\")||(r.isDebug=!1),s.baseUrl||(r.baseUrl=a.baseUrl),r}export{s as defaultLoaderUrl,r as loaderConfig};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={statsWorker:()=>import(/* webpackChunkName: \"smartMapping-statistics-support-statsWorker\" */ \"../../smartMapping/statistics/support/statsWorker.js\"),geometryEngineWorker:()=>import(/* webpackChunkName: \"geometry-geometryEngineWorker\" */ \"../../geometry/geometryEngineWorker.js\"),CSVSourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-support-CSVSourceWorker\" */ \"../../layers/graphics/sources/support/CSVSourceWorker.js\"),EdgeProcessingWorker:()=>import(/* webpackChunkName: \"views-3d-webgl-engine-lib-edgeRendering-EdgeProcessingWorker\" */ \"../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\"),ElevationSamplerWorker:()=>import(/* webpackChunkName: \"geometry-support-meshUtils-ElevationSamplerWorker\" */ \"../../geometry/support/meshUtils/ElevationSamplerWorker.js\"),FeatureServiceSnappingSourceWorker:()=>import(/* webpackChunkName: \"views-interactive-snapping-featureSources-featureServiceSource-FeatureServiceSnappingSourceWorker\" */ \"../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js\"),GeoJSONSourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-geojson-GeoJSONSourceWorker\" */ \"../../layers/graphics/sources/geojson/GeoJSONSourceWorker.js\"),LercWorker:()=>import(/* webpackChunkName: \"layers-support-LercWorker\" */ \"../../layers/support/LercWorker.js\"),MemorySourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-support-MemorySourceWorker\" */ \"../../layers/graphics/sources/support/MemorySourceWorker.js\"),PBFDecoderWorker:()=>import(/* webpackChunkName: \"views-3d-support-PBFDecoderWorker\" */ \"../../views/3d/support/PBFDecoderWorker.js\"),FeaturePipelineWorker:()=>import(/* webpackChunkName: \"views-2d-layers-features-FeaturePipelineWorker\" */ \"../../views/2d/layers/features/FeaturePipelineWorker.js\"),PointCloudWorker:()=>import(/* webpackChunkName: \"views-3d-layers-PointCloudWorker\" */ \"../../views/3d/layers/PointCloudWorker.js\"),RasterWorker:()=>import(/* webpackChunkName: \"layers-support-RasterWorker\" */ \"../../layers/support/RasterWorker.js\"),SceneLayerSnappingSourceWorker:()=>import(/* webpackChunkName: \"views-interactive-snapping-featureSources-sceneLayerSource-SceneLayerSnappingSourceWorker\" */ \"../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js\"),SceneLayerWorker:()=>import(/* webpackChunkName: \"views-3d-layers-SceneLayerWorker\" */ \"../../views/3d/layers/SceneLayerWorker.js\"),WFSSourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-WFSSourceWorker\" */ \"../../layers/graphics/sources/WFSSourceWorker.js\"),WorkerTileHandler:()=>import(/* webpackChunkName: \"views-2d-engine-vectorTiles-WorkerTileHandler\" */ \"../../views/2d/engine/vectorTiles/WorkerTileHandler.js\"),Lyr3DWorker:()=>import(/* webpackChunkName: \"views-3d-layers-Lyr3DWorker\" */ \"../../views/3d/layers/Lyr3DWorker.js\"),Feature3DPipelineWorker:()=>import(/* webpackChunkName: \"views-3d-layers-graphics-pipeline-Feature3DPipelineWorker\" */ \"../../views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js\")};export{e as registry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{getInterceptor as t}from\"../urlUtils.js\";const a={async request(a,s){const r=a.options,n=r.responseType;r.signal=s?.signal,r.responseType=\"native\"===n||\"native-request-init\"===n?\"native-request-init\":n&&[\"blob\",\"json\",\"text\"].includes(n)&&t(a.url)?.after?n:\"array-buffer\";const i=await e(a.url,r),o={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case\"native-request-init\":return delete o.data.signal,o;case\"blob\":o.data=await o.data.arrayBuffer();break;case\"json\":o.data=(new TextEncoder).encode(JSON.stringify(o.data)).buffer;break;case\"text\":o.data=(new TextEncoder).encode(o.data).buffer}return{result:o,transferList:[o.data]}}};export{a as staticWorkerMessages};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../has.js\";import{isAbortError as t}from\"../promiseUtils.js\";const r=\"worker:port-closed\";var e;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(e||(e={}));let n=0;function s(){return n++}function o(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function i(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function a(t,r,n,s){if(r.type===e.OPEN_PORT)return void t.postMessage(r,[r.port]);if(r.type!==e.INVOKE&&r.type!==e.RESPONSE)return void t.postMessage(r);let f;if(o(n)?(f=u(n.transferList),r.data=n.result):(f=u(s),r.data=n),f){if(has(\"ff\"))for(const n of f)if(\"byteLength\"in n&&n.byteLength>267386880){const n=\"Worker call with large ArrayBuffer would crash Firefox\";switch(r.type){case e.INVOKE:throw n;case e.RESPONSE:return void a(t,{type:e.RESPONSE,jobId:r.jobId,error:i(n)})}}t.postMessage(r,f)}else t.postMessage(r)}function f(t){if(!t)return null;const r=t.data;return r?\"string\"==typeof r?JSON.parse(r):r:null}function u(t){if(!t?.length)return null;if(has(\"esri-workers-arraybuffer-transfer\"))return t;const r=t.filter((t=>!c(t)));return r.length?r:null}function c(t){return t instanceof ArrayBuffer||\"ArrayBuffer\"===t?.constructor?.name}async function O(e){try{return await e}catch(n){const e=n?.name===r;if(!(t(n)||e))throw n;return}}export{e as MessageType,O as ignoreConnectionErrors,o as isTransferrableResult,s as newJobId,r as portClosedErrorName,a as postMessage,f as receiveMessage,i as toInvokeError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import r from\"../../config.js\";import\"../../intl.js\";import{fullVersion as t}from\"../../kernel.js\";import has from\"../has.js\";import o from\"../Logger.js\";import{makeAbsolute as s}from\"../urlUtils.js\";import{loaderConfig as n}from\"./loaderConfig.js\";import{receiveMessage as a,MessageType as i}from\"./utils.js\";import l from\"./WorkerFallback.js\";import{getLocale as f}from\"../../intl/locale.js\";import{buildDate as u,commitHash as c}from\"../../support/revision.js\";const d=()=>o.getLogger(\"esri.core.workers.workerFactory\"),{HANDSHAKE:m}=i,p='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener(\"abort\",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener(\"abort\",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}\"function\"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';let g,h;const k=\"Failed to create Worker. Fallback to execute module in main thread\";async function y(){if(!has(\"esri-workers\"))return w(new l);if(!g&&!h)try{const e=p.split(\"{CONFIGURATION}\").join(b());g=URL.createObjectURL(new Blob([e],{type:\"text/javascript\"}))}catch(r){h=r||{}}let e;if(g)try{e=new Worker(g,{name:\"esri-worker-\"+v++})}catch(r){d().warn(k,h),e=new l}else d().warn(k,h),e=new l;return w(e)}async function w(e){return new Promise((r=>{function t(s){const n=a(s);n&&n.type===m&&(e.removeEventListener(\"message\",t),e.removeEventListener(\"error\",o),r(e))}function o(r){r.preventDefault(),e.removeEventListener(\"message\",t),e.removeEventListener(\"error\",o),d().warn(\"Failed to create Worker. Fallback to execute module in main thread\",r),(e=new l).addEventListener(\"message\",t),e.addEventListener(\"error\",o)}e.addEventListener(\"message\",t),e.addEventListener(\"error\",o)}))}function b(){let o;if(null!=r.default){const e={...r};delete e.default,o=JSON.parse(JSON.stringify(e))}else o=JSON.parse(JSON.stringify(r));o.assetsPath=s(o.assetsPath),o.defaultAssetsPath=o.defaultAssetsPath?s(o.defaultAssetsPath):void 0,o.request.interceptors=[],o.log.interceptors=[],o.locale=f(),o.has={\"esri-csp-restrictions\":has(\"esri-csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":has(\"esri-2d-update-debug\"),\"esri-2d-log-updating\":has(\"esri-2d-log-updating\"),\"featurelayer-pbf\":has(\"featurelayer-pbf\"),\"featurelayer-fast-triangulation-enabled\":has(\"featurelayer-fast-triangulation-enabled\"),\"featurelayer-simplify-thresholds\":has(\"featurelayer-simplify-thresholds\"),\"featurelayer-simplify-payload-size-factors\":has(\"featurelayer-simplify-payload-size-factors\"),\"featurelayer-simplify-mobile-factor\":has(\"featurelayer-simplify-mobile-factor\"),\"featurelayer-query-max-depth\":has(\"featurelayer-query-max-depth\"),\"featurelayer-query-pausing-enabled\":has(\"featurelayer-query-pausing-enabled\"),\"featurelayer-snapshot-enabled\":has(\"featurelayer-snapshot-enabled\"),\"esri-atomics\":has(\"esri-atomics\"),\"esri-shared-array-buffer\":has(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":has(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":has(\"esri-workers-arraybuffer-transfer\"),\"feature-polyline-generalization-factor\":has(\"feature-polyline-generalization-factor\"),\"host-webworker\":1},o.workers.loaderUrl&&(o.workers.loaderUrl=s(o.workers.loaderUrl)),o.workers.workerPath?o.workers.workerPath=s(o.workers.workerPath):o.workers.workerPath=s(e(\"esri/core/workers/RemoteClient.js\")),o.workers.useDynamicImport=!1;const a=r.workers.loaderConfig,i=n({baseUrl:a?.baseUrl,locale:f(),has:{\"csp-restrictions\":1,\"dojo-test-sniff\":0,\"host-webworker\":1,...a?.has},map:{...a?.map},paths:{...a?.paths},packages:a?.packages||[]}),l={buildDate:u,fullVersion:t,revision:c};return JSON.stringify({esriConfig:o,loaderConfig:i,kernelInfo:l})}let v=0;export{y as createWorker};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../Error.js\";import has from\"../has.js\";import{throwIfAborted as t}from\"../promiseUtils.js\";import e from\"./Connection.js\";import{register as o}from\"./connectionRegistry.js\";import n from\"./RemoteClient.js\";import i from\"./WorkerOwner.js\";const s=has(\"host-browser\")?Math.min(navigator.hardwareConcurrency-1,has(\"workers-pool-size\")??8):0;let a=has(\"esri-mobile\")?Math.min(s,3):s;a||(a=has(\"safari\")&&has(\"mac\")?7:2);let c=0;const l=[];function m(){g()}function u(r,t){return f(r,{client:t})}async function f(r,t){const n=new e,{registryTarget:i,...s}=t;return await n.open(r,s),i&&o(i,n),n}async function p(e,o={}){if(\"string\"!=typeof e)throw new r(\"workers:undefined-module\",\"modulePath is missing\");let i=o.strategy||\"distributed\";if(has(\"host-webworker\")&&!has(\"esri-workers\")&&(i=\"local\"),\"local\"===i){let r=await n.loadWorker(e);r||(r=await import(/* @vite-ignore */ /* webpackIgnore: true */e)),t(o.signal);const i=o.client||r;return f([n.connect(r,o.schedule)],{...o,client:i})}if(await g(),t(o.signal),\"dedicated\"===i){const r=c++%a;return f([await l[r].open(e,o)],o)}if(o.maxNumWorkers&&o.maxNumWorkers>0){const r=Math.min(o.maxNumWorkers,a);if(r<a){const t=new Array(r);for(let n=0;n<r;++n){const r=c++%a;t[n]=l[r].open(e,o)}return f(t,o)}}return f(l.map((r=>r.open(e,o))),o)}function w(){d&&(h.abort(),d=null);for(let r=0;r<l.length;r++)l[r]&&l[r].terminate();l.length=0}let h,d=null;async function g(){if(d)return d;h=new AbortController;const r=[];for(let t=0;t<a;t++){const e=i.create(t).then((r=>(l[t]=r,r)));r.push(e)}return d=Promise.all(r),d}export{e as Connection,n as RemoteClient,m as initialize,p as open,u as openWithPorts,w as terminate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{removeUnordered as t}from\"../core/arrayUtils.js\";import{strict as r}from\"../core/jsonMap.js\";import{JSONSupport as o}from\"../core/JSONSupport.js\";import{unitFromRESTJSON as i,getVerticalUnitStringForSR as s}from\"../core/unitUtils.js\";import n from\"../core/Warning.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";var d;const p=r()({orthometric:\"gravity-related-height\",gravity_related_height:\"gravity-related-height\",ellipsoidal:\"ellipsoidal\"}),u=p.jsonValues.slice();t(u,\"orthometric\");const g=r()({meter:\"meters\",foot:\"feet\",\"us-foot\":\"us-feet\",\"clarke-foot\":\"clarke-feet\",\"clarke-yard\":\"clarke-yards\",\"clarke-link\":\"clarke-links\",\"sears-yard\":\"sears-yards\",\"sears-foot\":\"sears-feet\",\"sears-chain\":\"sears-chains\",\"benoit-1895-b-chain\":\"benoit-1895-b-chains\",\"indian-yard\":\"indian-yards\",\"indian-1937-yard\":\"indian-1937-yards\",\"gold-coast-foot\":\"gold-coast-feet\",\"sears-1922-truncated-chain\":\"sears-1922-truncated-chains\",\"50-kilometers\":\"50-kilometers\",\"150-kilometers\":\"150-kilometers\"});let m=d=class extends o{constructor(e){super(e),this.heightModel=\"gravity-related-height\",this.heightUnit=\"meters\",this.vertCRS=null}writeHeightModel(e,t,r){return p.write(e,t,r)}readHeightModel(e,t,r){const o=p.read(e);return o||(r?.messages&&r.messages.push(f(e,{context:r})),null)}readHeightUnit(e,t,r){const o=g.read(e);return o||(r?.messages&&r.messages.push(y(e,{context:r})),null)}readHeightUnitService(e,t,r){const o=i(e)||g.read(e);return o||(r?.messages&&r.messages.push(y(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new d({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=s(t);return new d({heightModel:e.heightModel,heightUnit:r??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:\"web-scene\",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new d;return t.read(e,{origin:\"web-scene\"}),t}};function y(e,t){return new n(\"height-unit:unsupported\",`Height unit of value '${e}' is not supported`,t)}function f(e,t){return new n(\"height-model:unsupported\",`Height model of value '${e}' is not supported`,t)}e([a({type:p.apiValues,constructOnly:!0,json:{origins:{\"web-scene\":{type:u,default:\"ellipsoidal\"}}}})],m.prototype,\"heightModel\",void 0),e([c(\"web-scene\",\"heightModel\")],m.prototype,\"writeHeightModel\",null),e([l([\"web-scene\",\"service\"],\"heightModel\")],m.prototype,\"readHeightModel\",null),e([a({type:g.apiValues,constructOnly:!0,json:{origins:{\"web-scene\":{type:g.jsonValues,write:g.write}}}})],m.prototype,\"heightUnit\",void 0),e([l(\"web-scene\",\"heightUnit\")],m.prototype,\"readHeightUnit\",null),e([l(\"service\",\"heightUnit\")],m.prototype,\"readHeightUnitService\",null),e([a({type:String,constructOnly:!0,json:{origins:{\"web-scene\":{write:!0}}}})],m.prototype,\"vertCRS\",void 0),e([l(\"service\",\"vertCRS\",[\"vertCRS\",\"ellipsoid\",\"geoid\"])],m.prototype,\"readVertCRS\",null),m=d=e([h(\"esri.geometry.HeightModelInfo\")],m);const v=m;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{nativeArrayMaxSize as r}from\"../../core/typedArrayUtil.js\";function n(n,e=!1){return n<=r?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}export{n as newUintArray,e as uintSubArray};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{releaseMaybe as i}from\"../core/maybe.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as s,throwIfAborted as a}from\"../core/promiseUtils.js\";import{objectToQuery as p}from\"../core/urlUtils.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as n}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as c}from\"../core/accessorSupport/decorators/subclass.js\";import d from\"../geometry/HeightModelInfo.js\";import u from\"./Layer.js\";import{ArcGISCachedService as y}from\"./mixins/ArcGISCachedService.js\";import{ArcGISService as m}from\"./mixins/ArcGISService.js\";import{OperationalLayer as h}from\"./mixins/OperationalLayer.js\";import{PortalLayer as v}from\"./mixins/PortalLayer.js\";import{url as f}from\"./support/commonProperties.js\";import{ElevationTileData as g}from\"./support/ElevationTileData.js\";import{acquireDecoder as j}from\"./support/LercDecoder.js\";let w=class extends(y(m(h(v(o(u)))))){constructor(...e){super(...e),this.capabilities={operations:{supportsTileMap:!1}},this.copyright=null,this.heightModelInfo=null,this.path=null,this.minScale=void 0,this.maxScale=void 0,this.opacity=1,this.operationalLayerType=\"ArcGISTiledElevationServiceLayer\",this.sourceJSON=null,this.type=\"elevation\",this.url=null,this.version=null,this._lercDecoder=j()}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}destroy(){this._lercDecoder=i(this._lercDecoder)}readCapabilities(e,r){const t=r.capabilities&&r.capabilities.split(\",\").map((e=>e.toLowerCase().trim()));if(!t)return{operations:{supportsTileMap:!1}};return{operations:{supportsTileMap:t.includes(\"tilemap\")}}}readVersion(e,r){let t=r.currentVersion;return t||(t=9.3),t}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Image Service\"],supportsData:!1,validateItem:e=>{if(e.typeKeywords)for(let r=0;r<e.typeKeywords.length;r++)if(\"elevation 3d layer\"===e.typeKeywords[r].toLowerCase())return!0;throw new t(\"portal:invalid-layer-item-type\",\"Invalid layer item type '${type}', expected '${expectedType}' \",{type:\"Image Service\",expectedType:\"Image Service Elevation 3D Layer\"})}},e).catch(s).then((()=>this._fetchImageService(r)))),Promise.resolve(this)}fetchTile(e,t,i,o){const s=null!=(o=o||{signal:null}).signal?o.signal:o.signal=(new AbortController).signal,a={responseType:\"array-buffer\",signal:s},p={noDataValue:o.noDataValue,returnFileInfo:!0};return this.load().then((()=>this._fetchTileAvailability(e,t,i,o))).then((()=>r(this.getTileUrl(e,t,i),a))).then((e=>this._lercDecoder.decode(e.data,p,s))).then((e=>new g(e)))}getTileUrl(e,r,t){const i=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,o=p({...this.parsedUrl.query,blankTile:!i&&null});return`${this.parsedUrl.path}/tile/${e}/${r}/${t}${o?\"?\"+o:\"\"}`}async queryElevation(e,r){const{ElevationQuery:t}=await import(/* webpackChunkName: \"support-ElevationQuery\" */ \"./support/ElevationQuery.js\");a(r);return(new t).query(this,e,r)}async createElevationSampler(e,r){const{ElevationQuery:t}=await import(/* webpackChunkName: \"support-ElevationQuery\" */ \"./support/ElevationQuery.js\");a(r);return(new t).createSampler(this,e,r)}_fetchTileAvailability(e,r,t,i){return this.tilemapCache?this.tilemapCache.fetchAvailability(e,r,t,i):Promise.resolve(\"unknown\")}async _fetchImageService(e){if(this.sourceJSON)return this.sourceJSON;const t={query:{f:\"json\",...this.parsedUrl.query},responseType:\"json\",signal:e},i=await r(this.parsedUrl.path,t);i.ssl&&(this.url=this.url?.replace(/^http:/i,\"https:\")),this.sourceJSON=i.data,this.read(i.data,{origin:\"service\",url:this.parsedUrl})}get hasOverriddenFetchTile(){return!this.fetchTile[S]}};e([l({readOnly:!0})],w.prototype,\"capabilities\",void 0),e([n(\"service\",\"capabilities\",[\"capabilities\"])],w.prototype,\"readCapabilities\",null),e([l({json:{read:{source:\"copyrightText\"}}})],w.prototype,\"copyright\",void 0),e([l({readOnly:!0,type:d})],w.prototype,\"heightModelInfo\",void 0),e([l({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],w.prototype,\"path\",void 0),e([l({type:[\"show\",\"hide\"]})],w.prototype,\"listMode\",void 0),e([l({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}},readOnly:!0})],w.prototype,\"minScale\",void 0),e([l({json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}},readOnly:!0})],w.prototype,\"maxScale\",void 0),e([l({json:{read:!1,write:!1,origins:{\"web-document\":{read:!1,write:!1}}}})],w.prototype,\"opacity\",void 0),e([l({type:[\"ArcGISTiledElevationServiceLayer\"]})],w.prototype,\"operationalLayerType\",void 0),e([l()],w.prototype,\"sourceJSON\",void 0),e([l({json:{read:!1},value:\"elevation\",readOnly:!0})],w.prototype,\"type\",void 0),e([l(f)],w.prototype,\"url\",void 0),e([l()],w.prototype,\"version\",void 0),e([n(\"version\",[\"currentVersion\"])],w.prototype,\"readVersion\",null),w=e([c(\"esri.layers.ElevationLayer\")],w);const S=Symbol(\"default-fetch-tile\");w.prototype.fetchTile[S]=!0;const T=w;export{T as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as r}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../support/TileInfo.js\";import i from\"../support/TileInfoTilemapCache.js\";import{TilemapCache as s}from\"../support/TilemapCache.js\";import a from\"../../geometry/SpatialReference.js\";const p=p=>{let n=class extends p{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}readMaxScale(e,o){return null!=o.minLOD&&null!=o.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,o,r){const t=o.capabilities?.includes(\"Tilemap\");let{minLOD:a,maxLOD:p,minScale:n,maxScale:c}=o;if(null==a&&null==p&&0!==n&&0!==c){const e=e=>Math.round(1e4*e)/1e4;n=e(n||o.tileInfo.lods[0].scale),c=e(c||o.tileInfo.lods[o.tileInfo.lods.length-1].scale);for(const r of o.tileInfo.lods){const o=e(r.scale);a=o>=n?r.level:a,p=o>=c?r.level:p}}if(t)return new s({layer:this,minLOD:a,maxLOD:p});if(o.tileInfo){const e=new l;return e.read(o.tileInfo,r),new i(e,a,p)}return null}};return e([o({json:{read:{source:\"copyrightText\"}}})],n.prototype,\"copyright\",void 0),e([o()],n.prototype,\"minScale\",void 0),e([r(\"service\",\"minScale\")],n.prototype,\"readMinScale\",null),e([o()],n.prototype,\"maxScale\",void 0),e([r(\"service\",\"maxScale\")],n.prototype,\"readMaxScale\",null),e([o({type:a})],n.prototype,\"spatialReference\",void 0),e([o({readOnly:!0})],n.prototype,\"supportsBlankTile\",null),e([o({type:l})],n.prototype,\"tileInfo\",void 0),e([o()],n.prototype,\"tilemapCache\",void 0),e([r(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],n.prototype,\"readTilemapCache\",null),e([o()],n.prototype,\"version\",void 0),n=e([t(\"esri.layers.mixins.ArcGISCachedService\")],n),n};export{p as ArcGISCachedService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Logger.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as i,sanitizeUrl as o}from\"../support/arcgisLayerUrl.js\";const l=l=>{let p=class extends l{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(null!=t&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",o(t,r.getLogger(this)))}};return t([e()],p.prototype,\"title\",null),t([e({type:String})],p.prototype,\"url\",null),p=t([s(\"esri.layers.mixins.ArcGISService\")],p),p};export{l as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isBlobProtocol as t}from\"../../core/urlUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as o,Null as s}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{excludeTables as l}from\"../../core/accessorSupport/layerContainerType.js\";import{readLoadable as y}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as m}from\"../../core/accessorSupport/write.js\";import{supportedTypes as c}from\"./operationalLayers.js\";import{listMode as d,opacity as u}from\"../support/commonProperties.js\";import w from\"../../time/TimeExtent.js\";const b=b=>{let T=class extends b{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,r,t){return\"Group Layer\"===t?.portalItem?.type?void 0:e}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&m(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){e&&\"tables\"!==i?.layerContainerType&&(r.layerType=e)}writeTitle(e,r){r.title=e??\"Layer\"}readTimeExtent(e){return e?w.fromArray(e):null}writeTimeExtent(e,t,i,o){e&&\"tables\"!==o.layerContainerType&&(e.isEmpty?o?.messages&&o.messages.push(new r(\"layer:invalid-visibilityTimeExtent\",\"visibilityTimeExtent cannot be empty\")):t[i]=e.toArray())}read(e,r){r&&(r.layer=this),y(this,e,(r=>super.read(e,r)),r)}write(e,i){if(!this.persistenceEnabled&&!i?.ignorePersistenceEnabled)return null;if(i?.origin){const e=`${i.origin}/${i.layerContainerType||\"operational-layers\"}`,t=c[e];let o=!!t?.[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(o=!1),\"ArcGISDimensionLayer\"===this.operationalLayerType&&\"web-map/operational-layers\"===e&&(o=!1),!o)return i.messages?.push(new r(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const o=super.write(e,{...i,layer:this}),s=!!i&&!!i.messages&&!!i.messages.filter((e=>e instanceof r&&\"web-document-write:property-required\"===e.name)).length;return t(o?.url)?(i?.messages?.push(new r(\"layer:invalid-url\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:o}beforeSave(){}};return e([i({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],T.prototype,\"id\",void 0),e([n(\"id\",[\"id\"])],T.prototype,\"readId\",null),e([i(d)],T.prototype,\"listMode\",void 0),e([p(\"listMode\")],T.prototype,\"writeListMode\",null),e([i({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1},\"web-scene\":{name:\"layerType\",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:l}}}}})],T.prototype,\"operationalLayerType\",void 0),e([p(\"operationalLayerType\")],T.prototype,\"writeOperationalLayerType\",null),e([i(u)],T.prototype,\"opacity\",void 0),e([i({type:Boolean,readOnly:!1})],T.prototype,\"persistenceEnabled\",void 0),e([i({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],T.prototype,\"title\",void 0),e([p(\"title\"),p([\"web-scene\"],\"title\")],T.prototype,\"writeTitle\",null),e([i({type:w,json:{origins:{\"web-scene\":{write:{layerContainerTypes:l}}}}})],T.prototype,\"visibilityTimeExtent\",void 0),e([n(\"visibilityTimeExtent\")],T.prototype,\"readTimeExtent\",null),e([p([\"portal-item\",\"web-map\",\"web-scene\"],\"visibilityTimeExtent\",{visibilityTimeExtent:{type:[[o,s]]}})],T.prototype,\"writeTimeExtent\",null),e([i({type:Boolean,json:{origins:{\"web-scene\":{name:\"visibility\",write:{enabled:!0,layerContainerTypes:l}}},name:\"visibility\",write:!0}})],T.prototype,\"visible\",void 0),T=e([a(\"esri.layers.mixins.OperationalLayer\")],T),T};function T(e){return\"operationalLayerType\"in e}export{b as OperationalLayer,T as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../config.js\";import{id as r}from\"../../kernel.js\";import s from\"../../request.js\";import{result as i}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{destroyMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as u}from\"../../core/promiseUtils.js\";import{hasSameCanonicalPortal as c,normalize as d,hasSamePortal as m}from\"../../core/urlUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as f}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import{getOwningPortalUrl as I}from\"../support/layerUtils.js\";import v from\"../../portal/Portal.js\";import P from\"../../portal/PortalItem.js\";import w from\"../../portal/PortalUser.js\";import{getUserPrivileges as U}from\"../../portal/support/portalItemUtils.js\";const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=l(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new P({id:e.itemId,portal:r?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:r}=await import(/* webpackChunkName: \"portal-support-layersLoader\" */ \"../../portal/support/layersLoader.js\");return n(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw p(r)||a.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(t).catch((t=>(u(t),!0))))}async setUserPrivileges(t,r){if(!e.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set(\"userHasEditingPrivileges\",e),this._set(\"userHasFullEditingPrivileges\",s),this._set(\"userHasUpdateItemPrivileges\",i)}catch(s){u(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return U(s);let o,a;if(i)o=s.portal.url;else try{o=await I(this.url,e)}catch(d){u(d)}if(!o||!c(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(r?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(d){u(d)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new P({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return U(s)}catch(d){u(d)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){u(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?r?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s?.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=r?.findServerInfo(this.url??\"\");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=v.getDefault();if(l&&l.loaded&&d(l.restUrl)===d(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await i(s(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:p}));return u.ok?w.fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e?.portal,s=this.portalItem?.id&&(this.portalItem.portal||v.getDefault());return r&&s&&!m(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([h({type:P})],_.prototype,\"portalItem\",null),t([f(\"web-document\",\"portalItem\",[\"itemId\"])],_.prototype,\"readPortalItem\",null),t([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],_.prototype,\"writePortalItem\",null),t([h({clonable:!1})],_.prototype,\"resourceReferences\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasFullEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasUpdateItemPrivileges\",void 0),_=t([g(\"esri.layers.mixins.PortalLayer\")],_),_},E={credential:null,user:null};export{j as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},r={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},a={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},i={\"web-scene/operational-layers\":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/basemap\":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-scene/tables\":{ArcGISFeatureLayer:!0},\"web-map/operational-layers\":e,\"web-map/basemap\":r,\"web-map/tables\":a,\"link-chart/operational-layers\":{...e,LinkChartLayer:!0},\"link-chart/basemap\":r,\"link-chart/tables\":a,\"portal-item/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};export{i as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass a{constructor(a,t,s,e){this._hasNoDataValues=null,this._minValue=null,this._maxValue=null,\"pixelData\"in a?(this.values=a.pixelData,this.width=a.width,this.height=a.height,this.noDataValue=a.noDataValue):(this.values=a,this.width=t,this.height=s,this.noDataValue=e)}get hasNoDataValues(){if(null==this._hasNoDataValues){const a=this.noDataValue;this._hasNoDataValues=this.values.includes(a)}return this._hasNoDataValues}get minValue(){return this._ensureBounds(),this._minValue}get maxValue(){return this._ensureBounds(),this._maxValue}_ensureBounds(){if(null!=this._minValue)return;const{noDataValue:a,values:t}=this;let s=1/0,e=-1/0,i=!0;for(const u of t)u===a?this._hasNoDataValues=!0:(s=u<s?u:s,e=u>e?u:e,i=!1);i?(this._minValue=0,this._maxValue=0):(this._minValue=s,this._maxValue=e>-3e38?e:0)}}export{a as ElevationTileData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as t}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var i;let l=i=class extends o{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};e([r({json:{write:!0,origins:{\"web-document\":{read:!1,write:!1},\"portal-item\":{read:!1,write:!1}}}})],l.prototype,\"cols\",void 0),e([r({type:t,json:{write:!0}})],l.prototype,\"level\",void 0),e([r({type:String,json:{write:!0}})],l.prototype,\"levelValue\",void 0),e([r({json:{write:!0,origins:{\"web-document\":{read:!1,write:!1},\"portal-item\":{read:!1,write:!1}}}})],l.prototype,\"origin\",void 0),e([r({type:Number,json:{write:!0}})],l.prototype,\"resolution\",void 0),e([r({json:{write:!0,origins:{\"web-document\":{read:!1,write:!1},\"portal-item\":{read:!1,write:!1}}}})],l.prototype,\"rows\",void 0),e([r({type:Number,json:{write:!0}})],l.prototype,\"scale\",void 0),l=i=e([s(\"esri.layers.support.LOD\")],l);const p=l;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../core/workers/WorkerHandle.js\";class r extends e{constructor(e=null){super(\"LercWorker\",\"_decode\",{_decode:e=>[e.buffer]},e,{strategy:\"dedicated\"}),this.schedule=e,this.ref=0}decode(e,r,t){return e&&0!==e.byteLength?this.invoke({buffer:e,options:r},t):Promise.resolve(null)}release(){--this.ref<=0&&(t.forEach(((e,r)=>{e===this&&t.delete(r)})),this.destroy())}}const t=new Map;function s(e=null){let s=t.get(e);return s||(null!=e?(s=new r((r=>e.immediate.schedule(r))),t.set(e,s)):(s=new r,t.set(null,s))),++s.ref,s}export{s as acquireDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{JSONMap as t}from\"../../core/jsonMap.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{getMetersPerUnitForSR as s}from\"../../core/unitUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{reader as l}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import a from\"../../geometry/Point.js\";import c from\"../../geometry/SpatialReference.js\";import{create as u}from\"../../geometry/support/aaBoundingRect.js\";import{isValid as f,getInfo as h,isGeographic as m,equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{project as g}from\"../../geometry/support/webMercatorUtils.js\";import y from\"./LOD.js\";import{TileKey as v}from\"./TileKey.js\";var w;const x=new t({PNG:\"png\",PNG8:\"png8\",PNG24:\"png24\",PNG32:\"png32\",JPEG:\"jpg\",JPG:\"jpg\",DIB:\"dib\",TIFF:\"tiff\",EMF:\"emf\",PS:\"ps\",PDF:\"pdf\",GIF:\"gif\",SVG:\"svg\",SVGZ:\"svgz\",Mixed:\"mixed\",MIXED:\"mixed\",LERC:\"lerc\",LERC2D:\"lerc2d\",RAW:\"raw\",pbf:\"pbf\"});let j=w=class extends o{static create(e={}){const{resolutionFactor:t=1,scales:o,size:r=256,spatialReference:i=c.WebMercator,numLODs:l=24}=e;if(!f(i)){const e=[];if(o)for(let t=0;t<o.length;t++){const s=o[t];e.push(new y({level:t,scale:s,resolution:s}))}else{let t=5e-4;for(let o=l-1;o>=0;o--)e.unshift(new y({level:o,scale:t,resolution:t})),t*=2}return new w({dpi:96,lods:e,origin:new a(0,0,i),size:[r,r],spatialReference:i})}const n=h(i),p=e.origin?new a({x:e.origin.x,y:e.origin.y,spatialReference:i}):new a(n?{x:n.origin[0],y:n.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),u=96,d=1/(s(i)*39.37*u),g=[];if(o)for(let s=0;s<o.length;s++){const e=o[s],t=e*d;g.push(new y({level:s,scale:e,resolution:t}))}else{let e=m(i)?512/r*591657527.5917094:256/r*591657527.591555;const o=Math.ceil(l/t);g.push(new y({level:0,scale:e,resolution:e*d}));for(let s=1;s<o;s++){const o=e/2**t,r=o*d;g.push(new y({level:s,scale:o,resolution:r})),e=o}}return new w({dpi:u,lods:g,origin:p,size:[r,r],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=h(e);return e.isWrappable&&!!o&&Math.abs(o.origin[0]-t.x)<=o.dx}return!1}readOrigin(e,t){return a.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const s=[],r=this._levelToLOD={};e&&(t=-1/0,o=1/0,e.forEach((e=>{s.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,r[e.level]=e}))),this._set(\"scales\",s),this._set(\"lods\",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const o=Math.floor(e),s=o+1;return t[o]/(t[o]/t[s])**(e-o)}scaleToZoom(e){const t=this.scales,o=t.length-1;let s=0;for(;s<o;s++){const o=t[s],r=t[s+1];if(o<=e)return s;if(r===e)return s+1;if(o>e&&r<e)return s+Math.log(o/e)/Math.log(o/r)}return s}tileAt(e,t,o,s){const r=this.lodAt(e);if(!r)return null;let i,l;if(\"number\"==typeof t)i=t,l=o;else if(d(t.spatialReference,this.spatialReference))i=t.x,l=t.y,s=o;else{const e=g(t,this.spatialReference);if(null==e)return null;i=e.x,l=e.y,s=o}const n=r.resolution*this.size[0],p=r.resolution*this.size[1];return s||(s=new v(null,0,0,0,u())),s.level=e,s.row=Math.floor((this.origin.y-l)/p+.001),s.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(s),s}updateTileInfo(e,t=w.ExtrapolateOptions.NONE){let o=this.lodAt(e.level);if(!o&&t===w.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t)}if(!o)return;const s=e.level-o.level,r=o.resolution*this.size[0]/2**s,i=o.resolution*this.size[1]/2**s;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=u()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+i}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const o=this.lodAt(t.level);if(null==o)return null;const{resolution:s}=o,r=s*this.size[0],i=s*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+r,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return w.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const o=[],s=this.lods.length-t;for(let r=0;r<s;r++){const e=r+t,{scale:s,resolution:i}=e>=0?this.lods[e]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};o.push(new y({level:r,scale:s,resolution:i}))}return new w({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:o})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const s=e[o];this._upsampleLevels[s.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/s.resolution:0},t=s}}};e([r({type:Number,json:{write:!0}})],j.prototype,\"compressionQuality\",void 0),e([r({type:Number,json:{write:!0}})],j.prototype,\"dpi\",void 0),e([r({type:String,json:{read:x.read,write:x.write,origins:{\"web-scene\":{read:!1,write:!1}}}})],j.prototype,\"format\",void 0),e([r({readOnly:!0})],j.prototype,\"isWrappable\",null),e([r({type:a,json:{write:!0}})],j.prototype,\"origin\",void 0),e([l(\"origin\")],j.prototype,\"readOrigin\",null),e([r({type:[y],value:null,json:{write:!0}})],j.prototype,\"lods\",null),e([r({readOnly:!0})],j.prototype,\"scales\",void 0),e([r({cast:e=>Array.isArray(e)?e:\"number\"==typeof e?[e,e]:[256,256]})],j.prototype,\"size\",void 0),e([l(\"size\",[\"rows\",\"cols\"])],j.prototype,\"readSize\",null),e([p(\"size\",{cols:{type:i},rows:{type:i}})],j.prototype,\"writeSize\",null),e([r({type:c,json:{write:!0}})],j.prototype,\"spatialReference\",void 0),j=w=e([n(\"esri.layers.support.TileInfo\")],j),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]=\"NONE\",t[t.POWER_OF_TWO=1]=\"POWER_OF_TWO\"}(j||(j={}));const z=j;export{z as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport l from\"../../core/Error.js\";import{waitTick as t,isAbortError as i}from\"../../core/promiseUtils.js\";class e{constructor(l,t=0,i=l.lods[l.lods.length-1].level){this.tileInfo=l,this.minLOD=t,this.maxLOD=i,l.lodAt(t)||(this.minLOD=l.lods[0].level),l.lodAt(i)||(this.maxLOD=l.lods[l.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(l,t,i){const e=this.tileInfo?.lodAt(l);return!e||l<this.minLOD||l>this.maxLOD?\"unavailable\":e.cols&&e.rows?i>=e.cols[0]&&i<=e.cols[1]&&t>=e.rows[0]&&t<=e.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(i,e,o,s){await t(s);const a=this.getAvailability(i,e,o);if(\"unavailable\"===a)throw new l(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:i,row:e,col:o});return a}async fetchAvailabilityUpsample(l,e,o,s,a){await t(a),s.level=l,s.row=e,s.col=o;const n=this.tileInfo;return n.updateTileInfo(s),this.fetchAvailability(l,e,o,a).catch((l=>{if(i(l))throw l;if(n.upsampleTile(s))return this.fetchAvailabilityUpsample(s.level,s.row,s.col,s,a);throw l}))}}export{e as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,i,o,e=void 0){this.id=t,this.level=s,this.row=i,this.col=o,this.extent=e}}export{t as TileKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport t from\"../../request.js\";import i from\"../../core/Error.js\";import{clone as e}from\"../../core/lang.js\";import{estimateSize as a}from\"../../core/typedArrayUtil.js\";import{newUintArray as o}from\"../../geometry/support/UintArray.js\";class l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze(e(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=o(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability=\"unavailable\",this.byteSize=40):h?(this._availability=\"available\",this.byteSize=40):(this._availability=f,this.byteSize=40+a(f))}getAvailability(t,i){if(\"unavailable\"===this._availability||\"available\"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?\"unknown\":l[o]&1<<a?\"available\":\"unavailable\"}static fromDefinition(e,a){const o=e.service.request||t,{row:r,col:s,width:h,height:c}=e,m={query:{f:\"json\"}};return a=a?{...m,...a}:m,o(n(e),a).then((t=>t.data)).catch((t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t})).then((t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new i(\"tilemap:location-mismatch\",\"Tilemap response for different location than requested\",{response:t,definition:{top:r,left:s,width:h,height:c}});return l.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new l(t))}}function r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new i(\"tilemap:missing-location\",\"Location missing from tilemap response\");if(!1===t.valid)throw new i(\"tilemap:invalid\",\"Tilemap response was marked as invalid\");if(!t.data)throw new i(\"tilemap:missing-data\",\"Data missing from tilemap response\");if(!Array.isArray(t.data))throw new i(\"tilemap:data-mismatch\",\"Data must be an array of numbers\");if(t.data.length!==t.location.width*t.location.height)throw new i(\"tilemap:data-mismatch\",\"Number of data items does not match width/height of tilemap\")}export{l as Tilemap,r as tilemapDefinitionId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import i from\"../../core/Accessor.js\";import{ByteSizeUnit as r}from\"../../core/ByteSizeUnit.js\";import s from\"../../core/Error.js\";import{makeHandle as l}from\"../../core/handleUtils.js\";import\"../../core/has.js\";import{LRUCache as o}from\"../../core/LRUCache.js\";import a from\"../../core/PooledArray.js\";import{isAbortError as n,isAborted as c,onAbort as h,createAbortError as p}from\"../../core/promiseUtils.js\";import{watch as m,initial as f}from\"../../core/reactiveUtils.js\";import{waitTicks as u}from\"../../core/scheduling.js\";import{objectToQuery as v}from\"../../core/urlUtils.js\";import{property as y}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{TileKey as _}from\"./TileKey.js\";import{Tilemap as b,tilemapDefinitionId as g}from\"./Tilemap.js\";var j;function w(e,t,i){return new s(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:e,row:t,col:i})}let T=j=class extends i{constructor(e){super(e),this._pendingTilemapRequests={},this.request=t,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new o(2*r.MEGABYTES),this.addHandles(m((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),f))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return\"unavailable\";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):\"unknown\"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(w(e,t,i)):this._fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof b){const s=r.getAvailability(t,i);if(\"unavailable\"===s)throw w(e,t,i);return s}if(n(r))throw r;return\"unknown\"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if(n(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let h=!1;const p=l((()=>{h||(h=!0,n.abort())}));if(this.addHandles(p,a),await u(10,n.signal).catch((()=>{})),h||(h=!0,this.removeHandles(a)),c(n))return;const m=new _(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;j._prefetches.length<j._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new s(\"tilemap-cache:level-unavailable\",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{h(a,(()=>t(p())));const i=g(l);let s=this._pendingTilemapRequests[i];if(!s){s=b.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:v({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=g(r);return this._tilemapCache.get(s)}get test(){}};T._maxPrefetch=4,T._prefetches=new a({initialSize:j._maxPrefetch}),e([y({constructOnly:!0})],T.prototype,\"layer\",void 0),e([y({constructOnly:!0})],T.prototype,\"minLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"maxLOD\",void 0),e([y({constructOnly:!0})],T.prototype,\"request\",void 0),e([y({constructOnly:!0})],T.prototype,\"size\",void 0),T=j=e([d(\"esri.layers.support.TilemapCache\")],T);export{T as TilemapCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{excludeTables as e}from\"../../core/accessorSupport/layerContainerType.js\";import r from\"../../geometry/Extent.js\";import n from\"../../geometry/SpatialReference.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import a from\"../../symbols/support/ElevationInfo.js\";import t from\"../../tables/AttributeTableTemplate.js\";import{transparencyToOpacity as o}from\"../../webdoc/support/opacityUtils.js\";const s={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},\"web-map\":{read:!1,write:!1}},name:\"screenSizePerspective\",write:{enabled:!0,layerContainerTypes:e}}},l={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,n){r[n]=!e}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:\"showLabels\",write:{enabled:!0,layerContainerTypes:e}}},y={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},d={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:{enabled:!0,layerContainerTypes:e}}},c={value:null,type:a,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:{enabled:!0,layerContainerTypes:e}}};function m(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={write:{enabled:!0,layerContainerTypes:e},read:!0},f={type:Number,json:{origins:{\"web-document\":w,\"portal-item\":{write:!0}}}},b={...f,json:{...f.json,origins:{\"web-document\":{...w,write:{enabled:!0,layerContainerTypes:e,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,n)=>n&&\"service\"!==n.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition?.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?o(r.layerDefinition.drawingInfo.transparency):void 0:o(r.drawingInfo.transparency)}}},g={type:r,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,i)=>{const a=r.fromJSON(e);return null!=i.spatialReference&&\"object\"==typeof i.spatialReference&&(a.spatialReference=n.fromJSON(i.spatialReference)),a}}}},read:!1}},u={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}},\"web-scene\":{name:\"layerDefinition.minScale\",write:{enabled:!0,layerContainerTypes:e}}},name:\"layerDefinition.minScale\",write:!0}},v={type:Number,json:{origins:{service:{write:{enabled:!1}},\"web-scene\":{name:\"layerDefinition.maxScale\",write:{enabled:!0,layerContainerTypes:e}}},name:\"layerDefinition.maxScale\",write:!0}},I={json:{write:{ignoreOrigin:!0,layerContainerTypes:e},origins:{\"web-map\":{read:!1,write:!1}}}},T={type:t,json:{name:\"attributeTableInfo\",write:!0,origins:{\"web-scene\":{read:!1,write:!1}}}};export{T as attributeTableTemplate,c as elevationInfo,u as id,p as labelsVisible,d as legendEnabled,I as listMode,v as maxScale,j as minScale,f as opacity,b as opacityDrawingInfo,l as popupEnabled,m as readOnlyService,g as sceneLayerFullExtent,s as screenSizePerspectiveEnabled,y as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as n}from\"../../geometry/support/webMercatorUtils.js\";async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return n(o);const s=r.WGS84;return await e(i,s),t(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,f.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function u(e,t,r){r?i(e,t):a(e,t)}async function l(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\",HOSTED_SERVICE:\"Hosted Service\",LOCAL_SCENE:\"ViewingMode-Local\",TILED_IMAGERY:\"Tiled Imagery\",GROUP_LAYER_MAP:\"Map\",ORIENTED_IMAGERY_LAYER:\"OrientedImageryLayer\"};function E(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes(\"features:user:edit\"),s=!!r&&!!o?.includes(\"features:user:fullEdit\");const c=\"update\"===n||\"admin\"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}export{i as addTypeKeyword,E as getUserPrivileges,l as getWGS84ExtentForItem,s as hasTypeKeyword,c as isHostedLayer,a as removeTypeKeyword,u as toggleTypeKeyword,f as typeKeyword};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{clone as r}from\"../core/lang.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../core/accessorSupport/decorators/cast.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import n from\"./elements/AttributeTableGroupElement.js\";import{ensureType as c,fromJSON as a,toJSON as i,buildTypeMaps as u}from\"./support/elements.js\";var d;const b=u(n);let j=d=class extends t{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return c(e,b)}readElements(e,t){return a(t.attributeTableElements,b)}writeElements(e,t){t.attributeTableElements=i(e,b)}clone(){return new d({elements:r(this.elements),orderByFields:this.orderByFields})}};e([o({json:{write:!0}})],j.prototype,\"elements\",void 0),e([s(\"elements\")],j.prototype,\"castElements\",null),e([l(\"elements\",[\"attributeTableElements\"])],j.prototype,\"readElements\",null),e([m(\"elements\")],j.prototype,\"writeElements\",null),e([o({type:[Object],json:{write:!0}})],j.prototype,\"orderByFields\",void 0),j=d=e([p(\"esri.tables.AttributeTableTemplate\")],j);const f=j;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./AttributeTableElement.js\";var s;let p=s=class extends o{constructor(t){super(t),this.displayType=\"auto\",this.type=\"attachment\"}clone(){return new s({description:this.description,displayType:this.displayType,label:this.label})}};t([e({type:[\"auto\"],json:{write:!0}})],p.prototype,\"displayType\",void 0),t([e({type:[\"attachment\"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,\"type\",void 0),p=s=t([r(\"esri.tables.elements.AttributeTableAttachmentElement\")],p);const a=p;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};t([e({type:String,json:{write:!0}})],s.prototype,\"description\",void 0),t([e({type:String,json:{write:!0}})],s.prototype,\"label\",void 0),t([e()],s.prototype,\"type\",void 0),s=t([r(\"esri.tables.elements.AttributeTableElement\")],s);const p=s;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./AttributeTableElement.js\";var s;let i=s=class extends o{constructor(e){super(e),this.fieldName=null,this.type=\"field\"}clone(){return new s({description:this.description,fieldName:this.fieldName,label:this.label})}};e([t({type:String,json:{write:!0}})],i.prototype,\"fieldName\",void 0),e([t({type:String,json:{read:!1,write:!0}})],i.prototype,\"type\",void 0),i=s=e([r(\"esri.tables.elements.AttributeTableFieldElement\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{clone as t}from\"../../core/lang.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"./AttributeTableElement.js\";import{ensureType as m,fromJSON as a,toJSON as c,buildTypeMaps as i}from\"../support/elements.js\";var u;let b=u=class extends n{constructor(e){super(e),this.elements=null,this.type=\"group\"}castElements(e){return m(e,d,!1)}readElements(e,t){return a(t.attributeTableElements,d,!1)}writeElements(e,t){t.attributeTableElements=c(e,d,!1)}clone(){return new u({description:this.description,elements:t(this.elements),label:this.label})}};e([r({json:{write:!0}})],b.prototype,\"elements\",void 0),e([s(\"elements\")],b.prototype,\"castElements\",null),e([o(\"elements\",[\"attributeTableElements\"])],b.prototype,\"readElements\",null),e([p(\"elements\")],b.prototype,\"writeElements\",null),e([r({type:String,json:{read:!1,write:!0}})],b.prototype,\"type\",void 0),b=u=e([l(\"esri.tables.elements.AttributeTableGroupElement\")],b);const d=i(b),j=b;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./AttributeTableElement.js\";var s;let i=s=class extends o{constructor(e){super(e),this.relationshipId=null,this.type=\"relationship\"}clone(){return new s({description:this.description,label:this.label,relationshipId:this.relationshipId})}};e([t({type:Number,json:{write:!0}})],i.prototype,\"relationshipId\",void 0),e([t({type:[\"relationship\"],json:{read:!1,write:!0}})],i.prototype,\"type\",void 0),i=s=e([r(\"esri.tables.elements.AttributeTableRelationshipElement\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ensureOneOfType as t}from\"../../core/accessorSupport/ensureType.js\";import e from\"../elements/AttributeTableAttachmentElement.js\";import p from\"../elements/AttributeTableElement.js\";import r from\"../elements/AttributeTableFieldElement.js\";import o from\"../elements/AttributeTableRelationshipElement.js\";function i(t){return{typesWithGroup:{base:p,key:\"type\",typeMap:{attachment:e,field:r,group:t,relationship:o}},typesWithoutGroup:{base:p,key:\"type\",typeMap:{attachment:e,field:r,relationship:o}}}}function n(t,e,p=!0){if(!t)return null;const r=p?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter((t=>r[t.type])).map((t=>r[t.type].fromJSON(t)))}function u(t,e,p=!0){if(!t)return null;const r=p?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter((t=>r[t.type])).map((t=>t.toJSON()))}function s(e,p,r=!0){return e?e.map((e=>t(r?p.typesWithGroup:p.typesWithoutGroup,e))):null}export{i as buildTypeMaps,s as ensureType,n as fromJSON,u as toJSON};\n"],"names":[],"sourceRoot":""}