"use strict";(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[9920],{31012:function(e,t,n){n.d(t,{A:function(){return d}});var r=n(53804),i=n(83525),o=n(50659),s=n(75743),a=n(88781),u=n(30905),c=n(23502),l=(n(58941),n(40633),n(65953));let f=0,p=class extends((0,u.Te)((0,s.O)((0,a.sA)(i.A)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${f++}`,this.title=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":case"viewshed":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}get isEditable(){return this.requiredPropertiesForEditing.every(o.Ru)}};(0,r._)([(0,c.MZ)({type:String,constructOnly:!0,clonable:!1})],p.prototype,"id",void 0),(0,r._)([(0,c.MZ)({type:String})],p.prototype,"title",void 0),(0,r._)([(0,c.MZ)({clonable:!1,value:null})],p.prototype,"parent",null),(0,r._)([(0,c.MZ)({readOnly:!0})],p.prototype,"isEditable",null),p=(0,r._)([(0,l.$)("esri.analysis.Analysis")],p);const d=p},97922:function(e,t,n){n.d(t,{xH:function(){return s},N1:function(){return u}}),n(20551);var r=n(32501),i=n(79578),o=(n(38177),n(73364),n(24761),n(13794),n(50456));function s(e,t){return a(e)===a(t)}function a(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let n=null;return n=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==n?null:`o-${t}-${n}`}n(59356),o.R6,o.HE,o.R6,o.R6,n(89756),n(84363),(0,r.vt)();const u={json:{write:{writer:function(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};(0,i.vt)(),(0,r.vt)()},2075:function(e,t,n){n.d(t,{a:function(){return b},b:function(){return k},c:function(){return m},f:function(){return I},g:function(){return _},h:function(){return N},u:function(){return S}}),n(58941);var r=n(40633),i=n(15774),o=n(89736),s=n(73364),a=n(39714),u=n(20551),c=n(32501),l=n(87416),f=n(72485),p=n(73313),d=n(5596),g=n(79578),y=n(29531),h=n(50973);const v=()=>r.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function b(e=G){return{plane:(0,d.vt)(e.plane),origin:(0,c.o8)(e.origin),basis1:(0,c.o8)(e.basis1),basis2:(0,c.o8)(e.basis2)}}function m(e,t=b()){return I(e.origin,e.basis1,e.basis2,t)}function I(e,t,n,r=b()){return(0,u.c)(r.origin,e),(0,u.c)(r.basis1,t),(0,u.c)(r.basis2,n),S(r),function(e,t){Math.abs((0,u.f)(e.basis1,e.basis2)/((0,u.l)(e.basis1)*(0,u.l)(e.basis2)))>1e-6&&v().warn(t,"Provided basis vectors are not perpendicular"),Math.abs((0,u.f)(e.basis1,x(e)))>1e-6&&v().warn(t,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,u.f)(x(e),e.origin)-e.plane[3])>1e-6&&v().warn(t,"Plane offset is not consistent with plane origin")}(r,"fromValues()"),r}function S(e){(0,d.mR)(e.basis2,e.basis1,e.origin,e.plane)}function w(e,t,n){e!==n&&m(e,n);const r=(0,u.h)(h.rq.get(),x(e),t);return(0,u.g)(n.origin,n.origin,r),n.plane[3]-=t,n}function _(e,t=b()){const n=(e[2]-e[0])/2,r=(e[3]-e[1])/2;return(0,u.i)(t.origin,e[0]+n,e[1]+r,0),(0,u.i)(t.basis1,n,0,0),(0,u.i)(t.basis2,0,r,0),(0,d.fA)(0,0,1,0,t.plane),t}function M(e,t,n){return!!(0,d.Ui)(e.plane,t,n)&&q(e,n)}function T(e,t,n){const r=Z.get();C(e,t,r,Z.get());let o=Number.POSITIVE_INFINITY;for(const s of $){const a=P(e,s,U.get()),c=h.rq.get();if((0,d.T7)(r,a,c)){const e=(0,u.o)(h.rq.get(),t.origin,c),r=Math.abs((0,i.XM)((0,u.f)(t.direction,e)));r<o&&(o=r,(0,u.c)(n,c))}}return o===Number.POSITIVE_INFINITY?E(e,t,n):n}function E(e,t,n){if(M(e,t,n))return n;const r=Z.get(),i=Z.get();C(e,t,r,i);let o=Number.POSITIVE_INFINITY;for(const s of $){const a=P(e,s,U.get()),c=h.rq.get();if((0,d.gv)(r,a,c)){const e=(0,g.kb)(t,c);if(!(0,d.Tj)(i,c))continue;e<o&&(o=e,(0,u.c)(n,c))}}return O(e,t.origin)<o&&A(e,t.origin,n),n}function A(e,t,n){const r=(0,d._I)(e.plane,t,h.rq.get()),i=(0,p.H6)(R(e,e.basis1),r,-1,1,h.rq.get()),o=(0,p.H6)(R(e,e.basis2),r,-1,1,h.rq.get());return(0,u.d)(n,(0,u.g)(h.rq.get(),i,o),e.origin),n}function L(e,t,n){const{origin:r,basis1:i,basis2:o}=e,s=(0,u.d)(h.rq.get(),t,r),a=(0,y.gr)(i,s),c=(0,y.gr)(o,s),l=(0,y.gr)(x(e),s);return(0,u.i)(n,a,c,l)}function O(e,t){const n=L(e,t,h.rq.get()),{basis1:r,basis2:i}=e,o=(0,u.l)(r),s=(0,u.l)(i),a=Math.max(Math.abs(n[0])-o,0),c=Math.max(Math.abs(n[1])-s,0),l=n[2];return a*a+c*c+l*l}function N(e,t){return Math.sqrt(O(e,t))}function j(e,t){const n=-e.plane[3];return(0,y.gr)(x(e),t)-n}function x(e){return(0,d.Qj)(e.plane)}function q(e,t){const n=(0,u.d)(h.rq.get(),t,e.origin),r=(0,u.k)(e.basis1),i=(0,u.k)(e.basis2),o=(0,u.f)(e.basis1,n),s=(0,u.f)(e.basis2,n);return-o-r<0&&o-r<0&&-s-i<0&&s-i<0}function R(e,t){const n=U.get();return(0,u.c)(n.origin,e.origin),(0,u.c)(n.vector,t),n}function P(e,t,n){const{basis1:r,basis2:i,origin:o}=e,s=(0,u.h)(h.rq.get(),r,t.origin[0]),a=(0,u.h)(h.rq.get(),i,t.origin[1]);(0,u.g)(n.origin,s,a),(0,u.g)(n.origin,n.origin,o);const c=(0,u.h)(h.rq.get(),r,t.direction[0]),l=(0,u.h)(h.rq.get(),i,t.direction[1]);return(0,u.h)(n.vector,(0,u.g)(c,c,l),2),n}function C(e,t,n,r){const i=x(e);(0,d.mR)(i,t.direction,t.origin,n),(0,d.mR)((0,d.Qj)(n),i,t.origin,r)}const G={plane:(0,d.vt)(),origin:(0,c.fA)(0,0,0),basis1:(0,c.fA)(1,0,0),basis2:(0,c.fA)(0,1,0)},Z=new o.I(d.vt),U=new o.I(p.vt),D=(0,c.vt)(),F=new o.I((()=>b())),$=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],V=(0,a.vt)(),B=(0,a.vt)(),k=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:class{constructor(){this.plane=(0,d.vt)(),this.origin=(0,c.vt)(),this.basis1=(0,c.vt)(),this.basis2=(0,c.vt)()}},altitudeAt:j,axisAt:function(e,t,n,r){return function(e,t,n){switch(t){case f._.X:(0,u.c)(n,e.basis1),(0,u.n)(n,n);break;case f._.Y:(0,u.c)(n,e.basis2),(0,u.n)(n,n);break;case f._.Z:(0,u.c)(n,x(e))}return n}(e,n,r)},cameraFrustumCoverage:function(e,t){return(t-e)/t},closestPoint:E,closestPointOnSilhouette:T,copy:m,copyWithoutVerify:function(e,t){(0,u.c)(t.origin,e.origin),(0,u.c)(t.basis1,e.basis1),(0,u.c)(t.basis2,e.basis2),(0,d.C)(t.plane,e.plane)},create:b,distance:N,distance2:O,distanceToSilhouette:function(e,t){let n=Number.NEGATIVE_INFINITY;for(const r of $){const i=P(e,r,U.get()),o=(0,p.kb)(i,t);o>n&&(n=o)}return Math.sqrt(n)},elevate:w,equals:function(e,t){return(0,u.p)(e.basis1,t.basis1)&&(0,u.p)(e.basis2,t.basis2)&&(0,u.p)(e.origin,t.origin)},extrusionContainsPoint:function(e,t){return(0,d.Tj)(e.plane,t)&&q(e,t)},fromAABoundingRect:_,fromValues:I,getExtent:function(e,t){const n=e.basis1[0],r=e.basis2[1],[i,o]=e.origin;return(0,l.fA)(i-n,o-r,i+n,o+r,t)},intersectRay:M,intersectRayClosestSilhouette:function(e,t,n){if(M(e,t,n))return n;const r=T(e,t,h.rq.get());return(0,u.g)(n,t.origin,(0,u.h)(h.rq.get(),t.direction,(0,u.j)(t.origin,r)/(0,u.l)(t.direction))),n},normal:x,projectPoint:A,projectPointLocal:L,rotate:function(e,t,n,r){return e!==r&&m(e,r),(0,s.$0)(B,t,n),(0,u.t)(r.basis1,e.basis1,B),(0,u.t)(r.basis2,e.basis2,B),S(r),r},setAltitudeAt:function(e,t,n,r){const i=j(e,t),o=(0,u.h)(D,x(e),n-i);return(0,u.g)(r,t,o),r},setExtent:function(e,t,n){return _(t,n),w(n,j(e,e.origin),n),n},transform:function(e,t,n){return e!==n&&m(e,n),(0,s.B8)(V,t),(0,s.mg)(V,V),(0,u.t)(n.basis1,e.basis1,V),(0,u.t)(n.basis2,e.basis2,V),(0,u.t)((0,d.Qj)(n.plane),(0,d.Qj)(e.plane),V),(0,u.t)(n.origin,e.origin,t),(0,d.mP)(n.plane,n.plane,n.origin),n},up:G,updateUnboundedPlane:S,wrap:function(e,t,n){const r=F.get();return r.origin=e,r.basis1=t,r.basis2=n,r.plane=(0,d.LV)(0,0,0,0),S(r),r}},Symbol.toStringTag,{value:"Module"}))},13794:function(e,t,n){n.d(t,{N:function(){return y},a:function(){return _},c:function(){return h},e:function(){return m},f:function(){return M},g:function(){return w},k:function(){return N},l:function(){return I},m:function(){return v},n:function(){return E},o:function(){return G},p:function(){return x},s:function(){return D},w:function(){return S}}),n(58941),n(40633);var r=n(15774),i=n(73364),o=n(20551),s=n(32501),a=n(33400),u=n(41546),c=n(8527),l=n(72485),f=n(79578);function p(e,t){const n=(0,o.l)(e),i=(0,r.YN)(e[2]/n),s=Math.atan2(e[1]/n,e[0]/n);return(0,o.i)(t,n,i,s),t}var d=n(29531),g=n(50973);const y=h();function h(){return(0,u.vt)()}const v=a.e,b=a.e;function m(e,t){return(0,a.c)(t,e)}function I(e,t){return(0,u.fA)(e[0],e[1],e[2],t)}function S(e){return e}function w(e){return e[3]}function _(e){return e}function M(e,t,n,r){return(0,u.fA)(e,t,n,r)}function T(e,t,n){if(null==t)return!1;if(!L(e,t,A))return!1;let{t0:r,t1:i}=A;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){const{origin:e,direction:i}=t;n[0]=e[0]+i[0]*r,n[1]=e[1]+i[1]*r,n[2]=e[2]+i[2]*r}return!0}function E(e,t,n){const r=(0,f.Cr)(t,n);if(!L(e,r,A))return[];const{origin:i,direction:a}=r,{t0:u,t1:l}=A,p=t=>{const n=(0,s.vt)();return(0,o.b)(n,i,a,t),x(e,n,n)};return Math.abs(u-l)<(0,c.FD)()?[p(u)]:[p(u),p(l)]}const A={t0:0,t1:0};function L(e,t,n){const{origin:r,direction:i}=t,o=O;o[0]=r[0]-e[0],o[1]=r[1]-e[1],o[2]=r[2]-e[2];const s=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===s)return!1;const a=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),u=a*a-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-e[3]*e[3]);if(u<0)return!1;const c=Math.sqrt(u);return n.t0=(-a-c)/(2*s),n.t1=(-a+c)/(2*s),!0}const O=(0,s.vt)();function N(e,t){return T(e,t,null)}function j(e,t,n){const r=g.rq.get(),s=g.Rc.get();(0,o.e)(r,t.origin,t.direction);const a=w(e);(0,o.e)(n,r,t.origin),(0,o.h)(n,n,1/(0,o.l)(n)*a);const u=q(e,t.origin),c=(0,d.g7)(t.origin,n);return(0,i.$0)(s,c+u,r),(0,o.t)(n,n,s),n}function x(e,t,n){const r=(0,o.d)(g.rq.get(),t,e),i=(0,o.h)(g.rq.get(),r,e[3]/(0,o.l)(r));return(0,o.g)(n,i,e)}function q(e,t){const n=(0,o.d)(g.rq.get(),t,e),i=(0,o.l)(n),s=w(e),a=s+Math.abs(s-i);return(0,r.XM)(s/a)}const R=(0,s.vt)();function P(e,t,n,r){const i=(0,o.d)(R,t,e);switch(n){case l._.X:{const e=p(i,R)[2];return(0,o.i)(r,-Math.sin(e),Math.cos(e),0)}case l._.Y:{const e=p(i,R),t=e[1],n=e[2],s=Math.sin(t);return(0,o.i)(r,-s*Math.cos(n),-s*Math.sin(n),Math.cos(t))}case l._.Z:return(0,o.n)(r,i);default:return}}function C(e,t){const n=(0,o.d)(Z,t,e);return(0,o.l)(n)-e[3]}function G(e,t){const n=(0,o.s)(e,t),r=w(e);return n<=r*r}const Z=(0,s.vt)(),U=h(),D=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:y,altitudeAt:C,angleToSilhouette:q,axisAt:P,cameraFrustumCoverage:function(e,t,n,r){const i=w(e),o=i*i,s=t+.5*Math.PI,a=n*n+o-2*Math.cos(s)*n*i,u=Math.sqrt(a),c=a-o;if(c<=0)return.5;const l=Math.sqrt(c),f=Math.acos(l/u)-Math.asin(i/(u/Math.sin(s)));return Math.min(1,(f+.5*r)/r)},clear:function(e){e[0]=e[1]=e[2]=e[3]=0},closestPoint:function(e,t,n){return T(e,t,n)?n:((0,f.oC)(t,e,n),x(e,n,n))},closestPointOnSilhouette:j,containsPoint:G,copy:m,create:h,distanceToSilhouette:function(e,t){const n=(0,o.d)(g.rq.get(),t,e),r=(0,o.k)(n),i=e[3]*e[3];return Math.sqrt(Math.abs(r-i))},elevate:function(e,t,n){return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),n[3]=e[3]+t,n},equals:b,exactEquals:v,fromCenterAndRadius:I,fromRadius:function(e,t){return e[0]=e[1]=e[2]=0,e[3]=t,e},fromValues:M,getCenter:_,getExtent:function(e,t){return t},getRadius:w,intersectLine:E,intersectRay:T,intersectRayClosestSilhouette:function(e,t,n){if(T(e,t,n))return n;const r=j(e,t,g.rq.get());return(0,o.g)(n,t.origin,(0,o.h)(g.rq.get(),t.direction,(0,o.j)(t.origin,r)/(0,o.l)(t.direction))),n},intersectsRay:N,projectPoint:x,setAltitudeAt:function(e,t,n,r){const i=C(e,t),s=P(e,t,l._.Z,Z),a=(0,o.h)(Z,s,n-i);return(0,o.g)(r,t,a)},setExtent:function(e,t,n){return e!==n&&m(e,n),n},tmpSphere:U,union:function(e,t,n=(0,u.vt)()){const r=(0,o.j)(e,t),i=e[3],s=t[3];return r+s<i?((0,a.c)(n,e),n):r+i<s?((0,a.c)(n,t),n):((0,o.m)(n,e,t,(r+s-i)/(2*r)),n[3]=(r+i+s)/2,n)},wrap:S},Symbol.toStringTag,{value:"Module"}))},92709:function(e,t,n){n.d(t,{T:function(){return r},d:function(){return y}});const r={Base64:0,Hex:1,String:2,Raw:3},i=8,o=(1<<i)-1;function s(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e){const t=[];for(let n=0,r=e.length*i;n<r;n+=i)t[n>>5]|=(e.charCodeAt(n/i)&o)<<n%32;return t}function u(e){const t=[];for(let n=0,r=32*e.length;n<r;n+=i)t.push(String.fromCharCode(e[n>>5]>>>n%32&o));return t.join("")}function c(e,t,n,r,i,o){return s(function(e,t){return e<<t|e>>>32-t}(s(s(t,e),s(r,o)),i),n)}function l(e,t,n,r,i,o,s){return c(t&n|~t&r,e,t,i,o,s)}function f(e,t,n,r,i,o,s){return c(t&r|n&~r,e,t,i,o,s)}function p(e,t,n,r,i,o,s){return c(t^n^r,e,t,i,o,s)}function d(e,t,n,r,i,o,s){return c(n^(t|~r),e,t,i,o,s)}function g(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,r=-271733879,i=-1732584194,o=271733878;for(let t=0;t<e.length;t+=16){const a=n,u=r,c=i,g=o;n=l(n,r,i,o,e[t],7,-680876936),o=l(o,n,r,i,e[t+1],12,-389564586),i=l(i,o,n,r,e[t+2],17,606105819),r=l(r,i,o,n,e[t+3],22,-1044525330),n=l(n,r,i,o,e[t+4],7,-176418897),o=l(o,n,r,i,e[t+5],12,1200080426),i=l(i,o,n,r,e[t+6],17,-1473231341),r=l(r,i,o,n,e[t+7],22,-45705983),n=l(n,r,i,o,e[t+8],7,1770035416),o=l(o,n,r,i,e[t+9],12,-1958414417),i=l(i,o,n,r,e[t+10],17,-42063),r=l(r,i,o,n,e[t+11],22,-1990404162),n=l(n,r,i,o,e[t+12],7,1804603682),o=l(o,n,r,i,e[t+13],12,-40341101),i=l(i,o,n,r,e[t+14],17,-1502002290),r=l(r,i,o,n,e[t+15],22,1236535329),n=f(n,r,i,o,e[t+1],5,-165796510),o=f(o,n,r,i,e[t+6],9,-1069501632),i=f(i,o,n,r,e[t+11],14,643717713),r=f(r,i,o,n,e[t],20,-373897302),n=f(n,r,i,o,e[t+5],5,-701558691),o=f(o,n,r,i,e[t+10],9,38016083),i=f(i,o,n,r,e[t+15],14,-660478335),r=f(r,i,o,n,e[t+4],20,-405537848),n=f(n,r,i,o,e[t+9],5,568446438),o=f(o,n,r,i,e[t+14],9,-1019803690),i=f(i,o,n,r,e[t+3],14,-187363961),r=f(r,i,o,n,e[t+8],20,1163531501),n=f(n,r,i,o,e[t+13],5,-1444681467),o=f(o,n,r,i,e[t+2],9,-51403784),i=f(i,o,n,r,e[t+7],14,1735328473),r=f(r,i,o,n,e[t+12],20,-1926607734),n=p(n,r,i,o,e[t+5],4,-378558),o=p(o,n,r,i,e[t+8],11,-2022574463),i=p(i,o,n,r,e[t+11],16,1839030562),r=p(r,i,o,n,e[t+14],23,-35309556),n=p(n,r,i,o,e[t+1],4,-1530992060),o=p(o,n,r,i,e[t+4],11,1272893353),i=p(i,o,n,r,e[t+7],16,-155497632),r=p(r,i,o,n,e[t+10],23,-1094730640),n=p(n,r,i,o,e[t+13],4,681279174),o=p(o,n,r,i,e[t],11,-358537222),i=p(i,o,n,r,e[t+3],16,-722521979),r=p(r,i,o,n,e[t+6],23,76029189),n=p(n,r,i,o,e[t+9],4,-640364487),o=p(o,n,r,i,e[t+12],11,-421815835),i=p(i,o,n,r,e[t+15],16,530742520),r=p(r,i,o,n,e[t+2],23,-995338651),n=d(n,r,i,o,e[t],6,-198630844),o=d(o,n,r,i,e[t+7],10,1126891415),i=d(i,o,n,r,e[t+14],15,-1416354905),r=d(r,i,o,n,e[t+5],21,-57434055),n=d(n,r,i,o,e[t+12],6,1700485571),o=d(o,n,r,i,e[t+3],10,-1894986606),i=d(i,o,n,r,e[t+10],15,-1051523),r=d(r,i,o,n,e[t+1],21,-2054922799),n=d(n,r,i,o,e[t+8],6,1873313359),o=d(o,n,r,i,e[t+15],10,-30611744),i=d(i,o,n,r,e[t+6],15,-1560198380),r=d(r,i,o,n,e[t+13],21,1309151649),n=d(n,r,i,o,e[t+4],6,-145523070),o=d(o,n,r,i,e[t+11],10,-1120210379),i=d(i,o,n,r,e[t+2],15,718787259),r=d(r,i,o,n,e[t+9],21,-343485551),n=s(n,a),r=s(r,u),i=s(i,c),o=s(o,g)}return[n,r,i,o]}function y(e,t=r.Hex){const n=t||r.Base64,o=g(a(e),e.length*i);switch(n){case r.Raw:return o;case r.Hex:return function(e){const t="0123456789abcdef",n=[];for(let r=0,i=4*e.length;r<i;r++)n.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return n.join("")}(o);case r.String:return u(o);case r.Base64:return function(e){const t=[];for(let n=0,r=4*e.length;n<r;n+=3){const r=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let i=0;i<4;i++)8*n+6*i>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63))}return t.join("")}(o)}}},77793:function(e,t,n){n.d(t,{P:function(){return m},L:function(){return I}});var r=n(53804),i=n(83525),o=n(90194),s=n(21609),a=n(72977);class u{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.AU),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const t=new u,n=this._originStores[a.Gr.DEFAULTS];n&&n.forEach(((e,n)=>{t.set(n,(0,s.o8)(e),a.Gr.DEFAULTS)}));for(let n=a.Gr.SERVICE;n<a.AU;n++){const r=this._originStores[n];r&&r.forEach(((r,i)=>{e&&e.has(i)||t.set(i,(0,s.o8)(r),n)}))}return t}get(e,t){const n=void 0===t?this._values:this._originStores[t];return n?n.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,n=a.Gr.USER){let r=this._originStores[n];if(r||(r=new Map,this._originStores[n]=r),r.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=n){const r=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,n),r!==t}return!1}delete(e,t=a.Gr.USER){const n=this._originStores[t];if(!n)return;const r=n.get(e);if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let n=t-1;n>=0;n--){const t=this._originStores[n];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,n);break}}}return r}has(e,t){const n=void 0===t?this._values:this._originStores[t];return!!n&&n.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const n=this._originStores[t],r=n?.get(e),i=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),i!==r}originOf(e){return this._propertyOriginMap.get(e)||a.Gr.DEFAULTS}forEach(e){this._values.forEach(e)}}var c=n(97354),l=n(63693),f=n(65953);const p=e=>{let t=class extends e{constructor(...e){super(...e);const t=(0,l.oY)(this),n=t.store,r=new u;t.store=r,(0,o.k)(t,n,r)}read(e,t){(0,c.L)(this,e,t)}getAtOrigin(e,t){const n=d(this),r=(0,a.aB)(t);if("string"==typeof e)return n.get(e,r);const i={};return e.forEach((e=>{i[e]=n.get(e,r)})),i}originOf(e){return(0,a.OL)(this.originIdOf(e))}originIdOf(e){return d(this).originOf(e)}revert(e,t){const n=d(this),r=(0,a.aB)(t),i=(0,l.oY)(this);let o;o="string"==typeof e?"*"===e?n.keys(r):[e]:e,o.forEach((e=>{i.invalidate(e),n.revert(e,r),i.commit(e)}))}};return t=(0,r._)([(0,f.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function d(e){return(0,l.oY)(e).store}let g=class extends(p(i.A)){};g=(0,r._)([(0,f.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],g);var y=n(62664),h=n(99495);const v=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return b(this).delete(e,(0,a.aB)(t))}write(e,t){return(0,h.M)(this,e=e||{},t),e}setAtOrigin(e,t,n){(0,l.oY)(this).setAtOrigin(e,t,(0,a.aB)(n))}removeOrigin(e){const t=b(this),n=(0,a.aB)(e),r=t.keys(n);for(const e of r)t.originOf(e)===n&&t.set(e,t.get(e,n),a.Gr.USER)}updateOrigin(e,t){const n=b(this),r=(0,a.aB)(t),i=(0,y.Jt)(this,e);for(let t=r+1;t<a.AU;++t)n.delete(e,t);n.set(e,i,r)}toJSON(e){return this.write({},e)}};return t=(0,r._)([(0,f.$)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function b(e){return(0,l.oY)(e).store}const m=e=>{let t=class extends(v(p(e))){constructor(...e){super(...e)}};return t=(0,r._)([(0,f.$)("esri.core.MultiOriginJSONSupport")],t),t};let I=class extends(m(i.A)){};I=(0,r._)([(0,f.$)("esri.core.MultiOriginJSONSupport")],I)},89736:function(e,t,n){n.d(t,{I:function(){return i}});var r=n(29601);class i{constructor(e){this._allocator=e,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}_grow(){for(let e=0;e<Math.max(8,Math.min(this._items.length,o));e++)this._items.push(this._allocator())}}const o=1024},18627:function(e,t,n){n.d(t,{P:function(){return d}});var r=n(39819),i=n(92709),o=n(73888),s=n(90683),a=n(66110),u=n(75779),c=n(72977),l=n(23502),f=n(82465),p=n(60534);function d(e){const t=e?.origins??[void 0];return(n,r)=>{const i=function(e,t,n){if("resource"===e?.type)return function(e,t,n){const r=(0,u.z4)(t,n);return{type:String,read:(e,t,n)=>{const i=(0,p.r)(e,t,n);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{writer(t,i,a,u){if(!u?.resources)return"string"==typeof t?void(i[a]=(0,p.t)(t,u)):void(i[a]=t.write({},u));const l=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),d=(0,p.t)(l,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},p.M.NO),v=r.type!==String&&(!(0,o.H)(this)||u?.origin&&this.originIdOf(n)>(0,c.aB)(u.origin)),b={object:this,propertyName:n,value:t,targetUrl:d,dest:i,targetPropertyName:a,context:u,params:e};u?.portalItem&&d&&!(0,s.oP)(d)?v&&e?.contentAddressed?g(b):v?function(e){const{context:t,targetUrl:n,params:r,value:i,dest:o,targetPropertyName:a}=e;if(!t.portalItem)return;const u=t.portalItem.resourceFromPath(n),c=h(i,n,t),l=(0,f.n)(c),p=(0,s.Zo)(u.path),d=r?.compress??!1;l===p?(t.resources&&y({...e,resource:u,content:c,compress:d,updates:t.resources.toUpdate}),o[a]=n):g(e)}(b):function({context:e,targetUrl:t,dest:n,targetPropertyName:r}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),n[r]=t)}(b):u?.portalItem&&(null==d||null!=(0,p.i)(d)||(0,s.w8)(d)||v)?g(b):i[a]=d}}}}(e,t,n);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=p.b;return{read:e,write:t}}}}(e,n,r);for(const e of t){const t=(0,l.rM)(n,e,r);for(const e in i)t[e]=i[e]}}}function g(e){const{targetUrl:t,params:n,value:o,context:u,dest:c,targetPropertyName:l}=e;if(!u.portalItem)return;const d=(0,p.p)(t),g=h(o,t,u);if(n?.contentAddressed&&"json"!==g.type)return void u.messages?.push(new r.A("persistable:contentAddressingUnsupported",`Property "${l}" is trying to serializing a resource with content of type ${g.type} with content addressing. Content addressing is only supported for json resources.`,{content:g}));const v=n?.contentAddressed&&"json"===g.type?(0,i.d)(g.jsonString):d?.filename??(0,a.lk)(),b=(0,s.fj)(n?.prefix??d?.prefix,v),m=`${b}.${(0,f.n)(g)}`;if(n?.contentAddressed&&u.resources&&"json"===g.type){const e=u.resources.toKeep.find((({resource:e})=>e.path===m))??u.resources.toAdd.find((({resource:e})=>e.path===m));if(e)return void(c[l]=e.resource.itemRelativeUrl)}const I=u.portalItem.resourceFromPath(m);(0,s.w8)(t)&&u.resources&&u.resources.pendingOperations.push((0,s.tk)(t).then((e=>{I.path=`${b}.${(0,f.n)({type:"blob",blob:e})}`,c[l]=I.itemRelativeUrl})).catch((()=>{})));const S=n?.compress??!1;u.resources&&y({...e,resource:I,content:g,compress:S,updates:u.resources.toAdd}),c[l]=I.itemRelativeUrl}function y({object:e,propertyName:t,updates:n,resource:r,content:i,compress:o}){n.push({resource:r,content:i,compress:o,finish:n=>{!function(e,t,n){"string"==typeof e[t]?e[t]=n.url:e[t].url=n.url}(e,t,n)}})}function h(e,t,n){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(n))}}},64786:function(e,t,n){n.d(t,{K:function(){return r}});const r=["operational-layers","basemap","ground"]},87725:function(e,t,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e,t,n,r,i,o,s,a,u){return[e,t,n,r,i,o,s,a,u]}n.d(t,{fA:function(){return i},vt:function(){return r},zK:function(){return o}});const o=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},create:r,createView:function(e,t){return new Float64Array(e,t,9)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},39714:function(e,t,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function o(e,t,n,r,i,o,s,a,u,c,l,f,p,d,g,y){return[e,t,n,r,i,o,s,a,u,c,l,f,p,d,g,y]}n.d(t,{fA:function(){return o},o8:function(){return i},vt:function(){return r},zK:function(){return s}});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,createView:function(e,t){return new Float64Array(e,t,16)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},61769:function(e,t,n){function r(){return[0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3]]}n.d(t,{o8:function(){return i},vt:function(){return r},zK:function(){return o}});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,fromValues:function(e,t,n,r){return[e,t,n,r]}},Symbol.toStringTag,{value:"Module"}))},73888:function(e,t,n){function r(e){return e&&"getAtOrigin"in e&&"originOf"in e}n.d(t,{H:function(){return r}})},66110:function(e,t,n){n.d(t,{AG:function(){return a},lk:function(){return i},vD:function(){return s},yS:function(){return o}});const r="randomUUID"in crypto;function i(){if(r)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function o(){return`{${i().toUpperCase()}}`}function s(){return`{${i()}}`}function a(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}},73313:function(e,t,n){n.d(t,{C:function(){return c},Cr:function(){return f},H6:function(){return y},_I:function(){return d},dz:function(){return h},fA:function(){return l},kb:function(){return p},ld:function(){return v},sd:function(){return g},vt:function(){return u}});var r=n(15774),i=n(89736),o=n(20551),s=n(32501),a=n(50973);function u(e){return e?{origin:(0,s.o8)(e.origin),vector:(0,s.o8)(e.vector)}:{origin:(0,s.vt)(),vector:(0,s.vt)()}}function c(e,t=u()){return l(e.origin,e.vector,t)}function l(e,t,n=u()){return(0,o.c)(n.origin,e),(0,o.c)(n.vector,t),n}function f(e,t,n=u()){return(0,o.c)(n.origin,e),(0,o.d)(n.vector,t,e),n}function p(e,t){const n=(0,o.d)(a.rq.get(),t,e.origin),i=(0,o.f)(e.vector,n),s=(0,o.f)(e.vector,e.vector),u=(0,r.qE)(i/s,0,1),c=(0,o.d)(a.rq.get(),(0,o.h)(a.rq.get(),e.vector,u),n);return(0,o.f)(c,c)}function d(e,t,n){return y(e,t,0,1,n)}function g(e,t,n){return(0,o.g)(n,e.origin,(0,o.h)(n,e.vector,t))}function y(e,t,n,i,s){const{vector:u,origin:c}=e,l=(0,o.d)(a.rq.get(),t,c),f=(0,o.f)(u,l)/(0,o.k)(u);return(0,o.h)(s,u,(0,r.qE)(f,n,i)),(0,o.g)(s,s,e.origin)}function h(e,t){if(b(e,function(e,t){const n=I.get();return n.origin=e,n.vector=t,n}(t.origin,t.direction),!1,m)){const{tA:t,pB:n,distance2:r}=m;if(t>=0&&t<=1)return r;if(t<0)return(0,o.s)(e.origin,n);if(t>1)return(0,o.s)((0,o.g)(a.rq.get(),e.origin,e.vector),n)}return null}function v(e,t,n){return!!b(e,t,!0,m)&&((0,o.c)(n,m.pA),!0)}function b(e,t,n,i){const s=1e-6,u=e.origin,c=(0,o.g)(a.rq.get(),u,e.vector),l=t.origin,f=(0,o.g)(a.rq.get(),l,t.vector),p=a.rq.get(),d=a.rq.get();if(p[0]=u[0]-l[0],p[1]=u[1]-l[1],p[2]=u[2]-l[2],d[0]=f[0]-l[0],d[1]=f[1]-l[1],d[2]=f[2]-l[2],Math.abs(d[0])<s&&Math.abs(d[1])<s&&Math.abs(d[2])<s)return!1;const g=a.rq.get();if(g[0]=c[0]-u[0],g[1]=c[1]-u[1],g[2]=c[2]-u[2],Math.abs(g[0])<s&&Math.abs(g[1])<s&&Math.abs(g[2])<s)return!1;const y=p[0]*d[0]+p[1]*d[1]+p[2]*d[2],h=d[0]*g[0]+d[1]*g[1]+d[2]*g[2],v=p[0]*g[0]+p[1]*g[1]+p[2]*g[2],b=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],m=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*b-h*h;if(Math.abs(m)<s)return!1;let I=(y*h-v*b)/m,S=(y+h*I)/b;n&&(I=(0,r.qE)(I,0,1),S=(0,r.qE)(S,0,1));const w=a.rq.get(),_=a.rq.get();return w[0]=u[0]+I*g[0],w[1]=u[1]+I*g[1],w[2]=u[2]+I*g[2],_[0]=l[0]+S*d[0],_[1]=l[1]+S*d[1],_[2]=l[2]+S*d[2],i.tA=I,i.tB=S,i.pA=w,i.pB=_,i.distance2=(0,o.s)(w,_),!0}const m={tA:0,tB:0,pA:(0,s.vt)(),pB:(0,s.vt)(),distance2:0},I=new i.I((()=>u()))},5596:function(e,t,n){n.d(t,{C:function(){return f},Cr:function(){return y},Io:function(){return P},LV:function(){return l},O_:function(){return g},Qj:function(){return p},T7:function(){return O},Tj:function(){return j},U5:function(){return A},Ui:function(){return L},Z1:function(){return R},_I:function(){return q},b6:function(){return x},ci:function(){return v},fA:function(){return d},gv:function(){return N},lU:function(){return h},mN:function(){return C},mP:function(){return M},mR:function(){return E},vt:function(){return c},ze:function(){return T}});var r=n(15774),i=n(20551),o=n(32501),s=(n(33400),n(29531)),a=n(50973),u=n(76185);function c(e=F){return[e[0],e[1],e[2],e[3]]}function l(e=F[0],t=F[1],n=F[2],r=F[3]){return d(e,t,n,r,a.Km.get())}function f(e,t){return d(t[0],t[1],t[2],t[3],e)}function p(e){return e}function d(e,t,n,r,i=c()){return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function g(e,t,n){const r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return n[0]=t[0]*i,n[1]=t[1]*i,n[2]=t[2]*i,n[3]=-(n[0]*e[0]+n[1]*e[1]+n[2]*e[2]),n}function y(e,t,n,r=c()){const i=n[0]-t[0],o=n[1]-t[1],s=n[2]-t[2],a=e[0]-t[0],u=e[1]-t[1],l=e[2]-t[2],f=o*l-s*u,p=s*a-i*l,d=i*u-o*a,g=f*f+p*p+d*d,y=Math.abs(g-1)>1e-5&&g>1e-12?1/Math.sqrt(g):1;return r[0]=f*y,r[1]=p*y,r[2]=d*y,r[3]=-(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]),r}function h(e,t,n,r=0,o=Math.floor(n*(1/3)),s=Math.floor(n*(2/3))){if(n<3)return!1;t(m,r);let a=o,u=!1;for(;a<n-1&&!u;)t(I,a),a++,u=!(0,i.p)(m,I);if(!u)return!1;for(a=Math.max(a,s),u=!1;a<n&&!u;)t(S,a),a++,(0,i.d)(w,m,I),(0,i.n)(w,w),(0,i.d)(_,I,S),(0,i.n)(_,_),u=!(0,i.p)(m,S)&&!(0,i.p)(I,S)&&Math.abs((0,i.f)(w,_))<b;return u?(y(m,I,S,e),!0):(0!==r||1!==o||2!==s)&&h(e,t,n,0,1,2)}function v(e,t,n=!0){const r=t.length/3;return h(e,((e,n)=>(0,i.i)(e,t[3*n+0],t[3*n+1],t[3*n+2])),n?r-1:r)}const b=.99619469809,m=(0,o.vt)(),I=(0,o.vt)(),S=(0,o.vt)(),w=(0,o.vt)(),_=(0,o.vt)();function M(e,t,n){return t!==e&&f(e,t),e[3]=-(0,i.f)(e,n),e}function T(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function E(e,t,n,r){return(0,i.e)(S,t,e),g(n,S,r)}function A(e,t,n,r){return U(D(e,t,(0,i.d)(a.rq.get(),n,t),V,r))}function L(e,t,n){return null!=t&&U(D(e,t.origin,t.direction,B,n))}function O(e,t,n){return U(D(e,t.origin,t.vector,$.NONE,n))}function N(e,t,n){return U(D(e,t.origin,t.vector,$.CLAMP,n))}function j(e,t){return C(e,t)>=0}function x(e,t){const n=(0,i.f)(e,t.ray.direction),r=-C(e,t.ray.origin);if(n>-1e-6&&n<1e-6)return r>0;const o=r/n;return n>0?o<t.c1&&(t.c1=o):o>t.c0&&(t.c0=o),t.c0<=t.c1}function q(e,t,n){const r=(0,i.h)(a.rq.get(),e,-e[3]),o=function(e,t,n){const r=(0,i.h)(a.rq.get(),e,(0,i.f)(e,t));return(0,i.d)(n,t,r),n}(e,(0,i.d)(a.rq.get(),t,r),a.rq.get());return(0,i.g)(n,o,r),n}function R(e,t,n,r){const o=e,c=a.rq.get(),l=a.rq.get();(0,u.VV)(o,c,l);const f=(0,i.d)(a.rq.get(),n,t),p=(0,s.gr)(c,f),d=(0,s.gr)(l,f),g=(0,s.gr)(o,f);return(0,i.i)(r,p,d,g)}function P(e,t){return Math.abs(C(e,t))}function C(e,t){return(0,i.f)(e,t)+e[3]}var G,Z;function U(e){return e===G.INTERSECTS_INSIDE_OUT||e===G.INTERSECTS_OUTSIDE_IN}function D(e,t,n,o,s){const a=(0,i.f)(e,n),u=C(e,t);if(0===a)return u>=0?G.INSIDE:G.OUTSIDE;let c=-u/a;return o&$.CLAMP&&(c=(0,r.qE)(c,0,1)),!(o&$.INFINITE_MIN)&&c<0||!(o&$.INFINITE_MAX)&&c>1?u>=0?G.INSIDE:G.OUTSIDE:((0,i.g)(s,t,(0,i.h)(s,n,c)),u>=0?G.INTERSECTS_INSIDE_OUT:G.INTERSECTS_OUTSIDE_IN)}(Z=G||(G={}))[Z.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",Z[Z.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",Z[Z.INSIDE=2]="INSIDE",Z[Z.OUTSIDE=3]="OUTSIDE";const F=[0,0,1,0];var $;!function(e){e[e.NONE=0]="NONE",e[e.CLAMP=1]="CLAMP",e[e.INFINITE_MIN=4]="INFINITE_MIN",e[e.INFINITE_MAX=8]="INFINITE_MAX"}($||($={}));const V=$.INFINITE_MIN|$.INFINITE_MAX,B=$.INFINITE_MAX},79578:function(e,t,n){n.d(t,{C:function(){return f},Cr:function(){return p},LV:function(){return l},kb:function(){return d},oC:function(){return g},vt:function(){return u}}),n(50659);var r=n(89736),i=(n(44705),n(87725)),o=n(20551),s=n(32501),a=n(50973);function u(e){return e?c((0,s.o8)(e.origin),(0,s.o8)(e.direction)):c((0,s.vt)(),(0,s.vt)())}function c(e,t){return{origin:e,direction:t}}function l(e,t){const n=y.get();return n.origin=e,n.direction=t,n}function f(e,t=u()){return function(e,t,n=u()){return(0,o.c)(n.origin,e),(0,o.c)(n.direction,t),n}(e.origin,e.direction,t)}function p(e,t,n=u()){return(0,o.c)(n.origin,e),(0,o.d)(n.direction,t,e),n}function d(e,t){const n=(0,o.e)(a.rq.get(),(0,o.n)(a.rq.get(),e.direction),(0,o.d)(a.rq.get(),t,e.origin));return(0,o.f)(n,n)}function g(e,t,n){const r=(0,o.f)(e.direction,(0,o.d)(n,t,e.origin));return(0,o.g)(n,e.origin,(0,o.h)(n,e.direction,r)),n}const y=new r.I((()=>u()));(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,i.vt)()},29531:function(e,t,n){n.d(t,{EJ:function(){return c},_I:function(){return s},g7:function(){return u},gr:function(){return a}});var r=n(15774),i=n(20551),o=n(32501);function s(e,t,n){const r=(0,i.f)(e,t)/(0,i.f)(e,e);return(0,i.h)(n,e,r)}function a(e,t){return(0,i.f)(e,t)/(0,i.l)(e)}function u(e,t){const n=(0,i.f)(e,t)/((0,i.l)(e)*(0,i.l)(t));return-(0,r.XM)(n)}function c(e,t,n){(0,i.n)(l,e),(0,i.n)(f,t);const o=(0,i.f)(l,f),s=(0,r.XM)(o),a=(0,i.e)(l,l,f);return(0,i.f)(a,n)<0?2*Math.PI-s:s}const l=(0,o.vt)(),f=(0,o.vt)()},50973:function(e,t,n){n.d(t,{Rc:function(){return g},J8:function(){return y},oG:function(){return f},rq:function(){return p},Km:function(){return d}}),n(58941);var r=n(29601),i=n(87725),o=n(39714),s=n(61769),a=n(1932),u=n(32501),c=n(41546);class l{constructor(e){this._create=e,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const e=2*this._itemsPtr;this._items.length>e&&(this._items.length=e),this._itemsPtr=0}static createVec2f64(){return new l(a.vt)}static createVec3f64(){return new l(u.vt)}static createVec4f64(){return new l(c.vt)}static createMat3f64(){return new l(i.vt)}static createMat4f64(){return new l(o.vt)}static createQuatf64(){return new l(s.vt)}get test(){}}const f=l.createVec2f64(),p=l.createVec3f64(),d=l.createVec4f64(),g=(l.createMat3f64(),l.createMat4f64()),y=l.createQuatf64()},47738:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(53804),i=n(31012),o=n(97922),s=n(83525),a=n(75743),u=n(30905),c=n(95929),l=n(23502),f=(n(58941),n(40633),n(13798),n(65953)),p=n(18627),d=n(45532),g=n(6422);let y=class extends((0,u.Te)((0,a.O)(s.A))){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,c.CM)(this.position,e.position)&&(0,c.CM)(this.elevationInfo,e.elevationInfo)&&(0,o.xH)(this.feature,e.feature)}};(0,r._)([(0,l.MZ)({type:d.default,json:{write:{isRequired:!0}}})],y.prototype,"position",void 0),(0,r._)([(0,l.MZ)({type:g.A}),(0,p.P)()],y.prototype,"elevationInfo",void 0),(0,r._)([(0,l.MZ)(o.N1)],y.prototype,"feature",void 0),y=(0,r._)([(0,f.$)("esri.analysis.LineOfSightAnalysisObserver")],y);const h=y;let v=class extends((0,u.Te)(a.P)){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,c.CM)(this.position,e.position)&&(0,c.CM)(this.elevationInfo,e.elevationInfo)&&(0,o.xH)(this.feature,e.feature)}};(0,r._)([(0,l.MZ)({type:d.default}),(0,p.P)()],v.prototype,"position",void 0),(0,r._)([(0,l.MZ)({type:g.A}),(0,p.P)()],v.prototype,"elevationInfo",void 0),(0,r._)([(0,l.MZ)(o.N1)],v.prototype,"feature",void 0),v=(0,r._)([(0,f.$)("esri.analysis.LineOfSightAnalysisTarget")],v);const b=v;var m=n(78879),I=n(61500),S=n(28181),w=n(46157),_=n(24761),M=n(68945);const T=m.A.ofType(b);let E=class extends i.A{constructor(e){super(e),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,S.watch)((()=>this._computeExtent()),(e=>{null==e?.pending&&this._set("extent",null!=e?e.extent:null)}),S.pc))}get targets(){return this._get("targets")||new T}set targets(e){this._set("targets",(0,I.V)(e,this.targets,T))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(null==this.observer?.position||null==e)return null;const t=e=>"absolute-height"===(0,M.w7)(e.position,e.elevationInfo),n=this.observer.position,r=(0,_.fA)(n.x,n.y,n.z,n.x,n.y,n.z);for(const t of this.targets)if(null!=t.position){const n=(0,w.projectOrLoad)(t.position,e);if(null!=n.pending)return{pending:n.pending,extent:null};if(null!=n.geometry){const{x:e,y:t,z:i}=n.geometry;(0,_.iT)(r,[e,t,i])}}const i=(0,_.w1)(r,e);return t(this.observer)&&this.targets.every(t)||(i.zmin=void 0,i.zmax=void 0),{pending:null,extent:i}}clear(){this.observer=null,this.targets.removeAll()}};(0,r._)([(0,l.MZ)({type:["line-of-sight"]})],E.prototype,"type",void 0),(0,r._)([(0,l.MZ)({type:h,json:{read:!0,write:!0}})],E.prototype,"observer",void 0),(0,r._)([(0,l.MZ)({cast:I.H,type:T,nonNullable:!0,json:{read:!0,write:!0}})],E.prototype,"targets",null),(0,r._)([(0,l.MZ)({value:null,readOnly:!0})],E.prototype,"extent",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],E.prototype,"spatialReference",null),(0,r._)([(0,l.MZ)({readOnly:!0})],E.prototype,"requiredPropertiesForEditing",null),E=(0,r._)([(0,f.$)("esri.analysis.LineOfSightAnalysis")],E);const A=E;var L=n(77793),O=n(20833),N=n(92078);const j=m.A.ofType(b);let x=class extends((0,N.q)((0,L.P)(O.A))){constructor(e){super(e),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new A,this.opacity=1}initialize(){this.addHandles((0,S.watch)((()=>this.analysis),((e,t)=>{null!=t&&t.parent===this&&(t.parent=null),null!=e&&(e.parent=this)}),S.pc))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return this.analysis?.observer}set observer(e){const{analysis:t}=this;t&&(t.observer=e)}get targets(){return null!=this.analysis?this.analysis.targets:new m.A}set targets(e){(0,I.V)(e,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(e){this.analysis===e&&(this.analysis=new A)}};(0,r._)([(0,l.MZ)({json:{read:!1},readOnly:!0})],x.prototype,"type",void 0),(0,r._)([(0,l.MZ)({type:["LineOfSightLayer"]})],x.prototype,"operationalLayerType",void 0),(0,r._)([(0,l.MZ)({type:h,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],x.prototype,"observer",null),(0,r._)([(0,l.MZ)({type:j,json:{read:!0,write:{ignoreOrigin:!0}}})],x.prototype,"targets",null),(0,r._)([(0,l.MZ)({nonNullable:!0,json:{read:!1,write:!1}})],x.prototype,"analysis",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],x.prototype,"fullExtent",null),(0,r._)([(0,l.MZ)({readOnly:!0})],x.prototype,"spatialReference",null),(0,r._)([(0,l.MZ)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],x.prototype,"opacity",void 0),(0,r._)([(0,l.MZ)({type:["show","hide"]})],x.prototype,"listMode",void 0),x=(0,r._)([(0,f.$)("esri.layers.LineOfSightLayer")],x);const q=x},92078:function(e,t,n){n.d(t,{q:function(){return I}});var r=n(53804),i=n(39819),o=n(90683),s=n(23502),a=n(67888),u=(n(13798),n(58941),n(47332)),c=n(65953),l=n(81392),f=n(64786),p=n(97354),d=n(99495);const g={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},y={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},h={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},v={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":g,"web-map/basemap":y,"web-map/tables":h,"link-chart/operational-layers":{...g,LinkChartLayer:!0},"link-chart/basemap":y,"link-chart/tables":h,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};var b=n(7010),m=n(52038);const I=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,n){return"Group Layer"===n?.portalItem?.type?void 0:e}writeListMode(e,t,n,r){(r&&"ground"===r.layerContainerType||e&&(0,d.R)(this,n,{},r))&&(t[n]=e)}writeOperationalLayerType(e,t,n,r){e&&"tables"!==r?.layerContainerType&&(t.layerType=e)}writeTitle(e,t){t.title=e??"Layer"}readTimeExtent(e){return e?m.A.fromArray(e):null}writeTimeExtent(e,t,n,r){e&&"tables"!==r.layerContainerType&&(e.isEmpty?r?.messages&&r.messages.push(new i.A("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):t[n]=e.toArray())}read(e,t){t&&(t.layer=this),(0,p.t)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,n=v[e];let r=!!n?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(r=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(r=!1),!r)return t.messages?.push(new i.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const n=super.write(e,{...t,layer:this}),r=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof i.A&&"web-document-write:property-required"===e.name)).length;return(0,o.w8)(n?.url)?(t?.messages?.push(new i.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&r?null:n}beforeSave(){}};return(0,r._)([(0,s.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,r._)([(0,u.w)("id",["id"])],t.prototype,"readId",null),(0,r._)([(0,s.MZ)(b.C1)],t.prototype,"listMode",void 0),(0,r._)([(0,l.K)("listMode")],t.prototype,"writeListMode",null),(0,r._)([(0,s.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:f.K}}}}})],t.prototype,"operationalLayerType",void 0),(0,r._)([(0,l.K)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,r._)([(0,s.MZ)(b.ke)],t.prototype,"opacity",void 0),(0,r._)([(0,s.MZ)({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,r._)([(0,l.K)("title"),(0,l.K)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,r._)([(0,s.MZ)({type:m.A,json:{origins:{"web-scene":{write:{layerContainerTypes:f.K}}}}})],t.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,u.w)("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),(0,r._)([(0,l.K)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[a.jz,a.Uv]]}})],t.prototype,"writeTimeExtent",null),(0,r._)([(0,s.MZ)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:f.K}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=(0,r._)([(0,c.$)("esri.layers.mixins.OperationalLayer")],t),t}},7010:function(e,t,n){n.d(t,{C1:function(){return M},Fm:function(){return I},Ih:function(){return m},M6:function(){return f},OZ:function(){return d},PY:function(){return l},Qo:function(){return h},Yj:function(){return y},fV:function(){return g},hG:function(){return _},hn:function(){return w},id:function(){return S},kF:function(){return p},ke:function(){return b},zQ:function(){return T}});var r=n(64786),i=n(91484),o=n(57165),s=n(60534),a=n(6422),u=n(92777),c=n(59798);const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:r.K}}},f={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:r.K}}},d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:s.w}}},g={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:r.K}}},y={value:null,type:a.A,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:r.K}}};function h(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const v={write:{enabled:!0,layerContainerTypes:r.K},read:!0},b={type:Number,json:{origins:{"web-document":v,"portal-item":{write:!0}}}},m={...b,json:{...b.json,origins:{"web-document":{...v,write:{enabled:!0,layerContainerTypes:r.K,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,n)=>n&&"service"!==n.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition?.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?(0,c.D)(t.layerDefinition.drawingInfo.transparency):void 0:(0,c.D)(t.drawingInfo.transparency)}}},I={type:i.default,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const n=i.default.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(n.spatialReference=o.A.fromJSON(t.spatialReference)),n}}}},read:!1}},S={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},w={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:r.K}}},name:"layerDefinition.minScale",write:!0}},_={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:r.K}}},name:"layerDefinition.maxScale",write:!0}},M={json:{write:{ignoreOrigin:!0,layerContainerTypes:r.K},origins:{"web-map":{read:!1,write:!1}}}},T={type:u.A,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}}},82465:function(e,t,n){n.d(t,{n:function(){return i}});var r=n(90683);function i(e){return o[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,r.Zo)(e);return u[t]||s}(e.url)}(e)]||a}const o={},s="text/plain",a=o[s],u={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const e in u)o[u[e]]=e},68945:function(e,t,n){n.d(t,{$7:function(){return T},B:function(){return M},Fo:function(){return S},M7:function(){return L},NN:function(){return p},Q5:function(){return w},Tq:function(){return N},Up:function(){return _},XF:function(){return A},Ze:function(){return v},bK:function(){return a},bh:function(){return f},id:function(){return b},ky:function(){return l},qt:function(){return O},tW:function(){return E},v9:function(){return d},w7:function(){return u},wF:function(){return s},wS:function(){return m},wz:function(){return y},x:function(){return g},xS:function(){return I},ze:function(){return c}});var r=n(62938),i=n(32e3);function o(e){return e?O:N}function s(e,t){return t?.mode?t.mode:o(e).mode}function a(e,t){return null!=t?t:o(e)}function u(e,t){return s(null==e||(e.hasZ??!1),t)}function c(e,t){return a(null==e||(e.hasZ??!1),t)}function l(e){const t=h(e);return u(e.geometry,t)}function f(e){const t=h(e),n=u(e.geometry,t),r=null!=t&&"on-the-ground"!==n?L(t):0,i=t?.featureExpressionInfo;return{mode:n,offset:r,featureExpressionInfo:i}}function p(e){return y(f(e))}function d(e){return y(e)||g(e)}function g(e){return"0"===e?.featureExpressionInfo?.expression}function y(e){if(!e)return!1;if("on-the-ground"===e.mode)return!1;const t=e?.featureExpressionInfo?e.featureExpressionInfo.expression:null;return!(!t||"0"===t)}function h(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function v(e,t){if(!e?.offset)return 0;const{offset:n,unit:i}=e;if("decimal-degrees"===i)return 0;const o="unknown"!==i&&i?i:"meters",s=(0,r.mq)(t);return s?(0,r.oU)(n,o,s):0}function b(e,t,n){if(!n?.mode)return;const r=e.hasZ?e.z:0,i=v(n,e.spatialReference);switch(n.mode){case"absolute-height":return r-i;case"on-the-ground":return 0;case"relative-to-ground":return r-((t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"ground")??0)+i);case"relative-to-scene":return r-((t.elevationProvider.getElevation(e.x,e.y,r,e.spatialReference,"scene")??0)+i)}}function m(e,t,n,r=null){return S(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,r)}function I(e,t,n,r,i=null){return S(e,t[0],t[1],t.length>2?t[2]:0,n,r,i)}function S(e,t,n,r,i,o,s=null){if(null==o)return;const a=null!=s?s.mode:"absolute-height";if("on-the-ground"===a)return 0;const{absoluteZ:u}=w(t,n,r,i,e,o);return function(e,t,n,r,i,o,s,a){const u=v(s,i);switch(a){case"absolute-height":return e-u;case"relative-to-ground":return e-((o.elevationProvider.getElevation(t,n,r,i,"ground")??0)+u);case"relative-to-scene":return e-((o.elevationProvider.getElevation(t,n,r,i,"scene")??0)+u)}}(u,t,n,r,i,e,s,a)}function w(e,t,n,r,i,o){const s=v(o,r);switch(o.mode){case"absolute-height":return{absoluteZ:n+s,elevation:0};case"on-the-ground":{const n=i.elevationProvider.getElevation(e,t,0,r,"ground")??0;return{absoluteZ:n,elevation:n}}case"relative-to-ground":{const o=i.elevationProvider.getElevation(e,t,n,r,"ground")??0;return{absoluteZ:n+o+s,elevation:o}}case"relative-to-scene":{const o=i.elevationProvider.getElevation(e,t,n,r,"scene")??0;return{absoluteZ:n+o+s,elevation:o}}}}function _(e,t){if(null==t)return!1;const{mode:n}=t;return null!=n&&("scene"===e&&"relative-to-scene"===n||"ground"===e&&"absolute-height"!==n)}function M(e,t,n){return n&&n.mode!==t?`${e} only support ${t} elevation mode`:null}function T(e,t,n){return n?.mode===t?`${e} do not support ${t} elevation mode`:null}function E(e,t){return null!=t?.featureExpressionInfo&&"0"!==t.featureExpressionInfo.expression?`${e} do not support featureExpressionInfo`:null}function A(e,t){t&&e.warn(".elevationInfo=",t)}function L(e){return(e?.offset??0)*(0,i.Ao)(e?.unit)}const O={mode:"absolute-height",offset:0},N={mode:"on-the-ground",offset:null}},92777:function(e,t,n){n.d(t,{A:function(){return q}});var r=n(53804),i=n(30905),o=n(21609),s=n(23502),a=n(77560),u=n(47332),c=n(65953),l=n(81392);let f=class extends i.oY{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],f.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,r._)([(0,s.MZ)()],f.prototype,"type",void 0),f=(0,r._)([(0,c.$)("esri.tables.elements.AttributeTableElement")],f);const p=f;var d,g=n(67888);n(58941),n(40633),n(13798);let y=d=class extends p{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new d({description:this.description,displayType:this.displayType,label:this.label})}};(0,r._)([(0,s.MZ)({type:["auto"],json:{write:!0}})],y.prototype,"displayType",void 0),(0,r._)([(0,s.MZ)({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],y.prototype,"type",void 0),y=d=(0,r._)([(0,c.$)("esri.tables.elements.AttributeTableAttachmentElement")],y);const h=y;var v;let b=v=class extends p{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new v({description:this.description,fieldName:this.fieldName,label:this.label})}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0),(0,r._)([(0,s.MZ)({type:String,json:{read:!1,write:!0}})],b.prototype,"type",void 0),b=v=(0,r._)([(0,c.$)("esri.tables.elements.AttributeTableFieldElement")],b);const m=b;var I;let S=I=class extends p{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new I({description:this.description,label:this.label,relationshipId:this.relationshipId})}};(0,r._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"relationshipId",void 0),(0,r._)([(0,s.MZ)({type:["relationship"],json:{read:!1,write:!0}})],S.prototype,"type",void 0),S=I=(0,r._)([(0,c.$)("esri.tables.elements.AttributeTableRelationshipElement")],S);const w=S;function _(e){return{typesWithGroup:{base:p,key:"type",typeMap:{attachment:h,field:m,group:e,relationship:w}},typesWithoutGroup:{base:p,key:"type",typeMap:{attachment:h,field:m,relationship:w}}}}function M(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}function T(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}function E(e,t,n=!0){return e?e.map((e=>(0,g.aq)(n?t.typesWithGroup:t.typesWithoutGroup,e))):null}var A;let L=A=class extends p{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return E(e,O,!1)}readElements(e,t){return M(t.attributeTableElements,O,!1)}writeElements(e,t){t.attributeTableElements=T(e,O,!1)}clone(){return new A({description:this.description,elements:(0,o.o8)(this.elements),label:this.label})}};(0,r._)([(0,s.MZ)({json:{write:!0}})],L.prototype,"elements",void 0),(0,r._)([(0,a.w)("elements")],L.prototype,"castElements",null),(0,r._)([(0,u.w)("elements",["attributeTableElements"])],L.prototype,"readElements",null),(0,r._)([(0,l.K)("elements")],L.prototype,"writeElements",null),(0,r._)([(0,s.MZ)({type:String,json:{read:!1,write:!0}})],L.prototype,"type",void 0),L=A=(0,r._)([(0,c.$)("esri.tables.elements.AttributeTableGroupElement")],L);const O=_(L);var N;const j=_(L);let x=N=class extends i.oY{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return E(e,j)}readElements(e,t){return M(t.attributeTableElements,j)}writeElements(e,t){t.attributeTableElements=T(e,j)}clone(){return new N({elements:(0,o.o8)(this.elements),orderByFields:this.orderByFields})}};(0,r._)([(0,s.MZ)({json:{write:!0}})],x.prototype,"elements",void 0),(0,r._)([(0,a.w)("elements")],x.prototype,"castElements",null),(0,r._)([(0,u.w)("elements",["attributeTableElements"])],x.prototype,"readElements",null),(0,r._)([(0,l.K)("elements")],x.prototype,"writeElements",null),(0,r._)([(0,s.MZ)({type:[Object],json:{write:!0}})],x.prototype,"orderByFields",void 0),x=N=(0,r._)([(0,c.$)("esri.tables.AttributeTableTemplate")],x);const q=x},76185:function(e,t,n){n.d(t,{VV:function(){return a},hG:function(){return o},wp:function(){return s}}),n(15774);var r=n(20551),i=n(32501);function o(e){const t=e[0]*e[0]+e[4]*e[4]+e[8]*e[8],n=e[1]*e[1]+e[5]*e[5]+e[9]*e[9],r=e[2]*e[2]+e[6]*e[6]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}function s(e,t){const n=Math.sqrt(t[0]*t[0]+t[4]*t[4]+t[8]*t[8]),i=Math.sqrt(t[1]*t[1]+t[5]*t[5]+t[9]*t[9]),o=Math.sqrt(t[2]*t[2]+t[6]*t[6]+t[10]*t[10]);return(0,r.i)(e,n,i,o),e}function a(e,t,n){Math.abs(e[0])>Math.abs(e[1])?(0,r.i)(t,0,1,0):(0,r.i)(t,1,0,0),(0,r.e)(n,e,t),(0,r.e)(t,n,e),(0,r.n)(n,n),(0,r.n)(t,t)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)()},89756:function(e,t,n){n.d(t,{MQ:function(){return i}}),n(38177);var r=n(50456);n(59356);class i extends r.R6{constructor(e,t,n){super(e,t),this.triangleNr=n}}},38177:function(e,t,n){var r,i;n.d(t,{H6:function(){return o},dz:function(){return r},oH:function(){return i}}),function(e){e[e.OBJECT=0]="OBJECT",e[e.HUD=1]="HUD",e[e.TERRAIN=2]="TERRAIN",e[e.OVERLAY=3]="OVERLAY",e[e.I3S=4]="I3S",e[e.PCL=5]="PCL",e[e.LOD=6]="LOD",e[e.VOXEL=7]="VOXEL",e[e.TILES3D=8]="TILES3D"}(r||(r={}));class o{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=i.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(e){e[e.MIN=0]="MIN",e[e.MINMAX=1]="MINMAX",e[e.ALL=2]="ALL"}(i||(i={}))},50456:function(e,t,n){n.d(t,{B$:function(){return o},HE:function(){return s},R6:function(){return a}});var r=n(32501);class i{constructor(e,t,n){this.object=e,this.geometryId=t,this.triangleNr=n}}class o extends i{constructor(e,t,n,i){super(e,t,n),this.center=null!=i?(0,r.o8)(i):null}}class s{constructor(e){this.layerUid=e}}class a extends s{constructor(e,t){super(e),this.graphicUid=t}}},59356:function(e,t,n){n.d(t,{i3:function(){return i}}),n(20551);var r=n(32501);function i(e){return null!=e?.dist}n(2075),n(38177),(0,r.vt)()},84363:function(e,t,n){n.d(t,{h:function(){return i}}),n(38177);var r=n(50456);n(59356);class i extends r.R6{constructor(e,t,n,r,i,o){super(e,t),this.layerUid=e,this.graphicUid=t,this.geometryId=n,this.triangleNr=r,this.baseBoundingSphere=i,this.numLodLevels=o}}}}]);
//# sourceMappingURL=LineOfSightLayer.js.map