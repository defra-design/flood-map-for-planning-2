{"version":3,"file":"UnsupportedLayer.js","mappings":"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","sources":["webpack://defra/./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack://defra/./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack://defra/./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack://defra/./node_modules/@arcgis/core/layers/UnsupportedLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack://defra/./node_modules/@arcgis/core/portal/support/portalItemUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{originIdNum as s,OriginId as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(s),this._values=new Map,this.multipleOriginsSupported=!0}clone(i){const o=new r,n=this._originStores[e.DEFAULTS];n&&n.forEach(((s,r)=>{o.set(r,t(s),e.DEFAULTS)}));for(let r=e.SERVICE;r<s;r++){const s=this._originStores[r];s&&s.forEach(((s,e)=>{i&&i.has(e)||o.set(e,t(s),r)}))}return o}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,s,r=e.USER){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,s),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const e=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,r),e!==s}return!1}delete(t,s=e.USER){const r=this._originStores[s];if(!r)return;const i=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return i}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e?.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||e.DEFAULTS}forEach(t){this._values.forEach(t)}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{setupConstructedDefaults as s}from\"./accessorSupport/defaultsStoreUtils.js\";import o from\"./accessorSupport/MultiOriginStore.js\";import{nameToId as e,idToName as i}from\"./accessorSupport/PropertyOrigin.js\";import{read as c}from\"./accessorSupport/read.js\";import{getProperties as n}from\"./accessorSupport/utils.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const u=t=>{let u=class extends t{constructor(...r){super(...r);const t=n(this),e=t.store,i=new o;t.store=i,s(t,e,i)}read(r,t){c(this,r,t)}getAtOrigin(r,t){const s=a(this),o=e(t);if(\"string\"==typeof r)return s.get(r,o);const i={};return r.forEach((r=>{i[r]=s.get(r,o)})),i}originOf(r){return i(this.originIdOf(r))}originIdOf(r){return a(this).originOf(r)}revert(r,t){const s=a(this),o=e(t),i=n(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{i.invalidate(r),s.revert(r,o),i.commit(r)}))}};return u=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],u),u};function a(r){return n(r).store}let f=class extends(u(t)){};f=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{u as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{ReadOnlyMultiOriginJSONMixin as s}from\"./ReadOnlyMultiOriginJSONSupport.js\";import{get as e}from\"./accessorSupport/get.js\";import{nameToId as o,OriginId as i,originIdNum as p}from\"./accessorSupport/PropertyOrigin.js\";import{getProperties as c}from\"./accessorSupport/utils.js\";import{write as u}from\"./accessorSupport/write.js\";import{subclass as n}from\"./accessorSupport/decorators/subclass.js\";const l=t=>{let s=class extends t{constructor(...r){super(...r)}clear(r,t=\"user\"){return O(this).delete(r,o(t))}write(r,t){return u(this,r=r||{},t),r}setAtOrigin(r,t,s){c(this).setAtOrigin(r,t,o(s))}removeOrigin(r){const t=O(this),s=o(r),e=t.keys(s);for(const o of e)t.originOf(o)===s&&t.set(o,t.get(o,s),i.USER)}updateOrigin(r,t){const s=O(this),i=o(t),c=e(this,r);for(let e=i+1;e<p;++e)s.delete(r,e);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return s=r([n(\"esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport\")],s),s.prototype.toJSON.isDefaultToJSON=!0,s};function O(r){return c(r).store}const S=t=>{let e=class extends(l(s(t))){constructor(...r){super(...r)}};return e=r([n(\"esri.core.MultiOriginJSONSupport\")],e),e};let m=class extends(S(t)){};m=r([n(\"esri.core.MultiOriginJSONSupport\")],m);export{S as MultiOriginJSONMixin,m as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Error.js\";import{MultiOriginJSONMixin as o}from\"../core/MultiOriginJSONSupport.js\";import{schedule as s}from\"../core/scheduling.js\";import{property as t}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import p from\"./Layer.js\";import{PortalLayer as n}from\"./mixins/PortalLayer.js\";let a=class extends(n(o(p))){constructor(e){super(e),this.resourceInfo=null,this.persistenceEnabled=!0,this.type=\"unsupported\"}initialize(){this.addResolvingPromise(new Promise(((e,o)=>{s((()=>{const e=this.resourceInfo&&(this.resourceInfo.layerType||this.resourceInfo.type);let s=\"Unsupported layer type\";e&&(s+=\" \"+e),o(new r(\"layer:unsupported-layer-type\",s,{layerType:e}))}))})))}read(e,r){const o={resourceInfo:e};null!=e.id&&(o.id=e.id),null!=e.title&&(o.title=e.title),super.read(o,r)}write(e,r){return Object.assign(e||{},this.resourceInfo,{id:this.id})}};e([t({readOnly:!0})],a.prototype,\"resourceInfo\",void 0),e([t({type:[\"show\",\"hide\"]})],a.prototype,\"listMode\",void 0),e([t({type:Boolean,readOnly:!1})],a.prototype,\"persistenceEnabled\",void 0),e([t({json:{read:!1},readOnly:!0,value:\"unsupported\"})],a.prototype,\"type\",void 0),a=e([i(\"esri.layers.UnsupportedLayer\")],a);const l=a;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../config.js\";import{id as r}from\"../../kernel.js\";import s from\"../../request.js\";import{result as i}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{destroyMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as u}from\"../../core/promiseUtils.js\";import{hasSameCanonicalPortal as c,normalize as d,hasSamePortal as m}from\"../../core/urlUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as f}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import{getOwningPortalUrl as I}from\"../support/layerUtils.js\";import v from\"../../portal/Portal.js\";import P from\"../../portal/PortalItem.js\";import w from\"../../portal/PortalUser.js\";import{getUserPrivileges as U}from\"../../portal/support/portalItemUtils.js\";const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=l(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new P({id:e.itemId,portal:r?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:r}=await import(/* webpackChunkName: \"portal-support-layersLoader\" */ \"../../portal/support/layersLoader.js\");return n(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw p(r)||a.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(t).catch((t=>(u(t),!0))))}async setUserPrivileges(t,r){if(!e.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set(\"userHasEditingPrivileges\",e),this._set(\"userHasFullEditingPrivileges\",s),this._set(\"userHasUpdateItemPrivileges\",i)}catch(s){u(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return U(s);let o,a;if(i)o=s.portal.url;else try{o=await I(this.url,e)}catch(d){u(d)}if(!o||!c(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(r?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(d){u(d)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new P({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return U(s)}catch(d){u(d)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){u(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?r?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s?.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=r?.findServerInfo(this.url??\"\");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=v.getDefault();if(l&&l.loaded&&d(l.restUrl)===d(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await i(s(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:p}));return u.ok?w.fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e?.portal,s=this.portalItem?.id&&(this.portalItem.portal||v.getDefault());return r&&s&&!m(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([h({type:P})],_.prototype,\"portalItem\",null),t([f(\"web-document\",\"portalItem\",[\"itemId\"])],_.prototype,\"readPortalItem\",null),t([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],_.prototype,\"writePortalItem\",null),t([h({clonable:!1})],_.prototype,\"resourceReferences\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasFullEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasUpdateItemPrivileges\",void 0),_=t([g(\"esri.layers.mixins.PortalLayer\")],_),_},E={credential:null,user:null};export{j as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as n}from\"../../geometry/support/webMercatorUtils.js\";async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return n(o);const s=r.WGS84;return await e(i,s),t(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,f.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function u(e,t,r){r?i(e,t):a(e,t)}async function l(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\",HOSTED_SERVICE:\"Hosted Service\",LOCAL_SCENE:\"ViewingMode-Local\",TILED_IMAGERY:\"Tiled Imagery\",GROUP_LAYER_MAP:\"Map\",ORIENTED_IMAGERY_LAYER:\"OrientedImageryLayer\"};function E(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes(\"features:user:edit\"),s=!!r&&!!o?.includes(\"features:user:fullEdit\");const c=\"update\"===n||\"admin\"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}export{i as addTypeKeyword,E as getUserPrivileges,l as getWGS84ExtentForItem,s as hasTypeKeyword,c as isHostedLayer,a as removeTypeKeyword,u as toggleTypeKeyword,f as typeKeyword};\n"],"names":["constructor","this","_propertyOriginMap","Map","_originStores","Array","_values","multipleOriginsSupported","clone","i","o","n","DEFAULTS","forEach","s","r","set","SERVICE","e","has","get","t","keys","USER","delete","revert","originOf","u","super","store","read","getAtOrigin","a","originIdOf","c","invalidate","commit","f","l","clear","O","write","setAtOrigin","removeOrigin","updateOrigin","toJSON","prototype","isDefaultToJSON","S","m","resourceInfo","persistenceEnabled","type","initialize","addResolvingPromise","Promise","layerType","id","title","Object","assign","readOnly","Boolean","json","value","j","_","arguments","resourceReferences","portalItem","paths","userHasEditingPrivileges","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","destroy","length","_get","_set","readPortalItem","itemId","portal","writePortalItem","loadFromPortal","load","instance","supportedTypes","validateItem","supportsData","layerModuleTypeMap","getLogger","warn","finishLoadEditablePortalLayer","_fetchUserHasEditingPrivileges","catch","setUserPrivileges","userPrivilegesApplied","url","features","edit","fullEdit","content","updateItem","_fetchUserPrivileges","loaded","sourceUrl","_fetchFallbackUserPrivileges","user","d","signal","getCredential","prompt","p","reload","findCredential","E","credential","_fetchEditingUser","privileges","includes","findServerInfo","owningSystemUrl","getDefault","restUrl","authMode","query","ok","fromJSON","data","layer","messages","push","String","clonable","typeKeywords","HOSTED_SERVICE","indexOf","splice","async","normalize","width","spatialReference","isWGS84","isWebMercator","WGS84","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","LOCAL_SCENE","TILED_IMAGERY","GROUP_LAYER_MAP","ORIENTED_IMAGERY_LAYER","isOrgItem","itemControl"],"sourceRoot":""}