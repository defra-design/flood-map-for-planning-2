/*! For license information please see views-draw-support-Reshape.js.LICENSE.txt */
(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[4292,4874,6314,9845],{54140:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=54140,e.exports=t},54038:function(e,t,i){"use strict";i.d(t,{i:function(){return n}});var r=i(3102);const n=()=>r.L2.isBrowser&&"undefined"!=typeof navigator&&"undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document},67646:function(e,t,i){"use strict";i.d(t,{f:function(){return s},s:function(){return c}});var r=i(3102);const n=globalThis.calciteConfig,s=n?.focusTrapStack||[],o=(r.L2.isTesting&&r.L2.isBrowser,"2.13.2"),a="2024-10-24",l="e38e2977d";function c(){if(n&&n.version)return;console.info(`Using Calcite Components ${o} [Date: ${a}, Revision: ${l}]`);const e=n||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:o,writable:!1}),globalThis.calciteConfig=e}},96367:function(e,t,i){"use strict";i.d(t,{C:function(){return s},D:function(){return o},a:function(){return r},d:function(){return n}});const r="calcite-mode-auto",n="calcite-mode-dark",s={autoMode:r,darkMode:n,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},o={filter:250,nextTick:0,resize:150,reposition:100}},3102:function(e,t,i){"use strict";i.d(t,{L2:function(){return o},FK:function(){return kt},wt:function(){return S},xr:function(){return re},lh:function(){return de},$x:function(){return tt},OX:function(){return U},h:function(){return te},w$:function(){return Tt},gv:function(){return N},Qu:function(){return F}});var r={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},n="app",s=Object.defineProperty,o={isDev:!!r.isDev,isBrowser:!0,isServer:!1,isTesting:!!r.isTesting},a=r.hotModuleReplacement?window.__STENCIL_HOSTREFS__||(window.__STENCIL_HOSTREFS__=new WeakMap):new WeakMap,l=e=>a.get(e),c=(e,t)=>t in e,u=(e,t)=>(0,console.error)(e,t),d=r.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],p=(...e)=>console.error(...d,...e),h=(...e)=>console.warn(...d,...e),f=new Map,g=new Map,m=[],y="s-id",v="sty-id",b="c-id",_="http://www.w3.org/1999/xlink",x=["formAssociatedCallback","formResetCallback","formDisabledCallback","formStateRestoreCallback"],w="undefined"!=typeof window?window:{},$=w.document||{head:{}},S=w.HTMLElement||class{},M={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,r)=>e.addEventListener(t,i,r),rel:(e,t,i,r)=>e.removeEventListener(t,i,r),ce:(e,t)=>new CustomEvent(e,t)},T=r.shadowDom,k=(()=>{let e=!1;try{$.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(e){}return e})(),L=!!r.constructableCSS&&(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),A=0,C=!1,I=[],E=[],O=[],R=(e,t)=>i=>{e.push(i),C||(C=!0,t&&4&M.$flags$?D(P):M.raf(P))},V=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){u(e)}e.length=0},G=(e,t)=>{let i=0,r=0;for(;i<e.length&&(r=performance.now())<t;)try{e[i++](r)}catch(e){u(e)}i===e.length?e.length=0:0!==i&&e.splice(0,i)},P=()=>{if(r.asyncQueue&&A++,V(I),r.asyncQueue){const e=2==(6&M.$flags$)?performance.now()+14*Math.ceil(.1*A):1/0;G(E,e),G(O,e),E.length>0&&(O.push(...E),E.length=0),(C=I.length+E.length+O.length>0)?M.raf(P):A=0}else V(E),(C=I.length>0)&&M.raf(P)},D=e=>Promise.resolve(void 0).then(e),N=R(I,!1),Z=R(E,!0),U=e=>{const t=new URL(e,M.$resourcesUrl$);return t.origin!==w.location.origin?t.href:t.pathname},F=e=>M.$resourcesUrl$=e,z={},H=e=>"object"==(e=typeof e)||"function"===e;((e,t)=>{for(var i in t)s(e,i,{get:t[i],enumerable:!0})})({},{err:()=>B,map:()=>W,ok:()=>j,unwrap:()=>X,unwrapErr:()=>J});var j=e=>({isOk:!0,isErr:!1,value:e}),B=e=>({isOk:!1,isErr:!0,value:e});function W(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then((e=>j(e))):j(i)}if(e.isErr){const t=e.value;return B(t)}throw"should never get here"}var q,K,Y,X=e=>{if(e.isOk)return e.value;throw e.value},J=e=>{if(e.isErr)return e.value;throw e.value},Q=0,ee=(e,t="")=>{if(r.profile&&performance.mark){const i=`st:${e}:${t}:${Q++}`;return performance.mark(i),()=>performance.measure(`[Stencil] ${e}() <${t}>`,i)}return()=>{}},te=(e,t,...i)=>{let n=null,s=null,o=null,a=!1,l=!1;const c=[],u=t=>{for(let i=0;i<t.length;i++)n=t[i],Array.isArray(n)?u(n):null!=n&&"boolean"!=typeof n&&((a="function"!=typeof e&&!H(n))?n=String(n):r.isDev&&"function"!=typeof e&&void 0===n.$flags$&&p("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),a&&l?c[c.length-1].$text$+=n:c.push(a?ie(null,n):n),l=a)};if(u(i),t&&(r.isDev&&"input"===e&&le(t),r.vdomKey&&t.key&&(s=t.key),r.slotRelocation&&t.name&&(o=t.name),r.vdomClass)){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}if(r.isDev&&c.some(ne)&&p("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),r.vdomFunctional&&"function"==typeof e)return e(null===t?{}:t,c,se);const d=ie(e,null);return d.$attrs$=t,c.length>0&&(d.$children$=c),r.vdomKey&&(d.$key$=s),r.slotRelocation&&(d.$name$=o),d},ie=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.vdomAttribute&&(i.$attrs$=null),r.vdomKey&&(i.$key$=null),r.slotRelocation&&(i.$name$=null),i},re={},ne=e=>e&&e.$tag$===re,se={forEach:(e,t)=>e.map(oe).forEach(t),map:(e,t)=>e.map(oe).map(t).map(ae)},oe=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),ae=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),te(e.vtag,t,...e.vchildren||[])}const t=ie(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},le=e=>{const t=Object.keys(e),i=t.indexOf("value");if(-1===i)return;const r=t.indexOf("type"),n=t.indexOf("min"),s=t.indexOf("max"),o=t.indexOf("step");(i<r||i<n||i<s||i<o)&&h('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},ce=(e,t,i,n,s,o,a)=>{let l,c,u,d;if(1===o.nodeType){if(l=o.getAttribute(b),l&&(c=l.split("."),c[0]!==a&&"0"!==c[0]||(u={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(u),o.removeAttribute(b),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,e=u,n&&"0"===u.$depth$&&(n[u.$index$]=u.$elm$))),o.shadowRoot)for(d=o.shadowRoot.childNodes.length-1;d>=0;d--)ce(e,t,i,n,s,o.shadowRoot.childNodes[d],a);for(d=o.childNodes.length-1;d>=0;d--)ce(e,t,i,n,s,o.childNodes[d],a)}else if(8===o.nodeType)c=o.nodeValue.split("."),c[1]!==a&&"0"!==c[1]||(l=c[0],u={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===l?(u.$elm$=o.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,t.push(u),o.remove(),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,n&&"0"===u.$depth$&&(n[u.$index$]=u.$elm$))):u.$hostId$===a&&("s"===l?(u.$tag$="slot",c[5]?o["s-sn"]=u.$name$=c[5]:o["s-sn"]="",o["s-sr"]=!0,r.shadowDom&&n&&(u.$elm$=$.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),o.parentNode.insertBefore(u.$elm$,o),o.remove(),"0"===u.$depth$&&(n[u.$index$]=u.$elm$)),i.push(u),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u):"r"===l&&(r.shadowDom&&n?o.remove():r.slotRelocation&&(s["s-cr"]=o,o["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=ie(null,o.textContent);t.$elm$=o,t.$index$="0",e.$children$=[t]}},ue=(e,t)=>{if(1===e.nodeType){let i=0;if(e.shadowRoot)for(;i<e.shadowRoot.childNodes.length;i++)ue(e.shadowRoot.childNodes[i],t);for(i=0;i<e.childNodes.length;i++)ue(e.childNodes[i],t)}else if(8===e.nodeType){const i=e.nodeValue.split(".");"o"===i[0]&&(t.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},de=(e,t,i)=>{const n=(e=>r.lazyLoad?l(e).$hostElement$:e)(e);return{emit:e=>(r.isDev&&!n.isConnected&&h(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),pe(n,t,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:e}))}},pe=(e,t,i)=>{const r=M.ce(t,i);return e.dispatchEvent(r),r},he=new WeakMap,fe=(e,t,i)=>{var n;const s=ge(t,i),o=g.get(s);if(!r.attachStyles)return s;if(e=11===e.nodeType?e:$,o)if("string"==typeof o){e=e.head||e;let i,a=he.get(e);if(a||he.set(e,a=new Set),!a.has(s)){if(r.hydrateClientSide&&e.host&&(i=e.querySelector(`[${v}="${s}"]`)))i.innerHTML=o;else{i=$.createElement("style"),i.innerHTML=o;const a=null!=(n=M.$nonce$)?n:function(e){var t,i,r;return null!=(r=null==(i=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:i.getAttribute("content"))?r:void 0}($);null!=a&&i.setAttribute("nonce",a),(r.hydrateServerSide||r.hotModuleReplacement)&&2&t.$flags$&&i.setAttribute(v,s),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(i,e.querySelector("link"))}4&t.$flags$&&(i.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),a&&a.add(s)}}else r.constructableCSS&&!e.adoptedStyleSheets.includes(o)&&(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return s},ge=(e,t)=>"sc-"+(r.mode&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),me=(e,t,i,n,s,o)=>{if(i!==n){let a=c(e,t),l=t.toLowerCase();if(r.vdomClass&&"class"===t){const t=e.classList,r=ve(i),s=ve(n);t.remove(...r.filter((e=>e&&!s.includes(e)))),t.add(...s.filter((e=>e&&!r.includes(e))))}else if(r.vdomStyle&&"style"===t){if(r.updatable)for(const t in i)n&&null!=n[t]||(!r.hydrateServerSide&&t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in n)i&&n[t]===i[t]||(!r.hydrateServerSide&&t.includes("-")?e.style.setProperty(t,n[t]):e.style[t]=n[t])}else if(r.vdomKey&&"key"===t);else if(r.vdomRef&&"ref"===t)n&&n(e);else if(!r.vdomListener||(r.lazyLoad?a:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(r.vdomPropOrAttr){const c=H(n);if((a||c&&null!==n)&&!s)try{if(e.tagName.includes("-"))e[t]=n;else{const r=null==n?"":n;"list"===t?a=!1:null!=i&&e[t]==r||(e[t]=r)}}catch(e){}let u=!1;r.vdomXlink&&l!==(l=l.replace(/^xlink\:?/,""))&&(t=l,u=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(r.vdomXlink&&u?e.removeAttributeNS(_,t):e.removeAttribute(t)):(!a||4&o||s)&&!c&&(n=!0===n?"":n,r.vdomXlink&&u?e.setAttributeNS(_,t,n):e.setAttribute(t,n))}}else if(t="-"===t[2]?t.slice(3):c(w,l)?l.slice(2):l[2]+t.slice(3),i||n){const r=t.endsWith(be);t=t.replace(_e,""),i&&M.rel(e,t,i,r),n&&M.ael(e,t,n,r)}}},ye=/\s/,ve=e=>e?e.split(ye):[],be="Capture",_e=new RegExp(be+"$"),xe=(e,t,i)=>{const n=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||z,o=t.$attrs$||z;if(r.updatable)for(const e of we(Object.keys(s)))e in o||me(n,e,s[e],void 0,i,t.$flags$);for(const e of we(Object.keys(o)))me(n,e,s[e],o[e],i,t.$flags$)};function we(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var $e=!1,Se=!1,Me=!1,Te=!1,ke=(e,t,i,n)=>{var s;const o=t.$children$[i];let a,l,c,u=0;if(r.slotRelocation&&!$e&&(Me=!0,"slot"===o.$tag$&&(q&&n.classList.add(q+"-s"),o.$flags$|=o.$children$?2:1)),r.isDev&&o.$elm$&&p(`The JSX ${null!==o.$text$?`"${o.$text$}" text`:`"${o.$tag$}" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`),r.vdomText&&null!==o.$text$)a=o.$elm$=$.createTextNode(o.$text$);else if(r.slotRelocation&&1&o.$flags$)a=o.$elm$=r.isDebug||r.hydrateServerSide?je(o):$.createTextNode("");else{if(r.svg&&!Te&&(Te="svg"===o.$tag$),a=o.$elm$=r.svg?$.createElementNS(Te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!$e&&r.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$):$.createElement(!$e&&r.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$),r.svg&&Te&&"foreignObject"===o.$tag$&&(Te=!1),r.vdomAttribute&&xe(null,o,Te),!!a.getRootNode().querySelector("body")&&r.scoped&&null!=q&&a["s-si"]!==q&&a.classList.add(a["s-si"]=q),r.scoped&&ze(a,n),o.$children$)for(u=0;u<o.$children$.length;++u)l=ke(e,o,u,a),l&&a.appendChild(l);r.svg&&("svg"===o.$tag$?Te=!1:"foreignObject"===a.tagName&&(Te=!0))}return a["s-hn"]=Y,r.slotRelocation&&3&o.$flags$&&(a["s-sr"]=!0,a["s-cr"]=K,a["s-sn"]=o.$name$||"",a["s-rf"]=null==(s=o.$attrs$)?void 0:s.ref,c=e&&e.$children$&&e.$children$[i],c&&c.$tag$===o.$tag$&&e.$elm$&&(r.experimentalSlotFixes?Le(e.$elm$):Ae(e.$elm$,!1))),a},Le=e=>{M.$flags$|=1;const t=e.closest(Y.toLowerCase());if(null!=t){const i=Array.from(t.childNodes).find((e=>e["s-cr"])),r=Array.from(e.childNodes);for(const e of i?r.reverse():r)null!=e["s-sh"]&&(Ue(t,e,null!=i?i:null),e["s-sh"]=void 0,Me=!0)}M.$flags$&=-2},Ae=(e,t)=>{M.$flags$|=1;const i=Array.from(e.childNodes);if(e["s-sr"]&&r.experimentalSlotFixes){let t=e;for(;t=t.nextSibling;)t&&t["s-sn"]===e["s-sn"]&&t["s-sh"]===Y&&i.push(t)}for(let e=i.length-1;e>=0;e--){const r=i[e];r["s-hn"]!==Y&&r["s-ol"]&&(Ue(Re(r),r,Oe(r)),r["s-ol"].remove(),r["s-ol"]=void 0,r["s-sh"]=void 0,Me=!0),t&&Ae(r,t)}M.$flags$&=-2},Ce=(e,t,i,n,s,o)=>{let a,l=r.slotRelocation&&e["s-cr"]&&e["s-cr"].parentNode||e;for(r.shadowDom&&l.shadowRoot&&l.tagName===Y&&(l=l.shadowRoot);s<=o;++s)n[s]&&(a=ke(null,i,s,e),a&&(n[s].$elm$=a,Ue(l,a,r.slotRelocation?Oe(t):t)))},Ie=(e,t,i)=>{for(let n=t;n<=i;++n){const t=e[n];if(t){const e=t.$elm$;Ze(t),e&&(r.slotRelocation&&(Se=!0,e["s-ol"]?e["s-ol"].remove():Ae(e,!0)),e.remove())}}},Ee=(e,t,i=!1)=>!(e.$tag$!==t.$tag$||(r.slotRelocation&&"slot"===e.$tag$?"$nodeId$"in e&&i&&8!==e.$elm$.nodeType||e.$name$!==t.$name$:r.vdomKey&&!i&&e.$key$!==t.$key$)),Oe=e=>e&&e["s-ol"]||e,Re=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Ve=(e,t,i=!1)=>{const n=t.$elm$=e.$elm$,s=e.$children$,o=t.$children$,a=t.$tag$,l=t.$text$;let c;r.vdomText&&null!==l?r.vdomText&&r.slotRelocation&&(c=n["s-cr"])?c.parentNode.textContent=l:r.vdomText&&e.$text$!==l&&(n.data=l):(r.svg&&(Te="svg"===a||"foreignObject"!==a&&Te),(r.vdomAttribute||r.reflect)&&(r.slot&&"slot"===a&&!$e?r.experimentalSlotFixes&&e.$name$!==t.$name$&&(t.$elm$["s-sn"]=t.$name$||"",Le(t.$elm$.parentElement)):xe(e,t,Te)),r.updatable&&null!==s&&null!==o?((e,t,i,n,s=!1)=>{let o,a,l=0,c=0,u=0,d=0,p=t.length-1,h=t[0],f=t[p],g=n.length-1,m=n[0],y=n[g];for(;l<=p&&c<=g;)if(null==h)h=t[++l];else if(null==f)f=t[--p];else if(null==m)m=n[++c];else if(null==y)y=n[--g];else if(Ee(h,m,s))Ve(h,m,s),h=t[++l],m=n[++c];else if(Ee(f,y,s))Ve(f,y,s),f=t[--p],y=n[--g];else if(Ee(h,y,s))!r.slotRelocation||"slot"!==h.$tag$&&"slot"!==y.$tag$||Ae(h.$elm$.parentNode,!1),Ve(h,y,s),Ue(e,h.$elm$,f.$elm$.nextSibling),h=t[++l],y=n[--g];else if(Ee(f,m,s))!r.slotRelocation||"slot"!==h.$tag$&&"slot"!==y.$tag$||Ae(f.$elm$.parentNode,!1),Ve(f,m,s),Ue(e,f.$elm$,h.$elm$),f=t[--p],m=n[++c];else{if(u=-1,r.vdomKey)for(d=l;d<=p;++d)if(t[d]&&null!==t[d].$key$&&t[d].$key$===m.$key$){u=d;break}r.vdomKey&&u>=0?(a=t[u],a.$tag$!==m.$tag$?o=ke(t&&t[c],i,u,e):(Ve(a,m,s),t[u]=void 0,o=a.$elm$),m=n[++c]):(o=ke(t&&t[c],i,c,e),m=n[++c]),o&&(r.slotRelocation?Ue(Re(h.$elm$),o,Oe(h.$elm$)):Ue(h.$elm$.parentNode,o,h.$elm$))}l>p?Ce(e,null==n[g+1]?null:n[g+1].$elm$,i,n,c,g):r.updatable&&c>g&&Ie(t,l,p)})(n,s,t,o,i):null!==o?(r.updatable&&r.vdomText&&null!==e.$text$&&(n.textContent=""),Ce(n,null,t,o,0,o.length-1)):!i&&r.updatable&&null!==s&&Ie(s,0,s.length-1),r.svg&&Te&&"svg"===a&&(Te=!1))},Ge=e=>{const t=e.childNodes;for(const e of t)if(1===e.nodeType){if(e["s-sr"]){const i=e["s-sn"];e.hidden=!1;for(const r of t)if(r!==e)if(r["s-hn"]!==e["s-hn"]||""!==i){if(1===r.nodeType&&(i===r.getAttribute("slot")||i===r["s-sn"])||3===r.nodeType&&i===r["s-sn"]){e.hidden=!0;break}}else if(1===r.nodeType||3===r.nodeType&&""!==r.textContent.trim()){e.hidden=!0;break}}Ge(e)}},Pe=[],De=e=>{let t,i,n;for(const s of e.childNodes){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const e=s["s-sn"];for(n=i.length-1;n>=0;n--)if(t=i[n],!(t["s-cn"]||t["s-nr"]||t["s-hn"]===s["s-hn"]||r.experimentalSlotFixes&&t["s-sh"]&&t["s-sh"]===s["s-hn"]))if(Ne(t,e)){let i=Pe.find((e=>e.$nodeToRelocate$===t));Se=!0,t["s-sn"]=t["s-sn"]||e,i?(i.$nodeToRelocate$["s-sh"]=s["s-hn"],i.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],Pe.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&Pe.map((e=>{Ne(e.$nodeToRelocate$,t["s-sn"])&&(i=Pe.find((e=>e.$nodeToRelocate$===t)),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))}))}else Pe.some((e=>e.$nodeToRelocate$===t))||Pe.push({$nodeToRelocate$:t})}1===s.nodeType&&De(s)}},Ne=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,Ze=e=>{r.vdomRef&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Ze))},Ue=(e,t,i)=>{const n=null==e?void 0:e.insertBefore(t,i);return r.scoped&&ze(t,e),n},Fe=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...Fe(e.parentElement)),t},ze=(e,t,i=!1)=>{var r;if(e&&t&&1===e.nodeType){const n=new Set(Fe(t).filter(Boolean));if(n.size&&(null==(r=e.classList)||r.add(...e["s-scs"]=[...n]),e["s-ol"]||i))for(const t of Array.from(e.childNodes))ze(t,e,!0)}},He=(e,t,i=!1)=>{var n,s,o,a,l;const c=e.$hostElement$,u=e.$cmpMeta$,d=e.$vnode$||ie(null,null),p=ne(t)?t:te(null,null,t);if(Y=c.tagName,r.isDev&&Array.isArray(t)&&t.some(ne))throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of "${Y.toLowerCase()}" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);if(r.reflect&&u.$attrsToReflect$&&(p.$attrs$=p.$attrs$||{},u.$attrsToReflect$.map((([e,t])=>p.$attrs$[t]=c[e]))),i&&p.$attrs$)for(const e of Object.keys(p.$attrs$))c.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(p.$attrs$[e]=c[e]);if(p.$tag$=null,p.$flags$|=4,e.$vnode$=p,p.$elm$=d.$elm$=r.shadowDom&&c.shadowRoot||c,(r.scoped||r.shadowDom)&&(q=c["s-sc"]),$e=T&&!!(1&u.$flags$),r.slotRelocation&&(K=c["s-cr"],Se=!1),Ve(d,p,i),r.slotRelocation){if(M.$flags$|=1,Me){De(p.$elm$);for(const e of Pe){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=r.isDebug||r.hydrateServerSide?Be(t):$.createTextNode("");e["s-nr"]=t,Ue(t.parentNode,t["s-ol"]=e,t)}}for(const e of Pe){const t=e.$nodeToRelocate$,l=e.$slotRefNode$;if(l){const e=l.parentNode;let i=l.nextSibling;if(!r.experimentalSlotFixes||i&&1===i.nodeType){let r=null==(n=t["s-ol"])?void 0:n.previousSibling;for(;r;){let n=null!=(s=r["s-nr"])?s:null;if(n&&n["s-sn"]===t["s-sn"]&&e===n.parentNode){for(n=n.nextSibling;n===t||(null==n?void 0:n["s-sr"]);)n=null==n?void 0:n.nextSibling;if(!n||!n["s-nr"]){i=n;break}}r=r.previousSibling}}(!i&&e!==t.parentNode||t.nextSibling!==i)&&t!==i&&(r.experimentalSlotFixes||t["s-hn"]||!t["s-ol"]||(t["s-hn"]=t["s-ol"].parentNode.nodeName),Ue(e,t,i),1===t.nodeType&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof l["s-rf"]&&l["s-rf"](t)}else 1===t.nodeType&&(i&&(t["s-ih"]=null!=(a=t.hidden)&&a),t.hidden=!0)}}Se&&Ge(p.$elm$),M.$flags$&=-2,Pe.length=0}if(r.experimentalScopedSlotChanges&&2&u.$flags$)for(const e of p.$elm$.childNodes)e["s-hn"]===Y||e["s-sh"]||(i&&null==e["s-ih"]&&(e["s-ih"]=null!=(l=e.hidden)&&l),e.hidden=!0);K=void 0},je=e=>$.createComment(`<slot${e.$name$?' name="'+e.$name$+'"':""}> (host=${Y.toLowerCase()})`),Be=e=>$.createComment("org-location for "+(e.localName?`<${e.localName}> (host=${e["s-hn"]})`:`[${e.textContent}]`)),We=(e,t)=>{r.asyncLoading&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},qe=(e,t)=>{if(r.taskQueue&&r.updatable&&(e.$flags$|=16),r.asyncLoading&&4&e.$flags$)return void(e.$flags$|=512);We(e,e.$ancestorComponent$);const i=()=>Ke(e,t);return r.taskQueue?Z(i):i()},Ke=(e,t)=>{const i=e.$hostElement$,n=ee("scheduleUpdate",e.$cmpMeta$.$tagName$),s=r.lazyLoad?e.$lazyInstance$:i;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return t?(r.lazyLoad&&r.hostListener&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>rt(s,e,t))),e.$queuedListeners$=void 0)),nt(i,"componentWillLoad"),r.cmpWillLoad&&(o=rt(s,"componentWillLoad"))):(nt(i,"componentWillUpdate"),r.cmpWillUpdate&&(o=rt(s,"componentWillUpdate"))),nt(i,"componentWillRender"),r.cmpWillRender&&(o=Ye(o,(()=>rt(s,"componentWillRender")))),n(),Ye(o,(()=>Je(e,s,t)))},Ye=(e,t)=>Xe(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),Xe=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Je=async(e,t,i)=>{var n;const s=e.$hostElement$,o=ee("update",e.$cmpMeta$.$tagName$),a=s["s-rc"];r.style&&i&&(e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,s=ee("attachStyles",t.$tagName$),o=fe(r.shadowDom&&T&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);(r.shadowDom||r.scoped)&&r.cssAnnotations&&10&n&&2&n&&(i["s-sc"]=o,i.classList.add(o+"-h"),r.scoped&&2&n&&i.classList.add(o+"-s")),s()})(e);const l=ee("render",e.$cmpMeta$.$tagName$);if(r.isDev&&(e.$flags$|=1024),r.hydrateServerSide?await Qe(e,t,s,i):Qe(e,t,s,i),r.isDev&&(e.$renderCount$=void 0===e.$renderCount$?1:e.$renderCount$+1,e.$flags$&=-1025),r.hydrateServerSide)try{ot(s),i&&(1&e.$cmpMeta$.$flags$?s["s-en"]="":2&e.$cmpMeta$.$flags$&&(s["s-en"]="c"))}catch(e){u(e,s)}if(r.asyncLoading&&a&&(a.map((e=>e())),s["s-rc"]=void 0),l(),o(),r.asyncLoading){const t=null!=(n=s["s-p"])?n:[],i=()=>et(e);0===t.length?i():(Promise.all(t).then(i),e.$flags$|=4,t.length=0)}else et(e)},Qe=(e,t,i,n)=>{const s=!!r.allRenderFn,o=!!r.lazyLoad,a=!!r.taskQueue,l=!!r.updatable;try{if(t=(s||t.render)&&t.render(),l&&a&&(e.$flags$&=-17),(l||o)&&(e.$flags$|=2),r.hasRenderFn||r.reflect)if(r.vdomRender||r.reflect){if(r.hydrateServerSide)return Promise.resolve(t).then((t=>He(e,t,n)));He(e,t,n)}else{const r=i.shadowRoot;1&e.$cmpMeta$.$flags$?r.textContent=t:i.textContent=t}}catch(t){u(t,e.$hostElement$)}return null},et=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=ee("postUpdate",t),s=r.lazyLoad?e.$lazyInstance$:i,o=e.$ancestorComponent$;r.cmpDidRender&&(r.isDev&&(e.$flags$|=1024),rt(s,"componentDidRender"),r.isDev&&(e.$flags$&=-1025)),nt(i,"componentDidRender"),64&e.$flags$?(r.cmpDidUpdate&&(r.isDev&&(e.$flags$|=1024),rt(s,"componentDidUpdate"),r.isDev&&(e.$flags$&=-1025)),nt(i,"componentDidUpdate"),n()):(e.$flags$|=64,r.asyncLoading&&r.cssAnnotations&&st(i),r.cmpDidLoad&&(r.isDev&&(e.$flags$|=2048),rt(s,"componentDidLoad"),r.isDev&&(e.$flags$&=-2049)),nt(i,"componentDidLoad"),n(),r.asyncLoading&&(e.$onReadyResolve$(i),o||it(t))),r.method&&r.lazyLoad&&e.$onInstanceResolve$(i),r.asyncLoading&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&D((()=>qe(e,!1))),e.$flags$&=-517)},tt=e=>{if(r.updatable&&(o.isBrowser||o.isTesting)){const t=l(e),i=t.$hostElement$.isConnected;return i&&2==(18&t.$flags$)&&qe(t,!1),i}return!1},it=e=>{r.cssAnnotations&&st($.documentElement),r.asyncQueue&&(M.$flags$|=2),D((()=>pe(w,"appload",{detail:{namespace:n}}))),r.profile&&performance.measure&&performance.measure(`[Stencil] ${n} initial load (by ${e})`,"st:app:start")},rt=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(e){u(e)}},nt=(e,t)=>{r.lifecycleDOMEvents&&pe(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:n}})},st=e=>{var t,i;return r.hydratedClass?e.classList.add(null!=(t=r.hydratedSelectorName)?t:"hydrated"):r.hydratedAttribute?e.setAttribute(null!=(i=r.hydratedSelectorName)?i:"hydrated",""):void 0},ot=e=>{const t=e.children;if(null!=t)for(let e=0,i=t.length;e<i;e++){const i=t[e];"function"==typeof i.connectedCallback&&i.connectedCallback(),ot(i)}},at=(e,t,i)=>{var n,s;const o=e.prototype;if(r.formAssociated&&64&t.$flags$&&1&i&&x.forEach((e=>Object.defineProperty(o,e,{value(...t){const i=l(this),n=r.lazyLoad?i.$hostElement$:this,s=r.lazyLoad?i.$lazyInstance$:n;if(s){const i=s[e];"function"==typeof i&&i.call(s,...t)}else i.$onReadyPromise$.then((i=>{const r=i[e];"function"==typeof r&&r.call(i,...t)}))}}))),r.member&&t.$members$||r.watchCallback&&(t.$watchers$||e.watchers)){r.watchCallback&&e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const a=Object.entries(null!=(n=t.$members$)?n:{});if(a.map((([e,[n]])=>{(r.prop||r.state)&&(31&n||(!r.lazyLoad||2&i)&&32&n)?Object.defineProperty(o,e,{get(){return t=e,l(this).$instanceValues$.get(t);var t},set(s){if(r.isDev){const r=l(this);1&i||0!==(r&&8&r.$flags$)||!(31&n)||1024&n||h(`@Prop() "${e}" on <${t.$tagName$}> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability`)}((e,t,i,n)=>{const s=l(e);if(r.lazyLoad&&!s)throw new Error(`Couldn't find host element for "${n.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const o=r.lazyLoad?s.$hostElement$:e,a=s.$instanceValues$.get(t),c=s.$flags$,d=r.lazyLoad?s.$lazyInstance$:o;var p,f;p=i,f=n.$members$[t][0],i=null==p||H(p)?p:r.propBoolean&&4&f?"false"!==p&&(""===p||!!p):r.propNumber&&2&f?parseFloat(p):r.propString&&1&f?String(p):p;const g=Number.isNaN(a)&&Number.isNaN(i);if((!r.lazyLoad||!(8&c)||void 0===a)&&i!==a&&!g&&(s.$instanceValues$.set(t,i),r.isDev&&(1024&s.$flags$?h(`The state/prop "${t}" changed during rendering. This can potentially lead to infinite-loops and other bugs.`,"\nElement",o,"\nNew value",i,"\nOld value",a):2048&s.$flags$&&h(`The state/prop "${t}" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"`,"\nElement",o,"\nNew value",i,"\nOld value",a)),!r.lazyLoad||d)){if(r.watchCallback&&n.$watchers$&&128&c){const e=n.$watchers$[t];e&&e.map((e=>{try{d[e](i,a,t)}catch(e){u(e,o)}}))}if(r.updatable&&2==(18&c)){if(r.cmpShouldUpdate&&d.componentShouldUpdate&&!1===d.componentShouldUpdate(i,a,t))return;qe(s,!1)}}})(this,e,s,t)},configurable:!0,enumerable:!0}):r.lazyLoad&&r.method&&1&i&&64&n&&Object.defineProperty(o,e,{value(...t){var i;const r=l(this);return null==(i=null==r?void 0:r.$onInstancePromise$)?void 0:i.then((()=>{var i;return null==(i=r.$lazyInstance$)?void 0:i[e](...t)}))}})})),r.observeAttribute&&(!r.lazyLoad||1&i)){const i=new Map;o.attributeChangedCallback=function(e,n,s){M.jmp((()=>{var a;const c=i.get(e);if(this.hasOwnProperty(c))s=this[c],delete this[c];else{if(o.hasOwnProperty(c)&&"number"==typeof this[c]&&this[c]==s)return;if(null==c){const i=l(this),o=null==i?void 0:i.$flags$;if(o&&!(8&o)&&128&o&&s!==n){const o=r.lazyLoad?i.$hostElement$:this,l=r.lazyLoad?i.$lazyInstance$:o,c=null==(a=t.$watchers$)?void 0:a[e];null==c||c.forEach((t=>{null!=l[t]&&l[t].call(l,s,n,e)}))}return}}this[c]=(null!==s||"boolean"!=typeof this[c])&&s}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(s=t.$watchers$)?s:{}),...a.filter((([e,t])=>15&t[0])).map((([e,n])=>{var s;const o=n[1]||e;return i.set(o,e),r.reflect&&512&n[0]&&(null==(s=t.$attrsToReflect$)||s.push([e,o])),o}))]))}}return e},lt=async(e,t,n,s)=>{let o;if(!(32&t.$flags$)){t.$flags$|=32;const c=n.$lazyBundleId$;if((r.lazyLoad||r.hydrateClientSide)&&c){const e=((e,t,n)=>{const s=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$;if(r.isDev&&"string"!=typeof o)return void p(`Trying to lazily load component <${e.$tagName$}> with style mode "${t.$modeName$}", but it does not exist.`);if(!o)return;const a=!r.hotModuleReplacement&&f.get(o);return a?a[s]:i(54140)(`./${o}.entry.js${r.hotModuleReplacement&&n?"?s-hmr="+n:""}`).then((e=>(r.hotModuleReplacement||f.set(o,e),e[s])),u)})(n,t,s);if(e&&"then"in e){const i=(a=`st:load:${n.$tagName$}:${t.$modeName$}`,l=`[Stencil] Load module for <${n.$tagName$}>`,r.profile&&performance.mark?(0===performance.getEntriesByName(a,"mark").length&&performance.mark(a),()=>{0===performance.getEntriesByName(l,"measure").length&&performance.measure(l,a)}):()=>{});o=await e,i()}else o=e;if(!o)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);r.member&&!o.isProxied&&(r.watchCallback&&(n.$watchers$=o.watchers),at(o,n,2),o.isProxied=!0);const c=ee("createInstance",n.$tagName$);r.member&&(t.$flags$|=8);try{new o(t)}catch(e){u(e)}r.member&&(t.$flags$&=-9),r.watchCallback&&(t.$flags$|=128),c(),ct(t.$lazyInstance$)}else{o=e.constructor;const i=e.localName;customElements.whenDefined(i).then((()=>t.$flags$|=128))}if(r.style&&o&&o.style){let s;"string"==typeof o.style?s=o.style:r.mode&&"string"!=typeof o.style&&(t.$modeName$=(e=>m.map((t=>t(e))).find((e=>!!e)))(e),t.$modeName$&&(s=o.style[t.$modeName$]),r.hydrateServerSide&&t.$modeName$&&e.setAttribute("s-mode",t.$modeName$));const a=ge(n,t.$modeName$);if(!g.has(a)){const e=ee("registerStyles",n.$tagName$);!r.hydrateServerSide&&r.shadowDom&&r.shadowDomShim&&8&n.$flags$&&(s=await i.e(4060).then(i.bind(i,64060)).then((e=>e.scopeCss(s,a)))),((e,t,i)=>{let r=g.get(e);L&&i?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,g.set(e,r)})(a,s,!!(1&n.$flags$)),e()}}}var a,l;const c=t.$ancestorComponent$,d=()=>qe(t,!0);r.asyncLoading&&c&&c["s-rc"]?c["s-rc"].push(d):d()},ct=e=>{r.lazyLoad&&r.connectedCallback&&rt(e,"connectedCallback")},ut=e=>{const t=e["s-cr"]=$.createComment(r.isDebug?`content-ref (host=${e.localName})`:"");t["s-cn"]=!0,Ue(e,t,e.firstChild)},dt=e=>{r.lazyLoad&&r.disconnectedCallback&&rt(e,"disconnectedCallback"),r.cmpDidUnload&&rt(e,"componentDidUnload")},pt=e=>{const t=e.cloneNode;e.cloneNode=function(e){const i=this,n=!!r.shadowDom&&i.shadowRoot&&T,s=t.call(i,!!n&&e);if(r.slot&&!n&&e){let e,t,n=0;const o=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;n<i.childNodes.length;n++)e=i.childNodes[n]["s-nr"],t=o.every((e=>!i.childNodes[n][e])),e&&(r.appendChildSlotFix&&s.__appendChild?s.__appendChild(e.cloneNode(!0)):s.appendChild(e.cloneNode(!0))),t&&s.appendChild(i.childNodes[n].cloneNode(!0))}return s}},ht=e=>{e.__appendChild=e.appendChild,e.appendChild=function(e){const t=e["s-sn"]=$t(e),i=St(this.childNodes,t,this.tagName);if(i){const r=Mt(i,t),n=r[r.length-1],s=Ue(n.parentNode,e,n.nextSibling);return Ge(this),s}return this.__appendChild(e)}},ft=e=>{e.__removeChild=e.removeChild,e.removeChild=function(e){if(e&&void 0!==e["s-sn"]){const t=St(this.childNodes,e["s-sn"],this.tagName);if(t){const i=Mt(t,e["s-sn"]).find((t=>t===e));if(i)return i.remove(),void Ge(this)}}return this.__removeChild(e)}},gt=e=>{const t=e.prepend;e.prepend=function(...e){e.forEach((e=>{"string"==typeof e&&(e=this.ownerDocument.createTextNode(e));const i=e["s-sn"]=$t(e),r=St(this.childNodes,i,this.tagName);if(r){const t=document.createTextNode("");t["s-nr"]=e,r["s-cr"].parentNode.__appendChild(t),e["s-ol"]=t;const n=Mt(r,i)[0];return Ue(n.parentNode,e,n.nextSibling)}return 1===e.nodeType&&e.getAttribute("slot")&&(e.hidden=!0),t.call(this,e)}))}},mt=e=>{e.append=function(...e){e.forEach((e=>{"string"==typeof e&&(e=this.ownerDocument.createTextNode(e)),this.appendChild(e)}))}},yt=e=>{const t=e.insertAdjacentHTML;e.insertAdjacentHTML=function(e,i){if("afterbegin"!==e&&"beforeend"!==e)return t.call(this,e,i);const r=this.ownerDocument.createElement("_");let n;if(r.innerHTML=i,"afterbegin"===e)for(;n=r.firstChild;)this.prepend(n);else if("beforeend"===e)for(;n=r.firstChild;)this.append(n)}},vt=e=>{e.insertAdjacentText=function(e,t){this.insertAdjacentHTML(e,t)}},bt=e=>{const t=e.insertAdjacentElement;e.insertAdjacentElement=function(e,i){return"afterbegin"!==e&&"beforeend"!==e?t.call(this,e,i):"afterbegin"===e?(this.prepend(i),i):"beforeend"===e?(this.append(i),i):i}},_t=e=>{const t=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(e,"__textContent",t),r.experimentalScopedSlotChanges?Object.defineProperty(e,"textContent",{get(){return" "+wt(this.childNodes).map((e=>{var t,i;const r=[];let n=e.nextSibling;for(;n&&n["s-sn"]===e["s-sn"];)3!==n.nodeType&&1!==n.nodeType||r.push(null!=(i=null==(t=n.textContent)?void 0:t.trim())?i:""),n=n.nextSibling;return r.filter((e=>""!==e)).join(" ")})).filter((e=>""!==e)).join(" ")+" "},set(e){wt(this.childNodes).forEach((t=>{let i=t.nextSibling;for(;i&&i["s-sn"]===t["s-sn"];){const e=i;i=i.nextSibling,e.remove()}if(""===t["s-sn"]){const i=this.ownerDocument.createTextNode(e);i["s-sn"]="",Ue(t.parentElement,i,t.nextSibling)}else t.remove()}))}}):Object.defineProperty(e,"textContent",{get(){var e;const t=St(this.childNodes,"",this.tagName);return 3===(null==(e=null==t?void 0:t.nextSibling)?void 0:e.nodeType)?t.nextSibling.textContent:t?t.textContent:this.__textContent},set(e){var t;const i=St(this.childNodes,"",this.tagName);if(3===(null==(t=null==i?void 0:i.nextSibling)?void 0:t.nodeType))i.nextSibling.textContent=e;else if(i)i.textContent=e;else{this.__textContent=e;const t=this["s-cr"];t&&Ue(this,t,this.firstChild)}}})},xt=(e,t)=>{class i extends Array{item(e){return this[e]}}if(8&t.$flags$){const t=e.__lookupGetter__("childNodes");Object.defineProperty(e,"children",{get(){return this.childNodes.map((e=>1===e.nodeType))}}),Object.defineProperty(e,"childElementCount",{get(){return e.children.length}}),Object.defineProperty(e,"childNodes",{get(){const e=t.call(this);if(!(1&M.$flags$)&&2&l(this).$flags$){const t=new i;for(let i=0;i<e.length;i++){const r=e[i]["s-nr"];r&&t.push(r)}return t}return i.from(e)}})}},wt=e=>{const t=[];for(const i of Array.from(e))i["s-sr"]&&t.push(i),t.push(...wt(i.childNodes));return t},$t=e=>e["s-sn"]||1===e.nodeType&&e.getAttribute("slot")||"",St=(e,t,i)=>{let r,n=0;for(;n<e.length;n++){if(r=e[n],r["s-sr"]&&r["s-sn"]===t&&r["s-hn"]===i)return r;if(r=St(r.childNodes,t,i),r)return r}return null},Mt=(e,t)=>{const i=[e];for(;(e=e.nextSibling)&&e["s-sn"]===t;)i.push(e);return i},Tt=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};var n,s;r.member&&(i.$members$=t[2]),r.hostListener&&(i.$listeners$=t[3]),r.watchCallback&&(i.$watchers$=e.$watchers$),r.reflect&&(i.$attrsToReflect$=[]),r.shadowDom&&!T&&1&i.$flags$&&(i.$flags$|=8),r.experimentalSlotFixes?r.scoped&&2&i.$flags$&&(n=e.prototype,s=i,pt(n),ht(n),mt(n),gt(n),bt(n),yt(n),vt(n),_t(n),xt(n,s),ft(n)):(r.slotChildNodesFix&&xt(e.prototype,i),r.cloneNodeFix&&pt(e.prototype),r.appendChildSlotFix&&ht(e.prototype),r.scopedSlotTextContentFix&&2&i.$flags$&&_t(e.prototype));const o=e.prototype.connectedCallback,c=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){((e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};r.isDev&&(i.$renderCount$=0),r.method&&r.lazyLoad&&(i.$onInstancePromise$=new Promise((e=>i.$onInstanceResolve$=e))),r.asyncLoading&&(i.$onReadyPromise$=new Promise((e=>i.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[]),a.set(e,i)})(this,i)},connectedCallback(){const e=l(this);Lt(this,e,i.$listeners$,!1),(e=>{if(!(1&M.$flags$)){const t=l(e),i=t.$cmpMeta$,n=ee("connectedCallback",i.$tagName$);if(r.hostListenerTargetParent&&Lt(e,t,i.$listeners$,!0),1&t.$flags$)Lt(e,t,i.$listeners$,!1),(null==t?void 0:t.$lazyInstance$)?ct(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>ct(t.$lazyInstance$)));else{let n;if(t.$flags$|=1,r.hydrateClientSide&&(n=e.getAttribute(y),n)){if(r.shadowDom&&T&&1&i.$flags$){const t=r.mode?fe(e.shadowRoot,i,e.getAttribute("s-mode")):fe(e.shadowRoot,i);e.classList.remove(t+"-h",t+"-s")}((e,t,i,n)=>{const s=ee("hydrateClient",t),o=e.shadowRoot,a=[],l=r.shadowDom&&o?[]:null,c=n.$vnode$=ie(t,null);M.$orgLocNodes$||ue($.body,M.$orgLocNodes$=new Map),e[y]=i,e.removeAttribute(y),ce(c,a,[],l,e,e,i),a.map((e=>{const i=e.$hostId$+"."+e.$nodeId$,r=M.$orgLocNodes$.get(i),n=e.$elm$;r&&T&&""===r["s-en"]&&r.parentNode.insertBefore(n,r.nextSibling),o||(n["s-hn"]=t,r&&(n["s-ol"]=r,n["s-ol"]["s-nr"]=n)),M.$orgLocNodes$.delete(i)})),r.shadowDom&&o&&l.map((e=>{e&&o.appendChild(e)})),s()})(e,i.$tagName$,n,t)}if(r.slotRelocation&&!n&&(r.hydrateServerSide||(r.slot||r.shadowDom)&&12&i.$flags$)&&ut(e),r.asyncLoading){let i=e;for(;i=i.parentNode||i.host;)if(r.hydrateClientSide&&1===i.nodeType&&i.hasAttribute("s-id")&&i["s-p"]||i["s-p"]){We(t,t.$ancestorComponent$=i);break}}r.prop&&!r.hydrateServerSide&&i.$members$&&Object.entries(i.$members$).map((([t,[i]])=>{if(31&i&&e.hasOwnProperty(t)){const i=e[t];delete e[t],e[t]=i}})),r.initializeNextTick?D((()=>lt(e,t,i))):lt(e,t,i)}n()}})(this),r.connectedCallback&&o&&o.call(this)},disconnectedCallback(){(async e=>{if(!(1&M.$flags$)){const t=l(e);r.hostListener&&t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0),r.lazyLoad?(null==t?void 0:t.$lazyInstance$)?dt(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>dt(t.$lazyInstance$))):dt(e)}})(this),r.disconnectedCallback&&c&&c.call(this)},__attachShadow(){if(T)if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else r.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):this.attachShadow({mode:"open"});else this.shadowRoot=this}}),e.is=i.$tagName$,at(e,i,3)},kt=(e,t)=>t,Lt=(e,t,i,n)=>{r.hostListener&&i&&(r.hostListenerTargetParent&&(i=n?i.filter((([e])=>32&e)):i.filter((([e])=>!(32&e)))),i.map((([i,n,s])=>{const o=r.hostListenerTarget?Ct(e,i):e,a=At(t,s),l=It(i);M.ael(o,n,a,l),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>M.rel(o,n,a,l)))})))},At=(e,t)=>i=>{var n;try{r.lazyLoad?256&e.$flags$?null==(n=e.$lazyInstance$)||n[t](i):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,i]):e.$hostElement$[t](i)}catch(e){u(e)}},Ct=(e,t)=>r.hostListenerTargetDocument&&4&t?$:r.hostListenerTargetWindow&&8&t?w:r.hostListenerTargetBody&&16&t?$.body:r.hostListenerTargetParent&&32&t&&e.parentElement?e.parentElement:e,It=e=>k?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)},74756:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return O}});var r=i(53804),n=i(93040),s=i(78879),o=i(61500),a=i(30905),l=i(21609),c=i(31609),u=i(75218),d=i(40633),p=i(95929),h=i(60539),f=i(90683),g=i(23502),m=(i(58941),i(65953)),y=i(81392),v=i(57165),b=i(51432),_=i(43173),x=i(11876),w=i(83525),$=(i(13798),i(22739));const S=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let M=class extends w.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const e=(0,$.JK)().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const t=(0,$.Z0)(e);return"pt"===t?"pt-BR":t&&S.has(t)?t:"global"}};(0,r._)([(0,g.MZ)()],M.prototype,"apiKey",void 0),(0,r._)([(0,g.MZ)()],M.prototype,"id",void 0),(0,r._)([(0,g.MZ)()],M.prototype,"language",void 0),(0,r._)([(0,g.MZ)()],M.prototype,"places",void 0),(0,r._)([(0,g.MZ)()],M.prototype,"serviceUrl",void 0),(0,r._)([(0,g.MZ)()],M.prototype,"worldview",void 0),M=(0,r._)([(0,m.$)("esri.support.BasemapStyle")],M);const T=M;var k,L=i(84624);let A=0,C=k=class extends((0,a.Te)(c.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+A++,this.baseLayers=new s.A,this.referenceLayers=new s.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&d.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>i(e.item))),this.referenceLayers.on("after-remove",(e=>i(e.item)))])}initialize(){this.when().catch((e=>{d.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,p.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,o.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e?(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,L.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&r.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,L.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&("scene"!==e.type&&(t.isReference=!0),r.push(t))})),t.baseMapLayers=r):t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",(0,o.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,u.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,l.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,l.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new k({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,l.o8)(e);return t.url&&(0,f.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,f.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;(0,h.Te)(e);const n=[];if(t){const i=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,i,e)),t.data.id&&!t.data.title){const e=t.data.id;n.push((0,x.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else i?n.push(this._loadFromItem(i,e)):r&&n.push(this._loadFromStylesService(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo?.context,s=this.portalItem?.portal||n?.portal||null,o=E[n?.origin||""]??"web-map",{populateOperationalLayers:a}=await i.e(3538).then(i.bind(i,80669)),l=[];if((0,h.Te)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const i={context:{...n,origin:o,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===o&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=a(this.baseLayers,e.baseMapLayers.filter((e=>!r(e))),i);l.push(c);const u=a(this.referenceLayers,e.baseMapLayers.filter(r),i);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),n=(0,f.An)(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:I[e.type||""]??"web-map",portal:e.portal||b.A.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||b.A.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}async _loadFromStylesService(e,t){const i=`${e.serviceUrl}/${e.id}`,r=(await(0,n.A)(i,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,s=(0,f.An)(i);if(this._set("resourceInfo",{data:r.baseMap??{},context:{origin:"web-map",url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,s,t),e.apiKey)for(const t of[...this.baseLayers,...this.referenceLayers])"apiKey"in t&&(t.apiKey=e.apiKey)}static fromId(e){const t=x.H[e];return t?t.itemId?new k({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):k.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,r._)([(0,g.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s.A}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],C.prototype,"baseLayers",null),(0,r._)([(0,g.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],C.prototype,"id",void 0),(0,r._)([(0,g.MZ)({type:_.default})],C.prototype,"portalItem",void 0),(0,r._)([(0,g.MZ)()],C.prototype,"referenceLayers",null),(0,r._)([(0,g.MZ)({readOnly:!0})],C.prototype,"resourceInfo",void 0),(0,r._)([(0,g.MZ)({type:v.A})],C.prototype,"spatialReference",void 0),(0,r._)([(0,g.MZ)({type:T})],C.prototype,"style",void 0),(0,r._)([(0,g.MZ)()],C.prototype,"thumbnailUrl",void 0),(0,r._)([(0,g.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],C.prototype,"title",void 0),(0,r._)([(0,y.K)("title")],C.prototype,"writeTitle",null),C=k=(0,r._)([(0,m.$)("esri.Basemap")],C);const I={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},E={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},O=C},59122:function(e,t,i){"use strict";function r(e,t,i){i=i||2;var r,s,a,l,c,u,p,h=t&&t.length,f=h?t[0]*i:e.length,g=n(e,0,f,i,!0),m=[];if(!g||g.next===g.prev)return m;if(h&&(g=d(e,t,g,i)),e.length>80*i){r=a=e[0],s=l=e[1];for(var y=i;y<f;y+=i)(c=e[y])<r&&(r=c),(u=e[y+1])<s&&(s=u),c>a&&(a=c),u>l&&(l=u);p=0!==(p=Math.max(a-r,l-s))?1/p:0}return o(g,m,i,r,s,p),m}function n(e,t,i,r,n){var s,o;if(n===I(e,t,i,r)>0)for(s=t;s<i;s+=r)o=L(s,e[s],e[s+1],o);else for(s=i-r;s>=t;s-=r)o=L(s,e[s],e[s+1],o);if(o&&w(o,o.next)){var a=o.next;A(o),o=a}return o}function s(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{var n=r.prev;if(A(r),(r=t=n)===r.next)break;i=!0}}while(i||r!==t);return t}function o(e,t,i,r,n,d,p){if(e){!p&&d&&m(e,r,n,d);for(var h,f,g=e;e.prev!==e.next;)if(h=e.prev,f=e.next,d?l(e,r,n,d):a(e))t.push(h.i/i),t.push(e.i/i),t.push(f.i/i),A(e),e=f.next,g=f.next;else if((e=f)===g){p?1===p?o(e=c(s(e),t,i),t,i,r,n,d,2):2===p&&u(e,t,i,r,n,d):o(s(e),t,i,r,n,d,1);break}}}function a(e){var t=e.prev,i=e,r=e.next;if(x(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(b(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&x(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function l(e,t,i,r){var n=e.prev,s=e,o=e.next;if(x(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,l=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,c=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,u=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,d=y(a,l,t,i,r),p=y(c,u,t,i,r),h=e.prevZ,f=e.nextZ;h&&h.z>=d&&f&&f.z<=p;){if(h!==e.prev&&h!==e.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,f!==e.prev&&f!==e.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;h&&h.z>=d;){if(h!==e.prev&&h!==e.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;f&&f.z<=p;){if(f!==e.prev&&f!==e.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&x(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function c(e,t,i){var r=e;do{var n=r.prev,o=r.next.next;!w(n,o)&&$(n,r,r.next,o)&&T(n,o)&&T(o,n)&&(t.push(n.i/i),t.push(r.i/i),t.push(o.i/i),A(r),A(r.next),r=e=o),r=r.next}while(r!==e);return s(r)}function u(e,t,i,r,n,a){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&_(l,c)){var u=k(l,c);return l=s(l,l.next),u=s(u,u.next),o(l,t,i,r,n,a),void o(u,t,i,r,n,a)}c=c.next}l=l.next}while(l!==e)}function d(e,t,i,r){var o,a,l,c=[];for(o=0,a=t.length;o<a;o++)(l=n(e,t[o]*r,o<a-1?t[o+1]*r:e.length,r,!1))===l.next&&(l.steiner=!0),c.push(v(l));for(c.sort(p),o=0;o<c.length;o++)i=s(i=f(c[o],i),i.next);return i}function p(e,t){return e.x-t.x}function h(e){if(e.next.prev===e)return e;let t=e;for(;;){const i=t.next;if(i.prev===t||i===t||i===e)break;t=i}return t}function f(e,t){var i=function(e,t){var i,r=t,n=e.x,s=e.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===o)return i;var l,c=i,u=i.x,d=i.y,p=1/0;r=i;do{n>=r.x&&r.x>=u&&n!==r.x&&b(s<d?n:o,s,u,d,s<d?o:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),T(r,e)&&(l<p||l===p&&(r.x>i.x||r.x===i.x&&g(i,r)))&&(i=r,p=l)),r=r.next}while(r!==c);return i}(e,t);if(!i)return t;var r=k(i,e),n=s(i,i.next);let o=h(r);return s(o,o.next),n=h(n),h(t===i?n:t)}function g(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function m(e,t,i,r){var n=e;do{null===n.z&&(n.z=y(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,s,o,a,l,c=1;do{for(i=e,e=null,s=null,o=0;i;){for(o++,r=i,a=0,t=0;t<c&&(a++,r=r.nextZ);t++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;i=r}s.nextZ=null,c*=2}while(o>1)}(n)}function y(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function v(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function b(e,t,i,r,n,s,o,a){return(n-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(r-a)-(i-o)*(t-a)>=0&&(i-o)*(s-a)-(n-o)*(r-a)>=0}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&$(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(T(e,t)&&T(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||w(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function w(e,t){return e.x===t.x&&e.y===t.y}function $(e,t,i,r){var n=M(x(e,t,i)),s=M(x(e,t,r)),o=M(x(i,r,e)),a=M(x(i,r,t));return n!==s&&o!==a||!(0!==n||!S(e,i,t))||!(0!==s||!S(e,r,t))||!(0!==o||!S(i,e,r))||!(0!==a||!S(i,t,r))}function S(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function M(e){return e>0?1:e<0?-1:0}function T(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function k(e,t){var i=new C(e.i,e.x,e.y),r=new C(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function L(e,t,i,r){var n=new C(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(e,t,i,r){for(var n=0,s=t,o=i-r;s<i;s+=r)n+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return n}i.d(t,{e:function(){return r}}),r.deviation=function(e,t,i,r){var n=t&&t.length,s=n?t[0]*i:e.length,o=Math.abs(I(e,0,s,i));if(n)for(var a=0,l=t.length;a<l;a++){var c=t[a]*i,u=a<l-1?t[a+1]*i:e.length;o-=Math.abs(I(e,c,u,i))}var d=0;for(a=0;a<r.length;a+=3){var p=r[a]*i,h=r[a+1]*i,f=r[a+2]*i;d+=Math.abs((e[p]-e[f])*(e[h+1]-e[p+1])-(e[p]-e[h])*(e[f+1]-e[p+1]))}return 0===o&&0===d?0:Math.abs((d-o)/o)},r.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var o=0;o<t;o++)i.vertices.push(e[n][s][o]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i}},69296:function(e,t,i){"use strict";var r;i.d(t,{u:function(){return r}}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(r||(r={}))},84016:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});var r=i(25591);const n=()=>r.default.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},88264:function(e,t,i){"use strict";function r(e){return"string"==typeof e?document.getElementById(e):e??null}function n(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}i.d(t,{$:function(){return r},y:function(){return n}})},32237:function(e,t,i){"use strict";i.d(t,{A6:function(){return m},B8:function(){return h},Xd:function(){return u},Xr:function(){return f},Yc:function(){return I},hZ:function(){return v},lw:function(){return d},t2:function(){return A},x8:function(){return c}});var r=i(87725),n=i(61769),s=i(32501),o=i(8527),a=i(20551),l=i(33400);function c(e,t,i){i*=.5;const r=Math.sin(i);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(i),e}function u(e,t){const i=2*Math.acos(t[3]),r=Math.sin(i/2);return r>(0,o.FD)()?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),i}function d(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=i[0],l=i[1],c=i[2],u=i[3];return e[0]=r*u+o*a+n*c-s*l,e[1]=n*u+o*l+s*a-r*c,e[2]=s*u+o*c+r*l-n*a,e[3]=o*u-r*a-n*l-s*c,e}function p(e,t,i,r){const n=t[0],s=t[1],a=t[2],l=t[3];let c,u,d,p,h,f=i[0],g=i[1],m=i[2],y=i[3];return u=n*f+s*g+a*m+l*y,u<0&&(u=-u,f=-f,g=-g,m=-m,y=-y),1-u>(0,o.FD)()?(c=Math.acos(u),d=Math.sin(c),p=Math.sin((1-r)*c)/d,h=Math.sin(r*c)/d):(p=1-r,h=r),e[0]=p*n+h*f,e[1]=p*s+h*g,e[2]=p*a+h*m,e[3]=p*l+h*y,e}function h(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=i*i+r*r+n*n+s*s,a=o?1/o:0;return e[0]=-i*a,e[1]=-r*a,e[2]=-n*a,e[3]=s*a,e}function f(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function g(e,t){const i=t[0]+t[4]+t[8];let r;if(i>0)r=Math.sqrt(i+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);const n=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*n+n]-t[3*s+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*n+s]-t[3*s+n])*r,e[n]=(t[3*n+i]+t[3*i+n])*r,e[s]=(t[3*s+i]+t[3*i+s])*r}return e}function m(e,t,i,r){const n=.5*Math.PI/180;t*=n,i*=n,r*=n;const s=Math.sin(t),o=Math.cos(t),a=Math.sin(i),l=Math.cos(i),c=Math.sin(r),u=Math.cos(r);return e[0]=s*l*u-o*a*c,e[1]=o*a*u+s*l*c,e[2]=o*l*c-s*a*u,e[3]=o*l*u+s*a*c,e}const y=l.c,v=l.s,b=l.g,_=d,x=l.d,w=l.h,$=l.l,S=l.j,M=S,T=l.b,k=T,L=l.n,A=l.a,C=l.e;function I(e,t,i){const r=(0,a.f)(t,i);return r<-.999999?((0,a.e)(E,O,t),(0,a.G)(E)<1e-6&&(0,a.e)(E,R,t),(0,a.n)(E,E),c(e,E,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,a.e)(E,t,i),e[0]=E[0],e[1]=E[1],e[2]=E[2],e[3]=1+r,L(e,e))}const E=(0,s.vt)(),O=(0,s.fA)(1,0,0),R=(0,s.fA)(0,1,0),V=(0,n.vt)(),G=(0,n.vt)(),P=(0,r.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:b,calculateW:function(e,t){const i=t[0],r=t[1],n=t[2];return e[0]=i,e[1]=r,e[2]=n,e[3]=Math.sqrt(Math.abs(1-i*i-r*r-n*n)),e},conjugate:f,copy:y,dot:w,equals:C,exactEquals:A,fromEuler:m,fromMat3:g,getAxisAngle:u,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:h,len:M,length:S,lerp:$,mul:_,multiply:d,normalize:L,random:function(e){const t=o.Ov,i=t(),r=t(),n=t(),s=Math.sqrt(1-i),a=Math.sqrt(i);return e[0]=s*Math.sin(2*Math.PI*r),e[1]=s*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*n),e[3]=a*Math.cos(2*Math.PI*n),e},rotateX:function(e,t,i){i*=.5;const r=t[0],n=t[1],s=t[2],o=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+o*a,e[1]=n*l+s*a,e[2]=s*l-n*a,e[3]=o*l-r*a,e},rotateY:function(e,t,i){i*=.5;const r=t[0],n=t[1],s=t[2],o=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l-s*a,e[1]=n*l+o*a,e[2]=s*l+r*a,e[3]=o*l-n*a,e},rotateZ:function(e,t,i){i*=.5;const r=t[0],n=t[1],s=t[2],o=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+n*a,e[1]=n*l-r*a,e[2]=s*l+o*a,e[3]=o*l-s*a,e},rotationTo:I,scale:x,set:v,setAxes:function(e,t,i,r){const n=P;return n[0]=i[0],n[3]=i[1],n[6]=i[2],n[1]=r[0],n[4]=r[1],n[7]=r[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],L(e,g(e,n))},setAxisAngle:c,slerp:p,sqlerp:function(e,t,i,r,n,s){return p(V,t,n,s),p(G,i,r,s),p(e,V,G,2*s*(1-s)),e},sqrLen:k,squaredLength:T,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},75218:function(e,t,i){"use strict";i.d(t,{L:function(){return a},g:function(){return o}});var r=i(77472),n=i(78879),s=i(31609);async function o(e,t){return await e.load(),a(e,t)}async function a(e,t){const i=[],o=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?o(...t):n.A.isCollection(t)?t.forEach((e=>o(e))):s.A.isLoadable(t)&&i.push(t))};t(o);let a=null;if(await(0,r.Tj)(i,(async e=>{const t=await(0,r.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||a||(a=t)})),a)throw a.error;return e}},7213:function(e,t,i){"use strict";function r(e){let t,i,r=[],n=!1;return function(...s){return n&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}(s,r)||(i=e.apply(this,s),t=this,r=s,n=!0),i}}i.d(t,{B:function(){return r}})},88226:function(e,t,i){"use strict";i.d(t,{Jd:function(){return h},Nk:function(){return l},OM:function(){return p},Oo:function(){return d},ix:function(){return c},yh:function(){return u}});var r=i(16691),n=i(56275),s=i(15999);function o(e,t,i,r=2,o="abbr"){return(0,s.zJ)(e,(0,n.kM)(t,i).value,i,r,o)}function a(e,t,i,r=2,o="abbr"){return(0,s.nD)(e,(0,n.kM)(t,i).value,i,r,o)}function l(e,t,i,n=r.ie,o=!0){return(0,s.Me)(e.value,e.unit,e.rotationType,t,i,n,o)}function c(e,t,i,r,n="abbr"){switch(r=r??2,i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.tr)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.Ee)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return o(e,t,i,r,n)}}function u(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.J1)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.Mm)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return a(e,t,i,r,n)}}function d(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.t_)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.W4)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return o(e,t,i,r,n)}}function p(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.LF)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.e_)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return a(e,t,i,r,n)}}function h(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.Sz)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.zq)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return o(e,t,i,r,n)}}},15999:function(e,t,i){"use strict";i.d(t,{Cq:function(){return u},Ee:function(){return h},J1:function(){return v},LF:function(){return _},Me:function(){return S},Mm:function(){return f},Sz:function(){return w},W4:function(){return g},e_:function(){return m},nD:function(){return p},t_:function(){return b},tr:function(){return y},v7:function(){return k},zJ:function(){return d},zq:function(){return x}});var r=i(69296),n=i(16691),s=i(15774),o=i(56275),a=i(50944),l=i(62938),c=i(2900);function u(e,t,i){return e.units[t][i]}function d(e,t,i,r=2,n="abbr"){return`${(0,c.ZV)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:t>0?"never":"exceptZero"})} ${u(e,i,n)}`}function p(e,t,i,r=2,n="abbr"){return`${(0,c.ZV)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${u(e,i,n)}`}function h(e,t,i,r=2,n="abbr"){const s=(0,l.x0)(t,i);return d(e,(0,l.oU)(t,i,s),s,r,n)}function f(e,t,i,r=2,n="abbr"){const s=(0,l.x0)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function g(e,t,i,r=2,n="abbr"){const s=(0,l.x$)(t,i);return d(e,(0,l.oU)(t,i,s),s,r,n)}function m(e,t,i,r=2,n="abbr"){const s=(0,l.x$)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function y(e,t,i,r=2,n="abbr"){const s=(0,l.OU)(t,i);return d(e,(0,l.oU)(t,i,s),s,r,n)}function v(e,t,i,r=2,n="abbr"){const s=(0,l.OU)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function b(e,t,i,r=2,n="abbr"){const s=(0,l.y7)(t,i);return d(e,(0,l.oU)(t,i,s),s,r,n)}function _(e,t,i,r=2,n="abbr"){const s=(0,l.y7)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function x(e,t,i,r=2,n="abbr"){const s=(0,l.wv)(t,i);return d(e,(0,l.oU)(t,i,s),s,r,n)}function w(e,t,i,r=2,n="abbr"){const s=(0,l.TL)(t,i);return d(e,(0,l.oU)(t,i,s),s,r,n)}const $=(e,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:e>0?"never":"exceptZero"});function S(e,t,i,r,s,a=n.ie,u=!0){let d=a.normalize((0,o.g2)((0,l.oU)(e,t,"degrees"),i,r),0,u);const p=$(d,s??2);return d=function(e,t){const i=JSON.stringify(t);let r=M.get(i);return r||(r=new Intl.NumberFormat("en-US",t),M.set(i,r)),/^[-+]?360\.?0*?$/.test(r.format(e))?0:e}(d,p),(0,c.ZV)(d,p)}const M=new Map;const T=["B","kB","MB","GB","TB"];function k(e,t){let i=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(r.u.KILOBYTES));i=(0,s.qE)(i,0,T.length-1);const n=(0,c.ZV)(t/r.u.KILOBYTES**i,{maximumFractionDigits:2});return(0,a.HC)(e.units.bytes[T[i]],{fileSize:n})}},66110:function(e,t,i){"use strict";i.d(t,{AG:function(){return a},lk:function(){return n},vD:function(){return o},yS:function(){return s}});const r="randomUUID"in crypto;function n(){if(r)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function s(){return`{${n().toUpperCase()}}`}function o(){return`{${n()}}`}function a(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}},6338:function(e,t,i){"use strict";i.d(t,{Hh:function(){return c},mT:function(){return d},o6:function(){return u},s1:function(){return l},ts:function(){return p}});var r=i(39819),n=i(38305),s=i(45532),o=i(57165),a=i(2900);function l(){return(0,n.i)()}function c(){return(0,n.l)()}function u(e,t){const i=[];e=(e=(e=e.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("","'")).replaceAll("",'"');const a=function(e){let t=null;if(e||(e=o.A.WGS84),e.wkid){if(t=n.P.geogcs(e.wkid),!t)throw new r.A("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new r.A("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(t=n.P.fromString(n.a.PE_TYPE_GEOGCS,e.wkt2||e.wkt),!t)throw new r.A("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}(t);return n.c.dmsToGeog(a,1,[e],i)?new s.default(i[0][0],i[0][1],t||o.A.WGS84):null}function d(e){return e&&l()?(0,a.$J)(e)??u(`0 0' 0" N | ${e}`)?.longitude??u(`0 | ${e}`)?.longitude??null:null}function p(e){return e&&l()?(0,a.$J)(e)??u(`${e} | 0 0' 0" E`)?.latitude??u(`${e} | 0`)?.latitude??null:null}},96611:function(e,t,i){"use strict";i.d(t,{Y0:function(){return c},lO:function(){return u}});var r=i(61714),n=i(57165),s=i(57652);const o=new n.A(r.fv),a=new n.A(r.FY),l=new n.A(r.LJ),c=new n.A(r.Ro);function u(e){const t=d.get(e);if(t)return t;let i=o;if(e)if(e===a)i=a;else if(e===l)i=l;else{const t=e.wkid,r=e.latestWkid;if(null!=t||null!=r)(0,s.tl)(t)||(0,s.tl)(r)?i=a:((0,s.ZL)(t)||(0,s.ZL)(r))&&(i=l);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===p?i=a:e===h&&(i=l)}}}return d.set(e,i),i}const d=new Map,p=a.wkt.toUpperCase(),h=l.wkt.toUpperCase()},65907:function(e,t,i){"use strict";i.d(t,{A:function(){return d}});var r,n=i(53804),s=i(75743),o=i(30905),a=i(23502),l=(i(58941),i(40633),i(13798),i(74376)),c=i(65953);let u=r=class extends((0,s.O)(o.oY)){constructor(e){super(e),this.type="georeferenced",this.origin=null}};u.absolute=new r,(0,n._)([(0,l.e)({georeferenced:"georeferenced"},{readOnly:!0})],u.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],u.prototype,"origin",void 0),u=r=(0,n._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],u);const d=u},20460:function(e,t,i){"use strict";i.d(t,{A:function(){return d}});var r=i(53804),n=i(75743),s=i(30905),o=i(23502),a=(i(58941),i(40633),i(13798),i(74376)),l=i(65953),c=i(32501);let u=class extends((0,n.O)(s.oY)){constructor(e){super(e),this.type="local",this.origin=(0,c.vt)()}};(0,r._)([(0,a.e)({local:"local"},{readOnly:!0})],u.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,r._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],u);const d=u},36405:function(e,t,i){"use strict";i.d(t,{A:function(){return m}});var r,n=i(53804),s=i(30905),o=i(23502),a=(i(58941),i(40633),i(13798),i(65953)),l=i(73364),c=i(39714),u=i(32237),d=i(61769),p=i(32501),h=i(26133);let f=r=class extends s.oY{constructor(e){super(e),this.translation=(0,p.vt)(),this.rotationAxis=(0,p.ci)(h.up),this.rotationAngle=0,this.scale=(0,p.fA)(1,1,1)}get rotation(){return(0,h.i4)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,p.o8)((0,h.yo)(e)),this.rotationAngle=(0,h.g7)(e)}get localMatrix(){const e=(0,c.vt)();return(0,u.x8)(g,(0,h.yo)(this.rotation),(0,h.$I)(this.rotation)),(0,l.o1)(e,g,this.translation,this.scale),e}get localMatrixInverse(){return(0,l.B8)((0,c.vt)(),this.localMatrix)}equals(e){return this===e||null!=e&&(0,l.t2)(this.localMatrix,e.localMatrix)}clone(){const e={translation:(0,p.o8)(this.translation),rotationAxis:(0,p.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.o8)(this.scale)};return new r(e)}};(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"translation",void 0),(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAxis",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAngle",void 0),(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"scale",void 0),(0,n._)([(0,o.MZ)()],f.prototype,"rotation",null),(0,n._)([(0,o.MZ)()],f.prototype,"localMatrix",null),(0,n._)([(0,o.MZ)()],f.prototype,"localMatrixInverse",null),f=r=(0,n._)([(0,a.$)("esri.geometry.support.MeshTransform")],f);const g=(0,d.vt)(),m=f},26133:function(e,t,i){"use strict";i.d(t,{$I:function(){return y},AU:function(){return f},Cr:function(){return d},g7:function(){return m},i4:function(){return u},ui:function(){return p},up:function(){return b},vt:function(){return c},yo:function(){return g}});var r=i(15774),n=i(73364),s=i(32237),o=i(61769),a=i(20551),l=i(32501);function c(e=b){return[e[0],e[1],e[2],e[3]]}function u(e,t,i=c()){return(0,a.c)(i,e),i[3]=t,i}function d(e,t,i){return(0,a.e)(i,e,t),(0,a.n)(i,i),i[3]=-(0,a.r)(e,t),i}function p(e,t=c()){const i=(0,n.l)(_,e);return v(t,(0,r.KJ)((0,s.Xd)(t,i))),t}function h(e,t,i=c()){return(0,s.x8)(_,e,y(e)),(0,s.x8)(x,t,y(t)),(0,s.lw)(_,x,_),v(i,(0,r.KJ)((0,s.Xd)(i,_)))}function f(e,t,i,r=c()){return u(l.Cw,e,w),u(l.JP,t,$),u(l.Cb,i,S),h(w,$,w),h(w,S,r),r}function g(e){return e}function m(e){return e[3]}function y(e){return(0,r.kU)(e[3])}function v(e,t){return e[3]=t,e}const b=[0,0,1,0],_=(0,o.vt)(),x=(0,o.vt)(),w=(c(),c()),$=c(),S=c()},73313:function(e,t,i){"use strict";i.d(t,{C:function(){return c},Cr:function(){return d},H6:function(){return g},_I:function(){return h},dz:function(){return m},fA:function(){return u},kb:function(){return p},ld:function(){return y},sd:function(){return f},vt:function(){return l}});var r=i(15774),n=i(89736),s=i(20551),o=i(32501),a=i(50973);function l(e){return e?{origin:(0,o.o8)(e.origin),vector:(0,o.o8)(e.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function c(e,t=l()){return u(e.origin,e.vector,t)}function u(e,t,i=l()){return(0,s.c)(i.origin,e),(0,s.c)(i.vector,t),i}function d(e,t,i=l()){return(0,s.c)(i.origin,e),(0,s.d)(i.vector,t,e),i}function p(e,t){const i=(0,s.d)(a.rq.get(),t,e.origin),n=(0,s.f)(e.vector,i),o=(0,s.f)(e.vector,e.vector),l=(0,r.qE)(n/o,0,1),c=(0,s.d)(a.rq.get(),(0,s.h)(a.rq.get(),e.vector,l),i);return(0,s.f)(c,c)}function h(e,t,i){return g(e,t,0,1,i)}function f(e,t,i){return(0,s.g)(i,e.origin,(0,s.h)(i,e.vector,t))}function g(e,t,i,n,o){const{vector:l,origin:c}=e,u=(0,s.d)(a.rq.get(),t,c),d=(0,s.f)(l,u)/(0,s.k)(l);return(0,s.h)(o,l,(0,r.qE)(d,i,n)),(0,s.g)(o,o,e.origin)}function m(e,t){if(v(e,function(e,t){const i=_.get();return i.origin=e,i.vector=t,i}(t.origin,t.direction),!1,b)){const{tA:t,pB:i,distance2:r}=b;if(t>=0&&t<=1)return r;if(t<0)return(0,s.s)(e.origin,i);if(t>1)return(0,s.s)((0,s.g)(a.rq.get(),e.origin,e.vector),i)}return null}function y(e,t,i){return!!v(e,t,!0,b)&&((0,s.c)(i,b.pA),!0)}function v(e,t,i,n){const o=1e-6,l=e.origin,c=(0,s.g)(a.rq.get(),l,e.vector),u=t.origin,d=(0,s.g)(a.rq.get(),u,t.vector),p=a.rq.get(),h=a.rq.get();if(p[0]=l[0]-u[0],p[1]=l[1]-u[1],p[2]=l[2]-u[2],h[0]=d[0]-u[0],h[1]=d[1]-u[1],h[2]=d[2]-u[2],Math.abs(h[0])<o&&Math.abs(h[1])<o&&Math.abs(h[2])<o)return!1;const f=a.rq.get();if(f[0]=c[0]-l[0],f[1]=c[1]-l[1],f[2]=c[2]-l[2],Math.abs(f[0])<o&&Math.abs(f[1])<o&&Math.abs(f[2])<o)return!1;const g=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],m=h[0]*f[0]+h[1]*f[1]+h[2]*f[2],y=p[0]*f[0]+p[1]*f[1]+p[2]*f[2],v=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],b=(f[0]*f[0]+f[1]*f[1]+f[2]*f[2])*v-m*m;if(Math.abs(b)<o)return!1;let _=(g*m-y*v)/b,x=(g+m*_)/v;i&&(_=(0,r.qE)(_,0,1),x=(0,r.qE)(x,0,1));const w=a.rq.get(),$=a.rq.get();return w[0]=l[0]+_*f[0],w[1]=l[1]+_*f[1],w[2]=l[2]+_*f[2],$[0]=u[0]+x*h[0],$[1]=u[1]+x*h[1],$[2]=u[2]+x*h[2],n.tA=_,n.tB=x,n.pA=w,n.pB=$,n.distance2=(0,s.s)(w,$),!0}const b={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},_=new n.I((()=>l()))},67376:function(e,t,i){"use strict";i.d(t,{CK:function(){return p},E9:function(){return u},Hq:function(){return d},MW:function(){return h},TE:function(){return f},yJ:function(){return g}});var r=i(88022),n=i(40633),s=i(20551),o=i(45532),a=i(65907),l=i(20460);function c(){return n.A.getLogger("esri.geometry.Mesh")}function u(e){return!d(e)}function d(e){return null!=e.origin}function p(e){return d(e.vertexSpace)}function h(e,t){if(!d(e))return null;const[i,r,n]=e.origin;return new o.default({x:i,y:r,z:n,spatialReference:t})}function f(e,t){const{x:i,y:n,z:s,spatialReference:o}=e,u=[i,n,s??0];return void 0!==t?.geographic&&((0,r.io)(c(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),t.vertexSpace&&c().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(t?.vertexSpace??(d=t?.geographic,null==d?void 0:d?"local":"georeferenced")??function(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}(o))?new l.A({origin:u}):new a.A({origin:u});var d}function g(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,s.p)(e.origin,t.origin))}},67496:function(e,t,i){"use strict";i.d(t,{Fm:function(){return a},Q7:function(){return l}});var r=i(89736),n=i(20551),s=i(32501),o=i(73313);function a(e,t,i){const r=t[0]-e[0],n=t[1]-e[1],s=i[0]-e[0],o=i[1]-e[1];return.5*Math.abs(r*o-n*s)}function l(e,t,i){return(0,n.d)(c,t,e),(0,n.d)(u,i,e),.5*(0,n.l)((0,n.e)(c,c,u))}i(50973),new r.I(o.vt),new r.I((()=>{return e?{p0:(0,s.o8)(e.p0),p1:(0,s.o8)(e.p1),p2:(0,s.o8)(e.p2)}:{p0:(0,s.vt)(),p1:(0,s.vt)(),p2:(0,s.vt)()};var e}));const c=(0,s.vt)(),u=(0,s.vt)()},92781:function(e,t,i){"use strict";i.d(t,{R:function(){return s},t:function(){return o}});var r=i(77528);const n={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}};let s=e=>(0,r.X$)(n,e),o={create:(e,t)=>(t=s(t),(0,r.dj)(e,document.createElement("div"),void 0,t),(0,r.Av)(e,t)),append:(e,t,i)=>(i=s(i),(0,r.dj)(t,e,void 0,i),(0,r.Av)(t,i)),insertBefore:(e,t,i)=>(i=s(i),(0,r.dj)(t,e.parentNode,e,i),(0,r.Av)(t,i)),merge:(e,t,i)=>(i=s(i),t.domNode=e,(0,r.OM)(e,t,i),(0,r.Av)(t,i)),replace:(e,t,i)=>(i=s(i),(0,r.dj)(t,e.parentNode,e,i),e.parentNode.removeChild(e),(0,r.Av)(t,i))}},77528:function(e,t,i){"use strict";i.d(t,{Av:function(){return L},OM:function(){return $},X$:function(){return l},dj:function(){return S}});var r=i(10362);const n="http://www.w3.org/",s=`${n}2000/svg`,o=`${n}1999/xlink`;let a=[],l=(e,t)=>{let i={};return Object.keys(e).forEach((t=>{i[t]=e[t]})),t&&Object.keys(t).forEach((e=>{i[e]=t[e]})),i},c=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),u=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},d=(e,t,i)=>{if(""!==t.vnodeSelector)for(let r=i;r<e.length;r++)if(c(e[r],t))return r;return-1},p=(e,t,i,r)=>{let n=e[t];if(""===n.vnodeSelector)return;let s=n.properties;if(!(s?void 0===s.key?s.bind:s.key:void 0))for(let s=0;s<e.length;s++)if(s!==t){let t=e[s];if(c(t,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${"added"===r?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},h=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},f=[],g=!1,m=e=>{(e.children||[]).forEach(m),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},y=()=>{g=!1,f.forEach(m),f.length=0},v=e=>{f.push(e),g||(g=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(y,{timeout:16}):setTimeout(y,16))},b=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i){t.style.pointerEvents="none";let r=()=>{t.parentNode&&(t.parentNode.removeChild(t),v(e))};return void i(t,r,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),v(e))},_=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){let l=a[c],d=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)M(e,d,!0);else if("classes"===l){let t=Object.keys(d),i=t.length;for(let r=0;r<i;r++){let i=t[r];d[i]&&e.classList.add(i)}}else if("styles"===l){let t=Object.keys(d),r=t.length;for(let n=0;n<r;n++){let r=t[n],s=d[r];s&&(u(s),i.styleApplyer(e,r,s))}}else if("key"!==l&&null!=d){let a=typeof d;"function"===a?(0===l.lastIndexOf("on",0)&&(n&&(d=n(l,d,e,t)),"oninput"===l&&function(){let e=d;d=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=d):i.namespace===s?"href"===l?e.setAttributeNS(o,l,d):e.setAttribute(l,d):"string"===a&&"value"!==l?"innerHTML"===l?e[l]=r.W5.sanitize(d):x(e)&&l in e?e[l]=d:e.setAttribute(l,d):e[l]=d}}};function x(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let w,$=(e,t,i)=>{((e,t,i)=>{if(t)for(let r of t)S(r,e,void 0,i)})(e,t.children,i),t.text&&(e.textContent=t.text),_(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},S=(e,t,i,r)=>{let n,o=0,a=e.vnodeSelector,c=t.ownerDocument;if(""===a)n=e.domNode=c.createTextNode(e.text),void 0!==i?t.insertBefore(n,i):t.appendChild(n);else{for(let u=0;u<=a.length;++u){let d=a.charAt(u);if(u===a.length||"."===d||"#"===d){let d=a.charAt(o-1),p=a.slice(o,u);"."===d?n.classList.add(p):"#"===d?n.id=p:("svg"===p&&(r=l(r,{namespace:s})),void 0!==r.namespace?n=e.domNode=c.createElementNS(r.namespace,p):(n=e.domNode=e.domNode||c.createElement(p),"input"===p&&e.properties&&void 0!==e.properties.type&&n.setAttribute("type",e.properties.type)),void 0!==i?t.insertBefore(n,i):n.parentNode!==t&&t.appendChild(n)),o=u+1}}$(n,e,r)}},M=(e,t,i)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,i)}))},T=(e,t,i,n)=>{if(!i)return;let a=!1,l=Object.keys(i),c=l.length;for(let d=0;d<c;d++){let c=l[d],p=i[c],h=t[c];if("class"===c)h!==p&&(M(e,h,!1),M(e,p,!0));else if("classes"===c){let t=e.classList,i=Object.keys(p),r=i.length;for(let e=0;e<r;e++){let r=i[e],n=!!p[r];n!==!!h[r]&&(a=!0,n?t.add(r):t.remove(r))}}else if("styles"===c){let t=Object.keys(p),i=t.length;for(let r=0;r<i;r++){let i=t[r],s=p[i];s!==h[i]&&(a=!0,s?(u(s),n.styleApplyer(e,i,s)):n.styleApplyer(e,i,""))}}else if(p||"string"!=typeof h||(p=""),"value"!==c||x(e)){if(p!==h){let t=typeof p;"function"===t&&n.eventHandlerInterceptor||(n.namespace===s?"href"===c?e.setAttributeNS(o,c,p):e.setAttribute(c,p):"string"===t?"innerHTML"===c?e[c]=r.W5.sanitize(p):"role"===c&&""===p?e.removeAttribute(c):x(e)&&c in e?e[c]=p:e.setAttribute(c,p):e[c]!==p&&(e[c]=p),a=!0)}}else{let t=e[c];t!==p&&(e["oninput-value"]?t===e["oninput-value"]:p!==h)&&(e[c]=p,e["oninput-value"]=void 0),p!==h&&(a=!0)}}return a},k=(e,t,i,r,n)=>{if(i===r)return!1;r=r||a;let s,o=(i=i||a).length,l=r.length,u=0,f=0,g=!1;for(;f<l;){let a=u<o?i[u]:void 0,l=r[f];if(void 0!==a&&c(a,l))g=w(a,l,n)||g,u++;else{let a=d(i,l,u+1);if(a>=0){for(s=u;s<a;s++)b(i[s]),p(i,s,e,"removed");g=w(i[a],l,n)||g,u=a+1}else S(l,t,u<o?i[u].domNode:void 0,n),h(l),p(r,f,e,"added")}f++}if(o>u)for(s=u;s<o;s++)b(i[s]),p(i,s,e,"removed");return g};w=(e,t,i)=>{let r=e.domNode,n=!1;if(e===t)return!1;let o=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(e,r),t.domNode=e,n=!0,n}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(i=l(i,{namespace:s})),e.text!==t.text&&(o=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,o=k(t,r,e.children,t.children,i)||o,o=T(r,e.properties,t.properties,i)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),n};let L=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,w(r,i,t)},domNode:e.domNode})},81401:function(e,t,i){"use strict";i.d(t,{F:function(){return a}});var r=i(92781);let n;n=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let s=(e,t)=>{let i=e;return t.forEach((e=>{i=i&&i.children?n(i.children,(t=>t.domNode===e)):void 0})),i},o=(e,t,i)=>{let r=function(r){i("domEvent",r);let n=t(),o=((e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(r.currentTarget,n.domNode);o.reverse();let a,l=s(n.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),a};return(e,t,i,n)=>r},a=e=>{let t,i,n=(0,r.R)(e),s=n.performanceLogger,a=!0,l=!1,c=[],u=[],d=(e,i,r)=>{let a;n.eventHandlerInterceptor=o(t,(()=>a),s),a=e(i,r(),n),c.push(a),u.push(r)},p=()=>{if(i=void 0,a){a=!1,s("renderStart",void 0);for(let e=0;e<c.length;e++){let t=u[e]();s("rendered",void 0),c[e].update(t),s("patched",void 0)}s("renderDone",void 0),a=!0}};return t={renderNow:p,scheduleRender:()=>{i||l||(i=requestAnimationFrame(p))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{d(r.t.append,e,t)},insertBefore:(e,t)=>{d(r.t.insertBefore,e,t)},merge:(e,t)=>{d(r.t.merge,e,t)},replace:(e,t)=>{d(r.t.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}},43173:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return A}});var r=i(53804),n=i(53216),s=i(39819),o=i(30905),a=i(21609),l=i(31609),c=i(90683),u=i(23502),d=i(67888),p=i(47332),h=i(65953),f=i(91484),g=i(51432),m=i(83525),y=i(40633),v=i(77560);i(13798),i(58941);let b=class extends m.A{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:_(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,c.oP)(e)?y.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return _(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const i=this.cdnUrl;if(null==i)throw new s.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:r}=await i.e(4460).then(i.bind(i,55597));return await r(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function _(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,c.oP)(e)&&(e=(0,c.V1)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,r._)([(0,u.MZ)()],b.prototype,"portalItem",void 0),(0,r._)([(0,u.MZ)({type:String,value:null})],b.prototype,"path",null),(0,r._)([(0,v.w)("path")],b.prototype,"_castPath",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],b.prototype,"url",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],b.prototype,"cdnUrl",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],b.prototype,"itemRelativeUrl",null),b=(0,r._)([(0,h.$)("esri.portal.PortalItemResource")],b);const x=b;let w=class extends m.A{constructor(e){super(e),this.created=null,this.rating=null}};(0,r._)([(0,u.MZ)()],w.prototype,"created",void 0),(0,r._)([(0,u.MZ)()],w.prototype,"rating",void 0),w=(0,r._)([(0,h.$)("esri.portal.PortalRating")],w);const $=w;var S,M=i(60534);const T=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),k=new Set(["KML","GeoJson","CSV"]);let L=S=class extends((0,o.Te)(l.A)){static from(e){return(0,d.PZ)(S,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return"Feature Service"===e||"Feature Collection"===e?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?i="Scene Layer":"Video Service"===e?i="Video Layer":"Scene Package"===e?i="Scene Layer Package":"Stream Service"===e?i="Feature Layer":"Geoprocessing Service"===e?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?i="GeoEnrichment Service":"Geocoding Service"===e?i="Locator":"Microsoft Powerpoint"===e?i="Microsoft PowerPoint":"GeoJson"===e?i="GeoJSON":"Globe Service"===e?i="Globe Layer":"Vector Tile Service"===e?i="Tile Layer":"netCDF"===e?i="NetCDF":"Map Service"===e?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?i="Big Data File Share":"Compact Tile Package"===e?i="Tile Package (tpkx)":"Raster function template"===e?i="Raster Function Template":"OGCFeatureServer"===e?i="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?i="Instant App":"Insights Page"===e?i="Insights Report":"Excalibur Imagery Project"===e?i="Excalibur Project":"3DTiles Service"===e?i="3D tiles layer":"3DTiles Package"===e&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new f.default(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let i,r=!1,s=!1,o=!1,a=!1,l=!1,c=!1,u=!1,d=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(s=t.includes("Table"),o=t.includes("Route Layer"),a=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),i=l&&s?"spatiotemporaltable":s?"table":o?"routelayer":a?"markup":l?"spatiotemporal":c?"utilitynetwork":r?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(l=t.includes("Spatiotemporal"),u=t.includes("Relational"),i=l||u?"mapimages":r||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):i="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?i="maps":"web scene"===e?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?i="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?i="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?i="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?i="datafiles":"360 vr experience"===e?i="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?i="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?i="addindesktop":"pdf"===e?i="pdf":"microsoft word"===e?i="word":"microsoft excel"===e?i="excel":"microsoft powerpoint"===e?i="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?i="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?i="layersgray":"analysis model"===e?i="analysismodel":"scene package"===e?i="scenepackage":"3dtiles package"===e?i="3dtileslayerpackage":"3dtiles service"===e?i="3dtileslayer":"mobile scene package"===e?i="mobilescenepackage":"tile package"===e||"compact tile package"===e?i="tilepackage":"task file"===e?i="taskfile":"report template"===e?i="report-template":"statistical data collection"===e?i="statisticaldatacollection":"insights workbook"===e?i="workbook":"insights model"===e?i="insightsmodel":"insights page"===e?i="insightspage":"insights theme"===e?i="insightstheme":"hub initiative"===e?i="hubinitiative":"hub page"===e?i="hubpage":"hub site application"===e?i="hubsite":"hub event"===e?i="hubevent":"hub project"===e?i="hubproject":"relational database connection"===e?i="relationaldatabaseconnection":"big data file share"===e?i="datastorecollection":"image collection"===e?i="imagecollection":"desktop style"===e?i="desktopstyle":"style"===e?i=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?i="dashboard":"raster function template"===e?i="rasterprocessingtemplate":"vector tile package"===e?i="vectortilepackage":"ortho mapping project"===e?i="orthomappingproject":"ortho mapping template"===e?i="orthomappingtemplate":"solution"===e?i="solutions":"geopackage"===e?i="geopackage":"deep learning package"===e?i="deeplearningpackage":"real time analytic"===e?i="realtimeanalytics":"reality mapping project"===e?i="realitymappingproject":"big data analytic"===e?i="bigdataanalytics":"feed"===e?i="feed":"excalibur imagery project"===e?i="excaliburimageryproject":"notebook"===e?i="notebook":"storymap"===e?i="storymap":"survey123 add in"===e?i="survey123addin":"mission"===e?i="mission":"mission report"===e?i="missionreport":"mission template"===e?i="missiontemplate":"quickcapture project"===e?i="quickcaptureproject":"pro report"===e?i="proreport":"pro report template"===e?i="proreporttemplate":"urban model"===e?i="urbanmodel":"urban project"===e?i="urbanproject":"web experience"===e?i="experiencebuilder":"web experience template"===e?i="webexperiencetemplate":"experience builder widget"===e?i="experiencebuilderwidget":"experience builder widget package"===e?i="experiencebuilderwidgetpackage":"workflow"===e?i="workflow":"kernel gateway connection"===e?i="kernelgatewayconnection":"insights script"===e?i="insightsscript":"hub initiative template"===e?i="hubinitiativetemplate":"storymap theme"===e?i="storymaptheme":"knowledge graph"===e?i="knowledgegraph":"knowledge graph layer"===e?i="knowledgegraphlayer":"knowledge studio project"===e?i="knowledgestudio":"native application"===e?i="nativeapp":"native application installer"===e?i="nativeappinstaller":"web link chart"===e?i="linkchart":"knowledge graph web investigation"===e?i="investigation":"ogcfeatureserver"===e?i="features":"pro presentation"===e?i="propresentation":"pro project"===e?i="proproject":"insights workbook package"===e?i="insightsworkbookpackage":"apache parquet"===e?i="apacheparquet":"notebook code snippet library"===e?i="notebookcodesnippets":"suitability model"===e?i="suitabilitymodel":"esri classifier definition"===e?i="classifierdefinition":"esri classification schema"===e?i="classificationschema":"insights data engineering workbook"===e?i="dataengineeringworkbook":"insights data engineering model"===e?i="dataengineeringmodel":"deep learning studio project"===e?i="deeplearningproject":"discussion"===e?i="discussion":"allsource project"===e?i="allsourceproject":"api key"===e?i="apikey":"data pipeline"===e?i="datapipelines":"group layer"===e?(d=t.includes("Map"),i=d?"layergroup2d":"layergroup"):i="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",i?(0,n.s)("esri/images/portal/"+i+"16.png"):null}get isLayer(){return null!=this.type&&T.has(this.type)}get itemCdnUrl(){return(0,M.a)(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=g.A.getDefault()),i=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof $&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new $({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,a.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:(0,a.o8)(this.created),culture:this.culture,description:this.description,extent:(0,a.o8)(this.extent),groupCategories:(0,a.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,a.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,a.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new S({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const i=e[t];i&&(e[t]=JSON.stringify(i))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new $(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},S)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,i={method:"post"};i.query=this.createPostQuery();for(const e in i.query)null===i.query[e]&&(i.query[e]="");return i.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?i.query.text=t:"object"==typeof t&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new s.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:n,tags:o,title:a}=e||{},l={method:"post",query:{copyPrivateResources:"all"===r,folder:"string"==typeof n?n:n?.id,includeResources:!!r,tags:o?.join(","),title:a}},{itemId:c}=await t.request(`${i}/copy`,l);return new S({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if("string"==typeof t)(0,c.DB)(t)?r.query={data:t}:r.query={url:(0,c.s2)(t)},null!=i&&(r.query.filename=i);else{const e=new FormData;null!=i?e.append("file",t,i):e.append("file",t),r.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await i.e(4460).then(i.bind(i,55597));return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await i.e(4460).then(i.bind(i,55597));return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await i.e(4460).then(i.bind(i,55597));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new s.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await i.e(4460).then(i.bind(i,55597));return t(this,e)}resourceFromPath(e){return new x({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};return(0,a.oy)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new S({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,r._)([(0,u.MZ)({type:["private","shared","org","public"]})],L.prototype,"access",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"accessInformation",void 0),(0,r._)([(0,u.MZ)({type:String})],L.prototype,"apiKey",void 0),(0,r._)([(0,u.MZ)({json:{read:{source:"appProxies"}}})],L.prototype,"applicationProxies",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"avgRating",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"categories",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"classification",void 0),(0,r._)([(0,u.MZ)({type:Date})],L.prototype,"created",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"culture",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"description",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"displayName",null),(0,r._)([(0,u.MZ)({type:f.default})],L.prototype,"extent",void 0),(0,r._)([(0,p.w)("extent")],L.prototype,"readExtent",null),(0,r._)([(0,u.MZ)()],L.prototype,"groupCategories",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"iconUrl",null),(0,r._)([(0,u.MZ)()],L.prototype,"id",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"isLayer",null),(0,r._)([(0,u.MZ)({type:Boolean,readOnly:!0})],L.prototype,"isOrgItem",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"itemControl",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"itemPageUrl",null),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"itemUrl",null),(0,r._)([(0,u.MZ)()],L.prototype,"licenseInfo",void 0),(0,r._)([(0,u.MZ)({type:Date})],L.prototype,"modified",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"name",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"numComments",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"numRatings",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"numViews",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"owner",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"ownerFolder",void 0),(0,r._)([(0,u.MZ)({type:g.A})],L.prototype,"portal",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"screenshots",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"size",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"snippet",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"sourceJSON",void 0),(0,r._)([(0,u.MZ)({type:String})],L.prototype,"sourceUrl",void 0),(0,r._)([(0,u.MZ)({type:String})],L.prototype,"spatialReference",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"tags",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"thumbnail",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"thumbnailUrl",null),(0,r._)([(0,u.MZ)()],L.prototype,"title",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"type",void 0),(0,r._)([(0,u.MZ)()],L.prototype,"typeKeywords",void 0),(0,r._)([(0,u.MZ)({type:String,json:{read(e,t){if(k.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],L.prototype,"url",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],L.prototype,"userItemUrl",null),L=S=(0,r._)([(0,h.$)("esri.portal.PortalItem")],L);const A=L},82418:function(e,t,i){"use strict";function r(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function n(e,t){return"number"==typeof e?e:e?.stops?.length?function(e){let t=0,i=0;for(let r=0;r<e.length;r++){const n=e[r].size;"number"==typeof n&&(t+=n,i++)}return t/i}(e.stops):t}function s(e,t){if(!t)return e;const i=t.filter((e=>"size"===e.type)).map((t=>{const{maxSize:i,minSize:r}=t;return(n(i,e)+n(r,e))/2}));let r=0;const s=i.length;if(0===s)return e;for(let e=0;e<s;e++)r+=i[e];const o=Math.floor(r/s);return Math.max(o,e)}function o(e){const t=e?.renderer,i=e?.pointerType,n="touch"===i?9:6;if(!t)return n;const o="visualVariables"in t?s(n,t.visualVariables):n;if("simple"===t.type)return r(o,t.symbol);if("unique-value"===t.type){let e=o;return t.uniqueValueInfos?.forEach((t=>{e=r(e,t.symbol)})),e}if("class-breaks"===t.type){let e=o;return t.classBreakInfos.forEach((t=>{e=r(e,t.symbol)})),e}return"dot-density"===t.type||t.type,o}i.d(t,{o:function(){return o}})},33118:function(e,t,i){"use strict";i.d(t,{fs:function(){return o},i0:function(){return a}});var r=i(8289),n=i(53743),s=(i(54547),i(51107),i(21168));function o(e){return(0,n.vE)(e)||(0,n.zD)(e)||(0,n.Ah)(e)}function a(e,t){const{format:i,timeZoneOptions:n,fieldType:o}=t??{};let a,l;if(n&&({timeZone:a,timeZoneName:l}=(0,s.hv)(n.layerTimeZone,n.datesInUnknownTimezone,n.viewTimeZone,(0,r.J2)(i||"short-date-short-time"),o)),"string"==typeof e&&isNaN(Date.parse("time-only"===o?`1970-01-01T${e}Z`:e)))return e;switch(o){case"date-only":{const t=(0,r.J2)(i||"short-date");return"string"==typeof e?(0,r.iS)(e,{...t}):(0,r.Yq)(e,{...t,timeZone:s.n$})}case"time-only":{const t=(0,r.J2)(i||"short-time");return"string"==typeof e?(0,r.F8)(e,t):(0,r.Yq)(e,{...t,timeZone:s.n$})}case"timestamp-offset":{if(!a&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=i||n?(0,r.J2)(i||"short-date-short-time"):void 0,s=t?{...t,timeZone:a,timeZoneName:l}:void 0;return"string"==typeof e?(0,r.Ey)(e,s):(0,r.Yq)(e,s)}default:{const t=i||n?(0,r.J2)(i||"short-date-short-time"):void 0;return(0,r.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:a,timeZoneName:l}:void 0)}}}new Set(["integer","small-integer"])},11876:function(e,t,i){"use strict";i.d(t,{H:function(){return o},q:function(){return s}});var r=i(53216),n=i(38225);async function s(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await(0,n.ud)("esri/t9n/basemaps");return i[e]||i[t]}const o={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},51107:function(e,t,i){"use strict";i.d(t,{VC:function(){return u},dp:function(){return p},jj:function(){return d},ns:function(){return h}});var r=i(74756),n=i(25591),s=(i(78879),i(40633)),o=i(95929),a=(i(90683),i(67888)),l=(i(25128),i(11876));const c=()=>s.A.getLogger("esri.support.basemapUtils");function u(){return{}}function d(e){for(const t in e){const i=e[t];(0,o.pR)(i),delete e[t]}}function p(e,t){let i;if("string"==typeof e){const s=e in l.H,o=!s&&e.includes("/");if(!s&&!o){if(n.default.apiKey)c().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(l.H).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");c().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(i=t[e]),i||(i=s?r.default.fromId(e):new r.default({style:{id:e}}),t&&(t[e]=i))}else i=(0,a.dp)(r.default,e);return i?.destroyed&&(c().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function h(e,t){return e.basemap?.referenceLayers?.some((e=>e.uid===t))||e.basemap?.baseLayers?.some((e=>e.uid===t))}},76722:function(e,t,i){"use strict";i.d(t,{c:function(){return s}});var r=i(62938),n=i(51432);function s(e){const t="metric";if(null==e)return t;const i=e.map,s=(i&&"portalItem"in i?i.portalItem?.portal:null)??n.A.getDefault();switch(s.user?.units??s.units){case t:return t;case"english":return"imperial"}return(0,r.jM)(e.spatialReference)??t}},93839:function(e,t,i){"use strict";i.d(t,{fJ:function(){return s},g4:function(){return n},hY:function(){return o}});const r="calcite-mode-";function n(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function s(){return`${r}${n()?"dark":"light"}`}function o(e){a(e),e.classList.add(s())}function a(e){Array.from(e.classList).forEach((t=>{t.startsWith(r)&&e.classList.remove(t)}))}},33389:function(e,t,i){"use strict";var r,n,s,o,a,l,c,u,d,p,h,f,g,m,y,v,b,_,x,w,$,S,M,T,k,L,A,C,I,E,O,R,V,G,P,D,N,Z,U,F,z,H,j,B,W,q,K,Y,X,J,Q,ee,te,ie,re,ne,se,oe,ae,le,ce,ue;i.d(t,{$2:function(){return a},C1:function(){return s},Hz:function(){return f},JO:function(){return n},M1:function(){return M},O$:function(){return oe},Q1:function(){return K},TZ:function(){return b},WE:function(){return I},Y:function(){return c},YI:function(){return X},bj:function(){return u},e_:function(){return q},f0:function(){return se},fu:function(){return h},g7:function(){return d},ip:function(){return Y},mU:function(){return E},oF:function(){return $},uQ:function(){return S},uT:function(){return N},vG:function(){return le},wd:function(){return z},xR:function(){return r},xn:function(){return _},xw:function(){return L},yS:function(){return Z}}),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(s||(s={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(o||(o={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(a||(a={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(l||(l={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(c||(c={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(u||(u={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(d||(d={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(p||(p={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(h||(h={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(f||(f={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(g||(g={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(m||(m={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(y||(y={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(v||(v={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(b||(b={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(_||(_={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(x||(x={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(w||(w={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}($||($={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(S||(S={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(M||(M={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(T||(T={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(k||(k={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(L||(L={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(A||(A={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(C||(C={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(I||(I={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(E||(E={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(O||(O={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(R||(R={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(V||(V={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AloneLine=1]="AloneLine"}(G||(G={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(P||(P={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(D||(D={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(N||(N={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(Z||(Z={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(U||(U={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(F||(F={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(z||(z={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(H||(H={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(j||(j={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(B||(B={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(W||(W={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(q||(q={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(K||(K={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(Y||(Y={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(X||(X={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(J||(J={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(Q||(Q={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(ee||(ee={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(te||(te={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(ie||(ie={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(re||(re={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(ne||(ne={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(se||(se={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(oe||(oe={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(ae||(ae={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(le||(le={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(ce||(ce={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(ue||(ue={}))},74661:function(e,t,i){"use strict";i.d(t,{A7:function(){return c},Cx:function(){return u},Hk:function(){return d},JJ:function(){return g},SF:function(){return p},UK:function(){return l},jM:function(){return h},x3:function(){return f}}),i(58941);var r=i(8740),n=i(22198),s=i(90363),o=i(90972),a=i(6259);const l=s.A.fromJSON(a.Cb),c=n.A.fromJSON(a.yM),u=r.A.fromJSON(a.WR),d=o.A.fromJSON(a.JZ);function p(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return l;case"polyline":return c;case"polygon":case"extent":return u}return null}const h=s.A.fromJSON(a.nC),f=n.A.fromJSON(a.HW),g=r.A.fromJSON(a.b6)},6259:function(e,t,i){"use strict";i.d(t,{Cb:function(){return s},HW:function(){return u},JR:function(){return n},JZ:function(){return l},WR:function(){return a},b6:function(){return d},fT:function(){return r},nC:function(){return c},yM:function(){return o}});const r=[252,146,31,255],n=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},70684:function(e,t,i){"use strict";i.d(t,{J:function(){return _}}),i(50917);var r=i(59469),n=(i(10748),i(61226)),s=i(13520),o=i(67888),a=i(13786),l=i(1932),c=i(32501),u=i(33389),d=i(28397),p=i(21267),h=i(21858),f=i(45532),g=i(91508),m=i(57165),y=i(38164),v=i(90363),b=i(22198);class _ extends h.b{constructor(e){super(),this._graphicsLayer=e,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(e,t){return this._visualizeSnappingIndicator(new f.default({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol("intersectionPoint",t.view.effectiveTheme.accentColor))}visualizePoint(e,t){return this._visualizeSnappingIndicator(new f.default({x:e.point[0],y:e.point[1],spatialReference:t.spatialReference}),this._getOrCreateSymbol("point",t.view.effectiveTheme.accentColor))}visualizeLine(e,t){return this._visualizeSnappingIndicator(new g.A({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:(0,o.PZ)(m.A,t.spatialReference)}),this._getOrCreateSymbol("line",t.view.effectiveTheme.accentColor))}visualizeParallelSign(e,t){return this._visualizeSnappingIndicator(new g.A({paths:[[[...e.lineStart],[...e.lineEnd]]],spatialReference:(0,o.PZ)(m.A,t.spatialReference)}),this._getOrCreateSymbol("parallelSign",t.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(e,t){const i=(0,l.vt)(),r=(0,l.vt)(),n=(0,c.vt)();(0,a.Re)(i,(0,d.Xz)(e.centerVertex),(0,d.Xz)(e.previousVertex)),(0,a.Re)(r,(0,d.Xz)(e.nextVertex),(0,d.Xz)(e.previousVertex)),(0,a.$A)(n,i,r);const s="rightAngleQuad"+(n[2]<0?45:225);return this._visualizeSnappingIndicator(new g.A({paths:[[[...e.previousVertex],[...e.centerVertex],[...e.nextVertex]]],spatialReference:(0,o.PZ)(m.A,t.spatialReference)}),this._getOrCreateSymbol(s,t.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(e,t){const i=new r.default({geometry:e,symbol:t});return this._graphicsLayer.add(i),(0,n.hA)((()=>{this._graphicsLayer.remove(i)}))}_getOrCreateSymbol(e,t){const i=this._symbolPairingsByType;return i.get(e)?.color!==t&&i.set(e,{color:t,symbol:x(e,t)}),i.get(e).symbol}}function x(e,t){const i=[...t.toRgb(),255*t.a];switch(e){case"point":return new v.A({outline:{width:.5,color:[0,0,0,1]},size:10,color:t});case"intersectionPoint":return new v.A({outline:new b.A({width:1.5,color:t}),size:15,color:[0,0,0,0]});case"line":return new y.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:u.uT.Butt,joinStyle:u.wd.Round,miterLimit:10,width:(0,s.PN)(p.N.lineHintWidthTarget),color:i}]}}});case"parallelSign":return new y.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:i}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case"rightAngleQuad45":case"rightAngleQuad225":{const r="rightAngleQuad45"===e?45:225;return new y.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,s.PN)(p.N.rightAngleHintSize),rotation:r,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,s.PN)(p.N.rightAngleHintOutlineSize),color:i},{type:"CIMSolidFill",enable:!0,color:[...t.toRgb(),255*t.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}},65420:function(e,t,i){"use strict";var r;i.d(t,{RT:function(){return r}}),function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"}(r||(r={}))},62190:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return I}});var r=i(53804),n=(i(10748),i(48996)),s=i(21609),o=i(28181),a=i(23502),l=(i(58941),i(40633),i(65953)),c=i(19702),u=i(67060),d=i(93959),p=i(777);class h{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-click"}}class f{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-double-click"}}class g{constructor(e,t,i,r,n,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=r,this.y=n,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-start"}preventDefault(){this.defaultPrevented=!0}}class m{constructor(e,t,i,r,n,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=r,this.y=n,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move"}preventDefault(){this.defaultPrevented=!0}}class y{constructor(e,t,i,r,n,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=r,this.y=n,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-stop"}preventDefault(){this.defaultPrevented=!0}}class v{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-over"}}class b{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-out"}}class _{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-down"}}class x{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-up"}}var w=i(87922),$=i(82067),S=i(62097),M=i(90363),T=i(22198),k=i(8740);const L="indicator-symbols";let A=class extends n.A.EventedAccessor{constructor(e){super(e),this._activeGraphic=null,this._dragEvent=null,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._manipulators=[],this._layerViews=null,this.type="graphic-mover",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new c.default({listMode:"hide",internal:!0,title:"GraphicMover highlight layer"}),this.view=null}initialize(){(0,p.Y)(this.view,this.layer),this._highlightHelper=new d.A({view:this.view}),this.refresh(),this.addHandles([(0,o.watch)((()=>this.graphics.length),(()=>this.refresh())),(0,o.when)((()=>this.view?.ready),(()=>{this.addHandles([this.view.on("immediate-click",(e=>this._clickHandler(e)),w.o.TOOL),this.view.on("double-click",(e=>this._doubleClickHandler(e)),w.o.TOOL),this.view.on("pointer-down",(e=>this._pointerDownHandler(e)),w.o.TOOL),this.view.on("pointer-move",(e=>this._pointerMoveHandler(e)),w.o.TOOL),this.view.on("pointer-up",(e=>this._pointerUpHandler(e)),w.o.TOOL),this.view.on("drag",(e=>this._dragHandler(e)),w.o.TOOL),this.view.on("key-down",(e=>this._keyDownHandler(e)),w.o.TOOL)])}),{once:!0,initial:!0}),(0,o.watch)((()=>this.view),(e=>{this._highlightHelper.removeAll(),this._highlightHelper.view=e}))])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((e=>e.destroy())),this._manipulators=null}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),e&&this._highlightHelper?.add(this.graphics)}get state(){const e=this.view.ready,t=this.graphics.length>0,i=this._activeGraphic;return e&&t?i?"moving":"active":e?"ready":"disabled"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(e,t){const i=this.graphics[e];i&&(i.set("geometry",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(e){const t=this._findTargetGraphic((0,S.ZV)(e));if(t){const i=new h(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-click",i),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(i)}}_doubleClickHandler(e){const t=this._findTargetGraphic((0,S.ZV)(e));if(t){const i=new f(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-double-click",i),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(i)}}_pointerDownHandler(e){const t=this._findTargetGraphic((0,S.ZV)(e));if(t){this._activeGraphic=t;const{x:i,y:r}=e,n=new _(t,this.graphics.indexOf(t),i,r,e);this.emit("graphic-pointer-down",n),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(n)}else this._activeGraphic=null}_pointerUpHandler(e){if(this._activeGraphic){const{x:t,y:i}=e,r=this.graphics.indexOf(this._activeGraphic),n=new x(this._activeGraphic,r,t,i,e);this.emit("graphic-pointer-up",n),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(n)}}_pointerMoveHandler(e){if(this._dragEvent)return;const t=this._findTargetGraphic((0,S.ZV)(e));if(t){const{x:i,y:r}=e;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const n=this.graphics.indexOf(this._hoverGraphic),s=new b(this.graphics[n],n,i,r,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}const n=this.graphics.indexOf(t),s=new v(t,n,i,r,e);return this._hoverGraphic=t,this.emit("graphic-pointer-over",s),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(s))}if(this._hoverGraphic){const{x:t,y:i}=e,r=this.graphics.indexOf(this._hoverGraphic),n=new b(this.graphics[r],r,t,i,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",n),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(n)}}_dragHandler(e){if("start"!==e.action&&!this._dragEvent||!this._activeGraphic?.geometry)return;"start"===e.action&&this._removeIndicators(),e.stopPropagation();const{action:t,x:i,y:r}=e,n=this.graphics.indexOf(this._activeGraphic),o=this._dragEvent?i-this._dragEvent.x:0,a=this._dragEvent?r-this._dragEvent.y:0,l=i-e.origin.x,c=r-e.origin.y,d="start"===t?this._activeGraphic.geometry:this._initialDragGeometry,p=(0,u.lR)(d,l,c,this.view);if(this._activeGraphic.geometry=p,this.enableMoveAllGraphics&&this.graphics.forEach((e=>{e!==this._activeGraphic&&(e.geometry=(0,u.lR)(e.geometry,o,a,this.view))})),this._dragEvent=e,"start"===t){this._initialDragGeometry=(0,s.o8)(d);const t=new g(this._activeGraphic,this.graphics,n,i,r,o,a,l,c,e);this.emit("graphic-move-start",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set("geometry",d)}else if("update"===t){const t=new m(this._activeGraphic,this.graphics,n,i,r,o,a,l,c,e);this.emit("graphic-move",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=d)}else{const t=new y(this._activeGraphic,this.graphics,n,i,r,o,a,l,c,e);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit("graphic-move-stop",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[n].set("geometry",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()}_findTargetGraphic(e){const t=this.view.toMap(e),i=this.graphics;let r=null,n=Number.MAX_VALUE;this._syncLayerViews();const s=this._layerViews.flatMap((e=>"graphicsViews"in e?Array.from(e.graphicsViews(),(e=>e.hitTest(t))).flat():e.graphicsView.hitTest(t))).filter((e=>i.includes(e))).sort(((e,t)=>i.indexOf(e)-i.indexOf(t)));return s.length?s[0]:(this._manipulators.forEach((t=>{const i=t.intersectionDistance(e);null!=i&&i<n&&(n=i,r=t.graphic)})),r)}_syncLayerViews(){this._layerViews=[];const e=new Set;for(const t of this.graphics){const i=(0,p.i)(this.view,t.layer);i&&e.add(i)}this._layerViews=[...e]}_setUpManipulators(){const{graphics:e,view:t}=this;this._manipulators.forEach((e=>e.destroy())),this._manipulators=e.length?e.map((e=>new $.l({graphic:e,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const e of this.graphics){const t=e.clone();t.symbol=C(e),this._indicators.push(t),this.addHandles((0,o.watch)((()=>e.symbol),(()=>this._setUpIndicators())),L)}this.layer.addMany(this._indicators)}}_removeIndicators(){this.removeHandles(L),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((e=>e.destroy())),this._indicators=[])}};function C(e){if(null==e.symbol)return null;switch(e.symbol.type){case"cim":return new M.A({style:"circle",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":{const{xoffset:t,yoffset:i,height:r,width:n}=e.symbol,s=r===n?n:Math.max(r,n);return new M.A({xoffset:t,yoffset:i,size:s,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-marker":{const{xoffset:t,yoffset:i,size:r,style:n}=e.symbol;return new M.A({xoffset:t,yoffset:i,style:"circle"===n?"circle":"square",size:r+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-fill":return new k.A({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new T.A({color:[255,127,0,1],style:"dash",width:1});case"text":{const{xoffset:t,yoffset:i}=e.symbol;return new M.A({xoffset:t,yoffset:i,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}(0,r._)([(0,a.MZ)()],A.prototype,"_activeGraphic",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],A.prototype,"type",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"callbacks",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"enableMoveAllGraphics",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"graphics",void 0),(0,r._)([(0,a.MZ)({value:!1})],A.prototype,"highlightsEnabled",null),(0,r._)([(0,a.MZ)()],A.prototype,"indicatorsEnabled",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"layer",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],A.prototype,"state",null),(0,r._)([(0,a.MZ)()],A.prototype,"view",void 0),A=(0,r._)([(0,l.$)("esri.views.draw.support.GraphicMover")],A);const I=A},93959:function(e,t,i){"use strict";i.d(t,{A:function(){return d}});var r=i(53804),n=i(83525),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953)),a=i(777),l=i(39715),c=i(25867);let u=class extends n.A{constructor(e){super(e),this.view=null}add(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach((e=>this._highlight(e)))}remove(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach((e=>this._removeHighlight(e)))}removeAll(){this.removeAllHandles()}_highlight(e){const t=(0,a.i)(this.view,e.layer);(0,l.Of)(t)&&this.addHandles(t.highlight(e),(0,c.Fr)(e))}_removeHighlight(e){e&&this.removeHandles((0,c.Fr)(e))}};(0,r._)([(0,s.MZ)()],u.prototype,"view",void 0),u=(0,r._)([(0,o.$)("esri.views.draw.support.HighlightHelper")],u);const d=u},62313:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ue}});var r=i(53804),n=(i(50917),i(59469)),s=i(77472),o=i(78879),a=i(39819),l=i(48996),c=i(40633),u=i(95929),d=i(28181),p=i(23502),h=(i(58941),i(13798),i(65953)),f=i(38441),g=i(19702),m=i(90363),y=i(65420),v=i(70684),b=i(67060),_=i(62190),x=i(93959),w=i(777),$=i(61226),S=i(56275),M=i(13520),T=i(45532),k=i(24148),L=i(18945),A=i(83931),C=i(94492),I=i(90858);let E=class extends I.w{constructor(e){super(e),this.type="translate-vertex",this.distance=S.r7,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=S.r7,this.elevation=null,this.area=null,this.totalLength=null}};(0,r._)([(0,p.MZ)()],E.prototype,"type",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"distance",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"elevation",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"area",void 0),(0,r._)([(0,p.MZ)()],E.prototype,"totalLength",void 0),E=(0,r._)([(0,h.$)("esri.views.interactive.tooltip.infos.TranslateVertexTooltipInfo")],E);var O=i(70474),R=i(9862),V=i(46517);function G(e,t){function i(){const e=t(),i=e.sketchOptions.tooltips.effectiveEnabled?e.activeTooltipInfo:null;return{...e,activeTooltipInfo:i}}let r=!1;function n(e){r||(r=!0,e(),r=!1)}return(0,$.vE)([(0,d.watch)((()=>{const e=i();return{context:e,geometry:e.graphic?.geometry,vertexGeometry:e.selectedVertex?.geometry}}),(({context:t})=>{n((()=>{(function(e){const t=e.activeTooltipInfo;if(t){switch(t?.type){case"move-point":return function(e,{graphic:t}){P(e,t,t?.geometry)}(t,e);case"selected-vertex":return function(e,{graphic:t,selectedVertex:i}){P(e,t,i?.geometry);const r=t?.geometry;switch(r?.type){case"polygon":e.geometryType="polygon",e.totalLength.visible=!1,e.area.actual=(0,O.n)(r);break;case"polyline":e.geometryType="polyline",e.totalLength.actual=(0,R.ob)(r),e.area.visible=!1}}(t,e)}t.sketchOptions=e.sketchOptions}})(t),e.info=t.activeTooltipInfo}))}),d.pc),(0,d.watch)((()=>{const e=i(),{activeTooltipInfo:t}=e;if(t&&"key"in t)return{context:e,key:t.key}}),((e,t)=>{e&&t&&e.key!==t.key&&n((()=>D(e.context)))}),d.OH),(0,k.sZ)(e,{onBeforePaste:()=>{r=!0},onAfterPaste:()=>{D(i()),r=!1}})])}function P(e,t,i){t&&"point"===i?.type&&(e.setLocationFromPoint(i),e.elevation.actual=(0,V.Of)(i),e.elevation.visible=!!t.geometry?.hasZ,e.elevation.readOnly=!1,e.elevation.showAsZ=!0)}function D(e){function t(t,i){const r=i?.geometry;if(!r||"point"!==r.type)return;const{dx:n,dy:s,dz:o}=(0,k.mu)(t,r);if(0===n&&0===s&&0===o)return;const{x:a,y:l,z:c,m:u,spatialReference:d}=r,p=new T.default({x:a+n,y:l+s,z:null!=c?c+o:void 0,m:u,spatialReference:d});e.updateGeometry(i,p,r,n,s)}const{activeTooltipInfo:i,graphic:r,selectedVertex:n}=e;switch(i?.type){case"move-point":return t(i,r);case"selected-vertex":return t(i,n)}}function N(e,t,i){if(!i)return;const{x:r,y:n}=i.origin,s=t.toMap(i),o=t.toMap((0,M.tc)(r,n)),a=(0,R.Kt)(o,s);e.distance=null!=a?a:S.r7}var Z=i(69646),U=i(87922),F=i(50517),z=i(37578),H=i(7819),j=i(37102),B=i(58144),W=i(91508);class q{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-start"}}class K{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape"}}class Y{constructor(e,t,i){this.graphic=e,this.mover=t,this.selected=i,this.type="reshape-stop"}}class X{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-start"}}class J{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move"}}class Q{constructor(e,t,i){this.mover=e,this.dx=t,this.dy=i,this.type="move-stop"}}class ee{constructor(e){this.added=e,this.type="vertex-select"}}class te{constructor(e){this.removed=e,this.type="vertex-deselect"}}class ie{constructor(e,t,i,r){this.added=e,this.graphic=t,this.oldGraphic=i,this.vertices=r,this.type="vertex-add"}}class re{constructor(e,t,i,r){this.removed=e,this.graphic=t,this.oldGraphic=i,this.vertices=r,this.type="vertex-remove"}}const ne=Z.W.reshapeGraphics,se={vertices:{default:new m.A({style:"circle",size:ne.vertex.size,color:ne.vertex.color,outline:{color:ne.vertex.outlineColor,width:1}}),hover:new m.A({style:"circle",size:ne.vertex.hoverSize,color:ne.vertex.hoverColor,outline:{color:ne.vertex.hoverOutlineColor,width:1}}),selected:new m.A({style:"circle",size:ne.selected.size,color:ne.selected.color,outline:{color:ne.selected.outlineColor,width:1}})},midpoints:{default:new m.A({style:"circle",size:ne.midpoint.size,color:ne.midpoint.color,outline:{color:ne.midpoint.outlineColor,width:1}}),hover:new m.A({style:"circle",size:ne.midpoint.size,color:ne.midpoint.color,outline:{color:ne.midpoint.outlineColor,width:1}})}};let oe=class extends l.A.EventedAccessor{constructor(e){super(e),this._updateHandlesOnExternalGeometryChange=null,this._activeOperationInfo=null,this._editGeometryOperations=null,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._snappingContext=null,this._snappingGraphicsLayer=null,this._hoverGraphic=null,this._snappingTask=null,this._stagedVertex=null,this.tooltip=null,this.activeTooltipInfo=null,this.callbacks={onReshapeStart(){},onReshape(){},onReshapeStop(){},onMoveStart(){},onMove(){},onMoveStop(){},onGraphicClick(){}},this.enableMidpoints=!0,this.enableMovement=!0,this.enableVertices=!0,this.graphic=null,this.layer=null,this.midpointGraphics=new o.A,this.midpointSymbol=new m.A({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),this.selectedVertices=new o.A,this.snappingManager=null,this.symbols=se,this.sketchOptions=new j.A,this.type="reshape",this.vertexGraphics=new o.A,this.view=null}initialize(){const e=this.view;this._highlightHelper=new x.A({view:e}),this._setup(),this._updateHandlesOnExternalGeometryChange=(0,d.C1)((()=>this.graphic?.geometry),(e=>{if(!e)return;const t=new Set(this.selectedVertices.map((e=>e.attributes?.pointIndex)));this._highlightHelper.removeAll(),this._setUpHighlights(),this._setupGraphics(),this._clearSelection(),this.vertexGraphics.filter((e=>t.has(e.attributes.pointIndex))).forEach((e=>this._addToSelection(e)));const{enableMovement:i,_mover:r,graphic:n,midpointGraphics:s,vertexGraphics:o}=this,a=o.concat(s).items;i&&a.push(n),r?.set("graphics",a)}),d.OH),this.tooltip=(0,k.A)((()=>({view:e,options:this.sketchOptions.tooltips}))),this.tooltipInfos=function(e){const t={sketchOptions:e,viewType:"2d"};return{movePoint:new L.F(t),selectedVertex:new A.d(t),translateGraphic:new C.M(t),translateVertices:new E(t)}}(this.sketchOptions),this.addHandles([(0,d.when)((()=>e?.ready),(()=>{const{layer:e,view:t}=this;(0,w.Y)(t,e),this.addHandles(t.on("key-down",(e=>this._keyDownHandler(e)),U.o.TOOL))}),{once:!0,initial:!0}),(0,d.watch)((()=>this.graphic),(()=>this.refresh())),(0,d.watch)((()=>this.layer),((e,t)=>{t&&(this._clearSelection(),this._resetGraphics(t)),this.refresh()})),(0,d.watch)((()=>this.enableMidpoints),(()=>this.refresh())),G(this.tooltip,(()=>this._tooltipsContext)),(0,d.watch)((()=>this.view.effectiveTheme.accentColor),(()=>this._updateSymbolsForTheme()),d.Vh),this._updateHandlesOnExternalGeometryChange]),this._updateTooltip()}destroy(){this._reset(),this._mover?.destroy(),this._mover=null,this.tooltip=(0,u.pR)(this.tooltip)}get _coordinateHelper(){return this._editGeometryOperations?.data.coordinateHelper??(0,F.BV)(!!this.graphic.geometry?.hasZ,!!this.graphic.geometry?.hasM,this.view.spatialReference)}get _selectedVertex(){return 1===this.selectedVertices.length?this.selectedVertices.at(0):void 0}get _tooltipsContext(){return{sketchOptions:this.sketchOptions,activeTooltipInfo:this.activeTooltipInfo,graphic:this.graphic,selectedVertex:this._selectedVertex,updateGeometry:(e,t,i,r,n)=>{this._setUpGeometryHelper();const s=e===this.graphic;if(s?this._emitMoveStartEvent(0,0):this._emitReshapeStartEvent(e),this._syncGeometryAfterVertexMove(e,t,r,n,!0),s){const{view:e}=this,r=e.toScreen(i),n=e.toScreen(t),s=(n?.x??0)-(r?.x??0),o=(n?.y??0)-(r?.y??0);this._emitMoveEvent(s,o),this._emitMoveStopEvent(s,o)}else this._emitReshapeEvent(e),this._emitReshapeStopEvent(e);this._editGeometryOperations=(0,u.pR)(this._editGeometryOperations)}}}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),this._setUpHighlights()}get state(){const e=this.view.ready,t=!(!this.graphic||!this.layer);return e&&t?"active":e?"ready":"disabled"}isUIGraphic(e){const t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length>0&&t.includes(e)}refresh(){this._reset(),this._setup()}reset(){this.graphic=null}clearSelection(){this._clearSelection()}removeSelectedVertices(){const{selectedVertices:e}=this;e.length&&this._removeVertices(e)}_setup(){const{graphic:e,layer:t}=this;if(!t||null==e?.geometry)return;const i=e.geometry;"mesh"!==i.type&&"extent"!==i.type?("polygon"===i.type&&(0,f.uC)(i),this._setUpHighlights(),this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}_setUpHighlights(){this.highlightsEnabled&&this.graphic&&this._highlightHelper?.add(this.graphic)}_setUpGeometryHelper(){const e=this.graphic.geometry;if(null==e||"mesh"===e.type||"extent"===e.type)return void this._logGeometryTypeError();const t="multipoint"===e.type?new W.A({paths:[e.points],spatialReference:e.spatialReference}):e;this._editGeometryOperations=H.p.fromGeometry(t,y.RT.Local)}_saveSnappingContextForHandle(e,t){this._snappingGraphicsLayer=new g.default({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer);const i=this._editGeometryOperations;(0,u.Lw)(i),this._snappingContext=new B.e({editGeometryOperations:i,elevationInfo:{mode:"on-the-ground",offset:0},pointer:t.viewEvent?.pointerType||"mouse",excludeFeature:this.graphic,feature:this.graphic,visualizer:new v.J(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}_reset(){this._clearSelection(),this._highlightHelper?.removeAll(),this._updateTooltip(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetSnappingStateVars(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),null!=this._snappingGraphicsLayer&&(this.view?.map&&this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,u.pR)(this._editGeometryOperations),this._snappingTask=(0,u.DC)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}_resetGraphics(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this.selectedVertices.removeAll(),this._updateTooltip()}_removeMidpointGraphics(e){const t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((e=>e.destroy())),this.midpointGraphics.removeAll()}_removeVertexGraphics(e){const t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((e=>e.destroy())),this.vertexGraphics.removeAll()}_setupGraphics(){const e=this.graphic.geometry;if(null!=e&&("polyline"===e.type||"polygon"===e.type)){const t=ae(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}_setUpMidpointGraphics(e){this._removeMidpointGraphics();const t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}_setUpVertexGraphics(e){this._removeVertexGraphics();const t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}_createVertexGraphics(e){const{_graphicAttributes:t,symbols:i}=this,r=[];return e?.forEach(((e,s)=>{e.forEach(((e,o)=>{r.push(new n.default({geometry:this._coordinateHelper.arrayToPoint(e),symbol:i?.vertices?.default,attributes:{...t,pathIndex:s,pointIndex:o}}))}))})),r}_createMidpointGraphics(e){const{_graphicAttributes:t,symbols:i}=this,r=[];for(let s=0;s<e.length;s++){const o=e[s];for(let e=0;e<o.length;e++){const a=(e+1)%o.length;if("polyline"===this.graphic.geometry?.type&&0===a)continue;const l=o[e],c=o[a],u=this._getMidpoint(l,c);r.push(new n.default({geometry:u,symbol:i.midpoints.default,attributes:{...t,pathIndex:s,pointIndexStart:e,pointIndexEnd:a}}))}}return r}_updateSymbolsForTheme(){const e=this.view.effectiveTheme.accentColor;this.symbols={vertices:{...this.symbols.vertices,default:this.symbols.vertices.default.clone().set("color",e),hover:this.symbols.vertices.hover?.clone().set("color",e)},midpoints:{...this.symbols.midpoints}};for(const e of this.vertexGraphics)this._isSelected(e)?e.symbol=this.symbols.vertices.selected:this._hoverGraphic===e?e.symbol=this.symbols.vertices.hover:e.symbol=this.symbols.vertices.default}_storeRelatedVertexIndices(){const e=this.vertexGraphics.items;if(!e)return;const t=e.map((({geometry:e})=>({x:e.x,y:e.y})));for(let i=0;i<t.length;i++){const r=[];for(let e=0;e<t.length;e++){if(i===e)continue;const n=t[i],s=t[e];n.x===s.x&&n.y===s.y&&r.push(e)}e[i].attributes.relatedGraphicIndices=r}}_setupMover(){const{enableMovement:e,graphic:t,midpointGraphics:i,vertexGraphics:r,view:n}=this,s=r.concat(i).items;e&&s.push(t),this._mover=new _.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,graphics:s,view:n,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_onGraphicClickCallback(e){e.viewEvent.stopPropagation();const t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick?.(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;const i=this.graphic.clone(),r=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,r)}else this._isVertex(t)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(t):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)))}_setUpOperation(e){const{graphic:t,dx:i,dy:r}=e,n=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:n?"move":"reshape",totalDx:i,totalDy:r}}_onGraphicMoveStartCallback(e){const{dx:t,dy:i,graphic:r}=e;if(r===this.graphic){const{geometry:n}=r;return this._setUpOperation(e),this._emitMoveStartEvent(t,i),void(null!=n&&"point"===n.type&&this._onHandleMove(r,t,i,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(t,i)})))}if(!this.selectedVertices.includes(r)){if(this._clearSelection(),this._isMidpoint(r)){const e=this.graphic.clone(),t=this._createVertexFromMidpoint(r);this._emitVertexAddEvent([r],e,t)}this._addToSelection(r)}this._setUpOperation(e),this._emitReshapeStartEvent(r),this._onHandleMove(r,t,i,e,(()=>{this._updateTooltip(r,e.viewEvent),this._emitReshapeEvent(r)}))}_onGraphicMoveCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:r,graphic:n}=e;t.totalDx+=i,t.totalDy+=r;const{operationType:s}=t,{geometry:o}=n;if(null!=o)if("move"!==s)this._onHandleMove(n,i,r,e,(()=>{this._updateTooltip(n,e.viewEvent),this._emitReshapeEvent(n)}));else if("point"===o.type)this._onHandleMove(n,i,r,e,(()=>{this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,r)}));else if("polyline"===o.type||"polygon"===o.type){const t=ae(o);this._updateVertexGraphicLocations(t),this._updateTooltip(this.graphic,e.viewEvent),this._emitMoveEvent(i,r)}}_onGraphicMoveStopCallback(e){const t=this._activeOperationInfo;if(!t)return;const{dx:i,dy:r,graphic:n}=e,{operationType:s}=t;t.totalDx+=i,t.totalDy+=r,this._onHandleMove(n,i,r,e,(()=>"move"===s?this._emitMoveStopEvent():this._emitReshapeStopEvent(n))),this._isMidpoint(n)?this.refresh():(this._updateTooltip(this._isVertex(n)?n:null),this._resetSnappingStateVars(),this._activeOperationInfo=null)}_updateVertexGraphicLocations(e){const{_coordinateHelper:t}=this;for(const i of this.vertexGraphics){const{pathIndex:r,pointIndex:n}=i.attributes;i.geometry=t.arrayToPoint(e[r][n])}this._updateMidpointGraphicLocations(e)}_updateMidpointGraphicLocations(e){for(const t of this.midpointGraphics){const{pathIndex:i,pointIndexStart:r,pointIndexEnd:n}=t.attributes,s=e[i];t.geometry=this._getMidpoint(s[r],s[n])}}_getMidpoint(e,t){const{_coordinateHelper:i}=this,r=i.arrayToVector(e),n=i.arrayToVector(t),s=i.toXYZ(r),o=i.toXYZ(n),[a,l,c]=(0,f.t9)(s,o),u=i.hasM()?0:void 0;return new T.default({x:a,y:l,z:c,m:u,spatialReference:i.spatialReference})}_getVertexFromEditGeometry(e){const[t,i]=le(e);return(0,u.Lw)(this._editGeometryOperations),this._editGeometryOperations.data.components[t].vertices[i]}_onHandleMove(e,t,i,r,n){(0,u.DC)(this._snappingTask);const o=this._snappingContext;if(!o)return;const a=e.geometry,l="graphic-move-stop"===r.type;if(null!=this.snappingManager&&this.selectedVertices.length<2&&!l){const r=this.snappingManager;this._stagedVertex=r.update({point:a,context:o}),this._syncGeometryAfterVertexMove(e,new T.default(this._stagedVertex),t,i,l),n(),this._snappingTask=(0,s.UT)((async s=>{const c=await r.snap({point:a,context:o,signal:s});c.valid&&(this._stagedVertex=c.apply(),this._syncGeometryAfterVertexMove(e,new T.default(this._stagedVertex),t,i,l),n())}))}else{const r=null!=this._stagedVertex?new T.default(this._stagedVertex):a;this._syncGeometryAfterVertexMove(e,r,t,i,l),n()}}_syncGeometryAfterVertexMove(e,t,i,r,n=!1){const s=this._editGeometryOperations?.data.geometry;if(s)if("point"===s.type)e.geometry=t;else if("mesh"===s.type)e.geometry=s.centerAt(t);else{const{_coordinateHelper:o}=this,[a,l]=le(e);let c=(0,f.$K)(s);const u=c[a].length-1,d=o.pointToArray(t);c[a][l]=d,"polygon"===s.type&&(0===l?c[a][u]=d:l===u&&(c[a][0]=d)),this._isVertex(e)&&(c=this._moveRelatedCoordinates(c,e,d),c=this._moveSelectedHandleCoordinates(c,e,i,r,"polygon"===s.type),this._updateMidpointGraphicLocations(c)),this._updateGraphicGeometry(s.clone());const p=o.pointToVector(t),h=this._getVertexFromEditGeometry(e),g=o.getZ(p),m=p[0]-h.pos[0],y=p[1]-h.pos[1],v=null!=g?g-h.pos[2]:0;this._editGeometryOperations?.moveVertices([h],m,y,v),n&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(e),t):e.geometry=t)}}_moveRelatedCoordinates(e,t,i){const{relatedGraphicIndices:r}=t.attributes;for(const n of r){const r=this.vertexGraphics.at(n),{pathIndex:s,pointIndex:o}=r.attributes;e[s][o]=i,r.geometry=t.geometry}return e}_moveSelectedHandleCoordinates(e,t,i,r,n){for(const s of this.selectedVertices)if(s!==t){const{pathIndex:t,pointIndex:o,relatedGraphicIndices:a}=s.attributes,l=(0,b.lR)(s.geometry,i,r,this.view),c=(0,f.$K)(l),u=e[t].length-1;e[t][o]=c,s.geometry=l,n&&(0===o?e[t][u]=c:o===u&&(e[t][0]=c));for(const t of a){const i=this.vertexGraphics.at(t),{pathIndex:r,pointIndex:n}=i.attributes;e[r][n]=c,i.geometry=l}}return e}_onGraphicPointerOverCallback(e){const t=e.graphic;this._hoverGraphic=t;const i=this._isVertex(t);i&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateTooltip(i?t:null),this._updateHoverCursor(t)}_onGraphicPointerOutCallback(e){const t=e.graphic;this._hoverGraphic=null,this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default",this._updateTooltip()}_createVertexFromMidpoint(e){const{_graphicAttributes:t,graphic:i}=this,r=i.geometry;if(null==r||"polygon"!==r.type&&"polyline"!==r.type)return[];const n=r.clone(),s=[],{pathIndex:o,pointIndexStart:a,pointIndexEnd:l}=e.attributes,c=(0,f.$K)(e.geometry),u=0===l?a+1:l,d=(0,f.$K)(n);return d[o].splice(u,0,c),e.attributes={...t,pathIndex:o,pointIndex:u,relatedGraphicIndices:[]},s.push({coordinates:d[o][u],componentIndex:o,vertexIndex:u}),this._updateGraphicGeometry(n),s}_addToSelection(e){const t=ce(e);for(const e of t)e.symbol=this.symbols.vertices.selected,this.selectedVertices.add(e),this._updateTooltip(e);this._emitSelectEvent(t)}_removeFromSelection(e,t){const{vertices:i}=this.symbols,r=t?i.hover:i.default;this.selectedVertices.remove(e),e.symbol=r,this._emitDeselectEvent([e]),this._updateTooltip()}_clearSelection(){const e=this.selectedVertices.toArray();if(e.length>0){for(const t of e)t.set("symbol",this.symbols.vertices.default);this.selectedVertices.removeAll(),this._emitDeselectEvent(e),this._updateTooltip()}}_keyDownHandler(e){null==this._activeOperationInfo&&(0,k.wG)(e,this.tooltip)||z.NE.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}_removeVertices(e){const t=this.graphic.geometry;if(null==t||"polygon"!==t.type&&"polyline"!==t.type)return;if("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)return;const i=this.graphic.clone(),r=t.clone();let n=(0,f.$K)(r);const s=[],o=ce(e);for(const e of o){const{x:t,y:i}=e.geometry;for(let e=0;e<n.length;e++){const r=n[e];for(let o=0;o<r.length;o++){const[a,l]=r[o];t===a&&i===l&&(s.push({coordinates:n[e][o],componentIndex:e,vertexIndex:o}),n[e].splice(Number(o),1))}}}if("polygon"===r.type)n=n.filter((e=>{if(e.length<2)return!1;const[t,i]=e[0],[r,n]=e[e.length-1];return(2!==e.length||t!==r||i!==n)&&(t===r&&i===n||e.push(e[0]),!0)})),r.rings=n;else{for(const e of n)1===e.length&&n.splice(n.indexOf(e),1);r.paths=n}this._updateGraphicGeometry(r),this.refresh(),this._emitVertexRemoveEvent(o,i,s)}_isVertex(e){return this.vertexGraphics.includes(e)}_isSelected(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}_isMidpoint(e){return this.midpointGraphics.includes(e)}_updateHoverCursor(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}_updateTooltip(e,t){let i=null;const{graphic:r,view:n,tooltipInfos:s}=this,o=r?.geometry;"point"===o?.type?i=s.movePoint:this._selectedVertex?i=s.selectedVertex:e===this.graphic?(i=s.translateGraphic,function(e,t,i){e.clear(),N(e,t,i)}(i,n,t)):e&&this.selectedVertices.length>1&&(i=s.translateVertices,function(e,t,i,r){e.clear(),"polygon"===i?.type?e.area=(0,O.n)(i):"polyline"===i?.type&&(e.totalLength=(0,R.ob)(i)),N(e,t,r)}(i,n,o,t)),this.activeTooltipInfo=i}_updateGraphicGeometry(e){this._updateHandlesOnExternalGeometryChange?.pause(),this.graphic.geometry=e,this._updateHandlesOnExternalGeometryChange?.resume()}_emitMoveStartEvent(e,t){const i=new X(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart?.(i)}_emitMoveEvent(e,t){const i=new J(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove?.(i)}_emitMoveStopEvent(e,t){if(null==e||null==t){const i=this._activeOperationInfo;if(!i)return;e=i.totalDx,t=i.totalDy}const i=new Q(this.graphic,e,t);this.emit("move-stop",i),this.callbacks.onMoveStop?.(i)}_emitReshapeStartEvent(e){const t=new q(this.graphic,e,this.selectedVertices.toArray());this.emit("reshape-start",t),this.callbacks.onReshapeStart?.(t)}_emitReshapeEvent(e){const t=new K(this.graphic,e,this.selectedVertices.toArray());this.emit("reshape",t),this.callbacks.onReshape?.(t)}_emitReshapeStopEvent(e){const t=new Y(this.graphic,e,this.selectedVertices.toArray());this.emit("reshape-stop",t),this.callbacks.onReshapeStop?.(t)}_emitSelectEvent(e){const t=new ee(e);this.emit("select",t),this.callbacks.onVertexSelect?.(t)}_emitDeselectEvent(e){const t=new te(e);this.emit("deselect",t),this.callbacks.onVertexDeselect?.(t)}_emitVertexAddEvent(e,t,i){const r=new ie(e,this.graphic,t,i);this.emit("vertex-add",r),this.callbacks.onVertexAdd?.(r)}_emitVertexRemoveEvent(e,t,i){const r=new re(e,this.graphic,t,i);this.emit("vertex-remove",r),this.callbacks.onVertexRemove?.(r)}_logGeometryTypeError(){c.A.getLogger(this).error(new a.A("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}};function ae(e){const t=(0,f.$K)(e.clone());if("polygon"===e.type)for(const e of t){const t=e[e.length-1];e[0][0]===t[0]&&e[0][1]===t[1]&&e.length>2&&e.pop()}return t}function le({attributes:e}){return[e?.pathIndex||0,e?.pointIndex||0]}function ce(e){return e instanceof n.default?[e]:[...e]}(0,r._)([(0,p.MZ)()],oe.prototype,"_activeOperationInfo",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"_coordinateHelper",null),(0,r._)([(0,p.MZ)()],oe.prototype,"_editGeometryOperations",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"tooltip",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"tooltipInfos",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"activeTooltipInfo",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"_selectedVertex",null),(0,r._)([(0,p.MZ)()],oe.prototype,"_tooltipsContext",null),(0,r._)([(0,p.MZ)()],oe.prototype,"callbacks",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"enableMidpoints",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"enableMovement",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"enableVertices",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"graphic",void 0),(0,r._)([(0,p.MZ)({value:!0})],oe.prototype,"highlightsEnabled",null),(0,r._)([(0,p.MZ)()],oe.prototype,"layer",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],oe.prototype,"midpointGraphics",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"midpointSymbol",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],oe.prototype,"selectedVertices",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"snappingManager",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],oe.prototype,"state",null),(0,r._)([(0,p.MZ)()],oe.prototype,"symbols",void 0),(0,r._)([(0,p.MZ)({type:j.A})],oe.prototype,"sketchOptions",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],oe.prototype,"type",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],oe.prototype,"vertexGraphics",void 0),(0,r._)([(0,p.MZ)()],oe.prototype,"view",void 0),oe=(0,r._)([(0,h.$)("esri.views.draw.support.Reshape")],oe);const ue=oe},67060:function(e,t,i){"use strict";i.d(t,{UT:function(){return d},hs:function(){return c},lR:function(){return l},wW:function(){return u}});var r=i(15774),n=i(87416),s=i(35068),o=i(38441);function a(e,t,i,r){if(null==r||e.hasZ||(r=void 0),"point"===e.type)return e.x+=t,e.y+=i,e.hasZ&&null!=r&&(e.z+=r),e;if("multipoint"===e.type){const n=e.points;for(let e=0;e<n.length;e++)n[e]=p(n[e],t,i,r);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=i,e.ymax+=i,null!=r&&(e.zmin??=0,e.zmin+=r,e.zmax??=0,e.zmax+=r),e;const n=(0,o.$K)(e),s="polyline"===e.type?e.paths:e.rings;for(let e=0;e<n.length;e++){const s=n[e];for(let e=0;e<s.length;e++)s[e]=p(s[e],t,i,r)}return"paths"in e?e.paths=s:e.rings=s,e}function l(e,t,i,r,n){const s=e.clone(),l=r.resolution;if("point"===s.type){if(n)a(s,t*l,-i*l);else{const e=r.state.transform,n=r.state.inverseTransform,o=e[0]*s.x+e[2]*s.y+e[4],a=e[1]*s.x+e[3]*s.y+e[5];s.x=n[0]*(o+t)+n[2]*(a+i)+n[4],s.y=n[1]*(o+t)+n[3]*(a+i)+n[5]}return s}if("multipoint"===s.type){if(n)a(s,t*l,-i*l);else{const e=s.points,n=r.state.transform,o=r.state.inverseTransform;for(let r=0;r<e.length;r++){const s=e[r],a=n[0]*s[0]+n[2]*s[1]+n[4],l=n[1]*s[0]+n[3]*s[1]+n[5],c=o[0]*(a+t)+o[2]*(l+i)+o[4],u=o[1]*(a+t)+o[3]*(l+i)+o[5];e[r]=h(s,c,u,void 0)}}return s}if("extent"===s.type){if(n)a(s,t*l,-i*l);else{const e=r.state.transform,n=r.state.inverseTransform,o=e[0]*s.xmin+e[2]*s.ymin+e[4],a=e[1]*s.xmin+e[3]*s.ymin+e[5],l=e[0]*s.xmax+e[2]*s.ymax+e[4],c=e[1]*s.xmax+e[3]*s.ymax+e[5];s.xmin=n[0]*(o+t)+n[2]*(a+i)+n[4],s.ymin=n[1]*(o+t)+n[3]*(a+i)+n[5],s.xmax=n[0]*(l+t)+n[2]*(c+i)+n[4],s.ymax=n[1]*(l+t)+n[3]*(c+i)+n[5]}return s}if(n)a(s,t*l,-i*l);else{const e=(0,o.$K)(s),n="polyline"===s.type?s.paths:s.rings,a=r.state.transform,l=r.state.inverseTransform;for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<n.length;e++){const r=n[e],s=a[0]*r[0]+a[2]*r[1]+a[4],o=a[1]*r[0]+a[3]*r[1]+a[5],c=l[0]*(s+t)+l[2]*(o+i)+l[4],u=l[1]*(s+t)+l[3]*(o+i)+l[5];n[e]=h(r,c,u,void 0)}}"paths"in s?s.paths=n:s.rings=n}return s}function c(e,t,i,r){if("point"===e.type){const{x:n,y:s}=e,o=r?r[0]:n,a=r?r[1]:s,l=e.clone(),c=(n-o)*t+o,u=(s-a)*i+a;return l.x=c,l.y=u,l}if("multipoint"===e.type){const a=(0,o.$K)(e),l=(0,n.vt)(),[c,u,d,p]=(0,s.Yz)(l,[a]),f=r?r[0]:(c+d)/2,g=r?r[1]:(p+u)/2,m=e.clone(),y=m.points;for(let e=0;e<y.length;e++){const r=y[e],[n,s]=r,o=(n-f)*t+f,a=(s-g)*i+g;y[e]=h(r,o,a,void 0)}return m}if("extent"===e.type){const{xmin:n,xmax:s,ymin:o,ymax:a}=e,l=r?r[0]:(n+s)/2,c=r?r[1]:(a+o)/2,u=e.clone();if(u.xmin=(n-l)*t+l,u.ymax=(a-c)*i+c,u.xmax=(s-l)*t+l,u.ymin=(o-c)*i+c,u.xmin>u.xmax){const e=u.xmin,t=u.xmax;u.xmin=t,u.xmax=e}if(u.ymin>u.ymax){const e=u.ymin,t=u.ymax;u.ymin=t,u.ymax=e}return u}const a=(0,o.$K)(e),l=(0,n.vt)(),[c,u,d,p]=(0,s.Yz)(l,a),f=r?r[0]:(c+d)/2,g=r?r[1]:(p+u)/2,m=e.clone(),y="polyline"===m.type?m.paths:m.rings;for(let e=0;e<a.length;e++){const r=a[e];for(let n=0;n<r.length;n++){const s=r[n],[o,a]=s,l=(o-f)*t+f,c=(a-g)*i+g;y[e][n]=h(s,l,c,void 0)}}return"paths"in m?m.paths=y:m.rings=y,m}function u(e,t,i,r,n,s){const o=Math.sqrt((i-e)*(i-e)+(r-t)*(r-t));return Math.sqrt((n-e)*(n-e)+(s-t)*(s-t))/o}function d(e,t,i,n=!1){const s=Math.atan2(t.y-i.y,t.x-i.x)-Math.atan2(e.y-i.y,e.x-i.x),o=Math.atan2(Math.sin(s),Math.cos(s));return n?o:(0,r.KJ)(o)}function p(e,t,i,r){return h(e,e[0]+t,e[1]+i,null!=e[2]&&null!=r?e[2]+r:void 0)}function h(e,t,i,r){const n=[t,i];return e.length>2&&n.push(null!=r?r:e[2]),e.length>3&&n.push(e[3]),n}},69646:function(e,t,i){"use strict";i.d(t,{W:function(){return d}});var r=i(52874);const n={main:new r.A([255,127,0]),selected:new r.A([255,255,255]),outline:new r.A([0,0,0,.5]),selectedOutline:new r.A([255,255,255]),hoverOutline:new r.A([255,255,255]),secondary:new r.A([255,255,255]),secondaryOutline:new r.A([100,100,100]),transparent:new r.A([0,0,0,0])};function s(e,t){Object.assign(e,t)}class o{constructor(e){this.size=8,this.hoverSize=10,this.color=n.main,this.hoverColor=n.main,this.outlineColor=n.outline,this.hoverOutlineColor=n.hoverOutline,s(this,e)}}class a{constructor(e){this.color=n.secondary,this.hoverColor=n.main,s(this,e)}}class l{constructor(e){this.color=n.transparent,this.hoverColor=n.transparent,this.outlineColor=n.main,this.hoverOutlineColor=n.main,this.stagedColor=n.transparent,this.stagedOutlineColor=n.secondary,s(this,e)}}class c{constructor(e){this.vertex=new o,this.midpoint=new o({color:n.secondary,outlineColor:n.secondaryOutline,size:6}),this.selected=new o({color:n.selected,hoverColor:n.selected,hoverOutlineColor:n.hoverOutline}),s(this,e)}}class u{constructor(e){this.center=new o({color:n.secondaryOutline}),this.fill=new l,this.line=new a,this.vertex=new o({color:n.selected,outlineColor:n.main,hoverColor:n.selected,hoverOutlineColor:n.secondaryOutline}),s(this,e)}}const d=new class{constructor(e){this.reshapeGraphics=new c,this.transformGraphics=new u,s(this,e)}}},82067:function(e,t,i){"use strict";i.d(t,{l:function(){return _}});var r=i(53804),n=i(83525),s=i(48996),o=i(28181),a=i(13520),l=i(23502),c=(i(58941),i(40633),i(13798),i(65953)),u=i(13786),d=i(20551),p=i(32501),h=i(46157),f=i(56763),g=i(68945),m=i(74661),y=i(6422),v=i(17921),b=i(33383);let _=class extends n.A{set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}get elevationInfo(){const{layer:e}=this.graphic,t=e&&"elevationInfo"in e?e.elevationInfo:null,i=(0,g.ky)(this.graphic),r=t?t.offset:0;return new y.A({mode:i,offset:r})}set focusedSymbol(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}set selected(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new s.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(null==i)return null;const r=this._get("focusedSymbol"),n=null!=r?r:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,i,n):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,o.watch)((()=>this.graphic?.symbol),(e=>{null!=e&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),o.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,r){if(null==(r=r||(0,m.SF)(i)))return null;let n=this._circleCollisionCache;if("point"===i.type&&"cim"===r.type&&"CIMPointSymbol"===r.data.symbol?.type&&r.data.symbol.symbolLayers){const{offsetX:n,offsetY:s,size:o}=(0,v.T)(r),l=(0,a.WA)(t,w),c=o/2,d=e.toScreen(i),p=d.x+n,h=d.y+s;return(0,u.hG)(l,[p,h])<c*c?1:null}if("point"!==i.type||"simple-marker"!==r.type)return(0,b.t)(t,i,e)?1:null;if(null==n||!n.originalPoint.equals(i)){const t=i,s=e.spatialReference;if((0,h.canProjectWithoutEngine)(t.spatialReference,s)){const e=(0,h.project)(t,s);n={originalPoint:t.clone(),mapPoint:e,radiusPx:(0,a.Lz)(r.size)},this._circleCollisionCache=n}}if(null!=n){const i=(0,a.WA)(t,w),s=e.toScreen?.(n.mapPoint);if(!s)return null;const o=n.radiusPx,l=s.x+(0,a.Lz)(r.xoffset),c=s.y-(0,a.Lz)(r.yoffset);return(0,u.hG)(i,[l,c])<o*o?1:null}return null}_intersectDistance3D(e,t,i){const r=e.toMap(t,{include:[i]});return r&&(0,f.g)(r,x,e.renderSpatialReference)?(0,d.j)(x,e.state.camera.eye):null}};(0,r._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],_.prototype,"graphic",null),(0,r._)([(0,l.MZ)()],_.prototype,"elevationInfo",null),(0,r._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],_.prototype,"view",void 0),(0,r._)([(0,l.MZ)({value:null})],_.prototype,"focusedSymbol",null),(0,r._)([(0,l.MZ)({constructOnly:!0})],_.prototype,"layer",void 0),(0,r._)([(0,l.MZ)()],_.prototype,"interactive",void 0),(0,r._)([(0,l.MZ)()],_.prototype,"selectable",void 0),(0,r._)([(0,l.MZ)()],_.prototype,"grabbable",void 0),(0,r._)([(0,l.MZ)({value:!1})],_.prototype,"grabbing",null),(0,r._)([(0,l.MZ)()],_.prototype,"dragging",void 0),(0,r._)([(0,l.MZ)()],_.prototype,"hovering",null),(0,r._)([(0,l.MZ)({value:!1})],_.prototype,"selected",null),(0,r._)([(0,l.MZ)()],_.prototype,"cursor",void 0),_=(0,r._)([(0,c.$)("esri.views.interactive.GraphicManipulator")],_);const x=(0,p.vt)(),w=(0,a.gs)()},50517:function(e,t,i){"use strict";i.d(t,{BV:function(){return g}});var r,n,s=i(13786),o=i(1932),a=i(20551),l=i(32501),c=i(33400),u=i(41546),d=i(45532);(n=r||(r={}))[n.Z=0]="Z",n[n.M=1]="M";class p{constructor(e){this.spatialReference=e}createVector(){return this._tag((0,o.vt)())}pointToVector(e){return this._tag((0,o.fA)(e.x,e.y))}arrayToVector(e){return this._tag((0,o.fA)(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,t=new d.default){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new d.default){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t){if(e)return t??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"},t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}lerp(e,t,i,r){return(0,s.Cc)(r,e,t,i)}addDelta(e,t,i){e[0]+=t,e[1]+=i}distance(e,t){return(0,s.Io)(e,t)}getZ(e,t=void 0){return t}hasZ(){return!1}getM(e,t=void 0){return t}hasM(){return!1}clone(e){return this._tag((0,o.ci)(e))}copy(e,t){return(0,s.C)(t,e)}fromXYZ(e){return this._tag((0,o.fA)(e[0],e[1]))}toXYZ(e,t=(0,l.vt)()){return(0,a.i)(t,e[0],e[1],0)}pointToXYZ(e,t=(0,l.vt)()){return(0,a.i)(t,e.x,e.y,0)}equals(e,t){return(0,s.aI)(e,t)}_tag(e){return e}}class h{constructor(e,t){this._valueType=e,this.spatialReference=t}createVector(){return this._tag((0,l.vt)())}pointToVector(e){return this._tag((0,l.fA)(e.x,e.y,this._valueType===r.Z?e.z:e.m))}arrayToVector(e){return this._tag((0,l.fA)(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return this._valueType===r.Z?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,t=new d.default){return t.x=e[0],t.y=e[1],t.z=this._valueType===r.Z?e[2]:void 0,t.m=this._valueType===r.M?e[2]:void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new d.default){return t.x=e[0],t.y=e[1],t.z=this._valueType===r.Z?e[2]:void 0,t.m=this._valueType===r.M?e[2]:void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t){if(!e)return;t??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"};const i=this._valueType===r.Z,n=this._valueType===r.M;return t.x=e[0],t.y=e[1],t.z=i?e[2]:void 0,t.m=n?e[2]:void 0,t.hasZ=i,t.hasM=n,t.spatialReference=this.spatialReference,t}lerp(e,t,i,r){return(0,a.m)(r,e,t,i)}addDelta(e,t,i,n){e[0]+=t,e[1]+=i,this._valueType===r.Z&&(e[2]+=n)}distance(e,t){return this._valueType===r.Z?(0,a.j)(e,t):(0,s.Io)(e,t)}getZ(e,t=void 0){return this._valueType===r.Z?e[2]:t}hasZ(){return this._valueType===r.Z}getM(e,t=void 0){return this._valueType===r.M?e[2]:t}hasM(){return this._valueType===r.M}clone(e){return this._tag((0,l.ci)(e))}copy(e,t){return(0,a.c)(t,e)}fromXYZ(e,t=0,i=0){return this._tag((0,l.fA)(e[0],e[1],this._valueType===r.Z?e.length>2?e[2]:t:i))}toXYZ(e,t=(0,l.vt)()){return(0,a.i)(t,e[0],e[1],this._valueType===r.Z?e[2]:0)}pointToXYZ(e,t=(0,l.vt)()){return(0,a.i)(t,e.x,e.y,this._valueType===r.Z?e.z??0:0)}equals(e,t){return(0,a.H)(e,t)}_tag(e){return e}}class f{constructor(e){this.spatialReference=e}createVector(){return this._tag((0,u.vt)())}pointToVector(e){return this._tag((0,u.fA)(e.x,e.y,e.z,e.m))}arrayToVector(e){return this._tag((0,u.fA)(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,t=new d.default){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new d.default){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t){if(e)return t??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"},t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}lerp(e,t,i,r){return(0,c.l)(r,e,t,i)}addDelta(e,t,i,r){e[0]+=t,e[1]+=i,e[2]+=r}distance(e,t){return(0,a.j)(e,t)}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this._tag((0,u.ci)(e))}copy(e,t){return(0,c.c)(t,e)}fromXYZ(e,t=0,i=0){return this._tag((0,u.fA)(e[0],e[1],e.length>2?e[2]:t,i))}toXYZ(e,t=(0,l.vt)()){return(0,a.i)(t,e[0],e[1],e[2])}pointToXYZ(e,t=(0,l.vt)()){return(0,a.i)(t,e.x,e.y,e.z??0)}equals(e,t){return(0,c.e)(e,t)}_tag(e){return e}}function g(e,t,i){return e&&t?new f(i):t?new h(r.M,i):e?new h(r.Z,i):new p(i)}},2623:function(e,t,i){"use strict";i.d(t,{uA:function(){return h},oH:function(){return p},ZE:function(){return f},Li:function(){return d},oF:function(){return m}});var r=i(50659),n=i(82547),s=i(48996),o=i(44740),a=i(91508),l=i(50517),c=i(57652),u=i(65420);class d{constructor(e){this.component=e,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(e){this._pos=e,this.component.unnormalizeVertexPositions()}}class p{constructor(e,t,i){this.component=e,this.leftVertex=t,this.rightVertex=i,this.type="edge",t.rightEdge=this,i.leftEdge=this}}class h{constructor(e,t){this._spatialReference=e,this._viewingMode=t,this.vertices=[],this.edges=[],this.index=null}unnormalizeVertexPositions(){this.vertices.length<=1||function(e,t){if(!t.supported)return;let i=1/0,r=-1/0;const n=t.upperBoundX-t.lowerBoundX;e.forEach((e=>{let s=e.pos[0];for(;s<t.lowerBoundX;)s+=n;for(;s>t.upperBoundX;)s-=n;i=Math.min(i,s),r=Math.max(r,s),e.pos[0]=s}));const s=r-i;n-s<s&&e.forEach((e=>{e.pos[0]<0&&(e.pos[0]+=n)}))}(this.vertices,function(e,t){const i=(0,c.Vp)(e);return t===u.RT.Global&&i?{supported:!0,lowerBoundX:i.valid[0],upperBoundX:i.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}(this._spatialReference,this._viewingMode))}updateVertexIndex(e,t){if(0===this.vertices.length)return;const i=this.vertices[0];let r=null,n=e,s=t;do{r=n,r.index=s++,n=r.rightEdge?r.rightEdge.rightVertex:null}while(null!=n&&n!==i);r.leftEdge&&r!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(r),this.vertices.length-1)}getFirstVertex(){return this.vertices.at(0)}getLastVertex(){return this.vertices.at(-1)}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(e,t){const i=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=i}iterateVertices(e){if(0===this.vertices.length)return;const t=this.vertices[0];let i=t;do{e(i,i.index),i=null!=i.rightEdge?i.rightEdge.rightVertex:null}while(i!==t&&null!=i)}}class f extends s.A{constructor(e,t){super(),this.type=e,this.coordinateHelper=t,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case"point":this._geometry=this._toPoint();break;case"polyline":this._geometry=this._toPolyline();break;case"polygon":this._geometry=this._toPolygon();break;case"mesh":break;default:(0,n.Xb)(this.type)}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}get allVertices(){return Array.from(this.iterateVertices())}*iterateVertices(){for(const e of this.components)for(const t of e.vertices)yield t}notifyChanges(e){this._dirty=!0,this.emit("change",e)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const e=[],t=this.coordinateHelper.vectorToArray;for(const i of this.components){if(i.vertices.length<1)continue;const r=[];let n=i.vertices.find((e=>null==e.leftEdge));const s=n;do{r.push(t(n.pos)),n=n.rightEdge?n.rightEdge.rightVertex:null}while(n&&n!==s);e.push(r)}return new a.A({paths:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const e=[],t=this.coordinateHelper.vectorToArray;for(const i of this.components){if(i.vertices.length<1)continue;const r=[],n=i.vertices[0];let s=n;const o=s;do{r.push(t(s.pos)),s=null!=s.rightEdge?s.rightEdge.rightVertex:null}while(s&&s!==o);i.isClosed()&&r.push(t(n.pos)),e.push(r)}return new o.A({rings:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(e,t){const i=e.spatialReference,n=(0,l.BV)(e.hasZ,e.hasM,i),s=new f(e.type,n);switch(e.type){case"polygon":!function(e,t,i){const n=t.spatialReference,s=e.coordinateHelper,o=t.rings;for(let t=0;t<o.length;++t){const a=o[t],l=new h(n,i);l.index=t;const c=a.length>2&&(0,r.aI)(a[0],a[a.length-1]),u=c?a.length-1:a.length;for(let e=0;e<u;++e){const t=s.arrayToVector(a[e]),i=new d(l);l.vertices.push(i),i.pos=t,i.index=e}const f=l.vertices.length-1;for(let e=0;e<f;++e){const t=l.vertices[e],i=l.vertices[e+1],r=new p(l,t,i);l.edges.push(r)}if(c){const e=new p(l,l.vertices[l.vertices.length-1],l.vertices[0]);l.edges.push(e)}e.components.push(l)}}(s,e,t);break;case"polyline":!function(e,t,i){const r=t.spatialReference,n=e.coordinateHelper,s=t.paths;for(let t=0;t<s.length;++t){const o=s[t],a=new h(r,i);a.index=t;const l=o.length;for(let e=0;e<l;++e){const t=n.arrayToVector(o[e]),i=new d(a);a.vertices.push(i),i.pos=t,i.index=e}const c=a.vertices.length-1;for(let e=0;e<c;++e){const t=a.vertices[e],i=a.vertices[e+1],r=new p(a,t,i);a.edges.push(r)}e.components.push(a)}}(s,e,t);break;case"point":g(s,e,t);break;case"mesh":g(s,e.origin,t),s._geometry=e,s._dirty=!1}return s}}function g(e,t,i){const r=t.spatialReference,n=e.coordinateHelper,s=new h(r,i);s.index=0;const o=new d(s);o.index=0,o.pos=n.pointToVector(t),s.vertices.push(o),e.components.push(s)}function m(e){return"mesh"===e.type}},7819:function(e,t,i){"use strict";i.d(t,{p:function(){return M}});var r=i(48996),n=i(61226),s=i(32501),o=i(38441),a=i(2623),l=i(34358);class c{constructor(e,t,i){this._editGeometry=e,this._component=t,this._pos=i,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let e="redo";null==this._addedVertex&&(e="apply",this._addedVertex=new a.Li(this._component));const t=this._component.getLastVertex();if(null==t)this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let e=null;t.rightEdge&&(this._originalEdge=t.rightEdge,e=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,null==this._left&&(this._left=new a.oH(this._component,t,this._addedVertex)),this._component.edges.push(this._left),t.rightEdge=this._left,null!=this._originalEdge&&null!=e&&(null==this._right&&(this._right=new a.oH(this._component,this._addedVertex,e)),this._component.edges.push(this._right),e.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,t.index+1)}this._editGeometry.notifyChanges({operation:e,addedVertices:[this._addedVertex]})}undo(){null!=this._addedVertex&&(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),null!=this._left&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),null!=this._right&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),null!=this._originalEdge&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),null!=this._left?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}var u=i(57665);class d{constructor(e,t,i=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=i,this.removedVertices=null}apply(){let e="redo";if(null==this.removedVertices){const t=this.removedVertices=[];this._vertices.forEach((e=>{const i=this._removeVertex(e);null!=i&&t.push(i)})),e="apply"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:e,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:"undo",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(e){const t=e.component;if(t.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},r=e.leftEdge,n=e.rightEdge;return t.vertices.splice(t.vertices.indexOf(e),1),r&&(t.edges.splice(t.edges.indexOf(r),1),r.leftVertex.rightEdge=null),n&&(t.edges.splice(t.edges.indexOf(n),1),n.rightVertex.leftEdge=null),0===e.index&&n&&this._vertices.length>0&&t.swapVertices(t.vertices.indexOf(n.rightVertex),0),r&&n&&(i.createdEdge=new a.oH(t,r.leftVertex,n.rightVertex),t.edges.push(i.createdEdge)),n&&t.updateVertexIndex(n.rightVertex,n.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,i=e.removedVertex.component,r=t.leftEdge,n=t.rightEdge;e.createdEdge&&i.edges.splice(i.edges.indexOf(e.createdEdge),1),i.vertices.push(t),r&&(i.edges.push(r),r.leftVertex.rightEdge=r),n&&(i.edges.push(n),n.rightVertex.leftEdge=n),i.updateVertexIndex(t,t.index)}}class p{constructor(e,t,i){this._editGeometry=e,this._edge=t,this._t=i,this.createdVertex=null,this._left=null,this._right=null}apply(){let e="redo";const t=this._edge,i=t.component,r=t.leftVertex,n=t.rightVertex;i.edges.splice(i.edges.indexOf(t),1),null==this.createdVertex&&(e="apply",this.createdVertex=new a.Li(t.component)),i.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(t.leftVertex.pos,t.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),null==this._left&&(this._left=new a.oH(i,r,this.createdVertex)),this._left.leftVertex.leftEdge?i.edges.push(this._left):i.edges.unshift(this._left),r.rightEdge=this._left,null==this._right&&(this._right=new a.oH(i,this.createdVertex,n)),i.edges.push(this._right),n.leftEdge=this._right,i.updateVertexIndex(this.createdVertex,r.index+1),this._editGeometry.notifyChanges({operation:e,addedVertices:[this.createdVertex]})}undo(){if(null==this.createdVertex||null==this._left||null==this._right)return null;const e=this._edge,t=e.component,i=this.createdVertex.leftEdge,r=this.createdVertex.rightEdge,n=i?.leftVertex,s=r?.rightVertex;t.vertices.splice(t.vertices.indexOf(this.createdVertex),1),t.edges.splice(t.edges.indexOf(this._left),1),t.edges.splice(t.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?t.edges.push(this._edge):t.edges.unshift(this._edge),n&&(n.rightEdge=e),s&&(s.leftEdge=e),n&&t.updateVertexIndex(n,n.index),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}}class h{constructor(e,t,i){this._editGeometry=e,this._vertex=t,this._pos=i}apply(){const e=null==this._originalPosition;e&&(this._originalPosition=this._vertex.pos),this._apply(e?"apply":"redo")}undo(){this._vertex.pos=this._originalPosition,this._editGeometry.notifyChanges({operation:"undo",updatedVertices:[this._vertex]})}accumulate(e){return e instanceof h&&e._vertex===this._vertex&&(this._pos=e._pos,this._apply("apply"),!0)}_apply(e){this._vertex.pos=this._pos,this._editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:e,updatedVertices:[this._vertex]})}}var f=i(50659);class g{constructor(e,t){this._editGeometry=e,this._component=t,this._createdEdge=null}apply(){let e="redo";if(null==this._createdEdge){e="apply";const t=this._component.getFirstVertex(),i=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||null==t||null==i)return;this._createdEdge=new a.oH(this._component,i,t)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:e})}undo(){null!=this._createdEdge&&((0,f.TF)(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}}class m{constructor(e,t,i,r){this._editGeometry=e,this.dx=t,this.dy=i,this.dz=r,this._firstTime=!0}apply(){const e=this._firstTime?"apply":"redo";this._firstTime=!1,this._apply(e,this.dx,this.dy,this.dz)}undo(){this._apply("undo",-this.dx,-this.dy,-this.dz)}accumulate(e){const t=this._editGeometry.geometry;return e instanceof m&&e._editGeometry.geometry===t&&(this._apply("apply",e.dx,e.dy,e.dz),this.dx+=e.dx,this.dy+=e.dy,this.dz+=e.dz,!0)}_apply(e,t,i,r){const n=this._editGeometry.geometry;n.offset(t,i,r);const s=this._editGeometry.components[0].getFirstVertex();if(!s)return;const o=this._editGeometry.coordinateHelper;s.pos=o.pointToVector(n.origin),this._editGeometry.notifyChanges({operation:e,updatedVertices:[s]})}}var y,v=i(28080),b=i(63447),_=i(31966),x=i(76835);class w{constructor(e,t){this._editGeometry=e,this._newPositions=t}apply(){const e=null==this._originalPositions?"apply":"redo";if(!this._originalPositions){const e=this._editGeometry.coordinateHelper;this._originalPositions=this._editGeometry.allVertices.map((t=>e.clone(t.pos)))}this._apply(e,this._newPositions)}undo(){this._originalPositions&&this._apply("undo",this._originalPositions)}accumulate(e){return e instanceof w&&(this._newPositions=e._newPositions,this._apply("apply",this._newPositions),!0)}_apply(e,t){const i=this._editGeometry.coordinateHelper,r=this._editGeometry.allVertices;for(let e=0;e<r.length;e++)i.copy(t[e],r[e].pos);this._editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:e,updatedVertices:r})}}const $=Symbol();class S{constructor(e){this._operations=[],this._closed=!1,this[y]=!0,e&&(this._operations=e,this._closed=!0)}close(){this._closed=!0}apply(){for(const e of this._operations)e.apply()}undo(){for(let e=this._operations.length-1;e>=0;e--)this._operations[e].undo()}accumulate(e){if(this._closed)return!1;const t=this._operations.length?this._operations[this._operations.length-1]:null;return t&&t.accumulate(e)||(this._operations.push(e),e.apply()),!0}}y=$;class M extends r.A{constructor(e,t){super(),this.data=e,this.viewingMode=t,this._undoStack=[],this._redoStack=[],this._listener=this.data.on("change",(e=>{e.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this._listener.remove()}splitEdge(e,t){return this._apply(new p(this.data,e,t))}updateVertices(e,t,i=l.Y.ACCUMULATE_STEPS){return this._apply(new u.D(this.data,e,t),i)}move(e,t,i,r=l.Y.ACCUMULATE_STEPS){return(0,a.oF)(this.data)?this._apply(new m(this.data,e,t,i),r):this.moveVertices(this.data.allVertices,e,t,i,r)}moveVertices(e,t,i,r,n=l.Y.ACCUMULATE_STEPS){return(0,a.oF)(this.data)?this._apply(new m(this.data,t,i,r),n):this.updateVertices(e,new v.a(this.data.coordinateHelper,t,i,r),n)}scale(e,t,i,r,n=l.Y.ACCUMULATE_STEPS,s=u.K.CUMULATIVE){return this.scaleVertices(this.data.allVertices,e,t,i,r,n,s)}scaleVertices(e,t,i,r,n,s=l.Y.ACCUMULATE_STEPS,o=u.K.CUMULATIVE){return this.updateVertices(e,new x.j(t,i,r,n,o),s)}rotate(e,t,i=l.Y.ACCUMULATE_STEPS,r=u.K.CUMULATIVE){return this.rotateVertices(this.data.allVertices,e,t,i,r)}rotateVertices(e,t,i,r=l.Y.ACCUMULATE_STEPS,n=u.K.CUMULATIVE){return this.updateVertices(e,new _.m(t,i,n),r)}removeVertices(e){return this._apply(new d(this.data,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.data.components.length?null:this._apply(new c(this.data,this.data.components[0],e))}setVertexPosition(e,t){return this._apply(new h(this.data,e,t))}offsetEdge(e,t,i,r=l.Y.ACCUMULATE_STEPS){return this.updateVertices([t.leftVertex,t.rightVertex],new b.L(this.data.coordinateHelper,e,t,i),r)}trySetGeometry(e,t=l.Y.ACCUMULATE_STEPS){const{data:i}=this,{coordinateHelper:r}=i;if(i.type!==e.type||!i.spatialReference.equals(e.spatialReference)||r.hasZ()!==e.hasZ||r.hasM()!==e.hasM||!(0,o.It)(i.geometry,e)||(0,a.oF)(i))return;const n=Array.from(a.ZE.fromGeometry(e,this.viewingMode).iterateVertices(),(e=>e.pos));return this.setVertexPositions(n,t)}setVertexPositions(e,t=l.Y.ACCUMULATE_STEPS){return this._apply(new w(this.data,e),t)}createResetState(){if((0,a.oF)(this.data))return this._createResetStateMesh();const e=this.data.geometry.clone();return(0,n.hA)((()=>this.trySetGeometry(e)))}closeComponent(e){return this.data.components.includes(e)?this._apply(new g(this.data,e)):null}canRemoveVertex(e){return e.vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new S;return this._apply(e),(0,n.hA)((()=>e.close()))}undo(){if(this._undoStack.length>0){const e=this._undoStack.pop();return e.undo(),this._redoStack.push(e),e}return null}redo(){if(this._redoStack.length>0){const e=this._redoStack.pop();return e.apply(),this._undoStack.push(e),e}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}_apply(e,t=l.Y.ACCUMULATE_STEPS){return t!==l.Y.NEW_STEP&&null!=this.lastOperation&&this.lastOperation.accumulate(e)||(e.apply(),this._undoStack.push(e),this._redoStack=[]),e}_createResetStateMesh(){if(!(0,a.oF)(this.data))return(0,n.hA)();const e=this.data.geometry,{vertexSpace:t}=e;if(t.origin){const i=(0,s.o8)(t.origin);return(0,n.hA)((()=>{e.vertexSpace.origin=i}))}const i=e.vertexAttributes.clonePositional();return(0,n.hA)((()=>{e.vertexAttributes=i,e.vertexAttributesChanged()}))}static fromGeometry(e,t){return new M(a.ZE.fromGeometry(e,t),t)}}},34358:function(e,t,i){"use strict";var r;i.d(t,{Y:function(){return r}}),function(e){e[e.NEW_STEP=0]="NEW_STEP",e[e.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS"}(r||(r={}))},28080:function(e,t,i){"use strict";i.d(t,{a:function(){return r}});class r{constructor(e,t,i,r){this._helper=e,this.dx=t,this.dy=i,this.dz=r}_move(e,t,i,r){this._helper.addDelta(e.pos,t,i,r)}apply(e){this._move(e,this.dx,this.dy,this.dz)}undo(e){this._move(e,-this.dx,-this.dy,-this.dz)}canAccumulate(e){return e instanceof r}accumulate(e,t){this._move(e,t.dx,t.dy,t.dz)}accumulateParams(e){this.dx+=e.dx,this.dy+=e.dy,this.dz+=e.dz}}},63447:function(e,t,i){"use strict";i.d(t,{B:function(){return f},L:function(){return d}});var r=i(15774),n=i(13786),s=i(1932),o=i(20551),a=i(32501),l=i(5596),c=i(29531),u=i(77363);class d{get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}constructor(e,t,i,r=0,n=g.IMMEDIATE){this._helper=e,this._planeType=t,this._edge=i,this.distance=r,this._plane=(0,l.vt)(),this._offsetPlane=(0,l.vt)(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,n===g.IMMEDIATE&&this._initialize()}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){const e=this._toXYZ(this._edge.leftVertex.pos),t=this._toXYZ(this._edge.leftVertex.leftEdge?.leftVertex?.pos),i=this._toXYZ(this._edge.rightVertex.pos),r=this._toXYZ(this._edge.rightVertex.rightEdge?.rightVertex?.pos);this._edgeDirection=(0,o.o)((0,a.vt)(),e,i),t?(this._left=this._computeNeighbor(e,t,this._edgeDirection),this._right=this._computeNeighbor(i,r,this._edgeDirection,this._left)):(this._right=this._computeNeighbor(i,r,this._edgeDirection),this._left=this._computeNeighbor(e,t,this._edgeDirection,this._right))}_toXYZ(e){return null!=e?this._helper.toXYZ(e):null}_pointToXYZ(e){return this._toXYZ(this._helper.pointToVector(e))}_computeNeighbor(e,t,i,r){const n=(0,a.vt)();if(t){(0,o.o)(n,e,t);const r=!this._passesBisectingAngleThreshold(n,i);return{start:e,end:t,direction:r?this._bisectVectorsPerpendicular(i,n):n,isOriginalDirection:!r}}return this._helper.hasZ()?r&&((0,o.e)(n,i,r.direction),(0,o.e)(n,n,i),(0,o.n)(n,n),Math.sign(n[1])!==Math.sign(i[0])&&(0,o.h)(n,n,-1)):(0,o.i)(n,-i[1],i[0],0),{start:e,end:t,direction:n,isOriginalDirection:!0}}_passesBisectingAngleThreshold(e,t){const i=Math.abs((0,c.g7)(t,e));return i>=p&&i<=Math.PI-p}_bisectVectorsPerpendicular(e,t){const i=(0,o.f)(e,t)<0?e:(0,o.v)((0,a.vt)(),e),r=Math.abs((0,o.f)(i,t));if(!(r<h||r>1-h))return this._bisectDirection(i,t);const n=(0,o.e)((0,a.vt)(),i,[0,0,1]);return(0,o.n)(n,n)}_bisectDirection(e,t){const i=(0,o.g)((0,a.vt)(),e,t);return(0,o.n)(i,i)}_initializePlane(){const e=this._computeNormalDirection(this._left),t=this._computeNormalDirection(this._right);(0,o.f)(e,t)<0&&(0,o.v)(t,t),(0,l.O_)(this._left.start,this._bisectDirection(e,t),this._plane)}_computeNormalDirection(e){const t=(0,o.e)((0,a.vt)(),e.direction,this._edgeDirection);(0,o.n)(t,t);const i=(0,o.e)((0,a.vt)(),this._edgeDirection,t);return this._planeType===f.XY&&(i[2]=0),(0,o.n)(i,i)}_initializeDistanceConstraints(){null==this._left.end||this.requiresSplitEdgeLeft||this._updateDistanceConstraint((0,l.mN)(this._plane,this._left.end)),null==this._right.end||this.requiresSplitEdgeRight||this._updateDistanceConstraint((0,l.mN)(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(e){e<=0&&(this._minDistance=Math.max(this._minDistance,e)),e>=0&&(this._maxDistance=Math.min(this._maxDistance,e))}_updateIntersectDistanceConstraint(e){const t=(0,l.Qj)(e),i=this._edgeDirection,r=(0,o.g)((0,a.vt)(),this._left.start,this._left.direction),c=(0,o.g)((0,a.vt)(),this._right.start,this._right.direction),d=this._pointInBasis2D((0,s.vt)(),t,i,this._left.start),p=this._pointInBasis2D((0,s.vt)(),t,i,r),h=this._pointInBasis2D((0,s.vt)(),t,i,this._right.start),f=this._pointInBasis2D((0,s.vt)(),t,i,c),[g]=(0,u.jI)({start:p,end:d,type:u.Vv.LINE},{start:f,end:h,type:u.Vv.LINE});if(!g)return;const m=(0,n.Re)((0,s.vt)(),d,p);(0,n.S8)(m,m);const y=(0,n.Re)((0,s.vt)(),g,p),v=(0,n.Om)(m,y),b=(0,o.g)((0,a.vt)(),r,(0,o.h)((0,a.vt)(),this._left.direction,-v)),_=(0,l.mN)(e,b);this._updateDistanceConstraint(_)}_pointInBasis2D(e,t,i,r){return e[0]=(0,c.gr)(t,r),e[1]=(0,c.gr)(i,r),e}_offset(e,t){Number.isFinite(this._minDistance)&&(t=Math.max(this._minDistance,t)),Number.isFinite(this._maxDistance)&&(t=Math.min(this._maxDistance,t)),(0,l.C)(this._offsetPlane,this._plane),this._offsetPlane[3]-=t;const i=(e,t,i)=>null!=t&&(0,l.U5)(this._offsetPlane,e,(0,o.g)((0,a.vt)(),e,t),i),r=(0,a.vt)();(e===this._edge.leftVertex?i(this._left.start,this._left.direction,r):i(this._right.start,this._right.direction,r))&&this._helper.copy(this._helper.fromXYZ(r,void 0,this._helper.getM(e.pos)),e.pos)}selectArrowFromStartPoint(e){this._selectedArrow=(0,l.Tj)(this.plane,this._pointToXYZ(e))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(e){return(0,l.mN)(this.plane,this._pointToXYZ(e))}clampedStartAndEnd(e){const t=this._helper.toXYZ(this._helper.pointToVector(e)),i=(0,l._I)(this._plane,t,(0,a.vt)()),n=(0,l.mN)(this._plane,t),s=(0,r.qE)(n,this._minDistance,this._maxDistance);return(0,o.m)(t,i,t,s/n),{start:i,end:t}}apply(e){this._offset(e,this.distance)}undo(e){this._offset(e,0)}canAccumulate(e){return e instanceof d&&this._edge.leftVertex.index===e._edge.leftVertex.index&&this._edge.rightVertex.index===e._edge.rightVertex.index&&this._edge.component===e._edge.component&&this._maybeEqualsVec3(this._left.direction,e._left.direction)&&this._maybeEqualsVec3(this._right.direction,e._right.direction)&&(0,o.H)((0,l.Qj)(this._plane),(0,l.Qj)(e._plane))}accumulate(e,t){const i=this._plane[3]-t._plane[3]+t.distance;this._offset(e,i)}accumulateParams(e){const t=e.distance-e._plane[3];this.distance=t+this._plane[3]}clone(){const e=new d(this._helper,this._planeType,this._edge,this.distance,g.DEFERRED);return(0,l.C)(e._plane,this._plane),(0,l.C)(e._offsetPlane,this._offsetPlane),e._maxDistance=this._maxDistance,e._minDistance=this._minDistance,e._left=this._cloneNeighbor(this._left),e._right=this._cloneNeighbor(this._right),e._edgeDirection=(0,o.c)((0,a.vt)(),this._edgeDirection),e}_maybeEqualsVec3(e,t){return null==e&&null==t||null!=e&&null!=t&&(0,o.H)(e,t)}_cloneNeighbor({start:e,end:t,direction:i,isOriginalDirection:r}){return{start:(0,o.c)((0,a.vt)(),e),end:null!=t?(0,o.c)((0,a.vt)(),t):null,direction:(0,o.c)((0,a.vt)(),i),isOriginalDirection:r}}}const p=(0,r.kU)(15),h=.001;var f,g,m;(m=f||(f={}))[m.XYZ=0]="XYZ",m[m.XY=1]="XY",function(e){e[e.IMMEDIATE=0]="IMMEDIATE",e[e.DEFERRED=1]="DEFERRED"}(g||(g={}))},31966:function(e,t,i){"use strict";i.d(t,{m:function(){return o}});var r=i(50659),n=i(13786),s=i(57665);class o{constructor(e,t,i=s.K.CUMULATIVE){this.origin=e,this.angle=t,this._accumulationType=i}_rotate(e,t){(0,n.e$)(e.pos,e.pos,this.origin,t)}apply(e){this._rotate(e,this.angle)}undo(e){this._rotate(e,-this.angle)}canAccumulate(e){return e instanceof o&&(0,r.aI)(this.origin,e.origin)}accumulate(e,t){const i=t._accumulationType===s.K.REPLACE;this._rotate(e,i?t.angle-this.angle:t.angle)}accumulateParams(e){const t=e._accumulationType===s.K.REPLACE;this.angle=t?e.angle:this.angle+e.angle}}},76835:function(e,t,i){"use strict";i.d(t,{j:function(){return a}});var r=i(50659),n=i(1932),s=i(13786),o=i(57665);class a{constructor(e,t,i,r,s=o.K.CUMULATIVE){this.origin=e,this.axis1=t,this.factor1=i,this.factor2=r,this._accumulationType=s,this.axis2=(0,n.fA)(t[1],-t[0])}_scale(e,t,i){(0,s.Vj)(e.pos,e.pos,this.origin,this.axis1,t),(0,s.Vj)(e.pos,e.pos,this.origin,this.axis2,i)}apply(e){this._scale(e,this.factor1,this.factor2)}undo(e){this._scale(e,1/this.factor1,1/this.factor2)}canAccumulate(e){return e instanceof a&&(0,r.aI)(this.origin,e.origin)&&(0,r.aI)(this.axis1,e.axis1)}accumulate(e,t){t._accumulationType===o.K.REPLACE?this._scale(e,t.factor1/this.factor1,t.factor2/this.factor2):this._scale(e,t.factor1,t.factor2)}accumulateParams(e){const t=e._accumulationType===o.K.REPLACE;this.factor1=t?e.factor1:this.factor1*e.factor1,this.factor2=t?e.factor2:this.factor2*e.factor2}}},57665:function(e,t,i){"use strict";i.d(t,{D:function(){return r},K:function(){return n}});class r{constructor(e,t,i){this._editGeometry=e,this._vertices=t,this.operation=i,this._undone=!1}apply(){this._vertices.forEach((e=>this.operation.apply(e))),this._editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:this._undone?"redo":"apply",updatedVertices:this._vertices})}undo(){this._vertices.forEach((e=>this.operation.undo(e))),this._editGeometry.notifyChanges({operation:"undo",updatedVertices:this._vertices}),this._undone=!0}canAccumulate(e){if(this._undone||e._vertices.length!==this._vertices.length)return!1;for(let t=0;t<e._vertices.length;++t)if(e._vertices[t]!==this._vertices[t])return!1;return this.operation.canAccumulate(e.operation)}accumulate(e){return!!(e instanceof r&&this.canAccumulate(e))&&(this._vertices.forEach((t=>this.operation.accumulate(t,e.operation))),this.operation.accumulateParams(e.operation),this._editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:"apply",updatedVertices:this._vertices}),!0)}}var n;!function(e){e[e.CUMULATIVE=0]="CUMULATIVE",e[e.REPLACE=1]="REPLACE"}(n||(n={}))},58144:function(e,t,i){"use strict";i.d(t,{e:function(){return r}});class r{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ,this.drawConstraints=e.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},21858:function(e,t,i){"use strict";i.d(t,{b:function(){return c}});var r=i(61226),n=i(97441),s=i(64330),o=i(92535),a=i(96942),l=i(98245);class c{draw(e,t){const i=function(e){const t=[];for(const i of e){let e=!0;for(const r of t)if(i.equals(r)){e=!1;break}e&&t.push(i)}return t}(e),c=this.sortUniqueHints(i),u=[];for(const e of c)e instanceof n.v&&u.push(this.visualizeIntersectionPoint(e,t)),e instanceof s.c&&u.push(this.visualizeLine(e,t)),e instanceof o.r&&u.push(this.visualizeParallelSign(e,t)),e instanceof l.l&&u.push(this.visualizeRightAngleQuad(e,t)),e instanceof a._&&u.push(this.visualizePoint(e,t));return(0,r.vE)(u)}sortUniqueHints(e){return e}}},96942:function(e,t,i){"use strict";i.d(t,{_:function(){return s}});var r=i(20551),n=i(94612);class s extends n.m{constructor(e,t,i){super(t,i),this.point=e}equals(e){return e instanceof s&&(0,r.p)(this.point,e.point)}}},17921:function(e,t,i){"use strict";i.d(t,{T:function(){return n}});var r=i(13520);function n(e){let t=0,i=0,n=0;return e?("cim"===e.type&&e.data.symbol&&"symbolLayers"in e.data.symbol&&e.data.symbol.symbolLayers&&e.data.symbol.symbolLayers.map((e=>{"CIMVectorMarker"===e.type&&e.anchorPoint&&(Math.abs(e.anchorPoint.x)>t&&(t=e.anchorPoint.x),Math.abs(e.anchorPoint.y)>i&&(i=e.anchorPoint.y),null!=e.size&&e.size>n&&(n=e.size))})),t=(0,r.Lz)(t),i=(0,r.Lz)(i),n=(0,r.Lz)(n),{offsetX:t,offsetY:i,size:n}):{offsetX:t,offsetY:i,size:n}}},87265:function(e,t,i){"use strict";i.d(t,{Am:function(){return T},Gk:function(){return y},Ku:function(){return _},S3:function(){return w},fL:function(){return L},em:function(){return k},LJ:function(){return $},Y3:function(){return x},dy:function(){return M},qP:function(){return S},fr:function(){return b},Hw:function(){return A},uf:function(){return C}});var r=i(56275),n=i(49634),s=i(53804),o=i(83525),a=i(66110),l=i(23502),c=(i(58941),i(40633),i(13798),i(65953));let u=class extends o.A{constructor(e){super(e),this.actual=null,this.lockable=!0,this.id=(0,a.lk)(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(e){this.lockable&&this._set("committed",e)}get dirty(){return null!=this.inputValue}get locked(){return this.lockable&&null!=this.committed}onInput(e){this.inputValue=e}onCommit(e,t,i){this.lockable?this._onCommitLockable(e,i):this._onCommitNonLockable(i),this.invalid&&"commit-and-exit"===e||i.onCommit(t,e)}_onCommitLockable(e,t){const{inputValue:i,locked:r}=this;r&&d(i)?this.unlock():("commit-and-exit"===e&&!r||null!=i)&&this._parseInputAndLock(t)}_onCommitNonLockable(e){const{inputValue:t}=this;d(t)?this.setActual(null):null!=t&&this._parseInputAndSetActual(e)}applyValue(e){this.lockable?this.lock(e):this.setActual(e)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(e){this.actual=e,this.clearInputValue()}lock(e){this.lockable&&(this.committed=e??this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(e){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(e))}getSuffix(e){const{suffix:t}=this;return"function"==typeof t?t(e):t}getFormattedValue(e){const{actual:t,committed:i,format:r}=this;return null!=i?r(i,e):null!=t?r(t,e):null}getRawDisplayValue(e){const{actual:t,committed:i,inputValue:r}=this;return null!=r?r:this.lockable&&null!=i?this.formatForInputMode(i,e):null!=t?this.formatForInputMode(t,e):null}_parseInputAndSetActual(e){const{inputValue:t}=this;if(null==t||d(t))return this.setActual(null);const i=this.parse(t,e);null!=i?this.setActual(i):this.invalid=!0}_parseInputAndLock(e){const{inputValue:t,actual:i}=this;if(d(t))return this.unlock();if(null==t)return this.lock(i);const r=this.parse(t,e);null!=r?this.lock(r):this.invalid=!0}};function d(e){return null!=e&&""===e.trim()}(0,s._)([(0,l.MZ)()],u.prototype,"actual",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"committed",null),(0,s._)([(0,l.MZ)()],u.prototype,"dirty",null),(0,s._)([(0,l.MZ)()],u.prototype,"format",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"formatForInputMode",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"lockable",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"locked",null),(0,s._)([(0,l.MZ)()],u.prototype,"id",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"inputValue",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"name",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"parse",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"readOnly",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"suffix",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"title",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"visible",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"invalid",void 0),(0,s._)([(0,l.MZ)()],u.prototype,"unlockOnVertexPlacement",void 0),u=(0,s._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipField")],u);let p=class extends u{constructor(e){super(e),this.showAsZ=!1}normalizeCtorArgs(e){const t=e=>e.inputUnitInfos.verticalLength.unit;return{name:"elevation",actual:r.r7,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.d_)(e,t(i))}),format:(e,t)=>t.formatters.verticalLength(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.verticalLength.abbreviation,title:e=>e.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1,...e}}};(0,s._)([(0,l.MZ)()],p.prototype,"showAsZ",void 0),p=(0,s._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],p);var h=i(88226),f=i(99675);let g=class extends u{constructor(e){super(e),this.precision=1}normalizeCtorArgs(e){return{name:"orientation",actual:null,parse:(0,n.hw)({createQuantity:(e,t)=>(0,r.Wq)(e,(e=>e.inputUnitInfos.angle.unit)(t),"geographic"),sanitize:n.D5}),format:e=>{const t=(0,f.P1)(e);return(0,h.Nk)(t,"geographic",this.precision)},formatForInputMode:(e,t)=>{const i=(0,f.P1)(e);return t.formatters.scalar(i)},suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>e.messages.sketch.orientation,...e}}};(0,s._)([(0,l.MZ)()],g.prototype,"precision",void 0),g=(0,s._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],g);let m=class extends u{constructor(e){super(e),this.precision=null}normalizeCtorArgs(e){const t=e=>e.inputUnitInfos.length.unit;return{name:"size",actual:null,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.d_)(e,t(i))}),format:(e,t)=>t.formatters.length(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.length.abbreviation,title:e=>e.messages.sketch.size,...e}}};function y(e){const t=e=>e.inputUnitInfos.angle.unit,i=e=>e.sketchOptions.values.effectiveDirectionMode;return new u({name:"direction",actual:r.IV,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.Wq)(e,t(i),"geographic"),sanitize:n.D5}),format:(e,t)=>{const r=i(t),n=(0,f.jQ)(e,r);switch(r){case f.rZ.Absolute:return t.formatters.direction(n);case f.rZ.Relative:return t.formatters.directionRelative(n);case f.rZ.RelativeBilateral:return t.formatters.directionRelativeBilateral(n)}},formatForInputMode:(e,n)=>{const s=(0,f.jQ)(e,i(n));return n.formatters.scalar((0,r.kM)(s,t(n)))},suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>{const t=i(e),{absolute:r,relative:n}=e.messages.sketch.direction;switch(t){case f.rZ.Absolute:return r;case f.rZ.Relative:case f.rZ.RelativeBilateral:return n}},...e})}function v(e){const t=e=>e.inputUnitInfos.length.unit;return new u({name:"distance",actual:r.r7,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.d_)(Math.max(e,0),t(i))}),format:(e,t)=>t.formatters.length(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.length.abbreviation,title:e=>e.messages.sketch.distance,...e})}function b(e){return v({format:(e,t)=>t.formatters.totalLength(e),title:e=>e.messages.sketch.totalLength,readOnly:!0,...e})}function _(e){return v({...e})}function x(e){return v({...e,parse:(0,n.hw)({createQuantity:(e,t)=>(0,r.d_)(e,(e=>e.inputUnitInfos.length.unit)(t))}),format:(e,t)=>t.formatters.lengthRelative(e)})}function w(e){return new p(e)}function $(e){return new g(e)}function S(e){return new m(e)}function M(e){return I("scale",{name:"scale",actual:null,parse:(0,n.hw)({createQuantity:e=>(0,r.LF)(Math.abs(e))}),...e})}function T(e){const t=e=>e.inputUnitInfos.area.unit;return new u({name:"area",actual:r.iT,parse:(0,n.hw)({createQuantity:(e,i)=>(0,r.gT)(e,t(i))}),format:(e,t)=>t.formatters.area(e),formatForInputMode:(e,i)=>i.formatters.scalar((0,r.kM)(e,t(i))),suffix:e=>e.inputUnitInfos.area.abbreviation,title:e=>e.messages.sketch.area,readOnly:!0,...e})}function k(e){return new u({name:"x",actual:r.IV,parse:n.L5,format:(e,t)=>t.formatters.longitudeDecimalDegrees(e),formatForInputMode:e=>(0,n.zX)(e),suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>e.messages.sketch.longitude,...e})}function L(e){return new u({name:"y",actual:r.IV,parse:n.A3,format:(e,t)=>t.formatters.latitudeDecimalDegrees(e),formatForInputMode:e=>(0,n.oZ)(e),suffix:e=>e.inputUnitInfos.angle.abbreviation,title:e=>e.messages.sketch.latitude,...e})}function A(e){return I("x",{name:"x",...e})}function C(e){return I("y",{name:"y",...e})}function I(e,t){return new u({actual:(0,r.LF)(0),parse:(0,n.hw)({createQuantity:e=>(0,r.LF)(e)}),format:(e,t)=>t.formatters.scalar(e),formatForInputMode:(e,t)=>t.formatters.scalar(e),title:t=>t.messages.sketch[e],...t})}(0,s._)([(0,l.MZ)()],m.prototype,"precision",void 0),m=(0,s._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldSize")],m)},49634:function(e,t,i){"use strict";i.d(t,{A3:function(){return R},D5:function(){return k},GC:function(){return d},L5:function(){return O},Nr:function(){return C},X3:function(){return E},hw:function(){return T},m6:function(){return V},oZ:function(){return b},zX:function(){return v}});var r=i(16691),n=i(88226),s=i(56275),o=i(6338),a=i(2900),l=i(99675);const c=1,u=6;function d(e,t){return{angleRelative:p,direction:h,directionRelative:f,directionRelativeBilateral:g,latitudeDecimalDegrees:y,longitudeDecimalDegrees:m,area:(i,r)=>(0,n.Jd)(e,i,r??t.area),length:(i,r,s)=>(0,n.ix)(e,i,r??t.length,s),lengthRelative:(i,r)=>(0,n.yh)(e,i,r??t.length),totalLength:(i,r)=>(0,n.ix)(e,i,r??t.length),verticalLength:(i,r)=>(0,n.Oo)(e,i,r??t.verticalLength),verticalLengthRelative:(i,r)=>(0,n.OM)(e,i,r??t.verticalLength),percentage:w,scalar:S,scale:$}}function p(e){return(0,a.ZV)(e,{signDisplay:"exceptZero",...M(c)})}function h(e){return(0,n.Nk)(e,e.rotationType,c)}function f(e){const t=(0,l.hF)(e);return(0,a.ZV)(t,{style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:t>0?"never":"exceptZero",...M(c)})}function g(e){return(0,n.Nk)(e,e.rotationType,c)}function m(e){return _(e,G)}function y(e){return _(e,P)}function v(e){return x(e,G)}function b(e){return x(e,P)}function _(e,t){return(0,n.Nk)((0,s.kM)(e,"degrees"),"geographic",u,t,!1)}function x(e,t){const i=t.normalize((0,s.kM)(e,"degrees").value,void 0,!1);return S((0,s.LF)(i),u)}function w(e){return(0,a.ZV)(e.value,{style:"percent"})}function $(e){return(0,a.ZV)(e,{style:"percent",maximumFractionDigits:0})}function S(e,t){return(0,a.ZV)(e.value,M(t))}function M(e){return{minimumFractionDigits:e,maximumFractionDigits:e}}function T({createQuantity:e,sanitize:t}){return(i,r)=>{if(null==i)return null;t&&(i=t(i));const n=(0,a.$J)(i);return null==n?null:e(n,r)}}function k(e){return e.replaceAll(/[*^~]/g,"")}const L=e=>{let t=`[-+]?[0-9${e.thousands}]+`;return""!==e.decimal&&(t+=`${e.decimal}[0-9]+`),new RegExp(`^(${t}\\s*)${e.separator}(\\s*${t})$`,"i")},A=[];for(const e of[",","\\|","\\s+"])for(const t of["\\.",",",""])for(const i of["",",","\\.","","\\s+"])e!==t&&e!==i&&t!==i&&A.push({separator:e,decimal:t,thousands:i,pattern:L({decimal:t,thousands:i,separator:e})});function C(e){for(const{decimal:t,thousands:i,pattern:r}of A){r.lastIndex=0;const n=e.match(r);if(!n)continue;const o=(0,a.$J)(I(n[1],t,i)),l=(0,a.$J)(I(n[2],t,i));if(null!=o&&null!=l)return{x:(0,s.LF)(o),y:(0,s.LF)(l)}}return null}function I(e,t,i){let r=e.replaceAll(/[\s+]/g,"");return""!==i&&(r=r.replaceAll(i,"")),""!==t&&(r=r.replaceAll(t,".")),r}function E(e){if(!e||null!=(0,a.$J)(e)||!(0,o.s1)())return null;const t=(0,o.o6)(e),i=V(t?.latitude),r=V(t?.longitude);return null!=r&&null!=i?{latitude:i,longitude:r}:null}function O(e){return V((0,o.mT)(e))}function R(e){return V((0,o.ts)(e))}function V(e){return null!=e?(0,s.Wq)(e,"degrees","geographic"):null}const G=new r.hr(-180,180),P=new r.hr(-90,90)},18945:function(e,t,i){"use strict";i.d(t,{F:function(){return l}});var r=i(53804),n=i(23502),s=(i(58941),i(40633),i(13798),i(65953)),o=i(90858),a=i(73919);let l=class extends((0,a.B)(o.w)){constructor(e){super(e),this.type="move-point",this.allFields.forEach((e=>{e.lockable=!1,e.setActual(null)}))}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,n.MZ)()],l.prototype,"allFields",null),l=(0,r._)([(0,s.$)("esri.views.interactive.tooltip.infos.MovePointTooltipInfo")],l)},83931:function(e,t,i){"use strict";i.d(t,{d:function(){return c}});var r=i(53804),n=i(23502),s=(i(58941),i(40633),i(13798),i(65953)),o=i(87265),a=i(90858),l=i(73919);let c=class extends((0,l.B)(a.w)){constructor(e){super(e),this.type="selected-vertex",this.area=(0,o.Am)(),this.totalLength=(0,o.fr)(),this.geometryType="polyline",this.allFields.forEach((e=>{e.lockable=!1,e.setActual(null)}))}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,"polygon"===this.geometryType?this.area:this.totalLength]}};(0,r._)([(0,n.MZ)()],c.prototype,"geometryType",void 0),(0,r._)([(0,n.MZ)()],c.prototype,"allFields",null),c=(0,r._)([(0,s.$)("esri.views.interactive.tooltip.infos.SelectedVertexTooltipInfo")],c)},90858:function(e,t,i){"use strict";i.d(t,{w:function(){return a}});var r=i(53804),n=i(83525),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953));let a=class extends n.A{constructor(e){super(e),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter((e=>e.visible&&!e.readOnly))}clearInputValues(){this.allFields.forEach((e=>e.clearInputValue()))}};(0,r._)([(0,s.MZ)()],a.prototype,"sketchOptions",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"visibleElements",null),(0,r._)([(0,s.MZ)()],a.prototype,"helpMessage",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"viewType",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"allFields",null),(0,r._)([(0,s.MZ)()],a.prototype,"editableFields",null),a=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],a)},73919:function(e,t,i){"use strict";i.d(t,{B:function(){return d}});var r=i(53804),n=i(56275),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953)),a=i(74471),l=i(87265),c=i(49634),u=i(99368);const d=e=>{let t=class extends e{constructor(){super(...arguments),this.longitude=(0,l.em)(),this.latitude=(0,l.fL)(),this.x=(0,l.Hw)(),this.y=(0,l.uf)(),this.elevation=(0,l.S3)(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(e,t=e?.spatialReference){if(this.geographic=!!t&&(0,u.yF)(t),null==e)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){const t=(0,a.QP)(e,p);this._setActualLonLat((0,c.m6)(t?.[0]),(0,c.m6)(t?.[1]))}else this._setActualXY((0,n.LF)(e.x),(0,n.LF)(e.y))}_setActualLonLat(e,t){this.longitude.actual=e,this.latitude.actual=t}_setActualXY(e,t){this.x.actual=e,this.y.actual=t}};return(0,r._)([(0,s.MZ)()],t.prototype,"geographic",void 0),(0,r._)([(0,s.MZ)()],t.prototype,"effectiveX",null),(0,r._)([(0,s.MZ)()],t.prototype,"effectiveY",null),(0,r._)([(0,s.MZ)()],t.prototype,"key",null),t=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],t),t},p=[0,0]},94492:function(e,t,i){"use strict";i.d(t,{M:function(){return l}});var r=i(53804),n=i(56275),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953)),a=i(90858);let l=class extends a.w{constructor(e){super(e),this.type="translate",this.distance=n.r7}clear(){this.distance=n.r7}};(0,r._)([(0,s.MZ)()],l.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"distance",void 0),l=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.infos.TranslateTooltipInfo")],l)},24148:function(e,t,i){"use strict";i.d(t,{sZ:function(){return je},wG:function(){return He},mu:function(){return Ne},A:function(){return Ge},HA:function(){return Be},IA:function(){return De},Ue:function(){return Pe}});var r=i(77472),n=i(61226),s=i(15774),o=i(56275),a=i(28181),l=i(62938),c=i(20551),u=i(32501),d=i(6338),p=(i(45532),i(36405)),h=i(67376),f=i(57652),g=i(1644),m=i(37578),y=i(53804),v=i(48996),b=i(40212),_=i(95929),x=i(13520),w=i(23502),$=(i(58941),i(40633),i(13798),i(65953)),S=i(93839);const M="esri-tooltip",T=`${M}-content`,k=`${M}-content--input`,L=`${M}-content__header`,A=`${M}-content__header__spacer`,C=`${M}-content__header__actions`,I=`${M}-draw-header-actions`,E=`${M}-table`,O=`${M}-help-message`,R=`${M}-help-message__text`,V=`${M}-help-message__icon`;i(39819);var G=i(31267),P=i(10362),D=i(49146);const N=`${M}-field`,Z={base:N,inputMode:`${N}--input`,title:`${N}__title`,value:`${N}__value`};let U=class extends G.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return(0,D.K)("div",{class:this.classes({[Z.base]:!0,[Z.inputMode]:"input"===this.mode})},(0,D.K)("div",{class:Z.title,key:"title"},this.title),(0,D.K)("div",{class:Z.value,key:"value"},this.value))}};(0,y._)([(0,w.MZ)()],U.prototype,"hidden",void 0),(0,y._)([(0,w.MZ)()],U.prototype,"mode",void 0),(0,y._)([(0,w.MZ)()],U.prototype,"title",void 0),(0,y._)([(0,w.MZ)()],U.prototype,"value",void 0),U=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.components.TooltipField")],U);const F={base:`${M}-value-by-value`};let z=class extends G.A{constructor(){super(...arguments),this.divider=""}render(){return(0,D.K)("div",{class:F.base},(0,D.K)("span",null,this.left),(0,D.K)("span",null,this.divider),(0,D.K)("span",null,this.right))}};(0,y._)([(0,w.MZ)()],z.prototype,"left",void 0),(0,y._)([(0,w.MZ)()],z.prototype,"divider",void 0),(0,y._)([(0,w.MZ)()],z.prototype,"right",void 0),z=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.components.ValueByValue")],z);var H=i(84016),j=i(7213),B=i(60539),W=i(74087),q=i(15999),K=i(76722),Y=i(49634),X=i(28754),J=i(90357);const Q=Symbol("dragHandles");let ee=class extends G.A{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transitionInfo=null,this._mode="feedback",this._getFormatters=(0,j.B)(Y.GC),this._onHeaderPointerDown=e=>{const t=e.target;t instanceof HTMLElement&&"calcite-button"!==t?.tagName?.toLowerCase()&&(this.removeHandles(Q),t.setPointerCapture(e.pointerId),this.tooltip.onDragStart(e.clientX,e.clientY),this.addHandles([(0,b.on)(t,"pointermove",(({clientX:e,clientY:t})=>{this.tooltip.onDrag(e,t)})),(0,b.on)(t,["pointerup","pointercancel"],(i=>{this.removeHandles(Q),t.releasePointerCapture(e.pointerId),this.tooltip.onDragEnd()})),(0,b.on)(t,"touchstart",(e=>e.preventDefault()))],Q))},this._onDiscard=()=>{this.destroyed||(this.tooltip.emit("discard"),this.info.clearInputValues(),this.exitInputMode())},this._onCommit=(e,t)=>{if(this.destroyed)return;if(this.tooltip.emit("commit",{type:t}),"commit-and-exit"===t)return void this.exitInputMode();if("commit-on-blur"===t)return;const i=this._getFocusableElements(),r=i.length,n=i.indexOf(e);if(-1===n)return void this.exitInputMode();const s=((n+("commit-and-next"===t?1:-1))%r+r)%r;te(i.at(s))},this._onKeyDown=e=>{switch(e.code){case m.ac.next:return this._onNextKey(e);case m.ac.discard:return e.stopPropagation(),this._onDiscard()}}}get mode(){return this._mode}get _displayUnits(){const{displayUnits:e}=this.info.sketchOptions.values,t=(0,K.c)(this.tooltip.view);return{length:e.length??t,verticalLength:e.verticalLength??t,area:e.area??t}}get _inputUnitInfos(){const e=this._messagesUnits,t=t=>({unit:t,abbreviation:(0,q.Cq)(e,t,"abbr")}),{inputUnits:i}=this.info.sketchOptions.values,r=(0,K.c)(this.tooltip.view),n=i.length??r,s=i.verticalLength??r,o=i.area??r;return{length:t((0,l.wL)(n)),verticalLength:t((0,l.m5)(s)),area:t((0,l.tW)(o)),angle:t("degrees")}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){const{visibleElements:e}=this.info.sketchOptions.tooltips,t=this._renderedContent,i=this._renderedActions,r=this._renderedHelpMessage,n=t.length>0,s=n||!!r,o="input"===this.mode;return(0,D.K)("div",{class:(0,P.Ly)(T,o&&k),onkeydown:this._onKeyDown,tabIndex:-1},o&&s&&e.header?(0,D.K)("div",{class:L,"data-testid":"tooltip-header",key:"header",onpointerdown:this._onHeaderPointerDown},(0,D.K)("calcite-button",{appearance:"transparent","data-testid":"tooltip-back-button",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),i.length>0?(0,D.K)(D.w,null,(0,D.K)("div",{class:A,key:"spacer"}),(0,D.K)("div",{class:C,key:"actions"},i)):null):null,n?(0,D.K)("div",{class:E,key:"content"},...t):null,r)}destroy(){this._focusAbortController.abort(),this._transitionInfo?.transition.skipTransition()}_renderActions(){return null}loadDependencies(){return(0,X.W)({button:()=>i.e(2974).then(i.bind(i,45399)),icon:()=>i.e(2525).then(i.bind(i,50855)),input:()=>i.e(2498).then(i.bind(i,21512))})}async enterInputMode(e,t){try{await this._transitionTo("input",t),await this._focusField(e)}catch(e){(0,B.jH)(e)}}async exitInputMode({focusOnView:e=!0}={}){try{const{container:t,info:i}=this;i.clearInputValues();const r=e?t?.closest(".esri-view")?.querySelector(".esri-view-surface"):null;await this._transitionTo("feedback"),r instanceof HTMLElement&&r.focus()}catch(e){(0,B.jH)(e)}}_onNextKey(e){const t=this._getFocusableElements(),i=t.at(0),r=t.at(-1);i&&r&&(e.shiftKey?document.activeElement===i&&(e.preventDefault(),e.stopPropagation(),te(r)):document.activeElement===r&&(e.preventDefault(),e.stopPropagation(),te(i)))}get _renderedContent(){return ie(this._renderContent())}get _renderedActions(){return ie(this._renderActions())}get _renderedHelpMessage(){const{sketchOptions:e,visibleElements:t}=this.info;if(!t.helpMessage)return null;const i=e.tooltips.helpMessage??this._defaultHelpMessage;if(!i)return null;const r=e.tooltips.helpMessageIcon??"information";return(0,D.K)("div",{class:O,key:"help-message"},r?(0,D.K)("calcite-icon",{class:V,icon:r,scale:"s"}):null,(0,D.K)("div",{class:R},i))}get _defaultHelpMessage(){const{helpMessage:e,viewType:t}=this.info;if(null==e)return null;const i="3d"===t?"helpMessages3d":"helpMessages2d";return this._messagesTooltip?.sketch?.[i]?.[e]}async _focusField(e){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;const{signal:t}=this._focusAbortController;await this._waitForInputs(),(0,B.Te)(t);const i=this._getFocusableInputs(),r=e?i.find((t=>t.getAttribute("data-field-name")===e)):i.at(0);await te(r)}async _transitionTo(e,t){if(this._mode===e&&!this._transitionInfo)return;if(this._transitionInfo?.mode===e)return this._transitionInfo.transition.finished;this._transitionInfo?.transition.skipTransition();const i=async()=>{this.destroyed||(this._mode=e,await(0,W.NO)(),this.destroyed||(this.renderNow(),await(0,W.NO)(),this.destroyed||t?.()))};if(!this.domNode?.firstChild||!document.startViewTransition||(0,H.O)())return void await i();this.autoRenderingEnabled=!1;const r=this._transitionInfo={transition:document.startViewTransition((async()=>{this.destroyed||r!==this._transitionInfo||(this.autoRenderingEnabled=!0,await i())})),mode:e};try{await r.transition.finished}finally{r===this._transitionInfo&&(this._transitionInfo=null)}}async _waitForInputs(){const e=()=>Array.from(this.domNode?.querySelectorAll("calcite-input")??[]);for(;0===e().length;)await(0,B.Pl)(re);await(0,W.$m)()}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])")??[])}_getFocusableElements(){const e=this.domNode?.querySelector(`.${I}`);return[...Array.from(e?.querySelectorAll(`.${C} calcite-button:not([disabled])`)??[]),...this._getFocusableInputs()]}};async function te(e){await(e?.setFocus())}function ie(e){return(Array.isArray(e)?e:[e]).flat(10).filter((e=>!!e))}(0,y._)([(0,J.G)("esri/core/t9n/Units"),(0,w.MZ)()],ee.prototype,"_messagesUnits",void 0),(0,y._)([(0,J.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,w.MZ)()],ee.prototype,"_messagesTooltip",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"info",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"tooltip",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"_mode",void 0),(0,y._)([(0,w.MZ)()],ee.prototype,"mode",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_displayUnits",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_inputUnitInfos",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_formatters",null),(0,y._)([(0,w.MZ)()],ee.prototype,"fieldContext",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_renderedContent",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_renderedActions",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_renderedHelpMessage",null),(0,y._)([(0,w.MZ)()],ee.prototype,"_defaultHelpMessage",null),ee=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContent")],ee);const re=20;let ne=class extends ee{_renderContent(){const{area:e,radius:t,xSize:i,ySize:r,visibleElements:n}=this.info,s=this._messagesTooltip.sketch,o=this._formatters;return(0,D.K)(D.w,null,n.radius&&null!=t?(0,D.K)(U,{title:s.radius,value:o.length(t)}):null,n.size&&null!=i&&null!=r?(0,D.K)(U,{title:s.size,value:(0,D.K)(z,{left:o.length(i),right:o.length(r)})}):null,n.area?(0,D.K)(U,{title:s.area,value:o.area(e)}):null)}};ne=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],ne);const se=`${M}-editable-field`,oe={base:se,inputMode:`${se}--input`,feedbackMode:`${se}--feedback`,readOnly:`${se}--read-only`,locked:`${se}--locked`,title:`${se}__title`,value:`${se}__value`,valueContent:`${se}__value__content`,valueContentReadOnly:`${se}__value__content--read-only`,lockIcon:`${se}__lock-icon`,input:`${se}__input`,inputSuffix:`${se}__input-suffix`,button:`${se}__button`},ae="lock";let le=class extends G.A{constructor(){super(...arguments),this._input=null,this._lock=null,this._onLockClick=()=>{this.field.toggleLock(this.context)},this._onLockAfterCreate=e=>{this._lock=e},this._onLockAfterRemoved=()=>{this._lock=null},this._onKeyDown=e=>{e.key===m.ac.discard&&"input"===this.mode&&this._input&&this.context.onDiscard(this._input)},this._onInputKeyDown=e=>{const t=this._input;if(t)switch(e.key){case m.ac.commit:return this.field.onCommit("commit-and-exit",t,this.context);case m.ac.next:{e.preventDefault(),e.stopPropagation();const i=e.shiftKey?"commit-and-previous":"commit-and-next";return this.field.onCommit(i,t,this.context)}}},this._onInput=e=>{this.field.onInput(e.target.value)},this._onInputBlur=e=>{const t=this._input;t&&e.relatedTarget!==this._lock&&this.field.onCommit("commit-on-blur",t,this.context)},this._selectText=()=>{const e=()=>{this._input===document.activeElement&&this._input?.selectText()};e(),(0,W.$m)().then(e)},this._onAfterCreate=e=>{this._input=e,e.addEventListener("paste",this._onPaste),e.addEventListener("beforeinput",this._onBeforeInput)},this._onAfterRemoved=e=>{e.removeEventListener("paste",this._onPaste),e.removeEventListener("beforeinput",this._onBeforeInput)},this._onPaste=e=>{const t=e.clipboardData?.getData("text");t&&null!=this.field.parse(t,this.context)&&(e.stopPropagation(),this.field.onInput(t))},this._onBeforeInput=e=>{("historyUndo"===e.inputType||"historyRedo"===e.inputType)&&!this.field.dirty&&e.preventDefault()}}initialize(){this.addHandles((0,a.watch)((()=>this._rawDisplayValue),(()=>{const{committed:e,inputValue:t}=this.field;e||t||this._input!==document.activeElement||this._selectText()})))}loadDependencies(){return(0,X.W)({button:()=>i.e(2974).then(i.bind(i,45399)),icon:()=>i.e(2525).then(i.bind(i,50855)),input:()=>i.e(2498).then(i.bind(i,21512))})}render(){const{field:e,mode:t}=this,i="input"===t,{locked:r,readOnly:n}=e;return(0,D.K)("div",{class:this.classes({[oe.base]:!0,[oe.feedbackMode]:"feedback"===t,[oe.inputMode]:"input"===t,[oe.locked]:r,[oe.readOnly]:n})},(0,D.K)("div",{class:oe.title,key:"title"},this._title),(0,D.K)("div",{class:oe.value,key:"value",onkeydown:this._onKeyDown},i?this._renderValueInputMode():this._renderValueFeedbackMode()))}get _formattedValue(){return this.field.getFormattedValue(this.context)||ce}get _rawDisplayValue(){return this.field.getRawDisplayValue(this.context)}get _suffix(){return this.field.getSuffix(this.context)}get _title(){const{title:e}=this.field;return"string"==typeof e?e:e(this.context)}_renderValueFeedbackMode(){return(0,D.K)(D.w,null,(0,D.K)("div",{class:oe.valueContent,key:"value-feedback"},this._formattedValue),this.field.locked&&"input"!==this.mode?(0,D.K)("calcite-icon",{class:oe.lockIcon,icon:ae,key:"icon",scale:"s"}):null)}_renderValueInputMode(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return(0,D.K)("div",{class:this.classes(oe.valueContent,oe.valueContentReadOnly),key:"value-read-only"},this._formattedValue)}_renderValueWritable(){const{field:e}=this,{name:t,invalid:i,locked:r}=e,n=this.context?.messages.sketch??{},s=r?n.unlockConstraint:n.lockConstraint;return(0,D.K)(D.w,null,(0,D.K)("calcite-input",{afterCreate:this._onAfterCreate,afterRemoved:this._onAfterRemoved,class:oe.input,"data-field-name":t,"data-testid":`tooltip-field-${t}`,key:"input",onblur:this._onInputBlur,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",status:i?"invalid":"idle",type:"text",value:this._rawDisplayValue??ce,onCalciteInputInput:this._onInput}),(0,D.K)("div",{class:oe.inputSuffix,key:"suffix"},this._suffix),e.lockable?(0,D.K)("calcite-button",{afterCreate:this._onLockAfterCreate,afterRemoved:this._onLockAfterRemoved,alignment:"center",appearance:"transparent",class:oe.button,"data-testid":`tooltip-field-${t}-lock`,iconStart:r?ae:"unlock",key:"lock",kind:"neutral",label:s,onclick:this._onLockClick,scale:"s",tabIndex:-1,title:s}):(0,D.K)("div",{key:"lock-empty"}))}};(0,y._)([(0,w.MZ)()],le.prototype,"field",void 0),(0,y._)([(0,w.MZ)()],le.prototype,"context",void 0),(0,y._)([(0,w.MZ)()],le.prototype,"mode",void 0),(0,y._)([(0,w.MZ)()],le.prototype,"_input",void 0),(0,y._)([(0,w.MZ)()],le.prototype,"_lock",void 0),(0,y._)([(0,w.MZ)()],le.prototype,"_formattedValue",null),(0,y._)([(0,w.MZ)()],le.prototype,"_rawDisplayValue",null),(0,y._)([(0,w.MZ)()],le.prototype,"_suffix",null),(0,y._)([(0,w.MZ)()],le.prototype,"_title",null),le=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.components.TooltipEditableField")],le);const ce="";function ue(e){const t=e.fields.filter((e=>!0===e?.visible));return 0===t.length?null:(0,D.K)(D.w,null,t.map((t=>(0,D.K)(le,{context:e.context,field:t,key:t.id,mode:e.mode}))))}let de=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,D.K)(ue,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.orientation?t.orientation:void 0,r.scale?t.scale:void 0],mode:i})}};de=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],de);let pe=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{elevation:r,visibleElements:n}=t;return(0,D.K)(ue,{context:e,fields:[n.coordinates?t.effectiveX:void 0,n.coordinates?t.effectiveY:void 0,n.elevation?r:void 0],mode:i})}};pe=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],pe);const he={absolute:"absolute-direction",relative:"relative-direction"};let fe=class extends G.A{constructor(e){super(e),this.visibleElements={}}render(){return(0,D.K)("div",{class:I},this._isElementVisible("direction")?(0,D.K)(ge,{messages:this.messages,sketchOptions:this.sketchOptions}):null)}loadDependencies(){return(0,X.W)({button:()=>i.e(2974).then(i.bind(i,45399)),dropdown:()=>i.e(7209).then(i.bind(i,94794)),"dropdown-item":()=>i.e(2547).then(i.bind(i,79383)),"dropdown-group":()=>i.e(951).then(i.bind(i,96361))})}_isElementVisible(e){return this.visibleElements?.[e]??this.sketchOptions.tooltips.visibleElements[e]}};function ge(e){const{directionMode:t}=e.sketchOptions.values,i=e.messages?.sketch,r=i?.directionModeSelect?.title,n="absolute",s="relative";return(0,D.K)("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:t=>{const i=t.target.selectedItems?.[0]?.getAttribute("data-mode");e.sketchOptions.values.directionMode=i??"absolute"}},(0,D.K)("calcite-button",{alignment:"end",appearance:"transparent",iconStart:he[t],kind:"neutral",label:r,scale:"s",slot:"trigger",title:r}),(0,D.K)("calcite-dropdown-group",{selectionMode:"single"},(0,D.K)("calcite-dropdown-item",{"data-mode":s,"data-testid":"tooltip-direction-mode-relative",iconStart:he.relative,key:"relative",selected:t===s},i?.directionModeSelect?.relative),(0,D.K)("calcite-dropdown-item",{"data-mode":n,"data-testid":"tooltip-direction-mode-absolute",iconStart:he.absolute,key:"absolute",selected:t===n},i?.directionModeSelect?.absolute)))}(0,y._)([(0,J.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,w.MZ)()],fe.prototype,"messages",void 0),(0,y._)([(0,w.MZ)()],fe.prototype,"sketchOptions",void 0),(0,y._)([(0,w.MZ)()],fe.prototype,"visibleElements",void 0),fe=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.components.DrawHeaderActions")],fe);let me=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{xyMode:r,visibleElements:n}=t;return(0,D.K)(ue,{context:e,fields:[..."direction-distance"===r?[n.direction?t.direction:void 0,n.distance?t.distance:void 0]:[n.coordinates?t.effectiveX:void 0,n.coordinates?t.effectiveY:void 0],n.elevation?t.elevation:void 0,n.area?t.area:void 0],mode:i})}_renderActions(){const{xyMode:e,sketchOptions:t}=this.info;return(0,D.K)(fe,{sketchOptions:t,visibleElements:{direction:"direction-distance"===e}})}};me=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],me);let ye=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{xyMode:r,visibleElements:n}=t;return(0,D.K)(ue,{context:e,fields:[..."direction-distance"===r?[n.direction?t.direction:void 0,n.distance?t.distance:void 0]:[n.coordinates?t.effectiveX:void 0,n.coordinates?t.effectiveY:void 0],n.elevation?t.elevation:void 0,n.totalLength?t.totalLength:void 0],mode:i})}_renderActions(){const{xyMode:e,sketchOptions:t}=this.info;return(0,D.K)(fe,{sketchOptions:t,visibleElements:{direction:"direction-distance"===e}})}};ye=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],ye);let ve=class extends ee{_renderContent(){const{area:e,xSize:t,ySize:i,visibleElements:r}=this.info,n=this._messagesTooltip.sketch,s=this._formatters;return(0,D.K)(D.w,null,r.size&&null!=t&&null!=i?(0,D.K)(U,{title:n.size,value:(0,D.K)(z,{left:s.length(t),right:s.length(i)})}):null,r.area?(0,D.K)(U,{title:n.area,value:s.area(e)}):null)}};ve=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],ve);let be=class extends ee{_renderContent(){const{angle:e,visibleElements:t}=this.info,i=this._messagesTooltip.sketch;return(0,D.K)(D.w,null,t.rotation?(0,D.K)(U,{title:i.rotation,value:this._formatters.angleRelative(e)}):null)}};be=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],be);let _e=class extends ee{_renderContent(){const e=this.info,{visibleElements:t}=e,i=this._messagesTooltip.sketch,r=this._formatters;return(0,D.K)(D.w,null,t.size?(0,D.K)(U,{title:i.size,value:(0,D.K)(z,{left:r.length(e.xSize),right:r.length(e.ySize)})}):null,t.scale?(0,D.K)(U,{title:i.scale,value:(0,D.K)(z,{left:r.scale(e.xScale),right:r.scale(e.yScale)})}):null)}};_e=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],_e);let xe=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,D.K)(ue,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0],mode:i})}};xe=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentMovePoint")],xe);let we=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,D.K)(ue,{context:e,fields:[r.distance?t.distance:void 0,r.area?t.area:void 0,r.totalLength?t.totalLength:void 0],mode:i})}};we=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],we);let $e=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,D.K)(ue,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.area&&"polygon"===t.geometryType?t.area:null,r.totalLength&&"polyline"===t.geometryType?t.totalLength:null],mode:i})}};$e=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")],$e);let Se=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,D.K)(ue,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.orientation?t.orientation:void 0,r.scale?t.scale:void 0],mode:i})}};Se=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")],Se);let Me=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,D.K)(ue,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.orientation?t.orientation:void 0,r.size?t.size:void 0],mode:i})}};Me=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")],Me);let Te=class extends ee{_renderContent(){const{info:e}=this,{visibleElements:t}=e,i=this._messagesTooltip.sketch,r=this._formatters;return(0,D.K)(D.w,null,t.distance?(0,D.K)(U,{title:i.distance,value:r.length(e.distance)}):null)}};Te=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentTranslate")],Te);let ke=class extends ee{_renderContent(){const{distance:e,elevation:t,area:i,totalLength:r,visibleElements:n}=this.info,s=this._messagesTooltip.sketch,o=this._formatters;return(0,D.K)(D.w,null,n.distance?(0,D.K)(U,{title:s.distance,value:o.length(e)}):null,n.elevation&&null!=t?.actual?(0,D.K)(U,{title:s.elevation,value:o.verticalLength(t.actual)}):null,n.area&&null!=i?(0,D.K)(U,{title:s.area,value:o.area(i)}):null,n.totalLength&&null!=r?(0,D.K)(U,{title:s.totalLength,value:o.length(r)}):null)}};ke=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],ke);let Le=class extends ee{_renderContent(){const{info:e}=this,{visibleElements:t}=e,i=this._messagesTooltip.sketch,r=this._formatters;return(0,D.K)(D.w,null,t.distance?(0,D.K)(U,{title:i.distance,value:r.length(e.distance)}):null)}};Le=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")],Le);let Ae=class extends ee{_renderContent(){const{info:e}=this,{visibleElements:t}=e,i=this._messagesTooltip.sketch;return(0,D.K)(D.w,null,t.distance?(0,D.K)(U,{title:i.distance,value:this._formatters.verticalLengthRelative(e.distance)}):null)}};Ae=(0,y._)([(0,$.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],Ae);const Ce={base:`${M}`,ltr:`${M}--ltr`,rtl:`${M}--rtl`,debug:`${M}--debug`};let Ie=class extends v.A.EventedAccessor{constructor(e){super(e),this.info=null,this.options=null,this.position=null,this.content=null,this._focused=!1,this.outerContainer=document.createElement("div"),this.debug=!1,this._lastPosition=null,this._rtl=!1,this._prevXY=[0,0]}initialize(){const{outerContainer:e}=this;this.addHandles([(0,a.watch)((()=>this.view.overlay?.surface),(t=>{e.remove(),t?.appendChild(e),this._rtl=(0,P.V8)(t)}),a.pc),(0,a.watch)((()=>this.info),((t,i)=>{if(null!=this.content&&null!=t&&null!=i&&t.type===i.type)this.content.info=t;else{(0,_.pR)(this.content);const i=function(e,t){if(null==t)return null;const i=document.createElement("div");switch(t.type){case"draw-point":return new pe({tooltip:e,info:t,container:i});case"draw-polygon":return new me({tooltip:e,info:t,container:i});case"draw-polyline":return new ye({tooltip:e,info:t,container:i});case"draw-mesh":return new de({tooltip:e,info:t,container:i});case"draw-rectangle":return new ve({tooltip:e,info:t,container:i});case"draw-circle":return new ne({tooltip:e,info:t,container:i});case"extent-rotate":return new be({tooltip:e,info:t,container:i});case"extent-scale":return new _e({tooltip:e,info:t,container:i});case"move-point":return new xe({tooltip:e,info:t,container:i});case"selected-vertex":return new $e({tooltip:e,info:t,container:i});case"transform-point":return new Me({tooltip:e,info:t,container:i});case"transform-mesh":return new Se({tooltip:e,info:t,container:i});case"translate":return new Te({tooltip:e,info:t,container:i});case"translate-vertex":return new ke({tooltip:e,info:t,container:i});case"translate-z":return new Ae({tooltip:e,info:t,container:i});case"translate-xy":return new Le({tooltip:e,info:t,container:i});case"reshape-edge-offset":return new we({tooltip:e,info:t,container:i})}}(this,t);i?(this.content=i,i.container&&e.appendChild(i.container),this.exitInputMode()):this.content=null}}),a.pc),(0,a.watch)((()=>({container:this.outerContainer,style:this._outerContainerStyle})),(({container:e,style:t})=>{Object.assign(e.style,t)}),a.Vh),(0,a.watch)((()=>({outerContainer:this.outerContainer,placement:this.effectivePlacement,effectiveOffset:this._effectiveOffset,rtl:this._rtl,debug:this.debug})),(({outerContainer:e,placement:t,effectiveOffset:i,rtl:r,debug:n})=>{const{classList:s}=e;s.add(Ce.base),s.toggle(Ce.rtl,r),s.toggle(Ce.ltr,!r),s.toggle(Ce.debug,n),this.outerContainer.style.setProperty("--offset",`${i}px`),(0,S.hY)(e),function({classList:e},t){Ee.forEach((t=>e.remove(t))),e.add(Oe(t))}(e,t)}),a.Vh),(0,a.when)((()=>"feedback"===this.mode),(()=>{this.position=null,this._clearOverride("effectivePlacement")}),a.OH),(0,b.on)(this.outerContainer,"paste",(e=>{this.emit("paste",e)})),(0,b.on)(this.outerContainer,["focusin","focusout"],(()=>{setTimeout((()=>{this._focused=this.content?.container?.contains(document.activeElement)??!1}))}))])}destroy(){this.info=null,this.content=(0,_.pR)(this.content),this.outerContainer.remove()}get mode(){return this.content?.mode??"feedback"}get focused(){return this._focused}get visible(){return"none"!==this._outerContainerStyle.display}get contentContainer(){return this.content?.container}get effectivePlacement(){const e=this.options?.placement;return"auto"===e?"bottom-end":e??"bottom-end"}get _screenPoint(){const{inputManager:e}=this.view;return e?.multiTouchActive?null:e?.latestPointerLocation}get _effectiveOffset(){return this.options?.offset??20}get _outerContainerStyle(){const e=this.position??this._screenPoint;return this._lastPosition=(0,x.y8)(e),null!=e&&null!=this.content?{display:"block",transform:`translate(${Math.round(e.x)}px, ${Math.round(e.y)}px)`}:{display:"none",transform:"none"}}clear(){this.info=null}async enterInputMode(e){const t=this.position??this._lastPosition??this._screenPoint,i=this.position=(0,x.y8)(t),{effectivePlacement:r}=this;this._override("effectivePlacement",r),await(this.content?.enterInputMode(e,(()=>{i&&(this.position=function(e,t,i,r){if(!e||!r.container)return t;const n=e.getBoundingClientRect(),{left:s,top:o}=r.container.getBoundingClientRect();let{x:a,y:l}=t;const c=n.left-s-i;c<0&&(a-=c);const u=n.right-s+i-r.width;u>0&&(a-=u);const d=n.top-o-i;d<0&&(l-=d);const p=n.bottom-o+i-r.height;return p>0&&(l-=p),(0,x.tc)(a,l)}(this.contentContainer,i,this._effectiveOffset,this.view),Object.assign(this.outerContainer.style,this._outerContainerStyle))})))}async exitInputMode(e){await(this.content?.exitInputMode(e))}onDragStart(e,t){this._prevXY=[e,t]}onDrag(e,t){const i=e-this._prevXY[0],r=t-this._prevXY[1];this._prevXY=[e,t];const{position:n}=this;if(n){const{view:s}=this,o=e-s.position[0],a=t-s.position[1];if(o<0||o>s.width||a<0||a>s.height-16)return;this.position=(0,x.tc)(n.x+i,n.y+r)}}onDragEnd(){this._prevXY=[0,0]}};(0,y._)([(0,w.MZ)({nonNullable:!0})],Ie.prototype,"view",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"info",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"options",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"position",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"content",void 0),(0,y._)([(0,w.MZ)({readOnly:!0})],Ie.prototype,"mode",null),(0,y._)([(0,w.MZ)()],Ie.prototype,"_focused",void 0),(0,y._)([(0,w.MZ)({readOnly:!0})],Ie.prototype,"focused",null),(0,y._)([(0,w.MZ)({readOnly:!0})],Ie.prototype,"outerContainer",void 0),(0,y._)([(0,w.MZ)({readOnly:!0})],Ie.prototype,"contentContainer",null),(0,y._)([(0,w.MZ)({readOnly:!0})],Ie.prototype,"effectivePlacement",null),(0,y._)([(0,w.MZ)()],Ie.prototype,"debug",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"_lastPosition",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"_screenPoint",null),(0,y._)([(0,w.MZ)()],Ie.prototype,"_rtl",void 0),(0,y._)([(0,w.MZ)()],Ie.prototype,"_effectiveOffset",null),(0,y._)([(0,w.MZ)()],Ie.prototype,"_outerContainerStyle",null),Ie=(0,y._)([(0,$.$)("esri.views.interactive.Tooltip")],Ie);const Ee=["top","bottom","leading","trailing"].flatMap((e=>[Oe(`${e}-start`),Oe(e),Oe(`${e}-end`)]));function Oe(e){return`${Ce.base}--${e}`}const Re=Ie;var Ve=i(99675);function Ge(e){const t=new Re(e());return t.addHandles((0,a.watch)((()=>e()),(({view:e,options:i,info:r})=>{t.view=e,void 0!==i&&(t.options=i),void 0!==r&&(t.info=r)}))),t}function Pe(e,t){const i=(0,h.Hq)(t.vertexSpace),{scale:r,orientation:n}=e,{transform:s}=t,a=function(e){if(!e)return 0;const t=Ue(e.rotationAxis);return null!=t?t*e.rotationAngle:null}(s);i&&null!=a?(n.actual=(0,o.Wq)(a,"degrees","arithmetic"),n.visible=!0):(n.actual=null,n.visible=!1),i?(r.actual=(0,o.LF)(ze(s)),r.visible=!0):(r.actual=null,r.visible=!1)}function De(e,t,i){if(!t||!(0,h.Hq)(t.vertexSpace))return;const r=t.transform??=new p.A;(function(e,t,i){const r=(0,Ve.Ef)(e.orientation.actual),n=Ue(t.rotationAxis);if(null==r||null==n)return;const s=t.rotationAngle,o=r*n,a=(r-s)*n;s!==o&&(i?.onRotateStart(0),t.rotationAngle=o,i?.onRotate(a),i?.onRotateStop(a))})(e,r,i),function(e,t,i){const r=e.scale.actual?.value,n=ze(t);if(null==r||r===n)return;const{scale:s}=t;let o;if(0===n)o=(0,u.o8)(u.Un);else{const e=r/n;o=(0,c.h)((0,u.vt)(),s,e)}i?.onScaleStart(s[0],s[1],s[2]),t.scale=o,i?.onScale(o[0],o[1],o[2]),i?.onScaleStop(o[0],o[1],o[2])}(e,r,i)}function Ne(e,t){const{x:i,y:r,z:n}=t,{x:a,y:c,z:u}=function(e,t){let i,r;e.geographic?(i=(0,Ve.hF)(e.longitude.actual),r=(0,Ve.hF)(e.latitude.actual),(0,f.K8)(t)&&(null!=i&&null!=r?[i,r]=(0,g.je)(i,r,Ze):null!=i?i=(0,g.je)(i,0,Ze)[0]:null!=r&&(r=(0,g.je)(0,r,Ze)[1]))):(i=e.x.actual?.value,r=e.y.actual?.value);const n=e.elevation.actual,s=(0,l.mq)(t);return{x:i,y:r,z:null!=s&&null!=n?(0,o.l3)(n,s):void 0}}(e,t.spatialReference);return{dx:null==a||(0,s.Io)(a,i)?0:a-i,dy:null==c||(0,s.Io)(c,r)?0:c-r,dz:null==u||null==n||(0,s.Io)(u,n)?0:u-n}}const Ze=[0,0];function Ue(e){return(0,c.H)(e,u.Cb)?1:(0,c.H)(e,Fe)?-1:null}const Fe=(0,c.v)((0,u.vt)(),u.Cb);function ze(e){return e?Math.max(...e.scale):1}function He(e,t){return!("key-down"!==e.type||e.key!==m.ac.enterInputMode||!t||!function(e){const t=e?.sketchOptions;if(!t)return!1;const{inputEnabled:i,visibleElements:r}=t.tooltips;return i&&!0===e.editableFields.some((({name:e})=>"x"===e||"y"===e?r.coordinates:r[e]))}(t.info)||(t.enterInputMode(),e.preventDefault(),e.stopPropagation(),0))}function je(e,t){let i=null;return(0,n.vE)([e.on("paste",(async n=>{i?.abort(),i=(0,r.UT)((async()=>{(0,d.s1)()||await(0,d.Hh)(),Be(n,e.info,t)}))})),(0,r.UT)((()=>(0,d.Hh)())),(0,n.hA)((()=>i?.abort()))])}function Be(e,t,i){if(!t||!("geographic"in t))return;const r=e.clipboardData?.getData("text");if(!r)return;const n=t=>{e.stopPropagation(),e.preventDefault(),i?.onBeforePaste(),t(),i?.onAfterPaste()};if(t.geographic){const e=(0,Y.X3)(r);e&&n((()=>{t.longitude.applyValue(e.longitude),t.latitude.applyValue(e.latitude)}))}else{const e=(0,Y.Nr)(r);e&&n((()=>{t.x.applyValue(e.x),t.y.applyValue(e.y)}))}}},70474:function(e,t,i){"use strict";i.d(t,{n:function(){return w}});var r=i(56275),n=i(62938),s=i(59122),o=i(20551),a=i(32501),l=i(68734),c=i(5596),u=i(67496),d=i(19271);function p(e,t,i=e.hasZ){const s=(0,d.l)(e.spatialReference),p=(0,n.B5)(s);if(null==p)return null;const m=(e,t)=>!(t.length<2||((0,o.i)(e,t[0],t[1],i&&t[2]||0),0));let y=0;for(const i of e.rings){const r=i.length;if(r<3)continue;const{positionsWorldCoords:n}=t;for(;n.length<r;)n.push((0,a.vt)());const d=h,p=(0,o.i)(f,0,0,0),v=1/r;for(let t=0;t<r;t++){if(!m(d,i[t]))return null;if(!(0,l.F)(d,e.spatialReference,n[t],s))return null;(0,o.b)(p,p,n[t],v)}const b=(0,c.Cr)(n[0],n[1],p,(0,c.LV)());if(0===(0,o.k)((0,c.Qj)(b)))continue;for(let e=0;e<r;e++)(0,c.Z1)(b,p,n[e],n[e]);const _=g(n);for(let e=0;e<_.length;e+=3)y+=(0,u.Fm)(n[_[e]],n[_[e+1]],n[_[e+2]])}return(0,r.gT)(y,p)}const h=(0,a.vt)(),f=(0,a.vt)();function g(e){return(0,s.e)(function(e){const t=new Float64Array(2*e.length);for(let i=0;i<e.length;++i){const r=e[i],n=2*i;t[n]=r[0],t[n+1]=r[1]}return t}(e),[],2)}var m=i(22162),y=i(57862),v=i(99368);function b(e){const{spatialReference:t}=e;return(0,v.M0)(t,_,x,e)}function _(e){return(0,r.gT)(Math.abs((0,y.qy)([e],"square-meters")[0]),"square-meters")}function x(e){try{return(0,r.gT)(Math.abs((0,m.geodesicArea)(e,"square-meters")),"square-meters")}catch(e){return null}}function w(e,t={positionsWorldCoords:[]}){return function(e,t,i={positionsWorldCoords:[]}){if("on-the-ground"===t){const t=b(e);return null!=t?t:function(e,t={positionsWorldCoords:[]}){return p(e,t,!1)}(e,i)}return function(e,t={positionsWorldCoords:[]}){return p(e,t)}(e,i)}(e,"on-the-ground",t)}},9862:function(e,t,i){"use strict";i.d(t,{Do:function(){return l},Kt:function(){return a},ob:function(){return o}});var r=i(32501),n=i(46517),s=i(1428);function o(e){return(0,s.mh)(e)??(0,n.Xg)(e)}function a(e,t){return(0,s.Og)(e,t)??(0,n.ll)(e,t)}function l(e,t,i){return c[0]=e[0],c[1]=e[1],c[2]=3===e.length?e[2]:0,u[0]=t[0],u[1]=t[1],u[2]=3===t.length?t[2]:0,(0,s.n3)(c,u,i)??(0,n.sT)(c,u,i)}const c=(0,r.vt)(),u=(0,r.vt)()},33383:function(e,t,i){"use strict";i.d(t,{V:function(){return o},t:function(){return a}}),i(50917);var r=i(62938),n=i(82418),s=i(91484);function o(e,t,i,n=new s.default){let o=0;if("2d"===i.type)o=t*(i.resolution??0);else if("3d"===i.type){const n=i.overlayPixelSizeInMapUnits(e),s=i.basemapSpatialReference;o=null==s||s.equals(i.spatialReference)?t*n:(0,r.GA)(s)/(0,r.GA)(i.spatialReference)}const a=e.x-o,l=e.y-o,c=e.x+o,u=e.y+o,{spatialReference:d}=i;return n.xmin=Math.min(a,c),n.ymin=Math.min(l,u),n.xmax=Math.max(a,c),n.ymax=Math.max(l,u),n.spatialReference=d,n}function a(e,t,i){const r=i.toMap(e);return null!=r&&o(r,(0,n.o)(),i,l).intersects(t)}const l=new s.default},46517:function(e,t,i){"use strict";i.d(t,{Of:function(){return g},Qc:function(){return m},Xg:function(){return p},cL:function(){return b},e5:function(){return f},ll:function(){return h},sT:function(){return v}});var r,n,s=i(56275),o=i(62938),a=i(20551),l=i(32501),c=i(68734),u=i(57652),d=i(19271);function p(e){return function(e,t){const{hasZ:i,spatialReference:n}=e,a=(0,d.l)(n);let l=0;const c=(0,o._H)(a);if(null==c)return null;const u=t===r.Direct?y:v;for(const t of e.paths){if(t.length<2)continue;const e=t.length-1;for(let r=0;r<e;++r){const e=t[r];x[0]=e[0],x[1]=e[1],x[2]=i?e[2]:0;const s=t[r+1];w[0]=s[0],w[1]=s[1],w[2]=i?s[2]:0;const o=u(x,w,n);if(null==o)return null;l+=o.value}}return(0,s.d_)(l,c)}(e,r.Horizontal)}function h(e,t){const{spatialReference:i}=e;return(0,u.aI)(i,t.spatialReference)?(x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,w[0]=t.x,w[1]=t.y,w[2]=t.hasZ?t.z:0,v(x,w,i)):null}function f(e,t){const{spatialReference:i}=e;return(0,u.aI)(i,t.spatialReference)?(x[0]=e.x,x[1]=e.y,x[2]=e.hasZ?e.z:0,w[0]=t.x,w[1]=t.y,w[2]=t.hasZ?t.z:0,b(x,w,i)):null}function g(e){return null!=e?m(e.hasZ?e.z:0,e.spatialReference):null}function m(e,t){const i=(0,o.mq)(t);return null!=i?(0,s.d_)(e??0,i):null}function y(e,t,i){const n=_(e,t,i,r.Direct);return null!=n?(0,s.d_)(n.direct,n.unit):null}function v(e,t,i){const n=_(e,t,i,r.Horizontal);return null!=n?(0,s.d_)(n.horizontal,n.unit):null}function b(e,t,i){const n=_(e,t,i,r.Vertical);return null!=n?(0,s.d_)(n.verticalSigned,n.unit):null}function _(e,t,i,n){const s=(0,d.l)(i),l=(0,o._H)(s);if(null==l)return null;const u=t[2]-e[2];if(n===r.Vertical)return{verticalSigned:u,unit:l};if(!(0,c.F)(e,i,$,s)||!(0,c.F)(t,i,S,s))return null;if(n===r.Direct)return{direct:(0,a.j)(S,$),unit:l};if((0,a.i)(M,e[0],e[1],t[2]),!(0,c.F)(M,i,M,s))return null;const p=(0,a.j)(M,S);return n===r.Horizontal?{horizontal:p,unit:l}:{direct:(0,a.j)(S,$),horizontal:p,vertical:Math.abs(u),unit:l}}(n=r||(r={}))[n.Direct=0]="Direct",n[n.Horizontal=1]="Horizontal",n[n.Vertical=2]="Vertical";const x=(0,l.vt)(),w=(0,l.vt)(),$=(0,l.vt)(),S=(0,l.vt)(),M=(0,l.vt)()},1428:function(e,t,i){"use strict";i.d(t,{Og:function(){return u},mh:function(){return c},n3:function(){return d}});var r=i(56275),n=i(32501),s=i(22162),o=i(57862),a=i(57652),l=i(99368);function c(e){const{spatialReference:t}=e;return(0,l.M0)(t,f,g,e)}function u(e,t){if(!(0,a.aI)(e.spatialReference,t.spatialReference))return null;const{spatialReference:i}=e;return y[0]=e.x,y[1]=e.y,y[2]=e.hasZ?e.z:0,v[0]=t.x,v[1]=t.y,v[2]=t.hasZ?t.z:0,d(y,v,i)}function d(e,t,i){return(0,l.M0)(i,p,h,e,t,i)}function p(e,t,i){return(0,r.d_)((0,o._3)(m,e,t,i).distance,"meters")}function h(e,t,i){return(0,r.d_)((0,s.geodesicLength)(function(e,t,i){return{type:"polyline",spatialReference:i,paths:[[[...e],[...t]]]}}(e,t,i),"meters"),"meters")}function f(e){return(0,r.d_)((0,o.l1)([e],"meters")[0],"meters")}function g(e){return(0,r.d_)((0,s.geodesicLength)(e,"meters"),"meters")}const m=new o.Zj,y=(0,n.vt)(),v=(0,n.vt)()},99368:function(e,t,i){"use strict";i.d(t,{M0:function(){return o},yF:function(){return s}});var r=i(57862),n=i(57652);function s(e){return(0,r.TT)(e)||(0,n.K8)(e)}function o(e,t,i,...s){return(0,r.TT)(e)?t.apply(void 0,s):(0,n.K8)(e)?i.apply(void 0,s):null}},39715:function(e,t,i){"use strict";function r(e){return e&&"function"==typeof e.highlight}function n(e,t,i){return null==e||e>=i&&(0===t||e<=t)}function s(e,t){if(t&&e){const{minScale:i,maxScale:r}=e;if(function(e,t){return null!=e&&e>0||null!=t&&t>0}(i,r))return n(t,i,r)}return!0}function o(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}i.d(t,{E5:function(){return s},JU:function(){return n},Of:function(){return r},g7:function(){return o}}),i(39819)},19271:function(e,t,i){"use strict";i.d(t,{l:function(){return o}});var r=i(61714),n=i(96611),s=i(57652);function o(e){return(0,s.B3)(e)?(0,s.oT)(e)||(0,s.K8)(e)||(0,s.x1)(e)||(0,r.jA)(e)?n.Y0:e:(0,n.lO)(e)}},84624:function(e,t,i){"use strict";i.d(t,{CJ:function(){return p}});var r=i(39819),n=i(21609),s=i(34194),o=i(47527),a=i(11432);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function u(e,t){if(t.restrictedWebMapWriting){const i=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return null==i||i.has(e.type)&&!(0,a.Ov)(e)}return!0}function d(e,t){"maxScale"in e&&(t.maxScale=(0,o.B)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,o.B)(e.minScale)??void 0)}function p(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i?.messages&&i.messages.push(new r.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,a.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(u(e,i)){const t={};return e.write(t,i)?t:null}return null!=t&&function(e,t){if(function(e,t){if(t)if((0,a.Ov)(e)){const i=(0,s.wc)("featureCollection.layers",t),r=i?.[0]?.layerDefinition;r&&d(e,r)}else"group"!==e.type&&d(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,o.B)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,a.Ov)(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,n.o8)(t)),t}},25867:function(e,t,i){"use strict";i.d(t,{A4:function(){return A},AB:function(){return M},Ao:function(){return te},CS:function(){return N},DU:function(){return K},Fr:function(){return ae},JF:function(){return S},MK:function(){return V},Tt:function(){return k},Uu:function(){return B},a$:function(){return F},bG:function(){return j},bV:function(){return L},c3:function(){return Y},cS:function(){return re},gd:function(){return R},kX:function(){return T},ld:function(){return H},lm:function(){return U},n_:function(){return z},q6:function(){return ie},s$:function(){return X},sS:function(){return D},u2:function(){return O},x1:function(){return q},xL:function(){return C},yY:function(){return ne}});var r=i(58941),n=i(40633),s=i(50944),o=i(8289),a=i(2900),l=i(53743),c=i(11432),u=i(33118),d=i(54547),p=i(21168);const h=()=>n.A.getLogger("esri.widgets.Feature.support.featureUtils"),f=/href=(""|'')/gi,g=/(\{([^{\r\n]+)\})/g,m=/'/g,y=/^\s*expression\//i,v=/(\n)/gi,b=/[\u00A0-\u9999<>&]/gim,_=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,x=/^(?:mailto:|tel:)/,w="relationships/",$=(0,o.J2)("short-date-short-time");function S(e){if(null!=e)return(e.sourceLayer||e.layer)??void 0}async function M({type:e,value:t,event:i}){try{return"function"==typeof t?t(i):await t}catch(r){return void h().error("error",`An error occurred when calling the "${e}" function`,{error:r,graphic:i.graphic,value:t})}}function T(e=""){if(e)return!x.test(e.trim().toLowerCase())}function k(e){return!!e&&y.test(e)}function L(e,t){const i=function(e,t){if(!t||!k(t)||!e)return;const i=t.replace(y,"").toLowerCase();return e.find((({name:e})=>e.toLowerCase()===i))}(t,e?.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function A(e,t){const i=I(t,e);return i?i.name:e}function C(e,t){return e&&e.map((e=>A(e,t)))}function I(e,t){return e&&"function"==typeof e.getField&&t?e.getField(t)??null:null}function E(e){return`${e}`.trim()}function O({attributes:e,globalAttributes:t,layer:i,text:r,expressionAttributes:n,fieldInfoMap:s}){return r?R({formattedAttributes:t,template:G(r,{...t,...n,...e},i),fieldInfoMap:s}):""}function R({formattedAttributes:e,template:t,fieldInfoMap:i}){return E(function(e){return e.replaceAll(f,"")}((0,s.HC)((0,s.HC)(t,(e=>function(e,t){const i=t.get(e.toLowerCase());return`{${i?.fieldName||e}}`}(e,i))),e)))}function V(e,t){return e.replaceAll(g,((e,i,r)=>{const n=I(t,r);return n?`{${n.name}}`:i}))}function G(e,t,i){const r=V(e,i);return r?r.replaceAll(_,((e,i,r)=>function(e,t,i){const r=(t=E(t))&&"{"!==t[0];return(0,s.HC)(e,function(e,t=!1){const i={...e};return Object.keys(i).forEach((e=>function(e,t,i=!1){const r=t[e];if("string"==typeof r){const n="%27",s=(i?encodeURIComponent(r):r).replaceAll(m,n);t[e]=s}}(e,i,t))),i}(i,r||!1))}(e,i||r,t))):r}function P(e){return null!=e&&"object"==typeof e&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&("feature"===e.type||"scene"===e.type||"subtype-sublayer"===e.type||"sublayer"===e.type)&&"when"in e}function D(e){return P(e)&&function(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}(e)}function N(e){return P(e)&&function(e){return!!(e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"type"in e)&&("subtype-sublayer"===e.type&&"parent"in e&&e.parent&&"object"==typeof e.parent?"globalIdField"in e.parent:"globalIdField"in e)}(e)}function Z(e,t,i,r){return e.trim().split(t).map((e=>(0,a.ZV)(Number(e),(0,a.yx)(r)))).join(i)}function U(e,t){if(e?.length&&t)return e.find((e=>e.fieldName?.toLowerCase()===t.toLowerCase()))}function F(e,t,i,r){const{creatorField:n,creationDateField:s,editorField:a,editDateField:l}=e;if(!t)return;const c=(0,p.hv)(r&&"preferredTimeZone"in r?r.preferredTimeZone:null,!(!r||!("datesInUnknownTimezone"in r)||!r.datesInUnknownTimezone),i,$,"date"),u={...$,...c},d=t[l];if("number"==typeof d){const e=t[a];return{type:"edit",date:(0,o.Yq)(d,u),user:e}}const h=t[s];if("number"==typeof h){const e=t[n];return{type:"create",date:(0,o.Yq)(h,u),user:e}}return null}function z(e,t){const i=new Map;if(!e)return i;for(const r of e){if(!r.fieldName)continue;const e=A(r.fieldName,t);r.fieldName=e,i.set(e.toLowerCase(),r)}return i}function H(e){const t=[];if(!e)return t;const{fieldInfos:i,content:r}=e;return i&&t.push(...i),r&&Array.isArray(r)?(r.forEach((e=>{if("fields"===e.type){const i=e?.fieldInfos;i&&t.push(...i)}})),t):t}function j(e){return e.replaceAll(b,(e=>`&#${e.charCodeAt(0)};`))}function B(e){return"string"==typeof e?e.replaceAll(v,'<br class="esri-text-new-line" />'):e}function W(e){const{value:t,fieldName:i,fieldInfos:n,fieldInfoMap:s,layer:o,graphic:c,timeZone:d}=e;if(null==t)return"";const p=function({fieldName:e,value:t,graphic:i,layer:n}){if(X(e))return null;if(!n||"function"!=typeof n.getFieldDomain)return null;const s=i&&n.getFieldDomain(e,{feature:i,excludeImpliedDomains:(0,r.A)("esri-widget-legacy-field-domain-calculation")});return s&&"coded-value"===s.type?s.getName(t):null}({fieldName:i,value:t,graphic:c,layer:o});if(p)return p;const h=function({fieldName:e,graphic:t,layer:i}){if(X(e))return null;if(!i||"function"!=typeof i.getFeatureType)return null;const{typeIdField:r}=i;if(!r||e!==r)return null;const n=i.getFeatureType(t);return n?n.name:null}({fieldName:i,graphic:c,layer:o});if(h)return h;if(s.get(i.toLowerCase()))return function(e,t){const{fieldInfos:i,fieldName:r,preventPlacesFormatting:n,layer:s,timeZone:o}=t,c=U(i,r),d=I(s,r);if(c&&!(0,l.JL)(r)){const t=d?.type,i=c.format?.dateFormat;if("date"===t||"date-only"===t||"time-only"===t||"timestamp-offset"===t||i)return(0,u.i0)(e,{format:i,fieldType:t,timeZoneOptions:{layerTimeZone:s&&"preferredTimeZone"in s?s.preferredTimeZone:null,viewTimeZone:o,datesInUnknownTimezone:!(!s||!("datesInUnknownTimezone"in s)||!s.datesInUnknownTimezone)}})}const p=c?.format;return"string"==typeof e&&(0,l.JL)(r)&&p?function(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?Z(e,",",", ",t):e.includes(";")?Z(e,";","; ",t):e.includes(" ")?Z(e," "," ",t):(0,a.ZV)(Number(e),(0,a.yx)(t))}(e,p):"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e);if(!isNaN(t))return t}return e}(e,p))||null==e||null==p?B(e):(0,a.ZV)(e,n?{...(0,a.yx)(p),minimumFractionDigits:0,maximumFractionDigits:20}:(0,a.yx)(p))}(t,{fieldInfos:n||Array.from(s.values()),fieldName:i,layer:o,timeZone:d});const f=o?.fieldsIndex?.get(i);return f&&((0,u.fs)(f)||(0,l.OH)(f))?(0,u.i0)(t,{fieldType:f.type,timeZoneOptions:{layerTimeZone:o&&"preferredTimeZone"in o?o.preferredTimeZone:null,viewTimeZone:d,datesInUnknownTimezone:!(!o||!("datesInUnknownTimezone"in o)||!o.datesInUnknownTimezone)}}):B(t)}function q({fieldInfos:e,attributes:t,layer:i,graphic:r,fieldInfoMap:n,relatedInfos:s,timeZone:o}){const a={};return s?.forEach((t=>function({attributes:e,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:n,timeZone:s}){e&&t&&(t.relatedFeatures?.forEach((o=>J({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:n,timeZone:s}))),t.relatedStatsFeatures?.forEach((o=>J({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:n,timeZone:s}))))}({attributes:a,relatedInfo:t,fieldInfoMap:n,fieldInfos:e,layer:i,timeZone:o}))),t&&Object.keys(t).forEach((s=>{const l=t[s];a[s]=W({fieldName:s,fieldInfos:e,fieldInfoMap:n,layer:i,value:l,graphic:r,timeZone:o})})),a}async function K(e,t){const{layer:i,graphic:r,outFields:n,objectIds:s,returnGeometry:o,spatialReference:a}=e,l=s[0];if("number"!=typeof l&&"string"!=typeof l){const e="Could not query required fields for the specified feature. The feature's ID is invalid.",t={layer:i,graphic:r,objectId:l,requiredFields:n};return h().warn(e,t),null}if(!(0,c.BR)(i)?.operations?.supportsQuery){const e="The specified layer cannot be queried. The following fields will not be available.",t={layer:i,graphic:r,requiredFields:n,returnGeometry:o};return h().warn(e,t),null}const u=i.createQuery();return u.objectIds=s,u.outFields=n?.length?n:[i.objectIdField],u.returnGeometry=!!o,u.returnZ=!!o,u.returnM=!!o,u.outSpatialReference=a,(await i.queryFeatures(u,t)).features[0]}async function Y({graphic:e,popupTemplate:t,layer:i,spatialReference:r},n){if(!i||!t)return;if("function"==typeof i.load&&await i.load(n),!e.attributes)return;const s=i.objectIdField,o=e.attributes[s];if(null==o)return;const a=[o],c=await t.getRequiredFields(i.fieldsIndex),u=(0,l.Kl)(c,e),p=u?[]:c.includes(s)?c:[...c,s],h=t.returnGeometry||await async function(e){if(!e.expressionInfos?.length)return!1;const t=await(0,d.lw)(),{arcadeUtils:{hasGeometryFunctions:i}}=t;return i(e)}(t);if(u&&!h)return;const f=await K({layer:i,graphic:e,outFields:p,objectIds:a,returnGeometry:h,spatialReference:r},n);f&&(f.geometry&&(e.geometry=f.geometry),f.attributes&&(e.attributes={...e.attributes,...f.attributes}))}function X(e=""){return!!e&&e.includes(w)}function J({attributes:e,graphic:t,relatedInfo:i,fieldInfos:r,fieldInfoMap:n,layer:s,timeZone:o}){e&&t&&i&&Object.keys(t.attributes).forEach((a=>{const l=function(e){return e?`${w}${e.layerId}/${e.fieldName}`:""}({layerId:i.relation.id.toString(),fieldName:a}),c=t.attributes[a];e[l]=W({fieldName:l,fieldInfos:r,fieldInfoMap:n,layer:s,value:c,graphic:t,timeZone:o})}))}const Q=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},ee=({layer:e,method:t,query:i,definitionExpression:r})=>{if(!e.capabilities?.query?.supportsCacheHint||"attachments"===t)return;const n=null!=i.where?i.where:null,s=null!=i.geometry?i.geometry:null;Q(r)||Q(n)||"extent"===s?.type||"tile"===i.resultType||(i.cacheHint=!0)},te=({query:e,layer:t,method:i})=>{ee({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})},ie=({queryPayload:e,layer:t,method:i})=>{ee({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})};function re(e,t,i){return e&&t&&i?"sublayer"===t.type?oe({layers:t.layer?.sublayers,map:e,relatedLayer:t,relationship:i})||oe({layers:t.layer?.subtables,map:e,relatedLayer:t,relationship:i}):oe({layers:e.allLayers,map:e,relatedLayer:t,relationship:i})||oe({layers:e.allTables,map:e,relatedLayer:t,relationship:i}):null}function ne(e,t){return e&&"utilityNetworks"in e&&t?e.utilityNetworks?.find((e=>e.isUtilityLayer(t))):null}function se(e,t){return e?.allTables.find((e=>"feature"===e.type&&e.layerId===t.id&&e.url===t.layer?.url))}function oe({map:e,relationship:t,relationship:{relatedTableId:i},relatedLayer:r,layers:n}){if(!n)return null;for(const s of n){if("map-image"===s.type){const i=oe({layers:s.sublayers,map:e,relatedLayer:r,relationship:t})||oe({layers:s.subtables,map:e,relatedLayer:r,relationship:t});if(i)return i;continue}if(!D(s))continue;if("sublayer"===r.type){if(s!==r&&s.id===i)return s.isTable?se(e,s):s;continue}const n="scene"===r.type&&r.associatedLayer?r.associatedLayer.url:r.url;if(!n)return null;if("sublayer"!==s.type){if(s!==r&&s.url===n&&s.layerId===i)return s}else if(s!==r&&s.layer?.url===n&&s.id===i)return s.isTable?se(e,s):s}return null}function ae(e){const t=e.getObjectId();return null!=t?`oid:${t}`:`uid:${e.uid}`}},31267:function(e,t,i){"use strict";i.d(t,{A:function(){return D}});var r=i(53804),n=(i(64122),i(88022)),s=i(88264),o=i(48996),a=i(40212),l=(i(58941),i(21609)),c=i(40633),u=i(95929),d=i(62560),p=i(60539),h=i(28181),f=i(66110),g=i(23502),m=i(77560),y=i(65953),v=i(44567),b=i(6792),_=i(92781);i(81401);const x={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},w={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}},$=(e,t,i=!1)=>{let r=e;return t.forEach(((e,n)=>{const s=r?.children?((e,t)=>e.find(t))(r.children,(t=>t.domNode===e)):void 0;i&&!s&&n!==t.length-1||(r=s)})),r};var S=i(28754),M=i(69987),T=i(50074);const k=new Set;var L,A=i(15351),C=i(10362),I=i(22739),E=i(38225);let O=0;function R(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(null!=e[r]&&null!=t[r]&&"object"==typeof e[r]&&"object"==typeof t[r]?R(e[r],t[r]):e[r]=t[r]);return e}const V=(e=>{let t;const i={...x,...e},r=(s=i,{...w,...s}),n=r.performanceLogger;var s;let o,a=!0,l=!1;const c=[],u=[],d=(e,s,o)=>{let a;r.eventHandlerInterceptor=(e,r,s,o)=>function(e){let r;n("domEvent",e);const s=((e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(e.currentTarget,a.domNode),o=s.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase!==Event.CAPTURING_PHASE&&o){const t=e.composedPath(),i=t.slice(t.indexOf(e.currentTarget),t.indexOf(a.domNode)).reverse();r=$(a.getLastRender(),i,!0)}else s.reverse(),r=$(a.getLastRender(),s);let l;return r&&(l=i.handleInterceptedEvent(t,r,this,e)),n("domEventProcessed",e),l},i.postProcessProjectionOptions?.(r);const l=o();a=e(s,l,r),r.eventHandlerInterceptor=void 0,c.push(a),u.push(o),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(a,l)};let p=()=>{if(o=void 0,a){a=!1,n("renderStart",void 0);for(let e=0;e<c.length;e++){const t=u[e]();n("rendered",void 0);try{c[e].update(t)}catch(e){console.error(e)}n("patched",void 0)}n("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(p=i.modifyDoRenderImplementation(p,c,u)),t={renderNow:p,scheduleRender:()=>{o||l||(o=requestAnimationFrame(p))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{d(_.t.append,e,t)},insertBefore:(e,t)=>{d(_.t.insertBefore,e,t)},merge:(e,t)=>{d(_.t.merge,e,t)},replace:(e,t)=>{d(_.t.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t})({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(e,r,n,s)=>{const o=t?.(e,r,n,s),a=i.test(e);if(!((e=e.replace(i,"")).toLowerCase()in n)||a){const t=e[2].toLowerCase()+e.slice(3),i=e=>o?.call(n,e);n.addEventListener(t,i,a);const r=()=>n.removeEventListener(t,i,a),l=s.afterRemoved;s.afterRemoved=e=>{l?.(e),r()}}return o}},handleInterceptedEvent(e,t,i,r){const{eventPhase:n,type:s}=r,o=n===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&((0,A.Sh)(),e.scheduleRender(),l[a].call(l.bind||i,r))}});let G=!1,P=class extends((0,d.g)(o.A.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._projector=V,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,p.sg)((async()=>{if(this._messageBundleProps?.length){const e=await Promise.allSettled(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let i=await(0,E.ud)(e);this.uiStrings&&Object.keys(this.uiStrings)&&(i=R((0,l.o8)(i),this.uiStrings)),this[t]=i})));if(this.destroyed)return;for(const t of e)"rejected"===t.status&&c.A.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.reason)}await this.loadLocale()})),(0,S.V)();const i="esri-widget-uid-"+(0,f.lk)(),r=this.render.bind(this);this._trackingTarget=new b.r((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const n=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),s=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const e=r()??n(),t=e.properties??={};if(t.key??=i,(0,M.b)(e.vnodeSelector)){if(!this.visible)return n()}else this.visible?t.styles||(t.styles={}):(t.class="",t.styles={display:"none"}),t.styles.display??="";let s=0;return e.children?.forEach((e=>{(0,M.b)(e.vnodeSelector)||(e.properties??={},e.properties.key??=`${this.id}--${s++}`)})),(0,M.d)(this,e)};this.render=()=>{if(G)return s();let e=(0,A.rE)(this)??null;if(e)return e;this._trackingTarget.clear(),G=!0;try{e=(0,v.a)(this._trackingTarget,s)}catch(e){throw c.A.getLogger(this).error(e),e}finally{G=!1}return e&&(0,A.$U)(this,e),e};const o=this.beforeFirstRender();var a;o?this._resourcesFetch=o.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),a=this._resourcesFetch,k.add(a),a.finally((()=>k.delete(a)))}normalizeCtorArgs(e,t){const i={...e};return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then((()=>{})).catch(p.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,u.pR)(this._trackingTarget),(0,u.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,A.Qw)(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return(0,s.$)(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+O++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(L=T.x,T.D)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,A.Qw)(this),this._projector.scheduleRender())}own(e){(0,n.eO)(c.A.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return C.Ly.apply(this,e)}renderNow(){(0,A.Qw)(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,h.watch)((()=>this.viewModel),((e,t)=>{t&&this.removeHandles("delegated-events"),e&&(0,a.wb)(e)&&this.addHandles(this._delegatedEventNames.map((t=>(0,a.on)(e,t,(e=>{this.emit(t,e)})))),"delegated-events")}),h.pc)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(p.jH),this.scheduleRender()};this.addHandles([(0,I.oQ)(e),(0,h.watch)((()=>this.uiStrings),e),(0,h.when)((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}};P[L]=!0,P.vnodeSelector="div",(0,r._)([(0,g.MZ)()],P.prototype,"_readyForTrueRender",void 0),(0,r._)([(0,g.MZ)({value:null})],P.prototype,"container",null),(0,r._)([(0,m.w)("container")],P.prototype,"castContainer",null),(0,r._)([(0,g.MZ)()],P.prototype,"icon",null),(0,r._)([(0,g.MZ)()],P.prototype,"id",null),(0,r._)([(0,g.MZ)()],P.prototype,"label",null),(0,r._)([(0,g.MZ)()],P.prototype,"renderable",null),(0,r._)([(0,g.MZ)()],P.prototype,"uiStrings",void 0),(0,r._)([(0,g.MZ)()],P.prototype,"viewModel",void 0),(0,r._)([(0,g.MZ)({value:!0})],P.prototype,"visible",null),(0,r._)([(0,g.MZ)()],P.prototype,"key",void 0),(0,r._)([(0,g.MZ)()],P.prototype,"children",void 0),(0,r._)([(0,g.MZ)()],P.prototype,"afterCreate",void 0),(0,r._)([(0,g.MZ)()],P.prototype,"afterUpdate",void 0),(0,r._)([(0,g.MZ)()],P.prototype,"afterRemoved",void 0),P=(0,r._)([(0,y.$)("esri.widgets.Widget")],P);const D=P},28754:function(e,t,i){"use strict";i.d(t,{V:function(){return d},W:function(){return p}});var r=i(96367),n=i(67646),s=i(54038),o=i(3102);function a(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(r.d)||e.contains(r.a)&&t?"dark":"light",n=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),s=e=>{o!==e&&n(e),o=e};let o=i();n(o),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>s(e.matches?"dark":"light"))),new MutationObserver((()=>s(i()))).observe(document.body,{attributes:!0,attributeFilter:["class"]})}(0,s.i)()&&("interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",(()=>a()),{once:!0})),(0,n.s)();var l=i(53216),c=(i(58941),i(90683));let u;function d(){try{(0,o.OX)(".")}catch{(0,o.Qu)((0,c.s2)((0,l.s)(u)))}}function p(e){const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push(e[i]?.());return t.length>0?Promise.all(t):null}u="components/assets"},90357:function(e,t,i){"use strict";function r(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}i.d(t,{G:function(){return r}})},49146:function(e,t,i){"use strict";i.d(t,{K:function(){return a},w:function(){return l}});var r=i(69987),n=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},s=function(e,t){for(var i=0,r=e.length;i<r;i++){var o=e[i];Array.isArray(o)?s(o,t):null!=o&&!1!==o&&(o.hasOwnProperty("vnodeSelector")||(o=n(o)),t.push(o))}},o=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(1===i.length&&"string"==typeof i[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var n=[];return s(i,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function a(e,t,...i){return"function"!=typeof e||(0,r.b)(e)?o(e,t,...i):e(t,...i)}function l(...e){return e}},69987:function(e,t,i){"use strict";i.d(t,{b:function(){return p},d:function(){return l}});var r=i(61226),n=i(50074);const s=[],o={},a=new WeakMap;function l(e,t){let i=t.children;if(i?.length)for(let t=0;t<i.length;++t)i[t]=l(e,i[t]);else i=s;const r=t.vnodeSelector;if(p(r)){const n=t.properties||o,s=n.key||r,a={key:s,afterCreate:c,afterUpdate:u,afterRemoved:d,parentWidget:e,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function c(e,t,i,{parentWidget:s,widgetConstructor:o,widgetProperties:l}){const c=new o(l);c.container=e,a.set(e,c),c.afterCreate?.(c,e),s.addHandles((0,r.hA)((()=>d(e)))),queueMicrotask((()=>{c[n.D].projector.renderNow()}))}function u(e,t,i,{widgetProperties:r}){const n=a.get(e);n&&(n.set(r),n.afterUpdate?.(n,e))}function d(e){const t=a.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),a.delete(e))}function p(e){return"function"==typeof e&&e[n.x]}},50074:function(e,t,i){"use strict";i.d(t,{D:function(){return n},x:function(){return r}});const r=Symbol("widget"),n=Symbol("widget-test-data")},15351:function(e,t,i){"use strict";i.d(t,{$U:function(){return o},Qw:function(){return a},Sh:function(){return n},rE:function(){return s}});const r=new Map;function n(){r.clear()}function s(e){return r.get(e)}function o(e,t){r.set(e,t)}function a(e){r.delete(e)}},10362:function(e,t,i){"use strict";i.d(t,{Ly:function(){return de},N_:function(){return he},OU:function(){return ve},V8:function(){return pe},W5:function(){return ye},Z6:function(){return be},cA:function(){return fe}});var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n={exports:{}},s={},o={exports:{}},a={};function l(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var c=/javascript\s*\:/gim;a.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},a.getDefaultWhiteList=l,a.onAttr=function(e,t,i){},a.onIgnoreAttr=function(e,t,i){},a.safeAttrValue=function(e,t){return c.test(t)?"":t};var u=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},d=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")},p=a,h=function(e,t){";"!==(e=d(e))[e.length-1]&&(e+=";");var i=e.length,r=!1,n=0,s=0,o="";function a(){if(!r){var i=u(e.slice(n,s)),a=i.indexOf(":");if(-1!==a){var l=u(i.slice(0,a)),c=u(i.slice(a+1));if(l){var d=t(n,o.length,l,c,i);d&&(o+=d+"; ")}}}n=s+1}for(;s<i;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var c=e.indexOf("*/",s+2);if(-1===c)break;n=(s=c+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||a():"\n"===l&&a()}return u(o)};function f(e){return null==e}function g(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).whiteList=e.whiteList||p.whiteList,e.onAttr=e.onAttr||p.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||p.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||p.safeAttrValue,this.options=e}g.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onAttr,n=t.onIgnoreAttr,s=t.safeAttrValue;return h(e,(function(e,t,o,a,l){var c=i[o],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=s(o,a)){var d,p={position:t,sourcePosition:e,source:l,isWhite:u};return u?f(d=r(o,a,p))?o+":"+a:d:f(d=n(o,a,p))?void 0:d}}))};var m=g;!function(e,t){var i=a,r=m;for(var n in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,i)t[n]=i[n]}(o,o.exports);var y=o.exports,v={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},b=y.FilterCSS,_=y.getDefaultWhiteList,x=v;var w=new b;function $(e){return e.replace(S,"&lt;").replace(M,"&gt;")}var S=/</g,M=/>/g,T=/"/g,k=/&quot;/g,L=/&#([a-zA-Z0-9]*);?/gim,A=/&colon;?/gim,C=/&newline;?/gim,I=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,E=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,O=/u\s*r\s*l\s*\(.*/gi;function R(e){return e.replace(T,"&quot;")}function V(e){return e.replace(k,'"')}function G(e){return e.replace(L,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function P(e){return e.replace(A,":").replace(C," ")}function D(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return x.trim(t)}function N(e){return D(e=P(e=G(e=V(e))))}function Z(e){return $(e=R(e))}s.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},s.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},s.onTag=function(e,t,i){},s.onIgnoreTag=function(e,t,i){},s.onTagAttr=function(e,t,i){},s.onIgnoreTagAttr=function(e,t,i){},s.safeAttrValue=function(e,t,i,r){if(i=N(i),"href"===t||"src"===t){if("#"===(i=x.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===t){if(I.lastIndex=0,I.test(i))return""}else if("style"===t){if(E.lastIndex=0,E.test(i))return"";if(O.lastIndex=0,O.test(i)&&(I.lastIndex=0,I.test(i)))return"";!1!==r&&(i=(r=r||w).process(i))}return Z(i)},s.escapeHtml=$,s.escapeQuote=R,s.unescapeQuote=V,s.escapeHtmlEntities=G,s.escapeDangerHtml5Entities=P,s.clearNonPrintableCharacter=D,s.friendlyAttrValue=N,s.escapeAttrValue=Z,s.onIgnoreTagStripAll=function(){return""},s.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var i=!Array.isArray(e),r=[],n=!1;return{onIgnoreTag:function(s,o,a){if(function(t){return!!i||-1!==x.indexOf(e,t)}(s)){if(a.isClosing){var l=a.position+10;return r.push([!1!==n?n:a.position,l]),n=!1,"[/removed]"}return n||(n=a.position),"[removed]"}return t(s,o,a)},remove:function(e){var t="",i=0;return x.forEach(r,(function(r){t+=e.slice(i,r[0]),i=r[1]})),t+=e.slice(i)}}},s.stripCommentTag=function(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("\x3c!--",i);if(-1===r){t+=e.slice(i);break}t+=e.slice(i,r);var n=e.indexOf("--\x3e",r);if(-1===n)break;i=n+3}return t},s.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},s.cssFilter=w,s.getDefaultCSSWhiteList=_;var U={},F=v;function z(e){var t,i=F.spaceIndex(e);return t=-1===i?e.slice(1,-1):e.slice(1,i+1),"/"===(t=F.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function H(e){return"</"===e.slice(0,2)}var j=/[^a-zA-Z0-9\\_:.-]/gim;function B(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"="===i?t:-1}}function W(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"'"===i||'"'===i?t:-1}}function q(e,t){for(;t>0;t--){var i=e[t];if(" "!==i)return"="===i?t:-1}}function K(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}U.parseTag=function(e,t,i){var r="",n=0,s=!1,o=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===s){if("<"===d){s=a;continue}}else if(!1===o){if("<"===d){r+=i(e.slice(n,a)),s=a,n=a;continue}if(">"===d){r+=i(e.slice(n,s)),c=z(u=e.slice(s,a+1)),r+=t(s,r.length,c,u,H(u)),n=a+1,s=!1;continue}if('"'===d||"'"===d)for(var p=1,h=e.charAt(a-p);""===h.trim()||"="===h;){if("="===h){o=d;continue e}h=e.charAt(a-++p)}}else if(d===o){o=!1;continue}}return n<e.length&&(r+=i(e.substr(n))),r},U.parseAttr=function(e,t){var i=0,r=0,n=[],s=!1,o=e.length;function a(e,i){if(!((e=(e=F.trim(e)).replace(j,"").toLowerCase()).length<1)){var r=t(e,i||"");r&&n.push(r)}}for(var l=0;l<o;l++){var c,u=e.charAt(l);if(!1!==s||"="!==u)if(!1===s||l!==r){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(c=B(e,l))){a(F.trim(e.slice(i,l))),s=!1,i=l+1;continue}l=c-1;continue}if(-1===(c=q(e,l-1))){a(s,K(F.trim(e.slice(i,l)))),s=!1,i=l+1;continue}}}else{if(-1===(c=e.indexOf(u,l+1)))break;a(s,F.trim(e.slice(r+1,c))),s=!1,i=(l=c)+1}else s=e.slice(i,l),i=l+1,r='"'===e.charAt(i)||"'"===e.charAt(i)?i:W(e,l+1)}return i<e.length&&(!1===s?a(e.slice(i)):a(s,K(F.trim(e.slice(i))))),F.trim(n.join(" "))};var Y=y.FilterCSS,X=s,J=U,Q=J.parseTag,ee=J.parseAttr,te=v;function ie(e){return null==e}function re(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=X.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map((function(e){return e.toLowerCase()})):t[i.toLowerCase()]=e[i];return t}(e.whiteList||e.allowList):e.whiteList=X.whiteList,e.onTag=e.onTag||X.onTag,e.onTagAttr=e.onTagAttr||X.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||X.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||X.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||X.safeAttrValue,e.escapeHtml=e.escapeHtml||X.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Y(e.css))}re.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onTag,n=t.onIgnoreTag,s=t.onTagAttr,o=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=X.stripBlankChar(e)),t.allowCommentTag||(e=X.stripCommentTag(e));var u=!1;t.stripIgnoreTagBody&&(u=X.StripTagBody(t.stripIgnoreTagBody,n),n=u.onIgnoreTag);var d=Q(e,(function(e,t,u,d,p){var h={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(i,u)},f=r(u,d,h);if(!ie(f))return f;if(h.isWhite){if(h.isClosing)return"</"+u+">";var g=function(e){var t=te.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=te.trim(e.slice(t+1,-1)))[e.length-1];return i&&(e=te.trim(e.slice(0,-1))),{html:e,closing:i}}(d),m=i[u],y=ee(g.html,(function(e,t){var i=-1!==te.indexOf(m,e),r=s(u,e,t,i);return ie(r)?i?(t=a(u,e,t,c))?e+'="'+t+'"':e:ie(r=o(u,e,t,i))?void 0:r:r}));return d="<"+u,y&&(d+=" "+y),g.closing&&(d+=" /"),d+">"}return ie(f=n(u,d,h))?l(d):f}),l);return u&&(d=u.remove(d)),d};var ne=re;!function(e,t){var i=s,r=U,n=ne;function o(e,t){return new n(t).process(e)}(t=e.exports=o).filterXSS=o,t.FilterXSS=n,function(){for(var e in i)t[e]=i[e];for(var n in r)t[n]=r[n]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(n,n.exports);var se=n.exports,oe=function(){function e(e,t){var i,n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=r(r({},se.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,i,r){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(i):se.safeAttrValue(e,t,i,r)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?i=e:e&&t?((i=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach((function(t){if("whiteList"===t)i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]);else if("css"===t){var r=e.css.whiteList;null!=r&&e.css instanceof Object&&Object.keys(r).forEach((function(e){return i.css.whiteList[e]=r[e]}))}else i[t]=e[t]}))):((i=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new se.FilterXSS(i)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e,t){var i=(null!=t?t:{}).isProtocolRequired,r=void 0===i||i,n=this._trim(e.substring(0,e.indexOf(":"))),s="/"===e,o=/^#/.test(e),a=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return s||o||a?se.escapeAttrValue(e):n||r?"":se.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,i,r){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,i,r):se.safeAttrValue(e,t,i,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var i=this.sanitize(e,t);return{isValid:e===i,sanitized:i}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,(function(i,r){return t.test(i)?i:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(i){Array.isArray(e[i])&&Array.isArray(t[i])?t[i]=t[i].concat(e[i]):t[i]=e[i]}))})),t},e.prototype._iterateOverObject=function(e,t){var i=this;void 0===t&&(t={});try{var r=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var s=i.validate(n,t);return s.isValid?e.concat([n]):(r=!0,e.concat([s.sanitized]))}),[]);else{if(!function(e){if("object"!=typeof e||null===e)return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)){if(t.allowUndefined&&void 0===e)return;return null}n=Object.keys(e).reduce((function(n,s){var o=e[s],a=i.validate(o,t);return a.isValid?n[s]=o:(r=!0,n[s]=a.sanitized),n}),{})}return r?n:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),ae=i(14130),le=(i(61226),i(58941),i(40633),i(60539)),ce=(i(28181),i(74087)),ue=i(15351);function de(...e){const t=ae.A.acquire();for(let i=0;i<e.length;i++){const r=e[i],n=typeof r;if("string"===n)t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if("object"===n)for(const e in r)r[e]&&t.push(e)}const i=t.join(" ");return ae.A.release(t),i}function pe(e){const t=e?.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function he(e){this[e.getAttribute("data-node-ref")]=null}function fe(e){this[e.getAttribute("data-node-ref")]=e}(()=>{const e=new Map;new ResizeObserver((t=>{(0,ue.Sh)();for(const i of t)e.get(i.target)?.(i)}))})();const ge=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),me=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],ye=new oe({whiteList:ge,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(me.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function ve(e){return"Enter"===e||" "===e}async function be(e,t){await(0,ce.$m)((0,le.Mq)(t));const i="function"==typeof e?e():e;i&&("setFocus"in i&&"function"==typeof i.setFocus?await i.setFocus():i instanceof HTMLElement&&i.focus())}}}]);
//# sourceMappingURL=views-draw-support-Reshape.js.map