!function(){var e,t,r={99702:function(e,t,r){function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){try{new o.Event("")}catch(e){return!0}return!1}(),a=function(){try{new o.EventTarget}catch(e){return!0}return!1}();i&&(o.Event=function(e,t){this.bubbles=!!t&&!!t.bubbles,this.cancelable=!!t&&!!t.cancelable,this.composed=!!t&&!!t.composed,this.type=e}),a&&(o.EventTarget=function(){function e(){this.__listeners=new Map}return e.prototype=Object.create(Object.prototype),e.prototype.addEventListener=function(e,t,r){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");var n=this.__listeners,o=e.toString();n.has(o)||n.set(o,new Map);var i=n.get(o);i.has(t)||i.set(t,r)},e.prototype.removeEventListener=function(e,t,r){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");var n=this.__listeners,o=e.toString();if(n.has(o)){var i=n.get(o);i.has(t)&&i.delete(t)}},e.prototype.dispatchEvent=function(e){var t=this;if(!(e instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");var r=e.type,o=this.__listeners.get(r);if(o){var i,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}(o.entries());try{var s,c=function(){var r=(s=i.value)[0],n=s[1];try{"function"==typeof r?r.call(t,e):r&&"function"==typeof r.handleEvent&&r.handleEvent(e)}catch(e){setTimeout((function(){throw e}))}n&&n.once&&o.delete(r)};for(a.s();!(i=a.n()).done;)c()}catch(e){a.e(e)}finally{a.f()}}return!0},e}())},41459:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Pt:function(){return u},SD:function(){return l},ar:function(){return a},hL:function(){return s},z_:function(){return c}});var o="data-fm-page",i="aria-hidden",a=function(){var e,t=null===(e=document.querySelector("[".concat(o,"]")))||void 0===e?void 0:e.getAttribute(o);document.documentElement.classList.toggle("fm-page",!!t);var r=document.title.split(" - "),n=r[r.length-1];document.title=t?"".concat(t," - ").concat(n):n},s=function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}(document.querySelectorAll("[data-fm-inert]"));try{for(t.s();!(e=t.n()).done;){var r=e.value;r.removeAttribute(i),r.removeAttribute("data-fm-inert")}}catch(e){t.e(e)}finally{t.f()}var a=function(e){var t,r,n,i=!!document.querySelector("[".concat(o,"]")),a=document.querySelector("[".concat(o,"]"))||(null==e?void 0:e.closest("[data-fm-container]")),s=null===(t=a)||void 0===t?void 0:t.querySelector('[aria-modal="true"][open]'),c=null===(r=s)||void 0===r?void 0:r.contains(e),l=null===(n=a)||void 0===n?void 0:n.contains(e);return a=i&&a,(s=(i||l)&&c&&s)||a}(document.activeElement);if(a)for(;a.parentNode&&a!==document.body;){for(var s=a.parentNode.firstChild;s;)1!==s.nodeType||s===a||s.hasAttribute(i)||(s.setAttribute(i,!0),s.setAttribute("data-fm-inert","")),s=s.nextSibling;a=a.parentNode}},c=function(){var e,t,r=document.activeElement,n=!!document.querySelector("[".concat(o,"]")),i=document.querySelector("[".concat(o,"]"))||(null===(e=r)||void 0===e?void 0:e.closest("[data-fm-container]")),a=null==i?void 0:i.querySelector('[aria-modal="true"][open]'),s=null===(t=a)||void 0===t?void 0:t.contains(r),c=null==i?void 0:i.contains(r);a=(n||c)&&a&&!s&&a;var l=n&&!c&&i.querySelector("[data-fm-viewport]");(r=a||l)&&r.focus()},l=function(e){if("Tab"===e.key){var t=document.activeElement.closest('[aria-modal="true"][open], ['.concat(o,"]"));if(t){var r=Array.from(t.querySelectorAll(["a[href]:not([disabled])","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'*[tabindex="0"]:not([disabled])'].join(","))),n=(r=r.filter((function(e){return!!e.offsetParent})))[0],i=r[r.length-1];!e.shiftKey||document.activeElement!==t&&document.activeElement!==n||(i.focus(),e.preventDefault()),e.shiftKey||document.activeElement!==i||(n.focus(),e.preventDefault())}}},u=function(e,t){var r=document.querySelectorAll("input, button, select, textarea, a[href]"),n=Array.prototype.filter.call(r,(function(e){return e.tabIndex>="0"})),o=n.indexOf(e);return n["next"===t?o+1:o-1]||n[0]}},74753:function(e,t){"use strict";var r={on:function(e,t,r){e.addEventListener(t,(function(e){return r(e.detail)}))},dispatch:function(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:r}))},remove:function(e,t,r){e.removeEventListener(t,r)}};t.A=r},54830:function(e,t,r){"use strict";r.d(t,{Ft:function(){return o},oz:function(){return n},qn:function(){return i},ww:function(){return a}});var n=function(e){try{return JSON.parse(e)}catch(t){return e}},o=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},i=function(e){return new URLSearchParams(window.location.search).get(e)},a=function(e){return new URLSearchParams(window.location.search).has(e)}},16755:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});var n={default:{hasSize:!!window.globalThis,isLatest:!!window.globalThis,isSupported:function(){try{return!document.documentMode}catch(e){return!1}}},esri:{hasSize:!1,isSupported:function(){return!!Array.prototype.findLast}}}},73344:function(e,t,r){"use strict";r.d(t,{$P:function(){return c},AZ:function(){return n},FB:function(){return a},Lc:function(){return s},NT:function(){return o},W0:function(){return i}});var n={READY:"ready",CHANGE:"change",QUERY:"query",APP_READY:"appready",APP_CHANGE:"appchange",APP_QUERY:"appquery",SET_SEARCH:"setsearch",SET_INFO:"setinfo",SET_DRAW:"setdraw",SET_SELECTED:"setselected",SET_IS_KEYBOARD:"setiskeyboard",MAP_QUERY:"mapquery",MAP_CLICK:"mapclick",MAP_LOAD:"load",MAP_STYLE:"style"},o={CONTAINER_TYPE:"buttonFirst",PANEL_POSITION:"overlayRight"},i={breakpoints:{MAX_MOBILE:"640px",MIN_DESKTOP:"835px"},container:{buttonFirst:{CLASS:"fm-button-first"},hybrid:{CLASS:"fm-hybrid",HEIGHT:"600px"},inline:{CLASS:"fm-inline",HEIGHT:"400px"}},map:{BBOX:[-5.719993,49.955638,1.794689,55.825973],MAX_BBOX:[-5.719993,49.955638,1.794689,55.825973],CENTRE:[-1.4758,52.9219],ZOOM:12,MIN_ZOOM:6,MAX_ZOOM:16},params:{view:"view",centreZoom:"cz",segments:"seg",layers:"lyr",featureId:"id",targetMarker:"qxy"}},a={drag:2,pan:{ARROWLEFT:[-100,0],ARROWRIGHT:[100,0],ARROWUP:[0,-100],ARROWDOWN:[0,100]},shiftPan:{ARROWLEFT:[-5,0],ARROWRIGHT:[5,0],ARROWUP:[0,-5],ARROWDOWN:[0,5]}},s={TOP:90,BOTTOM:15,LEFT:70},c={MIN_CHARS:3}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}o.m=r,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))},o.u=function(e){return({100:"previewWebStyleSymbol",118:"rest-query-executeBinsQuery",128:"chunks-arcgis-knowledge-client-core-simd",147:"sv_SE",154:"he_IL",160:"FeatureMedia-pieChart",184:"@esri-calcite-components-dist-components-calcite-chip",243:"SubtypeGroupLayer",396:"save-groupLayerUtils",405:"save-mediaLayerUtils",524:"uk_UA",582:"WFSLayer",705:"OGCFeatureLayer",744:"rest-knowledgeGraphService",763:"previewSymbol2D",807:"layers-graphics-sources-support-MemorySourceWorker",888:"VoxelLayer",907:"chunks-geometryEngineBase",951:"@esri-calcite-components-dist-components-calcite-dropdown-group",967:"vi_VN",987:"VideoLayer",1024:"support-webStyleSymbolUtils",1146:"support-meshUtils-exporters-gltf-gltfexport",1178:"lt_LT",1232:"LinkChartLayer",1353:"ja_JP",1355:"@esri-calcite-components-dist-components-calcite-tooltip",1380:"glTF-loader",1520:"layers-KMLLayerView2D",1536:"portal-support-layersLoader",1711:"widgets-Popup",1769:"et_EE",1803:"layers-OGCFeatureLayerView2D",1811:"zh_Hant",1838:"smartMapping-statistics-support-statsWorker",1845:"chunks-i3s",1859:"nb_NO",1927:"@esri-calcite-components-dist-components-calcite-loader",2028:"KMLLayer",2040:"featureSources-GraphicsSnappingSource",2072:"ImageryTileLayer",2121:"@esri-calcite-components-dist-components-calcite-notice",2193:"WMSLayer",2205:"ImageMaterial.glsl",2212:"OrientedImageryLayer",2231:"save-streamLayerUtils",2237:"PointCloudLayer",2377:"geometry-geometryEngineAsync",2384:"geometry-geometryEngineWorker",2416:"sql-WhereClause",2436:"shaders-LaserlinePath.glsl",2438:"@esri-calcite-components-dist-components-calcite-dialog",2458:"layers-BaseDynamicLayerView2D",2498:"@esri-calcite-components-dist-components-calcite-input",2523:"ColorMaterial.glsl",2525:"@esri-calcite-components-dist-components-calcite-icon",2529:"DefaultMaterial.glsl",2547:"@esri-calcite-components-dist-components-calcite-dropdown-item",2600:"layers-graphics-sources-support-CSVSourceWorker",2641:"shaders-Path.glsl",2652:"ro_RO",2659:"geometry-support-meshUtils-convertMeshVertexSpace",2663:"layers-GroupLayerView2D",2716:"layers-TileLayerView2D",2725:"chunks-lyr3DMain",2730:"WebTileLayer",2742:"layers-CatalogFootprintLayerView2D",2755:"esri-sdk",2803:"shaders-HighlightToSingle.glsl",2896:"el_GR",2933:"views-3d-webgl-engine-lib-edgeRendering-EdgeProcessingWorker",2938:"FeatureLayer",2974:"@esri-calcite-components-dist-components-calcite-button",3008:"@esri-calcite-components-dist-components-calcite-action",3066:"pt_BR",3127:"rest-query-executeForTopCount",3128:"support-arcgisLayers",3162:"@esri-calcite-components-dist-components-calcite-list",3213:"views-3d-layers-Lyr3DWorker",3236:"BuildingSceneLayer",3240:"@esri-calcite-components-dist-components-calcite-label",3283:"layers-VideoLayerView2D",3295:"views-2d-engine-vectorTiles-WorkerTileHandler",3398:"UnknownLayer",3436:"de_DE",3449:"MapNotesLayer",3473:"rest-support-meshFeatureSet",3538:"layers-support-layersCreator",3557:"Compositing.glsl",3569:"RibbonLine.glsl",3587:"pe-wasm",3589:"layers-RouteLayerView2D",3615:"zipjs-wrapper",3662:"save-imageryUtils",3725:"en_CA",3740:"chunks-libtess",3746:"tr_TR",3777:"FeatureMedia-xyChart",3806:"views-2d-layers-features-FeaturePipelineWorker",3824:"shaders-Laserlines.glsl",3840:"portal-support-geometryServiceUtils",3854:"IntegratedMeshLayer",3870:"nl_NL",3878:"@esri-calcite-components-dist-components-calcite-list-item",3879:"widgets-Legend-support-sizeRampUtils",3929:"views-3d-layers-graphics-pipeline-Feature3DPipelineWorker",3936:"chunks-lyr3DWorker",4144:"layers-ImageryLayerView2D",4172:"layers-ImageryTileLayerView2D",4241:"MapImageLayer",4254:"chunks-arcgis-knowledge-client-core",4281:"GeoRSSLayer",4292:"PortalItem",4376:"sl_SL",4401:"VectorTileLayer",4456:"core-workers-request",4460:"support-resourceUtils",4464:"rest-query-executeTopFeaturesQuery",4491:"ko_KR",4502:"@esri-calcite-components-dist-components-calcite-flow-item",4504:"arcade-functions-knowledgegraph",4547:"WMTSLayer",4550:"mask-svg",4551:"layers-CatalogDynamicGroupLayerView2D",4556:"portal-support-portalLayers",4570:"@esri-calcite-components-dist-components-calcite-action-group",4579:"ElevationLayer",4602:"views-3d-interactive-editingTools",4620:"zh_Hans",4632:"featureSources-SceneLayerSnappingSource",4676:"IntegratedMesh3DTilesLayer",4692:"MediaLayer",4695:"BingMapsLayer",4696:"geometry-geometryEngineJSON",4743:"CatalogLayer",4746:"shaders-HighlightApply.glsl",4758:"SlicePlaneMaterial.glsl",4850:"StreamLayer",4874:"views-draw-support-GraphicMover",4900:"layers-graphics-sources-WFSSourceWorker",4916:"DimensionLayer",4957:"arcade-featureSetUtils",5066:"arcade-functions-featuresetgeom",5090:"chunks-basis_transcoder",5092:"SceneLayer",5120:"geometry-support-meshUtils-ElevationSamplerWorker",5147:"GeoJSONLayer",5169:"layers-WMSLayerView2D",5297:"image-apng",5343:"layers-VectorTileLayerView2D",5404:"views-3d-layers-SceneLayerWorker",5418:"geometry-geometryEngine",5461:"symbols-cim-CIMSymbolRasterizer",5490:"th_TH",5536:"shaders-HighlightDownsample.glsl",5589:"arcade-functions-featuresetstring",5599:"LineMarker.glsl",5657:"layers-GraphicsLayerView2D",5678:"bs_BA",5716:"layers-KnowledgeGraphLayerView2D",5732:"ImageryLayer",5749:"layers-SubtypeGroupLayerView2D",5777:"functions-geomasync",5786:"chunks-libtess-asm",5825:"arcade-functions-featuresetbase",5835:"OverlayCompositing.glsl",5873:"RealisticTree.glsl",5912:"shaders-SSAO.glsl",5959:"geometry-support-meshUtils-projectMeshVertexPositions",5974:"views-interactive-snapping-featureSources-sceneLayerSource-SceneLayerSnappingSourceWorker",6005:"en_US",6022:"mapViewDeps",6162:"esri-sdk-draw",6171:"layers-MapImageLayerView2D",6221:"layers-support-RasterWorker",6266:"@esri-calcite-components-dist-components-calcite-flow",6314:"Basemap",6375:"cs_CZ",6387:"layers-GeoRSSLayerView2D",6391:"interactive-editingTools",6404:"core-shaderLibrary-util-TextureOnly.glsl",6430:"layers-Lyr3DWasmPerSceneView",6459:"layers-CatalogLayerView2D",6472:"fi_FI",6479:"geometryAdapters-hydrated",6498:"layers-FeatureLayerView2D",6574:"support-MediaLayerInteraction",6594:"layers-support-LercWorker",6613:"FeatureSnappingEngine",6628:"shaders-WaterSurface.glsl",6648:"@esri-calcite-components-dist-components-calcite-action-bar",6715:"layers-MapNotesLayerView2D",6840:"featureSources-FeatureServiceSnappingSource",6883:"views-3d-layers-graphics-objectResourceUtils",6928:"rest-query-executeForTopIds",6965:"FeatureMedia-chartCommon",6966:"TileLayer",7019:"chunks-lclayout",7036:"@esri-calcite-components-dist-components-calcite-list-item-group",7076:"SelfSnappingEngine",7095:"arcade-functions-featuresetstats",7192:"ru_RU",7209:"@esri-calcite-components-dist-components-calcite-dropdown",7215:"views-2d-interactive-editingTools",7224:"id_ID",7237:"rest-versionManagement-gdbVersion-support-DeleteForwardEditsParameters",7253:"layers-graphics-sources-geojson-GeoJSONSourceWorker",7269:"symbolLayerUtils",7323:"rest-versionManagement-gdbVersion-deleteForwardEdits",7326:"ar",7360:"layers-MediaLayerView2D",7500:"hu_HU",7514:"pt_PT",7528:"it_IT",7535:"chunks-lerc-wasm",7588:"de_CH",7633:"layers-WMTSLayerView2D",7793:"support-chartUtilsAm5",7809:"shaders-SSAOBlur.glsl",7835:"save-featureLayerUtils",7844:"arcade-arcadeAsyncRuntime",7876:"webglDeps",7877:"identity-IdentityManager",7968:"layers-StreamLayerView2D",8019:"loadGLTFMesh",8067:"Pattern.glsl",8083:"LineCallout.glsl",8104:"graphics-editingSupport",8117:"ViewshedLayer",8121:"HUDMaterial.glsl",8246:"views-interactive-snapping-featureSources-featureServiceSource-FeatureServiceSnappingSourceWorker",8274:"layers-ElevationLayer",8286:"sr_RS",8338:"graphics-sources-connections-createConnection",8363:"OpenStreetMapLayer",8368:"CSVLayer",8369:"GridSnappingEngine",8495:"UnsupportedLayer",8534:"es_ES",8538:"hr_HR",8627:"image-gif",8643:"shaders-SingleHighlightBlur.glsl",8656:"rest-support-TopFeaturesQuery",8710:"sk_SK",8737:"featureSources-FeatureCollectionSnappingSource",8798:"arcadeUtils",8835:"flood-map-ui",8852:"views-draw-support-Box",8854:"ca_ES",8857:"rest-query-executeForTopExtents",8950:"views-3d-support-PBFDecoderWorker",9003:"views-3d-layers-GraphicsLayerView3D",9033:"RouteLayer",9086:"shaders-SingleHighlightApply.glsl",9142:"fr_FR",9155:"arcade",9250:"Graphics3DSymbolLayerFactory",9342:"support-ElevationQuery",9386:"lv_LV",9436:"rest-query-operations-queryAttachments",9500:"bg_BG",9520:"rest-query-executeRelationshipQuery",9538:"NativeLine.glsl",9552:"overlay-svg",9586:"ShadedColorMaterial.glsl",9674:"pl_PL",9686:"da_DK",9722:"views-3d-layers-PointCloudWorker",9732:"graphics-sources-FeatureLayerSource",9738:"previewCIMSymbol",9845:"views-draw-support-Reshape",9883:"GroupLayer",9920:"LineOfSightLayer",9933:"support-uploadAssets",9942:"rest-support-BinsQuery",9974:"KnowledgeGraphLayer"}[e]||e)+".js"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="defra:",o.l=function(r,n,i,a){if(e[r])e[r].push(n);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+i){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[n];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(y);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},y=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={6163:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(function(r){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var n,i,a=r[0],s=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);c&&c(o)}for(t&&t(r);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkdefra=self.webpackChunkdefra||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i={};!function(){"use strict";o.r(i),o.d(i,{FloodMap:function(){return L}});var e=o(73344),t=o(16755),r=o(54830),n=o(41459),a=o(74753);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(y())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var o=new(e.bind.apply(e,n));return r&&f(o,r.prototype),o}(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},d(e)}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}o(99702);var g=window,b=g.location,w=g.history,S="fm-u-focus-visible",L=function(i){function s(o,i){var c,u,d,f,v,g;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),f=this,v=h(v=s),m(d=p(f,y()?Reflect.construct(v,[],h(f).constructor):v.apply(f,g)),"_search",void 0),m(d,"_info",void 0),m(d,"_selected",void 0),m(d,"_draw",void 0),d.el=document.getElementById(o),!t.R[(null==i||null===(c=i.provider)||void 0===c?void 0:c.name)||"default"].isSupported())return d._insertNotSupported(i.fallBackHTML),p(d);var b=l({},d.el.dataset);Object.keys(b).forEach((function(e){b[e]=(0,r.oz)(b[e])}));var w=document.getElementById(b.target||i.target||o),L=l(l({id:o,parent:w,title:document.title},i),b);d.props=L,d.id=o,d.root=null;var _=L.type,E=L.maxMobile,A="(max-width: ".concat(E||e.W0.breakpoints.MAX_MOBILE,")");return d.searchParams=new URLSearchParams(document.location.search),d.isMobile=null===(u=window)||void 0===u?void 0:u.matchMedia(A).matches,d.isVisible=d.searchParams.get("view")===o||"inline"===_||"hybrid"===_&&!d.isMobile,d.isVisible&&d._importComponent(),d._insertButtonHTML(),d.props.handleExit=d._handleExit.bind(d),window.addEventListener("popstate",d._handlePopstate.bind(d)),window.matchMedia(A).addEventListener("change",d._handleMobileMQ.bind(d)),window.addEventListener("focus",(function(){(0,n.z_)()})),window.addEventListener("keydown",d._handleKeydown.bind(d),!0),window.addEventListener("pointerdown",d._handlePointerdown.bind(d)),window.addEventListener("wheel",d._handlePointerdown.bind(d)),window.addEventListener("focusin",(function(){d.isKeyboard&&document.activeElement.classList.add(S)})),window.addEventListener("focusout",(function(e){e.target.classList.remove(S)})),a.A.on(w,e.AZ.APP_READY,(function(t){d.map=t.map,d.modules=t.modules,d.isReady=!0,a.A.dispatch(d.props.parent,e.AZ.SET_IS_KEYBOARD,d.isKeyboard||!1),a.A.dispatch(d,e.AZ.READY,l({type:"ready"},t)),d._info&&a.A.dispatch(d.props.parent,e.AZ.SET_INFO,d._info),d._selected&&a.A.dispatch(d.props.parent,e.AZ.SET_SELECTED,d._selected),d._draw&&a.A.dispatch(d.props.parent,e.AZ.SET_DRAW,d._draw)})),a.A.on(w,e.AZ.APP_CHANGE,(function(t){a.A.dispatch(d,e.AZ.CHANGE,t)})),a.A.on(w,e.AZ.APP_QUERY,(function(t){a.A.dispatch(d,e.AZ.QUERY,t)})),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,i),c=s,d=[{key:"_insertNotSupported",value:function(e){console.log("Device not supported"),this.el.insertAdjacentHTML("beforebegin",e||'\n      <div class="fm-error" role="alert">\n        <p class="govuk-body">Your device is not supporterd. A map would be a available with a more up-to-date device.</p>\n      </div>\n    ')}},{key:"_insertButtonHTML",value:function(){var e=this.props,t=e.buttonText,r=e.buttonType;this.el.insertAdjacentHTML("beforebegin",'\n      <a href="'.concat(b.pathname,"?view=").concat(this.id,'" class="').concat("anchor"===r?"fm-c-btn-open-map-anchor":"fm-c-btn-open-map",' govuk-body-s" ').concat(this.isVisible?'style="display:none"':""," role=\"button\">\n          <svg focusable='false' aria-hidden='true' width='16' height='20' viewBox='0 0 16 20' fillRule='evenodd'><path d='M15 7.5c.009 3.778-4.229 9.665-7.5 12.5C4.229 17.165-.009 11.278 0 7.5a7.5 7.5 0 1 1 15 0z'/><path d='M7.5 12.961a5.46 5.46 0 1 0 0-10.922 5.46 5.46 0 1 0 0 10.922z' fill='#fff'/></svg><span>").concat(t||"Map view","</span>\n          <span class='fm-u-visually-hidden'>(Visual only)</span>\n      </a>\n    "));var n=this.el.previousElementSibling;n.addEventListener("click",this._handleClick.bind(this)),this.button=n}},{key:"_handleExit",value:function(){var t,r=this;if(null!==(t=w.state)&&void 0!==t&&t.isBack)w.back();else{this._removeComponent(),Object.keys(e.W0.params).forEach((function(t){return r.searchParams.delete(e.W0.params[t])}));var n=b.pathname+this.searchParams.toString();w.replaceState({isBack:!1},"",n)}}},{key:"_handleClick",value:function(e){e.preventDefault(),w.pushState({isBack:!0},"","".concat(e.target.getAttribute("href"))),this.button.setAttribute("data-fm-open",""),this._importComponent()}},{key:"_handleMobileMQ",value:function(e){this.isMobile=e.matches;var t=this.props.type,r=new URLSearchParams(document.location.search).get("view")===this.id;this.isVisible=r||"inline"===t||"hybrid"===t&&!this.isMobile,this.isVisible?this._importComponent():this._removeComponent()}},{key:"_handlePopstate",value:function(){var e,t=this.props.type;null!==(e=w.state)&&void 0!==e&&e.isBack?this._importComponent():("buttonFirst"===t||"hybrid"===t&&this.isMobile)&&this._removeComponent()}},{key:"_handleKeydown",value:function(t){"Tab"===t.key&&(this.isKeyboard=!0,a.A.dispatch(this.props.parent,e.AZ.SET_IS_KEYBOARD,!0))}},{key:"_handlePointerdown",value:function(){a.A.dispatch(this.props.parent,e.AZ.SET_IS_KEYBOARD,!1),document.activeElement.classList.remove(S),this.isKeyboard=!1}},{key:"_importComponent",value:function(){var e=this;o.e(8835).then(o.bind(o,32550)).then((function(t){e._addComponent(t)}))}},{key:"_addComponent",value:function(e){this.root||(this.button.setAttribute("style","display: none"),this.root=e.default(this.el,l(l({},this.props),{},{isKeyboard:this.isKeyboard})))}},{key:"_removeComponent",value:function(){var e;this.button.removeAttribute("style"),this.button.removeAttribute("data-open"),this.button.focus(),null===(e=this.root)||void 0===e||e.unmount(),this.root=null,this._selected=null,this._info=null,(0,n.ar)(),(0,n.hL)()}},{key:"info",get:function(){return this._info},set:function(t){this._info=t,this.isReady&&a.A.dispatch(this.props.parent,e.AZ.SET_INFO,this._info)}},{key:"select",get:function(){return this._selected},set:function(t){this._selected=t,this.isReady&&a.A.dispatch(this.props.parent,e.AZ.SET_SELECTED,this._selected)}},{key:"draw",get:function(){return this._draw},set:function(t){this._draw=t,this.isReady&&a.A.dispatch(this.props.parent,e.AZ.SET_DRAW,this._draw)}}],d&&u(c.prototype,d),Object.defineProperty(c,"prototype",{writable:!1}),c;var c,d}(d(EventTarget))}(),window.defra=i}();
//# sourceMappingURL=map.js.map