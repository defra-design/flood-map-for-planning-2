"use strict";(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[5404],{13794:function(t,n,e){e.d(n,{N:function(){return m},a:function(){return E},c:function(){return p},e:function(){return y},f:function(){return w},g:function(){return I},k:function(){return N},l:function(){return A},m:function(){return b},n:function(){return T},o:function(){return D},p:function(){return U},s:function(){return B},w:function(){return M}}),e(58941),e(40633);var r=e(15774),o=e(73364),i=e(20551),c=e(32501),u=e(33400),a=e(41546),s=e(8527),f=e(72485),l=e(79578);function d(t,n){const e=(0,i.l)(t),o=(0,r.YN)(t[2]/e),c=Math.atan2(t[1]/e,t[0]/e);return(0,i.i)(n,e,o,c),n}var h=e(29531),g=e(50973);const m=p();function p(){return(0,a.vt)()}const b=u.e,v=u.e;function y(t,n){return(0,u.c)(n,t)}function A(t,n){return(0,a.fA)(t[0],t[1],t[2],n)}function M(t){return t}function I(t){return t[3]}function E(t){return t}function w(t,n,e,r){return(0,a.fA)(t,n,e,r)}function _(t,n,e){if(null==n)return!1;if(!C(t,n,S))return!1;let{t0:r,t1:o}=S;if((r<0||o<r&&o>0)&&(r=o),r<0)return!1;if(e){const{origin:t,direction:o}=n;e[0]=t[0]+o[0]*r,e[1]=t[1]+o[1]*r,e[2]=t[2]+o[2]*r}return!0}function T(t,n,e){const r=(0,l.Cr)(n,e);if(!C(t,r,S))return[];const{origin:o,direction:u}=r,{t0:a,t1:f}=S,d=n=>{const e=(0,c.vt)();return(0,i.b)(e,o,u,n),U(t,e,e)};return Math.abs(a-f)<(0,s.FD)()?[d(a)]:[d(a),d(f)]}const S={t0:0,t1:0};function C(t,n,e){const{origin:r,direction:o}=n,i=O;i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2];const c=o[0]*o[0]+o[1]*o[1]+o[2]*o[2];if(0===c)return!1;const u=2*(o[0]*i[0]+o[1]*i[1]+o[2]*i[2]),a=u*u-4*c*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(a<0)return!1;const s=Math.sqrt(a);return e.t0=(-u-s)/(2*c),e.t1=(-u+s)/(2*c),!0}const O=(0,c.vt)();function N(t,n){return _(t,n,null)}function P(t,n,e){const r=g.rq.get(),c=g.Rc.get();(0,i.e)(r,n.origin,n.direction);const u=I(t);(0,i.e)(e,r,n.origin),(0,i.h)(e,e,1/(0,i.l)(e)*u);const a=R(t,n.origin),s=(0,h.g7)(n.origin,e);return(0,o.$0)(c,s+a,r),(0,i.t)(e,e,c),e}function U(t,n,e){const r=(0,i.d)(g.rq.get(),n,t),o=(0,i.h)(g.rq.get(),r,t[3]/(0,i.l)(r));return(0,i.g)(e,o,t)}function R(t,n){const e=(0,i.d)(g.rq.get(),n,t),o=(0,i.l)(e),c=I(t),u=c+Math.abs(c-o);return(0,r.XM)(c/u)}const x=(0,c.vt)();function L(t,n,e,r){const o=(0,i.d)(x,n,t);switch(e){case f._.X:{const t=d(o,x)[2];return(0,i.i)(r,-Math.sin(t),Math.cos(t),0)}case f._.Y:{const t=d(o,x),n=t[1],e=t[2],c=Math.sin(n);return(0,i.i)(r,-c*Math.cos(e),-c*Math.sin(e),Math.cos(n))}case f._.Z:return(0,i.n)(r,o);default:return}}function F(t,n){const e=(0,i.d)(z,n,t);return(0,i.l)(e)-t[3]}function D(t,n){const e=(0,i.s)(t,n),r=I(t);return e<=r*r}const z=(0,c.vt)(),j=p(),B=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:m,altitudeAt:F,angleToSilhouette:R,axisAt:L,cameraFrustumCoverage:function(t,n,e,r){const o=I(t),i=o*o,c=n+.5*Math.PI,u=e*e+i-2*Math.cos(c)*e*o,a=Math.sqrt(u),s=u-i;if(s<=0)return.5;const f=Math.sqrt(s),l=Math.acos(f/a)-Math.asin(o/(a/Math.sin(c)));return Math.min(1,(l+.5*r)/r)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,n,e){return _(t,n,e)?e:((0,l.oC)(n,t,e),U(t,e,e))},closestPointOnSilhouette:P,containsPoint:D,copy:y,create:p,distanceToSilhouette:function(t,n){const e=(0,i.d)(g.rq.get(),n,t),r=(0,i.k)(e),o=t[3]*t[3];return Math.sqrt(Math.abs(r-o))},elevate:function(t,n,e){return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=t[3]+n,e},equals:v,exactEquals:b,fromCenterAndRadius:A,fromRadius:function(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t},fromValues:w,getCenter:E,getExtent:function(t,n){return n},getRadius:I,intersectLine:T,intersectRay:_,intersectRayClosestSilhouette:function(t,n,e){if(_(t,n,e))return e;const r=P(t,n,g.rq.get());return(0,i.g)(e,n.origin,(0,i.h)(g.rq.get(),n.direction,(0,i.j)(n.origin,r)/(0,i.l)(n.direction))),e},intersectsRay:N,projectPoint:U,setAltitudeAt:function(t,n,e,r){const o=F(t,n),c=L(t,n,f._.Z,z),u=(0,i.h)(z,c,e-o);return(0,i.g)(r,n,u)},setExtent:function(t,n,e){return t!==e&&y(t,e),e},tmpSphere:j,union:function(t,n,e=(0,a.vt)()){const r=(0,i.j)(t,n),o=t[3],c=n[3];return r+c<o?((0,u.c)(e,t),e):r+o<c?((0,u.c)(e,n),e):((0,i.m)(e,t,n,(r+c-o)/(2*r)),e[3]=(r+o+c)/2,e)},wrap:M},Symbol.toStringTag,{value:"Module"}))},62693:function(t,n,e){function r(t,n,e){o(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function o(t,n,e,r=3,o=r){if(t.length/r!==Math.ceil(n.length/o))return t;const i=t.length/r,c=e[0],u=e[1],a=e[2],s=e[4],f=e[5],l=e[6],d=e[8],h=e[9],g=e[10],m=e[12],p=e[13],b=e[14];let v=0,y=0;for(let e=0;e<i;e++){const e=n[v],i=n[v+1],A=n[v+2];t[y]=c*e+s*i+d*A+m,t[y+1]=u*e+f*i+h*A+p,t[y+2]=a*e+l*i+g*A+b,v+=o,y+=r}return t}function i(t,n,e){c(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function c(t,n,e,r=3,o=r){if(t.length/r!==Math.ceil(n.length/o))return;const i=t.length/r,c=e[0],u=e[1],a=e[2],s=e[3],f=e[4],l=e[5],d=e[6],h=e[7],g=e[8];let m=0,p=0;for(let e=0;e<i;e++){const e=n[m],i=n[m+1],b=n[m+2];t[p]=c*e+s*i+d*b,t[p+1]=u*e+f*i+h*b,t[p+2]=a*e+l*i+g*b,m+=o,p+=r}}function u(t,n,e){a(t.typedBuffer,n.typedBuffer,e,t.typedBufferStride,n.typedBufferStride)}function a(t,n,e,r=3,o=r){const i=Math.min(t.length/r,n.length/o);let c=0,u=0;for(let a=0;a<i;a++)t[u]=e*n[c],t[u+1]=e*n[c+1],t[u+2]=e*n[c+2],c+=o,u+=r;return t}function s(t,n,e,r=3,o=r){const i=t.length/r;if(i!==Math.ceil(n.length/o))return t;let c=0,u=0;for(let a=0;a<i;a++)t[u]=n[c]+e[0],t[u+1]=n[c+1]+e[1],t[u+2]=n[c+2]+e[2],c+=o,u+=r;return t}function f(t,n){l(t.typedBuffer,n.typedBuffer,t.typedBufferStride,n.typedBufferStride)}function l(t,n,e=3,r=e){const o=Math.min(t.length/e,n.length/r);let i=0,c=0;for(let u=0;u<o;u++){const o=n[i],u=n[i+1],a=n[i+2],s=o*o+u*u+a*a;if(s>0){const n=1/Math.sqrt(s);t[c]=n*o,t[c+1]=n*u,t[c+2]=n*a}i+=r,c+=e}}e.d(n,{a:function(){return s},b:function(){return c},c:function(){return i},d:function(){return r},e:function(){return f},f:function(){return a},n:function(){return l},s:function(){return u},t:function(){return o}}),e(58941),e(40633),Object.freeze(Object.defineProperty({__proto__:null,normalize:l,normalizeView:f,scale:a,scaleView:u,shiftRight:function(t,n,e){const r=Math.min(t.count,n.count),o=t.typedBuffer,i=t.typedBufferStride,c=n.typedBuffer,u=n.typedBufferStride;let a=0,s=0;for(let t=0;t<r;t++)o[s]=c[a]>>e,o[s+1]=c[a+1]>>e,o[s+2]=c[a+2]>>e,a+=u,s+=i},transformMat3:c,transformMat3View:i,transformMat4:o,transformMat4View:r,translate:s},Symbol.toStringTag,{value:"Module"}))},89736:function(t,n,e){e.d(n,{I:function(){return o}});var r=e(29601);class o{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*i);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,i));t++)this._items.push(this._allocator())}}const i=1024},5161:function(t,n,e){e.d(n,{T:function(){return i},U:function(){return o}});var r=e(15774);function o(t,n,e=0){const o=(0,r.qE)(t,0,a);for(let t=0;t<4;t++)n[e+t]=Math.floor(256*s(o*c[t]))}function i(t,n=0){let e=0;for(let r=0;r<4;r++)e+=t[n+r]*u[r];return e}const c=[1,256,65536,16777216],u=[1/256,1/65536,1/16777216,1/4294967296],a=i(new Uint8ClampedArray([255,255,255,255]));function s(t){return t-Math.floor(t)}},87725:function(t,n,e){function r(){return[1,0,0,0,1,0,0,0,1]}function o(t,n,e,r,o,i,c,u,a){return[t,n,e,r,o,i,c,u,a]}e.d(n,{fA:function(){return o},vt:function(){return r},zK:function(){return i}});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,n){return new Float64Array(t,n,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},39714:function(t,n,e){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function i(t,n,e,r,o,i,c,u,a,s,f,l,d,h,g,m){return[t,n,e,r,o,i,c,u,a,s,f,l,d,h,g,m]}e.d(n,{fA:function(){return i},o8:function(){return o},vt:function(){return r},zK:function(){return c}});const c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:c,clone:o,create:r,createView:function(t,n){return new Float64Array(t,n,16)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},61769:function(t,n,e){function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}e.d(n,{o8:function(){return o},vt:function(){return r},zK:function(){return i}});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,fromValues:function(t,n,e,r){return[t,n,e,r]}},Symbol.toStringTag,{value:"Module"}))},32237:function(t,n,e){e.d(n,{A6:function(){return p},B8:function(){return h},Xd:function(){return f},Xr:function(){return g},Yc:function(){return P},hZ:function(){return v},lw:function(){return l},t2:function(){return O},x8:function(){return s}});var r=e(87725),o=e(61769),i=e(32501),c=e(8527),u=e(20551),a=e(33400);function s(t,n,e){e*=.5;const r=Math.sin(e);return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=Math.cos(e),t}function f(t,n){const e=2*Math.acos(n[3]),r=Math.sin(e/2);return r>(0,c.FD)()?(t[0]=n[0]/r,t[1]=n[1]/r,t[2]=n[2]/r):(t[0]=1,t[1]=0,t[2]=0),e}function l(t,n,e){const r=n[0],o=n[1],i=n[2],c=n[3],u=e[0],a=e[1],s=e[2],f=e[3];return t[0]=r*f+c*u+o*s-i*a,t[1]=o*f+c*a+i*u-r*s,t[2]=i*f+c*s+r*a-o*u,t[3]=c*f-r*u-o*a-i*s,t}function d(t,n,e,r){const o=n[0],i=n[1],u=n[2],a=n[3];let s,f,l,d,h,g=e[0],m=e[1],p=e[2],b=e[3];return f=o*g+i*m+u*p+a*b,f<0&&(f=-f,g=-g,m=-m,p=-p,b=-b),1-f>(0,c.FD)()?(s=Math.acos(f),l=Math.sin(s),d=Math.sin((1-r)*s)/l,h=Math.sin(r*s)/l):(d=1-r,h=r),t[0]=d*o+h*g,t[1]=d*i+h*m,t[2]=d*u+h*p,t[3]=d*a+h*b,t}function h(t,n){const e=n[0],r=n[1],o=n[2],i=n[3],c=e*e+r*r+o*o+i*i,u=c?1/c:0;return t[0]=-e*u,t[1]=-r*u,t[2]=-o*u,t[3]=i*u,t}function g(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=n[3],t}function m(t,n){const e=n[0]+n[4]+n[8];let r;if(e>0)r=Math.sqrt(e+1),t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r;else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const o=(e+1)%3,i=(e+2)%3;r=Math.sqrt(n[3*e+e]-n[3*o+o]-n[3*i+i]+1),t[e]=.5*r,r=.5/r,t[3]=(n[3*o+i]-n[3*i+o])*r,t[o]=(n[3*o+e]+n[3*e+o])*r,t[i]=(n[3*i+e]+n[3*e+i])*r}return t}function p(t,n,e,r){const o=.5*Math.PI/180;n*=o,e*=o,r*=o;const i=Math.sin(n),c=Math.cos(n),u=Math.sin(e),a=Math.cos(e),s=Math.sin(r),f=Math.cos(r);return t[0]=i*a*f-c*u*s,t[1]=c*u*f+i*a*s,t[2]=c*a*s-i*u*f,t[3]=c*a*f+i*u*s,t}const b=a.c,v=a.s,y=a.g,A=l,M=a.d,I=a.h,E=a.l,w=a.j,_=w,T=a.b,S=T,C=a.n,O=a.a,N=a.e;function P(t,n,e){const r=(0,u.f)(n,e);return r<-.999999?((0,u.e)(U,R,n),(0,u.G)(U)<1e-6&&(0,u.e)(U,x,n),(0,u.n)(U,U),s(t,U,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,u.e)(U,n,e),t[0]=U[0],t[1]=U[1],t[2]=U[2],t[3]=1+r,C(t,t))}const U=(0,i.vt)(),R=(0,i.fA)(1,0,0),x=(0,i.fA)(0,1,0),L=(0,o.vt)(),F=(0,o.vt)(),D=(0,r.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:y,calculateW:function(t,n){const e=n[0],r=n[1],o=n[2];return t[0]=e,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-e*e-r*r-o*o)),t},conjugate:g,copy:b,dot:I,equals:N,exactEquals:O,fromEuler:p,fromMat3:m,getAxisAngle:f,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:h,len:_,length:w,lerp:E,mul:A,multiply:l,normalize:C,random:function(t){const n=c.Ov,e=n(),r=n(),o=n(),i=Math.sqrt(1-e),u=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=u*Math.sin(2*Math.PI*o),t[3]=u*Math.cos(2*Math.PI*o),t},rotateX:function(t,n,e){e*=.5;const r=n[0],o=n[1],i=n[2],c=n[3],u=Math.sin(e),a=Math.cos(e);return t[0]=r*a+c*u,t[1]=o*a+i*u,t[2]=i*a-o*u,t[3]=c*a-r*u,t},rotateY:function(t,n,e){e*=.5;const r=n[0],o=n[1],i=n[2],c=n[3],u=Math.sin(e),a=Math.cos(e);return t[0]=r*a-i*u,t[1]=o*a+c*u,t[2]=i*a+r*u,t[3]=c*a-o*u,t},rotateZ:function(t,n,e){e*=.5;const r=n[0],o=n[1],i=n[2],c=n[3],u=Math.sin(e),a=Math.cos(e);return t[0]=r*a+o*u,t[1]=o*a-r*u,t[2]=i*a+c*u,t[3]=c*a-i*u,t},rotationTo:P,scale:M,set:v,setAxes:function(t,n,e,r){const o=D;return o[0]=e[0],o[3]=e[1],o[6]=e[2],o[1]=r[0],o[4]=r[1],o[7]=r[2],o[2]=-n[0],o[5]=-n[1],o[8]=-n[2],C(t,m(t,o))},setAxisAngle:s,slerp:d,sqlerp:function(t,n,e,r,o,i){return d(L,n,o,i),d(F,e,r,i),d(t,L,F,2*i*(1-i)),t},sqrLen:S,squaredLength:T,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},7456:function(t,n,e){e.d(n,{l:function(){return s}});var r=e(15774),o=e(73364),i=e(32501),c=e(46098),u=e(61441),a=e(57652);function s(t,n,e,r){if(null==t||null==r)return!1;const i=(0,u.Qk)(t,u.Wv),s=(0,u.Qk)(r,u.zp);if(i===s&&!f(s)&&(i!==u.rz.UNKNOWN||(0,a.aI)(t,r)))return(0,o.kN)(e,n),!0;if(f(s)){const t=u.w5[i][u.rz.LON_LAT],r=u.w5[u.rz.LON_LAT][s];return null!=t&&null!=r&&(t(n,0,d,0),r(d,0,h,0),(0,c.z)(l*d[0],l*d[1],e),e[12]=h[0],e[13]=h[1],e[14]=h[2],!0)}const g=f(i);if((s===u.rz.WEB_MERCATOR||s===u.rz.PLATE_CARREE||s===u.rz.WGS84||s===u.rz.CGCS2000)&&(i===u.rz.WGS84||g||i===u.rz.WEB_MERCATOR||i===u.rz.CGCS2000)){const t=u.w5[i][u.rz.LON_LAT],r=u.w5[u.rz.LON_LAT][s];return null!=t&&null!=r&&(t(n,0,d,0),r(d,0,h,0),g?(0,c.Z)(l*d[0],l*d[1],e):(0,o.D_)(e),e[12]=h[0],e[13]=h[1],e[14]=h[2],!0)}return!1}function f(t){return t===u.rz.SPHERICAL_ECEF||t===u.rz.SPHERICAL_MARS_PCPF||t===u.rz.SPHERICAL_MOON_PCPF||t===u.rz.WGS84_ECEF}const l=(0,r.kU)(1),d=(0,i.vt)(),h=(0,i.vt)()},46098:function(t,n,e){e.d(n,{Z:function(){return i},z:function(){return o}});var r=e(73364);function o(t,n,e){const r=Math.sin(t),o=Math.cos(t),i=Math.sin(n),c=Math.cos(n),u=e;return u[0]=-r,u[4]=-i*o,u[8]=c*o,u[12]=0,u[1]=o,u[5]=-i*r,u[9]=c*r,u[13]=0,u[2]=0,u[6]=c,u[10]=i,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}function i(t,n,e){return o(t,n,e),(0,r.mg)(e,e),e}},56763:function(t,n,e){e.d(n,{W:function(){return u},g:function(){return c}});var r=e(32501),o=e(46157),i=e(57617);function c(t,n,e,r){if((0,o.canProjectWithoutEngine)(t.spatialReference,e)){a[0]=t.x,a[1]=t.y;const o=t.z;return a[2]=o??r??0,(0,i.projectBuffer)(a,t.spatialReference,0,n,e,0)}const c=(0,o.tryProjectWithZConversion)(t,e);return!!c&&(n[0]=c?.x,n[1]=c?.y,n[2]=c?.z??r??0,!0)}async function u(t,n,e,r,i){return await(0,o.initializeProjection)(t.spatialReference,e,null,i),c(t,n,e,r)}const a=(0,r.vt)()},68734:function(t,n,e){e.d(n,{F:function(){return i}}),e(46157);var r=e(57165),o=e(56763);function i(t,n,e,r,i){return!(null==n||null==r||t.length<2)&&(c.x=t[0],c.y=t[1],c.z=t[2],c.spatialReference=n,(0,o.g)(c,e,r,i))}const c=(0,e(46460).T)(0,0,0,r.A.WGS84)},96611:function(t,n,e){e.d(n,{Y0:function(){return s},lO:function(){return f}});var r=e(61714),o=e(57165),i=e(57652);const c=new o.A(r.fv),u=new o.A(r.FY),a=new o.A(r.LJ),s=new o.A(r.Ro);function f(t){const n=l.get(t);if(n)return n;let e=c;if(t)if(t===u)e=u;else if(t===a)e=a;else{const n=t.wkid,r=t.latestWkid;if(null!=n||null!=r)(0,i.tl)(n)||(0,i.tl)(r)?e=u:((0,i.ZL)(n)||(0,i.ZL)(r))&&(e=a);else{const n=t.wkt2??t.wkt;if(n){const t=n.toUpperCase();t===d?e=u:t===h&&(e=a)}}}return l.set(t,e),e}const l=new Map,d=u.wkt.toUpperCase(),h=a.wkt.toUpperCase()},65907:function(t,n,e){e.d(n,{A:function(){return l}});var r,o=e(53804),i=e(75743),c=e(30905),u=e(23502),a=(e(58941),e(40633),e(13798),e(74376)),s=e(65953);let f=r=class extends((0,i.O)(c.oY)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};f.absolute=new r,(0,o._)([(0,a.e)({georeferenced:"georeferenced"},{readOnly:!0})],f.prototype,"type",void 0),(0,o._)([(0,u.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],f.prototype,"origin",void 0),f=r=(0,o._)([(0,s.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],f);const l=f},20460:function(t,n,e){e.d(n,{A:function(){return l}});var r=e(53804),o=e(75743),i=e(30905),c=e(23502),u=(e(58941),e(40633),e(13798),e(74376)),a=e(65953),s=e(32501);let f=class extends((0,o.O)(i.oY)){constructor(t){super(t),this.type="local",this.origin=(0,s.vt)()}};(0,r._)([(0,u.e)({local:"local"},{readOnly:!0})],f.prototype,"type",void 0),(0,r._)([(0,c.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"origin",void 0),f=(0,r._)([(0,a.$)("esri.geometry.support.MeshLocalVertexSpace")],f);const l=f},5596:function(t,n,e){e.d(n,{C:function(){return l},Cr:function(){return m},Io:function(){return L},LV:function(){return f},O_:function(){return g},Qj:function(){return d},T7:function(){return O},Tj:function(){return P},U5:function(){return S},Ui:function(){return C},Z1:function(){return x},_I:function(){return R},b6:function(){return U},ci:function(){return b},fA:function(){return h},gv:function(){return N},lU:function(){return p},mN:function(){return F},mP:function(){return w},mR:function(){return T},vt:function(){return s},ze:function(){return _}});var r=e(15774),o=e(20551),i=e(32501),c=(e(33400),e(29531)),u=e(50973),a=e(76185);function s(t=V){return[t[0],t[1],t[2],t[3]]}function f(t=V[0],n=V[1],e=V[2],r=V[3]){return h(t,n,e,r,u.Km.get())}function l(t,n){return h(n[0],n[1],n[2],n[3],t)}function d(t){return t}function h(t,n,e,r,o=s()){return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o}function g(t,n,e){const r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],o=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return e[0]=n[0]*o,e[1]=n[1]*o,e[2]=n[2]*o,e[3]=-(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]),e}function m(t,n,e,r=s()){const o=e[0]-n[0],i=e[1]-n[1],c=e[2]-n[2],u=t[0]-n[0],a=t[1]-n[1],f=t[2]-n[2],l=i*f-c*a,d=c*u-o*f,h=o*a-i*u,g=l*l+d*d+h*h,m=Math.abs(g-1)>1e-5&&g>1e-12?1/Math.sqrt(g):1;return r[0]=l*m,r[1]=d*m,r[2]=h*m,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function p(t,n,e,r=0,i=Math.floor(e*(1/3)),c=Math.floor(e*(2/3))){if(e<3)return!1;n(y,r);let u=i,a=!1;for(;u<e-1&&!a;)n(A,u),u++,a=!(0,o.p)(y,A);if(!a)return!1;for(u=Math.max(u,c),a=!1;u<e&&!a;)n(M,u),u++,(0,o.d)(I,y,A),(0,o.n)(I,I),(0,o.d)(E,A,M),(0,o.n)(E,E),a=!(0,o.p)(y,M)&&!(0,o.p)(A,M)&&Math.abs((0,o.f)(I,E))<v;return a?(m(y,A,M,t),!0):(0!==r||1!==i||2!==c)&&p(t,n,e,0,1,2)}function b(t,n,e=!0){const r=n.length/3;return p(t,((t,e)=>(0,o.i)(t,n[3*e+0],n[3*e+1],n[3*e+2])),e?r-1:r)}const v=.99619469809,y=(0,i.vt)(),A=(0,i.vt)(),M=(0,i.vt)(),I=(0,i.vt)(),E=(0,i.vt)();function w(t,n,e){return n!==t&&l(t,n),t[3]=-(0,o.f)(t,e),t}function _(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n}function T(t,n,e,r){return(0,o.e)(M,n,t),g(e,M,r)}function S(t,n,e,r){return j(B(t,n,(0,o.d)(u.rq.get(),e,n),H,r))}function C(t,n,e){return null!=n&&j(B(t,n.origin,n.direction,k,e))}function O(t,n,e){return j(B(t,n.origin,n.vector,q.NONE,e))}function N(t,n,e){return j(B(t,n.origin,n.vector,q.CLAMP,e))}function P(t,n){return F(t,n)>=0}function U(t,n){const e=(0,o.f)(t,n.ray.direction),r=-F(t,n.ray.origin);if(e>-1e-6&&e<1e-6)return r>0;const i=r/e;return e>0?i<n.c1&&(n.c1=i):i>n.c0&&(n.c0=i),n.c0<=n.c1}function R(t,n,e){const r=(0,o.h)(u.rq.get(),t,-t[3]),i=function(t,n,e){const r=(0,o.h)(u.rq.get(),t,(0,o.f)(t,n));return(0,o.d)(e,n,r),e}(t,(0,o.d)(u.rq.get(),n,r),u.rq.get());return(0,o.g)(e,i,r),e}function x(t,n,e,r){const i=t,s=u.rq.get(),f=u.rq.get();(0,a.VV)(i,s,f);const l=(0,o.d)(u.rq.get(),e,n),d=(0,c.gr)(s,l),h=(0,c.gr)(f,l),g=(0,c.gr)(i,l);return(0,o.i)(r,d,h,g)}function L(t,n){return Math.abs(F(t,n))}function F(t,n){return(0,o.f)(t,n)+t[3]}var D,z;function j(t){return t===D.INTERSECTS_INSIDE_OUT||t===D.INTERSECTS_OUTSIDE_IN}function B(t,n,e,i,c){const u=(0,o.f)(t,e),a=F(t,n);if(0===u)return a>=0?D.INSIDE:D.OUTSIDE;let s=-a/u;return i&q.CLAMP&&(s=(0,r.qE)(s,0,1)),!(i&q.INFINITE_MIN)&&s<0||!(i&q.INFINITE_MAX)&&s>1?a>=0?D.INSIDE:D.OUTSIDE:((0,o.g)(c,n,(0,o.h)(c,e,s)),a>=0?D.INTERSECTS_INSIDE_OUT:D.INTERSECTS_OUTSIDE_IN)}(z=D||(D={}))[z.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",z[z.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",z[z.INSIDE=2]="INSIDE",z[z.OUTSIDE=3]="OUTSIDE";const V=[0,0,1,0];var q;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(q||(q={}));const H=q.INFINITE_MIN|q.INFINITE_MAX,k=q.INFINITE_MAX},79578:function(t,n,e){e.d(n,{C:function(){return l},Cr:function(){return d},LV:function(){return f},kb:function(){return h},oC:function(){return g},vt:function(){return a}}),e(50659);var r=e(89736),o=(e(44705),e(87725)),i=e(20551),c=e(32501),u=e(50973);function a(t){return t?s((0,c.o8)(t.origin),(0,c.o8)(t.direction)):s((0,c.vt)(),(0,c.vt)())}function s(t,n){return{origin:t,direction:n}}function f(t,n){const e=m.get();return e.origin=t,e.direction=n,e}function l(t,n=a()){return function(t,n,e=a()){return(0,i.c)(e.origin,t),(0,i.c)(e.direction,n),e}(t.origin,t.direction,n)}function d(t,n,e=a()){return(0,i.c)(e.origin,t),(0,i.d)(e.direction,n,t),e}function h(t,n){const e=(0,i.e)(u.rq.get(),(0,i.n)(u.rq.get(),t.direction),(0,i.d)(u.rq.get(),n,t.origin));return(0,i.f)(e,e)}function g(t,n,e){const r=(0,i.f)(t.direction,(0,i.d)(e,n,t.origin));return(0,i.g)(e,t.origin,(0,i.h)(e,t.direction,r)),e}const m=new r.I((()=>a()));(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,o.vt)()},29531:function(t,n,e){e.d(n,{EJ:function(){return s},_I:function(){return c},g7:function(){return a},gr:function(){return u}});var r=e(15774),o=e(20551),i=e(32501);function c(t,n,e){const r=(0,o.f)(t,n)/(0,o.f)(t,t);return(0,o.h)(e,t,r)}function u(t,n){return(0,o.f)(t,n)/(0,o.l)(t)}function a(t,n){const e=(0,o.f)(t,n)/((0,o.l)(t)*(0,o.l)(n));return-(0,r.XM)(e)}function s(t,n,e){(0,o.n)(f,t),(0,o.n)(l,n);const i=(0,o.f)(f,l),c=(0,r.XM)(i),u=(0,o.e)(f,f,l);return(0,o.f)(u,e)<0?2*Math.PI-c:c}const f=(0,i.vt)(),l=(0,i.vt)()},50973:function(t,n,e){e.d(n,{Rc:function(){return g},J8:function(){return m},oG:function(){return l},rq:function(){return d},Km:function(){return h}}),e(58941);var r=e(29601),o=e(87725),i=e(39714),c=e(61769),u=e(1932),a=e(32501),s=e(41546);class f{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new f(u.vt)}static createVec3f64(){return new f(a.vt)}static createVec4f64(){return new f(s.vt)}static createMat3f64(){return new f(o.vt)}static createMat4f64(){return new f(i.vt)}static createQuatf64(){return new f(c.vt)}get test(){}}const l=f.createVec2f64(),d=f.createVec3f64(),h=f.createVec4f64(),g=(f.createMat3f64(),f.createMat4f64()),m=f.createQuatf64()},46460:function(t,n,e){function r(t,n,e,r){return{x:t,y:n,z:e,hasZ:null!=e,hasM:!1,spatialReference:r,type:"point"}}function o(t,n,e,r,o){t.x=n,t.y=e,t.z=r,t.hasZ=null!=r,t.spatialReference=o}e.d(n,{J:function(){return o},T:function(){return r}})},90525:function(t,n,e){e.r(n),e.d(n,{destroyContext:function(){return _},dracoDecompressPointCloudData:function(){return y},filterObbsForModifications:function(){return A},filterObbsForModificationsSync:function(){return P},initialize:function(){return x},interpretObbModificationResults:function(){return N},process:function(){return v},project:function(){return E},setLegacySchema:function(){return I},setModifications:function(){return M},setModificationsSync:function(){return C},test:function(){return F},transformNormals:function(){return w}});var r,o,i=e(15774),c=e(57165),u=e(65907),a=e(20460),s=e(62693);!function(t){t[t.None=0]="None",t[t.Int16=1]="Int16",t[t.Int32=2]="Int32"}(r||(r={})),function(t){t[t.Replace=0]="Replace",t[t.Outside=1]="Outside",t[t.Inside=2]="Inside",t[t.Finished=3]="Finished"}(o||(o={}));var f=e(53216);function l(t){return(0,f.s)(`esri/libs/i3s/${t}`)}let d;var h,g,m,p,b;async function v(t){S=await L();const n=[t.geometryBuffer];return{result:O(S,t,n),transferList:n}}async function y(t){S=await L();const n=[t.geometryBuffer],{geometryBuffer:e}=t,r=e.byteLength,o=S._malloc(r),i=new Uint8Array(S.HEAPU8.buffer,o,r);i.set(new Uint8Array(e));const c=S.dracoDecompressPointCloudData(o,i.byteLength);if(S._free(o),c.error.length>0)throw new Error(`i3s.wasm: ${c.error}`);const u=c.featureIds?.length>0?c.featureIds.slice():null,a=c.positions.slice();return u&&n.push(u.buffer),n.push(a.buffer),{result:{positions:a,featureIds:u},transferList:n}}async function A(t){await L(),P(t);const n={buffer:t.buffer};return{result:n,transferList:[n.buffer]}}async function M(t){await L(),C(t)}async function I(t){S=await L(),S.setLegacySchema(t.context,t.jsonSchema)}async function E(t){const{localMatrix:n,origin:r,positions:o,vertexSpace:i}=t,s=c.A.fromJSON(t.inSpatialReference),f=c.A.fromJSON(t.outSpatialReference);let l;const[{projectBuffer:d},{initializeProjection:h}]=await Promise.all([Promise.resolve().then(e.bind(e,57617)),Promise.resolve().then(e.bind(e,46157))]);await h(s,f);const g=[0,0,0];if(!d(r,s,0,g,f,0))throw new Error("Failed to project");if("georeferenced"===i.type&&null==i.origin){if(l=new Float64Array(o.length),!d(o,s,0,l,f,0,l.length/3))throw new Error("Failed to project")}else{const t="georeferenced"===i.type?u.A.fromJSON(i):a.A.fromJSON(i),{projectMeshVertexPositions:r}=await e.e(5959).then(e.bind(e,47797)),c=r({vertexAttributes:{position:o},transform:n?{localMatrix:n}:void 0,vertexSpace:t,spatialReference:s},f);if(!c)throw new Error("Failed to project");l=c}const m=l.length,[p,b,v]=g;for(let t=0;t<m;t+=3)l[t]-=p,l[t+1]-=b,l[t+2]-=v;return{result:{projected:l,original:o,projectedOrigin:g},transferList:[l.buffer,o.buffer]}}async function w({normalMatrix:t,normals:n}){const e=new Float32Array(n.length);return(0,s.b)(e,n,t),(0,i.or)(t)&&(0,s.n)(e,e),{result:{transformed:e,original:n},transferList:[e.buffer,n.buffer]}}function _(t){U(t)}let T,S;function C(t){if(!S)return;const n=t.modifications,e=S._malloc(8*n.length),r=new Float64Array(S.HEAPU8.buffer,e,n.length);for(let t=0;t<n.length;++t)r[t]=n[t];S.setModifications(t.context,e,n.length,t.isGeodetic),S._free(e)}function O(t,n,e){const{context:o,globalTrafo:i,mbs:c,obbData:u,elevationOffset:a,geometryBuffer:s,geometryDescriptor:f,indexToVertexProjector:l,vertexToRenderProjector:d}=n,h=t._malloc(s.byteLength),g=t._malloc(33*Float64Array.BYTES_PER_ELEMENT),m=new Uint8Array(t.HEAPU8.buffer,h,s.byteLength);m.set(new Uint8Array(s));const p=new Float64Array(t.HEAPU8.buffer,g,33);R(p,[NaN,NaN,NaN]);let b=p.byteOffset+3*p.BYTES_PER_ELEMENT,v=new Float64Array(p.buffer,b);R(v,i),b+=16*p.BYTES_PER_ELEMENT,v=new Float64Array(p.buffer,b),R(v,c),b+=4*p.BYTES_PER_ELEMENT,u&&(v=new Float64Array(p.buffer,b),R(v,u));const y=f,A={isDraco:!1,isLegacy:!1,color:n.layouts.some((t=>t.some((t=>"color"===t.name)))),normal:n.needNormals&&n.layouts.some((t=>t.some((t=>"normalCompressed"===t.name)))),uv0:n.layouts.some((t=>t.some((t=>"uv0"===t.name)))),uvRegion:n.layouts.some((t=>t.some((t=>"uvRegion"===t.name)))),featureIndex:y.featureIndex},M=t.process(o,!!n.obbData,h,m.byteLength,y,A,g,a,l,d,n.normalReferenceFrame);if(t._free(g),t._free(h),M.error.length>0)throw new Error(`i3s.wasm: ${M.error}`);if(M.discarded)return null;const I=M.componentOffsets.length>0?M.componentOffsets.slice():null,E=M.featureIds.length>0?M.featureIds.slice():null,w=M.anchorIds.length>0?Array.from(M.anchorIds):null,_=M.anchors.length>0?Array.from(M.anchors):null,T=M.interleavedVertedData.slice().buffer,S=M.indicesType===r.Int16?new Uint16Array(M.indices.buffer,M.indices.byteOffset,M.indices.byteLength/2).slice():new Uint32Array(M.indices.buffer,M.indices.byteOffset,M.indices.byteLength/4).slice(),C=M.positions.slice(),O=M.positionIndicesType===r.Int16?new Uint16Array(M.positionIndices.buffer,M.positionIndices.byteOffset,M.positionIndices.byteLength/2).slice():new Uint32Array(M.positionIndices.buffer,M.positionIndices.byteOffset,M.positionIndices.byteLength/4).slice(),N={layout:n.layouts[0],interleavedVertexData:T,indices:S,hasColors:M.hasColors,hasModifications:M.hasModifications,positionData:{data:C,indices:O}};return E&&e.push(E.buffer),I&&e.push(I.buffer),e.push(T),e.push(S.buffer),e.push(C.buffer),e.push(O.buffer),{componentOffsets:I,featureIds:E,anchorIds:w,anchors:_,transformedGeometry:N,obb:M.obb,globalTrafo:i}}function N(t){return 0===t?g.Unmodified:1===t?g.PotentiallyModified:2===t?g.Culled:g.Unknown}function P(t){if(!S)return;const{context:n,buffer:e}=t,r=S._malloc(e.byteLength),o=e.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(S.HEAPU8.buffer,r,o),c=new Float64Array(e);i.set(c),S.filterOBBs(n,r,o),c.set(i),S._free(r)}function U(t){S&&0===S.destroy(t)&&(S=null)}function R(t,n){for(let e=0;e<n.length;++e)t[e]=n[e]}async function x(){S||await L()}function L(){return S?Promise.resolve(S):(T||(T=(d||(d=new Promise((t=>e.e(1845).then(e.bind(e,47805)).then((t=>t.i)).then((({default:n})=>{const e=n({locateFile:l,onRuntimeInitialized:()=>t(e)});delete e.then})))).catch((t=>{throw t}))),d).then((t=>(S=t,T=null,S)))),T)}e(41546),e(13794),e(41185),function(t){t[t.Unmodified=0]="Unmodified",t[t.Culled=1]="Culled",t[t.NotChecked=2]="NotChecked"}(h||(h={})),function(t){t[t.Unmodified=0]="Unmodified",t[t.PotentiallyModified=1]="PotentiallyModified",t[t.Culled=2]="Culled",t[t.Unknown=3]="Unknown",t[t.NotChecked=4]="NotChecked"}(g||(g={})),function(t){t[t.Unknown=0]="Unknown",t[t.Uncached=1]="Uncached",t[t.Cached=2]="Cached"}(m||(m={})),function(t){t[t.None=0]="None",t[t.MaxScreenThreshold=1]="MaxScreenThreshold",t[t.ScreenSpaceRelative=2]="ScreenSpaceRelative",t[t.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",t[t.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(p||(p={})),function(t){t[t.Hole=0]="Hole",t[t.Leaf=1]="Leaf"}(b||(b={}));const F={transform:(t,n)=>S&&O(S,t,n),destroy:U}},33188:function(t,n,e){e.d(n,{MA:function(){return d},m0:function(){return b},wH:function(){return m}});var r=e(39819),o=e(21609),i=e(40633),c=e(40131),u=e(65839);const a=()=>i.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function s(t,n,e){let o="",i=0;for(;i<e;){const c=t[n+i];if(c<128)o+=String.fromCharCode(c),i++;else if(c>=192&&c<224){if(i+1>=e)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const u=(31&c)<<6|63&t[n+i+1];o+=String.fromCharCode(u),i+=2}else if(c>=224&&c<240){if(i+2>=e)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(15&c)<<12|(63&t[n+i+1])<<6|63&t[n+i+2];o+=String.fromCharCode(u),i+=3}else{if(!(c>=240&&c<248))throw new r.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=e)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(7&c)<<18|(63&t[n+i+1])<<12|(63&t[n+i+2])<<6|63&t[n+i+3];if(u>=65536){const t=55296+(u-65536>>10),n=56320+(1023&u);o+=String.fromCharCode(t,n)}else o+=String.fromCharCode(u);i+=4}}}return o}function f(t,n){const e={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<n.length;o++){const i=n[o],c=i.valueType||i.type,u=y[c];e.fields[i.property]=u(t,r),r+=v[c].BYTES_PER_ELEMENT}return e.byteCount=r,e}function l(t,n,e){const o=[];let i,c,u=0;for(c=0;c<t;c+=1){if(i=n[c],i>0){if(o.push(s(e,u,i-1)),0!==e[u+i-1])throw new r.A("string-array-error","Invalid string array: missing null termination.")}else o.push(null);u+=i}return o}function d(t,n){return new(0,v[n.valueType])(t,n.byteOffset,n.count*n.valuesPerElement)}function h(t,n,e){const i=null!=n.header?f(t,n.header):{byteOffset:0,byteCount:0,fields:{count:e}},c={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let u=i.byteCount;for(let t=0;t<n.ordering.length;t++){const e=n.ordering[t],a=(0,o.o8)(n[e]);if(a.count=i.fields.count??0,"String"===a.valueType){if(a.byteOffset=u,a.byteCount=i.fields[e+"ByteCount"],"UTF-8"!==a.encoding)throw new r.A("unsupported-encoding","Unsupported String encoding.",{encoding:a.encoding});if(a.timeEncoding&&"ECMA_ISO8601"!==a.timeEncoding)throw new r.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:a.timeEncoding})}else{if(!A(a.valueType))throw new r.A("unsupported-value-type","Unsupported binary valueType",{valueType:a.valueType});{const t=M(a.valueType);u+=u%t!=0?t-u%t:0,a.byteOffset=u,a.byteCount=t*a.valuesPerElement*a.count}}u+=a.byteCount??0,c.entries[e]=a}return c.byteCount=u-c.byteOffset,c}function g(t,n,e){if(n!==t&&a().error(`Invalid ${e} buffer size\n expected: ${t}, actual: ${n})`),n<t)throw new r.A("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:n})}function m(t,n){const e=f(t,n&&n.header);let r=e.byteCount;const o={isDraco:!1,header:e,byteOffset:e.byteCount,byteCount:0,vertexAttributes:{}},i=e.fields,c=null!=i.vertexCount?i.vertexCount:i.count;for(const t of n.ordering){if(!n.vertexAttributes[t])continue;const e={...n.vertexAttributes[t],byteOffset:r,count:c},i=p[t]||"_"+t;o.vertexAttributes[i]=e,r+=M(e.valueType)*e.valuesPerElement*c}const u=i.faceCount;if(n.faces&&u){o.faces={};for(const t of n.ordering){if(!n.faces[t])continue;const e={...n.faces[t],byteOffset:r,count:u};o.faces[t]=e,r+=M(e.valueType)*e.valuesPerElement*u}}const a=i.featureCount;if(n.featureAttributes&&n.featureAttributeOrder&&a){o.featureAttributes={};for(const t of n.featureAttributeOrder){if(!n.featureAttributes[t])continue;const e={...n.featureAttributes[t],byteOffset:r,count:a};o.featureAttributes[t]=e,r+=("UInt64"===e.valueType?8:M(e.valueType))*e.valuesPerElement*a}}return g(r,t.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}const p={position:u.r.POSITION,normal:u.r.NORMAL,color:u.r.COLOR,uv0:u.r.UV0,region:u.r.UVREGION};function b(t,n,e){if("lepcc-rgb"===t.encoding)return(0,c.mb)(n);if("lepcc-intensity"===t.encoding)return(0,c.Ax)(n);if(null!=t.encoding&&""!==t.encoding)throw new r.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(a().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(a().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const o=h(n,t,e);g(o.byteOffset+o.byteCount,n.byteLength,"attribute");const i=o.entries.attributeValues||o.entries.objectIds;if(i){if("String"===i.valueType){const t=o.entries.attributeByteCounts,e=d(n,t),r=function(t,n){return new Uint8Array(t,n.byteOffset,n.byteCount)}(n,i);return i.timeEncoding?function(t,n,e){return l(t,n,e).map((t=>{const n=t?Date.parse(t):null;return null==n||Number.isNaN(n)?null:n}))}(t.count,e,r):l(t.count,e,r)}return d(n,i)}throw new r.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const v={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},y={Float32:(t,n)=>new DataView(t,0).getFloat32(n,!0),Float64:(t,n)=>new DataView(t,0).getFloat64(n,!0),UInt8:(t,n)=>new DataView(t,0).getUint8(n),Int8:(t,n)=>new DataView(t,0).getInt8(n),UInt16:(t,n)=>new DataView(t,0).getUint16(n,!0),Int16:(t,n)=>new DataView(t,0).getInt16(n,!0),UInt32:(t,n)=>new DataView(t,0).getUint32(n,!0),Int32:(t,n)=>new DataView(t,0).getInt32(n,!0)};function A(t){return v.hasOwnProperty(t)}function M(t){return A(t)?v[t].BYTES_PER_ELEMENT:0}},41185:function(t,n,e){e.d(n,{Q7:function(){return b},s1:function(){return h}}),e(50917);var r=e(93040),o=(e(50659),e(39819),e(58941),e(24540)),i=(e(73364),e(39714)),c=(e(20551),e(32501)),u=(e(46157),e(68734),e(87416)),a=(e(13794),e(7926),e(33188));e(61714),e(7456);var s,f,l=e(26586),d=(e(9933),e(89765));async function h(t,n,e,o,i,c,u,s){const f=[];for(const r of n)if(r&&i.includes(r.name)){const n=`${t}/nodes/${e}/attributes/${r.key}/0`;f.push({url:n,storageInfo:r})}const l=await Promise.allSettled(f.map((t=>(0,r.A)(t.url,{responseType:"array-buffer",query:{...u,token:c},signal:s?.signal}).then((n=>(0,a.m0)(t.storageInfo,n.data)))))),d=[];for(const t of o){const n={};for(let e=0;e<l.length;e++){const r=l[e];if("fulfilled"===r.status){const o=r.value;n[f[e].storageInfo.name]=p(o,t)}}d.push(n)}return d}e(39715),e(57165),(0,u.vt)(),(f=s||(s={}))[f.OUTSIDE=0]="OUTSIDE",f[f.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",f[f.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",f[f.INSIDE=3]="INSIDE";const g=-32768,m=-(2**31);function p(t,n){if(!t)return null;const e=t[n];return(0,o.IY)(t)?e===g?null:e:(0,o._G)(t)?e===m?null:e:e!=e?null:e}function b(t){null!=t&&(t[3]=-1)}(0,l.CC)({color:[0,0,0,0],opacity:0}),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,u.vt)(),(0,u.vt)(),new d.ab,(0,c.vt)(),new Array(72),(0,i.vt)()},40131:function(t,n,e){e.d(n,{Ax:function(){return b},Me:function(){return s},mb:function(){return g}});var r=e(39819);const o=!0,i={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function c(t,n,e){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,e+i.identifierOffset,i.identifierLength)),version:n.getUint16(e+i.versionOffset,o),checksum:n.getUint32(e+i.checksumOffset,o)}}const u={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function a(t,n){return{sizeLo:t.getUint32(n+u.sizeLo,o),sizeHi:t.getUint32(n+u.sizeHi,o),minX:t.getFloat64(n+u.minX,o),minY:t.getFloat64(n+u.minY,o),minZ:t.getFloat64(n+u.minZ,o),maxX:t.getFloat64(n+u.maxX,o),maxY:t.getFloat64(n+u.maxY,o),maxZ:t.getFloat64(n+u.maxZ,o),errorX:t.getFloat64(n+u.errorX,o),errorY:t.getFloat64(n+u.errorY,o),errorZ:t.getFloat64(n+u.errorZ,o),count:t.getUint32(n+u.count,o),reserved:t.getUint32(n+u.reserved,o)}}function s(t){const n=new DataView(t,0);let e=0;const{identifier:o,version:s}=c(t,n,e);if(e+=i.byteCount,"LEPCC     "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(s>1)throw new r.A("lepcc-decode-error","Unknown version");const l=a(n,e);if(e+=u.byteCount,l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const d=new Float64Array(3*l.count),h=[],g=[],m=[],p=[];if(e=f(t,e,h),e=f(t,e,g),e=f(t,e,m),e=f(t,e,p),e!==t.byteLength)throw new r.A("lepcc-decode-error","Bad length");let b=0,v=0;for(let t=0;t<h.length;t++){v+=h[t];let n=0;for(let e=0;e<g[t];e++){n+=m[b];const t=p[b];d[3*b]=Math.min(l.maxX,l.minX+2*l.errorX*n),d[3*b+1]=Math.min(l.maxY,l.minY+2*l.errorY*v),d[3*b+2]=Math.min(l.maxZ,l.minZ+2*l.errorZ*t),b++}}return{errorX:l.errorX,errorY:l.errorY,errorZ:l.errorZ,result:d}}function f(t,n,e){const r=[];n=l(t,n,r);const o=[];for(let i=0;i<r.length;i++){o.length=0,n=l(t,n,o);for(let t=0;t<o.length;t++)e.push(o[t]+r[i])}return n}function l(t,n,e){const i=new DataView(t,n),c=i.getUint8(0),u=31&c,a=!!(32&c),s=(192&c)>>6;let f=0;if(0===s)f=i.getUint32(1,o),n+=5;else if(1===s)f=i.getUint16(1,o),n+=3;else{if(2!==s)throw new r.A("lepcc-decode-error","Bad count type");f=i.getUint8(1),n+=2}if(a)throw new r.A("lepcc-decode-error","LUT not implemented");const l=Math.ceil(f*u/8),d=new Uint8Array(t,n,l);let h=0,g=0,m=0;const p=-1>>>32-u;for(let t=0;t<f;t++){for(;g<u;)h|=d[m]<<g,g+=8,m+=1;e[t]=h&p,h>>>=u,g-=u,g+u>32&&(h|=d[m-1]>>8-g)}return n+m}const d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function h(t,n){return{sizeLo:t.getUint32(n+d.sizeLo,o),sizeHi:t.getUint32(n+d.sizeHi,o),count:t.getUint32(n+d.count,o),colorMapCount:t.getUint16(n+d.colorMapCount,o),lookupMethod:t.getUint8(n+d.lookupMethod),compressionMethod:t.getUint8(n+d.compressionMethod)}}function g(t){const n=new DataView(t,0);let e=0;const{identifier:o,version:u}=c(t,n,e);if(e+=i.byteCount,"ClusterRGB"!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(u>1)throw new r.A("lepcc-decode-error","Unknown version");const a=h(n,e);if(e+=d.byteCount,a.sizeHi*2**32+a.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");if((2===a.lookupMethod||1===a.lookupMethod)&&0===a.compressionMethod){if(3*a.colorMapCount+a.count+e!==t.byteLength||a.colorMapCount>256)throw new r.A("lepcc-decode-error","Bad count");const n=new Uint8Array(t,e,3*a.colorMapCount),o=new Uint8Array(t,e+3*a.colorMapCount,a.count),i=new Uint8Array(3*a.count);for(let t=0;t<a.count;t++){const e=o[t];i[3*t]=n[3*e],i[3*t+1]=n[3*e+1],i[3*t+2]=n[3*e+2]}return i}if(0===a.lookupMethod&&0===a.compressionMethod){if(3*a.count+e!==t.byteLength||0!==a.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");return new Uint8Array(t,e).slice()}if(a.lookupMethod<=2&&1===a.compressionMethod){if(e+3!==t.byteLength||1!==a.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");const o=n.getUint8(e),i=n.getUint8(e+1),c=n.getUint8(e+2),u=new Uint8Array(3*a.count);for(let t=0;t<a.count;t++)u[3*t]=o,u[3*t+1]=i,u[3*t+2]=c;return u}throw new r.A("lepcc-decode-error","Bad method "+a.lookupMethod+","+a.compressionMethod)}const m={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function p(t,n){return{sizeLo:t.getUint32(n+m.sizeLo,o),sizeHi:t.getUint32(n+m.sizeHi,o),count:t.getUint32(n+m.count,o),scaleFactor:t.getUint16(n+m.scaleFactor,o),bitsPerPoint:t.getUint8(n+m.bitsPerPoint),reserved:t.getUint8(n+m.reserved)}}function b(t){const n=new DataView(t,0);let e=0;const{identifier:o,version:u}=c(t,n,e);if(e+=i.byteCount,"Intensity "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(u>1)throw new r.A("lepcc-decode-error","Unknown version");const a=p(n,e);if(e+=m.byteCount,a.sizeHi*2**32+a.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const s=new Uint16Array(a.count);if(8===a.bitsPerPoint){if(a.count+e!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const n=new Uint8Array(t,e,a.count);for(let t=0;t<a.count;t++)s[t]=n[t]*a.scaleFactor}else if(16===a.bitsPerPoint){if(2*a.count+e!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const n=new Uint16Array(t,e,a.count);for(let t=0;t<a.count;t++)s[t]=n[t]*a.scaleFactor}else{const n=[];if(l(t,e,n)!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");for(let t=0;t<a.count;t++)s[t]=n[t]*a.scaleFactor}return s}},26586:function(t,n,e){e.d(n,{Cc:function(){return h},CC:function(){return g},RF:function(){return d}});var r,o,i,c,u=e(52874),a=(e(58941),e(13520)),s=e(41546),f=e(33753),l=(e(82547),e(5161),e(77222),e(27264),e(52766),e(41356),e(65312));function d(t){return t&&t.enabled&&("extrude"===t.type||function(t){return"fill"===t.type}(t))&&null!=t.edges}function h(t,n){return function(t,n){if(null==t)return null;const e=null!=t.color?(0,s.ci)(u.A.toUnitRGBA(t.color)):(0,s.fA)(0,0,0,0),r=(0,a.Lz)(t.size),o=(0,a.Lz)(t.extensionLength);switch(t.type){case"solid":return g({color:e,size:r,extensionLength:o,...n});case"sketch":return function(t){return{...p,...t,type:i.Sketch}}({color:e,size:r,extensionLength:o,...n});default:return}}(function(t){return t&&t.enabled&&t.edges||null}(t),n)}function g(t){return{...m,...t,type:i.Solid}}e(54516),l.n,e(39506),e(40075),e(39534),e(65839),(o=r||(r={}))[o.Uniform=0]="Uniform",o[o.Varying=1]="Varying",o[o.COUNT=2]="COUNT",e(11377),e(90576),e(4435),e(82598),e(14543),e(31190),e(78567),e(70340),function(t){t[t.Solid=0]="Solid",t[t.Sketch=1]="Sketch",t[t.Mixed=2]="Mixed",t[t.COUNT=3]="COUNT"}(i||(i={})),function(t){t[t.REGULAR=0]="REGULAR",t[t.SILHOUETTE=1]="SILHOUETTE"}(c||(c={}));const m={color:(0,s.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:f.x.OPAQUE,hasSlicePlane:!1},p={color:(0,s.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:f.x.OPAQUE,hasSlicePlane:!1}},9933:function(t,n,e){e.d(n,{Eb:function(){return c},_j:function(){return u},k5:function(){return r}});var r,o,i=e(15774);function c(t){switch(t){case"multiply":default:return r.Multiply;case"ignore":return r.Ignore;case"replace":return r.Replace;case"tint":return r.Tint}}function u(t,n,e){if(null==t||n===r.Ignore)return e[0]=255,e[1]=255,e[2]=255,void(e[3]=255);const o=(0,i.qE)(Math.round(t[3]*s),0,s),c=0===o||n===r.Tint?0:n===r.Replace?f:l;e[0]=(0,i.qE)(Math.round(t[0]*a),0,a),e[1]=(0,i.qE)(Math.round(t[1]*a),0,a),e[2]=(0,i.qE)(Math.round(t[2]*a),0,a),e[3]=o+c}(o=r||(r={}))[o.Multiply=1]="Multiply",o[o.Ignore=2]="Ignore",o[o.Replace=3]="Replace",o[o.Tint=4]="Tint";const a=255,s=85,f=s,l=2*s},76185:function(t,n,e){e.d(n,{VV:function(){return u},hG:function(){return i},wp:function(){return c}}),e(15774);var r=e(20551),o=e(32501);function i(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],e=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,e,r))}function c(t,n){const e=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),o=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),i=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,r.i)(t,e,o,i),t}function u(t,n,e){Math.abs(t[0])>Math.abs(t[1])?(0,r.i)(n,0,1,0):(0,r.i)(n,1,0,0),(0,r.e)(e,t,n),(0,r.e)(n,e,t),(0,r.n)(e,e),(0,r.n)(n,n)}(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,o.vt)()},89765:function(t,n,e){e.d(n,{ab:function(){return At},gm:function(){return Nt}});var r=e(44705),o=e(87725),i=e(39714),c=e(32237),u=e(61769),a=e(20551),s=e(32501),f=e(33400),l=e(41546),d=e(61714),h=e(96611),g=e(7456),m=e(57617),p=e(61441),b=e(5596),v=e(57652),y=e(50973),A=e(65420),M=e(1932),I=e(14905);const E=1e-6,w=(0,s.vt)(),_=(0,s.vt)();function T(t,n,e,r,o,i,c,u,a,s){return function(t,n,e){let r=vt(t.maxVert[0],t.minVert[0]),o=0;for(let n=1;n<7;++n){const e=vt(t.maxVert[n],t.minVert[n]);e>r&&(r=e,o=n)}gt(n,t.minVert[o]),gt(e,t.maxVert[o])}(t,r,o),vt(r,o)<E?1:(dt(c,r,o),pt(c,c),function(t,n,e,r){const{data:o,size:i}=t;let c=Number.NEGATIVE_INFINITY,u=0;for(let t=0;t<o.length;t+=i){F[0]=o[t]-n[0],F[1]=o[t+1]-n[1],F[2]=o[t+2]-n[2];const r=e[0]*F[0]+e[1]*F[1]+e[2]*F[2],i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=F[0]*F[0]+F[1]*F[1]+F[2]*F[2]-r*r/i;a>c&&(c=a,u=t)}return gt(r,o,u),c}(n,r,c,i)<E?2:(dt(u,o,i),pt(u,u),dt(a,i,r),pt(a,a),mt(e,u,c),pt(e,e),k(n,e,c,u,a,s),0))}const S=(0,s.vt)(),C=(0,s.vt)(),O=(0,s.vt)(),N=(0,s.vt)(),P=(0,s.vt)(),U=(0,s.vt)(),R=(0,s.vt)(),x=(0,s.vt)();function L(t,n,e,r,o,i,c,u,a){(function(t,n,e,r,o){!function(t,n,e,r,o){const{data:i,size:c}=t;gt(r,i),gt(o,r),e[0]=yt(Y,n),e[1]=e[0];for(let t=c;t<i.length;t+=c){const c=i[t]*n[0]+i[t+1]*n[1]+i[t+2]*n[2];c<e[0]&&(e[0]=c,gt(r,i,t)),c>e[1]&&(e[1]=c,gt(o,i,t))}}(t,n,D,o,r);const i=yt(e,n);D[1]-E<=i&&(r[0]=void 0),D[0]+E>=i&&(o[0]=void 0)})(t,n,e,S,C),void 0!==S[0]&&(dt(O,S,e),pt(O,O),dt(N,S,r),pt(N,N),dt(P,S,o),pt(P,P),mt(U,N,i),pt(U,U),mt(R,P,c),pt(R,R),mt(x,O,u),pt(x,x),k(t,U,i,N,O,a),k(t,R,c,P,N,a),k(t,x,u,O,P,a)),void 0!==C[0]&&(dt(O,C,e),pt(O,O),dt(N,C,r),pt(N,N),dt(P,C,o),pt(P,P),mt(U,N,i),pt(U,U),mt(R,P,c),pt(R,R),mt(x,O,u),pt(x,x),k(t,U,i,N,O,a),k(t,R,c,P,N,a),k(t,x,u,O,P,a))}const F=[0,0,0],D=(0,M.vt)(),z=(0,s.vt)(),j=(0,s.vt)(),B=(0,s.vt)(),V=(0,s.vt)(),q=(0,s.vt)(),H=(0,s.vt)();function k(t,n,e,r,o,i){if(bt(n)<E)return;mt(z,e,n),mt(j,r,n),mt(B,o,n),X(t,n,D),q[1]=D[0],V[1]=D[1],H[1]=V[1]-q[1];const c=[e,r,o],u=[z,j,B];for(let e=0;e<3;++e){X(t,c[e],D),q[0]=D[0],V[0]=D[1],X(t,u[e],D),q[2]=D[0],V[2]=D[1],H[0]=V[0]-q[0],H[2]=V[2]-q[2];const r=ft(H);r<i.quality&&(gt(i.b0,c[e]),gt(i.b1,n),gt(i.b2,u[e]),i.quality=r)}}const Y=(0,s.vt)();function X(t,n,e){const{data:r,size:o}=t;e[0]=Number.POSITIVE_INFINITY,e[1]=Number.NEGATIVE_INFINITY;for(let t=0;t<r.length;t+=o){const o=r[t]*n[0]+r[t+1]*n[1]+r[t+2]*n[2];e[0]=Math.min(e[0],o),e[1]=Math.max(e[1],o)}}function G(t,n,e){e.center=t,e.halfSize=(0,a.h)(n,n,.5),e.quaternion=u.zK}const Z=(0,s.vt)(),Q=(0,s.vt)(),W=(0,s.vt)(),$=(0,s.vt)(),J=(0,s.vt)(),K=(0,s.vt)();function tt(t,n,e){gt(Z,n),Math.abs(n[0])>Math.abs(n[1])&&Math.abs(n[0])>Math.abs(n[2])?Z[0]=0:Math.abs(n[1])>Math.abs(n[2])?Z[1]=0:Z[2]=0,bt(Z)<E&&(Z[0]=Z[1]=Z[2]=1),mt(Q,n,Z),pt(Q,Q),mt(W,n,Q),pt(W,W),nt(t,n,Q,W,$,J),dt(K,J,$),ut(n,Q,W,$,J,K,e)}function nt(t,n,e,r,o,i){X(t,n,D),o[0]=D[0],i[0]=D[1],X(t,e,D),o[1]=D[0],i[1]=D[1],X(t,r,D),o[2]=D[0],i[2]=D[1]}const et=(0,s.vt)(),rt=(0,s.vt)(),ot=(0,s.vt)(),it=(0,o.fA)(1,0,0,0,1,0,0,0,1),ct=(0,u.vt)();function ut(t,n,e,r,o,i,c){it[0]=t[0],it[1]=t[1],it[2]=t[2],it[3]=n[0],it[4]=n[1],it[5]=n[2],it[6]=e[0],it[7]=e[1],it[8]=e[2],c.quaternion=function(t,n){const e=n[0]+n[4]+n[8];if(e>0){let r=Math.sqrt(e+1);t[3]=.5*r,r=.5/r,t[0]=(n[5]-n[7])*r,t[1]=(n[6]-n[2])*r,t[2]=(n[1]-n[3])*r}else{let e=0;n[4]>n[0]&&(e=1),n[8]>n[3*e+e]&&(e=2);const r=(e+1)%3,o=(e+2)%3;let i=Math.sqrt(n[3*e+e]-n[3*r+r]-n[3*o+o]+1);t[e]=.5*i,i=.5/i,t[3]=(n[3*r+o]-n[3*o+r])*i,t[r]=(n[3*r+e]+n[3*e+r])*i,t[o]=(n[3*o+e]+n[3*e+o])*i}return t}(ct,it),lt(et,r,o),ht(et,et,.5),ht(rt,t,et[0]),ht(ot,n,et[1]),lt(rt,rt,ot),ht(ot,e,et[2]),c.center=(0,a.g)(rt,rt,ot),c.halfSize=(0,a.h)(et,i,.5)}class at{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7),this.buffer=new ArrayBuffer(448);let n=0;this.minProj=new Float64Array(this.buffer,n,7),n+=56,this.maxProj=new Float64Array(this.buffer,n,7),n+=56;for(let t=0;t<7;++t)this.minVert[t]=new Float64Array(this.buffer,n,3),n+=24;for(let t=0;t<7;++t)this.maxVert[t]=new Float64Array(this.buffer,n,3),n+=24;for(let t=0;t<7;++t)this.minProj[t]=Number.POSITIVE_INFINITY,this.maxProj[t]=Number.NEGATIVE_INFINITY;const e=new Array(7),r=new Array(7),{data:o,size:i}=t;for(let t=0;t<o.length;t+=i){let n=o[t];n<this.minProj[0]&&(this.minProj[0]=n,e[0]=t),n>this.maxProj[0]&&(this.maxProj[0]=n,r[0]=t),n=o[t+1],n<this.minProj[1]&&(this.minProj[1]=n,e[1]=t),n>this.maxProj[1]&&(this.maxProj[1]=n,r[1]=t),n=o[t+2],n<this.minProj[2]&&(this.minProj[2]=n,e[2]=t),n>this.maxProj[2]&&(this.maxProj[2]=n,r[2]=t),n=o[t]+o[t+1]+o[t+2],n<this.minProj[3]&&(this.minProj[3]=n,e[3]=t),n>this.maxProj[3]&&(this.maxProj[3]=n,r[3]=t),n=o[t]+o[t+1]-o[t+2],n<this.minProj[4]&&(this.minProj[4]=n,e[4]=t),n>this.maxProj[4]&&(this.maxProj[4]=n,r[4]=t),n=o[t]-o[t+1]+o[t+2],n<this.minProj[5]&&(this.minProj[5]=n,e[5]=t),n>this.maxProj[5]&&(this.maxProj[5]=n,r[5]=t),n=o[t]-o[t+1]-o[t+2],n<this.minProj[6]&&(this.minProj[6]=n,e[6]=t),n>this.maxProj[6]&&(this.maxProj[6]=n,r[6]=t)}for(let t=0;t<7;++t){let n=e[t];gt(this.minVert[t],o,n),n=r[t],gt(this.maxVert[t],o,n)}}}class st{constructor(){this.b0=(0,s.fA)(1,0,0),this.b1=(0,s.fA)(0,1,0),this.b2=(0,s.fA)(0,0,1),this.quality=0}}function ft(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function lt(t,n,e){t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2]}function dt(t,n,e){t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2]}function ht(t,n,e){t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e}function gt(t,n,e=0){t[0]=n[e],t[1]=n[e+1],t[2]=n[e+2]}function mt(t,n,e){const r=n[0],o=n[1],i=n[2],c=e[0],u=e[1],a=e[2];t[0]=o*a-i*u,t[1]=i*c-r*a,t[2]=r*u-o*c}function pt(t,n){const e=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];if(e>0){const r=1/Math.sqrt(e);t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r}}function bt(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function vt(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2];return e*e+r*r+o*o}function yt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}class At{constructor(t=s.uY,n=kt,e=u.zK){this._data=[t[0],t[1],t[2],n[0],n[1],n[2],e[0],e[1],e[2],e[3]]}clone(){const t=new At;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const n=new At;return n._data=t.slice(),n}static fromJSON(t){return new At(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,a.i)(y.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,n,e){this._data[0]=t,this._data[1]=n,this._data[2]=e}get halfSize(){return(0,a.i)(y.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,c.hZ)(y.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const n=Mt,e=this._data;n[0]=e[6],n[1]=e[7],n[2]=e[8],n[3]=e[9];for(let r=0;r<8;++r){const o=t[r];o[0]=(1&r?-1:1)*e[3],o[1]=(2&r?-1:1)*e[4],o[2]=(4&r?-1:1)*e[5],(0,a.w)(o,o,n),o[0]+=e[0],o[1]+=e[1],o[2]+=e[2]}}doesIntersectFrustumConservativeApproximation(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],n=this._data[4],e=this._data[5];return Math.sqrt(t*t+n*n+e*e)}intersectSphere(t){wt[0]=this._data[0]-t[0],wt[1]=this._data[1]-t[1],wt[2]=this._data[2]-t[2];const n=this.getQuaternion(It);return(0,c.Xr)(Mt,n),(0,a.w)(wt,wt,Mt),(0,a.x)(wt,wt),_t[0]=Math.min(wt[0],this._data[3]),_t[1]=Math.min(wt[1],this._data[4]),_t[2]=Math.min(wt[2],this._data[5]),(0,a.y)(_t,wt)<t[3]*t[3]}intersectSphereWithMBS(t,n=this.radius){const e=this._data;wt[0]=e[0]-t[0],wt[1]=e[1]-t[1],wt[2]=e[2]-t[2];const r=t[3],o=r+n;return!((0,a.z)(wt)>o*o)&&(Mt[0]=-e[6],Mt[1]=-e[7],Mt[2]=-e[8],Mt[3]=e[9],(0,a.w)(wt,wt,Mt),(0,a.x)(wt,wt),_t[0]=Math.min(wt[0],e[3]),_t[1]=Math.min(wt[1],e[4]),_t[2]=Math.min(wt[2],e[5]),(0,a.y)(_t,wt)<r*r)}intersectPlane(t){const n=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],e=this.projectedRadius((0,b.Qj)(t));return n>e?1:n<-e?-1:0}intersectRay(t,n,e=0){const r=this._data,o=Mt;o[0]=-r[6],o[1]=-r[7],o[2]=-r[8],o[3]=r[9],wt[0]=t[0]-r[0],wt[1]=t[1]-r[1],wt[2]=t[2]-r[2];const i=(0,a.w)(wt,wt,Mt),c=(0,a.w)(_t,n,Mt);let u=-1/0,s=1/0;const f=this.getHalfSize(Dt);for(let t=0;t<3;t++){const n=i[t],r=c[t],o=f[t]+e;if(Math.abs(r)>1e-6){const t=(o-n)/r,e=(-o-n)/r;u=Math.max(u,Math.min(t,e)),s=Math.min(s,Math.max(t,e))}else if(n>o||n<-o)return!1}return u<=s}projectedArea(t,n,e,o){const i=this.getQuaternion(It);(0,c.Xr)(Mt,i),wt[0]=t[0]-this._data[0],wt[1]=t[1]-this._data[1],wt[2]=t[2]-this._data[2],(0,a.w)(wt,wt,Mt);const u=this.getHalfSize(Dt),s=wt[0]<-u[0]?-1:wt[0]>u[0]?1:0,l=wt[1]<-u[1]?-1:wt[1]>u[1]?1:0,d=wt[2]<-u[2]?-1:wt[2]>u[2]?1:0,h=Math.abs(s)+Math.abs(l)+Math.abs(d);if(0===h)return 1/0;const g=1===h?4:6,m=6*(s+3*l+9*d+13);(0,r.I0)(zt,i),(0,r.hs)(zt,zt,u);const p=this.getCenter(Lt);for(let t=0;t<g;t++){const e=Ot[m+t];(0,a.i)(wt,((1&e)<<1)-1,(2&e)-1,((4&e)>>1)-1),(0,a.q)(wt,wt,zt),(0,a.g)(Tt,p,wt),Tt[3]=1,(0,f.t)(Tt,Tt,n);const r=1/Math.max(1e-6,Tt[3]);Ct[2*t]=Tt[0]*r,Ct[2*t+1]=Tt[1]*r}const b=2*g-2;let v=Ct[0]*(Ct[3]-Ct[b+1])+Ct[b]*(Ct[1]-Ct[b-1]);for(let t=2;t<b;t+=2)v+=Ct[t]*(Ct[t+3]-Ct[t-1]);return Math.abs(v)*e*o*.125}projectedRadius(t){const n=this.getQuaternion(It);return(0,c.Xr)(Mt,n),(0,a.w)(wt,t,Mt),Math.abs(wt[0]*this._data[3])+Math.abs(wt[1]*this._data[4])+Math.abs(wt[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,b.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,b.Qj)(t))}toAaBoundingBox(t){const n=this.getQuaternion(It),e=(0,r.I0)(zt,n),o=this._data[3]*Math.abs(e[0])+this._data[4]*Math.abs(e[3])+this._data[5]*Math.abs(e[6]),i=this._data[3]*Math.abs(e[1])+this._data[4]*Math.abs(e[4])+this._data[5]*Math.abs(e[7]),c=this._data[3]*Math.abs(e[2])+this._data[4]*Math.abs(e[5])+this._data[5]*Math.abs(e[8]);t[0]=this._data[0]-o,t[1]=this._data[1]-i,t[2]=this._data[2]-c,t[3]=this._data[0]+o,t[4]=this._data[1]+i,t[5]=this._data[2]+c}transform(t,n,e,r=0,o=(0,h.lO)(e),i=(0,h.lO)(n),u=(0,p.jd)(n,i)){if(e===o)n.isGeographic?function(t,n,e,r,o=(0,h.lO)(e)){const i=(0,d.tO)(e),u=1+Math.max(0,r)/(i.radius+t.centerZ);t.getCenter(xt),xt[2]+=r,(0,m.projectBuffer)(xt,e,0,xt,o,0),n.center=xt;const s=t.getQuaternion(It);n.quaternion=s,(0,c.Xr)(Mt,s),(0,a.i)(Vt,0,0,1),(0,a.w)(Vt,Vt,Mt);const f=t.getHalfSize(Dt);(0,a.i)(Vt,f[0]*Math.abs(Vt[0]),f[1]*Math.abs(Vt[1]),f[2]*Math.abs(Vt[2])),(0,a.h)(Vt,Vt,i.inverseFlattening),(0,a.g)(Vt,f,Vt),n.halfSize=(0,a.h)(Vt,Vt,u)}(this,t,n,r,i):function(t,n,e,r,o=(0,h.lO)(e),i=(0,p.jd)(e,o)){t.getCorners(Bt),t.getCenter(xt),xt[2]+=r,(0,g.l)(e,xt,jt,o),n.setCenter(jt[12],jt[13],jt[14]);const u=2*Math.sqrt(1+jt[0]+jt[5]+jt[10]);Mt[0]=(jt[6]-jt[9])/u,Mt[1]=(jt[8]-jt[2])/u,Mt[2]=(jt[1]-jt[4])/u,Mt[3]=.25*u;const s=t.getQuaternion(It);n.quaternion=(0,c.lw)(Mt,Mt,s),(0,c.Xr)(Mt,Mt),(0,a.i)(qt,0,0,0);const f=n.getCenter(Ft);for(const t of Bt)t[2]+=r,i(t,0,t,0),(0,a.a)(Vt,t,f),(0,a.w)(Vt,Vt,Mt),(0,a.x)(Vt,Vt),(0,a.D)(qt,qt,Vt);n.halfSize=qt}(this,t,n,r,i,u);else if(n.isWGS84&&(e.isWebMercator||(0,v.r1)(e)))!function(t,n,e,r,o){n.getCenter(Lt),Lt[2]+=o;const i=(0,h.lO)(e);(0,m.projectBuffer)(Lt,t,0,Lt,i,0),Pt(i,n,Lt,e,r)}(n,this,e,t,r);else if(n.isWebMercator&&(0,v.r1)(e))!function(t,n,e,r,o){n.getCenter(Lt),Lt[2]+=o,Pt(t,n,Lt,e,r)}(n,this,e,t,r);else{const o=this.getCenter(Lt);o[2]+=r,(0,m.projectBuffer)(o,n,0,o,e,0),t.center=o,this!==t&&(t.quaternion=this.getQuaternion(It),t.halfSize=this.getHalfSize(Dt))}}}const Mt=(0,u.vt)(),It=(0,u.vt)(),Et=(0,u.vt)(),wt=(0,s.vt)(),_t=(0,s.vt)(),Tt=(0,l.vt)();function St(t,n=new At){return function(t,n){const{data:e,size:r}=t,o=e.length/r;if(o<=0)return;const i=new at(t);lt(w,i.minProj,i.maxProj),ht(w,w,.5),dt(_,i.maxProj,i.minProj);const c=ft(_),u=new st;u.quality=c,o<14&&(t=new I.K(new Float64Array(i.buffer,112,42),3));const a=(0,s.vt)(),f=(0,s.vt)(),l=(0,s.vt)(),d=(0,s.vt)(),h=(0,s.vt)(),g=(0,s.vt)(),m=(0,s.vt)();switch(T(i,t,m,a,f,l,d,h,g,u)){case 1:return void G(w,_,n);case 2:return void tt(t,d,n)}L(t,m,a,f,l,d,h,g,u),nt(t,u.b0,u.b1,u.b2,$,J);const p=(0,s.vt)();dt(p,J,$),u.quality=ft(p),u.quality<c?ut(u.b0,u.b1,u.b2,$,J,p,n):G(w,_,n)}(t,n),n}const Ct=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],Ot=(()=>{const t=new Int8Array(162);let n=0;const e=e=>{for(let r=0;r<e.length;r++)t[n+r]=e[r];n+=6};return e([6,2,3,1,5,4]),e([0,2,3,1,5,4]),e([0,2,3,7,5,4]),e([0,1,3,2,6,4]),e([0,1,3,2,0,0]),e([0,1,5,7,3,2]),e([0,1,3,7,6,4]),e([0,1,3,7,6,2]),e([0,1,5,7,6,2]),e([0,1,5,4,6,2]),e([0,1,5,4,0,0]),e([0,1,3,7,5,4]),e([0,2,6,4,0,0]),e([0,0,0,0,0,0]),e([1,3,7,5,0,0]),e([2,3,7,6,4,0]),e([2,3,7,6,0,0]),e([2,3,1,5,7,6]),e([0,1,5,7,6,2]),e([0,1,5,7,6,4]),e([0,1,3,7,6,4]),e([4,5,7,6,2,0]),e([4,5,7,6,0,0]),e([4,5,1,3,7,6]),e([0,2,3,7,5,4]),e([6,2,3,7,5,4]),e([6,2,3,1,5,4]),t})();function Nt(t,n,e,r,o){const i=t.getQuaternion(It);o.quaternion=i,(0,c.Xr)(Mt,i);const u=t.getCenter(Lt),f=t.getHalfSize(Dt);if(r===A.RT.Global){(0,a.w)(Vt,u,Mt),(0,a.x)(qt,Vt),(0,a.A)(Ht,qt,f),(0,a.a)(Ht,qt,Ht);const r=(0,a.l)(Ht);(0,a.g)(Ht,qt,f);const i=(0,a.l)(Ht);if(r<e)o.center=u,(0,a.i)(Vt,e,e,e),o.halfSize=(0,a.g)(Vt,f,Vt);else{const c=i>0?1+n/i:1,u=r>0?1+e/r:1,s=(u+c)/2,l=(u-c)/2;(0,a.h)(Ht,qt,l),o.halfSize=(0,a.b)(Ht,Ht,f,s),(0,a.h)(Ht,qt,s),(0,a.b)(Ht,Ht,f,l),(0,a.B)(Vt,Vt),(0,a.C)(Vt,Ht,Vt);const d=t.getQuaternion(Et);o.center=(0,a.w)(Vt,Vt,d)}}else{o.center=(0,a.b)(Vt,u,s.Cb,(e+n)/2);const t=(0,a.w)(Vt,s.Cb,Mt);(0,a.x)(t,t),o.halfSize=(0,a.b)(qt,f,t,(e-n)/2)}return o}function Pt(t,n,e,o,i){const c=n.getQuaternion(It),u=(0,r.I0)(zt,c),a=n.getHalfSize(Dt);for(let t=0;t<8;++t){for(let n=0;n<3;++n)xt[n]=a[n]*(t&1<<n?-1:1);for(let n=0;n<3;++n){let r=e[n];for(let t=0;t<3;++t)r+=xt[t]*u[3*t+n];Ut[3*t+n]=r}}(0,m.projectBuffer)(Ut,t,0,Ut,o,0,8),St(Rt,i)}const Ut=new Array(24),Rt=new I.K(Ut,3),xt=(0,s.vt)(),Lt=(0,s.vt)(),Ft=(0,s.vt)(),Dt=(0,s.vt)(),zt=(0,o.vt)(),jt=(0,i.vt)(),Bt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Vt=(0,s.vt)(),qt=(0,s.vt)(),Ht=(0,s.vt)(),kt=(0,s.CN)(-1,-1,-1)},77222:function(t,n,e){e.d(n,{A:function(){return i}});var r=e(9933),o=e(39506);function i(t){t.vertex.code.add(o.H`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${o.H.int(r.k5.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${o.H.int(r.k5.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${o.H.int(r.k5.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${o.H.int(r.k5.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `)}},27264:function(t,n,e){var r;function o(t){return t===r.Shadow||t===r.ShadowHighlight||t===r.ShadowExcludeHighlight||t===r.ViewshedShadow}function i(t){return m(t)||t===r.Normal}function c(t){return function(t){return function(t){return f(t)||u(t)}(t)||p(t)}(t)||t===r.Normal}function u(t){return t===r.Highlight||t===r.ObjectAndLayerIdColor}function a(t){return s(t)||u(t)}function s(t){return t===r.Color}function f(t){return s(t)||b(t)}function l(t){return s(t)||t===r.ObjectAndLayerIdColor}function d(t){return s(t)||t===r.Highlight}function h(t){return d(t)||p(t)}function g(t){return s(t)||u(t)}function m(t){return g(t)||p(t)}function p(t){return t===r.Depth}function b(t){return t===r.ColorEmission}e.d(n,{CL:function(){return u},LG:function(){return b},MO:function(){return m},PJ:function(){return o},RN:function(){return f},V:function(){return r},XY:function(){return i},_o:function(){return s},aD:function(){return h},dX:function(){return g},eh:function(){return p},i3:function(){return a},iq:function(){return c},zW:function(){return l}}),function(t){t[t.Color=0]="Color",t[t.ColorEmission=1]="ColorEmission",t[t.Depth=2]="Depth",t[t.Normal=3]="Normal",t[t.Shadow=4]="Shadow",t[t.ShadowHighlight=5]="ShadowHighlight",t[t.ShadowExcludeHighlight=6]="ShadowExcludeHighlight",t[t.ViewshedShadow=7]="ViewshedShadow",t[t.Highlight=8]="Highlight",t[t.ObjectAndLayerIdColor=9]="ObjectAndLayerIdColor",t[t.COUNT=10]="COUNT"}(r||(r={}))},11377:function(t,n,e){e.d(n,{W:function(){return r},Y:function(){return a}});var r,o,i=e(82547),c=e(39506),u=e(65839);function a(t,n){switch(n.normalType){case r.Compressed:t.attributes.add(u.r.NORMALCOMPRESSED,"vec2"),t.vertex.code.add(c.H`vec3 decompressNormal(vec2 normal) {
float z = 1.0 - abs(normal.x) - abs(normal.y);
return vec3(normal + sign(normal) * min(z, 0.0), z);
}
vec3 normalModel() {
return decompressNormal(normalCompressed);
}`);break;case r.Attribute:t.attributes.add(u.r.NORMAL,"vec3"),t.vertex.code.add(c.H`vec3 normalModel() {
return normal;
}`);break;case r.ScreenDerivative:t.fragment.code.add(c.H`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,i.Xb)(n.normalType);case r.COUNT:}}(o=r||(r={}))[o.Attribute=0]="Attribute",o[o.Compressed=1]="Compressed",o[o.ScreenDerivative=2]="ScreenDerivative",o[o.COUNT=3]="COUNT"},90576:function(t,n,e){e.d(n,{u:function(){return o}});var r=e(39506);function o({code:t},n){n.doublePrecisionRequiresObfuscation?t.add(r.H`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):t.add(r.H`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}},52766:function(t,n,e){e.d(n,{W:function(){return o}});var r=e(39506);function o(t){t.code.add(r.H`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}`),t.code.add(r.H`const vec4 RGBA_2_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgba2float(vec4 rgba) {
return dot(rgba, RGBA_2_FLOAT_FACTORS);
}`),t.code.add(r.H`const vec4 uninterpolatedRGBAToFloatFactors = vec4(
1.0 / 256.0,
1.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0 / 256.0
);
float uninterpolatedRGBAToFloat(vec4 rgba) {
return (dot(round(rgba * 255.0), uninterpolatedRGBAToFloatFactors) - 0.5) * 2.0;
}`)}},4435:function(t,n,e){e.d(n,{W:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"vec3",o.c.Draw,((e,r,o,i)=>e.setUniform3fv(t,n(r,o,i))))}}},82598:function(t,n,e){e.d(n,{t:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"vec3",o.c.Pass,((e,r,o)=>e.setUniform3fv(t,n(r,o))))}}},41356:function(t,n,e){e.d(n,{V:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"vec4",o.c.Draw,((e,r,o)=>e.setUniform4fv(t,n(r,o))))}}},14543:function(t,n,e){e.d(n,{m:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"float",o.c.Pass,((e,r,o)=>e.setUniform1f(t,n(r,o))))}}},31190:function(t,n,e){e.d(n,{h:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"mat3",o.c.Draw,((e,r,o)=>e.setUniformMatrix3fv(t,n(r,o))))}}},78567:function(t,n,e){e.d(n,{k:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"mat3",o.c.Pass,((e,r,o)=>e.setUniformMatrix3fv(t,n(r,o))))}}},70340:function(t,n,e){e.d(n,{X:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"mat4",o.c.Pass,((e,r,o)=>e.setUniformMatrix4fv(t,n(r,o))))}}},40075:function(t,n,e){e.d(n,{o:function(){return i}});var r=e(65312),o=e(54516);class i extends r.n{constructor(t,n){super(t,"sampler2D",o.c.Draw,((e,r,o)=>e.bindTexture(t,n(r,o))))}}},65312:function(t,n,e){e.d(n,{n:function(){return o}});var r=e(54516);class o{constructor(t,n,e,o,i=null){if(this.name=t,this.type=n,this.arraySize=i,this.bind={[r.c.Pass]:null,[r.c.Draw]:null},o)switch(e){case r.c.Pass:this.bind[r.c.Pass]=o;break;case r.c.Draw:this.bind[r.c.Draw]=o}}equals(t){return this.type===t.type&&this.name===t.name&&this.arraySize===t.arraySize}}},39506:function(t,n,e){e.d(n,{H:function(){return o},If:function(){return i},Y:function(){return r}});const r=class{};function o(t,...n){let e="";for(let r=0;r<n.length;r++)e+=t[r]+n[r];return e+=t[t.length-1],e}function i(t,n,e=""){return t?n:e}var c;(c=o||(o={})).int=function(t){return Math.round(t).toString()},c.float=function(t){return t.toPrecision(8)}},54516:function(t,n,e){var r;e.d(n,{c:function(){return r}}),function(t){t[t.Pass=0]="Pass",t[t.Draw=1]="Draw"}(r||(r={}))},39534:function(t,n,e){e.d(n,{E:function(){return o}});var r=e(58941);function o(){return!!(0,r.A)("enable-feature:objectAndLayerId-rendering")}},14905:function(t,n,e){e.d(n,{K:function(){return r},n:function(){return o}});class r{constructor(t,n,e=n){this.data=t,this.size=n,this.stride=e}}class o extends r{constructor(t,n,e,r=!1,o=e){super(t,e,o),this.indices=n,this.exclusive=r}}},65839:function(t,n,e){var r;function o(t){return t===r.POSITION}e.d(n,{b:function(){return o},r:function(){return r}}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},33753:function(t,n,e){var r;e.d(n,{x:function(){return r}}),function(t){t[t.TRANSPARENT=0]="TRANSPARENT",t[t.OPAQUE=1]="OPAQUE"}(r||(r={}))},65420:function(t,n,e){var r;e.d(n,{RT:function(){return r}}),function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"}(r||(r={}))},39715:function(t,n,e){function r(t){return t&&"function"==typeof t.highlight}function o(t,n,e){return null==t||t>=e&&(0===n||t<=n)}function i(t,n){if(n&&t){const{minScale:e,maxScale:r}=t;if(function(t,n){return null!=t&&t>0||null!=n&&n>0}(e,r))return o(n,e,r)}return!0}function c(t){return!t?.minScale||!t.maxScale||t.minScale>=t.maxScale}e.d(n,{E5:function(){return i},JU:function(){return o},Of:function(){return r},g7:function(){return c}}),e(39819)}}]);
//# sourceMappingURL=views-3d-layers-SceneLayerWorker.js.map