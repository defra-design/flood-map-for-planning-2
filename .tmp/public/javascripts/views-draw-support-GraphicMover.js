"use strict";(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[4292,4874,6314],{74756:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var i=r(53804),s=r(93040),a=r(78879),n=r(61500),o=r(30905),l=r(21609),c=r(31609),p=r(75218),d=r(40633),u=r(95929),y=r(60539),h=r(90683),g=r(23502),m=(r(58941),r(65953)),f=r(81392),b=r(57165),v=r(51432),S=r(43173),w=r(11876),L=r(83525),M=(r(13798),r(22739));const _=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let T=class extends L.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const e=(0,M.JK)().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const t=(0,M.Z0)(e);return"pt"===t?"pt-BR":t&&_.has(t)?t:"global"}};(0,i._)([(0,g.MZ)()],T.prototype,"apiKey",void 0),(0,i._)([(0,g.MZ)()],T.prototype,"id",void 0),(0,i._)([(0,g.MZ)()],T.prototype,"language",void 0),(0,i._)([(0,g.MZ)()],T.prototype,"places",void 0),(0,i._)([(0,g.MZ)()],T.prototype,"serviceUrl",void 0),(0,i._)([(0,g.MZ)()],T.prototype,"worldview",void 0),T=(0,i._)([(0,m.$)("esri.support.BasemapStyle")],T);const I=T;var k,x=r(84624);let G=0,A=k=class extends((0,o.Te)(c.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+G++,this.baseLayers=new a.A,this.referenceLayers=new a.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&d.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>r(e.item))),this.referenceLayers.on("after-remove",(e=>r(e.item)))])}initialize(){this.when().catch((e=>{d.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,u.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,n.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,r){const i=[];e?(r={...r,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,x.CJ)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&i.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,x.CJ)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);null!=t&&("scene"!==e.type&&(t.isReference=!0),i.push(t))})),t.baseMapLayers=i):t.baseMapLayers=i}set referenceLayers(e){this._set("referenceLayers",(0,n.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,p.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,l.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,l.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new k({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,l.o8)(e);return t.url&&(0,h.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,h.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:r,style:i}=this;(0,y.Te)(e);const s=[];if(t){const r=t.context?t.context.url:null;if(s.push(this._loadLayersFromJSON(t.data,r,e)),t.data.id&&!t.data.title){const e=t.data.id;s.push((0,w.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else r?s.push(this._loadFromItem(r,e)):i&&s.push(this._loadFromStylesService(i,e));await Promise.all(s)}async _loadLayersFromJSON(e,t,i){const s=this.resourceInfo?.context,a=this.portalItem?.portal||s?.portal||null,n=O[s?.origin||""]??"web-map",{populateOperationalLayers:o}=await r.e(3538).then(r.bind(r,80669)),l=[];if((0,y.Te)(i),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const r={context:{...s,origin:n,url:t,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},i=e=>"web-scene"===n&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=o(this.baseLayers,e.baseMapLayers.filter((e=>!i(e))),r);l.push(c);const p=o(this.referenceLayers,e.baseMapLayers.filter(i),r);l.push(p)}await Promise.allSettled(l)}async _loadFromItem(e,t){const r=await e.load(t),i=await r.fetchData("json",t),s=(0,h.An)(e.itemUrl??"");return this._set("resourceInfo",{data:i.baseMap??{},context:{origin:U[e.type||""]??"web-map",portal:e.portal||v.A.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||v.A.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,t)}async _loadFromStylesService(e,t){const r=`${e.serviceUrl}/${e.id}`,i=(await(0,s.A)(r,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,a=(0,h.An)(r);if(this._set("resourceInfo",{data:i.baseMap??{},context:{origin:"web-map",url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:i.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,a,t),e.apiKey)for(const t of[...this.baseLayers,...this.referenceLayers])"apiKey"in t&&(t.apiKey=e.apiKey)}static fromId(e){const t=w.H[e];return t?t.itemId?new k({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):k.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,i._)([(0,g.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,r,i){this._writeBaseLayers(e,t,i)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:a.A}},writer(e,t,r,i){this._writeBaseLayers(e,t,i)}}}}}})],A.prototype,"baseLayers",null),(0,i._)([(0,g.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],A.prototype,"id",void 0),(0,i._)([(0,g.MZ)({type:S.default})],A.prototype,"portalItem",void 0),(0,i._)([(0,g.MZ)()],A.prototype,"referenceLayers",null),(0,i._)([(0,g.MZ)({readOnly:!0})],A.prototype,"resourceInfo",void 0),(0,i._)([(0,g.MZ)({type:b.A})],A.prototype,"spatialReference",void 0),(0,i._)([(0,g.MZ)({type:I})],A.prototype,"style",void 0),(0,i._)([(0,g.MZ)()],A.prototype,"thumbnailUrl",void 0),(0,i._)([(0,g.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],A.prototype,"title",void 0),(0,i._)([(0,f.K)("title")],A.prototype,"writeTitle",null),A=k=(0,i._)([(0,m.$)("esri.Basemap")],A);const U={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},O={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Z=A},75218:function(e,t,r){r.d(t,{L:function(){return o},g:function(){return n}});var i=r(77472),s=r(78879),a=r(31609);async function n(e,t){return await e.load(),o(e,t)}async function o(e,t){const r=[],n=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?n(...t):s.A.isCollection(t)?t.forEach((e=>n(e))):a.A.isLoadable(t)&&r.push(t))};t(n);let o=null;if(await(0,i.Tj)(r,(async e=>{const t=await(0,i.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||o||(o=t)})),o)throw o.error;return e}},43173:function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var i=r(53804),s=r(53216),a=r(39819),n=r(30905),o=r(21609),l=r(31609),c=r(90683),p=r(23502),d=r(67888),u=r(47332),y=r(65953),h=r(91484),g=r(51432),m=r(83525),f=r(40633),b=r(77560);r(13798),r(58941);let v=class extends m.A{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:S(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,c.oP)(e)?f.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return S(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.cdnUrl;if(null==r)throw new a.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:i}=await r.e(4460).then(r.bind(r,55597));return await i(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function S(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,c.oP)(e)&&(e=(0,c.V1)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,i._)([(0,p.MZ)()],v.prototype,"portalItem",void 0),(0,i._)([(0,p.MZ)({type:String,value:null})],v.prototype,"path",null),(0,i._)([(0,b.w)("path")],v.prototype,"_castPath",null),(0,i._)([(0,p.MZ)({type:String,readOnly:!0})],v.prototype,"url",null),(0,i._)([(0,p.MZ)({type:String,readOnly:!0})],v.prototype,"cdnUrl",null),(0,i._)([(0,p.MZ)({type:String,readOnly:!0})],v.prototype,"itemRelativeUrl",null),v=(0,i._)([(0,y.$)("esri.portal.PortalItemResource")],v);const w=v;let L=class extends m.A{constructor(e){super(e),this.created=null,this.rating=null}};(0,i._)([(0,p.MZ)()],L.prototype,"created",void 0),(0,i._)([(0,p.MZ)()],L.prototype,"rating",void 0),L=(0,i._)([(0,y.$)("esri.portal.PortalRating")],L);const M=L;var _,T=r(60534);const I=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),k=new Set(["KML","GeoJson","CSV"]);let x=_=class extends((0,n.Te)(l.A)){static from(e){return(0,d.PZ)(_,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Video Service"===e?r="Video Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Geocoding Service"===e?r="Locator":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"Raster function template"===e?r="Raster Function Template":"OGCFeatureServer"===e?r="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?r="Instant App":"Insights Page"===e?r="Insights Report":"Excalibur Imagery Project"===e?r="Excalibur Project":"3DTiles Service"===e?r="3D tiles layer":"3DTiles Package"===e&&(r="3D tiles package"),r}readExtent(e){return e&&e.length?new h.default(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let r,i=!1,a=!1,n=!1,o=!1,l=!1,c=!1,p=!1,d=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(i=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(a=t.includes("Table"),n=t.includes("Route Layer"),o=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),r=l&&a?"spatiotemporaltable":a?"table":n?"routelayer":o?"markup":l?"spatiotemporal":c?"utilitynetwork":i?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(l=t.includes("Spatiotemporal"),p=t.includes("Relational"),r=l||p?"mapimages":i||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):r="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?r="maps":"web scene"===e?r=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?r="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?r="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?r="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?r="datafiles":"360 vr experience"===e?r="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?r="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?r="addindesktop":"pdf"===e?r="pdf":"microsoft word"===e?r="word":"microsoft excel"===e?r="excel":"microsoft powerpoint"===e?r="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?r="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?r="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?r="layersgray":"analysis model"===e?r="analysismodel":"scene package"===e?r="scenepackage":"3dtiles package"===e?r="3dtileslayerpackage":"3dtiles service"===e?r="3dtileslayer":"mobile scene package"===e?r="mobilescenepackage":"tile package"===e||"compact tile package"===e?r="tilepackage":"task file"===e?r="taskfile":"report template"===e?r="report-template":"statistical data collection"===e?r="statisticaldatacollection":"insights workbook"===e?r="workbook":"insights model"===e?r="insightsmodel":"insights page"===e?r="insightspage":"insights theme"===e?r="insightstheme":"hub initiative"===e?r="hubinitiative":"hub page"===e?r="hubpage":"hub site application"===e?r="hubsite":"hub event"===e?r="hubevent":"hub project"===e?r="hubproject":"relational database connection"===e?r="relationaldatabaseconnection":"big data file share"===e?r="datastorecollection":"image collection"===e?r="imagecollection":"desktop style"===e?r="desktopstyle":"style"===e?r=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?r="dashboard":"raster function template"===e?r="rasterprocessingtemplate":"vector tile package"===e?r="vectortilepackage":"ortho mapping project"===e?r="orthomappingproject":"ortho mapping template"===e?r="orthomappingtemplate":"solution"===e?r="solutions":"geopackage"===e?r="geopackage":"deep learning package"===e?r="deeplearningpackage":"real time analytic"===e?r="realtimeanalytics":"reality mapping project"===e?r="realitymappingproject":"big data analytic"===e?r="bigdataanalytics":"feed"===e?r="feed":"excalibur imagery project"===e?r="excaliburimageryproject":"notebook"===e?r="notebook":"storymap"===e?r="storymap":"survey123 add in"===e?r="survey123addin":"mission"===e?r="mission":"mission report"===e?r="missionreport":"mission template"===e?r="missiontemplate":"quickcapture project"===e?r="quickcaptureproject":"pro report"===e?r="proreport":"pro report template"===e?r="proreporttemplate":"urban model"===e?r="urbanmodel":"urban project"===e?r="urbanproject":"web experience"===e?r="experiencebuilder":"web experience template"===e?r="webexperiencetemplate":"experience builder widget"===e?r="experiencebuilderwidget":"experience builder widget package"===e?r="experiencebuilderwidgetpackage":"workflow"===e?r="workflow":"kernel gateway connection"===e?r="kernelgatewayconnection":"insights script"===e?r="insightsscript":"hub initiative template"===e?r="hubinitiativetemplate":"storymap theme"===e?r="storymaptheme":"knowledge graph"===e?r="knowledgegraph":"knowledge graph layer"===e?r="knowledgegraphlayer":"knowledge studio project"===e?r="knowledgestudio":"native application"===e?r="nativeapp":"native application installer"===e?r="nativeappinstaller":"web link chart"===e?r="linkchart":"knowledge graph web investigation"===e?r="investigation":"ogcfeatureserver"===e?r="features":"pro presentation"===e?r="propresentation":"pro project"===e?r="proproject":"insights workbook package"===e?r="insightsworkbookpackage":"apache parquet"===e?r="apacheparquet":"notebook code snippet library"===e?r="notebookcodesnippets":"suitability model"===e?r="suitabilitymodel":"esri classifier definition"===e?r="classifierdefinition":"esri classification schema"===e?r="classificationschema":"insights data engineering workbook"===e?r="dataengineeringworkbook":"insights data engineering model"===e?r="dataengineeringmodel":"deep learning studio project"===e?r="deeplearningproject":"discussion"===e?r="discussion":"allsource project"===e?r="allsourceproject":"api key"===e?r="apikey":"data pipeline"===e?r="datapipelines":"group layer"===e?(d=t.includes("Map"),r=d?"layergroup2d":"layergroup"):r="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",r?(0,s.s)("esri/images/portal/"+r+"16.png"):null}get isLayer(){return null!=this.type&&I.has(this.type)}get itemCdnUrl(){return(0,T.a)(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=g.A.getDefault()),r=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof M&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new M({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,o.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,o.o8)(this.categories),classification:(0,o.o8)(this.classification),created:(0,o.o8)(this.created),culture:this.culture,description:this.description,extent:(0,o.o8)(this.extent),groupCategories:(0,o.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,o.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,o.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,o.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,o.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new _({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const r=e[t];r&&(e[t]=JSON.stringify(r))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new M(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},_)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new a.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new a.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await t.signIn();const{copyResources:i,folder:s,tags:n,title:o}=e||{},l={method:"post",query:{copyPrivateResources:"all"===i,folder:"string"==typeof s?s:s?.id,includeResources:!!i,tags:n?.join(","),title:o}},{itemId:c}=await t.request(`${r}/copy`,l);return new _({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if("string"==typeof t)(0,c.DB)(t)?i.query={data:t}:i.query={url:(0,c.s2)(t)},null!=r&&(i.query.filename=r);else{const e=new FormData;null!=r?e.append("file",t,r):e.append("file",t),i.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,i).then((()=>this.reload()))})):Promise.reject(new a.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:i}=await r.e(4460).then(r.bind(r,55597));return i(this,e,t)}async addResource(e,t,i){const{addOrUpdateResources:s}=await r.e(4460).then(r.bind(r,55597));return e.portalItem=this,await s(this,[{resource:e,content:t,compress:i?.compress,access:i?.access}],"add",i),e}async removeResource(e,t){const{removeResource:i}=await r.e(4460).then(r.bind(r,55597));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new a.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await r.e(4460).then(r.bind(r,55597));return t(this,e)}resourceFromPath(e){return new w({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,o.o8)(this.categories),classification:(0,o.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,o.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,o.o8)(this.typeKeywords),url:this.url};return(0,o.oy)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new _({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,i._)([(0,p.MZ)({type:["private","shared","org","public"]})],x.prototype,"access",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"accessInformation",void 0),(0,i._)([(0,p.MZ)({type:String})],x.prototype,"apiKey",void 0),(0,i._)([(0,p.MZ)({json:{read:{source:"appProxies"}}})],x.prototype,"applicationProxies",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"avgRating",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"categories",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"classification",void 0),(0,i._)([(0,p.MZ)({type:Date})],x.prototype,"created",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"culture",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"description",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"displayName",null),(0,i._)([(0,p.MZ)({type:h.default})],x.prototype,"extent",void 0),(0,i._)([(0,u.w)("extent")],x.prototype,"readExtent",null),(0,i._)([(0,p.MZ)()],x.prototype,"groupCategories",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"iconUrl",null),(0,i._)([(0,p.MZ)()],x.prototype,"id",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"isLayer",null),(0,i._)([(0,p.MZ)({type:Boolean,readOnly:!0})],x.prototype,"isOrgItem",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"itemControl",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"itemPageUrl",null),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"itemUrl",null),(0,i._)([(0,p.MZ)()],x.prototype,"licenseInfo",void 0),(0,i._)([(0,p.MZ)({type:Date})],x.prototype,"modified",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"name",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"numComments",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"numRatings",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"numViews",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"owner",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"ownerFolder",void 0),(0,i._)([(0,p.MZ)({type:g.A})],x.prototype,"portal",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"screenshots",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"size",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"snippet",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"sourceJSON",void 0),(0,i._)([(0,p.MZ)({type:String})],x.prototype,"sourceUrl",void 0),(0,i._)([(0,p.MZ)({type:String})],x.prototype,"spatialReference",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"tags",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"thumbnail",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"thumbnailUrl",null),(0,i._)([(0,p.MZ)()],x.prototype,"title",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"type",void 0),(0,i._)([(0,p.MZ)()],x.prototype,"typeKeywords",void 0),(0,i._)([(0,p.MZ)({type:String,json:{read(e,t){if(k.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],x.prototype,"url",void 0),(0,i._)([(0,p.MZ)({readOnly:!0})],x.prototype,"userItemUrl",null),x=_=(0,i._)([(0,y.$)("esri.portal.PortalItem")],x);const G=x},82418:function(e,t,r){function i(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function s(e,t){return"number"==typeof e?e:e?.stops?.length?function(e){let t=0,r=0;for(let i=0;i<e.length;i++){const s=e[i].size;"number"==typeof s&&(t+=s,r++)}return t/r}(e.stops):t}function a(e,t){if(!t)return e;const r=t.filter((e=>"size"===e.type)).map((t=>{const{maxSize:r,minSize:i}=t;return(s(r,e)+s(i,e))/2}));let i=0;const a=r.length;if(0===a)return e;for(let e=0;e<a;e++)i+=r[e];const n=Math.floor(i/a);return Math.max(n,e)}function n(e){const t=e?.renderer,r=e?.pointerType,s="touch"===r?9:6;if(!t)return s;const n="visualVariables"in t?a(s,t.visualVariables):s;if("simple"===t.type)return i(n,t.symbol);if("unique-value"===t.type){let e=n;return t.uniqueValueInfos?.forEach((t=>{e=i(e,t.symbol)})),e}if("class-breaks"===t.type){let e=n;return t.classBreakInfos.forEach((t=>{e=i(e,t.symbol)})),e}return"dot-density"===t.type||t.type,n}r.d(t,{o:function(){return n}})},33118:function(e,t,r){r.d(t,{fs:function(){return n},i0:function(){return o}});var i=r(8289),s=r(53743),a=(r(54547),r(51107),r(21168));function n(e){return(0,s.vE)(e)||(0,s.zD)(e)||(0,s.Ah)(e)}function o(e,t){const{format:r,timeZoneOptions:s,fieldType:n}=t??{};let o,l;if(s&&({timeZone:o,timeZoneName:l}=(0,a.hv)(s.layerTimeZone,s.datesInUnknownTimezone,s.viewTimeZone,(0,i.J2)(r||"short-date-short-time"),n)),"string"==typeof e&&isNaN(Date.parse("time-only"===n?`1970-01-01T${e}Z`:e)))return e;switch(n){case"date-only":{const t=(0,i.J2)(r||"short-date");return"string"==typeof e?(0,i.iS)(e,{...t}):(0,i.Yq)(e,{...t,timeZone:a.n$})}case"time-only":{const t=(0,i.J2)(r||"short-time");return"string"==typeof e?(0,i.F8)(e,t):(0,i.Yq)(e,{...t,timeZone:a.n$})}case"timestamp-offset":{if(!o&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=r||s?(0,i.J2)(r||"short-date-short-time"):void 0,a=t?{...t,timeZone:o,timeZoneName:l}:void 0;return"string"==typeof e?(0,i.Ey)(e,a):(0,i.Yq)(e,a)}default:{const t=r||s?(0,i.J2)(r||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:o,timeZoneName:l}:void 0)}}}new Set(["integer","small-integer"])},11876:function(e,t,r){r.d(t,{H:function(){return n},q:function(){return a}});var i=r(53216),s=r(38225);async function a(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,r=await(0,s.ud)("esri/t9n/basemaps");return r[e]||r[t]}const n={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,i.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,i.s)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},51107:function(e,t,r){r.d(t,{VC:function(){return p},dp:function(){return u},jj:function(){return d},ns:function(){return y}});var i=r(74756),s=r(25591),a=(r(78879),r(40633)),n=r(95929),o=(r(90683),r(67888)),l=(r(25128),r(11876));const c=()=>a.A.getLogger("esri.support.basemapUtils");function p(){return{}}function d(e){for(const t in e){const r=e[t];(0,n.pR)(r),delete e[t]}}function u(e,t){let r;if("string"==typeof e){const a=e in l.H,n=!a&&e.includes("/");if(!a&&!n){if(s.default.apiKey)c().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(l.H).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");c().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(r=t[e]),r||(r=a?i.default.fromId(e):new i.default({style:{id:e}}),t&&(t[e]=r))}else r=(0,o.dp)(i.default,e);return r?.destroyed&&(c().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}function y(e,t){return e.basemap?.referenceLayers?.some((e=>e.uid===t))||e.basemap?.baseLayers?.some((e=>e.uid===t))}},74661:function(e,t,r){r.d(t,{A7:function(){return c},Cx:function(){return p},Hk:function(){return d},JJ:function(){return g},SF:function(){return u},UK:function(){return l},jM:function(){return y},x3:function(){return h}}),r(58941);var i=r(8740),s=r(22198),a=r(90363),n=r(90972),o=r(6259);const l=a.A.fromJSON(o.Cb),c=s.A.fromJSON(o.yM),p=i.A.fromJSON(o.WR),d=n.A.fromJSON(o.JZ);function u(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return l;case"polyline":return c;case"polygon":case"extent":return p}return null}const y=a.A.fromJSON(o.nC),h=s.A.fromJSON(o.HW),g=i.A.fromJSON(o.b6)},6259:function(e,t,r){r.d(t,{Cb:function(){return a},HW:function(){return p},JR:function(){return s},JZ:function(){return l},WR:function(){return o},b6:function(){return d},fT:function(){return i},nC:function(){return c},yM:function(){return n}});const i=[252,146,31,255],s=[153,153,153,255],a={type:"esriSMS",style:"esriSMSCircle",size:6,color:i,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},n={type:"esriSLS",style:"esriSLSSolid",width:.75,color:i},o={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},p={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},d={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},62190:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var i=r(53804),s=(r(10748),r(48996)),a=r(21609),n=r(28181),o=r(23502),l=(r(58941),r(40633),r(65953)),c=r(19702),p=r(67060),d=r(93959),u=r(777);class y{constructor(e,t,r,i,s){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=s,this.type="graphic-click"}}class h{constructor(e,t,r,i,s){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=s,this.type="graphic-double-click"}}class g{constructor(e,t,r,i,s,a,n,o,l,c){this.graphic=e,this.allGraphics=t,this.index=r,this.x=i,this.y=s,this.dx=a,this.dy=n,this.totalDx=o,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-start"}preventDefault(){this.defaultPrevented=!0}}class m{constructor(e,t,r,i,s,a,n,o,l,c){this.graphic=e,this.allGraphics=t,this.index=r,this.x=i,this.y=s,this.dx=a,this.dy=n,this.totalDx=o,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move"}preventDefault(){this.defaultPrevented=!0}}class f{constructor(e,t,r,i,s,a,n,o,l,c){this.graphic=e,this.allGraphics=t,this.index=r,this.x=i,this.y=s,this.dx=a,this.dy=n,this.totalDx=o,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-stop"}preventDefault(){this.defaultPrevented=!0}}class b{constructor(e,t,r,i,s){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=s,this.type="graphic-pointer-over"}}class v{constructor(e,t,r,i,s){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=s,this.type="graphic-pointer-out"}}class S{constructor(e,t,r,i,s){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=s,this.type="graphic-pointer-down"}}class w{constructor(e,t,r,i,s){this.graphic=e,this.index=t,this.x=r,this.y=i,this.viewEvent=s,this.type="graphic-pointer-up"}}var L=r(87922),M=r(82067),_=r(62097),T=r(90363),I=r(22198),k=r(8740);const x="indicator-symbols";let G=class extends s.A.EventedAccessor{constructor(e){super(e),this._activeGraphic=null,this._dragEvent=null,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._manipulators=[],this._layerViews=null,this.type="graphic-mover",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new c.default({listMode:"hide",internal:!0,title:"GraphicMover highlight layer"}),this.view=null}initialize(){(0,u.Y)(this.view,this.layer),this._highlightHelper=new d.A({view:this.view}),this.refresh(),this.addHandles([(0,n.watch)((()=>this.graphics.length),(()=>this.refresh())),(0,n.when)((()=>this.view?.ready),(()=>{this.addHandles([this.view.on("immediate-click",(e=>this._clickHandler(e)),L.o.TOOL),this.view.on("double-click",(e=>this._doubleClickHandler(e)),L.o.TOOL),this.view.on("pointer-down",(e=>this._pointerDownHandler(e)),L.o.TOOL),this.view.on("pointer-move",(e=>this._pointerMoveHandler(e)),L.o.TOOL),this.view.on("pointer-up",(e=>this._pointerUpHandler(e)),L.o.TOOL),this.view.on("drag",(e=>this._dragHandler(e)),L.o.TOOL),this.view.on("key-down",(e=>this._keyDownHandler(e)),L.o.TOOL)])}),{once:!0,initial:!0}),(0,n.watch)((()=>this.view),(e=>{this._highlightHelper.removeAll(),this._highlightHelper.view=e}))])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((e=>e.destroy())),this._manipulators=null}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),e&&this._highlightHelper?.add(this.graphics)}get state(){const e=this.view.ready,t=this.graphics.length>0,r=this._activeGraphic;return e&&t?r?"moving":"active":e?"ready":"disabled"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(e,t){const r=this.graphics[e];r&&(r.set("geometry",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(e){const t=this._findTargetGraphic((0,_.ZV)(e));if(t){const r=new y(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-click",r),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(r)}}_doubleClickHandler(e){const t=this._findTargetGraphic((0,_.ZV)(e));if(t){const r=new h(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-double-click",r),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(r)}}_pointerDownHandler(e){const t=this._findTargetGraphic((0,_.ZV)(e));if(t){this._activeGraphic=t;const{x:r,y:i}=e,s=new S(t,this.graphics.indexOf(t),r,i,e);this.emit("graphic-pointer-down",s),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(s)}else this._activeGraphic=null}_pointerUpHandler(e){if(this._activeGraphic){const{x:t,y:r}=e,i=this.graphics.indexOf(this._activeGraphic),s=new w(this._activeGraphic,i,t,r,e);this.emit("graphic-pointer-up",s),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(s)}}_pointerMoveHandler(e){if(this._dragEvent)return;const t=this._findTargetGraphic((0,_.ZV)(e));if(t){const{x:r,y:i}=e;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const s=this.graphics.indexOf(this._hoverGraphic),a=new v(this.graphics[s],s,r,i,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",a),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(a)}const s=this.graphics.indexOf(t),a=new b(t,s,r,i,e);return this._hoverGraphic=t,this.emit("graphic-pointer-over",a),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(a))}if(this._hoverGraphic){const{x:t,y:r}=e,i=this.graphics.indexOf(this._hoverGraphic),s=new v(this.graphics[i],i,t,r,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}}_dragHandler(e){if("start"!==e.action&&!this._dragEvent||!this._activeGraphic?.geometry)return;"start"===e.action&&this._removeIndicators(),e.stopPropagation();const{action:t,x:r,y:i}=e,s=this.graphics.indexOf(this._activeGraphic),n=this._dragEvent?r-this._dragEvent.x:0,o=this._dragEvent?i-this._dragEvent.y:0,l=r-e.origin.x,c=i-e.origin.y,d="start"===t?this._activeGraphic.geometry:this._initialDragGeometry,u=(0,p.lR)(d,l,c,this.view);if(this._activeGraphic.geometry=u,this.enableMoveAllGraphics&&this.graphics.forEach((e=>{e!==this._activeGraphic&&(e.geometry=(0,p.lR)(e.geometry,n,o,this.view))})),this._dragEvent=e,"start"===t){this._initialDragGeometry=(0,a.o8)(d);const t=new g(this._activeGraphic,this.graphics,s,r,i,n,o,l,c,e);this.emit("graphic-move-start",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set("geometry",d)}else if("update"===t){const t=new m(this._activeGraphic,this.graphics,s,r,i,n,o,l,c,e);this.emit("graphic-move",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=d)}else{const t=new f(this._activeGraphic,this.graphics,s,r,i,n,o,l,c,e);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit("graphic-move-stop",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[s].set("geometry",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()}_findTargetGraphic(e){const t=this.view.toMap(e),r=this.graphics;let i=null,s=Number.MAX_VALUE;this._syncLayerViews();const a=this._layerViews.flatMap((e=>"graphicsViews"in e?Array.from(e.graphicsViews(),(e=>e.hitTest(t))).flat():e.graphicsView.hitTest(t))).filter((e=>r.includes(e))).sort(((e,t)=>r.indexOf(e)-r.indexOf(t)));return a.length?a[0]:(this._manipulators.forEach((t=>{const r=t.intersectionDistance(e);null!=r&&r<s&&(s=r,i=t.graphic)})),i)}_syncLayerViews(){this._layerViews=[];const e=new Set;for(const t of this.graphics){const r=(0,u.i)(this.view,t.layer);r&&e.add(r)}this._layerViews=[...e]}_setUpManipulators(){const{graphics:e,view:t}=this;this._manipulators.forEach((e=>e.destroy())),this._manipulators=e.length?e.map((e=>new M.l({graphic:e,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const e of this.graphics){const t=e.clone();t.symbol=A(e),this._indicators.push(t),this.addHandles((0,n.watch)((()=>e.symbol),(()=>this._setUpIndicators())),x)}this.layer.addMany(this._indicators)}}_removeIndicators(){this.removeHandles(x),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((e=>e.destroy())),this._indicators=[])}};function A(e){if(null==e.symbol)return null;switch(e.symbol.type){case"cim":return new T.A({style:"circle",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":{const{xoffset:t,yoffset:r,height:i,width:s}=e.symbol,a=i===s?s:Math.max(i,s);return new T.A({xoffset:t,yoffset:r,size:a,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-marker":{const{xoffset:t,yoffset:r,size:i,style:s}=e.symbol;return new T.A({xoffset:t,yoffset:r,style:"circle"===s?"circle":"square",size:i+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-fill":return new k.A({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new I.A({color:[255,127,0,1],style:"dash",width:1});case"text":{const{xoffset:t,yoffset:r}=e.symbol;return new T.A({xoffset:t,yoffset:r,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}(0,i._)([(0,o.MZ)()],G.prototype,"_activeGraphic",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],G.prototype,"type",void 0),(0,i._)([(0,o.MZ)()],G.prototype,"callbacks",void 0),(0,i._)([(0,o.MZ)()],G.prototype,"enableMoveAllGraphics",void 0),(0,i._)([(0,o.MZ)()],G.prototype,"graphics",void 0),(0,i._)([(0,o.MZ)({value:!1})],G.prototype,"highlightsEnabled",null),(0,i._)([(0,o.MZ)()],G.prototype,"indicatorsEnabled",void 0),(0,i._)([(0,o.MZ)()],G.prototype,"layer",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],G.prototype,"state",null),(0,i._)([(0,o.MZ)()],G.prototype,"view",void 0),G=(0,i._)([(0,l.$)("esri.views.draw.support.GraphicMover")],G);const U=G},93959:function(e,t,r){r.d(t,{A:function(){return d}});var i=r(53804),s=r(83525),a=r(23502),n=(r(58941),r(40633),r(13798),r(65953)),o=r(777),l=r(39715),c=r(25867);let p=class extends s.A{constructor(e){super(e),this.view=null}add(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach((e=>this._highlight(e)))}remove(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach((e=>this._removeHighlight(e)))}removeAll(){this.removeAllHandles()}_highlight(e){const t=(0,o.i)(this.view,e.layer);(0,l.Of)(t)&&this.addHandles(t.highlight(e),(0,c.Fr)(e))}_removeHighlight(e){e&&this.removeHandles((0,c.Fr)(e))}};(0,i._)([(0,a.MZ)()],p.prototype,"view",void 0),p=(0,i._)([(0,n.$)("esri.views.draw.support.HighlightHelper")],p);const d=p},67060:function(e,t,r){r.d(t,{UT:function(){return d},hs:function(){return c},lR:function(){return l},wW:function(){return p}});var i=r(15774),s=r(87416),a=r(35068),n=r(38441);function o(e,t,r,i){if(null==i||e.hasZ||(i=void 0),"point"===e.type)return e.x+=t,e.y+=r,e.hasZ&&null!=i&&(e.z+=i),e;if("multipoint"===e.type){const s=e.points;for(let e=0;e<s.length;e++)s[e]=u(s[e],t,r,i);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=r,e.ymax+=r,null!=i&&(e.zmin??=0,e.zmin+=i,e.zmax??=0,e.zmax+=i),e;const s=(0,n.$K)(e),a="polyline"===e.type?e.paths:e.rings;for(let e=0;e<s.length;e++){const a=s[e];for(let e=0;e<a.length;e++)a[e]=u(a[e],t,r,i)}return"paths"in e?e.paths=a:e.rings=a,e}function l(e,t,r,i,s){const a=e.clone(),l=i.resolution;if("point"===a.type){if(s)o(a,t*l,-r*l);else{const e=i.state.transform,s=i.state.inverseTransform,n=e[0]*a.x+e[2]*a.y+e[4],o=e[1]*a.x+e[3]*a.y+e[5];a.x=s[0]*(n+t)+s[2]*(o+r)+s[4],a.y=s[1]*(n+t)+s[3]*(o+r)+s[5]}return a}if("multipoint"===a.type){if(s)o(a,t*l,-r*l);else{const e=a.points,s=i.state.transform,n=i.state.inverseTransform;for(let i=0;i<e.length;i++){const a=e[i],o=s[0]*a[0]+s[2]*a[1]+s[4],l=s[1]*a[0]+s[3]*a[1]+s[5],c=n[0]*(o+t)+n[2]*(l+r)+n[4],p=n[1]*(o+t)+n[3]*(l+r)+n[5];e[i]=y(a,c,p,void 0)}}return a}if("extent"===a.type){if(s)o(a,t*l,-r*l);else{const e=i.state.transform,s=i.state.inverseTransform,n=e[0]*a.xmin+e[2]*a.ymin+e[4],o=e[1]*a.xmin+e[3]*a.ymin+e[5],l=e[0]*a.xmax+e[2]*a.ymax+e[4],c=e[1]*a.xmax+e[3]*a.ymax+e[5];a.xmin=s[0]*(n+t)+s[2]*(o+r)+s[4],a.ymin=s[1]*(n+t)+s[3]*(o+r)+s[5],a.xmax=s[0]*(l+t)+s[2]*(c+r)+s[4],a.ymax=s[1]*(l+t)+s[3]*(c+r)+s[5]}return a}if(s)o(a,t*l,-r*l);else{const e=(0,n.$K)(a),s="polyline"===a.type?a.paths:a.rings,o=i.state.transform,l=i.state.inverseTransform;for(let i=0;i<e.length;i++){const s=e[i];for(let e=0;e<s.length;e++){const i=s[e],a=o[0]*i[0]+o[2]*i[1]+o[4],n=o[1]*i[0]+o[3]*i[1]+o[5],c=l[0]*(a+t)+l[2]*(n+r)+l[4],p=l[1]*(a+t)+l[3]*(n+r)+l[5];s[e]=y(i,c,p,void 0)}}"paths"in a?a.paths=s:a.rings=s}return a}function c(e,t,r,i){if("point"===e.type){const{x:s,y:a}=e,n=i?i[0]:s,o=i?i[1]:a,l=e.clone(),c=(s-n)*t+n,p=(a-o)*r+o;return l.x=c,l.y=p,l}if("multipoint"===e.type){const o=(0,n.$K)(e),l=(0,s.vt)(),[c,p,d,u]=(0,a.Yz)(l,[o]),h=i?i[0]:(c+d)/2,g=i?i[1]:(u+p)/2,m=e.clone(),f=m.points;for(let e=0;e<f.length;e++){const i=f[e],[s,a]=i,n=(s-h)*t+h,o=(a-g)*r+g;f[e]=y(i,n,o,void 0)}return m}if("extent"===e.type){const{xmin:s,xmax:a,ymin:n,ymax:o}=e,l=i?i[0]:(s+a)/2,c=i?i[1]:(o+n)/2,p=e.clone();if(p.xmin=(s-l)*t+l,p.ymax=(o-c)*r+c,p.xmax=(a-l)*t+l,p.ymin=(n-c)*r+c,p.xmin>p.xmax){const e=p.xmin,t=p.xmax;p.xmin=t,p.xmax=e}if(p.ymin>p.ymax){const e=p.ymin,t=p.ymax;p.ymin=t,p.ymax=e}return p}const o=(0,n.$K)(e),l=(0,s.vt)(),[c,p,d,u]=(0,a.Yz)(l,o),h=i?i[0]:(c+d)/2,g=i?i[1]:(u+p)/2,m=e.clone(),f="polyline"===m.type?m.paths:m.rings;for(let e=0;e<o.length;e++){const i=o[e];for(let s=0;s<i.length;s++){const a=i[s],[n,o]=a,l=(n-h)*t+h,c=(o-g)*r+g;f[e][s]=y(a,l,c,void 0)}}return"paths"in m?m.paths=f:m.rings=f,m}function p(e,t,r,i,s,a){const n=Math.sqrt((r-e)*(r-e)+(i-t)*(i-t));return Math.sqrt((s-e)*(s-e)+(a-t)*(a-t))/n}function d(e,t,r,s=!1){const a=Math.atan2(t.y-r.y,t.x-r.x)-Math.atan2(e.y-r.y,e.x-r.x),n=Math.atan2(Math.sin(a),Math.cos(a));return s?n:(0,i.KJ)(n)}function u(e,t,r,i){return y(e,e[0]+t,e[1]+r,null!=e[2]&&null!=i?e[2]+i:void 0)}function y(e,t,r,i){const s=[t,r];return e.length>2&&s.push(null!=i?i:e[2]),e.length>3&&s.push(e[3]),s}},82067:function(e,t,r){r.d(t,{l:function(){return S}});var i=r(53804),s=r(83525),a=r(48996),n=r(28181),o=r(13520),l=r(23502),c=(r(58941),r(40633),r(13798),r(65953)),p=r(13786),d=r(20551),u=r(32501),y=r(46157),h=r(56763),g=r(68945),m=r(74661),f=r(6422),b=r(17921),v=r(33383);let S=class extends s.A{set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}get elevationInfo(){const{layer:e}=this.graphic,t=e&&"elevationInfo"in e?e.elevationInfo:null,r=(0,g.ky)(this.graphic),i=t?t.offset:0;return new f.A({mode:r,offset:i})}set focusedSymbol(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}set selected(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new a.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const r=t.geometry;if(null==r)return null;const i=this._get("focusedSymbol"),s=null!=i?i:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,r,s):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,n.watch)((()=>this.graphic?.symbol),(e=>{null!=e&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),n.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,r,i){if(null==(i=i||(0,m.SF)(r)))return null;let s=this._circleCollisionCache;if("point"===r.type&&"cim"===i.type&&"CIMPointSymbol"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:s,offsetY:a,size:n}=(0,b.T)(i),l=(0,o.WA)(t,L),c=n/2,d=e.toScreen(r),u=d.x+s,y=d.y+a;return(0,p.hG)(l,[u,y])<c*c?1:null}if("point"!==r.type||"simple-marker"!==i.type)return(0,v.t)(t,r,e)?1:null;if(null==s||!s.originalPoint.equals(r)){const t=r,a=e.spatialReference;if((0,y.canProjectWithoutEngine)(t.spatialReference,a)){const e=(0,y.project)(t,a);s={originalPoint:t.clone(),mapPoint:e,radiusPx:(0,o.Lz)(i.size)},this._circleCollisionCache=s}}if(null!=s){const r=(0,o.WA)(t,L),a=e.toScreen?.(s.mapPoint);if(!a)return null;const n=s.radiusPx,l=a.x+(0,o.Lz)(i.xoffset),c=a.y-(0,o.Lz)(i.yoffset);return(0,p.hG)(r,[l,c])<n*n?1:null}return null}_intersectDistance3D(e,t,r){const i=e.toMap(t,{include:[r]});return i&&(0,h.g)(i,w,e.renderSpatialReference)?(0,d.j)(w,e.state.camera.eye):null}};(0,i._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],S.prototype,"graphic",null),(0,i._)([(0,l.MZ)()],S.prototype,"elevationInfo",null),(0,i._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],S.prototype,"view",void 0),(0,i._)([(0,l.MZ)({value:null})],S.prototype,"focusedSymbol",null),(0,i._)([(0,l.MZ)({constructOnly:!0})],S.prototype,"layer",void 0),(0,i._)([(0,l.MZ)()],S.prototype,"interactive",void 0),(0,i._)([(0,l.MZ)()],S.prototype,"selectable",void 0),(0,i._)([(0,l.MZ)()],S.prototype,"grabbable",void 0),(0,i._)([(0,l.MZ)({value:!1})],S.prototype,"grabbing",null),(0,i._)([(0,l.MZ)()],S.prototype,"dragging",void 0),(0,i._)([(0,l.MZ)()],S.prototype,"hovering",null),(0,i._)([(0,l.MZ)({value:!1})],S.prototype,"selected",null),(0,i._)([(0,l.MZ)()],S.prototype,"cursor",void 0),S=(0,i._)([(0,c.$)("esri.views.interactive.GraphicManipulator")],S);const w=(0,u.vt)(),L=(0,o.gs)()},17921:function(e,t,r){r.d(t,{T:function(){return s}});var i=r(13520);function s(e){let t=0,r=0,s=0;return e?("cim"===e.type&&e.data.symbol&&"symbolLayers"in e.data.symbol&&e.data.symbol.symbolLayers&&e.data.symbol.symbolLayers.map((e=>{"CIMVectorMarker"===e.type&&e.anchorPoint&&(Math.abs(e.anchorPoint.x)>t&&(t=e.anchorPoint.x),Math.abs(e.anchorPoint.y)>r&&(r=e.anchorPoint.y),null!=e.size&&e.size>s&&(s=e.size))})),t=(0,i.Lz)(t),r=(0,i.Lz)(r),s=(0,i.Lz)(s),{offsetX:t,offsetY:r,size:s}):{offsetX:t,offsetY:r,size:s}}},33383:function(e,t,r){r.d(t,{V:function(){return n},t:function(){return o}}),r(50917);var i=r(62938),s=r(82418),a=r(91484);function n(e,t,r,s=new a.default){let n=0;if("2d"===r.type)n=t*(r.resolution??0);else if("3d"===r.type){const s=r.overlayPixelSizeInMapUnits(e),a=r.basemapSpatialReference;n=null==a||a.equals(r.spatialReference)?t*s:(0,i.GA)(a)/(0,i.GA)(r.spatialReference)}const o=e.x-n,l=e.y-n,c=e.x+n,p=e.y+n,{spatialReference:d}=r;return s.xmin=Math.min(o,c),s.ymin=Math.min(l,p),s.xmax=Math.max(o,c),s.ymax=Math.max(l,p),s.spatialReference=d,s}function o(e,t,r){const i=r.toMap(e);return null!=i&&n(i,(0,s.o)(),r,l).intersects(t)}const l=new a.default},39715:function(e,t,r){function i(e){return e&&"function"==typeof e.highlight}function s(e,t,r){return null==e||e>=r&&(0===t||e<=t)}function a(e,t){if(t&&e){const{minScale:r,maxScale:i}=e;if(function(e,t){return null!=e&&e>0||null!=t&&t>0}(r,i))return s(t,r,i)}return!0}function n(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}r.d(t,{E5:function(){return a},JU:function(){return s},Of:function(){return i},g7:function(){return n}}),r(39819)},84624:function(e,t,r){r.d(t,{CJ:function(){return u}});var i=r(39819),s=r(21609),a=r(34194),n=r(47527),o=r(11432);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function p(e,t){if(t.restrictedWebMapWriting){const r=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return null==r||r.has(e.type)&&!(0,o.Ov)(e)}return!0}function d(e,t){"maxScale"in e&&(t.maxScale=(0,n.B)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,n.B)(e.minScale)??void 0)}function u(e,t,r){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return r?.messages&&r.messages.push(new i.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,o.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(p(e,r)){const t={};return e.write(t,r)?t:null}return null!=t&&function(e,t){if(function(e,t){if(t)if((0,o.Ov)(e)){const r=(0,a.wc)("featureCollection.layers",t),i=r?.[0]?.layerDefinition;i&&d(e,i)}else"group"!==e.type&&d(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,n.B)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,o.Ov)(e)){const r=t.featureCollection;r&&(r.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,s.o8)(t)),t}},25867:function(e,t,r){r.d(t,{A4:function(){return G},AB:function(){return T},Ao:function(){return te},CS:function(){return H},DU:function(){return J},Fr:function(){return oe},JF:function(){return _},MK:function(){return C},Tt:function(){return k},Uu:function(){return B},a$:function(){return E},bG:function(){return W},bV:function(){return x},c3:function(){return K},cS:function(){return ie},gd:function(){return D},kX:function(){return I},ld:function(){return q},lm:function(){return V},n_:function(){return F},q6:function(){return re},s$:function(){return Y},sS:function(){return P},u2:function(){return Z},x1:function(){return z},xL:function(){return A},yY:function(){return se}});var i=r(58941),s=r(40633),a=r(50944),n=r(8289),o=r(2900),l=r(53743),c=r(11432),p=r(33118),d=r(54547),u=r(21168);const y=()=>s.A.getLogger("esri.widgets.Feature.support.featureUtils"),h=/href=(""|'')/gi,g=/(\{([^{\r\n]+)\})/g,m=/'/g,f=/^\s*expression\//i,b=/(\n)/gi,v=/[\u00A0-\u9999<>&]/gim,S=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,w=/^(?:mailto:|tel:)/,L="relationships/",M=(0,n.J2)("short-date-short-time");function _(e){if(null!=e)return(e.sourceLayer||e.layer)??void 0}async function T({type:e,value:t,event:r}){try{return"function"==typeof t?t(r):await t}catch(i){return void y().error("error",`An error occurred when calling the "${e}" function`,{error:i,graphic:r.graphic,value:t})}}function I(e=""){if(e)return!w.test(e.trim().toLowerCase())}function k(e){return!!e&&f.test(e)}function x(e,t){const r=function(e,t){if(!t||!k(t)||!e)return;const r=t.replace(f,"").toLowerCase();return e.find((({name:e})=>e.toLowerCase()===r))}(t,e?.fieldName);return r?r.title||null:e?e.label||e.fieldName:null}function G(e,t){const r=U(t,e);return r?r.name:e}function A(e,t){return e&&e.map((e=>G(e,t)))}function U(e,t){return e&&"function"==typeof e.getField&&t?e.getField(t)??null:null}function O(e){return`${e}`.trim()}function Z({attributes:e,globalAttributes:t,layer:r,text:i,expressionAttributes:s,fieldInfoMap:a}){return i?D({formattedAttributes:t,template:R(i,{...t,...s,...e},r),fieldInfoMap:a}):""}function D({formattedAttributes:e,template:t,fieldInfoMap:r}){return O(function(e){return e.replaceAll(h,"")}((0,a.HC)((0,a.HC)(t,(e=>function(e,t){const r=t.get(e.toLowerCase());return`{${r?.fieldName||e}}`}(e,r))),e)))}function C(e,t){return e.replaceAll(g,((e,r,i)=>{const s=U(t,i);return s?`{${s.name}}`:r}))}function R(e,t,r){const i=C(e,r);return i?i.replaceAll(S,((e,r,i)=>function(e,t,r){const i=(t=O(t))&&"{"!==t[0];return(0,a.HC)(e,function(e,t=!1){const r={...e};return Object.keys(r).forEach((e=>function(e,t,r=!1){const i=t[e];if("string"==typeof i){const s="%27",a=(r?encodeURIComponent(i):i).replaceAll(m,s);t[e]=a}}(e,r,t))),r}(r,i||!1))}(e,r||i,t))):i}function j(e){return null!=e&&"object"==typeof e&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&("feature"===e.type||"scene"===e.type||"subtype-sublayer"===e.type||"sublayer"===e.type)&&"when"in e}function P(e){return j(e)&&function(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}(e)}function H(e){return j(e)&&function(e){return!!(e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"type"in e)&&("subtype-sublayer"===e.type&&"parent"in e&&e.parent&&"object"==typeof e.parent?"globalIdField"in e.parent:"globalIdField"in e)}(e)}function N(e,t,r,i){return e.trim().split(t).map((e=>(0,o.ZV)(Number(e),(0,o.yx)(i)))).join(r)}function V(e,t){if(e?.length&&t)return e.find((e=>e.fieldName?.toLowerCase()===t.toLowerCase()))}function E(e,t,r,i){const{creatorField:s,creationDateField:a,editorField:o,editDateField:l}=e;if(!t)return;const c=(0,u.hv)(i&&"preferredTimeZone"in i?i.preferredTimeZone:null,!(!i||!("datesInUnknownTimezone"in i)||!i.datesInUnknownTimezone),r,M,"date"),p={...M,...c},d=t[l];if("number"==typeof d){const e=t[o];return{type:"edit",date:(0,n.Yq)(d,p),user:e}}const y=t[a];if("number"==typeof y){const e=t[s];return{type:"create",date:(0,n.Yq)(y,p),user:e}}return null}function F(e,t){const r=new Map;if(!e)return r;for(const i of e){if(!i.fieldName)continue;const e=G(i.fieldName,t);i.fieldName=e,r.set(e.toLowerCase(),i)}return r}function q(e){const t=[];if(!e)return t;const{fieldInfos:r,content:i}=e;return r&&t.push(...r),i&&Array.isArray(i)?(i.forEach((e=>{if("fields"===e.type){const r=e?.fieldInfos;r&&t.push(...r)}})),t):t}function W(e){return e.replaceAll(v,(e=>`&#${e.charCodeAt(0)};`))}function B(e){return"string"==typeof e?e.replaceAll(b,'<br class="esri-text-new-line" />'):e}function $(e){const{value:t,fieldName:r,fieldInfos:s,fieldInfoMap:a,layer:n,graphic:c,timeZone:d}=e;if(null==t)return"";const u=function({fieldName:e,value:t,graphic:r,layer:s}){if(Y(e))return null;if(!s||"function"!=typeof s.getFieldDomain)return null;const a=r&&s.getFieldDomain(e,{feature:r,excludeImpliedDomains:(0,i.A)("esri-widget-legacy-field-domain-calculation")});return a&&"coded-value"===a.type?a.getName(t):null}({fieldName:r,value:t,graphic:c,layer:n});if(u)return u;const y=function({fieldName:e,graphic:t,layer:r}){if(Y(e))return null;if(!r||"function"!=typeof r.getFeatureType)return null;const{typeIdField:i}=r;if(!i||e!==i)return null;const s=r.getFeatureType(t);return s?s.name:null}({fieldName:r,graphic:c,layer:n});if(y)return y;if(a.get(r.toLowerCase()))return function(e,t){const{fieldInfos:r,fieldName:i,preventPlacesFormatting:s,layer:a,timeZone:n}=t,c=V(r,i),d=U(a,i);if(c&&!(0,l.JL)(i)){const t=d?.type,r=c.format?.dateFormat;if("date"===t||"date-only"===t||"time-only"===t||"timestamp-offset"===t||r)return(0,p.i0)(e,{format:r,fieldType:t,timeZoneOptions:{layerTimeZone:a&&"preferredTimeZone"in a?a.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:!(!a||!("datesInUnknownTimezone"in a)||!a.datesInUnknownTimezone)}})}const u=c?.format;return"string"==typeof e&&(0,l.JL)(i)&&u?function(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?N(e,",",", ",t):e.includes(";")?N(e,";","; ",t):e.includes(" ")?N(e," "," ",t):(0,o.ZV)(Number(e),(0,o.yx)(t))}(e,u):"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e);if(!isNaN(t))return t}return e}(e,u))||null==e||null==u?B(e):(0,o.ZV)(e,s?{...(0,o.yx)(u),minimumFractionDigits:0,maximumFractionDigits:20}:(0,o.yx)(u))}(t,{fieldInfos:s||Array.from(a.values()),fieldName:r,layer:n,timeZone:d});const h=n?.fieldsIndex?.get(r);return h&&((0,p.fs)(h)||(0,l.OH)(h))?(0,p.i0)(t,{fieldType:h.type,timeZoneOptions:{layerTimeZone:n&&"preferredTimeZone"in n?n.preferredTimeZone:null,viewTimeZone:d,datesInUnknownTimezone:!(!n||!("datesInUnknownTimezone"in n)||!n.datesInUnknownTimezone)}}):B(t)}function z({fieldInfos:e,attributes:t,layer:r,graphic:i,fieldInfoMap:s,relatedInfos:a,timeZone:n}){const o={};return a?.forEach((t=>function({attributes:e,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:s,timeZone:a}){e&&t&&(t.relatedFeatures?.forEach((n=>Q({attributes:e,graphic:n,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:s,timeZone:a}))),t.relatedStatsFeatures?.forEach((n=>Q({attributes:e,graphic:n,relatedInfo:t,fieldInfoMap:r,fieldInfos:i,layer:s,timeZone:a}))))}({attributes:o,relatedInfo:t,fieldInfoMap:s,fieldInfos:e,layer:r,timeZone:n}))),t&&Object.keys(t).forEach((a=>{const l=t[a];o[a]=$({fieldName:a,fieldInfos:e,fieldInfoMap:s,layer:r,value:l,graphic:i,timeZone:n})})),o}async function J(e,t){const{layer:r,graphic:i,outFields:s,objectIds:a,returnGeometry:n,spatialReference:o}=e,l=a[0];if("number"!=typeof l&&"string"!=typeof l){const e="Could not query required fields for the specified feature. The feature's ID is invalid.",t={layer:r,graphic:i,objectId:l,requiredFields:s};return y().warn(e,t),null}if(!(0,c.BR)(r)?.operations?.supportsQuery){const e="The specified layer cannot be queried. The following fields will not be available.",t={layer:r,graphic:i,requiredFields:s,returnGeometry:n};return y().warn(e,t),null}const p=r.createQuery();return p.objectIds=a,p.outFields=s?.length?s:[r.objectIdField],p.returnGeometry=!!n,p.returnZ=!!n,p.returnM=!!n,p.outSpatialReference=o,(await r.queryFeatures(p,t)).features[0]}async function K({graphic:e,popupTemplate:t,layer:r,spatialReference:i},s){if(!r||!t)return;if("function"==typeof r.load&&await r.load(s),!e.attributes)return;const a=r.objectIdField,n=e.attributes[a];if(null==n)return;const o=[n],c=await t.getRequiredFields(r.fieldsIndex),p=(0,l.Kl)(c,e),u=p?[]:c.includes(a)?c:[...c,a],y=t.returnGeometry||await async function(e){if(!e.expressionInfos?.length)return!1;const t=await(0,d.lw)(),{arcadeUtils:{hasGeometryFunctions:r}}=t;return r(e)}(t);if(p&&!y)return;const h=await J({layer:r,graphic:e,outFields:u,objectIds:o,returnGeometry:y,spatialReference:i},s);h&&(h.geometry&&(e.geometry=h.geometry),h.attributes&&(e.attributes={...e.attributes,...h.attributes}))}function Y(e=""){return!!e&&e.includes(L)}function Q({attributes:e,graphic:t,relatedInfo:r,fieldInfos:i,fieldInfoMap:s,layer:a,timeZone:n}){e&&t&&r&&Object.keys(t.attributes).forEach((o=>{const l=function(e){return e?`${L}${e.layerId}/${e.fieldName}`:""}({layerId:r.relation.id.toString(),fieldName:o}),c=t.attributes[o];e[l]=$({fieldName:l,fieldInfos:i,fieldInfoMap:s,layer:a,value:c,graphic:t,timeZone:n})}))}const X=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},ee=({layer:e,method:t,query:r,definitionExpression:i})=>{if(!e.capabilities?.query?.supportsCacheHint||"attachments"===t)return;const s=null!=r.where?r.where:null,a=null!=r.geometry?r.geometry:null;X(i)||X(s)||"extent"===a?.type||"tile"===r.resultType||(r.cacheHint=!0)},te=({query:e,layer:t,method:r})=>{ee({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})},re=({queryPayload:e,layer:t,method:r})=>{ee({layer:t,method:r,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})};function ie(e,t,r){return e&&t&&r?"sublayer"===t.type?ne({layers:t.layer?.sublayers,map:e,relatedLayer:t,relationship:r})||ne({layers:t.layer?.subtables,map:e,relatedLayer:t,relationship:r}):ne({layers:e.allLayers,map:e,relatedLayer:t,relationship:r})||ne({layers:e.allTables,map:e,relatedLayer:t,relationship:r}):null}function se(e,t){return e&&"utilityNetworks"in e&&t?e.utilityNetworks?.find((e=>e.isUtilityLayer(t))):null}function ae(e,t){return e?.allTables.find((e=>"feature"===e.type&&e.layerId===t.id&&e.url===t.layer?.url))}function ne({map:e,relationship:t,relationship:{relatedTableId:r},relatedLayer:i,layers:s}){if(!s)return null;for(const a of s){if("map-image"===a.type){const r=ne({layers:a.sublayers,map:e,relatedLayer:i,relationship:t})||ne({layers:a.subtables,map:e,relatedLayer:i,relationship:t});if(r)return r;continue}if(!P(a))continue;if("sublayer"===i.type){if(a!==i&&a.id===r)return a.isTable?ae(e,a):a;continue}const s="scene"===i.type&&i.associatedLayer?i.associatedLayer.url:i.url;if(!s)return null;if("sublayer"!==a.type){if(a!==i&&a.url===s&&a.layerId===r)return a}else if(a!==i&&a.layer?.url===s&&a.id===r)return a.isTable?ae(e,a):a}return null}function oe(e){const t=e.getObjectId();return null!=t?`oid:${t}`:`uid:${e.uid}`}}}]);
//# sourceMappingURL=views-draw-support-GraphicMover.js.map