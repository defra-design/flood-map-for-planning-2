{"version":3,"file":"arcade-arcadeAsyncRuntime.js","mappings":"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","sources":["webpack://defra/./node_modules/@arcgis/core/arcade/arcadeAsyncRuntime.js","webpack://defra/./node_modules/@arcgis/core/arcade/functions/geomasync.js","webpack://defra/./node_modules/@arcgis/core/arcade/portalUtils.js","webpack://defra/./node_modules/@arcgis/core/core/workers/Connection.js","webpack://defra/./node_modules/@arcgis/core/core/workers/InvokeHandler.js","webpack://defra/./node_modules/@arcgis/core/core/workers/RemoteClient.js","webpack://defra/./node_modules/@arcgis/core/core/workers/WorkerFallback.js","webpack://defra/./node_modules/@arcgis/core/core/workers/WorkerOwner.js","webpack://defra/./node_modules/@arcgis/core/core/workers/connectionRegistry.js","webpack://defra/./node_modules/@arcgis/core/core/workers/loaderConfig.js","webpack://defra/./node_modules/@arcgis/core/core/workers/registry.js","webpack://defra/./node_modules/@arcgis/core/core/workers/staticWorkerMessages.js","webpack://defra/./node_modules/@arcgis/core/core/workers/utils.js","webpack://defra/./node_modules/@arcgis/core/core/workers/workerFactory.js","webpack://defra/./node_modules/@arcgis/core/core/workers/workers.js","webpack://defra/./node_modules/@arcgis/core/geometry/geometryEngineAsync.js","webpack://defra/./node_modules/@arcgis/core/portal/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{toSymbolId as e}from\"./arcadeEnvironment.js\";import{ArcadeModule as t}from\"./ArcadeModule.js\";import{ArcadeModuleLoader as n}from\"./ArcadeModuleLoader.js\";import{getNestedOptionalValue as r,geometryMember as o}from\"./containerUtils.js\";import a from\"./Dictionary.js\";import{ArcadeExecutionError as i,ExecutionErrorCodes as l,ensureArcadeExecutionError as s}from\"./executionError.js\";import c from\"./Feature.js\";import{NativeFunction as u,ScopeMarshalledFunction as f,ArcadeFunction as p,wrapModuleScopedResponse as w}from\"./FunctionWrapper.js\";import{G as d,a as h,E as m,i as g,c as y,z as v,o as b,b as S,g as x,r as F,q as I,j as R,D as A,F as M,R as C,I as j,A as N,B as k,x as O,C as E,u as B}from\"../chunks/languageUtils.js\";import{addFunctionDeclaration as K}from\"./treeAnalysis.js\";import{A as L}from\"../chunks/array.js\";import{registerFunctions as U}from\"./functions/date.js\";import{registerFunctions as D}from\"./functions/geomasync.js\";import{registerFunctions as G}from\"./functions/geometry.js\";import{registerFunctions as Z}from\"./functions/maths.js\";import{registerFunctions as P}from\"./functions/stats.js\";import{registerFunctions as q}from\"./functions/string.js\";import T from\"../geometry/Geometry.js\";import W from\"../geometry/SpatialReference.js\";const V=100;async function _(e,t){const n=[];for(let r=0;r<t.arguments.length;r++)n.push(await Q(e,t.arguments[r]));return n}async function z(e,t,n){if(!0===t.preparsed)return n(e,null,t.arguments);return n(e,t,await _(e,t))}class Y extends p{constructor(e,t){super(),this.definition=null,this.context=null,this.definition=e,this.context=t}createFunction(e){return(...t)=>{const n={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,timeZone:this.context.timeZone??null,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:e.depthCounter+1},globalScope:this.context.globalScope};if(n.depthCounter.depth>64)throw new i(e,l.MaximumCallDepth,null);return Le(this.definition,n,t,null)}}call(e,t){return J(e,t,((n,r,o)=>{const a={spatialReference:e.spatialReference,services:e.services,console:e.console,libraryResolver:e.libraryResolver,exports:e.exports,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:{depth:e.depthCounter.depth+1}};if(a.depthCounter.depth>64)throw new i(e,l.MaximumCallDepth,t);return Le(this.definition,a,o,t)}))}marshalledCall(e,t,n,r){return r(e,t,(async(o,a,i)=>{const l={spatialReference:e.spatialReference,globalScope:n.globalScope,depthCounter:{depth:e.depthCounter.depth+1},libraryResolver:e.libraryResolver,exports:e.exports,console:e.console,abortSignal:e.abortSignal,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{}};return i=i.map((t=>!g(t)||t instanceof f?t:w(t,e,r))),w(await Le(this.definition,l,i,t),n,r)}))}}class H extends t{constructor(e){super(),this.source=e}async global(e){const t=this.executingContext.globalScope[e.toLowerCase()];if(t.valueset||(t.value=await Q(this.executingContext,t.node),t.valueset=!0),g(t.value)&&!(t.value instanceof f)){const e=new f;e.fn=t.value,e.parameterEvaluator=J,e.context=this.executingContext,t.value=e}return t.value}setGlobal(e,t){if(g(t))throw new i(null,l.AssignModuleFunction,null);this.executingContext.globalScope[e.toLowerCase()]={value:t,valueset:!0,node:null}}hasGlobal(e){return void 0===this.executingContext.exports[e]&&(e=e.toLowerCase()),void 0!==this.executingContext.exports[e]}async loadModule(e){let t=e.spatialReference;null==t&&(t=new W({wkid:102100})),this.moduleScope=Ge({},e.customfunctions,e.timeZone),this.executingContext={spatialReference:t,services:e.services,libraryResolver:new n(e.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:this.moduleScope,console:e.console??Ze,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}},await ge(this.executingContext,this.source.syntax)}}async function J(e,t,n){if(!0===t.preparsed)return n(e,null,t.arguments);return n(e,t,await _(e,t))}async function Q(e,t){t.breakpoint&&await t.breakpoint();try{switch(t.type){case\"UpdateExpression\":return await pe(e,t);case\"AssignmentExpression\":return await de(e,t);case\"TemplateLiteral\":return await Oe(e,t);case\"Identifier\":return await Ne(e,t);case\"MemberExpression\":return await Re(e,t);case\"Literal\":return t.value;case\"CallExpression\":return await ke(e,t);case\"UnaryExpression\":return await Ae(e,t);case\"BinaryExpression\":return await Ce(e,t);case\"LogicalExpression\":return await je(e,t);case\"ArrayExpression\":return await Me(e,t);case\"ObjectExpression\":return await $(e,t);default:throw new i(e,l.Unrecognized,t)}}catch(n){throw s(e,t,n)}}async function X(e,t){t.breakpoint&&await t.breakpoint();try{switch(t.type){case\"ImportDeclaration\":return await Se(e,t);case\"ExportNamedDeclaration\":return await xe(e,t);case\"VariableDeclaration\":return await Fe(e,t,0);case\"BlockStatement\":return await ge(e,t);case\"FunctionDeclaration\":return await be(e,t);case\"ReturnStatement\":return await ve(e,t);case\"IfStatement\":return await me(e,t);case\"ExpressionStatement\":return await he(e,t);case\"ForStatement\":return await oe(e,t);case\"WhileStatement\":return await ee(e,t);case\"ForInStatement\":return await fe(e,t);case\"BreakStatement\":return N;case\"EmptyStatement\":return v;case\"ContinueStatement\":return k;default:throw new i(e,l.Unrecognized,t)}}catch(n){throw s(e,t,n)}}async function $(e,t){const n=[];for(let a=0;a<t.properties.length;a++){const r=t.properties[a],o=await Q(e,r.value),i=\"Identifier\"===r.key.type?r.key.name:await Q(e,r.key);n[a]={key:i,value:o}}const r={},o=new Map;for(let a=0;a<n.length;a++){const s=n[a];if(g(s.value))throw new i(e,l.NoFunctionInDictionary,t);if(!1===y(s.key))throw new i(e,l.KeyMustBeString,t);let c=s.key.toString();const u=c.toLowerCase();o.has(u)?c=o.get(u):o.set(u,c),s.value===v?r[c]=null:r[c]=s.value}const s=new a(r);return s.immutable=!1,s}async function ee(e,t){const n={testResult:!0,lastAction:v};if(n.testResult=await Q(e,t.test),!1===n.testResult)return v;if(!0!==n.testResult)throw new i(e,l.BooleanConditionRequired,t);for(;!0===n.testResult&&(n.lastAction=await X(e,t.body),n.lastAction!==N)&&!(n.lastAction instanceof C);)if(n.testResult=await Q(e,t.test),!0!==n.testResult&&!1!==n.testResult)throw new i(e,l.BooleanConditionRequired,t);return n.lastAction instanceof C?n.lastAction:v}async function te(e,t,n){const r=await X(e,t.body);return n.lastAction=r,n.lastAction===N||n.lastAction instanceof C?(n.testResult=!1,n):null!==t.update?(await Q(e,t.update),n):n}async function ne(e,t,n){if(null!==t.test){const r=await Q(e,t.test);if(!0===e.abortSignal?.aborted)throw new i(e,l.Cancelled,t);if(n.testResult=r,!1===n.testResult)return n;if(!0!==n.testResult)throw new i(e,l.BooleanConditionRequired,t);return te(e,t,n)}return te(e,t,n)}function re(e,t,n,r,o,a){try{ne(e,t,n).then((()=>{try{!0===n.testResult?++a>V?(a=0,setTimeout((()=>{re(e,t,n,r,o,a)}),0)):re(e,t,n,r,o,a):n.lastAction instanceof C?r(n.lastAction):r(v)}catch(i){o(i)}}),(e=>{o(e)}))}catch(i){o(i)}}async function oe(e,t){try{return null!==t.init&&(\"VariableDeclaration\"===t.init.type?await X(e,t.init):await Q(e,t.init)),await new Promise(((n,r)=>{re(e,t,{testResult:!0,lastAction:v},(e=>{n(e)}),(e=>{r(e)}),0)}))}catch(n){throw n}}function ae(e,t,n,r,o,a,i,l,s,c){try{if(r<=a)return void l(v);o.value=\"k\"===i?n[a]:a,X(e,t.body).then((u=>{try{u instanceof C?l(u):u===N?l(v):++c>V?(c=0,setTimeout((()=>{ae(e,t,n,r,o,a+1,i,l,s,c)}),0)):ae(e,t,n,r,o,a+1,i,l,s,c)}catch(f){s(f)}}),(e=>{s(e)}))}catch(u){s(u)}}function ie(e,t,n,r,o,a,i,l,s){try{if(n.length()<=o)return void i(v);r.value=\"k\"===a?n.get(o):o,X(e,t.body).then((c=>{c instanceof C?i(c):c===N?i(v):++s>V?(s=0,setTimeout((()=>{ie(e,t,n,r,o+1,a,i,l,s)}),0)):ie(e,t,n,r,o+1,a,i,l,s)}),(e=>{l(e)}))}catch(c){l(c)}}function le(e,t,n,r,o,a){try{if(void 0===a&&(a=\"i\"),0===n.length)return void r.resolve(v);ae(e,t,n,n.length,o,0,a,(e=>{r.resolve(e)}),(e=>{r.reject(e)}),0)}catch(i){r.reject(i)}}function se(e,t,n,r,o,a){try{if(void 0===a&&(a=\"i\"),0===n.length())return void r.resolve(v);ie(e,t,n,o,0,a,(e=>{r.resolve(e)}),(e=>{r.reject(e)}),0)}catch(i){r.reject(i)}}function ce(e,t,n,r,o){try{le(e,t,n.keys(),r,o,\"k\")}catch(a){r.reject(a)}}function ue(e,t,n,r,o,a,i,l){try{e.next().then((s=>{try{if(null===s)a(v);else{const u=c.createFromGraphicLikeObject(s.geometry,s.attributes,r,t.timeZone);u._underlyingGraphic=s,o.value=u;X(t,n.body).then((s=>{try{s===N?a(v):s instanceof C?a(s):++l>V?(l=0,setTimeout((()=>{ue(e,t,n,r,o,a,i,l)}),0)):ue(e,t,n,r,o,a,i,l)}catch(c){i(c)}}),(e=>{i(e)}))}}catch(u){i(u)}}),(e=>{i(e)}))}catch(s){i(s)}}async function fe(t,n){return new Promise(((r,o)=>{Q(t,n.right).then((s=>{try{let c;c=\"VariableDeclaration\"===n.left.type?X(t,n.left):Promise.resolve(),c.then((()=>{try{const c=e(\"VariableDeclaration\"===n.left.type?n.left.declarations[0].id:n.left);let u=null;if(null!=t.localScope&&void 0!==t.localScope[c]&&(u=t.localScope[c]),null===u&&void 0!==t.globalScope[c]&&(u=t.globalScope[c]),null===u)return void o(new i(t,l.InvalidIdentifier,n));b(s)||y(s)?le(t,n,s,{reject:o,resolve:r},u):I(s)?se(t,n,s,{reject:o,resolve:r},u):s instanceof a||F(s)?ce(t,n,s,{reject:o,resolve:r},u):B(s)?ue(s.iterator(t.abortSignal),t,n,s,u,(e=>{r(e)}),(e=>{o(e)}),0):le(t,n,[],{reject:o,resolve:r},u)}catch(c){o(c)}}),o)}catch(c){o(c)}}),o)}))}async function pe(t,n){const r=n.argument;if(\"CallExpression\"===r.type)throw new i(t,l.NeverReach,n);if(\"MemberExpression\"===r.type){const e=await Q(t,r.object);let o,s;if(!0===r.computed)o=await Q(t,r.property);else{if(\"Identifier\"!==r.property.type)throw new i(t,l.Unrecognized,n);o=r.property.name}if(b(e)){if(!S(o))throw new i(t,l.ArrayAccessorMustBeNumber,n);if(o<0&&(o=e.length+o),o<0||o>=e.length)throw new i(t,l.OutOfBounds,n);s=x(e[o]),e[o]=\"++\"===n.operator?s+1:s-1}else if(e instanceof a){if(!1===y(o))throw new i(t,l.KeyAccessorMustBeString,n);if(!0!==e.hasField(o))throw new i(t,l.FieldNotFound,n,{key:o});s=x(e.field(o)),e.setField(o,\"++\"===n.operator?s+1:s-1)}else if(e instanceof H){if(!1===y(o))throw new i(t,l.ModuleAccessorMustBeString,n);if(!0!==e.hasGlobal(o))throw new i(t,l.ModuleExportNotFound,n);s=x(await e.global(o)),e.setGlobal(o,\"++\"===n.operator?s+1:s-1)}else{if(!F(e))throw I(e)?new i(t,l.Immutable,n):new i(t,l.InvalidParameter,n);if(!1===y(o))throw new i(t,l.KeyAccessorMustBeString,n);if(!0!==e.hasField(o))throw new i(t,l.FieldNotFound,n,{key:o});s=x(e.field(o)),e.setField(o,\"++\"===n.operator?s+1:s-1)}return!1===n.prefix?s:\"++\"===n.operator?s+1:s-1}const o=e(r);let s;if(null!=t.localScope&&void 0!==t.localScope[o])return s=x(t.localScope[o].value),t.localScope[o]={value:\"++\"===n.operator?s+1:s-1,valueset:!0,node:n},!1===n.prefix?s:\"++\"===n.operator?s+1:s-1;if(void 0!==t.globalScope[o])return s=x(t.globalScope[o].value),t.globalScope[o]={value:\"++\"===n.operator?s+1:s-1,valueset:!0,node:n},!1===n.prefix?s:\"++\"===n.operator?s+1:s-1;throw new i(t,l.InvalidIdentifier,n)}function we(e,t,n,r,o){switch(t){case\"=\":return e===v?null:e;case\"/=\":return x(n)/x(e);case\"*=\":return x(n)*x(e);case\"-=\":return x(n)-x(e);case\"+=\":return y(n)||y(e)?R(n)+R(e):x(n)+x(e);case\"%=\":return x(n)%x(e);default:throw new i(o,l.UnsupportedOperator,r)}}async function de(t,n){const r=n.left;if(\"MemberExpression\"===r.type){const e=await Q(t,r.object);let o;if(!0===r.computed)o=await Q(t,r.property);else{if(\"Identifier\"!==r.property.type)throw new i(t,l.InvalidIdentifier,n);o=r.property.name}const s=await Q(t,n.right);if(b(e)){if(!S(o))throw new i(t,l.ArrayAccessorMustBeNumber,n);if(o<0&&(o=e.length+o),o<0||o>e.length)throw new i(t,l.OutOfBounds,n);if(o===e.length){if(\"=\"!==n.operator)throw new i(t,l.OutOfBounds,n);e[o]=we(s,n.operator,e[o],n,t)}else e[o]=we(s,n.operator,e[o],n,t)}else if(e instanceof a){if(!1===y(o))throw new i(t,l.KeyAccessorMustBeString,n);if(!0===e.hasField(o))e.setField(o,we(s,n.operator,e.field(o),n,t));else{if(\"=\"!==n.operator)throw new i(t,l.FieldNotFound,n,{key:o});e.setField(o,we(s,n.operator,null,n,t))}}else if(e instanceof H){if(!1===y(o))throw new i(t,l.KeyAccessorMustBeString,n);if(!0!==e.hasGlobal(o))throw new i(t,l.ModuleExportNotFound,n);e.setGlobal(o,we(s,n.operator,await e.global(o),n,t))}else{if(!F(e))throw I(e)?new i(t,l.Immutable,n):new i(t,l.InvalidParameter,n);if(!1===y(o))throw new i(t,l.KeyAccessorMustBeString,n);if(!0===e.hasField(o))e.setField(o,we(s,n.operator,e.field(o),n,t));else{if(\"=\"!==n.operator)throw new i(t,l.FieldNotFound,n,{key:o});e.setField(o,we(s,n.operator,null,n,t))}}return v}const o=e(r);if(null!=t.localScope&&void 0!==t.localScope[o]){const e=await Q(t,n.right);return t.localScope[o]={value:we(e,n.operator,t.localScope[o].value,n,t),valueset:!0,node:n.right},v}if(void 0!==t.globalScope[o]){const e=await Q(t,n.right);return t.globalScope[o]={value:we(e,n.operator,t.globalScope[o].value,n,t),valueset:!0,node:n.right},v}throw new i(t,l.InvalidIdentifier,n)}async function he(e,t){const n=await Q(e,t.expression);return n===v?v:new j(n)}async function me(e,t){const n=await Q(e,t.test);if(!0===n)return X(e,t.consequent);if(!1===n)return null!==t.alternate?X(e,t.alternate):v;throw new i(e,l.BooleanConditionRequired,t)}async function ge(e,t){return ye(e,t,0)}async function ye(e,t,n){if(n>=t.body.length)return v;const r=await X(e,t.body[n]);return r instanceof C||r===N||r===k||n===t.body.length-1?r:ye(e,t,n+1)}async function ve(e,t){if(null===t.argument)return new C(v);const n=await Q(e,t.argument);return new C(n)}async function be(t,n){const r=e(n.id);return t.globalScope[r]={valueset:!0,node:null,value:new Y(n,t)},v}async function Se(t,n){const r=e(n.specifiers[0].local),o=t.libraryResolver.loadLibrary(r);let a;return t.libraryResolver._moduleSingletons?.has(o.uri)?a=t.libraryResolver._moduleSingletons.get(o.uri):(a=new H(o),await a.loadModule(t),t.libraryResolver._moduleSingletons?.set(o.uri,a)),t.globalScope[r]={value:a,valueset:!0,node:n},v}async function xe(t,n){if(await X(t,n.declaration),\"FunctionDeclaration\"===n.declaration.type)t.exports[e(n.declaration.id)]=\"function\";else if(\"VariableDeclaration\"===n.declaration.type)for(const r of n.declaration.declarations)t.exports[e(r.id)]=\"variable\";return v}async function Fe(e,t,n){return n>=t.declarations.length?v:(await Ie(e,t.declarations[n]),n===t.declarations.length-1||await Fe(e,t,n+1),v)}async function Ie(t,n){let r=null;if(r=null===n.init?null:await Q(t,n.init),null!==t.localScope){if(r===v&&(r=null),\"Identifier\"!==n.id.type)throw new i(t,l.InvalidIdentifier,n);const o=e(n.id);return void(null!=t.localScope&&(t.localScope[o]={value:r,valueset:!0,node:n.init}))}if(\"Identifier\"!==n.id.type)throw new i(t,l.InvalidIdentifier,n);const o=e(n.id);r===v&&(r=null),t.globalScope[o]={value:r,valueset:!0,node:n.init}}async function Re(e,t){const n=await Q(e,t.object);if(null===n)throw new i(e,l.MemberOfNull,t);if(!1===t.computed){if(\"Identifier\"===t.property.type){if(n instanceof a||F(n))return n.field(t.property.name);if(n instanceof T)return o(n,t.property.name,e,t);if(n instanceof H){if(!n.hasGlobal(t.property.name))throw new i(e,l.InvalidIdentifier,t);return n.global(t.property.name)}throw new i(e,l.InvalidMemberAccessKey,t)}throw new i(e,l.InvalidMemberAccessKey,t)}let r=await Q(e,t.property);if(n instanceof a||F(n)){if(y(r))return n.field(r);throw new i(e,l.InvalidMemberAccessKey,t)}if(n instanceof H){if(y(r))return n.global(r);throw new i(e,l.InvalidMemberAccessKey,t)}if(n instanceof T){if(y(r))return o(n,r,e,t);throw new i(e,l.InvalidMemberAccessKey,t)}if(b(n)){if(S(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length+r),r>=n.length||r<0)throw new i(e,l.OutOfBounds,t);return n[r]}throw new i(e,l.InvalidMemberAccessKey,t)}if(I(n)){if(S(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length()+r),r>=n.length()||r<0)throw new i(e,l.OutOfBounds,t);return n.get(r)}throw new i(e,l.InvalidMemberAccessKey,t)}if(y(n)){if(S(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length+r),r>=n.length||r<0)throw new i(e,l.OutOfBounds,t);return n[r]}throw new i(e,l.InvalidMemberAccessKey,t)}throw new i(e,l.InvalidMemberAccessKey,t)}async function Ae(e,t){const n=await Q(e,t.argument);if(h(n)){if(\"!\"===t.operator)return!n;if(\"-\"===t.operator)return-1*x(n);if(\"+\"===t.operator)return 1*x(n);if(\"~\"===t.operator)return~x(n);throw new i(e,l.UnsupportedUnaryOperator,t)}if(\"-\"===t.operator)return-1*x(n);if(\"+\"===t.operator)return 1*x(n);if(\"~\"===t.operator)return~x(n);throw new i(e,l.UnsupportedUnaryOperator,t)}async function Me(e,t){const n=[];for(let r=0;r<t.elements.length;r++)n.push(await Q(e,t.elements[r]));for(let r=0;r<n.length;r++){if(g(n[r]))throw new i(e,l.NoFunctionInArray,t);n[r]===v&&(n[r]=null)}return n}async function Ce(e,t){const n=await Q(e,t.left),r=await Q(e,t.right);switch(t.operator){case\"|\":case\"<<\":case\">>\":case\">>>\":case\"^\":case\"&\":return M(x(n),x(r),t.operator);case\"==\":return m(n,r);case\"!=\":return!m(n,r);case\"<\":case\">\":case\"<=\":case\">=\":return A(n,r,t.operator);case\"+\":return y(n)||y(r)?R(n)+R(r):x(n)+x(r);case\"-\":return x(n)-x(r);case\"*\":return x(n)*x(r);case\"/\":return x(n)/x(r);case\"%\":return x(n)%x(r);default:throw new i(e,l.UnsupportedOperator,t)}}async function je(e,t){const n=await Q(e,t.left);if(!h(n))throw new i(e,l.LogicalExpressionOnlyBoolean,t);switch(t.operator){case\"||\":{if(!0===n)return n;const r=await Q(e,t.right);if(h(r))return r;throw new i(e,l.LogicExpressionOrAnd,t)}case\"&&\":{if(!1===n)return n;const r=await Q(e,t.right);if(h(r))return r;throw new i(e,l.LogicExpressionOrAnd,t)}default:throw new i(e,l.LogicExpressionOrAnd,t)}}async function Ne(t,n){const r=e(n);if(null!=t.localScope&&void 0!==t.localScope[r]){const e=t.localScope[r];if(!0===e.valueset)return e.value;if(null!==e.d)return e.d;e.d=Q(t,e.node);const n=await e.d;return e.value=n,e.valueset=!0,n}if(void 0!==t.globalScope[r]){const e=t.globalScope[r];if(!0===e.valueset)return e.value;if(null!==e.d)return e.d;e.d=Q(t,e.node);const n=await e.d;return e.value=n,e.valueset=!0,n}throw new i(t,l.InvalidIdentifier,n)}async function ke(t,n){if(\"MemberExpression\"===n.callee.type){const e=await Q(t,n.callee.object);if(!(e instanceof H))throw new i(t,l.FunctionNotFound,n);const r=!1===n.callee.computed?n.callee.property.name:await Q(t,n.callee.property);if(!e.hasGlobal(r))throw new i(t,l.FunctionNotFound,n);const o=await e.global(r);if(!g(o))throw new i(t,l.CallNonFunction,n);return o.call(t,n)}if(\"Identifier\"!==n.callee.type)throw new i(t,l.FunctionNotFound,n);const r=e(n.callee);if(null!=t.localScope&&void 0!==t.localScope[r]){const e=t.localScope[r];if(g(e.value))return e.value.call(t,n);throw new i(t,l.CallNonFunction,n)}if(void 0!==t.globalScope[r]){const e=t.globalScope[r];if(g(e.value))return e.value.call(t,n);throw new i(t,l.CallNonFunction,n)}throw new i(t,l.FunctionNotFound,n)}async function Oe(e,t){let n=\"\",r=0;for(const o of t.quasis)if(n+=o.value?o.value.cooked:\"\",!1===o.tail){if(t.expressions[r]){const o=await Q(e,t.expressions[r]);if(g(o))throw new i(e,l.NoFunctionInTemplateLiteral,t);n+=R(o)}r++}return n}const Ee={};async function Be(e,t,n,r){const o=await Q(e,t.arguments[n]);if(m(o,r))return Q(e,t.arguments[n+1]);const a=t.arguments.length-n;return 1===a?Q(e,t.arguments[n]):2===a?null:3===a?Q(e,t.arguments[n+2]):Be(e,t,n+2,r)}async function Ke(e,t,n,r){if(!0===r)return Q(e,t.arguments[n+1]);if(3===t.arguments.length-n)return Q(e,t.arguments[n+2]);const o=await Q(e,t.arguments[n+2]);if(!1===h(o))throw new i(e,l.ModuleExportNotFound,t.arguments[n+2]);return Ke(e,t,n+2,o)}async function Le(t,n,r,o){const a=t.body;if(r.length!==t.params.length)throw new i(n,l.WrongNumberOfParameters,null);for(let i=0;i<r.length;i++){const o=t.params[i];\"Identifier\"===o.type&&null!=n.localScope&&(n.localScope[e(o)]={d:null,value:r[i],valueset:!0,node:null})}const s=await X(n,a);if(s instanceof C)return s.value;if(s===N)throw new i(n,l.UnexpectedToken,o);if(s===k)throw new i(n,l.UnexpectedToken,o);return s instanceof j?s.value:s}U(Ee,z),q(Ee,z),Z(Ee,z),G(Ee,z),P(Ee,z),D({functions:Ee,compiled:!1,signatures:null,evaluateIdentifier:null,mode:\"async\",standardFunction:z,standardFunctionAsync:J}),Ee.iif=async function(e,t){d(null===t.arguments?[]:t.arguments,3,3,e,t);const n=await Q(e,t.arguments[0]);if(!1===h(n))throw new i(e,l.BooleanConditionRequired,t);return Q(e,n?t.arguments[1]:t.arguments[2])},Ee.defaultvalue=async function(e,t){d(null===t.arguments?[]:t.arguments,2,3,e,t);const n=await Q(e,t.arguments[0]);if(3===t.arguments.length){const o=await Q(e,t.arguments[1]),a=r(n,o);return null!=a&&\"\"!==a?a:Q(e,t.arguments[2])}return null==n||\"\"===n?Q(e,t.arguments[1]):n},Ee.decode=async function(e,t){if(t.arguments.length<2)throw new i(e,l.WrongNumberOfParameters,t);if(2===t.arguments.length)return Q(e,t.arguments[1]);if((t.arguments.length-1)%2==0)throw new i(e,l.WrongNumberOfParameters,t);return Be(e,t,1,await Q(e,t.arguments[0]))},Ee.when=async function(e,t){if(t.arguments.length<3)throw new i(e,l.WrongNumberOfParameters,t);if(t.arguments.length%2==0)throw new i(e,l.WrongNumberOfParameters,t);const n=await Q(e,t.arguments[0]);if(!1===h(n))throw new i(e,l.BooleanConditionRequired,t.arguments[0]);return Ke(e,t,0,n)};const Ue={fixSpatialReference:O,parseArguments:_,standardFunction:z,standardFunctionAsync:J,evaluateIdentifier:Ne};for(const We in Ee)Ee[We]={value:new u(Ee[We]),valueset:!0,node:null};const De=function(){};function Ge(e,t,n){const r=new De;null==e&&(e={}),null==t&&(t={});const o=new a({newline:\"\\n\",tab:\"\\t\",singlequote:\"'\",doublequote:'\"',forwardslash:\"/\",backwardslash:\"\\\\\"});o.immutable=!1,r.textformatting={value:o,valueset:!0,node:null};for(const a in t)r[a]={value:new u(t[a]),native:!0,valueset:!0,node:null};for(const a in e)r[a]={value:E(e[a])?c.createFromGraphic(e[a],n):e[a],valueset:!0,node:null};return r}function Ze(e){console.log(e)}De.prototype=Ee,De.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},De.prototype.pi={value:Math.PI,valueset:!0,node:null};const Pe=Ue;function qe(e){const t={mode:\"async\",compiled:!1,functions:{},signatures:[],standardFunction:z,standardFunctionAsync:J,evaluateIdentifier:Ne};for(let n=0;n<e.length;n++)e[n].registerFunctions(t);for(const n in t.functions)Ee[n]={value:new u(t.functions[n]),valueset:!0,node:null},De.prototype[n]=Ee[n];for(let n=0;n<t.signatures.length;n++)K(t.signatures[n],\"async\")}async function Te(e,t){let r=t.spatialReference;null==r&&(r=new W({wkid:102100}));let o=null;e.usesModules&&(o=new n(new Map,e.loadedModules));const a=Ge(t.vars,t.customfunctions,t.timeZone),s={spatialReference:r,services:t.services,exports:{},libraryResolver:o,abortSignal:void 0===t.abortSignal||null===t.abortSignal?{aborted:!1}:t.abortSignal,globalScope:a,console:t.console??Ze,timeZone:t.timeZone??null,lrucache:t.lrucache,interceptor:t.interceptor,localScope:null,depthCounter:{depth:1}},c=await ge(s,e);if(c instanceof C||c instanceof j){const e=c.value;if(e===v)return null;if(g(e))throw new i(s,l.IllegalResult,null);return e}if(c===v)return null;if(c===N)throw new i(s,l.IllegalResult,null);if(c===k)throw new i(s,l.IllegalResult,null);throw new i(s,l.NeverReach,null)}qe([L]);export{Te as executeScript,qe as extend,Pe as functionHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport n from\"../ArcadePortal.js\";import t from\"../Dictionary.js\";import{ArcadeExecutionError as e,ExecutionErrorCodes as r}from\"../executionError.js\";import{cloneGeometry as i,convertSquareUnitsToCode as a,convertLinearUnitsToCode as o}from\"../kernel.js\";import{H as l,G as s,k as u,n as c,m as f,j as d,o as w,q as m,x as h,u as p,K as y,J as g,L as v,M as P,g as I,h as A,b as F,N as R}from\"../../chunks/languageUtils.js\";import{getPortal as j}from\"../portalUtils.js\";import{centroidPolyline as b,centroidMultiPoint as N,getMetersPerVerticalUnitForSR as x,segmentLength3d as O}from\"./centroid.js\";import{measureToCoordinate as S,pointToCoordinate as D,distanceToCoordinate as L}from\"./measures.js\";import{getMetersPerUnitForSR as M}from\"../../core/unitUtils.js\";import T from\"../../geometry/Extent.js\";import k from\"../../geometry/Geometry.js\";import{disjoint as J,intersects as Z,touches as C,crosses as E,within as U,contains as q,overlaps as z,equals as W,relate as G,intersect as H,union as K,difference as V,symmetricDifference as B,clip as Q,cut as X,planarArea as Y,geodesicArea as $,planarLength as _,geodesicLength as nn,distance as tn,densify as en,geodesicDensify as rn,generalize as an,buffer as on,geodesicBuffer as ln,offset as sn,rotate as un,simplify as cn,isSimple as fn,convexHull as dn,nearestCoordinate as wn,nearestVertex as mn}from\"../../geometry/geometryEngineAsync.js\";import hn from\"../../geometry/Multipoint.js\";import pn from\"../../geometry/Point.js\";import yn from\"../../geometry/Polygon.js\";import gn from\"../../geometry/Polyline.js\";import{fromJSON as vn}from\"../../geometry/support/jsonUtils.js\";import Pn from\"../../portal/Portal.js\";import{lookupUser as In}from\"../../portal/support/utils.js\";function An(n,t,i){if(s(n,2,2,t,i),n[0]instanceof k&&n[1]instanceof k);else if(n[0]instanceof k&&null===n[1]);else if(n[1]instanceof k&&null===n[0]);else if(null!==n[0]||null!==n[1])throw new e(t,r.InvalidParameter,i)}async function Fn(n,t){if(\"polygon\"!==n.type&&\"polyline\"!==n.type&&\"extent\"!==n.type)return 0;let e=1;if(n.spatialReference.vcsWkid||n.spatialReference.latestVcsWkid){e=x(n.spatialReference)/M(n.spatialReference)}let r=0;if(\"polyline\"===n.type)for(const a of n.paths)for(let n=1;n<a.length;n++)r+=O(a[n],a[n-1],e);else if(\"polygon\"===n.type)for(const a of n.rings){for(let n=1;n<a.length;n++)r+=O(a[n],a[n-1],e);(a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1]||void 0!==a[0][2]&&a[0][2]!==a[a.length-1][2])&&(r+=O(a[0],a[a.length-1],e))}else\"extent\"===n.type&&(r+=2*O([n.xmin,n.ymin,0],[n.xmax,n.ymin,0],e),r+=2*O([n.xmin,n.ymin,0],[n.xmin,n.ymax,0],e),r*=2,r+=4*Math.abs(y(n.zmax,0)*e-y(n.zmin,0)*e));const i=new gn({hasZ:!1,hasM:!1,spatialReference:n.spatialReference,paths:[[[0,0],[0,r]]]});return _(i,t)}function Rn(x){\"async\"===x.mode&&(x.functions.disjoint=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null===i[0]||null===i[1]||J(i[0],i[1]))))},x.functions.intersects=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null!==i[0]&&null!==i[1]&&Z(i[0],i[1]))))},x.functions.touches=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null!==i[0]&&null!==i[1]&&C(i[0],i[1]))))},x.functions.crosses=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null!==i[0]&&null!==i[1]&&E(i[0],i[1]))))},x.functions.within=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null!==i[0]&&null!==i[1]&&U(i[0],i[1]))))},x.functions.contains=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null!==i[0]&&null!==i[1]&&q(i[0],i[1]))))},x.functions.overlaps=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null!==i[0]&&null!==i[1]&&z(i[0],i[1]))))},x.functions.equals=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(s(i,2,2,n,t),i[0]===i[1]||(i[0]instanceof k&&i[1]instanceof k?W(i[0],i[1]):(u(i[0])&&u(i[1])||!!(c(i[0])&&c(i[1])||f(i[0])&&f(i[1])))&&i[0].equals(i[1])))))},x.functions.relate=function(n,t){return x.standardFunctionAsync(n,t,((i,a,o)=>{if(o=l(o),s(o,3,3,n,t),o[0]instanceof k&&o[1]instanceof k)return G(o[0],o[1],d(o[2]));if(o[0]instanceof k&&null===o[1])return!1;if(o[1]instanceof k&&null===o[0])return!1;if(null===o[0]&&null===o[1])return!1;throw new e(n,r.InvalidParameter,t)}))},x.functions.intersection=function(n,t){return x.standardFunctionAsync(n,t,((e,r,i)=>(An(i=l(i),n,t),null===i[0]||null===i[1]?null:H(i[0],i[1]))))},x.functions.union=function(n,t){return x.standardFunctionAsync(n,t,((a,o,s)=>{const u=[];if(0===(s=l(s)).length)throw new e(n,r.WrongNumberOfParameters,t);if(1===s.length)if(w(s[0])){const i=l(s[0]);for(let a=0;a<i.length;a++)if(null!==i[a]){if(!(i[a]instanceof k))throw new e(n,r.InvalidParameter,t);u.push(i[a])}}else{if(!m(s[0])){if(s[0]instanceof k)return h(i(s[0]),n.spatialReference);if(null===s[0])return null;throw new e(n,r.InvalidParameter,t)}{const i=l(s[0].toArray());for(let a=0;a<i.length;a++)if(null!==i[a]){if(!(i[a]instanceof k))throw new e(n,r.InvalidParameter,t);u.push(i[a])}}}else for(let i=0;i<s.length;i++)if(null!==s[i]){if(!(s[i]instanceof k))throw new e(n,r.InvalidParameter,t);u.push(s[i])}return 0===u.length?null:K(u)}))},x.functions.difference=function(n,t){return x.standardFunctionAsync(n,t,((e,r,a)=>(An(a=l(a),n,t),null===a[0]?null:null===a[1]?i(a[0]):V(a[0],a[1]))))},x.functions.symmetricdifference=function(n,t){return x.standardFunctionAsync(n,t,((e,r,a)=>(An(a=l(a),n,t),null===a[0]&&null===a[1]?null:null===a[0]?i(a[1]):null===a[1]?i(a[0]):B(a[0],a[1]))))},x.functions.clip=function(n,t){return x.standardFunctionAsync(n,t,((i,a,o)=>{if(o=l(o),s(o,2,2,n,t),!(o[1]instanceof T)&&null!==o[1])throw new e(n,r.InvalidParameter,t);if(null===o[0])return null;if(!(o[0]instanceof k))throw new e(n,r.InvalidParameter,t);return null===o[1]?null:Q(o[0],o[1])}))},x.functions.cut=function(n,t){return x.standardFunctionAsync(n,t,((a,o,u)=>{if(u=l(u),s(u,2,2,n,t),!(u[1]instanceof gn)&&null!==u[1])throw new e(n,r.InvalidParameter,t);if(null===u[0])return[];if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);return null===u[1]?[i(u[0])]:X(u[0],u[1])}))},x.functions.area=function(n,t){return x.standardFunctionAsync(n,t,(async(i,o,u)=>{if(s(u,1,2,n,t),null===(u=l(u))[0])return 0;if(p(u[0])){const i=await u[0].sumArea(a(y(u[1],-1)),!1,n.abortSignal);if(n.abortSignal.aborted)throw new e(n,r.Cancelled,t);return i}if(w(u[0])||m(u[0])){const t=g(u[0],n.spatialReference);return null===t?0:Y(t,a(y(u[1],-1)))}if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);return Y(u[0],a(y(u[1],-1)))}))},x.functions.areageodetic=function(n,t){return x.standardFunctionAsync(n,t,(async(i,o,u)=>{if(s(u,1,2,n,t),null===(u=l(u))[0])return 0;if(p(u[0])){const i=await u[0].sumArea(a(y(u[1],-1)),!0,n.abortSignal);if(n.abortSignal.aborted)throw new e(n,r.Cancelled,t);return i}if(w(u[0])||m(u[0])){const t=g(u[0],n.spatialReference);return null===t?0:$(t,a(y(u[1],-1)))}if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);return $(u[0],a(y(u[1],-1)))}))},x.functions.length=function(n,t){return x.standardFunctionAsync(n,t,(async(i,a,u)=>{if(s(u,1,2,n,t),null===(u=l(u))[0])return 0;if(p(u[0])){const i=await u[0].sumLength(o(y(u[1],-1)),!1,n.abortSignal);if(n.abortSignal.aborted)throw new e(n,r.Cancelled,t);return i}if(w(u[0])||m(u[0])){const t=v(u[0],n.spatialReference);return null===t?0:_(t,o(y(u[1],-1)))}if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);return _(u[0],o(y(u[1],-1)))}))},x.functions.length3d=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{if(s(u,1,2,n,t),null===(u=l(u))[0])return 0;if(w(u[0])||m(u[0])){const t=v(u[0],n.spatialReference);return null===t?0:!0===t.hasZ?Fn(t,o(y(u[1],-1))):_(t,o(y(u[1],-1)))}if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);return!0===u[0].hasZ?Fn(u[0],o(y(u[1],-1))):_(u[0],o(y(u[1],-1)))}))},x.functions.lengthgeodetic=function(n,t){return x.standardFunctionAsync(n,t,(async(i,a,u)=>{if(s(u,1,2,n,t),null===(u=l(u))[0])return 0;if(p(u[0])){const i=await u[0].sumLength(o(y(u[1],-1)),!0,n.abortSignal);if(n.abortSignal.aborted)throw new e(n,r.Cancelled,t);return i}if(w(u[0])||m(u[0])){const t=v(u[0],n.spatialReference);return null===t?0:nn(t,o(y(u[1],-1)))}if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);return nn(u[0],o(y(u[1],-1)))}))},x.functions.distance=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{u=l(u),s(u,2,3,n,t);let c=u[0];(w(u[0])||m(u[0]))&&(c=P(u[0],n.spatialReference));let f=u[1];if((w(u[1])||m(u[1]))&&(f=P(u[1],n.spatialReference)),!(c instanceof k))throw new e(n,r.InvalidParameter,t);if(!(f instanceof k))throw new e(n,r.InvalidParameter,t);return tn(c,f,o(y(u[2],-1)))}))},x.functions.distancegeodetic=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{u=l(u),s(u,2,3,n,t);const c=u[0],f=u[1];if(!(c instanceof pn))throw new e(n,r.InvalidParameter,t);if(!(f instanceof pn))throw new e(n,r.InvalidParameter,t);const d=new gn({paths:[],spatialReference:c.spatialReference});return d.addPath([c,f]),nn(d,o(y(u[2],-1)))}))},x.functions.densify=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{if(u=l(u),s(u,2,3,n,t),null===u[0])return null;if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);const c=I(u[1]);if(isNaN(c))throw new e(n,r.InvalidParameter,t);if(c<=0)throw new e(n,r.InvalidParameter,t);return u[0]instanceof yn||u[0]instanceof gn?en(u[0],c,o(y(u[2],-1))):u[0]instanceof T?en(yn.fromExtent(u[0]),c,o(y(u[2],-1))):u[0]}))},x.functions.densifygeodetic=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{if(u=l(u),s(u,2,3,n,t),null===u[0])return null;if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);const c=I(u[1]);if(isNaN(c))throw new e(n,r.InvalidParameter,t);if(c<=0)throw new e(n,r.InvalidParameter,t);return u[0]instanceof yn||u[0]instanceof gn?rn(u[0],c,o(y(u[2],-1))):u[0]instanceof T?rn(yn.fromExtent(u[0]),c,o(y(u[2],-1))):u[0]}))},x.functions.generalize=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{if(u=l(u),s(u,2,4,n,t),null===u[0])return null;if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);const c=I(u[1]);if(isNaN(c))throw new e(n,r.InvalidParameter,t);return an(u[0],c,A(y(u[2],!0)),o(y(u[3],-1)))}))},x.functions.buffer=function(n,t){return x.standardFunctionAsync(n,t,((a,u,c)=>{if(c=l(c),s(c,2,3,n,t),null===c[0])return null;if(!(c[0]instanceof k))throw new e(n,r.InvalidParameter,t);const f=I(c[1]);if(isNaN(f))throw new e(n,r.InvalidParameter,t);return 0===f?i(c[0]):on(c[0],f,o(y(c[2],-1)))}))},x.functions.buffergeodetic=function(n,t){return x.standardFunctionAsync(n,t,((a,u,c)=>{if(c=l(c),s(c,2,3,n,t),null===c[0])return null;if(!(c[0]instanceof k))throw new e(n,r.InvalidParameter,t);const f=I(c[1]);if(isNaN(f))throw new e(n,r.InvalidParameter,t);return 0===f?i(c[0]):ln(c[0],f,o(y(c[2],-1)))}))},x.functions.offset=function(n,t){return x.standardFunctionAsync(n,t,((i,a,u)=>{if(u=l(u),s(u,2,6,n,t),null===u[0])return null;if(!(u[0]instanceof yn||u[0]instanceof gn))throw new e(n,r.InvalidParameter,t);const c=I(u[1]);if(isNaN(c))throw new e(n,r.InvalidParameter,t);const f=I(y(u[4],10));if(isNaN(f))throw new e(n,r.InvalidParameter,t);const w=I(y(u[5],0));if(isNaN(w))throw new e(n,r.InvalidParameter,t);return sn(u[0],c,o(y(u[2],-1)),d(y(u[3],\"round\")).toLowerCase(),f,w)}))},x.functions.rotate=function(n,t){return x.standardFunctionAsync(n,t,((i,a,o)=>{if(o=l(o),s(o,2,3,n,t),null===o[0])return null;if(!(o[0]instanceof k))throw new e(n,r.InvalidParameter,t);const u=o[0]instanceof T?yn.fromExtent(o[0]):o[0],c=I(o[1]);if(isNaN(c))throw new e(n,r.InvalidParameter,t);const f=y(o[2],null);if(null===f)return un(u,c);if(f instanceof pn)return un(u,c,f);throw new e(n,r.InvalidParameter,t)}))},x.functions.centroid=function(n,t){return x.standardFunctionAsync(n,t,((a,o,u)=>{if(u=l(u),s(u,1,1,n,t),null===u[0])return null;let c=u[0];if((w(u[0])||m(u[0]))&&(c=P(u[0],n.spatialReference)),null===c)return null;if(!(c instanceof k))throw new e(n,r.InvalidParameter,t);return c instanceof pn?h(i(c),n.spatialReference):c instanceof yn?c.centroid:c instanceof gn?b(c):c instanceof hn?N(c):c instanceof T?c.center:null}))},x.functions.measuretocoordinate=function(n,i){return x.standardFunctionAsync(n,i,((a,o,u)=>{if(u=l(u),s(u,2,2,n,i),null===u[0])return null;let c=u[0];if((w(u[0])||m(u[0]))&&(c=v(u[0],n.spatialReference)),null===c)return null;if(!(c instanceof k))throw new e(n,r.InvalidParameter,i);if(!(c instanceof gn))throw new e(n,r.InvalidParameter,i);if(F(!1===u[1]))throw new e(n,r.InvalidParameter,i);const f=S(c,u[1]);return f?t.convertObjectToArcadeDictionary(f,R(n),!1,!0):null}))},x.functions.pointtocoordinate=function(n,i){return x.standardFunctionAsync(n,i,((a,o,u)=>{if(u=l(u),s(u,2,2,n,i),null===u[0])return null;let c=u[0];if((w(u[0])||m(u[0]))&&(c=v(u[0],n.spatialReference)),null===c)return null;if(!(c instanceof k))throw new e(n,r.InvalidParameter,i);if(!(c instanceof gn))throw new e(n,r.InvalidParameter,i);const f=u[1];if(null===f)return null;if(!(f instanceof pn))throw new e(n,r.InvalidParameter,i);if(F(!1===u[1]))throw new e(n,r.InvalidParameter,i);const d=D(c,f);return d?t.convertObjectToArcadeDictionary(d,R(n),!1,!0):null}))},x.functions.distancetocoordinate=function(n,i){return x.standardFunctionAsync(n,i,((a,o,u)=>{if(u=l(u),s(u,2,2,n,i),null===u[0])return null;let c=u[0];if((w(u[0])||m(u[0]))&&(c=v(u[0],n.spatialReference)),null===c)return null;if(!(c instanceof k))throw new e(n,r.InvalidParameter,i);if(!(c instanceof gn))throw new e(n,r.InvalidParameter,i);if(F(!1===u[1]))throw new e(n,r.InvalidParameter,i);const f=L(c,u[1]);return f?t.convertObjectToArcadeDictionary(f,R(n),!1,!0):null}))},x.functions.multiparttosinglepart=function(n,t){return x.standardFunctionAsync(n,t,(async(a,o,u)=>{if(u=l(u),s(u,1,1,n,t),null===u[0])return null;if(!(u[0]instanceof k))throw new e(n,r.InvalidParameter,t);if(u[0]instanceof pn)return[h(i(u[0]),n.spatialReference)];if(u[0]instanceof T)return[h(i(u[0]),n.spatialReference)];const c=await cn(u[0]);if(c instanceof yn){const n=[],t=[];for(let e=0;e<c.rings.length;e++)if(c.isClockwise(c.rings[e])){const t=vn({rings:[c.rings[e]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});n.push(t)}else t.push({ring:c.rings[e],pt:c.getPoint(e,0)});for(let e=0;e<t.length;e++)for(let r=0;r<n.length;r++)if(n[r].contains(t[e].pt)){n[r].addRing(t[e].ring);break}return n}if(c instanceof gn){const n=[];for(let t=0;t<c.paths.length;t++){const e=vn({paths:[c.paths[t]],hasZ:!0===c.hasZ,hasM:!0===c.hasM,spatialReference:c.spatialReference.toJSON()});n.push(e)}return n}if(u[0]instanceof hn){const t=[],e=h(i(u[0]),n.spatialReference);for(let n=0;n<e.points.length;n++)t.push(e.getPoint(n));return t}return null}))},x.functions.issimple=function(n,t){return x.standardFunctionAsync(n,t,((i,a,o)=>{if(o=l(o),s(o,1,1,n,t),null===o[0])return!0;if(!(o[0]instanceof k))throw new e(n,r.InvalidParameter,t);return fn(o[0])}))},x.functions.simplify=function(n,t){return x.standardFunctionAsync(n,t,((i,a,o)=>{if(o=l(o),s(o,1,1,n,t),null===o[0])return null;if(!(o[0]instanceof k))throw new e(n,r.InvalidParameter,t);return cn(o[0])}))},x.functions.convexhull=function(n,t){return x.standardFunctionAsync(n,t,((i,a,o)=>{if(o=l(o),s(o,1,1,n,t),null===o[0])return null;if(!(o[0]instanceof k))throw new e(n,r.InvalidParameter,t);return dn(o[0])}))},x.functions.getuser=function(i,a){return x.standardFunctionAsync(i,a,(async(o,l,u)=>{s(u,0,2,i,a);let c=y(u[1],\"\"),f=!0===c;if(c=!0===c||!1===c?\"\":d(c),0===u.length||u[0]instanceof n){let n;n=i.services?.portal?i.services.portal:Pn.getDefault(),u.length>0&&(n=j(u[0],n));const e=await In(n,c,f);if(e){const n=JSON.parse(JSON.stringify(e));for(const t of[\"lastLogin\",\"created\",\"modified\"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return t.convertObjectToArcadeDictionary(n,R(i))}return null}let w=null;if(p(u[0])&&(w=u[0]),w){if(f=!1,c)return null;await w.load();const e=await w.getOwningSystemUrl();if(!e){if(!c){const n=await w.getIdentityUser();return n?t.convertObjectToArcadeDictionary({username:n},R(i)):null}return null}let r;r=i.services?.portal?i.services.portal:Pn.getDefault(),r=j(new n(e),r);const a=await In(r,c,f);if(a){const n=JSON.parse(JSON.stringify(a));for(const t of[\"lastLogin\",\"created\",\"modified\"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return t.convertObjectToArcadeDictionary(n,R(i))}return null}throw new e(i,r.InvalidParameter,a)}))},x.functions.nearestcoordinate=function(n,i){return x.standardFunctionAsync(n,i,(async(a,o,u)=>{if(u=l(u),s(u,2,2,n,i),!(u[0]instanceof k||null===u[0]))throw new e(n,r.InvalidParameter,i);if(!(u[1]instanceof pn||null===u[1]))throw new e(n,r.InvalidParameter,i);if(null===u[0]||null===u[1])return null;const c=await wn(u[0],u[1]);return null===c?null:t.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?\"straddle\":c.isRightSide?\"right\":\"left\"},R(n),!1,!0)}))},x.functions.nearestvertex=function(n,i){return x.standardFunctionAsync(n,i,(async(a,o,u)=>{if(u=l(u),s(u,2,2,n,i),!(u[0]instanceof k||null===u[0]))throw new e(n,r.InvalidParameter,i);if(!(u[1]instanceof pn||null===u[1]))throw new e(n,r.InvalidParameter,i);if(null===u[0]||null===u[1])return null;const c=await mn(u[0],u[1]);return null===c?null:t.convertObjectToArcadeDictionary({coordinate:c.coordinate,distance:c.distance,sideOfLine:0===c.distance?\"straddle\":c.isRightSide?\"right\":\"left\"},R(n),!1,!0)}))})}export{Rn as registerFunctions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../portal/Portal.js\";function l(l,t){if(null===l)return t;return new r({url:l.field(\"url\")})}export{l as getPortal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{handlesGroup as e}from\"../handleUtils.js\";import\"../has.js\";import{isPromiseLike as t,createAbortError as s,createResolver as i,throwIfAborted as n}from\"../promiseUtils.js\";import o from\"../Queue.js\";import{unregister as r}from\"./connectionRegistry.js\";import{createInvokeProxy as l}from\"./InvokeHandler.js\";import h from\"./RemoteClient.js\";class c{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new o}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,s){return new Promise(((i,o)=>{let r=!0;const l=e=>{n(s.signal),r&&(r=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let n=0;n<e.length;++n){const r=e[n];t(r)?this._clientPromises[n]=r.then((e=>(this._clients[n]=new h(e,s,this._ongoingJobsQueue),l(i),this._clients[n])),(()=>(l(o),null))):(this._clients[n]=new h(r,s,this._ongoingJobsQueue),this._clientPromises[n]=Promise.resolve(this._clients[n]),l(i))}}))}broadcast(e,t,s){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const o=this._clientPromises[n];i[n]=o.then((i=>i?.invoke(e,t,s)))}return i}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(s(`Worker closing, aborting job calling '${e.methodName}'`));for(const t of this._clientPromises)t.then((e=>e?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,r(this)}invoke(e,t,s){return this.apply(e,[t],s)}apply(e,t,s){const n=i();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:s,resolver:n});for(let i=0;i<this._clientPromises.length;i++){const e=this._clients[i];e?e.jobAdded():this._clientPromises[i].then((e=>e?.jobAdded()))}return n.promise}createInvokeProxy(e){return l(this,e)}on(t,s){return Promise.all(this._clientPromises).then((()=>e(this._clients.map((e=>e.on(t,s))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let s=t.length;for(let i=0;i<this._clientPromises.length;++i){this._clientPromises[i].then((n=>{n&&(t[i]=n.openPort()),0==--s&&e(t)}))}}))}get test(){}}export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction t(t,r){return new Proxy({},{get:(e,i,s)=>(...e)=>{let s,o;const a=e[e.length-1];n(a)&&(s=a.signal,o=a.transferList,e.pop());return t.apply(r?`${r}.${i.toString()}`:i.toString(),e,{transferList:o,signal:s})}})}function n(t){return\"object\"==typeof t&&!Array.isArray(t)&&null!=t&&(\"signal\"in t||\"transferList\"in t||0===Object.keys(t).length)}export{t as createInvokeProxy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{fullVersion as e}from\"../../kernel.js\";import s from\"../Error.js\";import{on as t}from\"../events.js\";import{makeHandle as o}from\"../handleUtils.js\";import{removeMaybe as n}from\"../maybe.js\";import{isAborted as r,createAbortError as i,onAbort as l,isPromiseLike as a,isAbortError as h}from\"../promiseUtils.js\";import{createInvokeProxy as c}from\"./InvokeHandler.js\";import{registry as p}from\"./registry.js\";import{portClosedErrorName as _,newJobId as u,MessageType as d,receiveMessage as b,toInvokeError as m,postMessage as g}from\"./utils.js\";import{buildDate as f,commitHash as v}from\"../../support/revision.js\";const{CLOSE:M,ABORT:k,INVOKE:j,RESPONSE:y,OPEN_PORT:I,ON:J}=d,w=2;class O{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===d.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class E{static connect(e,s){const t=new MessageChannel;let o;o=\"function\"==typeof e?new e:\"default\"in e&&\"function\"==typeof e.default?new e.default:e;const n=new E(t.port1,{channel:t,client:o,schedule:s});return\"object\"==typeof o&&\"remoteClient\"in o&&(o.remoteClient=n),E.clients.set(n,o),t.port2}static loadWorker(e){const s=p[e];return s?s():Promise.resolve(null)}constructor(e,s,t){this._port=e,this._jobQueue=t,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new O((e=>this._onInvokeMessage(e))),this._client=s.client,this._onMessage=this._onMessage.bind(this),this._channel=s.channel,this._schedule=s.schedule,this._port.addEventListener(\"message\",this._onMessage),this._port.start()}close(){this._post({type:M}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,s,t){return this.apply(e,[s],t)}apply(e,t,o){const a=o?.signal,h=o?.transferList;if(!this._port)return Promise.reject(new s(_,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const c=u();return new Promise(((s,o)=>{if(r(a))return this._processWork(),void o(i());const p=l(a,(()=>{const e=this._outJobs.get(c);e&&(this._outJobs.delete(c),this._processWork(),n(e.abortHandle),this._post({type:k,jobId:c}),o(i()))})),_={resolve:s,reject:o,abortHandle:p,debugInfo:e};this._outJobs.set(c,_),this._post({type:j,jobId:c,methodName:e,abortable:null!=a},t,h)}))}createInvokeProxy(e){return c(this,e)}on(e,s){const t=new MessageChannel;function n(e){s(e.data)}return this._port.postMessage({type:d.ON,eventType:e,port:t.port2},[t.port2]),t.port1.addEventListener(\"message\",n),t.port1.start(),o((()=>{t.port1.postMessage({type:d.CLOSE}),t.port1.close(),t.port1.removeEventListener(\"message\",n)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:I,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=w)return;const e=this._jobQueue?.pop();if(!e)return;const{methodName:s,data:t,invokeOptions:o,resolver:n}=e;this.apply(s,t,o).then((e=>n.resolve(e))).catch((e=>n.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener(\"message\",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{n(e.abortHandle),e.reject(i(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,s){const t=b(e);if(t)switch(t.type){case y:this._onResponseMessage(t);break;case j:s?this._onInvokeMessage(t):this._invokeQueue.push(t);break;case k:this._onAbortMessage(t);break;case M:this._onCloseMessage();break;case I:this._onOpenPortMessage(t);break;case J:this._onOnMessage(t)}}_onAbortMessage(e){const s=this._inJobs,t=e.jobId,o=s.get(t);this._invokeQueue.push(e),o&&(o.controller&&o.controller.abort(),s.delete(t))}_onCloseMessage(){const e=this._client;this._close(),e&&\"destroy\"in e&&E.clients.get(this)===e&&e.destroy(),E.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:s,jobId:t,data:o=[],abortable:n}=e,r=n?new AbortController:null,i=this._inJobs;let l,c=this._client,p=c[s];try{if(!p&&s&&s.includes(\".\")){const e=s.split(\".\");for(let s=0;s<e.length-1;s++)c=c[e[s]],p=c[e[s+1]]}if(\"function\"!=typeof p)throw new TypeError(`${s} is not a function`);o.push({client:this,signal:r?r.signal:null}),l=p.apply(c,o)}catch(_){return void this._post({type:y,jobId:t,error:m(_)})}a(l)?(i.set(t,{controller:r,promise:l}),l.then((e=>{i.has(t)&&(i.delete(t),this._post({type:y,jobId:t},e))}),(e=>{i.has(t)&&(i.delete(t),h(e)||this._post({type:y,jobId:t,error:m(e||{message:`Error encountered at method ${s}`})}))}))):this._post({type:y,jobId:t},l)}_onOpenPortMessage(e){new E(e.port,{client:this._client})}_onOnMessage(e){const{port:s}=e,o=this._client.on(e.eventType,(e=>{s.postMessage(e)})),n=t(e.port,\"message\",(e=>{const t=b(e);t?.type===d.CLOSE&&(n.remove(),o.remove(),s.close())}))}_onResponseMessage(e){const{jobId:t,error:o,data:r}=e,i=this._outJobs;if(!i.has(t))return;const l=i.get(t);i.delete(t),this._processWork(),n(l.abortHandle),o?l.reject(s.fromJSON(JSON.parse(o))):l.resolve(r)}_post(e,s,t){return g(this._port,e,s,t)}}E.kernelInfo={buildDate:f,fullVersion:e,revision:v},E.clients=new Map;export{E as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{nextTick as e}from\"../nextTick.js\";import s from\"./RemoteClient.js\";import{MessageType as r,receiveMessage as t}from\"./utils.js\";class n{constructor(){const e=document.createDocumentFragment();[\"addEventListener\",\"dispatchEvent\",\"removeEventListener\"].forEach((s=>{this[s]=(...r)=>e[s](...r)}))}}class a{constructor(){this._dispatcher=new n,this._workerPostMessage({type:r.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener(\"message\",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener(\"message\",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener(\"messageerror\",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener(\"messageerror\",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener(\"error\",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener(\"error\",e)}postMessage(s){e((()=>{this._workerMessageHandler(new MessageEvent(\"message\",{data:s}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,s,r){this._dispatcher.addEventListener(e,s,r)}removeEventListener(e,s,r){this._dispatcher.removeEventListener(e,s,r)}_workerPostMessage(s){e((()=>{this.dispatchEvent(new MessageEvent(\"message\",{data:s}))}))}async _workerMessageHandler(e){const n=t(e);if(n&&n.type===r.OPEN){const{modulePath:e,jobId:t}=n;let a=await s.loadWorker(e);a||(a=await import(/* @vite-ignore */ /* webpackIgnore: true */e));const o=s.connect(a);this._workerPostMessage({type:r.OPENED,jobId:t,data:o})}}}export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../Error.js\";import t from\"../Logger.js\";import{removeMaybe as o}from\"../maybe.js\";import{onAbortOrThrow as s,isPromiseLike as r,isAbortError as n}from\"../promiseUtils.js\";import{staticWorkerMessages as a}from\"./staticWorkerMessages.js\";import{newJobId as i,receiveMessage as l,toInvokeError as d,postMessage as c,MessageType as h}from\"./utils.js\";import{createWorker as p}from\"./workerFactory.js\";const{ABORT:b,INVOKE:m,OPEN:_,OPENED:g,RESPONSE:u}=h;class j{static async create(e){const t=await p();return new j(t,e)}constructor(e,o){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=o,e.addEventListener(\"message\",this._onMessage.bind(this)),e.addEventListener(\"error\",(e=>{e.preventDefault(),t.getLogger(\"esri.core.workers.WorkerOwner\").error(e)}))}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:o}=t,r=i();return new Promise(((t,n)=>{const a={resolve:t,reject:n,abortHandle:s(o,(()=>{this._outJobs.delete(r),this._post({type:b,jobId:r})}))};this._outJobs.set(r,a),this._post({type:_,jobId:r,modulePath:e})}))}_onMessage(e){const t=l(e);if(t)switch(t.type){case g:this._onOpenedMessage(t);break;case u:this._onResponseMessage(t);break;case b:this._onAbortMessage(t);break;case m:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,o=e.jobId,s=t.get(o);s&&(s.controller&&s.controller.abort(),t.delete(o))}_onInvokeMessage(e){const{methodName:t,jobId:o,data:s,abortable:i}=e,l=i?new AbortController:null,c=this._inJobs,h=a[t];let p;try{if(\"function\"!=typeof h)throw new TypeError(`${t} is not a function`);p=h.call(null,s,{signal:l?l.signal:null})}catch(b){return void this._post({type:u,jobId:o,error:d(b)})}r(p)?(c.set(o,{controller:l,promise:p}),p.then((e=>{c.has(o)&&(c.delete(o),this._post({type:u,jobId:o},e))}),(e=>{c.has(o)&&(c.delete(o),e||(e={message:\"Error encountered at method\"+t}),n(e)||this._post({type:u,jobId:o,error:d(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:u,jobId:o},p)}_onOpenedMessage(e){const{jobId:t,data:s}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),o(r.abortHandle),r.resolve(s))}_onResponseMessage(t){const{jobId:s,error:r,data:n}=t,a=this._outJobs.get(s);a&&(this._outJobs.delete(s),o(a.abortHandle),r?a.reject(e.fromJSON(JSON.parse(r))):a.resolve(n))}_post(e,t,o){return c(this.worker,e,t,o)}}export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst n=new FinalizationRegistry((n=>{n.close()}));function e(e,i){n.register(e,i,i)}function i(e){n.unregister(e)}export{e as register,i as unregister};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../config.js\";import\"../../request.js\";import\"../Error.js\";import\"../Logger.js\";import\"../urlUtils.js\";import\"../has.js\";let s=null;const a={};function r(s){const r={async:s.async,isDebug:s.isDebug,locale:s.locale,baseUrl:s.baseUrl,has:{...s.has},map:{...s.map},packages:s.packages?.slice()||[],paths:{...a.paths,...s.paths}};return s.hasOwnProperty(\"async\")||(r.async=!0),s.hasOwnProperty(\"isDebug\")||(r.isDebug=!1),s.baseUrl||(r.baseUrl=a.baseUrl),r}export{s as defaultLoaderUrl,r as loaderConfig};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={statsWorker:()=>import(/* webpackChunkName: \"smartMapping-statistics-support-statsWorker\" */ \"../../smartMapping/statistics/support/statsWorker.js\"),geometryEngineWorker:()=>import(/* webpackChunkName: \"geometry-geometryEngineWorker\" */ \"../../geometry/geometryEngineWorker.js\"),CSVSourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-support-CSVSourceWorker\" */ \"../../layers/graphics/sources/support/CSVSourceWorker.js\"),EdgeProcessingWorker:()=>import(/* webpackChunkName: \"views-3d-webgl-engine-lib-edgeRendering-EdgeProcessingWorker\" */ \"../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker.js\"),ElevationSamplerWorker:()=>import(/* webpackChunkName: \"geometry-support-meshUtils-ElevationSamplerWorker\" */ \"../../geometry/support/meshUtils/ElevationSamplerWorker.js\"),FeatureServiceSnappingSourceWorker:()=>import(/* webpackChunkName: \"views-interactive-snapping-featureSources-featureServiceSource-FeatureServiceSnappingSourceWorker\" */ \"../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js\"),GeoJSONSourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-geojson-GeoJSONSourceWorker\" */ \"../../layers/graphics/sources/geojson/GeoJSONSourceWorker.js\"),LercWorker:()=>import(/* webpackChunkName: \"layers-support-LercWorker\" */ \"../../layers/support/LercWorker.js\"),MemorySourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-support-MemorySourceWorker\" */ \"../../layers/graphics/sources/support/MemorySourceWorker.js\"),PBFDecoderWorker:()=>import(/* webpackChunkName: \"views-3d-support-PBFDecoderWorker\" */ \"../../views/3d/support/PBFDecoderWorker.js\"),FeaturePipelineWorker:()=>import(/* webpackChunkName: \"views-2d-layers-features-FeaturePipelineWorker\" */ \"../../views/2d/layers/features/FeaturePipelineWorker.js\"),PointCloudWorker:()=>import(/* webpackChunkName: \"views-3d-layers-PointCloudWorker\" */ \"../../views/3d/layers/PointCloudWorker.js\"),RasterWorker:()=>import(/* webpackChunkName: \"layers-support-RasterWorker\" */ \"../../layers/support/RasterWorker.js\"),SceneLayerSnappingSourceWorker:()=>import(/* webpackChunkName: \"views-interactive-snapping-featureSources-sceneLayerSource-SceneLayerSnappingSourceWorker\" */ \"../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js\"),SceneLayerWorker:()=>import(/* webpackChunkName: \"views-3d-layers-SceneLayerWorker\" */ \"../../views/3d/layers/SceneLayerWorker.js\"),WFSSourceWorker:()=>import(/* webpackChunkName: \"layers-graphics-sources-WFSSourceWorker\" */ \"../../layers/graphics/sources/WFSSourceWorker.js\"),WorkerTileHandler:()=>import(/* webpackChunkName: \"views-2d-engine-vectorTiles-WorkerTileHandler\" */ \"../../views/2d/engine/vectorTiles/WorkerTileHandler.js\"),Lyr3DWorker:()=>import(/* webpackChunkName: \"views-3d-layers-Lyr3DWorker\" */ \"../../views/3d/layers/Lyr3DWorker.js\"),Feature3DPipelineWorker:()=>import(/* webpackChunkName: \"views-3d-layers-graphics-pipeline-Feature3DPipelineWorker\" */ \"../../views/3d/layers/graphics/pipeline/Feature3DPipelineWorker.js\")};export{e as registry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{getInterceptor as t}from\"../urlUtils.js\";const a={async request(a,s){const r=a.options,n=r.responseType;r.signal=s?.signal,r.responseType=\"native\"===n||\"native-request-init\"===n?\"native-request-init\":n&&[\"blob\",\"json\",\"text\"].includes(n)&&t(a.url)?.after?n:\"array-buffer\";const i=await e(a.url,r),o={data:i.data,httpStatus:i.httpStatus,ssl:i.ssl};switch(i.requestOptions?.responseType){case\"native-request-init\":return delete o.data.signal,o;case\"blob\":o.data=await o.data.arrayBuffer();break;case\"json\":o.data=(new TextEncoder).encode(JSON.stringify(o.data)).buffer;break;case\"text\":o.data=(new TextEncoder).encode(o.data).buffer}return{result:o,transferList:[o.data]}}};export{a as staticWorkerMessages};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport has from\"../has.js\";import{isAbortError as t}from\"../promiseUtils.js\";const r=\"worker:port-closed\";var e;!function(t){t[t.HANDSHAKE=0]=\"HANDSHAKE\",t[t.OPEN=1]=\"OPEN\",t[t.OPENED=2]=\"OPENED\",t[t.RESPONSE=3]=\"RESPONSE\",t[t.INVOKE=4]=\"INVOKE\",t[t.ABORT=5]=\"ABORT\",t[t.CLOSE=6]=\"CLOSE\",t[t.OPEN_PORT=7]=\"OPEN_PORT\",t[t.ON=8]=\"ON\"}(e||(e={}));let n=0;function s(){return n++}function o(t){return t&&\"object\"==typeof t&&(\"result\"in t||\"transferList\"in t)}function i(t){return t?\"string\"==typeof t?JSON.stringify({name:\"message\",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function a(t,r,n,s){if(r.type===e.OPEN_PORT)return void t.postMessage(r,[r.port]);if(r.type!==e.INVOKE&&r.type!==e.RESPONSE)return void t.postMessage(r);let f;if(o(n)?(f=u(n.transferList),r.data=n.result):(f=u(s),r.data=n),f){if(has(\"ff\"))for(const n of f)if(\"byteLength\"in n&&n.byteLength>267386880){const n=\"Worker call with large ArrayBuffer would crash Firefox\";switch(r.type){case e.INVOKE:throw n;case e.RESPONSE:return void a(t,{type:e.RESPONSE,jobId:r.jobId,error:i(n)})}}t.postMessage(r,f)}else t.postMessage(r)}function f(t){if(!t)return null;const r=t.data;return r?\"string\"==typeof r?JSON.parse(r):r:null}function u(t){if(!t?.length)return null;if(has(\"esri-workers-arraybuffer-transfer\"))return t;const r=t.filter((t=>!c(t)));return r.length?r:null}function c(t){return t instanceof ArrayBuffer||\"ArrayBuffer\"===t?.constructor?.name}async function O(e){try{return await e}catch(n){const e=n?.name===r;if(!(t(n)||e))throw n;return}}export{e as MessageType,O as ignoreConnectionErrors,o as isTransferrableResult,s as newJobId,r as portClosedErrorName,a as postMessage,f as receiveMessage,i as toInvokeError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import r from\"../../config.js\";import\"../../intl.js\";import{fullVersion as t}from\"../../kernel.js\";import has from\"../has.js\";import o from\"../Logger.js\";import{makeAbsolute as s}from\"../urlUtils.js\";import{loaderConfig as n}from\"./loaderConfig.js\";import{receiveMessage as a,MessageType as i}from\"./utils.js\";import l from\"./WorkerFallback.js\";import{getLocale as f}from\"../../intl/locale.js\";import{buildDate as u,commitHash as c}from\"../../support/revision.js\";const d=()=>o.getLogger(\"esri.core.workers.workerFactory\"),{HANDSHAKE:m}=i,p='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error(\"Aborted\");return e.name=\"AbortError\",e}function receiveMessage(e){return e&&e.data?\"string\"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener(\"abort\",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener(\"abort\",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}\"function\"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):\"System\"in self&&\"function\"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),\"function\"==typeof require&&\"function\"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener(\"message\",messageHandler),self.postMessage({type:0});';let g,h;const k=\"Failed to create Worker. Fallback to execute module in main thread\";async function y(){if(!has(\"esri-workers\"))return w(new l);if(!g&&!h)try{const e=p.split(\"{CONFIGURATION}\").join(b());g=URL.createObjectURL(new Blob([e],{type:\"text/javascript\"}))}catch(r){h=r||{}}let e;if(g)try{e=new Worker(g,{name:\"esri-worker-\"+v++})}catch(r){d().warn(k,h),e=new l}else d().warn(k,h),e=new l;return w(e)}async function w(e){return new Promise((r=>{function t(s){const n=a(s);n&&n.type===m&&(e.removeEventListener(\"message\",t),e.removeEventListener(\"error\",o),r(e))}function o(r){r.preventDefault(),e.removeEventListener(\"message\",t),e.removeEventListener(\"error\",o),d().warn(\"Failed to create Worker. Fallback to execute module in main thread\",r),(e=new l).addEventListener(\"message\",t),e.addEventListener(\"error\",o)}e.addEventListener(\"message\",t),e.addEventListener(\"error\",o)}))}function b(){let o;if(null!=r.default){const e={...r};delete e.default,o=JSON.parse(JSON.stringify(e))}else o=JSON.parse(JSON.stringify(r));o.assetsPath=s(o.assetsPath),o.defaultAssetsPath=o.defaultAssetsPath?s(o.defaultAssetsPath):void 0,o.request.interceptors=[],o.log.interceptors=[],o.locale=f(),o.has={\"esri-csp-restrictions\":has(\"esri-csp-restrictions\"),\"esri-2d-debug\":!1,\"esri-2d-update-debug\":has(\"esri-2d-update-debug\"),\"esri-2d-log-updating\":has(\"esri-2d-log-updating\"),\"featurelayer-pbf\":has(\"featurelayer-pbf\"),\"featurelayer-fast-triangulation-enabled\":has(\"featurelayer-fast-triangulation-enabled\"),\"featurelayer-simplify-thresholds\":has(\"featurelayer-simplify-thresholds\"),\"featurelayer-simplify-payload-size-factors\":has(\"featurelayer-simplify-payload-size-factors\"),\"featurelayer-simplify-mobile-factor\":has(\"featurelayer-simplify-mobile-factor\"),\"featurelayer-query-max-depth\":has(\"featurelayer-query-max-depth\"),\"featurelayer-query-pausing-enabled\":has(\"featurelayer-query-pausing-enabled\"),\"featurelayer-snapshot-enabled\":has(\"featurelayer-snapshot-enabled\"),\"esri-atomics\":has(\"esri-atomics\"),\"esri-shared-array-buffer\":has(\"esri-shared-array-buffer\"),\"esri-tiles-debug\":has(\"esri-tiles-debug\"),\"esri-workers-arraybuffer-transfer\":has(\"esri-workers-arraybuffer-transfer\"),\"feature-polyline-generalization-factor\":has(\"feature-polyline-generalization-factor\"),\"host-webworker\":1},o.workers.loaderUrl&&(o.workers.loaderUrl=s(o.workers.loaderUrl)),o.workers.workerPath?o.workers.workerPath=s(o.workers.workerPath):o.workers.workerPath=s(e(\"esri/core/workers/RemoteClient.js\")),o.workers.useDynamicImport=!1;const a=r.workers.loaderConfig,i=n({baseUrl:a?.baseUrl,locale:f(),has:{\"csp-restrictions\":1,\"dojo-test-sniff\":0,\"host-webworker\":1,...a?.has},map:{...a?.map},paths:{...a?.paths},packages:a?.packages||[]}),l={buildDate:u,fullVersion:t,revision:c};return JSON.stringify({esriConfig:o,loaderConfig:i,kernelInfo:l})}let v=0;export{y as createWorker};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport r from\"../Error.js\";import has from\"../has.js\";import{throwIfAborted as t}from\"../promiseUtils.js\";import e from\"./Connection.js\";import{register as o}from\"./connectionRegistry.js\";import n from\"./RemoteClient.js\";import i from\"./WorkerOwner.js\";const s=has(\"host-browser\")?Math.min(navigator.hardwareConcurrency-1,has(\"workers-pool-size\")??8):0;let a=has(\"esri-mobile\")?Math.min(s,3):s;a||(a=has(\"safari\")&&has(\"mac\")?7:2);let c=0;const l=[];function m(){g()}function u(r,t){return f(r,{client:t})}async function f(r,t){const n=new e,{registryTarget:i,...s}=t;return await n.open(r,s),i&&o(i,n),n}async function p(e,o={}){if(\"string\"!=typeof e)throw new r(\"workers:undefined-module\",\"modulePath is missing\");let i=o.strategy||\"distributed\";if(has(\"host-webworker\")&&!has(\"esri-workers\")&&(i=\"local\"),\"local\"===i){let r=await n.loadWorker(e);r||(r=await import(/* @vite-ignore */ /* webpackIgnore: true */e)),t(o.signal);const i=o.client||r;return f([n.connect(r,o.schedule)],{...o,client:i})}if(await g(),t(o.signal),\"dedicated\"===i){const r=c++%a;return f([await l[r].open(e,o)],o)}if(o.maxNumWorkers&&o.maxNumWorkers>0){const r=Math.min(o.maxNumWorkers,a);if(r<a){const t=new Array(r);for(let n=0;n<r;++n){const r=c++%a;t[n]=l[r].open(e,o)}return f(t,o)}}return f(l.map((r=>r.open(e,o))),o)}function w(){d&&(h.abort(),d=null);for(let r=0;r<l.length;r++)l[r]&&l[r].terminate();l.length=0}let h,d=null;async function g(){if(d)return d;h=new AbortController;const r=[];for(let t=0;t<a;t++){const e=i.create(t).then((r=>(l[t]=r,r)));r.push(e)}return d=Promise.all(r),d}export{e as Connection,n as RemoteClient,m as initialize,p as open,u as openWithPorts,w as terminate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../geometry.js\";import{open as n}from\"../core/workers/workers.js\";import t from\"./Point.js\";import{fromJSON as e}from\"./support/jsonUtils.js\";function r(n){return Array.isArray(n)?n[0]?.spatialReference:n?.spatialReference}function a(n){return n?Array.isArray(n)?n.map(a):n.toJSON?n.toJSON():n:n}function i(n){return Array.isArray(n)?n.map((n=>e(n))):e(n)}function o(n,t){let e;return Array.isArray(n)?e=n:(e=[],e.push(n),null!=t&&e.push(t)),e}let c;async function u(){return c||(c=n(\"geometryEngineWorker\",{strategy:\"distributed\"})),c}async function s(n,t){return(await u()).invoke(\"executeGEOperation\",{operation:n,parameters:a(t)})}async function f(n,t){const e=await u();return Promise.all(e.broadcast(\"executeGEOperation\",{operation:n,parameters:a(t)}))}function l(n){return s(\"extendedSpatialReferenceInfo\",[n])}async function y(n,t){return i(await s(\"clip\",[r(n),n,t]))}async function w(n,t){return i(await s(\"cut\",[r(n),n,t]))}function p(n,t){return s(\"contains\",[r(n),n,t])}function m(n,t){return s(\"crosses\",[r(n),n,t])}function d(n,t,e){return s(\"distance\",[r(n),n,t,e])}function g(n,t){return s(\"equals\",[r(n),n,t])}function h(n,t){return s(\"intersects\",[r(n),n,t])}function S(n,t){return s(\"touches\",[r(n),n,t])}function x(n,t){return s(\"within\",[r(n),n,t])}function A(n,t){return s(\"disjoint\",[r(n),n,t])}function O(n,t){return s(\"overlaps\",[r(n),n,t])}function R(n,t,e){return s(\"relate\",[r(n),n,t,e])}function J(n){return s(\"isSimple\",[r(n),n])}async function N(n){return i(await s(\"simplify\",[r(n),n]))}async function j(n,t=!1){return i(await s(\"convexHull\",[r(n),n,t]))}async function E(n,t){return i(await s(\"difference\",[r(n),n,t]))}async function k(n,t){return i(await s(\"symmetricDifference\",[r(n),n,t]))}async function D(n,t){return i(await s(\"intersect\",[r(n),n,t]))}async function b(n,t=null){const e=o(n,t);return i(await s(\"union\",[r(e),e]))}async function v(n,t,e,a,o,c){return i(await s(\"offset\",[r(n),n,t,e,a,o,c]))}async function L(n,t,e,a=!1){const o=[r(n),n,t,e,a];return i(await s(\"buffer\",o))}async function P(n,t,e,a,o,c){const u=[r(n),n,t,e,a,o,c];return i(await s(\"geodesicBuffer\",u))}async function T(n,e,a=!0){const i=await s(\"nearestCoordinate\",[r(n),n,e,a]);return{...i,coordinate:t.fromJSON(i.coordinate)}}async function V(n,e){const a=await s(\"nearestVertex\",[r(n),n,e]);return{...a,coordinate:t.fromJSON(a.coordinate)}}async function z(n,e,a,i){return(await s(\"nearestVertices\",[r(n),n,e,a,i])).map((n=>({...n,coordinate:t.fromJSON(n.coordinate)})))}function G(n){return\"xmin\"in n?n.center:\"x\"in n?n:n.extent?.center}async function H(n,t,e){if(null==n)throw new Z;const r=n.spatialReference;if(null==(e=e??G(n)))throw new Z;const a=n.constructor.fromJSON(await s(\"rotate\",[r,n,t,e]));return a.spatialReference=r,a}async function I(n,t){if(null==n)throw new Z;const e=n.spatialReference;if(null==(t=t??G(n)))throw new Z;const r=n.constructor.fromJSON(await s(\"flipHorizontal\",[e,n,t]));return r.spatialReference=e,r}async function q(n,t){if(null==n)throw new Z;const e=n.spatialReference;if(null==(t=t??G(n)))throw new Z;const r=n.constructor.fromJSON(await s(\"flipVertical\",[e,n,t]));return r.spatialReference=e,r}async function B(n,t,e,a){return i(await s(\"generalize\",[r(n),n,t,e,a]))}async function C(n,t,e){return i(await s(\"densify\",[r(n),n,t,e]))}async function U(n,t,e,a=0){return i(await s(\"geodesicDensify\",[r(n),n,t,e,a]))}function W(n,t){return s(\"planarArea\",[r(n),n,t])}function F(n,t){return s(\"planarLength\",[r(n),n,t])}function K(n,t,e){return s(\"geodesicArea\",[r(n),n,t,e])}function M(n,t,e){return s(\"geodesicLength\",[r(n),n,t,e])}async function Q(n,t){return i(await s(\"intersectLinesToPoints\",[r(n),n,t]))}async function X(n,t){await f(\"changeDefaultSpatialReferenceTolerance\",[n,t])}async function Y(n){await f(\"clearDefaultSpatialReferenceTolerance\",[n])}class Z extends Error{constructor(){super(\"Illegal Argument Exception\")}}export{L as buffer,X as changeDefaultSpatialReferenceTolerance,Y as clearDefaultSpatialReferenceTolerance,y as clip,p as contains,j as convexHull,m as crosses,w as cut,C as densify,E as difference,A as disjoint,d as distance,g as equals,l as extendedSpatialReferenceInfo,I as flipHorizontal,q as flipVertical,B as generalize,K as geodesicArea,P as geodesicBuffer,U as geodesicDensify,M as geodesicLength,D as intersect,Q as intersectLinesToPoints,h as intersects,J as isSimple,T as nearestCoordinate,V as nearestVertex,z as nearestVertices,v as offset,O as overlaps,W as planarArea,F as planarLength,R as relate,H as rotate,N as simplify,k as symmetricDifference,S as touches,b as union,x as within};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import n from\"../../request.js\";async function r(r,t,s){const u=e?.findCredential(r.restUrl);if(!u)return null;if(\"loaded\"===r.loadStatus&&\"\"===t&&r.user?.sourceJSON&&!1===s)return r.user.sourceJSON;const o={responseType:\"json\",query:{f:\"json\"}};if(s&&(o.query.returnUserLicenseTypeExtensions=!0),\"\"===t){const e=await n(r.restUrl+\"/community/self\",o);if(e.data){const n=e.data;if(n?.username)return n}return null}const i=await n(r.restUrl+\"/community/users/\"+t,o);if(i.data){const e=i.data;return e.error?null:e}return null}async function t(e,n,t){const s=await r(e,n,!0);return s?.privileges?.includes(t)??!1}async function s(e,n,t){const s=await r(e,n,!0);return s?.userLicenseTypeExtensions?.includes(t)??!1}export{t as hasPrivilege,s as hasUserTypeExtension,r as lookupUser};\n"],"names":[],"sourceRoot":""}