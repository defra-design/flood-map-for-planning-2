"use strict";(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[907,5418,6391,6479],{32150:function(t,i,e){e.d(i,{c:function(){return n},g:function(){return s}});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},2075:function(t,i,e){e.d(i,{a:function(){return b},b:function(){return Z},c:function(){return w},f:function(){return m},g:function(){return _},h:function(){return E},u:function(){return x}}),e(58941);var n=e(40633),s=e(15774),r=e(89736),o=e(73364),h=e(39714),a=e(20551),u=e(32501),c=e(87416),l=e(72485),f=e(73313),p=e(5596),d=e(79578),v=e(29531),y=e(50973);const g=()=>n.A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");function b(t=G){return{plane:(0,p.vt)(t.plane),origin:(0,u.o8)(t.origin),basis1:(0,u.o8)(t.basis1),basis2:(0,u.o8)(t.basis2)}}function w(t,i=b()){return m(t.origin,t.basis1,t.basis2,i)}function m(t,i,e,n=b()){return(0,a.c)(n.origin,t),(0,a.c)(n.basis1,i),(0,a.c)(n.basis2,e),x(n),function(t,i){Math.abs((0,a.f)(t.basis1,t.basis2)/((0,a.l)(t.basis1)*(0,a.l)(t.basis2)))>1e-6&&g().warn(i,"Provided basis vectors are not perpendicular"),Math.abs((0,a.f)(t.basis1,C(t)))>1e-6&&g().warn(i,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,a.f)(C(t),t.origin)-t.plane[3])>1e-6&&g().warn(i,"Plane offset is not consistent with plane origin")}(n,"fromValues()"),n}function x(t){(0,p.mR)(t.basis2,t.basis1,t.origin,t.plane)}function M(t,i,e){t!==e&&w(t,e);const n=(0,a.h)(y.rq.get(),C(t),i);return(0,a.g)(e.origin,e.origin,n),e.plane[3]-=i,e}function _(t,i=b()){const e=(t[2]-t[0])/2,n=(t[3]-t[1])/2;return(0,a.i)(i.origin,t[0]+e,t[1]+n,0),(0,a.i)(i.basis1,e,0,0),(0,a.i)(i.basis2,0,n,0),(0,p.fA)(0,0,1,0,i.plane),i}function k(t,i,e){return!!(0,p.Ui)(t.plane,i,e)&&S(t,e)}function A(t,i,e){const n=D.get();O(t,i,n,D.get());let r=Number.POSITIVE_INFINITY;for(const o of q){const h=R(t,o,V.get()),u=y.rq.get();if((0,p.T7)(n,h,u)){const t=(0,a.o)(y.rq.get(),i.origin,u),n=Math.abs((0,s.XM)((0,a.f)(i.direction,t)));n<r&&(r=n,(0,a.c)(e,u))}}return r===Number.POSITIVE_INFINITY?T(t,i,e):e}function T(t,i,e){if(k(t,i,e))return e;const n=D.get(),s=D.get();O(t,i,n,s);let r=Number.POSITIVE_INFINITY;for(const o of q){const h=R(t,o,V.get()),u=y.rq.get();if((0,p.gv)(n,h,u)){const t=(0,d.kb)(i,u);if(!(0,p.Tj)(s,u))continue;t<r&&(r=t,(0,a.c)(e,u))}}return I(t,i.origin)<r&&j(t,i.origin,e),e}function j(t,i,e){const n=(0,p._I)(t.plane,i,y.rq.get()),s=(0,f.H6)(N(t,t.basis1),n,-1,1,y.rq.get()),r=(0,f.H6)(N(t,t.basis2),n,-1,1,y.rq.get());return(0,a.d)(e,(0,a.g)(y.rq.get(),s,r),t.origin),e}function P(t,i,e){const{origin:n,basis1:s,basis2:r}=t,o=(0,a.d)(y.rq.get(),i,n),h=(0,v.gr)(s,o),u=(0,v.gr)(r,o),c=(0,v.gr)(C(t),o);return(0,a.i)(e,h,u,c)}function I(t,i){const e=P(t,i,y.rq.get()),{basis1:n,basis2:s}=t,r=(0,a.l)(n),o=(0,a.l)(s),h=Math.max(Math.abs(e[0])-r,0),u=Math.max(Math.abs(e[1])-o,0),c=e[2];return h*h+u*u+c*c}function E(t,i){return Math.sqrt(I(t,i))}function z(t,i){const e=-t.plane[3];return(0,v.gr)(C(t),i)-e}function C(t){return(0,p.Qj)(t.plane)}function S(t,i){const e=(0,a.d)(y.rq.get(),i,t.origin),n=(0,a.k)(t.basis1),s=(0,a.k)(t.basis2),r=(0,a.f)(t.basis1,e),o=(0,a.f)(t.basis2,e);return-r-n<0&&r-n<0&&-o-s<0&&o-s<0}function N(t,i){const e=V.get();return(0,a.c)(e.origin,t.origin),(0,a.c)(e.vector,i),e}function R(t,i,e){const{basis1:n,basis2:s,origin:r}=t,o=(0,a.h)(y.rq.get(),n,i.origin[0]),h=(0,a.h)(y.rq.get(),s,i.origin[1]);(0,a.g)(e.origin,o,h),(0,a.g)(e.origin,e.origin,r);const u=(0,a.h)(y.rq.get(),n,i.direction[0]),c=(0,a.h)(y.rq.get(),s,i.direction[1]);return(0,a.h)(e.vector,(0,a.g)(u,u,c),2),e}function O(t,i,e,n){const s=C(t);(0,p.mR)(s,i.direction,i.origin,e),(0,p.mR)((0,p.Qj)(e),s,i.origin,n)}const G={plane:(0,p.vt)(),origin:(0,u.fA)(0,0,0),basis1:(0,u.fA)(1,0,0),basis2:(0,u.fA)(0,1,0)},D=new r.I(p.vt),V=new r.I(f.vt),L=(0,u.vt)(),F=new r.I((()=>b())),q=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],B=(0,h.vt)(),H=(0,h.vt)(),Z=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:class{constructor(){this.plane=(0,p.vt)(),this.origin=(0,u.vt)(),this.basis1=(0,u.vt)(),this.basis2=(0,u.vt)()}},altitudeAt:z,axisAt:function(t,i,e,n){return function(t,i,e){switch(i){case l._.X:(0,a.c)(e,t.basis1),(0,a.n)(e,e);break;case l._.Y:(0,a.c)(e,t.basis2),(0,a.n)(e,e);break;case l._.Z:(0,a.c)(e,C(t))}return e}(t,e,n)},cameraFrustumCoverage:function(t,i){return(i-t)/i},closestPoint:T,closestPointOnSilhouette:A,copy:w,copyWithoutVerify:function(t,i){(0,a.c)(i.origin,t.origin),(0,a.c)(i.basis1,t.basis1),(0,a.c)(i.basis2,t.basis2),(0,p.C)(i.plane,t.plane)},create:b,distance:E,distance2:I,distanceToSilhouette:function(t,i){let e=Number.NEGATIVE_INFINITY;for(const n of q){const s=R(t,n,V.get()),r=(0,f.kb)(s,i);r>e&&(e=r)}return Math.sqrt(e)},elevate:M,equals:function(t,i){return(0,a.p)(t.basis1,i.basis1)&&(0,a.p)(t.basis2,i.basis2)&&(0,a.p)(t.origin,i.origin)},extrusionContainsPoint:function(t,i){return(0,p.Tj)(t.plane,i)&&S(t,i)},fromAABoundingRect:_,fromValues:m,getExtent:function(t,i){const e=t.basis1[0],n=t.basis2[1],[s,r]=t.origin;return(0,c.fA)(s-e,r-n,s+e,r+n,i)},intersectRay:k,intersectRayClosestSilhouette:function(t,i,e){if(k(t,i,e))return e;const n=A(t,i,y.rq.get());return(0,a.g)(e,i.origin,(0,a.h)(y.rq.get(),i.direction,(0,a.j)(i.origin,n)/(0,a.l)(i.direction))),e},normal:C,projectPoint:j,projectPointLocal:P,rotate:function(t,i,e,n){return t!==n&&w(t,n),(0,o.$0)(H,i,e),(0,a.t)(n.basis1,t.basis1,H),(0,a.t)(n.basis2,t.basis2,H),x(n),n},setAltitudeAt:function(t,i,e,n){const s=z(t,i),r=(0,a.h)(L,C(t),e-s);return(0,a.g)(n,i,r),n},setExtent:function(t,i,e){return _(i,e),M(e,z(t,t.origin),e),e},transform:function(t,i,e){return t!==e&&w(t,e),(0,o.B8)(B,i),(0,o.mg)(B,B),(0,a.t)(e.basis1,t.basis1,B),(0,a.t)(e.basis2,t.basis2,B),(0,a.t)((0,p.Qj)(e.plane),(0,p.Qj)(t.plane),B),(0,a.t)(e.origin,t.origin,i),(0,p.mP)(e.plane,e.plane,e.origin),e},up:G,updateUnboundedPlane:x,wrap:function(t,i,e){const n=F.get();return n.origin=t,n.basis1=i,n.basis2=e,n.plane=(0,p.LV)(0,0,0,0),x(n),n}},Symbol.toStringTag,{value:"Module"}))},56901:function(t,i,e){e.r(i),e.d(i,{G:function(){return h},g:function(){return a}});var n,s=e(32150),r={exports:{}},o=(n||(n=1,function(t){var i=function(){function t(t){if("number"==typeof t)return W.Tc.Zg(t);if(null==t)return null;if(null!=rt[t])return W.Tc.Zg(rt[t]);throw Error("Unrecognised Unit Type")}function i(t){if("number"==typeof t)return W.Tc.Zg(t);if(null==t)return null;if(null!=ot[t])return W.Tc.Zg(ot[t]);throw Error("Unrecognised Unit Type")}function e(t){if(t)switch(t){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function n(t,i,e,n){if(null==e||e.B())return null;switch(e.getType()){case W.qn.Point:return t.exportPoint(i,e,n);case W.qn.Polygon:return t.exportPolygon(i,e,n);case W.qn.Polyline:return t.exportPolyline(i,e,n);case W.qn.MultiPoint:return t.exportMultipoint(i,e,n);case W.qn.Envelope:return t.exportExtent(i,e,n)}return null}function s(t,i,e,n){if(e.getType()!==W.qn.Point)throw Error("Geometry not Point");return t.exportPoint(i,e,n)}function r(t,i,e){return t.convertToGEGeometry(i,e)}function o(t){var i=t.wkid;t=t.wkt2||t.wkt;var e=ht.get(i||t);return null==e&&(-1!==i&&null!=i?(e=W.Eg.create(i),ht.set(i,e)):t&&(e=W.Eg.qP(t),ht.set(t,e)),ut.has(i||t)&&e.VW(ut.get(i||t))),e}function h(t){var i,e,n;if(null==t)return null;var s=o(t);return t=s.Hd(),s=s.Kn(),(i={}).tolerance=s,i.unitType=null==t?-1:t.od,i.unitID=null==t?-1:t.Ec(),i.unitBaseFactor=null==t?0:t.ai,i.unitSquareDerivative=null==t?0:null!==(n=null===(e=W.Tc.aG(t))||void 0===e?void 0:e.Ec())&&void 0!==n?n:0,i}function a(t,i,e,s){return null==e?null:(e=W.$b.clip(r(t,at,e),r(t,at,s),o(i)),n(t,at,e,i))}function u(t,i,e,s){e=W.$b.dl(r(t,at,e),r(t,at,s),o(i)),s=[];for(var h=0;h<e.length;h++)s.push(n(t,at,e[h],i));return s}function c(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.contains(r(t,at,e),r(t,at,n),o(i))}function l(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.BP(r(t,at,e),r(t,at,n),o(i))}function f(i,e,n,s,h){if(null==n||null==s)throw Error("Illegal Argument Exception");return W.$b.tb(r(i,at,n),r(i,at,s),o(e),t(h))}function p(t,i,e,n){return!(null==e&&null!=n||null==n&&null!=e)&&W.$b.Nb(r(t,at,e),r(t,at,n),o(i))}function d(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.TS(r(t,at,e),r(t,at,n),o(i))}function v(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.touches(r(t,at,e),r(t,at,n),o(i))}function y(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.qY(r(t,at,e),r(t,at,n),o(i))}function g(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.TP(r(t,at,e),r(t,at,n),o(i))}function b(t,i,e,n){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.DU(r(t,at,e),r(t,at,n),o(i))}function w(t,i,e,n,s){if(null==e||null==n)throw Error("Illegal Argument Exception");return W.$b.yB(r(t,at,e),r(t,at,n),o(i),s)}function m(t,i,e){if(null==e)throw Error("Illegal Argument Exception");return W.$b.dT(r(t,at,e),o(i))}function x(t,i,e){if(null==e)throw Error("Illegal Argument Exception");return e=W.$b.eC(r(t,at,e),o(i)),n(t,at,e,i)}function M(t,i,e,s){if(void 0===s&&(s=!1),null==e)throw Error("Illegal Argument Exception");if(Array.isArray(e)){var h=s,a=[];for(s=0;s<e.length;s++)a.push(r(t,at,e[s]));for(e=W.$b.jP(a,h),h=Array(e.length),s=0;s<e.length;s++)h[s]=n(t,at,e[s],i);return h}return s=W.$b.iP(r(t,at,e),o(i)),n(t,at,s,i)}function _(t,i,e,s){if(null==e||null==s)throw Error("Illegal Argument Exception");if(Array.isArray(e)){for(var h=[],a=0;a<e.length;a++)h.push(r(t,at,e[a]));for(e=W.$b.QP(h,r(t,at,s),o(i)),s=Array(e.length),a=0;a<e.length;a++)s[a]=n(t,at,e[a],i);return s}return a=W.$b.im(r(t,at,e),r(t,at,s),o(i)),n(t,at,a,i)}function k(t,i,e,s){if(null==e||null==s)throw Error("Illegal Argument Exception");if(Array.isArray(e)){for(var h=[],a=0;a<e.length;a++)h.push(r(t,at,e[a]));for(e=W.$b.VX(h,r(t,at,s),o(i)),s=Array(e.length),a=0;a<e.length;a++)s[a]=n(t,at,e[a],i);return s}return a=W.$b.ep(r(t,at,e),r(t,at,s),o(i)),n(t,at,a,i)}function A(t,i,e,s){if(null==e||null==s)throw Error("Illegal Argument Exception");if(Array.isArray(e)){for(var h=[],a=0;a<e.length;a++)h.push(r(t,at,e[a]));for(e=W.$b.RS(h,r(t,at,s),o(i)),s=Array(e.length),a=0;a<e.length;a++)s[a]=n(t,at,e[a],i);return s}return a=W.$b.Ea(r(t,at,e),r(t,at,s),o(i)),n(t,at,a,i)}function T(t,i,e,s){if(null==e)return null;var h=[];if(Array.isArray(e)){if(0===e.length)return null;for(s=0;s<e.length;s++)h.push(r(t,at,e[s]))}else h.push(r(t,at,e)),null!=s&&h.push(r(t,at,s));return n(t,at,W.$b.jY(h,o(i)),i)}function j(i,e,s,h,a,u,c,l){var f=0;if(null!=u)switch(u){case"round":f=0;break;case"bevel":f=1;break;case"miter":f=2;break;case"square":f=3}if(Array.isArray(s)){if(null==s)i=null;else if(0===s.length)i=[];else{var p=[];for(u=0;u<s.length;u++)p.push(r(i,at,s[u]));for(s=W.$b.BU(p,o(e),h,f,c,l,t(a)),h=Array(s.length),u=0;u<s.length;u++)h[u]=n(i,at,s[u],e);i=h}return i}return s=W.$b.offset(r(i,at,s),o(e),h,f,c,l,t(a)),n(i,at,s,e)}function P(i,e,s,h,a,u){if(void 0===u&&(u=!1),Array.isArray(s)){if(!Array.isArray(h)){for(var c=[],l=0;l<s.length;l++)c.push(h);h=c}if(h.length!=s.length){if(0==h.length)throw Error("Illegal Argument Exception");c=[];var f=0;for(l=0;l<s.length;l++)void 0===h[l]?c.push(f):(c.push(h[l]),f=h[l]);h=c}return E(i,e,s,h,a,!1,u,"geodesic",NaN)}return s=W.$b.buffer(r(i,at,s),o(e),h,t(a),!1,0,NaN),n(i,at,s,e)}function I(i,s,h,a,u,c,l,f){if(Array.isArray(h)){if(!Array.isArray(a)){for(var p=[],d=0;d<h.length;d++)p.push(a);a=p}if(a.length!==h.length){if(0===a.length)throw Error("Illegal Argument Exception");p=[];var v=0;for(d=0;d<h.length;d++)void 0===a[d]?p.push(v):(p.push(a[d]),v=a[d]);a=p}return E(i,s,h,a,u,!0,c,l,f)}return void 0===l&&(l=NaN),h=W.$b.buffer(r(i,at,h),o(s),a,t(u),!0,e(c),l),n(i,at,h,s)}function E(i,s,h,a,u,c,l,f,p){if(void 0===p&&(p=NaN),null==h)return null;if(0===h.length)return[];for(var d=[],v=0;v<h.length;v++)d.push(r(i,at,h[v]));for(h=W.$b.MN(d,o(s),a,t(u),c,l,e(f),p),a=Array(h.length),v=0;v<h.length;v++)a[v]=n(i,at,h[v],s);return a}function z(t,i,e,n,o){var h;return void 0===o&&(o=!0),e=W.$b.nz(r(t,at,e),r(t,at,n),o),(h={}).coordinate=s(t,at,e.fz(),i),h.distance=e.hz(),h.isRightSide=e.Sz(),h.vertexIndex=e.Ua(),h.isEmpty=e.B(),h}function C(t,i,e,n){var o;return e=W.$b.oz(r(t,at,e),r(t,at,n)),(o={}).coordinate=s(t,at,e.fz(),i),o.distance=e.hz(),o.isRightSide=e.Sz(),o.vertexIndex=e.Ua(),o.isEmpty=e.B(),o}function S(t,i,e,n,o,h){var a;for(e=W.$b.pz(r(t,at,e),r(t,at,n),o,h),n=[],o=0;o<e.length;o++)!1===e[o].B()&&n.push(((a={}).coordinate=s(t,at,e[o].fz(),i),a.distance=e[o].hz(),a.isRightSide=e[o].Sz(),a.vertexIndex=e[o].Ua(),a.isEmpty=e[o].B(),a));return n}function N(i,e,s,h,a,u){return s=W.$b.QQ(r(i,at,s),o(e),h,a,t(u)),n(i,at,s,e)}function R(i,e,s,h,a){return s=W.$b.Qr(r(i,at,s),o(e),h,t(a)),n(i,at,s,e)}function O(i,e,s,h,a,u){return void 0===u&&(u=0),s=W.$b.Wy(r(i,at,s),o(e),h,t(a),u),n(i,at,s,e)}function G(t,e,n,s){if(null==n)throw Error("Illegal Argument Exception");return W.$b.JU(r(t,at,n),o(e),i(s))}function D(i,e,n,s){if(null==n)throw Error("Illegal Argument Exception");return W.$b.KU(r(i,at,n),o(e),t(s))}function V(t,n,s,h,a){if(null==s)throw Error("Illegal Argument Exception");return W.$b.WQ(r(t,at,s),o(n),i(h),e(a))}function L(i,n,s,h,a){if(null==s)throw Error("Illegal Argument Exception");return W.$b.ZQ(r(i,at,s),o(n),t(h),e(a))}function F(t){W.NL.bind(t)}function q(t,i,e,n,s){var h=null,a=null;if(n){if(!s)throw W.i.N("AOI missing Spatial Reference");h=r(t,at,n),a=o(s).fh()}return null!==(t=W.gu.XR(o(i).fh(),o(e).fh(),h,a))?t:null}function B(t,i,e,n,s){var h=null,a=null;if(n){if(!s)throw W.i.N("AOI missing Spatial Reference");h=r(t,at,n),a=o(s).fh()}return W.gu.YR(o(i).fh(),o(e).fh(),h,a)}function H(t,i,e,n,s,r){if(void 0===s&&(s=null),void 0===r&&(r=null),r){var h=new W.yC;h.Vu=r.densificationStep,h.Jr=r.centralMeridianOfOutputGCS,r.clipWithInputHorizon&&h.PW(r.clipWithInputHorizon),r.clipWithOutputHorizon&&h.QW(r.clipWithOutputHorizon)}if(!1===this.KY)throw Error("Projection Engine must be enabled using enableProjection");if(0===i.length)return[];if(s){if(!(r=s.getCachedGeTransformation(e,n)))t:{if(r=s,s=null,r){var a=r.getGTListEntry();if(null!==a){s=new W.wC(null);for(var u=0,c=a.steps;u<c.length;u++){a=c[u];var l=new W.Dx(a.geogtran);a.isInverse&&l.Qz(),s.add(l)}h=W.vr.Nr(o(e).fh(),o(n).fh(),s,h),r.assignCachedGe(e,n,h),r=h;break t}}if(null===s&&r&&r.steps&&0<r.steps.length){for(s=new W.wC(null),u=0,c=r.steps;u<c.length;u++)-1!=(a=c[u]).wkid&&null!=a.wkid?s.add(W.Dx.create(a.wkid,a.isInverse)):s.add(W.Dx.uP(a.wkt,a.isInverse));h=W.vr.Nr(o(e).fh(),o(n).fh(),s,h),r.assignCachedGe(e,n,h),r=h}else r=W.vr.Nr(o(e).fh(),o(n).fh(),s,h)}for(e=[],s=0;s<i.length;s++)h=i[s],e.push(Z(t,h,n,r))}else for(r=W.vr.Nr(o(e).fh(),o(n).fh(),null),e=[],s=0;s<i.length;s++)h=i[s],e.push(Z(t,h,n,r));return e}function Z(t,i,e,s){return i=W.$b.zh(r(t,at,i),s),n(t,at,i,e)}function U(t,i){null!=t&&(t=t.wkid||t.wkt2||t.wkt,ut.has(t),ut.set(t,i),ht.has(t)&&ht.delete(t))}function K(t){null!=t&&(t=t.wkid||t.wkt2||t.wkt,ut.has(t)&&(ut.delete(t),ht.has(t)&&ht.delete(t)))}function J(t,i,e,s){if(null==e||null==s)return[];var h=[],a=0;for(e=W.$b.QS(r(t,at,e),r(t,at,s),o(i))||[];a<e.length;a++)h.push(n(t,at,e[a],i));return h}var X,W,Y,$,Q=this&&this.__extends||function(){function t(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)}return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(t){var i;(i=t.qn||(t.qn={}))[i.Unknown=0]="Unknown",i[i.Point=33]="Point",i[i.Line=322]="Line",i[i.Envelope=197]="Envelope",i[i.MultiPoint=550]="MultiPoint",i[i.Polyline=1607]="Polyline",i[i.Polygon=1736]="Polygon",function(t){t[t.enumMild=0]="enumMild",t[t.enumMedium=1]="enumMedium",t[t.enumHot=2]="enumHot"}(t.YK||(t.YK={}));var e=function(){function i(){this.description=null,this.VA=0}return i.prototype.getType=function(){return 0},i.prototype.Db=function(){return-1},i.prototype.Nf=function(t){this.vc(),t!=this.description&&this.sn(t)},i.prototype.sn=function(){},i.prototype.Jl=function(i){this.vc(),i!=this.description&&(i=t.ee.CR(this.description,i))!=this.description&&this.sn(i)},i.prototype.hasAttribute=function(t){return this.description.hasAttribute(t)},i.prototype.re=function(i){this.vc(),this.description.hasAttribute(i)||(i=t.ee.BR(this.description,i),this.sn(i))},i.prototype.Tg=function(){return null},i.prototype.bn=function(){},i.prototype.A=function(){},i.prototype.Qo=function(){},i.prototype.xc=function(t){this.A(t)},i.prototype.B=function(){return!0},i.prototype.Oa=function(){},i.prototype.Oc=function(){},i.prototype.Ia=function(){return null},i.prototype.copyTo=function(){},i.prototype.Ke=function(){return 0},i.prototype.Qb=function(){return 0},i.prototype.iG=function(){return this.hasAttribute(1)},i.tf=function(t){return 1+((192&t)>>6)>>1},i.Rn=function(t){return!!(32&t)},i.US=function(t){return!!(128&t)},i.yd=function(t){return!!(256&t)},i.xj=function(t){return!!(512&t)},i.Hc=function(t){return!!(1024&t)},i.prototype.Of=function(){var t=this.Ia();return this.copyTo(t),t},i.prototype.mg=function(){return null},i.jg=function(t){var i=t.Ia();return t.copyTo(i),i},i.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},i.Ax=function(e){var n=e.getType();if(i.xj(n))return e.I();if(e.B())return 0;if(197==n)return 4;if(33==n)return 1;if(i.yd(n))return 2;throw t.i.fa("missing type")},i}();t.aa=e}(W||(W={})),Y=W||(W={}),$=function(){function t(){this.y=this.x=0}return t.construct=function(i,e){var n=new t;return n.x=i,n.y=e,n},t.al=function(i){var e=new t;return e.x=i.x,e.y=i.y,e},t.prototype.ma=function(t,i){this.x=t,this.y=i},t.prototype.L=function(t){this.x=t.x,this.y=t.y},t.prototype.fq=function(t,i){return this.x===t&&this.y===i},t.prototype.Rz=function(t){return 2220446049250313e-31>=Math.abs(this.x-t.x)&&2220446049250313e-31>=Math.abs(this.y-t.y)},t.prototype.qb=function(t){return this.x===t.x&&this.y===t.y},t.prototype.Nb=function(i){return i==this||i instanceof t&&this.x==i.x&&this.y==i.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.uc=function(t,i){this.x=t.x-i.x,this.y=t.y-i.y},t.prototype.add=function(t,i){void 0!==i?(this.x=t.x+i.x,this.y=t.y+i.y):(this.x+=t.x,this.y+=t.y)},t.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},t.prototype.mt=function(t){this.x=-t.x,this.y=-t.y},t.prototype.NS=function(t,i,e){this.x=t.x*(1-e)+i.x*e,this.y=t.y*(1-e)+i.y*e},t.prototype.Ct=function(t,i){this.x=this.x*t+i.x,this.y=this.y*t+i.y},t.prototype.HW=function(t,i,e){this.x=i.x*t+e.x,this.y=i.y*t+e.y},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.compare=function(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x=1,this.y=0),this.x/=t,this.y/=t},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.Sk=function(){return this.x*this.x+this.y*this.y},t.tb=function(t,i){return Math.sqrt(this.yc(t,i))},t.Oy=function(t,i,e,n){return t-=e,i-=n,Math.sqrt(t*t+i*i)},t.prototype.Qh=function(t){return this.x*t.x+this.y*t.y},t.prototype.fD=function(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)},t.prototype.wi=function(t){return this.x*t.y-this.y*t.x},t.prototype.Bt=function(t,i){var e=-this.x*i+this.y*t;this.x=this.x*t+this.y*i,this.y=e},t.prototype.Hv=function(){var t=this.x;this.x=-this.y,this.y=t},t.prototype.MG=function(t){this.x=-t.y,this.y=t.x},t.prototype.ar=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3},t.nu=function(t,i){var e=t.qu(),n=i.qu();return n==e?0>(t=t.wi(i))?1:0<t?-1:0:e<n?-1:1},t.yc=function(t,i){var e=t.x-i.x;return e*e+(t=t.y-i.y)*t},t.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},t.prototype.Rc=function(){this.y=this.x=NaN},t.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},t.prototype.offset=function(i,e){var n=t.tb(i,e),s=t.construct(this.x,this.y);if(0==n)return t.tb(s,i);var r=new t;return r.L(e),r.sub(i),s.sub(i),s.wi(r)/n},t.Uq=function(t,i,e){var n=new Y.Wb;n.set(i.x),n.sub(t.x);var s=new Y.Wb;s.set(e.y),s.sub(t.y);var r=new Y.Wb;r.set(i.y),r.sub(t.y);var o=new Y.Wb;return o.set(e.x),o.sub(t.x),n.Ag(s),r.Ag(o),n.sub(r),n.ps()?(n=new Y.hp(i.x),s=new Y.hp(t.x),r=new Y.hp(t.y),n=n.jt(s),t=(t=new Y.hp(e.y)).jt(r),i=(i=new Y.hp(i.y)).jt(r),e=(e=new Y.hp(e.x)).jt(s),n=n.lr(t),i=i.lr(e),(n=n.lr(i)).nT()?-1:n.fS()?1:0):0>(e=n.value())?-1:0<e?1:0},t.prototype.cc=function(){return Y.O.uj(Y.O.uj())},t}(),Y.h=$,function(t){var i=function(){function t(t){this.Fy=this.Mt=0,this.OX=t}return t.prototype.reset=function(){this.Fy=this.Mt=0},t.prototype.add=function(t){t-=this.Fy;var i=this.Mt+t;this.Fy=i-this.Mt-t,this.Mt=i},t.prototype.sub=function(t){this.add(-t)},t.prototype.rm=function(){return this.OX+this.Mt},t}();t.Fx=i,t.lc=function(){function t(){}return t.Cn=function(t,i){return 0<=i?Math.abs(t):-Math.abs(t)},t.sign=function(t){return 0>t?-1:0<t?1:0},t.RK=function(t){return t-360*Math.floor(t/360)},t.round=function(t){return Math.floor(t+.5)},t.ox=function(t){return t*t},t.hq=function(t,i,e){return.5>=e?t+(i-t)*e:i-(i-t)*(1-e)},t.OG=function(t,i,e,n){.5>=e?(n.x=t.x+(i.x-t.x)*e,n.y=t.y+(i.y-t.y)*e):(n.x=i.x-(i.x-t.x)*(1-e),n.y=i.y-(i.y-t.y)*(1-e))},t.lT=function(t,i,e,n,s,r){.5>=s?(r.x=t+(e-t)*s,r.y=i+(n-i)*s):(r.x=e-(e-t)*(1-s),r.y=n-(n-i)*(1-s))},t}()}(W||(W={})),function(t){var i=function(i){function e(){var t=i.call(this)||this;return t.sa=0,t.na=0,t.pa=0,t.la=0,t.ka=null,t}return Q(e,i),e.prototype.ac=function(){return t.h.construct(this.sa,this.na)},e.prototype.Yp=function(t){t.x=this.sa,t.y=this.na},e.prototype.Dc=function(t){this.em(0,t)},e.prototype.ZB=function(i,e){this.em(0,t.h.construct(i,e))},e.prototype.To=function(t){this.hD(0,t)},e.prototype.setStart=function(t){this.uD(0,t)},e.prototype.wv=function(t,i){return this.Od(0,t,i)},e.prototype.YB=function(t,i,e){this.tn(0,t,i,e)},e.prototype.wc=function(){return t.h.construct(this.pa,this.la)},e.prototype.Tr=function(t){t.x=this.pa,t.y=this.la},e.prototype.Qc=function(t){this.em(1,t)},e.prototype.Ql=function(i,e){this.em(1,t.h.construct(i,e))},e.prototype.Po=function(t){this.hD(1,t)},e.prototype.setEnd=function(t){this.uD(1,t)},e.prototype.gv=function(t,i){return this.Od(1,t,i)},e.prototype.OB=function(t,i,e){this.tn(1,t,i,e)},e.prototype.Db=function(){return 1},e.prototype.B=function(){return this.Ac()},e.prototype.Oa=function(){},e.prototype.Ke=function(){return 0},e.prototype.Ea=function(t,i,e,n,s){return this.KM(t,i,e,n,s)},e.prototype.isIntersecting=function(t,i){return 0!=this.zr(t,i,!1)},e.prototype.qs=function(t,i){return this.ru(t,i,!1)},e.prototype.ru=function(){return null},e.prototype.Ac=function(){return!1},e.prototype.ay=function(i){if(this.vc(),null==this.ka&&0<i)this.ka=t.O.lg(2*i);else if(null!=this.ka&&this.ka.length<2*i){for(var e=this.ka.slice(0),n=this.ka.length;n<2*i;n++)e[n]=0;this.ka=e}},e.gM=function(t,i,e){if(0<e)var n=0;for(var s=0;s<e;s++)i[0+n]=t[0],n++},e.prototype.em=function(t,i){0!=t?(this.pa=i.x,this.la=i.y):(this.sa=i.x,this.na=i.y)},e.prototype.sn=function(i){if(null!=this.ka){for(var n=t.ee.Iw(i,this.description),s=[],r=e.Gg(this.description,0),o=e.Gg(this.description,1),h=e.Gg(i,0),a=e.Gg(i,1),u=0,c=1,l=i.Aa;c<l;c++){var f=i.kd(c),p=t.ra.Va(f);if(-1==n[c]){var d=t.ra.se(f);for(f=0;f<p;f++)s[h+u]=d,s[a+u]=d,u++}else for(d=this.description.$j(n[c])-2,f=0;f<p;f++)s[h+u]=this.ka[r+d],s[a+u]=this.ka[o+d],u++,d++}this.ka=s}this.description=i},e.prototype.hD=function(i,e){if(this.Ac())throw t.i.fa("empty geometry");e.Nf(this.description),e.Ac()&&e.un();for(var n=0;n<this.description.Aa;n++)for(var s=this.description.Ed(n),r=0,o=t.ra.Va(s);r<o;r++){var h=this.Od(i,s,r);e.setAttribute(s,r,h)}},e.prototype.uD=function(i,e){if(this.vc(),e.Ac())throw t.i.fa("empty geometry");for(var n=e.description,s=0,r=n.Aa;s<r;s++)for(var o=n.Ed(s),h=t.ra.Va(o),a=0;a<h;a++){var u=e.Uc(o,a);this.tn(i,o,a,u)}},e.prototype.Od=function(i,n,s){if(this.Ac())throw t.i.fa("This operation was performed on an Empty Geometry.");if(0==n)return 0!=i?0!=s?this.la:this.pa:0!=s?this.na:this.sa;if(s>=t.ra.Va(n))throw t.i.ce();var r=this.description.Pf(n);return 0<=r?(null!=this.ka&&this.ay(this.description.Ae.length-2),this.ka[e.Gg(this.description,i)+this.description.$j(r)-2+s]):t.ra.se(n)},e.prototype.tn=function(i,n,s,r){if(this.vc(),s>=t.ra.Va(n))throw t.i.ce();var o=this.description.Pf(n);0>o&&(this.re(n),o=this.description.Pf(n)),0==n?0!=i?0!=s?this.la=r:this.pa=r:0!=s?this.na=r:this.sa=r:(null==this.ka&&this.ay(this.description.Ae.length-2),this.ka[e.Gg(this.description,i)+this.description.$j(o)-2+s]=r)},e.prototype.copyTo=function(i){if(i.getType()!=this.getType())throw t.i.N();i.description=this.description,i.ay(this.description.Ae.length-2),e.gM(this.ka,i.ka,2*(this.description.Ae.length-2)),i.sa=this.sa,i.na=this.na,i.pa=this.pa,i.la=this.la,i.vc(),this.op(i)},e.prototype.Tg=function(i,e){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(n.oa=this.Od(0,i,e),n.va=n.oa,n.Lk(this.Od(1,i,e)),n)},e.prototype.ZI=function(t){this.Ac()?t.Oa():(t.oa=this.Od(0,0,0),t.va=t.oa,t.Lk(this.Od(1,0,0)))},e.prototype.Tw=function(i,e){e.Nf(this.description),e.Cb(this.hc(i));for(var n=1,s=this.description.Aa;n<s;n++)for(var r=this.description.Ed(n),o=t.ra.Va(r),h=0;h<o;h++){var a=this.Uc(i,r,h);e.setAttribute(r,h,a)}},e.prototype.FM=function(t){if(this.description!=t.description||this.sa!=t.sa||this.pa!=t.pa||this.na!=t.na||this.la!=t.la)return!1;for(var i=0;i<2*(this.description.Ae.length-2);i++)if(this.ka[i]!=t.ka[i])return!1;return!0},e.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},e.prototype.reverse=function(){var i=this.sa;this.sa=this.pa,this.pa=i,i=this.na,this.na=this.la,this.la=i,i=1;for(var e=this.description.Aa;i<e;i++)for(var n=this.description.kd(i),s=0,r=t.ra.Va(n);s<r;s++){var o=this.Od(0,n,s),h=this.Od(1,n,s);this.tn(0,n,s,h),this.tn(1,n,s,o)}},e.prototype.zr=function(i,e,n){var s=this.getType(),r=i.getType();if(322===s){if(322==r)return t.yb.OM(this,i,e,n);throw t.i.Qa()}throw t.i.Qa()},e.prototype.KM=function(i,e,n,s,r){var o=this.getType(),h=i.getType();if(322===o){if(322==h)return t.yb.Zx(this,i,e,n,s,r);throw t.i.Qa()}throw t.i.Qa()},e.prototype.Tx=function(){return null},e.Gg=function(t,i){return i*(t.Ae.length-2)},e.prototype.hc=function(i,e){if(void 0===e)return e=new t.h,this.hc(i,e),e;t.lc.lT(this.sa,this.na,this.pa,this.la,i,e)},e.prototype.fe=function(){return null},e.prototype.eG=function(){return null},e.prototype.cq=function(){return null},e.prototype.Bi=function(){return null},e.prototype.Pn=function(){return null},e.prototype.kg=function(){return null},e.prototype.Ux=function(t,i){return void 0!==i?this.vx(i)-this.vx(t):this.vx(t)},e.prototype.op=function(){},e.prototype.dl=function(){return null},e.prototype.ah=function(){},e.prototype.Uc=function(){return null},e.prototype.Pe=function(){return null},e.prototype.vx=function(){return null},e.prototype.NG=function(){return null},e.prototype.tb=function(t,i){if(!i&&0!=this.zr(t,0,!1))return 0;i=17976931348623157e292;var e=this.ac(),n=t.fe(e,!1);return e.sub(t.hc(n)),(e=e.length())<i&&(i=e),e=this.wc(),n=t.fe(e,!1),e.sub(t.hc(n)),(e=e.length())<i&&(i=e),e=t.ac(),n=this.fe(e,!1),e.sub(this.hc(n)),(e=e.length())<i&&(i=e),e=t.wc(),n=this.fe(e,!1),e.sub(this.hc(n)),(e=e.length())<i&&(i=e),i},e.prototype.mg=function(){return t.pi.gm(this,null)},e}(t.aa);t.SC=i}(W||(W={})),new W.h,function(t){var i;(i=t.$K||(t.$K={}))[i.Unknown=-1]="Unknown",i[i.Not=0]="Not",i[i.Weak=1]="Weak",i[i.Strong=2]="Strong",function(t){t[t.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",t[t.IsWeakSimple=2]="IsWeakSimple",t[t.IsStrongSimple=4]="IsStrongSimple",t[t.DirtyOGCFlags=8]="DirtyOGCFlags",t[t.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",t[t.DirtyExactIntervals=64]="DirtyExactIntervals",t[t.DirtyLooseIntervals=128]="DirtyLooseIntervals",t[t.DirtyIntervals=192]="DirtyIntervals",t[t.DirtyIsEnvelope=256]="DirtyIsEnvelope",t[t.DirtyLength2D=512]="DirtyLength2D",t[t.DirtyRingAreas2D=1024]="DirtyRingAreas2D",t[t.DirtyCoordinates=1993]="DirtyCoordinates",t[t.DirtyAllInternal=65535]="DirtyAllInternal",t[t.DirtyAll=16777215]="DirtyAll"}(t.MK||(t.MK={}));var e=function(i){function e(){var t=i.call(this)||this;return t.Hm=65535,t.wa=0,t.Pg=-1,t.Bb=null,t}return Q(e,i),e.prototype.op=function(){},e.prototype.$x=function(){},e.prototype.iy=function(){},e.prototype.I=function(){return this.wa},e.prototype.B=function(){return this.Ac()},e.prototype.Ac=function(){return 0==this.wa},e.prototype.ak=function(t){return!!(this.Hm&t)},e.prototype.Lf=function(t,i){this.Hm=i?this.Hm|t:this.Hm&~t},e.prototype.mc=function(){this.ak(32)&&this.bN()},e.prototype.wx=function(){if(this.Ac())throw t.i.fa("This operation was performed on an Empty Geometry.")},e.prototype.ve=function(i,e){if(0>i||i>=this.wa)throw t.i.fa("index out of bounds");this.mc(),e.Nf(this.description),e.B()&&e.un();for(var n=0;n<this.description.Aa;n++)for(var s=this.description.Ed(n),r=0,o=t.ra.Va(s);r<o;r++){var h=this.za[n].eg(o*i+r);e.setAttribute(s,r,h)}},e.prototype.Ht=function(i,e){this.mc();for(var n=e.description,s=0;s<n.Aa;s++)for(var r=n.Ed(s),o=t.ra.Va(r),h=0;h<o;h++){var a=e.Uc(r,h);this.setAttribute(r,i,h,a)}},e.prototype.D=function(i,e){if(0>i||i>=this.I())throw t.i.ce();this.mc(),this.za[0].tc(2*i,e)},e.prototype.Na=function(i){var e=new t.h;return this.D(i,e),e},e.prototype.Gc=function(t,i){this.za[0].tc(2*t,i)},e.prototype.Cb=function(i,e,n){if(0>i||i>=this.wa)throw t.i.ce();this.mc();var s=this.za[0];void 0!==n?(s.write(2*i,e),s.write(2*i+1,n)):s.Tt(2*i,e),this.Pc(1993)},e.prototype.Cz=function(){if(void 0>=this.I())throw t.i.ce();this.mc();var i=this.za[0],e=new t.Nd;return e.x=i.read(NaN),e.y=i.read(NaN),e.z=this.hasAttribute(1)?this.za[1].eg():t.ra.se(1),e},e.prototype.dC=function(i){if(0>i||i>=this.I())throw t.i.ce();this.re(1),this.mc(),this.Pc(1993);var e=this.za[0];e.write(2*i,(void 0).x),e.write(2*i+1,(void 0).y),this.za[1].pr(i,(void 0).z)},e.prototype.Uc=function(i,e,n){if(0>e||e>=this.wa)throw t.i.ce();var s=t.ra.Va(i);if(n>=s)throw t.i.ce();this.mc();var r=this.description.Pf(i);return 0<=r?this.za[r].eg(e*s+n):t.ra.se(i)},e.prototype.yF=function(t,i){return this.Uc(t,i)},e.prototype.setAttribute=function(i,e,n,s){if(0>e||e>=this.wa)throw t.i.ce();var r=t.ra.Va(i);if(n>=r)throw t.i.ce();this.re(i),this.mc(),i=this.description.Pf(i),this.Pc(1993),this.za[i].pr(e*r+n,s)},e.prototype.ub=function(t){return this.wx(),this.re(t),this.mc(),this.za[this.description.Pf(t)]},e.prototype.hn=function(i,e){if(null!=e&&t.ra.Tp(i)!=e.Tp())throw t.i.N();this.re(i),i=this.description.Pf(i),null==this.za&&(this.za=t.Yc.qI(this.description.Aa)),this.za[i]=e,this.Pc(16777215)},e.prototype.sn=function(i){var e=null;if(null!=this.za){var n=t.ee.Iw(i,this.description);e=[];for(var s=0,r=i.Aa;s<r;s++)-1!=n[s]&&(e[s]=this.za[n[s]])}this.description=i,this.za=e,this.Pg=-1,this.Pc(16777215)},e.prototype.AD=function(i){this.wu(!0),i instanceof t.l?this.$.A(i):this.$.Qo(i)},e.prototype.aN=function(i){this.wu(!1),i instanceof t.l?this.$.A(i):this.$.Qo(i)},e.prototype.bn=function(t){this.wu(!0),this.$.copyTo(t)},e.prototype.A=function(t){this.AD(t)},e.prototype.Qo=function(t){this.AD(t)},e.prototype.xc=function(t){this.aN(t)},e.prototype.Tg=function(i,e){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(this.wu(!0),this.$.Tg(i,e))},e.prototype.cc=function(){var i=this.description.cc();if(!this.Ac())for(var e=this.I(),n=0,s=this.description.Aa;n<s;n++)i=this.za[n].An(i,0,e*t.ra.Va(this.description.Ed(n)));return i},e.prototype.Nb=function(i){if(i==this)return!0;if(!(i instanceof e&&this.description.Nb(i.description))||this.Ac()!=i.Ac())return!1;if(this.Ac())return!0;var n=this.I();if(n!=i.I())return!1;for(var s=0;s<this.description.Aa;s++){var r=this.description.kd(s),o=this.ub(r),h=i.ub(r);if(!o.Nb(h,0,n*t.ra.Va(r)))return!1}return!0},e.prototype.copyTo=function(i){if(i.getType()!=this.getType())throw t.i.N();this.dD(i)},e.prototype.dD=function(i){this.mc(),i.description=this.description,i.za=null;var e=this.description.Aa,n=null;if(null!=this.za){n=[];for(var s=0;s<e;s++)null!=this.za[s]&&(n[s]=this.za[s].GB(this.I()*t.ra.Va(this.description.Ed(s))))}null!=this.$?(i.$=this.$.Ia(),this.$.copyTo(i.$)):i.$=null,i.wa=this.wa,i.Hm=this.Hm,i.za=n;try{this.op(i)}catch(e){throw i.Oa(),t.i.fu()}},e.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},e.prototype.Pc=function(t){16777215==t&&(this.Pg=-1,this.$x()),this.Hm|=t,this.lM(),this.vc()},e.prototype.wu=function(i){if(this.mc(),this.ak(192))if(null==this.$?this.$=new t.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(i);for(var e=1;e<this.description.Aa;e++)for(var n=this.description.Ed(e),s=t.ra.Va(n),r=this.za[e],o=0;o<s;o++){var h=new t.Nc;h.Oa();for(var a=0;a<this.wa;a++){var u=r.eg(a*s+o);h.Zb(u)}this.$.setInterval(n,o,h)}i&&this.Lf(192,!1)}},e.prototype.hy=function(){this.$.Oa();for(var i=this.za[0],e=new t.h,n=0;n<this.wa;n++)i.tc(2*n,e),this.$.Zb(e)},e.prototype.yp=function(i){i.Oa();for(var e=this.za[0],n=new t.h,s=0;s<this.wa;s++)e.tc(2*s,n),i.Zb(n)},e.prototype.bN=function(){if(this.Pg<this.wa){null==this.za&&(this.za=t.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var i=0;i<this.description.Aa;i++){var e=this.description.Ed(i);if(null!=this.za[i]){var n=t.ra.Va(e),s=t.O.truncate(this.za[i].size/n);s<this.wa&&(s=t.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[i].resize(s*n,t.ra.se(e))),s<this.Pg&&(this.Pg=s)}else this.za[i]=t.Yc.YE(e,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},e.prototype.dm=function(i){if(0>i)throw t.i.N();i!=this.wa&&(this.wa=i,this.Pc(65535))},e.prototype.om=function(t){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=t)return this.ak(8)?1:2}return-1},e.prototype.Ch=function(i,e){if(this.QT=e,-1==i)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),0==i)this.Lf(2,!1),this.Lf(4,!1);else if(1==i)this.Lf(2,!0),this.Lf(4,!1);else{if(2!=i)throw t.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},e.prototype.lM=function(){null!=this.Bb&&(this.Bb=null)},e.prototype.kD=function(i,e,n,s){if(0>i||i>=this.wa)throw t.i.fa("index out of bounds");if(0>e||e>=this.wa)throw t.i.fa("index out of bounds");this.mc(),s.Nf(this.description),s.B()&&s.un();for(var r=0;r<this.description.Aa;r++)for(var o=this.description.Ed(r),h=0,a=t.ra.Va(o);h<a;h++){var u=this.za[r].eg(a*i+h),c=this.za[r].eg(a*e+h);s.setAttribute(o,h,t.lc.hq(u,c,n))}},e.prototype.yr=function(t,i){var e=this.za[0].o,n=e[2*t]-e[2*i];return t=e[2*t+1]-e[2*i+1],Math.sqrt(n*n+t*t)},e.prototype.KR=function(i){if(0>i||i>=this.wa)throw t.i.ce();this.mc();var e=new t.Sa;e.Nf(this.description),e.B()&&e.un();for(var n=0;n<this.description.Aa;n++)for(var s=this.description.kd(n),r=0,o=t.ra.Va(s);r<o;r++){var h=this.za[n].eg(o*i+r);e.setAttribute(s,r,h)}return e},e.prototype.Dh=function(i,e){if(0>i||i>=this.wa)throw t.i.ce();if(e.B())throw t.i.N();this.mc();for(var n=e.description,s=0;s<n.Aa;s++)for(var r=n.kd(s),o=t.ra.Va(r),h=0;h<o;h++){var a=e.Uc(r,h);this.setAttribute(r,i,h,a)}},e.prototype.lu=function(){return null},e.prototype.fj=function(){return null},e}(t.aa);t.Gx=e}(W||(W={})),function(t){var i=function(){function i(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new t.$c(7),this.Zn=null}return i.prototype.Vo=function(t){this.Zn=t},i.prototype.RP=function(){this.Rv=!1},i.prototype.De=function(t){this.ob.De(t)},i.prototype.Pr=function(t){var i=this.ob.Ce();return this.rX(i),this.uX(t,i),i},i.prototype.MP=function(t){this.ob.jd(t)},i.prototype.addElement=function(t,i){return-1==i&&(-1==this.Qe&&(this.Qe=this.Pr(-1)),i=this.Qe),this.FD(t,0,i)},i.prototype.KD=function(t){return-1==this.Qe&&(this.Qe=this.Pr(-1)),this.FD(t,1,this.Qe)},i.prototype.xn=function(t){-1==this.Qe&&(this.Qe=this.Pr(-1));var i=this.Qe,e=this.ob.o;if(-1==i||-1==e[7*i])return t=this.ob.Ll([-1,-1,-1,t,this.gl(),-1,-1]),(e=this.ob.o)[7*i]=t,this.vp(-1,t,i,e),t;var n=-1==i?-1:e[7*i+2];return t=this.ob.Ll([-1,-1,n,t,this.gl(),-1,-1]),(e=this.ob.o)[7*n+1]=t,this.oy(t,e),-1===e[7*t+2]&&(e[7*i]=t),this.vp(-1,t,i,e),t},i.prototype.zu=function(i,e,n,s){var r=-1;-1==r&&(-1==this.Qe&&(this.Qe=this.Pr(-1)),r=this.Qe);var o=this.ob.o;if(-1==r||-1==o[7*r])return n=this.ob.Ll([-1,-1,-1,n,this.gl(),-1,-1]),(o=this.ob.o)[7*r]=n,this.vp(-1,n,r,o),n;if(s){s=-1!=e?this.Zn.compare(this,n,e):-1;var h=-1!=i?this.Zn.compare(this,n,i):1}else s=-1,h=1;if(0==s||0==h)return o[7*r+3]=0==s?e:i,-1;for((-1!=e&&-1!=i?this.Tm>t.O.bB(this.Tm)>>1:-1!=e)?i=e:s=h,e=!0;;){if(0>s){if(-1==(h=o[7*i])){s=i,n=this.ob.Ll([-1,-1,i,n,this.gl(),-1,-1]),(o=this.ob.o)[7*i]=n;break}i=h}else{if(-1==(h=o[7*i+1])){s=o[7*i+6],n=this.ob.Ll([-1,-1,i,n,this.gl(),-1,-1]),(o=this.ob.o)[7*i+1]=n;break}i=h}e&&(s*=-1,e=!1)}return this.oy(n,o),-1===o[7*n+2]&&(o[7*r]=n),this.vp(s,n,r,o),n},i.prototype.FF=function(){return this.iR(this.Qe)},i.prototype.vd=function(t,i){i=-1==i?this.Qe:i,this.Rv?this.LP(t,i):this.iY(t,i)},i.prototype.search=function(t,i){for(i=this.sv(i);-1!=i;){var e=this.Zn.compare(this,t,i);if(0==e)return i;i=0>e?this.ll(i):this.Xp(i)}return-1},i.prototype.IW=function(t){for(var i=this.sv(-1),e=-1;-1!=i;){var n=t.compare(this,i);if(0==n)return i;0>n?i=this.ll(i):(e=i,i=this.Xp(i))}return e},i.prototype.uJ=function(t){for(var i=this.sv(-1),e=-1;-1!=i;){var n=t.compare(this,i);if(0==n)return i;0>n?(e=i,i=this.ll(i)):i=this.Xp(i)}return e},i.prototype.ja=function(t){return this.ob.T(t,3)},i.prototype.ll=function(t){return this.ob.T(t,0)},i.prototype.Xp=function(t){return this.ob.T(t,1)},i.prototype.getParent=function(t){return this.ob.T(t,2)},i.prototype.lb=function(t){return this.ob.T(t,6)},i.prototype.we=function(t){return this.ob.T(t,5)},i.prototype.rc=function(t){return-1==t?this.kl(this.Qe):this.kl(t)},i.prototype.Fc=function(t){return-1==t?this.Zr(this.Qe):this.Zr(t)},i.prototype.ZR=function(t){return-1==t?this.bG(this.Qe):this.bG(t)},i.prototype.Sj=function(t,i){this.NB(t,i)},i.prototype.sv=function(t){return-1==t?this.YF(this.Qe):this.YF(t)},i.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},i.prototype.size=function(t){return-1==t?this.$F(this.Qe):this.$F(t)},i.prototype.KN=function(t,i){for(var e=i[7*t],n=i[7*t+1],s=i[7*t+4];-1!=e||-1!=n;){var r=-1!=e?i[7*e+4]:2147483647;if(n=-1!=n?i[7*n+4]:2147483647,s<=Math.min(r,n))break;r<=n?this.sJ(e,i):this.rJ(t,i),e=i[7*t],n=i[7*t+1]}},i.prototype.oy=function(t,i){if(this.Rv)for(var e=i[7*t+4],n=i[7*t+2];-1!=n&&i[7*n+4]>e;)i[7*n]==t?this.sJ(t,i):this.rJ(n,i),n=i[7*t+2]},i.prototype.rJ=function(t,i){var e=i[7*t+1];i[7*e+2]=i[7*t+2],i[7*t+2]=e;var n=i[7*e];i[7*t+1]=n,-1!=n&&(i[7*n+2]=t),i[7*e]=t,-1!=(n=i[7*e+2])&&(i[7*n]==t?i[7*n]=e:i[7*n+1]=e)},i.prototype.sJ=function(t,i){var e=i[7*t+2];i[7*t+2]=i[7*e+2],i[7*e+2]=t;var n=i[7*t+1];i[7*e]=n,-1!=n&&(i[7*n+2]=e),i[7*t+1]=e,-1!=(n=i[7*t+2])&&(i[7*n]===e?i[7*n]=t:i[7*n+1]=t)},i.prototype.Pk=function(t,i){this.ob.S(t,2,i)},i.prototype.TB=function(t,i){this.ob.S(t,0,i)},i.prototype.XB=function(t,i){this.ob.S(t,1,i)},i.prototype.WB=function(t,i){this.ob.S(t,5,i)},i.prototype.ex=function(t,i){this.ob.S(t,6,i)},i.prototype.XJ=function(t,i){this.ob.S(i,0,t)},i.prototype.rX=function(t){this.ob.S(t,4,0)},i.prototype.uX=function(t,i){this.ob.S(i,5,t)},i.prototype.YF=function(t){return-1==t?-1:this.ob.T(t,0)},i.prototype.kl=function(t){return-1==t?-1:this.ob.T(t,1)},i.prototype.Zr=function(t){return-1==t?-1:this.ob.T(t,2)},i.prototype.iR=function(t){return-1==t?-1:this.ob.T(t,3)},i.prototype.$F=function(t){return-1==t?0:this.ob.T(t,4)},i.prototype.bG=function(t){return this.ob.T(t,5)},i.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},i.prototype.fl=function(t){-1!=t&&this.ob.jd(t)},i.prototype.gl=function(){return this.Tm=t.O.bB(this.Tm),1073741823&this.Tm},i.prototype.FD=function(t,i,e){var n=this.ob.o;if(-1==e||-1==n[7*e])return t=this.ob.Ll([-1,-1,-1,t,this.gl(),-1,-1]),(n=this.ob.o)[7*e]=t,this.vp(-1,t,e,n),t;for(var s=-1==e?-1:n[7*e];;){var r=-1==i?1:this.Zn.compare(this,t,s);if(0>r){if(-1==(r=this.ll(s))){i=s,t=this.ob.Ll([-1,-1,s,t,this.gl(),-1,-1]),(n=this.ob.o)[7*s]=t;break}s=r}else{if(1==i&&0==r)return n[7*e+3]=s,-1;if(-1==(r=n[7*s+1])){i=n[7*s+6],t=this.ob.Ll([-1,-1,s,t,this.gl(),-1,-1]),(n=this.ob.o)[7*s+1]=t;break}s=r}}return this.oy(t,n),-1===n[7*t+2]&&(n[7*e]=t),this.vp(i,t,e,n),t},i.prototype.vp=function(t,i,e,n){if(-1!=t){var s=n[7*t+5];n[7*t+5]=i}else s=-1==e?-1:n[7*e+2];n[7*i+5]=s,-1!=s&&(n[7*s+6]=i),n[7*i+6]=t,t==(-1==e?-1:n[7*e+1])&&(n[7*e+1]=i),-1==t&&(n[7*e+2]=i),n[7*e+4]=(-1==e?0:n[7*e+4])+1},i.prototype.AB=function(t,i){var e=this.ob.o,n=e[7*t+5];t=e[7*t+6],-1!=n?e[7*n+6]=t:e[7*i+1]=t,-1!=t?e[7*t+5]=n:e[7*i+2]=n,e[7*i+4]=-1===i?-1:e[7*i+4]-1},i.prototype.iY=function(i,e){this.AB(i,e);var n=this.ll(i),s=this.Xp(i),r=this.getParent(i),o=i;if(-1!=n&&-1!=s){this.Tm=t.O.bB(this.Tm);var h=1073741823<this.Tm?this.lb(i):this.we(i),a=this.getParent(h)==i;this.ob.gC(i,h,0),this.ob.gC(i,h,1),this.ob.gC(i,h,2),-1!=r?this.ll(r)==i?this.TB(r,h):this.XB(r,h):this.XJ(h,e),a?(n==h?(this.TB(h,i),this.Pk(s,h)):s==h&&(this.XB(h,i),this.Pk(n,h)),this.Pk(i,h),r=h):(this.Pk(n,h),this.Pk(s,h),r=this.getParent(i),o=h),n=this.ll(i),s=this.Xp(i),-1!=n&&this.Pk(n,i),-1!=s&&this.Pk(s,i)}n=-1!=n?n:s,-1==r?this.XJ(n,e):this.ll(r)==o?this.TB(r,n):this.XB(r,n),-1!=n&&this.Pk(n,r),this.fl(i)},i.prototype.LP=function(t,i){var e=this.ob.o;e[7*t+4]=2147483647;var n=-1,s=-1,r=-1===i?-1:e[7*i],o=r==t;if(o&&(n=e[7*r],s=e[7*r+1],-1==n&&-1==s))return this.AB(r,i),this.fl(r),void(e[7*i]=-1);this.KN(t,e),-1!=(r=e[7*t+2])&&(e[7*r]==t?e[7*r]=-1:e[7*r+1]=-1),this.AB(t,i),this.fl(t),o&&(e[7*i]=-1==n||-1!=e[7*n+2]?s:n)},i.prototype.NB=function(t,i){this.ob.S(t,3,i)},i}();t.Yj=i}(W||(W={})),function(t){var i=function(){function i(t,i){void 0!==t&&this.K(t,i)}return i.prototype.K=function(t,i){this.oa=t,this.va=i,this.normalize()},i.prototype.isIntersecting=function(t){return this.oa<=t.oa?this.va>=t.oa:t.va>=this.oa},i.prototype.move=function(t){this.B()||(this.oa+=t,this.va+=t)},i.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var t=this.oa;this.oa=this.va,this.va=t}isNaN(this.va)&&this.Oa()}},i.prototype.Oa=function(){this.va=this.oa=NaN},i.prototype.B=function(){return isNaN(this.oa)},i.prototype.Zb=function(t){"number"==typeof t?this.B()?this.va=this.oa=t:this.Lk(t):t.B()||(this.B()?(this.oa=t.oa,this.va=t.va):(this.oa>t.oa&&(this.oa=t.oa),this.va<t.va&&(this.va=t.va),this.oa>this.va&&this.Oa()))},i.prototype.Lk=function(t){t<this.oa?this.oa=t:t>this.va&&(this.va=t)},i.prototype.contains=function(t){return"number"==typeof t?t>=this.oa&&t<=this.va:t.oa>=this.oa&&t.va<=this.va},i.prototype.Ea=function(t){this.B()||t.B()?this.Oa():(this.oa<t.oa&&(this.oa=t.oa),this.va>t.va&&(this.va=t.va),this.oa>this.va&&this.Oa())},i.prototype.W=function(t){this.B()||(this.oa-=t,this.va+=t,this.va<this.oa&&this.Oa())},i.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},i.prototype.KB=function(t,i){t>i?(this.oa=i,this.va=t):(this.oa=t,this.va=i)},i.prototype.It=function(i){return t.O.Rk(i,this.oa,this.va)},i.prototype.R=function(){return this.va-this.oa},i.prototype.sf=function(){return.5*(this.oa+this.va)},i.prototype.Nb=function(t){return t==this||t instanceof i&&(!(!this.B()||!t.B())||this.oa==t.oa&&this.va==t.va)},i.prototype.cc=function(){return t.O.uj(t.O.uj())},i}();t.Nc=i}(W||(W={})),function(t){var i=new t.Nc,e=new t.Nc,n=function(){this.ne=null,this.pb=-1,this.sb=new t.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new t.Nc,this.Uf.KB(0,0)};t.IY=n;var s=function(){function s(i,e,s){this.g=i,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=e,this.Nq=10*e,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=s,this.TA=new n,this.YH=new n,t.O.truncate(3*i.fd/2)}return s.prototype.mG=function(t,i,e,n){t.ne=null===n?null:n[e[5*i]],t.Tv=null!=t.ne,t.Tv||(-1!==(n=e[5*i+2])&&this.g.mW(e[5*i],e[5*n],t.sb),t.ne=t.sb,t.Uf.KB(t.sb.sa,t.sb.pa),t.Uf.va+=this.qa,t.sb.rI(),t.Vv=t.sb.la==t.sb.na,t.Vv||(t.qA=(t.sb.pa-t.sb.sa)/(t.sb.la-t.sb.na)))},s.prototype.OO=function(t,i){var e=t.zr(i,this.qa,!0);return 0!=e?2==e?this.Qy():this.xi():(t.Yp(it),t.Tr(et),i.Yp(nt),i.Tr(st),tt.ma(this.Kq,this.Hk),it.qb(nt)&&this.Hk==it.y?0>et.compare(st)?tt.L(et):tt.L(st):it.qb(st)&&this.Hk==it.y?0>et.compare(nt)?tt.L(et):tt.L(nt):nt.qb(et)&&this.Hk==nt.y?0>it.compare(st)?tt.L(it):tt.L(st):et.qb(st)&&this.Hk==et.y&&(0>it.compare(nt)?tt.L(it):tt.L(nt)),t.Pe(tt.y,tt.x)<i.Pe(tt.y,tt.x)?-1:1)},s.prototype.MO=function(t,i){if(t.sb.na==i.sb.na&&t.sb.sa==i.sb.sa)return t.sb.la==i.sb.la&&t.sb.pa==i.sb.pa?this.gA?this.Qy():0:this.PE(t,i);if(t.sb.la==i.sb.la&&t.sb.pa==i.sb.pa)return this.OE(t,i);var e=this.OE(t,i);return t=this.PE(t,i),0>e&&0>t?-1:0<e&&0<t?1:this.xi()},s.prototype.IO=function(t,i){if(t.pa>i.pa){if(i.pa>i.sa&&i.la-i.na<2*this.qa&&t.vi(i.pa,i.la,this.qa))return this.xi()}else if((i.la-i.na)/(i.pa-i.sa)*(t.pa-t.sa)<this.Nq&&i.vi(t.pa,t.la,this.qa))return this.xi();return 1},s.prototype.JO=function(t,i){if(t.sa<i.sa){if(i.pa>i.sa&&i.la-i.na<2*this.qa&&t.vi(i.pa,i.la,this.qa))return this.xi()}else if((i.la-i.na)/(i.pa-i.sa)*(t.sa-t.pa)<this.Nq&&i.vi(t.sa,t.na,this.qa))return this.xi();return-1},s.prototype.KO=function(i,e){var n=new t.h;n.uc(e.wc(),e.ac()),n.ar(),n.normalize();var s=new t.h;s.uc(i.ac(),e.ac());var r=new t.h;r.uc(i.wc(),e.ac()),s=s.Qh(n),n=r.Qh(n),r=Math.abs(s);var o=Math.abs(n);if(r<o){if(r<this.Nq&&e.vi(i.sa,i.na,this.qa))return this.xi()}else if(o<this.Nq&&e.vi(i.pa,i.la,this.qa))return this.xi();return 0>s&&0>n?-1:0<s&&0<n?1:this.xi()},s.prototype.NE=function(t,i){return t.na==i.na&&t.sa==i.sa?this.IO(t,i):t.la==i.la&&t.pa==i.pa?this.JO(t,i):this.KO(t,i)},s.prototype.LO=function(t,i){return t.la==i.la&&t.pa==i.pa&&t.na==i.na&&t.sa==i.sa?this.gA?this.Qy():0:this.xi()},s.prototype.OE=function(t,i){var e=1;if(t.sb.na<i.sb.na){e=-1;var n=t;t=i,i=n}t=t.sb,n=i.sb;var s=t.sa-n.sa;i=i.qA*(t.na-n.na);var r=this.Nq;return s<i-r?-e:s>i+r?e:n.vi(t.sa,t.na,this.qa)?this.xi():s<i?-e:e},s.prototype.PE=function(t,i){var e=1;if(i.sb.la<t.sb.la){e=-1;var n=t;t=i,i=n}t=t.sb,n=i.sb;var s=t.pa-n.sa;i=i.qA*(t.la-n.na);var r=this.Nq;return s<i-r?-e:s>i+r?e:n.vi(t.pa,t.la,this.qa)?this.xi():s<i?-e:e},s.prototype.Qy=function(){return this.rg=!0,this.Ni=new t.Md(5,this.Lo,this.gt),-1},s.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new t.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},s.prototype.NO=function(t,n,s,r){if(this.rg)return-1;var o=this.OH==this.Hk&&this.NH==this.Kq;if(o&&t==this.Ws)var h=this.PH;else h=NaN,this.Ws=-1;return o&&n==this.Xs?o=this.QH:(o=NaN,this.Xs=-1),s.ne.ZI(i),r.ne.ZI(e),i.va<e.oa?-1:e.va<i.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(h)&&(this.Ws=t,this.PH=h=t=s.ne.Pe(this.Hk,this.Kq)),isNaN(o)&&(this.Xs=n,this.QH=o=t=r.ne.Pe(this.Hk,this.Kq)),Math.abs(h-o)<=this.qa?this.OO(s.ne,r.ne):h<o?-1:h>o?1:0)},s.prototype.Kr=function(){this.rg=!1},s.prototype.rm=function(){return this.Ni},s.prototype.$J=function(t,i){this.Hk=t,this.Kq=i,this.gt=this.Lo=this.Xs=this.Ws=-1},s.prototype.compare=function(t,i,e){return this.rg?-1:(t=t.ja(e),this.Dm=e,this.RE(i,i,t,t))},s.prototype.RE=function(t,i,e,n){if(this.Lo==i)var s=this.TA;else this.Lo=i,s=this.TA,this.TA.pb=t,this.mG(s,i,this.g.td.o,this.g.We);if(null==r){this.gt=n;var r=this.YH;this.YH.pb=e,this.mG(r,n,this.g.td.o,this.g.We)}return s.Tv||r.Tv?this.NO(i,n,s,r):s.Uf.va<r.Uf.oa?-1:r.Uf.va<s.Uf.oa?1:(t=s.Vv?1:0,0==(t|=r.Vv?2:0)?this.MO(s,r):1==t?this.NE(s.sb,r.sb):2==t?-1*this.NE(r.sb,s.sb):this.LO(s.sb,r.sb))},s}();t.UC=s}(W||(W={})),function(t){var i=function(){function i(i,e){this.g=i,this.qa=e,this.rg=!1,this.Lo=-1,this.Uf=new t.Nc,this.Gq=new t.h,this.Gq.Rc(),this.ie=new t.yb,this.Dm=-1,this.BA=17976931348623157e292}return i.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},i.prototype.Dh=function(t){this.Gq.L(t)},i.prototype.compare=function(t,i){return this.SE(i,t.ja(i))},i.prototype.SE=function(i,e){var n=null!=this.g.bc(e);if(n||(this.g.ed(e,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),n)throw t.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=i,this.rg=!0,0;this.ie.rI(),n=this.ie.ac(),(e=new t.h).uc(this.ie.wc(),n),e.ar();var s=new t.h;return s.uc(this.Gq,n),n=e.Qh(s),(n/=e.length())<10*-this.qa?-1:n>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((e=Math.abs(n))<this.BA&&(this.Dm=i,this.BA=e),this.rg=!0,e<.25*this.qa)?0:0>n?-1:1},i}();t.aM=i}(W||(W={})),function(t){function i(t,i,e,n){e=new Float64Array(t.subarray(e,n)),t.set(e,i)}var e=function(){function e(t){this.Pb=this.pk=!1,this.o=null;var i=t;2>i&&(i=2),this.o=new Float64Array(i),this.size=t}return e.prototype.rotate=function(i,e,n){if(this.Pb)throw t.i.fa("invalid_call");if(e<i||e>n||i>n)throw t.i.N();i!=e&&n!=e&&(this.ni(i,e-i,1),this.ni(e,n-e,1),this.ni(i,n-i,1))},e.qf=function(t,i){var n=new e(t),s=n.o;if(2>t&&(t=2),0!==i)for(var r=0;r<t;r++)s[r]=i;return n},e.Bn=function(t){var i=new e(0);return i.o=new Float64Array(t.o),i.size=t.size,i},e.Lr=function(t,i){var n=new e(0);return n.size=t.size,n.size>i&&(n.size=i),2>(i=n.size)&&(i=2),n.o=new Float64Array(i),n.o.set(t.o.length<=i?t.o:t.o.subarray(0,i),0),n},e.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Float64Array(t):t<=this.o.length||(0<this.o.length?((t=new Float64Array(t)).set(this.o),this.o=t):this.o=new Float64Array(t)))},e.prototype.read=function(t){return this.o[t]},e.prototype.tc=function(t,i){i.x=this.o[t],i.y=this.o[t+1]},e.prototype.get=function(t){return this.o[t]},e.prototype.write=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e},e.prototype.set=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e},e.prototype.Tt=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e.x,this.o[i+1]=e.y},e.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},e.prototype.GB=function(t){return e.Lr(this,t)},e.prototype.eg=function(t){return this.read(t)},e.prototype.resize=function(i,e){if(void 0===e&&(e=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(i<=this.size){if(30<this.o.length&&5*i/4<this.o.length){var n=new Float64Array(this.o,0,i);this.o=n}}else{i>this.o.length&&(n=t.O.truncate(64>i?Math.max(2*i,4):5*i/4),(n=new Float64Array(n)).set(this.o),this.o=n),n=this.o;for(var s=this.size;s<i;s++)n[s]=e}this.size=i},e.prototype.Bh=function(i){if((null==this.o||i>this.o.length)&&this.resize(i),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=i},e.prototype.pr=function(t,i){this.write(t,i)},e.prototype.An=function(i,e,n){for(var s=this.size;e<s&&e<n;e++)i=t.O.uj(this.read(e));return i},e.prototype.Nb=function(t,i,n){if(null==t||!(t instanceof e))return!1;var s=this.size,r=t.size;if(n>s||n>r&&s!=r)return!1;for(n>s&&(n=s);i<n;i++)if(this.read(i)!=t.read(i))return!1;return!0},e.prototype.addRange=function(i,e,n,s,r){if(this.Pb)throw t.i.Hb();if(!s&&(1>r||0!=n%r))throw t.i.N();var o=this.size;if(this.resize(o+n),s)this.o.set(i.o.subarray(e,e+n),o);else{s=n;for(var h=0;h<n;h+=r){s-=r;for(var a=0;a<r;a++)this.o[o+h+a]=i.o[e+s+a]}}},e.prototype.Mn=function(e,n,s,r,o,h,a){if(this.Pb)throw t.i.Hb();if(!o&&(1>h||0!=r%h))throw t.i.N();var u=this.size-a;if(u<r&&this.resize(this.size+r-u),i(this.o,e+r,e,e+(a-e)),this.o==n.o&&e<s&&(s+=r),o)this.o.set(n.o.subarray(s,s+r),e);else for(o=r,a=0;a<r;a+=h)for(o-=h,u=0;u<h;u++)this.o[e+a+u]=n.o[s+o+u]},e.prototype.Iz=function(e,n,s,r,o,h){if(this.Pb)throw t.i.Hb();if(0>h&&(h=this.size),this.size+2*r>this.o.length?this.resize(this.size+2*r):this.size+=2*r,i(this.o,e+2*r,e,e+(h-e)),o)for(o=0;o<r;o++)h=n[s++],this.o[e++]=h.x,this.o[e++]=h.y;else{o=0;for(var a=r-1;o<r;++o)h=n[s+a],this.o[e++]=h.x,this.o[e++]=h.y,a--}},e.prototype.Ln=function(e,n,s,r){if(this.Pb)throw t.i.Hb();for(r-=e,i(this.o,e+r,e,e+r),r=0;r<s;r++)this.o[e+r]=n},e.prototype.vj=function(e,n,s){if(this.Pb)throw t.i.Hb();i(this.o,e+2,e,e+(s-e)),this.o[e]=n.x,this.o[e+1]=n.y},e.prototype.Ut=function(i,e,n,s,r,o){if(0>i||0>e||0>s)throw t.i.N();if(!r&&(0>=o||0!=e%o))throw t.i.N();if(n.size<s+e)throw t.i.N();if(0!=e)if(this.size<e+i&&this.resize(e+i),n==this)this.Ar(i,e,s,r,o);else if(r)for(r=0;r<e;r++)this.o[i]=n.o[s],i++,s++;else if(s=s+e-o,1==o)for(r=0;r<e;r++)this.o[i]=n.o[s],i++,s--;else for(r=0,e=t.O.truncate(e/o);r<e;r++){for(var h=0;h<o;h++)this.o[i+h]=n.o[s+h];i+=o,s-=o}},e.prototype.En=function(e,n,s){if(this.Pb)throw t.i.Hb();if(e+n>this.size)throw t.i.Hb();0<s-(e+n)&&i(this.o,e,e+n,e+(s-(e+n))+n),this.size-=n},e.prototype.ni=function(i,e,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=e%n)throw t.i.Hb();for(var s=e>>1,r=0;r<s;r+=n){e-=n;for(var o=0;o<n;o++){var h=this.o[i+r+o];this.o[i+r+o]=this.o[i+e+o],this.o[i+e+o]=h}}},e.prototype.Wj=function(i,e,n){if(0>e||0>n||0>e||n+e>this.size)throw t.i.N();for(var s=e;s<e+n;s++)this.o[s]=i},e.prototype.Ar=function(i,e,n,s,r){if(!(s&&i==n||(this.o.set(this.o.subarray(n,n+e),i),s)))for(n=i,i=i+e-r,s=0,e=t.O.truncate(e/2);s<e;s++){for(var o=0;o<r;o++){var h=this.o[n+o];this.o[n+o]=this.o[i+o],this.o[i+o]=h}n+=r,i-=r}},e.prototype.vC=function(i,e,n,s,r){if(0>i||0>e||0>s)throw t.i.N();if(0!=e)for(this.size<(e<<1)+i&&this.resize((e<<1)+i),r||(i+=e-1<<1),r=r?2:-2,e+=s;s<e;s++)this.o[i]=n[s].x,this.o[i+1]=n[s].y,i+=r},e.prototype.uC=function(i,e,n){if(0>i||0>e)throw t.i.N();if(0!=e){this.size<(e<<1)+i&&this.resize((e<<1)+i),e+=0;for(var s=0;s<e;s++)this.o[i]=n[s][0],this.o[i+1]=n[s][1],i+=2}},e.prototype.Vw=function(i,e,n,s,r){if(0>i||0>e||0>s||this.size<e+i)throw t.i.N();if(r)for(r=0;r<e;r++)n[s+r]=this.o[i+r];else for(s=s+e-1;i<e;i++)n[s]=this.o[i],s--},e.prototype.uB=function(i,e,n){if(0>i||0>e||this.size<(e>>1)+i)throw t.i.N();if(0!=e){e=0+e;for(var s=0;s<e;s++)n[s][0]=this.o[i],n[s][1]=this.o[i+1],i+=2}},e.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},e.prototype.ix=function(){this.pk=this.Pb=!0},e.prototype.Vd=function(t,i,e){Array.prototype.sort.call(this.o.subarray(t,i),e)},e.prototype.Tp=function(){return 1},e}();t.be=e}(W||(W={})),function(t){function i(t,i,e,n){e=new Int32Array(t.subarray(e,n)),t.set(e,i)}t.rY=function(){this.random=1973};var e=function(){function e(t){this.Pb=this.pk=!1,this.o=null;var i=t;2>i&&(i=2),this.o=new Int32Array(i),this.size=t}return e.prototype.rotate=function(i,e,n){if(this.Pb)throw t.i.fa("invalid_call");if(e<i||e>n||i>n)throw t.i.N();i!=e&&n!=e&&(this.ni(i,e-i,1),this.ni(e,n-e,1),this.ni(i,n-i,1))},e.qf=function(t,i){var n=new e(t),s=n.o;if(2>t&&(t=2),0!==i)for(var r=0;r<t;r++)s[r]=i;return n},e.Bn=function(t){var i=new e(0);return i.o=new Int32Array(t.o),i.size=t.size,i},e.Lr=function(t,i){var n=new e(0);return n.size=t.size,n.size>i&&(n.size=i),2>(i=n.size)&&(i=2),n.o=new Int32Array(i),n.o.set(t.o.length<=i?t.o:t.o.subarray(0,i),0),n},e.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int32Array(t):t<=this.o.length||(0<this.o.length?((t=new Int32Array(t)).set(this.o),this.o=t):this.o=new Int32Array(t)))},e.prototype.read=function(t){return this.o[t]},e.prototype.tc=function(t,i){i.x=this.o[t],i.y=this.o[t+1]},e.prototype.get=function(t){return this.o[t]},e.prototype.write=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e},e.prototype.set=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e},e.prototype.Tt=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e.x,this.o[i+1]=e.y},e.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},e.prototype.GB=function(t){return e.Lr(this,t)},e.prototype.eg=function(t){return this.read(t)},e.prototype.resize=function(i,e){if(void 0===e&&(e=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(i<=this.size){if(30<this.o.length&&5*i/4<this.o.length){var n=new Int32Array(this.o,0,i);this.o=n}}else{i>this.o.length&&(n=t.O.truncate(64>i?Math.max(2*i,4):5*i/4),(n=new Int32Array(n)).set(this.o),this.o=n),n=this.o;for(var s=this.size;s<i;s++)n[s]=e}this.size=i},e.prototype.Bh=function(i){if((null==this.o||i>this.o.length)&&this.resize(i),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=i},e.prototype.pr=function(t,i){this.write(t,i)},e.prototype.An=function(i,e,n){for(var s=this.size;e<s&&e<n;e++)i=t.O.Th(this.read(e),i);return i},e.prototype.Nb=function(t,i,n){if(null==t||!(t instanceof e))return!1;var s=this.size,r=t.size;if(n>s||n>r&&s!=r)return!1;for(n>s&&(n=s);i<n;i++)if(this.read(i)!=t.read(i))return!1;return!0},e.prototype.addRange=function(i,e,n,s,r){if(this.Pb)throw t.i.Hb();if(!s&&(1>r||0!=n%r))throw t.i.N();var o=this.size;if(this.resize(o+n),s)this.o.set(i.o.subarray(e,e+n),o);else{s=n;for(var h=0;h<n;h+=r){s-=r;for(var a=0;a<r;a++)this.o[o+h+a]=i.o[e+s+a]}}},e.prototype.Mn=function(e,n,s,r,o,h,a){if(this.Pb)throw t.i.Hb();if(!o&&(1>h||0!=r%h))throw t.i.N();if(i(this.o,e+r,e,e+(a-e)),this.o==n.o&&e<s&&(s+=r),o)this.o.set(n.o.subarray(s,s+r),e);else for(o=r,a=0;a<r;a+=h){o-=h;for(var u=0;u<h;u++)this.o[e+a+u]=n.o[s+o+u]}},e.prototype.Iz=function(e,n,s,r,o,h){if(this.Pb)throw t.i.Hb();if(0>h&&(h=this.size),this.size+2*r>this.o.length?this.resize(this.size+2*r):this.size+=2*r,i(this.o,e+2*r,e,e+(h-e)),o)for(o=0;o<r;o++)h=n[s++],this.o[e++]=h.x,this.o[e++]=h.y;else{o=0;for(var a=r-1;o<r;++o)h=n[s+a],this.o[e++]=h.x,this.o[e++]=h.y,a--}},e.prototype.Ln=function(e,n,s,r){if(this.Pb)throw t.i.Hb();for(r-=e,i(this.o,e+r,e,e+r),r=0;r<s;r++)this.o[e+r]=n},e.prototype.vj=function(e,n,s){if(this.Pb)throw t.i.Hb();i(this.o,e+2,e,e+(s-e)),this.o[e]=n.x,this.o[e+1]=n.y},e.prototype.Ut=function(i,e,n,s,r,o){if(0>i||0>e||0>s)throw t.i.N();if(!r&&(0>=o||0!=e%o))throw t.i.N();if(n.size<s+e)throw t.i.N();if(0!=e)if(this.size<e+i&&this.resize(e+i),n==this)this.Ar(i,e,s,r,o);else if(r)for(r=0;r<e;r++)this.o[i]=n.o[s],i++,s++;else if(s=s+e-o,1==o)for(r=0;r<e;r++)this.o[i]=n.o[s],i++,s--;else for(r=0,e=t.O.truncate(e/o);r<e;r++){for(var h=0;h<o;h++)this.o[i+h]=n.o[s+h];i+=o,s-=o}},e.prototype.En=function(e,n,s){if(this.Pb)throw t.i.Hb();if(e+n>this.size)throw t.i.Hb();0<s-(e+n)&&i(this.o,e,e+n,e+(s-(e+n))+n),this.size-=n},e.prototype.ni=function(i,e,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=e%n)throw t.i.Hb();for(var s=e>>1,r=0;r<s;r+=n){e-=n;for(var o=0;o<n;o++){var h=this.o[i+r+o];this.o[i+r+o]=this.o[i+e+o],this.o[i+e+o]=h}}},e.prototype.Wj=function(i,e,n){if(0>e||0>n||0>e||n+e>this.size)throw t.i.N();for(var s=e;s<e+n;s++)this.o[s]=i},e.prototype.Ar=function(i,e,n,s,r){if(!(s&&i==n||(this.o.set(this.o.subarray(n,n+e),i),s)))for(n=i,i=i+e-r,s=0,e=t.O.truncate(e/2);s<e;s++){for(var o=0;o<r;o++){var h=this.o[n+o];this.o[n+o]=this.o[i+o],this.o[i+o]=h}n+=r,i-=r}},e.prototype.vC=function(i,e,n,s,r){if(0>i||0>e||0>s)throw t.i.N();if(0!=e)for(this.size<(e<<1)+i&&this.resize((e<<1)+i),r||(i+=e-1<<1),r=r?2:-2,e+=s;s<e;s++)this.o[i]=n[s].x,this.o[i+1]=n[s].y,i+=r},e.prototype.Vw=function(i,e,n,s,r){if(0>i||0>e||0>s||this.size<e+i)throw t.i.N();if(r)for(r=0;r<e;r++)n[s+r]=this.o[i+r];else for(s=s+e-1;i<e;i++)n[s]=this.o[i],s--},e.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},e.prototype.ix=function(){this.pk=this.Pb=!0},e.prototype.Vd=function(t,i,n){10>i-t?e.rG(this.o,t,i,n):e.qB(this.o,t,i-1,n)},e.prototype.Tp=function(){return 2},e.prototype.Fc=function(){return this.o[this.size-1]},e.prototype.If=function(){this.resize(this.size-1)},e.prototype.bX=function(t){this.o[this.size-1]=t},e.prototype.SV=function(t){t<this.size-1&&(this.o[t]=this.o[this.size-1]),this.resize(this.size-1)},e.prototype.lF=function(t){for(var i=0,e=this.size;i<e;i++)if(this.o[i]==t)return i;return-1},e.prototype.hG=function(t){return 0<=this.lF(t)},e.rG=function(t,i,e,n){for(var s=i;s<e;s++){for(var r=t[s],o=s-1;o>=i&&0<n(t[o],r);)t[o+1]=t[o],o--;t[o+1]=r}},e.tx=function(t,i,e){var n=t[e];t[e]=t[i],t[i]=n},e.qB=function(t,i,n,s){if(!(i>=n))for(;;){if(9>n-i){e.rG(t,i,n+1,s);break}var r=t[i];e.tx(t,i,n);for(var o=i,h=i;h<n;h++)0>=s(t[h],r)&&(e.tx(t,o,h),o+=1);e.tx(t,o,n),o-i<n-o?(e.qB(t,i,o-1,s),i=o+1):(e.qB(t,o+1,n,s),n=o-1)}},e}();t.ia=e}(W||(W={})),function(t){function i(t,i,e,n){e=new Int8Array(t.subarray(e,n)),t.set(e,i)}var e=function(){function e(t){this.o=null;var i=t;2>i&&(i=2),this.o=new Int8Array(i),this.size=t}return e.prototype.rotate=function(i,e,n){if(this.Pb)throw t.i.fa("invalid_call");if(e<i||e>n||i>n)throw t.i.N();i!=e&&n!=e&&(this.ni(i,e-i,1),this.ni(e,n-e,1),this.ni(i,n-i,1))},e.qf=function(t,i){var n=new e(t),s=n.o;if(2>t&&(t=2),0!==i)for(var r=0;r<t;r++)s[r]=i;return n},e.Bn=function(t){var i=new e(0);return i.o=new Int8Array(t.o),i.size=t.size,i},e.Lr=function(t,i){var n=new e(0);return n.size=t.size,n.size>i&&(n.size=i),2>(i=n.size)&&(i=2),n.o=new Int8Array(i),n.o.set(t.o.length<=i?t.o:t.o.subarray(0,i),0),n},e.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int8Array(t):t<=this.o.length||(0<this.o.length?((t=new Int8Array(t)).set(this.o),this.o=t):this.o=new Int8Array(t)))},e.prototype.read=function(t){return this.o[t]},e.prototype.tc=function(t,i){i.x=this.o[t],i.y=this.o[t+1]},e.prototype.get=function(t){return this.o[t]},e.prototype.write=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e},e.prototype.set=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e},e.prototype.Tt=function(i,e){if(this.Pb)throw t.i.Hb();this.o[i]=e.x,this.o[i+1]=e.y},e.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},e.prototype.GB=function(t){return e.Lr(this,t)},e.prototype.eg=function(t){return this.read(t)},e.prototype.resize=function(i,e){if(void 0===e&&(e=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(i<=this.size){if(30<this.o.length&&5*i/4<this.o.length){var n=new Int8Array(this.o,0,i);this.o=n}}else{i>this.o.length&&(n=t.O.truncate(64>i?Math.max(2*i,4):5*i/4),(n=new Int8Array(n)).set(this.o),this.o=n),n=this.o;for(var s=this.size;s<i;s++)n[s]=e}this.size=i},e.prototype.Bh=function(i){if((null==this.o||i>this.o.length)&&this.resize(i),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=i},e.prototype.pr=function(t,i){this.write(t,i)},e.prototype.An=function(i,e,n){for(var s=this.size;e<s&&e<n;e++)i=t.O.Th(this.read(e),i);return i},e.prototype.Nb=function(t,i,n){if(null==t||!(t instanceof e))return!1;var s=this.size,r=t.size;if(n>s||n>r&&s!=r)return!1;for(n>s&&(n=s);i<n;i++)if(this.read(i)!=t.read(i))return!1;return!0},e.prototype.addRange=function(i,e,n,s,r){if(this.Pb)throw t.i.Hb();if(!s&&(1>r||0!=n%r))throw t.i.N();var o=this.size;if(this.resize(o+n),s)this.o.set(i.o.subarray(e,e+n),o);else{s=n;for(var h=0;h<n;h+=r){s-=r;for(var a=0;a<r;a++)this.o[o+h+a]=i.o[e+s+a]}}},e.prototype.Mn=function(e,n,s,r,o,h,a){if(this.Pb)throw t.i.Hb();if(!o&&(1>h||0!=r%h))throw t.i.N();if(i(this.o,e+r,e,e+(a-e)),this.o==n.o&&e<s&&(s+=r),o)this.o.set(n.o.subarray(s,s+r),e);else for(o=r,a=0;a<r;a+=h){o-=h;for(var u=0;u<h;u++)this.o[e+a+u]=n.o[s+o+u]}},e.prototype.Ln=function(e,n,s,r){if(this.Pb)throw t.i.Hb();for(r-=e,i(this.o,e+r,e,e+r),r=0;r<s;r++)this.o[e+r]=n},e.prototype.Iz=function(e,n,s,r,o,h){if(this.Pb)throw t.i.Hb();if(0>h&&(h=this.size),this.size+2*r>this.o.length?this.resize(this.size+2*r):this.size+=2*r,i(this.o,e+2*r,e,e+(h-e)),o)for(o=0;o<r;o++)h=n[s++],this.o[e++]=h.x,this.o[e++]=h.y;else{o=0;for(var a=r-1;o<r;++o)h=n[s+a],this.o[e++]=h.x,this.o[e++]=h.y,a--}},e.prototype.vj=function(e,n,s){if(this.Pb)throw t.i.Hb();i(this.o,e+2,e,e+(s-e)),this.o[e]=n.x,this.o[e+1]=n.y},e.prototype.Ut=function(i,e,n,s,r,o){if(0>i||0>e||0>s)throw t.i.N();if(!r&&(0>=o||0!=e%o))throw t.i.N();if(n.size<s+e)throw t.i.N();if(0!=e)if(this.size<e+i&&this.resize(e+i),n==this)this.Ar(i,e,s,r,o);else if(r)for(r=0;r<e;r++)this.o[i]=n.o[s],i++,s++;else if(s=s+e-o,1==o)for(r=0;r<e;r++)this.o[i]=n.o[s],i++,s--;else for(r=0,e=t.O.truncate(e/o);r<e;r++){for(var h=0;h<o;h++)this.o[i+h]=n.o[s+h];i+=o,s-=o}},e.prototype.En=function(e,n,s){if(this.Pb)throw t.i.Hb();if(e+n>this.size)throw t.i.Hb();0<s-(e+n)&&i(this.o,e,e+n,e+(s-(e+n))+n),this.size-=n},e.prototype.ni=function(i,e,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=e%n)throw t.i.Hb();for(var s=e>>1,r=0;r<s;r+=n){e-=n;for(var o=0;o<n;o++){var h=this.o[i+r+o];this.o[i+r+o]=this.o[i+e+o],this.o[i+e+o]=h}}},e.prototype.Wj=function(i,e,n){if(0>e||0>n||0>e||n+e>this.size)throw t.i.N();for(var s=e;s<e+n;s++)this.o[s]=i},e.prototype.Ar=function(i,e,n,s,r){if(!(s&&i==n||(this.o.set(this.o.subarray(n,n+e),i),s)))for(n=i,i=i+e-r,s=0,e=t.O.truncate(e/2);s<e;s++){for(var o=0;o<r;o++){var h=this.o[n+o];this.o[n+o]=this.o[i+o],this.o[i+o]=h}n+=r,i-=r}},e.prototype.vC=function(i,e,n,s,r){if(0>i||0>e||0>s)throw t.i.N();if(0!=e)for(this.size<(e<<1)+i&&this.resize((e<<1)+i),r||(i+=e-1<<1),r=r?2:-2,e+=s;s<e;s++)this.o[i]=n[s].x,this.o[i+1]=n[s].y,i+=r},e.prototype.Vw=function(i,e,n,s,r){if(0>i||0>e||0>s||this.size<e+i)throw t.i.N();if(r)for(r=0;r<e;r++)n[s+r]=this.o[i+r];else for(s=s+e-1;i<e;i++)n[s]=this.o[i],s--},e.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},e.prototype.ix=function(){this.pk=this.Pb=!0},e.prototype.Vd=function(t,i,e){i=this.o.subarray(t,i),Array.prototype.sort.call(i,e),this.o.set(i,t)},e.prototype.zJ=function(i,e){if(this.Pb)throw t.i.fa("invalid call. Attribute Stream is read only.");this.o[i]|=e},e.prototype.KE=function(i,e){if(this.Pb)throw t.i.fa("invalid call. Attribute Stream is read only.");this.o[i]&=~e},e.prototype.Tp=function(){return 1},e}();t.pn=e}(W||(W={})),function(t){t.Yc=function(){function i(){}return i.Mr=function(i,e){return t.pn.qf(i,e)},i.Dn=function(i,e){return t.be.qf(i,e)},i.pP=function(i,e,n){switch(i){case 1:i=t.be.qf(e,n);break;case 2:i=t.ia.qf(e,n);break;case 4:i=t.pn.qf(e,n);break;default:throw t.i.Qa()}return i},i.YE=function(e,n){return i.pP(t.ra.Tp(e),n*t.ra.Va(e),t.ra.se(e))},i.Oh=function(i,e){return t.ia.qf(i,e)},i.qI=function(t){var i,e=[];for(i=0;i<t;i++)e.push(null);return e},i}()}(W||(W={})),function(t){t.ga=function(t){void 0===t&&(t=0),this.u=t}}(W||(W={})),function(t){t.NL=function(){function i(){}return i.bind=function(i){t.Sc=i.PeDefs,t.pf=i.PeFactory,t.NC=i.PeVertcs,t.ej=i.PeCSTransformations,t.MC=i.PeGTTransformations,t.LL=i.PeGeogtran,t.KL=i.PeFactoryCodechange,t.LC=i.PeGCSExtent,t.Cg=i.PePCSInfo,t.ML=i.PeHorizon,t.JL=i.PeCoordsys,t.lp=i.PeGTlistExtended,t.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,t.pf.initialize(null),t.Mx=i.PeGTlistExtendedEntry,t.pf.fromString(t.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},i}(),t.pf=null,t.NC=null,t.JL=null,t.ML=null,t.Cg=null,t.lp=null,t.Mx=null,t.LC=null,t.KL=null,t.LL=null,t.Sc=null,t.MC=null,t.ej=null}(W||(W={})),function(t){var i=function(){function t(){}return t.Mb=function(i,e){return 0<=e?t.P(i):-t.P(i)},t.P=function(t){return 0>t?-t:t},t.ti=function(t){return 3552713678800501e-30>t},t.KC=function(i,e,n){return t.P(i-e)<=n*(1+(t.P(i)+t.P(e))/2)},t.Y=function(i,e){return t.KC(i,e,3552713678800501e-30)},t.FL=function(i){return 3552713678800501e-30>=t.P(i)},t.Cd=function(i){return t.FL(i)},t}();t.s=i,t.F=function(){function e(){}return e.gp=function(t,e){var n=0;return 0!=(t=i.P(t))+(e=i.P(e))&&(t>e?(n=e/t,n=t*Math.sqrt(1+n*n)):(n=t/e,n=e*Math.sqrt(1+n*n))),n},e.Wq=function(t,n,s,r,o){for(var h=[0,0,0],a=[0,0,0],u=0;2>=u;u++)n[u]-=t[u],s[u]-=n[u];s=h[1]*a[2]-h[2]*a[1],n=h[2]*a[0]-h[0]*a[2],h=h[0]*a[1]-h[1]*a[0],t=-1*(s*t[0]+n*t[1]+h*t[2]),r[0]=s,r[1]=n,r[2]=h,r[3]=t,a=e.on(r),r[0]/=a,r[1]/=a,r[2]/=a,r[3]/=a,0!=o&&(a=i.Cd(h)?i.Cd(t)?i.Mb(1,n):-i.Mb(1,t):i.Mb(1,h),a*=i.Mb(1,o),r[0]*=a,r[1]*=a,r[2]*=a,r[3]*=a)},e.zx=function(t,i,e){e[0]=t[1]*i[2]-i[1]*t[2],e[1]=t[2]*i[0]-i[2]*t[0],e[2]=t[0]*i[1]-i[0]*t[1]},e.St=function(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]},e.on=function(t){return e.gp(e.gp(t[0],t[1]),t[2])},e.cl=function(t,i,n,s,r,o,h,a){t=e.n(t,i,n);var u=Math.cos(n);o.u=(t+r)*u*Math.cos(s),h.u=(t+r)*u*Math.sin(s),a.u=(t*(1-i)+r)*Math.sin(n)},e.jO=function(t,n,s,r,o,h,a){var u=e.gp(n,s),c=1*Math.sqrt(1-t),l=c/1;if(i.Y(u,0))h.u=0,o.u=i.Mb(1.570796326794897,r),a.u=i.P(r)-c;else{h.u=Math.atan2(s,n),s=Math.atan2(1*r,c*u),h=Math.cos(s);var f=Math.sin(s);n=c*t/(1-t),t*=1,s=Math.atan2(r+n*f*f*f,u-t*h*h*h),3.141592653589793<i.P(s)&&(s=i.Mb(3.141592653589793,s)-s),s=Math.atan(l*Math.tan(s)),f=Math.sin(s),h=Math.cos(s),o.u=Math.atan2(r+n*f*f*f,u-t*h*h*h),1.570796326794897<i.P(o.u)&&(o.u=i.Mb(3.141592653589793,o.u)-o.u),s=Math.atan(l*Math.tan(o.u)),f=Math.sin(s),h=Math.cos(s),a.u=(r-c*f)*Math.sin(o.u)+(u-1*h)*Math.cos(o.u)}},e.n=function(t,i,e){return e=Math.sin(e),t/Math.sqrt(1-i*e*e)},e.ot=function(t,i){return Math.atan2(Math.sin(i)*(1-t),Math.cos(i))},e.Qj=function(t,i){return Math.atan2(Math.sin(i),Math.cos(i)*(1-t))},e.Rq=function(t,n){if(i.ti(t)||0==n||i.Y(i.P(n),1.570796326794897))return n;if(.006884661117170036>t){var s=Math.sqrt(1-t),r=(1-s)/(1+s),o=r*r,h=r*o,a=r*h,u=r*a,c=r*u,l=r*c,f=1.572916666666667*h-3.2578125*u+4.295068359375*l;t=2.142578125*a-6.071484375*c,s=3.129296875*u-11.249837239583334*l;var p=4.775276692708333*c,d=7.958636765252976*l,v=Math.cos(2*n);return n+Math.sin(2*n)*(1.5*r-.84375*h+.525390625*u-.2688395182291667*l-f+s-d+v*(2*(1.3125*o-1.71875*a+1.650146484375*c)-4*t+6*p+v*(4*f-12*s+24*d+v*(8*t-32*p+v*(16*s-80*d+v*(32*p+64*v*d))))))}for(s=1-t,r=t/2,h=(o=i.P(n))*e.Zu(t)/(1.570796326794897*s),a=9999,c=o,o=0;1e-16<a&&50>o;o++)l=e.w(t,c),u=c-(f=(u=(e.kG(c,t)-r*Math.sin(2*c)/l)/s-h)/(l=1/(l*l*l))),a=i.P(f),c=u;return 0<=n?c:-c},e.qW=function(t,n){return i.ti(n)?t:t*e.Zu(n)/1.570796326794897},e.ba=function(t){return 0>(t=e.pF(t,6.283185307179586))?t+6.283185307179586:3.141592653589793>i.P(t)||i.Y(i.P(t),3.141592653589793)?t:t-6.283185307179586},e.pF=function(t,i){return t-Math.floor(t/i)*i},e.Ah=function(t,i){if(.006884661117170036>i){var n=(i=(1-(i=Math.sqrt(1-i)))/(1+i))*i,s=n*n;return t/(1+i)*(1+.25*n+.015625*s+.00390625*n*s)*1.570796326794897}return t*e.Zu(i)},e.Vq=function(t,n){var s=i.Mb(1,Math.sin(n));return n=1.570796326794897>=(n=i.P(e.pF(n,3.141592653589793)))?n:3.141592653589793-n,(i.Y(n,1.570796326794897)?n:Math.atan(Math.sqrt(1-t)*Math.tan(n)))*s},e.q=function(t,i,n){if(.006884661117170036>i){var s=(i=(1-(i=Math.sqrt(1-i)))/(1+i))*i,r=i*s,o=i*r,h=i*o,a=i*h,u=i*a,c=-.7291666666666666*r+.2278645833333333*h+.03987630208333334*u,l=.615234375*o-.21533203125*a,f=-.54140625*h+.20302734375*u,p=.48876953125*a,d=-.4488699776785715*u,v=Math.cos(2*n);return t/(1+i)*((1+.25*s+.015625*o+.00390625*a)*n+Math.sin(2*n)*(-1.5*i+.1875*r+.0234375*h+.00732421875*u-c+f-d+v*(2*(.9375*s-.234375*o-.03662109375*a)-4*l+6*p+v*(4*c-12*f+24*d+v*(8*l-32*p+v*(16*f-80*d+v*(32*p+64*v*d)))))))}return t*(e.kG(n,i)-.5*i*Math.sin(2*n)/e.w(i,n))},e.w=function(t,i){return i=Math.sin(i),Math.sqrt(1-t*i*i)},e.Zu=function(t){return i.KC(t,1,2220446049250313e-31)?1:1>t?e.Xw(0,1-t)-t/3*e.Uw(0,1-t):NaN},e.kG=function(n,s){var r=i.Mb(1,n);n=i.P(n);var o=Math.floor(n/1.570796326794897);if(1<s)s=0==n?0:NaN;else if(i.Cd(o))s=(n=e.sin(n))*e.Xw(1-n*n,1-s*n*n)-s/3*n*n*n*e.Uw(1-n*n,1-s*n*n);else{var h=t.O.truncate(o%2),a=e.Zu(s);0<h?(n=1.570796326794897*(o+1)-n,s=a*(o+1)-(s=(n=Math.sin(n))*e.Xw(1-n*n,1-s*n*n)-s/3*n*n*n*e.Uw(1-n*n,1-s*n*n))):(n-=1.570796326794897*o,s=a*o+(s=(n=Math.sin(n))*e.Xw(1-n*n,1-s*n*n)-s/3*n*n*n*e.Uw(1-n*n,1-s*n*n)))}return s*r},e.sin=function(t){t=e.ba(t);var n=i.Mb(1,t);return t=i.P(t),i.Y(t,3.141592653589793)?0:i.Y(t,1.570796326794897)?1*n:Math.sin(t)*n},e.Uw=function(t,e){var n,s,r,o,h=t,a=e,u=1;for(e=0,t=1;s=((n=.2*(h+a+3*u))-h)/n,r=(n-a)/n,o=(n-u)/n,!(1e-4>i.P(s)&&1e-4>i.P(r)&&1e-4>i.P(o));)o=Math.sqrt(a),e+=t/((n=Math.sqrt(u))*(u+(o=Math.sqrt(h)*(o+n)+o*n))),t*=.25,h=.25*(h+o),a=.25*(a+o),u=.25*(u+o);return a=(h=s*r)-(u=o*o),3*e+t*(1+(u=h-6*u)*(.10227272727272728*u-.2142857142857143-.1730769230769231*o*(s=u+a+a))+o*(.1666666666666667*s+o*(-.4090909090909091*a+.1153846153846154*o*h)))/(n*Math.sqrt(n))},e.Xw=function(t,e){for(var n,s,r,o,h=1;s=2-((n=(t+e+h)/3)+t)/n,r=2-(n+e)/n,o=2-(n+h)/n,!(1e-4>i.P(s)&&1e-4>i.P(r)&&1e-4>i.P(o));h=.25*(h+n))n=Math.sqrt(e),s=Math.sqrt(h),t=.25*(t+(n=Math.sqrt(t)*(n+s)+n*s)),e=.25*(e+n);return(1+(.04166666666666666*(t=s*r-o*o)-.1-.06818181818181818*(e=s*r*o))*t+.07142857142857142*e)/Math.sqrt(n)},e.Qw=function(t,e){if(i.ti(t)||0==e||i.Y(i.P(e),1.570796326794897))return e;if(.006884661117170036>t){var n=t*t,s=t*n,r=t*s,o=t*r,h=t*o,a=t*h,u=-(.02708333333333333*s+.03430059523809524*r+.03149181547619048*o+.02634359154541446*h+.02156896735835538*a),c=.007669890873015873*r+.01299603174603175*o+.0148051353064374*h+.01454454953803912*a,l=-(.002275545634920635*o+.004830845032667949*h+.006558395368616723*a),f=.0006957236677288761*h+.001775193002406544*a,p=-.000217324089394402*a,d=Math.cos(2*e);return e+Math.sin(2*e)*(-(.5*t+.2083333333333333*n+.09375*s+.04878472222222222*r+.02916666666666667*o+.01938905423280423*h+.01388255931712963*a)-u+l-p+d*(2*(.1041666666666667*n+.0875*s+.06050347222222222*r+.04151785714285714*o+.02958958540013228*h+.02203667534722222*a)-4*c+6*f+d*(4*u-12*l+24*p+d*(8*c-32*f+d*(16*l-80*p+d*(32*f+64*d*p))))))}return 0==e||i.Y(i.P(e),1.570796326794897)?n=e:(r=(s=Math.sqrt(t))*Math.sin(e),n=Math.tan(.7853981633974483+e/2)*Math.pow((1-r)/(1+r),s/2),n=2*Math.atan(n)-1.570796326794897),n},e.yO=function(t,e){if(i.ti(t)||0==e||i.Y(i.P(e),1.570796326794897))return e;if(.006884661117170036>t){var n=t*(f=t*(l=t*(d=t*t))),s=t*(p=t*n),r=.05833333333333333*l+.07232142857142858*f+.05634300595238095*n+.0355325796406526*p+.020235546186067*s,o=.02653149801587302*f+.04379960317460317*n+.0429211791776896*p+.03255384637546096*s,h=.01294022817460318*n+.02668104344536636*p+.03155651254609588*s,a=.00659454790965208*p+.0163075268674227*s,u=.003463473736911237*s,c=Math.cos(2*e);return e+Math.sin(2*e)*(.5*t+.2083333333333333*d+.08333333333333333*l+.03611111111111111*f+.01875*n+.01195601851851852*p+.008863673941798942*s-r+h-u+c*(2*(.1458333333333333*d+.1208333333333333*l+.07039930555555556*f+.03616071428571429*n+.01839451058201058*p+.01017113095238095*s)-4*o+6*a+c*(4*r-12*h+24*u+c*(8*o-32*a+c*(16*h-80*u+c*(32*a+64*c*u))))))}var l=Math.sqrt(t),f=l/2,p=Math.tan(.7853981633974483+e/2);t=0,r=1;for(var d=e;0!=r;d=s)n=l*Math.sin(d),s=p*Math.pow((1+n)/(1-n),f),s=2*Math.atan(s)-1.570796326794897,t++,(i.Y(s,d)||3e4<t)&&(r=0);return d},e}()}(W||(W={})),function(t){var i=function(){function i(i){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new t.h,this.XH=new t.h,this.KA=!1,this.vq=new t.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=i,this.As=t.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var e=i.getCode();0<e?(this.Kk=e,t.pf.getCode(i)):this.Kk=t.pf.getCode(i),0>this.Kk&&(this.Kk=0);var n=this.Ue.getType();if(this.jH=n==t.Sc.PE_TYPE_PROJCS?2:1,n==t.Sc.PE_TYPE_PROJCS&&!i.loadConstants())throw t.i.N("PeProjcs.loadConstants failed");e=n==t.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),n!=t.Sc.PE_TYPE_GEOGCS&&t.pf.getCode(e),this.Eo=i.getUnit(),this.RH=e.getPrimem().getLongitude(),this.wH=i=e.getUnit().getUnitFactor(),i=Math.PI/(180*i),1e-10>Math.abs(i-1)&&(i=1),this.GA=i,n&t.Sc.PE_TYPE_PROJCS?(e=this.Ue,this.HA=1/e.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=t.Cg.generate(e,t.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=t.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,n=1/e.getUnit().getUnitFactor(),this.sw=.001/e.getDatum().getSpheroid().getAxis()*n,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return i.prototype.$r=function(){return this.Kk},i.prototype.kk=function(){return this.tw},i.Py=function(t,i){return t==i||null!=t&&null!=i&&0==t.Kk&&0==i.Kk&&t.As===i.As},i.prototype.Wc=function(){return this.zl},i.prototype.gh=function(t){t.K(this.so)},i.prototype.pv=function(){return this.so.v},i.prototype.ov=function(){return this.so.C},i.prototype.GR=function(t){t.K(this.uw)},i.prototype.lY=function(){var i=this.Ue.getType();if(i==t.Sc.PE_TYPE_PROJCS){i=this.Ue;var e=this.kk().getCentralMeridian(),n=i.getGeogcs();if(null==n)throw t.i.fa("internal error");e=[[e+(n=1/n.getUnit().getUnitFactor()*Math.PI),0]],t.ej.geogToProj(i,1,e),e=e[0][0],n=i.getParameters()[t.Sc.PE_PARM_X0].getValue();var s=this.ml();i=new t.l,s.A(i),e=(s=Math.abs(e-n))+n,n=-1*s+n,s=i.H,i=i.G;var r=new t.l;r.K(n,i,e,s),null==this.so&&(this.so=r)}else{if(i!=t.Sc.PE_TYPE_GEOGCS)throw t.i.fa("internal error");n=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(i=new t.l).K(-n,-n/2,n,n/2),null==this.so&&(this.so=i)}},i.prototype.mY=function(){var i=this.Ue.getType();if(i==t.Sc.PE_TYPE_PROJCS){var e=this.Ue;if(i=this.kk().getCentralMeridian(),null==(e=e.getGeogcs()))throw t.i.fa("internal error");e=1/e.getUnit().getUnitFactor()*Math.PI;var n=this.Vr(),s=new t.l;n.A(s),(n=new t.l).K(i-e,s.G,i+e,s.H),null==this.uw&&(this.uw=n)}else{if(i!=t.Sc.PE_TYPE_GEOGCS)throw t.i.fa("internal error");e=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(i=new t.l).K(-e,-e/2,e,e/2),null==this.uw&&(this.uw=i)}},i.prototype.bf=function(){return this.GA},i.prototype.pm=function(){return this.HA},i.prototype.Vr=function(){if(this.zl)return this.ul;var t=this.ul;return null!=t?t:(this.xx(),this.ul)},i.prototype.Wr=function(){return this.zl?null:(null!=this.ul||this.xx(),this.YG)},i.prototype.xx=function(){if(this.Ue.getType()==t.Sc.PE_TYPE_PROJCS){var i=this.Ue,e=i.getGeogcs(),n=i.horizonGcsGenerate();if(null!=n){var s=n[0].getNump(),r=n[0].getKind();i=0<n[0].getInclusive();var o=this.bf(),h=90*o,a=360*o,u=370*o,c=180*o*t.Sc.PE_HORIZON_DELTA/Math.PI,l=new t.l,f=null;if(1<s)for(var p=1;p<s;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_LINE){null==f&&(f=new t.Ta);var d=n[p].getCoord();f.sx(d[0][0],d[0][1]),f.yj(d[1][0],d[1][1])}if(r==t.Sc.PE_HORIZON_RECT)n=n[0].getCoord(),l.K(n[0][0],n[0][1]),l.Zb(n[1][0],n[1][1]),Math.abs(l.H-h)<1e-7*c&&(l.H=h),Math.abs(l.G+h)<1e-7*c&&(l.G=-h),l.R()>u&&(n=-400*o,l.K(n,l.G,n+5*a,l.H)),n=new t.Fh(l),null==this.ul&&(this.ul=n,this.Iv=i);else{if(u=new t.Da,a=this.kk().isGcsHorizonMultiOverlap(),l=t.gu.bF(e,t.hu.Integer64),a){for(u=new t.gL,c=t.Gh.local().V(u,l,null),p=0;p<s;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_POLY){for(e=n[p].getSize(),o=n[p].getCoord(),r=[],h=0;h<e;h++)r[h]=t.h.construct(o[h][0],o[h][1]);n[p].getInclusive(),a&&((o=new t.Da).Yk(r,e-1),u.ZX(o),c.qe())}u=c.next()}else for(p=0;p<s;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_POLY){for(e=n[p].getSize(),o=n[p].getCoord(),a=[],h=0;h<e;h++)a[h]=t.h.construct(o[h][0],o[h][1]);n[p].getInclusive(),u.Yk(a,e-1)}i?t.Xj.local().wn(u,l,1):t.kp.local().wn(u,l,1),t.dj.local().wn(u,l,1),null==this.ul&&(this.ul=u,this.Iv=i,this.YG=f)}}}},i.prototype.hv=function(){return this.zl||null==this.ul&&this.xx(),this.Iv},i.prototype.DK=function(){if(2==this.jH){var i=this.Ue.horizonPcsGenerate();if(null!=i){var e=i[0].getKind();i[0].getInclusive();var n=i[0].getNump(),s=!1;if(e==t.Sc.PE_HORIZON_RECT)i=i[0].getCoord(),(n=new t.l).K(i[0][0],i[0][1]),n.Zb(i[1][0],i[1][1]),i=new t.Fh(n);else{for(e=-1,s=0;s<n;s++)i[s].getKind()==t.Sc.PE_HORIZON_POLY&&(e=s);for(s=i[e].getSize()-1,i=i[e].getCoord(),n=[],e=0;e<s;e++)n[e]=t.h.construct(i[e][0],i[e][1]);i=e=new t.Da,e.Yk(n,s),s=!0}this.kk().isDensificationNeeded()&&(n=1e5*this.pm(),i=t.Xl.local().V(i,n,null)),s&&(s=new t.Fh,i.bn(s),i.Ke(),i.Qb(),i.qR(),t.Xj.local().wn(i,null,1)),null==this.Us&&(this.Us=i)}}},i.prototype.ml=function(){if(this.zl)return this.Us;var t=this.Us;return null!=t?t:(this.DK(),this.Us)},i.prototype.nY=function(){if(this.Ue.getType()==t.Sc.PE_TYPE_PROJCS){var i=90*this.bf();i=[[0,i],[0,-i]],t.ej.geogToProj(this.Ue,2,i);var e=this.kk(),n=e.getNorthPoleLocation()!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY;e=e.getSouthPoleLocation()!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(n&&this.HH.ma(i[0][0],i[0][1]),e&&this.XH.ma(i[1][0],i[1][1]))}this.KA=!0},i.prototype.CK=function(){if(1==this.jH){var i=400*this.bf();this.vq.K(-i,-i,i,i)}else i=t.Cg.generate(this.Ue,t.Cg.PE_PCSINFO_OPTION_DOMAIN),i=t.l.construct(i.getDomainMinx(),i.getDomainMiny(),i.getDomainMaxx(),i.getDomainMaxy()),this.vq.B()&&this.vq.K(i)},i.prototype.hR=function(t){this.zl&&t.K(this.vq),this.vq.B()&&this.CK(),t.K(this.vq)},i.prototype.Up=function(){return this.RH},i.prototype.zi=function(){return this.bA},i.prototype.Hd=function(){return this.Eo},i.prototype.Xr=function(){return this.wH},i}();t.OC=i}(W||(W={})),function(t){var i=function(){function i(i){this.KT=i,this.As=t.zb.xv(i,0,!0);var e=i.getCode();this.ss=0<e?e:t.pf.getCode(i),0>this.ss&&(this.ss=0),this.Eo=e=this.KT.getUnit(),this.IH=1/e.getUnitFactor(),t.pf.getCode(i)}return i.Py=function(t,i){return t==i||null!=t&&null!=i&&0==t.ss&&0==i.ss&&t.As===i.As},i.prototype.$r=function(){return this.ss},i}();t.PL=i}(W||(W={})),function(t){t.Yg=function(){function i(){}return i.tb=function(i,e,n,s,r,o,h,a){if(null!=o||null!=h||null!=a){s=t.F.ba(s),e=t.F.ba(e),n=t.F.ba(n),r=t.F.ba(r),1.570796326794897<t.s.P(n)&&(n=t.s.Mb(3.141592653589793,n)-n,e=t.F.ba(e+3.141592653589793)),1.570796326794897<t.s.P(r)&&(r=t.s.Mb(3.141592653589793,r)-r,s=t.F.ba(s+3.141592653589793));var u=t.F.ba(s-e);if(t.s.Y(n,r)&&(t.s.Y(e,s)||t.s.Y(t.s.P(n),1.570796326794897)))null!=o&&(o.u=0),null!=h&&(h.u=0),null!=a&&(a.u=0);else{if(t.s.Y(n,-r)){if(t.s.Y(t.s.P(n),1.570796326794897))return null!=o&&(o.u=3.141592653589793*i),null!=h&&(h.u=0<n?t.F.ba(3.141592653589793-t.F.ba(s)):t.F.ba(s)),void(null!=a&&(a.u=0<n?t.F.ba(s):t.F.ba(3.141592653589793-t.F.ba(s))));if(t.s.Y(t.s.P(u),3.141592653589793))return null!=o&&(o.u=3.141592653589793*i),null!=h&&(h.u=0),void(null!=a&&(a.u=0))}var c=1.570796326794897==t.s.P(n)?0:Math.cos(n),l=Math.sin(n),f=1.570796326794897==t.s.P(r)?0:Math.cos(r),p=Math.sin(r),d=1.570796326794897==t.s.P(u)?0:Math.cos(u),v=3.141592653589793==t.s.P(u)?0:Math.sin(u);if(null!=o){var y=Math.sin((r-n)/2);u=Math.sin(u/2),o.u=2*Math.asin(Math.sqrt(y*y+c*f*u*u))*i}null!=h&&(h.u=t.s.Y(t.s.P(n),1.570796326794897)?0>n?s:t.F.ba(3.141592653589793-s):Math.atan2(f*v,c*p-l*f*d)),null!=a&&(t.s.Y(t.s.P(r),1.570796326794897)?a.u=0>r?e:t.F.ba(3.141592653589793-e):(a.u=Math.atan2(c*v,p*c*d-f*l),a.u=t.F.ba(a.u+3.141592653589793)))}}},i.rf=function(i,e,n,s,r,o,h){if(null!=o||null!=h){e=t.F.ba(e),n=t.F.ba(n),1.570796326794897<t.s.P(n)&&(n=t.s.Mb(3.141592653589793,n)-n,e=t.F.ba(e+3.141592653589793)),t.s.Y(t.s.P(n),1.570796326794897)&&(e=0),r=t.F.ba(r);var a=t.s.Y(t.s.P(r),1.570796326794897)?0:Math.cos(r),u=t.s.Y(t.s.P(r),3.141592653589793)?0:Math.sin(r),c=t.s.Y(t.s.P(n),1.570796326794897)?0:Math.cos(n),l=Math.sin(n);i=s/i,s=t.s.Y(t.s.P(i),1.570796326794897)?0:Math.cos(i);var f=t.s.Y(t.s.P(i),3.141592653589793)?0:Math.sin(i),p=Math.asin(l*s+c*f*a);null!=h&&(h.u=p),null!=o&&(o.u=t.s.Y(t.s.P(p),1.570796326794897)?t.s.Y(n,-p)?0>p?r:t.F.ba(3.141592653589793-r):e:t.s.Y(t.s.P(n),1.570796326794897)&&t.s.Y(i,3.141592653589793)?0>n?r:t.F.ba(3.141592653589793-r):t.F.ba(e+Math.atan2(f*u,c*s-l*f*a)))}},i}()}(W||(W={})),function(t){t.Wk=function(){function i(){}return i.tb=function(i,e,n,s,r,o,h,a,u){var c=new t.ga(0),l=new t.ga(0),f=[0,0,0],p=[0,0,0],d=[0,0,0],v=new t.ga(0),y=new t.ga(0),g=new t.ga(0),b=new t.ga(0),w=new t.ga(0);if(null!=h||null!=a||null!=u)if(t.s.ti(e))t.Yg.tb(i,n,s,r,o,h,a,u);else{r=t.F.ba(r),n=t.F.ba(n);var m=t.F.ba(r-n);if(t.s.Y(s,o)&&(t.s.Y(n,r)||t.s.Y(t.s.P(s),1.570796326794897)))null!=h&&(h.u=0),null!=a&&(a.u=0),null!=u&&(u.u=0);else{if(t.s.Y(s,-o)){if(t.s.Y(t.s.P(s),1.570796326794897))return null!=h&&(h.u=2*t.F.Ah(i,e)),null!=a&&(a.u=0<s?t.F.ba(3.141592653589793-t.F.ba(r)):t.F.ba(r)),void(null!=u&&(u.u=0<s?t.F.ba(r):t.F.ba(3.141592653589793-t.F.ba(r))));t.s.Y(t.s.P(m),3.141592653589793)&&(null!=h&&(h.u=2*t.F.Ah(i,e)),null!=a&&(a.u=0),null!=u&&(u.u=0))}else(t.s.Y(t.s.P(s),1.570796326794897)||t.s.Y(t.s.P(o),1.570796326794897))&&(t.s.Y(t.s.P(s),1.570796326794897)?n=r:r=n);var x=0;if(0>m){x=1;var M=n;n=r,r=M,M=s,s=o,o=M}m=t.F.ot(e,s);var _=t.F.ot(e,o);null==a&&null==u||(t.Yg.tb(i,n,m,r,_,null,c,l),c=Math.atan2(Math.sin(c.u)*Math.cos(s-m),Math.cos(c.u)),l=Math.atan2(Math.sin(l.u)*Math.cos(o-_),Math.cos(l.u)),0!=x&&(M=c,c=l,l=M),null!=a&&(a.u=c),null!=u&&(u.u=l)),null!=h&&(t.F.cl(1,e,s,n,0,g,b,w),f[0]=g.u,f[1]=b.u,f[2]=w.u,t.F.cl(1,e,o,r,0,g,b,w),p[0]=g.u,p[1]=b.u,p[2]=w.u,d[0]=f[1]*p[2]-p[1]*f[2],d[1]=-(f[0]*p[2]-p[0]*f[2]),d[2]=f[0]*p[1]-p[0]*f[1],e=1-t.F.w(e,t.F.Vq(e,t.F.Qj(e,Math.acos(d[2]/Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]))))),e*=2-e,a=Math.atan2(-d[1],-d[0]),d=t.F.ba(a-1.570796326794897),a=t.F.ba(a+1.570796326794897),d=t.s.P(t.F.ba(n-d))<=t.s.P(t.F.ba(n-a))?d:a,t.Yg.tb(1,d,0,n,m,v,null,null),t.Yg.tb(1,d,0,r,_,y,null,null),3.141592653589793<v.u+y.u&&(d=t.F.ba(d+3.141592653589793),t.Yg.tb(1,d,0,n,m,v,null,null),t.Yg.tb(1,d,0,r,_,y,null,null)),v.u*=t.s.Mb(1,s),y.u*=t.s.Mb(1,o),v.u=t.F.Qj(e,v.u),y.u=t.F.Qj(e,y.u),n=t.F.q(i,e,v.u),i=t.F.q(i,e,y.u),h.u=t.s.P(i-n))}}},i.rf=function(i,e,n,s,r,o,h,a){var u=0,c=new t.ga(0),l=new t.ga(0),f=[0,0,0],p=[0,0,0],d=new t.ga(0),v=new t.ga(0),y=new t.ga(0);if(null!=h||null!=a)if(t.s.ti(e))t.Yg.rf(i,n,s,r,o,h,a);else if(t.s.Cd(r))null!=h&&(h.u=n),null!=a&&(a.u=s);else if(o=t.F.ba(o),0>r&&(r=t.s.P(r),o=t.F.ba(o+3.141592653589793)),n=t.F.ba(n),s=t.F.ba(s),1.570796326794897<t.s.P(s)&&(n=t.F.ba(n+3.141592653589793),s=t.s.Mb(3.141592653589793,s)-s),t.s.Y(t.s.P(s),1.570796326794897)&&(n=0),t.s.Cd(s)){var g=t.s.P(1.570796326794897-t.s.P(o));g=t.F.Qj(e,g),g=1-t.F.w(e,t.F.Vq(e,g)),g*=2-g,i=r/t.F.Ah(i,g)*1.570796326794897,i=t.F.Rq(g,i),i=t.F.ot(g,i),t.Yg.rf(1,n,s,i,o,h,c),null!=a&&(u=c.u),null!=a&&(a.u=t.F.Qj(e,u))}else if(t.s.Y(t.s.P(s),1.570796326794897))c=2*(u=t.F.Ah(i,e)),o=0<(i=t.s.Mb(1.570796326794897,s))?t.F.ba(3.141592653589793-o):o,s=u-r,t.s.P(s)<=u?null!=h&&(h.u=o):(s=Math.floor(r/c),0==t.O.truncate(s%2)?(null!=h&&(h.u=o),r-=s*c):(null!=h&&(h.u=t.F.ba(o+3.141592653589793)),r=(s+1)*c-r),s=u-r),null!=a&&(a.u=t.F.Rq(e,s/u*i));else{g=t.F.ot(e,s),o=Math.atan2(Math.sin(o),Math.cos(o)*Math.cos(s-g));var b=t.O.truncate(t.s.Mb(1,g))*(1.570796326794897>=t.s.P(o)?1:-1);o=t.F.ba(n+Math.atan(Math.tan(o)*-Math.sin(g))),t.Yg.tb(i,o,0,n,g,null,l,null),g=t.s.P(1.570796326794897-t.s.P(l.u)),g=t.F.Qj(e,g),g=1-t.F.w(e,t.F.Vq(e,g)),g*=2-g,t.F.cl(1,e,0,o,0,d,v,y),f[0]=d.u,f[1]=v.u,f[2]=y.u,t.F.cl(1,e,s,n,0,d,v,y),p[0]=d.u,p[1]=v.u,p[2]=y.u,s=Math.acos((f[0]*p[0]+f[1]*p[1]+f[2]*p[2])/Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])),s=t.F.Qj(g,s),r=0<(s=t.F.q(i,g,s)+r*b)?l.u:t.F.ba(l.u+3.141592653589793),i=t.s.P(s)/t.F.Ah(i,g)*1.570796326794897,i=t.F.Rq(g,i),i=t.F.ot(g,i),t.Yg.rf(1,o,0,i,r,h,c),null!=a&&(u=c.u),null!=a&&(a.u=t.F.Qj(e,u))}},i}()}(W||(W={})),function(t){t.cu=function(){function i(){}return i.tb=function(i,e,n,s,r,o,h,a,u){var c=0,l=0,f=0;if(null!=h||null!=a||null!=u)if(t.s.ti(e))t.Yg.tb(i,n,s,r,o,h,a,u);else{var p=t.F.ba(r-n);if(t.s.Y(s,o)&&(t.s.Cd(p)||t.s.Y(t.s.P(s),1.570796326794897)))null!=h&&(h.u=0),null!=a&&(a.u=0),null!=u&&(u.u=0);else{if(t.s.Y(s,-o)){if(t.s.Y(t.s.P(s),1.570796326794897))return null!=h&&(h.u=2*t.F.Ah(i,e)),null!=a&&(a.u=0<s?t.F.ba(3.141592653589793-t.F.ba(r)):t.F.ba(r)),void(null!=u&&(u.u=0<s?t.F.ba(r):t.F.ba(3.141592653589793-t.F.ba(r))));t.s.Y(t.s.P(p),3.141592653589793)&&(null!=h&&(h.u=2*t.F.Ah(i,e)),null!=a&&(a.u=0),null!=u&&(u.u=0))}else{if(t.s.Y(t.s.P(s),1.570796326794897)||t.s.Y(t.s.P(o),1.570796326794897))return void t.Wk.tb(i,e,n,s,r,o,h,a,u);if(t.s.Cd(p)||t.s.Y(t.s.P(p),3.141592653589793))return void t.Wk.tb(i,e,n,s,r,o,h,a,u)}var d=1-Math.sqrt(1-e),v=e/(1-e),y=i*(1-d);i=t.F.Vq(e,s);var g=t.F.Vq(e,o);e=1.570796326794897==t.s.P(i)?0:Math.cos(i);var b=Math.sin(i),w=1.570796326794897==t.s.P(g)?0:Math.cos(g),m=Math.sin(g),x=p,M=Math.cos(x),_=Math.sin(x),k=1,A=0;do{var T=x,j=Math.sqrt(Math.pow(w*_,2)+Math.pow(e*m-b*w*M,2)),P=b*m+e*w*M,I=Math.atan2(j,P);if(0==j){k=0;break}var E=e*w*_/j;if(c=Math.cos(Math.asin(E)),l=P-2*b*m/(c*=c),1<t.s.P(l)&&(l=t.s.Mb(1,l)),x=p+(1-(x=d/16*c*(4+d*(4-3*c))))*d*E*(I+x*j*(l+x*P*(2*(f=l*l)-1))),M=Math.cos(x),_=Math.sin(x),A++,3.141592653589793<t.s.P(x)&&30<A){k=0;break}}while(5e3>=A&&!t.s.Y(T,x));if(0!=k)d=(v*=c)*(256+v*(v*(74-47*v)-128))/1024,null!=h&&(h.u=y*(1+v*(4096+v*(v*(320-175*v)-768))/16384)*(I-d*j*(l+d/4*(P*(2*f-1)-d/6*l*(4*j*j-3)*(4*f-3))))),null!=a&&(a.u=t.s.Y(t.s.P(s),1.570796326794897)?0>s?r:t.F.ba(3.141592653589793-r):Math.atan2(w*_,e*m-b*w*M)),null!=u&&(t.s.Y(t.s.P(o),1.570796326794897)?u.u=0>o?n:t.F.ba(3.141592653589793-n):(u.u=Math.atan2(e*_,e*m*M-b*w),u.u=t.F.ba(u.u+3.141592653589793)));else{x=t.s.Mb(3.141592653589793,p),P=b*m-e*w,I=Math.acos(P),j=Math.sin(I),c=1,A=E=0;do{f=E,M=1-.25*(E=d*(c*=c)*(1+d+d*d))+.1875*(l=d*d*(M=c*c)*(1+2.25*d))-.1953125*(k=d*d*d*M*c),E=.25*E-.25*l+.29296875*k,_=.03125*l-.05859375*k,k*=.00651041666666667,l=P-2*b*m/c,1<t.s.P(l)&&(l=t.s.Mb(1,l)),c=Math.acos(l),P=Math.cos(2*c),T=Math.cos(3*c),_=(E=t.s.Y(s,-o)?t.F.ba(3.141592653589793-p)/(3.141592653589793*d*M):t.F.ba(x-p)/(d*(M*I+E*j*l+_*Math.sin(2*I)*P+k*Math.sin(3*I)*T)))*j/(e*w),x=1.570796326794897<t.s.P(p)?t.s.Mb(3.141592653589793,_)-Math.asin(_):Math.asin(_),M=Math.cos(x),j=Math.sqrt(Math.pow(w*_,2)+Math.pow(e*m-b*w*M,2)),I=3.141592653589793-Math.asin(t.s.P(j)),P=Math.cos(I),c=Math.cos(Math.asin(E)),A++}while(70>=A&&!t.s.Y(f,E));null!=h&&(M=1+(v*=c*=c)*(4096+v*(v*(320-175*v)-768))/16384,t.s.Y(s,-o)?h.u=3.141592653589793*y*M:(l=P-2*b*m/c,c=Math.acos(l),P=Math.cos(2*c),T=Math.cos(3*c),h.u=y*(M*I+v*(v*(128+v*(35*v-60))-512)/2048*j*l+v*(5*v-4)/6144*v*v*Math.sin(2*I)*P+k*Math.sin(3*I)*T+-762939453125e-16*v*v*v*v*Math.sin(4*I)*Math.cos(4*c)))),null!=a&&(t.s.Cd(s)&&t.s.Cd(o)?(c=Math.sqrt(1-E*E),a.u=Math.acos(c),0>p&&(a.u*=-1)):t.s.Y(t.s.P(s),1.570796326794897)?a.u=0>s?r:t.F.ba(3.141592653589793-r):(h=E/e,y=Math.sqrt(1-h*h),0>e*m-b*w*Math.cos(x)&&(y*=-1),a.u=Math.atan2(h,y),t.s.Y(s,-o)&&t.s.P(t.F.ba(n-r))>3.141592653589793*(1-d*Math.cos(s))&&(0<s&&1.570796326794897>t.s.P(a.u)||0>s&&1.570796326794897<t.s.P(a.u))&&(a.u=t.s.Mb(3.141592653589793,a.u)-a.u))),null!=u&&(t.s.Cd(s)&&t.s.Cd(o)?(c=Math.sqrt(1-E*E),u.u=Math.acos(c),0<=p&&(u.u*=-1)):t.s.Y(t.s.P(o),1.570796326794897)?u.u=0>o?n:t.F.ba(3.141592653589793-n):(p=E/w,h=Math.sqrt(1-p*p),y=Math.sin(x/2),0>Math.sin(g-i)-2*e*m*y*y&&(h*=-1),u.u=Math.atan2(p,h),u.u=t.F.ba(u.u+3.141592653589793),t.s.Y(s,-o)&&!t.s.Cd(s)&&!t.s.Y(t.s.P(s),1.570796326794897)&&t.s.P(t.F.ba(n-r))>3.141592653589793*(1-d*Math.cos(s))&&(null!=a?y=a.u:(h=E/e,y=Math.sqrt(1-h*h),0>e*m-b*w*Math.cos(x)&&(y*=-1),y=Math.atan2(h,y),t.s.Y(s,-o)&&t.s.P(t.F.ba(n-r))>3.141592653589793*(1-d*Math.cos(s))&&(0<s&&1.570796326794897>t.s.P(y)||0>s&&1.570796326794897<t.s.P(y))&&(y=t.s.Mb(3.141592653589793,y)-y)),1.570796326794897>=t.s.P(y)&&1.570796326794897<t.s.P(u.u)||1.570796326794897<=t.s.P(y)&&1.570796326794897>t.s.P(u.u))&&(u.u=-1*t.F.ba(u.u+3.141592653589793))))}}}},i.rf=function(i,e,n,s,r,o,h,a){if(null!=h||null!=a)if(t.s.ti(e))t.Yg.rf(i,n,s,r,o,h,a);else if(o=t.F.ba(o),t.s.Y(t.s.P(s),1.570796326794897)||t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))t.Wk.rf(i,e,n,s,r,o,h,a);else{var u=1.570796326794897==t.s.P(o)?0:Math.cos(o),c=3.141592653589793==t.s.P(o)?0:Math.sin(o);t.s.Y(t.s.P(s),1.570796326794897)&&(n=0),o=1-Math.sqrt(1-e);var l=t.F.Vq(e,s);s=1.570796326794897==t.s.P(l)?0:Math.cos(l);var f=Math.sin(l);l=Math.atan2(Math.tan(l),u);var p=s*c,d=p*p,v=1-d,y=e/(1-e)*v,g=(e=y*(256+y*(y*(74-47*y)-128))/1024)/4,b=e/6,w=r/(i*(1-o)*(1+y*(4096+y*(y*(320-175*y)-768))/16384)),m=w;do{var x=m;r=1.570796326794897==t.s.P(m)?0:Math.cos(m);var M=(y=3.141592653589793==t.s.P(m)?0:Math.sin(m))*y;m=e*y*((i=Math.cos(2*l+m))+g*(r*(2*(m=i*i)-1)-b*i*(4*M-3)*(4*m-3)))+w}while(!t.s.Y(x,m));r=1.570796326794897==t.s.P(m)?0:Math.cos(m),y=3.141592653589793==t.s.P(m)?0:Math.sin(m),null!=h&&(c=Math.atan2(y*c,s*r-f*y*u),v=o/16*v*(4+o*(4-3*v)),i=Math.cos(2*l+m),h.u=t.F.ba(n+(c-(1-v)*o*p*(m+v*y*(i+v*r*(2*i*i-1)))))),null!=a&&(v=f*y-s*r*u,v=(1-o)*Math.sqrt(d+v*v),a.u=Math.atan2(f*r+s*y*u,v))}},i}()}(W||(W={})),function(t){t.PC=function(){function i(){}return i.tb=function(i,e,n,s,r,o,h,a,u){var c=t.F.ba(r-n),l=t.s.Y(t.s.P(s),1.570796326794897),f=t.s.Y(t.s.P(o),1.570796326794897);if(t.s.Y(s,o)&&(t.s.Cd(c)||l))null!=h&&(h.u=0),null!=a&&(a.u=0),null!=u&&(u.u=0);else{if(t.s.ti(e)){var p=Math.sin(s),d=Math.sin(o);p=Math.sqrt((1+p)/(1-p)),d=Math.sqrt((1+d)/(1-d)),p=Math.log(d)-Math.log(p),p=Math.atan2(c,p),null!=h&&(h.u=t.s.Y(s,o)?t.s.P(i*Math.cos(s)*c):t.s.P((i*o-i*s)/Math.cos(p)))}else d=t.F.Qw(e,o),p=Math.sin(t.F.Qw(e,s)),d=Math.sin(d),p=Math.sqrt((1+p)/(1-p)),d=Math.sqrt((1+d)/(1-d)),p=Math.log(d)-Math.log(p),p=Math.atan2(c,p),null!=h&&(t.s.Y(s,o)?h.u=t.s.P(i*c*Math.cos(s)/t.F.w(e,s)):(c=t.F.q(i,e,s),i=t.F.q(i,e,o),h.u=t.s.P((i-c)/Math.cos(p))));null==a&&null==u||(h=t.F.ba(p+3.141592653589793),l&&f||!l&&!f||(l?p=0>s?r:t.F.ba(3.141592653589793-r):f&&(h=0>o?n:t.F.ba(3.141592653589793-n))),null!=a&&(a.u=p),null!=u&&(u.u=h))}},i.rf=function(i,e,n,s,r,o,h,a){o=t.F.ba(o),0>r&&(r=t.s.P(r),o=t.F.ba(o+3.141592653589793)),t.s.ti(e)?t.s.Y(t.s.P(s),1.570796326794897)?(n=0>s?o:t.F.ba(3.141592653589793-o),3.141592653589793>=(o=r/i%6.283185307179586)?i=s-t.s.Mb(o,s):(n=t.F.ba(n+3.141592653589793),i=-s+t.s.Mb(o-3.141592653589793,s))):t.s.Y(t.s.P(o),1.570796326794897)?(n=t.F.ba(n+t.s.Mb(r,o)/(i*Math.cos(s))),i=s):(i=s+r*Math.cos(o)/i,1.570796326794897<t.s.P(i)&&(i=1.570796326794897),t.s.Y(t.s.P(i),1.570796326794897)&&(t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))||(1.570796316258184<t.s.P(i)&&(i=t.s.Mb(1.570796316258184,i)),e=Math.sin(s),s=Math.sin(i),e=Math.sqrt((1+e)/(1-e)),s=Math.sqrt((1+s)/(1-s)),e=Math.log(s)-Math.log(e),n=t.F.ba(n+Math.tan(o)*e))):t.s.Y(t.s.P(s),1.570796326794897)?(n=0>s?o:t.F.ba(3.141592653589793-o),o=r/t.F.qW(i,e),3.141592653589793>=(o%=6.283185307179586)?i=s-t.s.Mb(o,s):(n=t.F.ba(n+3.141592653589793),i=-s+t.s.Mb(o-3.141592653589793,s)),i=t.F.Rq(e,i)):t.s.Y(t.s.P(o),1.570796326794897)?(n=t.F.ba(n+t.s.Mb(r,o)*t.F.w(e,s)/(i*Math.cos(s))),i=s):(i=1.570796326794897*(r*Math.cos(o)+t.F.q(i,e,s))/t.F.Ah(i,e),1.570796326794897<t.s.P(i)&&(i=t.s.Mb(1.570796326794897,i)),i=t.F.Rq(e,i),t.s.Y(t.s.P(i),1.570796326794897)&&(t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))||(r=t.F.Qw(e,s),s=t.F.Qw(e,i),1.570796316258184<t.s.P(s)&&(s=t.s.Mb(1.570796316258184,i),i=t.F.yO(e,s)),e=Math.sin(r),s=Math.sin(s),e=Math.sqrt((1+e)/(1-e)),s=Math.sqrt((1+s)/(1-s)),e=Math.log(s)-Math.log(e),n=t.F.ba(n+Math.tan(o)*e))),null!=h&&(h.u=n),null!=a&&(a.u=i)},i}()}(W||(W={})),function(t){t.kb=function(){function i(){}return i.Xy=function(i,e,n,s,r,o,h){t.cu.tb(i,e,n,s,r,o,null,h,null)},i.yi=function(i,e,n,s,r,o,h,a){t.cu.rf(i,e,n,s,r,o,h,a)},i.wd=function(i,e,n,s,r,o,h,a,u,c){switch(c){case 2:t.Wk.tb(i,e,n,s,r,o,h,a,u);break;case 3:t.QC.tb(i,e,n,s,r,o,h,a,u);break;case 1:t.PC.tb(i,e,n,s,r,o,h,a,u);break;default:t.cu.tb(i,e,n,s,r,o,h,a,u)}},i.oj=function(i,e,n,s,r,o,h,a,u){switch(u){case 2:t.Wk.rf(i,e,n,s,r,o,h,a);break;case 3:t.QC.rf(i,e,n,s,r,o,h,a);break;case 1:t.PC.rf(i,e,n,s,r,o,h,a);break;default:t.cu.rf(i,e,n,s,r,o,h,a)}},i}()}(W||(W={})),function(t){var i=function(){function i(){this.y=this.x=null}return i.construct=function(e){var n=new i;return n.x=new t.Wb,n.x.set(e.x),n.y=new t.Wb,n.y.set(e.y),n},i.VE=function(e,n){var s=new i;return s.x=new t.Wb,s.x.set(e),s.y=new t.Wb,s.y.set(n),s},i.prototype.qg=function(){return this.x.qg()&&this.y.qg()},i.prototype.value=function(){return t.h.construct(this.x.value(),this.y.value())},i}();t.vY=i;var e=function(){function i(){this.z=this.y=this.x=null}return i.construct=function(e){var n=new i;return n.x=new t.Wb,n.x.set(e.x),n.y=new t.Wb,n.y.set(e.y),n.z=new t.Wb,n.z.set(e.z),n},i.VE=function(e,n,s){var r=new i;return r.x=new t.Wb,r.x.set(e),r.y=new t.Wb,r.y.set(n),r.z=new t.Wb,r.z.set(s),r},i.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},i.prototype.value=function(){return new t.Nd(this.x.value(),this.y.value(),this.z.value())},i.prototype.Qh=function(i){var e=new t.Wb,n=new t.Wb,s=new t.Wb;return e.Kl(this.x,i.x),n.Kl(this.y,i.y),s.Kl(this.z,i.z),(i=new t.Wb).dN(e,n),i.add(s),i},i.prototype.cF=function(e){var n=new i;n.x.Kl(this.y,e.z),n.y.Kl(this.z,e.x),n.z.Kl(this.x,e.y);var s=new t.Wb,r=new t.Wb,o=new t.Wb;return s.Kl(this.z,e.y),r.Kl(this.x,e.z),o.Kl(this.y,e.x),n.x.sub(s),n.y.sub(r),n.z.sub(o),n},i}();t.wY=e,t.Ox=function(){function n(){}return n.EP=function(t,i,e){var s=i.x;i=i.y,n.cl(1,t,Math.cos(s),Math.sin(s),Math.cos(i),Math.sin(i),e)},n.DP=function(i,e){var s=new t.Nd;return n.EP(i,e,s),s},n.cl=function(t,i,e,n,s,r,o){t/=Math.sqrt(1-i*r*r),o.K(t*s*e,t*s*n,t*(1-i)*r)},n.Yu=function(i,n){var s=new t.Wb,r=new t.Wb,o=new t.Wb,h=new t.Wb;s.cos(n.x),r.sin(n.x),o.cos(n.y),h.sin(n.y);var a=new t.Wb;return a.set(h),a.Ag(h),a.No(i),a.No(-1),a.kN(),a.sqrt(),(n=new t.Wb).set(1),n.jm(a),(a=new t.Wb).set(n),a.Ag(o),a.Ag(s),(s=new t.Wb).set(n),s.Ag(o),s.Ag(r),(r=new t.Wb).set(n),r.No(1-i),r.Ag(h),e.VE(a,s,r)},n.SS=function(e,s,r,o){if(Math.abs(s.x-r.x)>Math.PI||Math.abs(s.y)>.5*Math.PI||Math.abs(r.y)>.5*Math.PI||(Math.abs(s.y)==.5*Math.PI||Math.abs(r.y)==.5*Math.PI)&&s.x!=r.x)return NaN;if(o=n.cB(o,Math.min(s.x,r.x),Math.max(s.x,r.x)),!new t.Nc(s.x,r.x).contains(o))return NaN;var h=i.construct(s);if(r=i.construct(r),h=n.Yu(e,h),r=n.Yu(e,r),(r=h.cF(r)).z.qg())return s.y;var a=new t.Wb;a.set(r.x),a.jm(r.z),a.No(-1);var u=new t.Wb;u.set(r.y),u.jm(r.z),u.No(-1);var c=new t.Wb;return c.set(u),c.Ag(u),(h=new t.Wb).set(a),h.Ag(a),h.add(c),h.sqrt(),h.qg()||a.qg()&&u.qg()?s.y:(s=Math.atan2(u.value(),a.value()),s=Math.atan2(h.value()*Math.cos(s-o),1-e),o=n.DP(e,t.h.construct(o,s)),e=new t.Nd(o.x,o.y,-o.z),o=r.value().Qh(o),e=r.value().Qh(e),Math.abs(e)<Math.abs(o)&&(s=-s),s)},n.Oz=function(e,s,r,o,h){if(h[0]=NaN,h[1]=NaN,Math.abs(s.x-r.x)>Math.PI||Math.abs(s.y)>.5*Math.PI||Math.abs(r.y)>.5*Math.PI||(Math.abs(s.y)==.5*Math.PI||Math.abs(r.y)==.5*Math.PI)&&s.x!=r.x||Math.abs(o)>=.5*Math.PI||0<s.y&&0<r.y&&s.y>o&&r.y>o||0>s.y&&0>r.y&&s.y<o&&r.y<o)return 0;var a=i.construct(s),u=i.construct(r);a=n.Yu(e,a),u=n.Yu(e,u);var c=a.cF(u);if(c.z.qg())return new t.Nc(s.y,r.y).contains(o)?(h[0]=s.x,1):0;(u=new t.Wb).set(c.x),u.jm(c.z),u.No(-1),(a=new t.Wb).set(c.y),a.jm(c.z),a.No(-1),(c=new t.Wb).set(a),c.Ag(a);var l=new t.Wb;return l.set(u),l.Ag(u),l.add(c),l.sqrt(),l.qg()||u.qg()&&a.qg()?0==o?(h[0]=s.x,h[1]=r.x,2):0:(e=(1-e)*Math.tan(o)/l.value(),1<Math.abs(e)?0:(e=Math.acos(e),c=Math.atan2(a.value(),u.value()),u=Math.min(s.x,r.x),a=Math.max(s.x,r.x),r=n.cB(c-e,u,a),e=0!=o?n.cB(c+e,u,a):r,o=0,u<=r&&r<=a&&(h[o]=r,o++),e!=r&&u<=e&&e<=a&&(h[o]=e,2==++o&&Math.abs(h[0]-s.x)>Math.abs(h[1]-s.x)&&(s=h[0],h[0]=h[1],h[1]=s)),o))},n.cB=function(t,i,e){return t>e?t-=2*(i=Math.ceil((t-e)/(2*Math.PI)))*Math.PI:t<i&&(t+=2*(i=Math.ceil((i-t)/(2*Math.PI)))*Math.PI),t},n}()}(W||(W={})),function(t){t.XK=function(){function i(){}return i.$X=function(e,n){var s=[0,0,0,0],r=new t.h;r.L(n),r.scale(9102==t.cb.sc(e).Hd().Ec()?1:t.cb.sc(e).Hd().ai/3.141592653589793*180),-180>r.x?(r.x-=r.x%360,-180>r.x&&(r.x+=360)):180<r.x&&(r.x-=r.x%360,180<r.x&&(r.x-=360)),90<r.y&&(r.y=90),-90>r.y&&(r.y=-90);for(var o=-180,h=180,a=(e=40)-1,u=(n=(e+31)/32)-1;0<=u;u--)for(var c=a-32*u,l=Math.min(32,e-32*u),f=1;f<l;f+=2){var p=.5*(h+o);r.x>=p?(s[u]|=1<<c,o=p):h=p,c-=2,a-=2}for(o=-90,h=90,a=e-2,u=n-1;0<=u;u--)for(c=a-32*u,l=Math.min(32,e-32*u),f=0;f<l;f+=2)p=.5*(h+o),r.y>=p?(s[u]|=1<<c,o=p):h=p,c-=2,a-=2;return i.$P(s,8,8)},i.$P=function(t,i,e){for(var n=[],s=0;s<i;s++)n[s]="";for(var r=s=0,o=0;o<i;o++){var h=t[s]>>r&31;if(31<(r+=5)){var a=37-r;h&=(1<<a)-1,r-=32,h|=(t[++s]&(1<<r)-1)<<a}n[i-1-o]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[h]}if(e>i)for(o=0;o<e-i;o++)n.push("0");else e<i&&(n.length=e);return n.join("")},i}()}(W||(W={})),function(t){var i={gcstol:[0,2e-9,1,2.241706620489156e-9,2,2.313672246530541e-9,3,8.98240164660333e-9,4,8.982433838020134e-9,5,8.982439417325895e-9,6,8.982466029667677e-9,7,8.982476760268133e-9,8,8.982492642167149e-9,9,8.98251968292634e-9,10,8.98253685210448e-9,11,8.982546725256576e-9,12,8.982557456049832e-9,13,8.98257333682596e-9,14,8.982575482995276e-9,15,8.982578488197342e-9,16,8.982579775336987e-9,17,8.9825840676828e-9,18,8.982599090925448e-9,19,8.982605529473397e-9,20,8.982609220517402e-9,21,8.982611968030573e-9,22,8.982616260407152e-9,23,8.982620552787834e-9,24,8.982633429954492e-9,25,8.982637722351582e-9,26,8.98264416095491e-9,27,8.982646307158072e-9,28,8.982654891980968e-9,29,8.982667769246082e-9,30,8.982674207892485e-9,31,8.982680646548117e-9,32,8.982682792768713e-9,33,8.982685798042582e-9,34,8.982689231436652e-9,35,8.98269137766135e-9,36,8.98269266624163e-9,37,8.982705114087017e-9,38,8.982706830791106e-9,39,8.982711958374661e-9,40,8.982712839964735e-9,41,8.982717991496125e-9,42,8.982721424914803e-9,43,8.982723571154887e-9,44,8.982727863638127e-9,45,8.982730868942154e-9,46,8.982734302370678e-9,47,8.982745033612112e-9,48,8.982751472369276e-9,49,8.982755764879183e-9,50,8.982762203651733e-9,51,8.982764776628385e-9,52,8.982766496171896e-9,53,8.98277722749025e-9,54,8.98278152002477e-9,55,8.98279933943848e-9,56,8.9829143024805e-9,57,8.982922161948598e-9,58,8.98292327314211e-9,59,8.982925667349601e-9,60,8.982932222965576e-9,61,8.982961298941316e-9,62,8.982965524049989e-9,63,8.982994818246099e-9,64,8.982994895706967e-9,65,8.98299489597736e-9,66,8.983000733443498e-9,67,8.983055097289157e-9,68,8.983064111047368e-9,69,8.983111996941178e-9,70,8.983120447446023e-9,71,8.98312748954554e-9,72,8.983134531656096e-9,73,8.983141573777694e-9,74,8.983148615910332e-9,75,8.983152841195215e-9,76,8.983153545409748e-9,77,8.983153827095593e-9,78,8.98315396793852e-9,79,8.983154249624393e-9,80,8.983155658054012e-9,81,8.983960794340072e-9,82,8.984061344391998e-9,83,8.984072829255685e-9,84,8.984194981201908e-9,85,8.984275233099427e-9,86,8.984326127007554e-9,87,8.984330099816539e-9,88,8.98433275258421e-9,89,8.984333047023206e-9,90,8.984333885258723e-9,91,8.984337959508212e-9,92,8.984365176209457e-9,93,8.984727360418079e-9,94,8.984901041679577e-9,95,8.98542662091587e-9,96,8.98610024130669e-9,97,8.992894229037531e-9,98,8.993203677616635e-9,99,8.993206178094346e-9,100,8.993216059187305e-9,101,8.99322029394808e-9,102,8.994627867045891e-9,103,9.467559984315793e-9,104,9.46881168618118e-9,105,9.980888154931644e-9,106,9.981105353606775e-9,107,9.983807356573187e-9,108,1.687060485811522e-8,109,1.688447560354875e-8,110,2.176606011487185e-8,111,2.225078816042032e-8,112,2.348476432064694e-8,113,2.348765250187846e-8,114,2.378108974103778e-8,115,3.14559636297708e-8,116,3.297788621680806e-8,117,3.667892343788279e-8,118,4.235973644320739e-8,119,4.794625900676345e-8,120,7.262742998235812e-8,121,7.499447580246377e-8,122,7.525056410964318e-8,123,7.979913581209237e-8,124,9.662020153976783e-8,125,9.799175562353741e-8,126,9.897353517547472e-8,127,1.02313891987647e-7,128,1.081460541960784e-7,129,1.21905913857622e-7,130,2.246893314238523e-7,131,2.297344808062643e-7,132,2.42984645941825e-7,133,2.754604784282804e-7,134,2.884548130346993e-7,135,3.370339971357784e-7,136,4.307953346848296e-7,137,5.208707228462029e-7,138,5.509209568565608e-7,139,6.452227422644406e-7,140,6.740679942715567e-7,141,6.861770001566745e-7,142,7.252630318111686e-7,143,7.441010326374328e-7,144,7.742672907173287e-7,145,9.629542775307953e-7,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6.666666666666667e-9,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},e={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};t.wr=function(){function t(){}return t.Sy=function(i){!1===t.xp&&t.yt();var e=t.FQ(i);if(-1==e){var n=t.Bx(i);n!=i&&(e=t.Sy(n))}return-1==e&&(n=t.FK(i))!=i&&(e=t.Sy(n)),e},t.FQ=function(i){return void 0!==t.Fw[i]?t.Fw[i]:-1},t.CQ=function(i){!1===t.xp&&t.yt();var e=t.nF(i);if(1e38==e){var n=t.Bx(i);if(n!=i&&(e=t.nF(n)),1e38==e)return 1e-10}return e},t.ZS=function(i){if(void 0!==t.Is[i])return!0;var e=t.Bx(i);return e!=i&&void 0!==t.Is[e]},t.aT=function(i){if(void 0!==t.xo[i])return!0;var e=t.Bx(i);return e!=i&&void 0!==t.xo[e]},t.nF=function(i){return!1===t.xp&&t.yt(),void 0!==t.Is[i]?t.Is[i]:void 0!==t.xo[i]?t.xo[i]:1e38},t.FK=function(i){return!1===t.xp&&t.yt(),void 0!==t.WA[i]?t.WA[i]:i},t.Bx=function(i){return!1===t.xp&&t.yt(),void 0!==t.XA[i]?t.XA[i]:i},t.yt=function(){for(var n,s=i,r=0;r<s.pcsid.length;r+=2)t.xo[s.pcsid[r]]=s.pcstol[2*s.pcsid[r+1]+1];for(r=0;r<s.pcsidc.length;r+=1)for(var o=(n=s.pcsidc[r])[0];o<=n[1];o++)t.xo[o]=s.pcstol[2*n[2]+1];for(r=0;r<s.gcsid.length;r+=2)t.Is[s.gcsid[r]]=s.gcstol[2*s.gcsid[r+1]+1];for(r=0;r<s.gcsidc.length;r+=1)for(o=(n=s.gcsidc[r])[0];o<=n[1];o++)t.xo[o]=s.gcstol[2*n[2]+1];for(r=0;r<e.c.length;r+=1)for(o=(n=e.c[r])[0];o<=n[1];o++)t.Fw[o]=n[2];for(r=0;r<e.nc.length;r+=2)t.Fw[e.nc[r]]=e.nc[r+1];for(e=null,r=0;r<s.newtoold.length;r+=2)t.WA[s.newtoold[r+1]]=s.newtoold[r],t.XA[s.newtoold[r]]=s.newtoold[r+1];i=null,t.xp=!0},t.xp=!1,t.Is=[],t.xo=[],t.WA=[],t.XA=[],t.Fw=[],t}()}(W||(W={})),function(t){function i(t){return 0===t.length?'""':'"'==t[0]||"."==t[0]||"0"<=t[0]&&"9">=t[0]?t:'"'+t.trim()+'"'}var e=[];t.XC=function(){function n(){}return n.EQ=function(s){try{for(var r=0;r<e.length;r++)if(e[r].wkttext===s)return e[r].unit;for(var o,h=r="",a=!1,u=0;u<s.length;u++){var c=s[u];!0===a?'"'==c?'"'==s[u+1]?r+=c:a=a=!1:r+=c:/[\s]/.test(c)||(","==c?(h=""!==r?h+(i(r)+","):h+",",r=""):")"==c||"]"==c?(h=""!==r?h+(i(r)+"]}"):h+"]}",r=""):"("==c||"["==c?(h+='{ "entity": "'+r.toUpperCase().trim()+'", "values":[',r=""):'"'==c?(a=!0,r=""):r+=c)}o=JSON.parse(h);var l=n.mF(o);if(null===l)return null;for(o=null,c=0;c<l.values.length;c++)if("object"==typeof l.values[c]&&("UNIT"===l.values[c].entity||"ANGLEUNIT"===l.values[c].entity||"LENGTHUNIT"===l.values[c].entity)){o=l.values[c];break}if(null===o)return null;var f=t.Tc.ZO("GEOGCS"===l.entity||"GEOGCRS"===l.entity?1:0,o.values[1],o.values[2]);return e.push({wkttext:s,unit:f}),10<e.length&&e.shift(),f}catch(t){return null}},n.mF=function(t){if(null===t)return null;switch(t.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t}for(var i=[],e=0;e<t.values.length;e++)if("object"==typeof t.values[e]&&void 0!==t.values[e].entity)switch(t.values[e].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t.values[e];default:i.push(t.values[e])}for(t=0;t<i.length;t++)if(null!==(e=n.mF(i[t])))return e;return null},n.DQ=function(t){var i=-1;if(null!=t&&0<t.length){var e=t.search(/PROJCR?S/);if(0<=e){var n=0;if(0<=(e=t.lastIndexOf("UNIT"))&&0<(e=t.indexOf(",",e+4))){e++;var s=t.indexOf("]",e+1);if(0<s)try{n=parseFloat(t.substring(e,s))}catch(t){n=0}}0<n&&(i=.001/n)}else if(0<=(e=t.search(/GEOGCR?S/))){var r=0;if(n=0,-1===(e=t.indexOf("SPHEROID",e+6))&&(e=t.indexOf("ELLIPSOID",e+7)),0<e&&0<(e=t.indexOf(",",e+8))){if(e++,0<(s=t.indexOf(",",e+1)))try{r=parseFloat(t.substring(e,s))}catch(t){r=0}if(0<r&&(-1===(e=t.lastIndexOf("ANGLEUNIT",s+1))&&(e=t.lastIndexOf("UNIT",s+1)),0<=e&&0<(e=t.indexOf(",",e+4))&&(e++,0<(s=t.indexOf("]",e+1)))))try{n=parseFloat(t.substring(e,s))}catch(t){n=0}}0<r&&0<n&&(i=.001/(r*n))}}return i},n}()}(W||(W={})),function(t){var i;(i=t.eL||(t.eL={}))[i.NONE=0]="NONE",i[i.LINEAR=1]="LINEAR",i[i.ANGULAR=2]="ANGULAR",function(t){t[t.enumFloat=0]="enumFloat",t[t.enumDouble=1]="enumDouble",t[t.enumInt32=2]="enumInt32",t[t.enumInt64=3]="enumInt64",t[t.enumInt8=4]="enumInt8",t[t.enumInt16=5]="enumInt16"}(t.QL||(t.QL={})),function(t){t[t.POSITION=0]="POSITION",t[t.Z=1]="Z",t[t.M=2]="M",t[t.ID=3]="ID",t[t.NORMAL=4]="NORMAL",t[t.TEXTURE1D=5]="TEXTURE1D",t[t.TEXTURE2D=6]="TEXTURE2D",t[t.TEXTURE3D=7]="TEXTURE3D",t[t.ID2=8]="ID2",t[t.MAXSEMANTICS=10]="MAXSEMANTICS"}(t.Ih||(t.Ih={}));var e=function(){function i(t,e){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,void 0!==e){for(this.Aa=e.Aa,this.Oq=e.Oq,this.bg=e.bg.slice(0),this.uh=e.uh.slice(0),this.wl=e.wl,this.Vs=[],t=e=0;t<this.Aa;t++)this.Vs[t]=e,e+=i.Va(this.bg[t]);for(this.Oq=e,this.Ae=[],t=0;t<this.Aa;t++){e=i.Va(this.kd(t));for(var n=i.se(this.kd(t)),s=0;s<e;s++)this.Ae[this.Vs[t]+s]=n}}else this.Oq=this.Aa=0}return i.prototype.kd=function(i){if(0>i||i>this.Aa)throw t.i.N();return this.bg[i]},i.prototype.Pf=function(t){return this.uh[t]},i.lz=function(t){return i.JM[t]},i.Tp=function(t){return i.SM[t]},i.Va=function(t){return i.rM[t]},i.prototype.hasAttribute=function(t){return 0<=this.uh[t]},i.prototype.iG=function(){return this.hasAttribute(1)},i.se=function(t){return i.eD[t]},i.prototype.LR=function(t){return this.Vs[t]},i.DG=function(t,e){return i.eD[t]===e},i.prototype.Nb=function(t){return this===t},i.prototype.An=function(){for(var i=t.O.Th(this.bg[0]),e=1;e<this.Aa;e++)i=t.O.Th(this.bg[e],i);return i},i.prototype.$j=function(t){return this.Vs[t]},i.prototype.cc=function(){return this.wl},i.prototype.Ed=function(t){return this.bg[t]},i.eD=[0,0,NaN,0,0,0,0,0,0],i.JM=[1,1,1,0,2,1,1,1,0],i.SM=[1,1,1,2,0,0,0,0,2],i.rM=[2,1,1,1,3,1,2,3,2],i}();t.ra=e}(W||(W={})),function(t){function i(t,i,n){var r=i-(t=new h(t)).e,o=t.c;for(o.length>++i&&e(t,r,h.eu),o[0]?n?r=i:(o=t.c,r=t.e+r+1):++r;o.length<r;o.push(0));return r=t.e,1===n||n&&(i<=r||r<=s)?(0>t.Bd&&o[0]?"-":"")+(1<o.length?o[0]+"."+o.join("").slice(1):o[0])+(0>r?"e":"e+")+r:t.toString()}function e(t,i,e,s){var r=t.c,o=t.e+i+1;if(1===e?s=5<=r[o]:2===e?s=5<r[o]||5==r[o]&&(s||0>o||void 0!==r[o+1]||1&r[o-1]):3===e?s=s||void 0!==r[o]||0>o:(s=!1,0!==e&&n("!Big.RM!")),1>o||!r[0])s?(t.e=-i,t.c=[1]):t.c=[t.e=0];else{if(r.length=o--,s)for(;9<++r[o];)r[o]=0,o--||(++t.e,r.unshift(1));for(o=r.length;!r[--o];r.pop());}return t}function n(t){throw(t=Error(t)).name="BigError",t}var s=-7,r=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=function(){function t(i){if(i instanceof t)this.Bd=i.Bd,this.e=i.e,this.c=i.c.slice();else{var e,s,r;for(0===i&&0>1/i?i="-0":o.test(i+="")||n(NaN),this.Bd="-"==i.charAt(0)?(i=i.slice(1),-1):1,-1<(e=i.indexOf("."))&&(i=i.replace(".","")),0<(s=i.search(/e/i))?(0>e&&(e=s),e+=+i.slice(s+1),i=i.substring(0,s)):0>e&&(e=i.length),s=0;"0"==i.charAt(s);s++);if(s==(r=i.length))this.c=[this.e=0];else{for(;"0"==i.charAt(--r););for(this.e=e-s-1,this.c=[],e=0;s<=r;this.c[e++]=+i.charAt(s++));}}}return t.prototype.abs=function(){var i=new t(this);return i.Bd=1,i},t.prototype.cmp=function(i){var e=this.c,n=(i=new t(i)).c,s=this.Bd,r=i.Bd,o=this.e,h=i.e;if(!e[0]||!n[0])return e[0]?s:n[0]?-r:0;if(s!=r)return s;if(i=0>s,o!=h)return o>(h^i)?1:-1;for(s=-1,r=(o=e.length)<(h=n.length)?o:h;++s<r;)if(e[s]!=n[s])return e[s]>(n[s]^i)?1:-1;return o==h?0:o>(h^i)?1:-1},t.prototype.jm=function(i){var s=this.c,r=(i=new t(i)).c,o=this.Bd==i.Bd?1:-1,h=t.rr;if((h!==~~h||0>h||1e6<h)&&n("!Big.DP!"),!s[0]||!r[0])return s[0]==r[0]&&n(NaN),r[0]||n(o/0),new t(0*o);var a,u,c=r.slice(),l=a=r.length,f=s.length,p=s.slice(0,a),d=p.length,v=i,y=v.c=[],g=0,b=h+(v.e=this.e-i.e)+1;for(v.Bd=o,o=0>b?0:b,c.unshift(0);d++<a;p.push(0));do{for(u=0;10>u;u++){if(a!=(d=p.length))var w=a>d?1:-1;else{var m=-1;for(w=0;++m<a;)if(r[m]!=p[m]){w=r[m]>p[m]?1:-1;break}}if(!(0>w))break;for(i=d==a?r:c;d;){if(p[--d]<i[d]){for(m=d;m&&!p[--m];p[m]=9);--p[m],p[d]+=10}p[d]-=i[d]}for(;!p[0];p.shift());}y[g++]=w?u:++u,p[0]&&w?p[d]=s[l]||0:p=[s[l]]}while((l++<f||void 0!==p[0])&&o--);return y[0]||1==g||(y.shift(),v.e--),g>b&&e(v,h,t.eu,void 0!==p[0]),v},t.prototype.fS=function(){return 0<this.cmp(0)},t.prototype.nT=function(){return 0>this.cmp(0)},t.prototype.jt=function(i){var e,n=this.Bd,s=(i=new t(i)).Bd;if(n!=s)return i.Bd=-s,this.tI(i);var r=this.c.slice(),o=this.e,h=i.c,a=i.e;if(!r[0]||!h[0])return h[0]?(i.Bd=-s,i):new t(r[0]?this:0);if(n=o-a){for((e=0>n)?(n=-n,o=r):(a=o,o=h),o.reverse(),s=n;s--;o.push(0));o.reverse()}else for(o=((e=r.length<h.length)?r:h).length,n=s=0;s<o;s++)if(r[s]!=h[s]){e=r[s]<h[s];break}if(e&&(o=r,r=h,h=o,i.Bd=-i.Bd),0<(s=(o=h.length)-(e=r.length)))for(;s--;r[e++]=0);for(s=e;o>n;){if(r[--o]<h[o]){for(e=o;e&&!r[--e];r[e]=9);--r[e],r[o]+=10}r[o]-=h[o]}for(;0==r[--s];r.pop());for(;0==r[0];)r.shift(),--a;return r[0]||(i.Bd=1,r=[a=0]),i.c=r,i.e=a,i},t.prototype.tI=function(i){var e=this.Bd,n=(i=new t(i)).Bd;if(e!=n)return i.Bd=-n,this.jt(i);n=this.e;var s=this.c,r=i.e,o=i.c;if(!s[0]||!o[0])return o[0]?i:new t(s[0]?this:0*e);if(s=s.slice(),e=n-r){for(0<e?(r=n,n=o):(e=-e,n=s),n.reverse();e--;n.push(0));n.reverse()}for(0>s.length-o.length&&(n=o,o=s,s=n),e=o.length,n=0;e;)n=(s[--e]=s[e]+o[e]+n)/10|0,s[e]%=10;for(n&&(s.unshift(n),++r),e=s.length;0==s[--e];s.pop());return i.c=s,i.e=r,i},t.prototype.pow=function(i){var e=this,s=new t(1),r=s,o=0>i;for((i!==~~i||-1e6>i||1e6<i)&&n("!pow!"),i=o?-i:i;1&i&&(r=r.lr(e)),i>>=1;)e=e.lr(e);return o?s.jm(r):r},t.prototype.round=function(i,s){var r=this;return null==i?i=0:(i!==~~i||0>i||1e6<i)&&n("!round!"),e(r=new t(r),i,s??t.eu),r},t.prototype.sqrt=function(){var i=this.c,s=this.Bd,r=this.e,o=new t("0.5");if(!i[0])return new t(this);0>s&&n(NaN),0==(s=Math.sqrt(this.toString()))||s==1/0?((s=i.join("")).length+r&1||(s+="0"),(i=new t(Math.sqrt(s).toString())).e=((r+1)/2|0)-(0>r||1&r)):i=new t(s.toString()),s=i.e+(t.rr+=4);do{r=i,i=o.lr(r.tI(this.jm(r)))}while(r.c.slice(0,s).join("")!==i.c.slice(0,s).join(""));return e(i,t.rr-=4,t.eu),i},t.prototype.lr=function(i){var e=this.c,n=(i=new t(i)).c,s=e.length,r=n.length,o=this.e,h=i.e;if(i.Bd=this.Bd==i.Bd?1:-1,!e[0]||!n[0])return new t(0*i.Bd);if(i.e=o+h,s<r){var a=e;e=n,n=a,h=s,s=r,r=h}for(a=Array(h=s+r);h--;a[h]=0);for(o=r;o--;){for(r=0,h=s+o;h>o;)r=a[h]+n[o]*e[h-o-1]+r,a[h--]=r%10,r=r/10|0;a[h]=(a[h]+r)%10}for(r&&++i.e,a[0]||a.shift(),o=a.length;!a[--o];a.pop());return i.c=a,i},t.prototype.toString=function(){var t=this.e,i=this.c.join(""),e=i.length;if(t<=s||t>=r)i=i.charAt(0)+(1<e?"."+i.slice(1):"")+(0>t?"e":"e+")+t;else if(0>t){for(;++t;i="0"+i);i="0."+i}else if(0<t)if(++t>e)for(t-=e;t--;i+="0");else t<e&&(i=i.slice(0,t)+"."+i.slice(t));else 1<e&&(i=i.charAt(0)+"."+i.slice(1));return 0>this.Bd&&this.c[0]?"-"+i:i},t.prototype.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||0>t||1e6<t)&&n("!toExp!"),i(this,t,1)},t.prototype.toFixed=function(t){var e=s,o=r;if(s=-(r=1/0),null==t)var h=this.toString();else t===~~t&&0<=t&&1e6>=t&&(h=i(this,this.e+t),0>this.Bd&&this.c[0]&&0>h.indexOf("-")&&(h="-"+h));return s=e,r=o,h||n("!toFix!"),h},t.prototype.toPrecision=function(t){return null==t?this.toString():((t!==~~t||1>t||1e6<t)&&n("!toPre!"),i(this,t-1,2))},t.rr=20,t.eu=1,t}();t.hp=h}(W||(W={})),function(t){var i=function(){function i(t){this.lf=t}return i.prototype.nr=function(i,e,n){var s=new t.h,r=new t.h,o=this.lf;n.Vd(i,e,(function(t,i){return o.tc(2*t,s),o.tc(2*i,r),s.compare(r)}))},i.prototype.$p=function(t){return this.lf.read(2*t+1)},i}();t.pi=function(){function e(){}return e.aq=function(i){if(i.B())return!1;var n=i.getType();return 1736==n?0!=i.Ke():1607==n?(n=[!1],e.sE(i,!0,n),n[0]):!(197!=n&&(!t.aa.yd(n)||i.BG()))},e.gm=function(i){var n=i.getType();if(1736==n)return n=new t.Ta(i.description),i.B()||i.dD(n),n;if(1607==n)return e.sE(i,!1,null);if(197==n)return n=new t.Ta(i.description),i.B()||n.ad(i,!1),n;if(t.aa.yd(n)){if(n=new t.de(i.description),!i.B()&&!i.BG()){var s=new t.Sa;i.To(s),n.add(s),i.Po(s),n.add(s)}return n}if(t.aa.Rn(n))return null;throw t.i.N()},e.sE=function(e,n,s){null!=s&&(s[0]=!1);var r=null;if(n||(r=new t.de(e.description)),!e.B()){var o=new t.ia(0);o.Jb(2*e.da());for(var h=0,a=e.da();h<a;h++)if(0<e.Ja(h)&&!e.Nn(h)){var u=e.Ba(h);o.add(u),u=e.Vc(h)-1,o.add(u)}if(0<o.size){a=new t.Xt,h=e.ub(0),a.sort(o,0,o.size,new i(h)),a=new t.h,h.tc(2*o.get(0),a),u=0;for(var c=1,l=new t.Sa,f=new t.h,p=1,d=o.size;p<d;p++)if(h.tc(2*o.get(p),f),f.qb(a))o.get(u)>o.get(p)?(o.set(u,2147483647),u=p):o.set(p,2147483647),c++;else{if(1&c){if(n)return null!=s&&(s[0]=!0),null}else o.set(u,2147483647);a.L(f),u=p,c=1}if(1&c){if(n)return null!=s&&(s[0]=!0),null}else o.set(u,2147483647);if(!n)for(o.Vd(0,o.size,(function(t,i){return t-i})),p=0,d=o.size;p<d&&2147483647!=o.get(p);p++)e.ve(o.get(p),l),r.add(l)}}return n?null:r},e}()}(W||(W={})),function(t){var i=function(){function i(){this.yf=new t.ia(0),this.ys=new t.ia(0),this.EH=1,this.Es=NaN}return i.prototype.sort=function(t,i,e,n){if(32>e-i)n.nr(i,e,t);else{var s=!0;try{for(var r=1/0,o=-1/0,h=i;h<e;h++){var a=n.$p(t.get(h));a<r&&(r=a),a>o&&(o=a)}if(this.reset(e-i,r,o,e-i)){for(h=i;h<e;h++){var u=t.get(h);a=n.$p(u);var c=this.zF(a);this.yf.set(c,this.yf.get(c)+1),this.ys.write(h-i,u)}var l=this.yf.get(0);this.yf.set(0,0),h=1;for(var f=this.yf.size;h<f;h++){var p=this.yf.get(h);this.yf.set(h,l),l+=p}for(h=i;h<e;h++){u=this.ys.read(h-i),a=n.$p(u),c=this.zF(a);var d=this.yf.get(c);t.set(d+i,u),this.yf.set(c,d+1)}s=!1}}catch(t){this.yf.resize(0),this.ys.resize(0)}if(s)n.nr(i,e,t);else{for(h=e=0,f=this.yf.size;h<f;h++)s=e,(e=this.yf.get(h))>s&&n.nr(i+s,i+e,t);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},i.prototype.reset=function(t,e,n,s){return!(2>t||n==e||(t=Math.min(i.hL,t),this.yf.Jb(t),this.yf.resize(t),this.yf.Wj(0,0,this.yf.size),this.EH=e,this.ys.resize(s),this.Es=(n-e)/(t-1),0))},i.prototype.zF=function(i){return t.O.truncate((i-this.EH)/this.Es)},i.hL=65536,i}();t.Xt=i}(W||(W={})),function(t){var i,e;(e=i||(i={}))[e.enum_line=1]="enum_line",e[e.enum_arc=2]="enum_arc",e[e.enum_dummy=4]="enum_dummy",e[e.enum_concave_dip=8]="enum_concave_dip",e[e.enum_connection=3]="enum_connection";var n=function(){function i(){}return i.Qu=function(e,n,s,r,o,h){var a=new i;return a.Im=new t.h,a.Vm=new t.h,a.aw=new t.h,a.Im.L(e),a.Vm.L(n),a.aw.L(s),a.Co=r,a.qh=o,a.sh=h,a},i.construct=function(e,n,s,r){var o=new i;return o.Im=new t.h,o.Vm=new t.h,o.aw=new t.h,o.Im.L(e),o.Vm.L(n),o.aw.Rc(),o.Co=4,o.qh=s,o.sh=r,o},i}(),s=function(){function i(t,i,e,n,s,r){this.Yv=null,this.ya=0,this.EA=t,this.bI=this.$H=0,this.Ka=i,this.Mj=e,this.vk=n,this.Dq=s,this.Ub=r}return i.prototype.next=function(){for(var i=new t.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,i),this.ya++,!i.B())break}var e=!1;if(null==this.Yv&&(this.$H=i.Lg(),this.bI=i.ih(),this.Yv=h.buffer(i,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),e=!0),this.ya<this.EA.I()){var n=new t.Da;this.Yv.copyTo(n)}else n=this.Yv;if(!e){e=new t.Dd;var s=i.Lg()-this.$H;i=i.ih()-this.bI,e.gg(s,i),n.Oc(e)}return n},i.prototype.La=function(){return 0},i.prototype.qe=function(){},i}(),r=function(){function i(t,i){this.Wa=t,this.ya=0,this.oq=i}return i.prototype.next=function(){var i=this.Wa.X;if(this.ya<i.da()){var e=this.ya;if(this.ya++,!i.Nn(e))for(var n=i.Na(i.Vc(e)-1);this.ya<i.da();){var s=i.Na(i.Ba(this.ya));if(i.Nn(this.ya))break;if(s!=n)break;n=i.Na(i.Vc(this.ya)-1),this.ya++}if(1==this.ya-e)return this.Wa.kE(this.Wa.X,e,this.oq);for((n=new t.Ta(this.Wa.X.description)).addPath(this.Wa.X,e,!0),e+=1;e<this.ya;e++)n.Dr(this.Wa.X,e,0,i.rv(e),!1);return this.Wa.kE(n,0,this.oq)}return null},i.prototype.La=function(){return 0},i.prototype.qe=function(){},i}(),o=function(){function t(t){this.Wa=t,this.ya=0}return t.prototype.next=function(){var t=this.Wa.X;if(this.ya<t.da()){var i=this.ya;for(t.Ir(this.ya),this.ya++;this.ya<t.da()&&!(0<t.Ir(this.ya));)this.ya++;return 0==i&&this.ya==t.da()?this.Wa.py(t,0,t.da()):this.Wa.py(t,i,this.ya)}return null},t.prototype.La=function(){return 0},t.prototype.qe=function(){},t}(),h=function(){function i(t){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=t,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return i.buffer=function(e,n,s,r,o,h){if(null==e)throw t.i.N();if(0>r)throw t.i.N();if(e.B())return new t.Da(e.description);var a=new t.l;return e.xc(a),0<n&&a.W(n,n),(h=new i(h)).Mj=s,h.X=e,h.qa=t.ta.Wd(s,a,!0),h.ct=t.ta.Wd(null,a,!0),h.Ka=n,h.JT=e.getType(),0>=o&&(o=96),h.rb=Math.abs(h.Ka),h.Kv=0!=h.rb?1/h.rb:0,isNaN(r)||0==r?r=1e-5*h.rb:r>.5*h.rb&&(r=.5*h.rb),12>o&&(o=12),(e=Math.abs(n)*(1-Math.cos(Math.PI/o)))>r?r=e:(e=Math.PI/Math.acos(1-r/Math.abs(n)))<o-1&&12>(o=t.O.truncate(e))&&(o=12,r=Math.abs(n)*(1-Math.cos(Math.PI/o))),h.vk=r,h.Dq=o,h.tA=Math.min(h.ct,.25*r),h.lE()},i.prototype.cv=function(){if(null==this.Id)this.Id=[];else if(0!==this.Id.length)return;var i=this.qE();i=t.O.truncate((i+3)/4);var e=.5*Math.PI/i;this.oA=e;for(var n=0;n<4*i;n++)this.Id.push(null);var s=Math.cos(e);e=Math.sin(e);var r=t.h.construct(0,1);for(n=0;n<i;n++)this.Id[n+0*i]=t.h.construct(r.y,-r.x),this.Id[n+1*i]=t.h.construct(-r.x,-r.y),this.Id[n+2*i]=t.h.construct(-r.y,r.x),this.Id[n+3*i]=r,(r=t.h.construct(r.x,r.y)).Bt(s,e)},i.prototype.lE=function(){var i=this.X.getType();if(t.aa.yd(i))return(i=new t.Ta(this.X.description)).oc(this.X,!0),this.X=i,this.lE();if(this.Ka<=this.qa){if(!t.aa.US(i))return new t.Da(this.X.description);if(0>=this.Ka&&(i=new t.l,this.X.A(i),i.R()<=2*-this.Ka||i.ca()<=2*this.Ka))return new t.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw t.i.Qa()}},i.prototype.RN=function(){if(this.EG(this.X)){var i=new t.Sa;this.X.ve(0,i);var e=new t.l;return this.X.A(e),i.Cb(e.sf()),this.Gu(i)}return this.X=this.WV(this.X),i=new r(this,this.oq),t.Gh.local().V(i,this.Mj,this.Ub).next()},i.prototype.QN=function(){if(0==this.Ka)return this.X;var i=t.Yl.local();if(this.cv(),this.X=i.V(this.X,null,!1,this.Ub),0>this.Ka){var e=this.X;return e=this.py(e,0,e.da()),i.V(e,this.Mj,!1,this.Ub)}return this.EG(this.X)?(i=new t.Sa,this.X.ve(0,i),e=new t.l,this.X.A(e),i.Cb(e.sf()),this.Gu(i)):(i=new o(this),t.Gh.local().V(i,this.Mj,this.Ub).next())},i.prototype.py=function(e,n,s){for(var r=new t.Da(e.description);n<s;n++)if(!(1>e.Ja(n))){var o=e.Ir(n),h=new t.l;if(e.Rj(n,h),0<this.Ka){if(0<o)if(this.FG(e,n))o=new t.Sa,e.ve(e.Ba(n),o),o.Cb(h.sf()),this.yu(r,o);else{var a=o=new t.Ta(e.description);a=t.Zt.JG(this.X,n)||2==this.zn(this.X,n,a,!0,1)?this.jE(e,n):this.yn(o),r.add(a,!1)}else if(!(h.R()+this.qa<=2*this.rb||h.ca()+this.qa<=2*this.rb||(a=o=new t.Ta(e.description),this.zn(this.X,n,a,!0,1),o.B()))){var u=new t.l;for(u.K(h),u.W(this.rb,this.rb),a.tp(u),h=1,o=(a=this.yn(o)).da();h<o;h++)r.addPath(a,h,!0)}}else if(0<o){if(!(h.R()+this.qa<=2*this.rb||h.ca()+this.qa<=2*this.rb||(a=o=new t.Ta(e.description),this.zn(this.X,n,a,!0,-1),o.B())))for(u=new t.l,a.xc(u),u.W(this.rb,this.rb),a.tp(u),h=1,o=(a=this.yn(o)).da();h<o;h++)r.addPath(a,h,!0)}else for(a=o=new t.Ta(e.description),this.zn(this.X,n,a,!0,-1),h=0,o=(a=this.yn(o)).da();h<o;h++)r.addPath(a,h,!0)}if(0<this.Ka)return 1<r.da()?r=this.yn(r):i.kx(r);if(e=new t.l,r.xc(e),r.B())return i.kx(r);for(e.W(this.rb,this.rb),r.tp(e),r=this.yn(r),e=new t.Da(r.description),h=1,o=r.da();h<o;h++)e.addPath(r,h,!1);return i.kx(e)},i.prototype.PN=function(){return this.Gu(this.X)},i.prototype.Gu=function(i){var e=new t.Da(this.X.description);return this.yu(e,i),this.sX(e)},i.prototype.ON=function(){var i=new s(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return t.Gh.local().V(i,this.Mj,this.Ub).next()},i.prototype.LN=function(){var i=new t.Da(this.X.description);if(0>=this.Ka){if(0==this.Ka)i.ad(this.X,!1);else{var e=new t.Fh;this.X.bn(e),e.W(this.Ka,this.Ka),i.ad(e,!1)}return i}return i.ad(this.X,!1),this.X=i,this.jE(i,0)},i.prototype.jE=function(e,n){this.cv();var s=new t.Da(e.description),r=new t.h,o=new t.h,h=new t.h,a=new t.h,u=new t.h,c=new t.h,l=new t.h,f=new t.h,p=e.Ja(n),d=e.Ba(n),v=0;for(n=e.Ja(n);v<n;v++){if(e.D(d+v,o),e.D(d+(v+1)%p,a),e.D(d+(v+2)%p,c),l.uc(a,o),0==l.length())throw t.i.Qa();if(l.Hv(),l.normalize(),l.scale(this.rb),r.add(l,o),h.add(l,a),0==v?s.Lt(r):s.Ci(r),s.Ci(h),f.uc(c,a),0==f.length())throw t.i.Qa();f.Hv(),f.normalize(),f.scale(this.rb),u.add(f,a),this.GD(s,a,h,u,!1)}return i.kx(s)},i.prototype.kE=function(i,e,n){if(this.cv(),1>i.Ja(e))return null;if(this.FG(i,e)&&0<this.Ka){n=new t.Sa,i.ve(i.Ba(e),n);var s=new t.l;return i.Rj(e,s),n.Cb(s.sf()),this.Gu(n)}if(s=new t.Ta(i.description),i.Nn(e))this.zn(i,e,s,n,1),this.zn(i,e,s,n,-1);else{var r=new t.Ta(i.description);r.addPath(i,e,!1),r.Dr(i,e,0,i.rv(e),!1),this.zn(r,0,s,n,1)}return this.yn(s)},i.prototype.Xq=function(){if(this.Ys++,0==this.Ys%1024&&null!=this.Ub&&!this.Ub.progress(-1,-1))throw t.i.fu("user_canceled")},i.prototype.yn=function(i){return t.Fg.Mk(i,this.ct,!0,!0,this.Ub)},i.prototype.qE=function(){if(0==this.vk)return this.Dq;var i=1-this.vk*Math.abs(this.Kv);return 4>(i=-1>i?4:2*Math.PI/Math.acos(i)+.5)?i=4:i>this.Dq&&(i=this.Dq),t.O.truncate(i)},i.prototype.GD=function(i,e,n,s,r){this.cv();var o=new t.h;o.uc(n,e),o.scale(this.Kv);var h=new t.h;h.uc(s,e),h.scale(this.Kv),0>(o=Math.atan2(o.y,o.x)/this.oA)&&(o=this.Id.length+o),o=this.Id.length-o,0>(h=Math.atan2(h.y,h.x)/this.oA)&&(h=this.Id.length+h),(h=this.Id.length-h)<o&&(h+=this.Id.length);var a=t.O.truncate(h);h=t.O.truncate(Math.ceil(o)),(o=new t.h).L(this.Id[h%this.Id.length]),o.Ct(this.rb,e);var u=10*this.qa;for(o.sub(n),o.length()<u&&(h+=1),o.L(this.Id[a%this.Id.length]),o.Ct(this.rb,e),o.sub(s),o.length()<u&&--a,n=a-h,n++,a=0,h%=this.Id.length;a<n;a++,h=(h+1)%this.Id.length)o.L(this.Id[h]),o.Ct(this.rb,e),i.Ci(o),this.Xq();r&&i.Ci(s)},i.prototype.zn=function(i,e,s,r,o){var h=new t.gd,a=h.mN(i,e);if(h.Gp(this.tA,!1,!1),2>h.I(a))return 0>o||(o=i,h=new t.Sa,o.ve(o.Ba(e),h),this.yu(s,h)),1;var u=h.Na(h.Xa(h.Ob(a))),c=new t.Dd;if(c.gg(-u.x,-u.y),h.Oc(c),r&&(this.tQ(h,a,o),2>h.I(a)))return 0>o||(o=i,h=new t.Sa,o.ve(o.Ba(e),h),this.yu(s,h)),1;this.Zd.length=0;var l=h.Ob(a);e=h.Xa(l);var f=1==o?h.Ma(e):h.U(e);i=1==o?h.U(e):h.Ma(e);var p=!0;r=new t.h,a=new t.h;var d=new t.h,v=new t.h,y=new t.h,g=new t.h,b=new t.h,w=new t.h,m=new t.h,x=new t.h,M=this.rb;l=h.Ja(l);for(var _=0;_<l;_++)h.D(i,a),p&&(h.D(e,r),h.D(f,d),w.uc(r,d),w.normalize(),x.MG(w),x.scale(M),v.add(x,r)),b.uc(a,r),b.normalize(),m.MG(b),m.scale(M),y.add(r,m),f=w.wi(b),p=w.Qh(b),0>f||0>p&&0==f?this.Zd.push(n.Qu(v,y,r,2,this.Zd.length+1,this.Zd.length-1)):v.qb(y)||(this.Zd.push(n.construct(v,r,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(n.construct(r,y,this.Zd.length+1,this.Zd.length-1,"dummy"))),g.add(a,m),this.Zd.push(n.Qu(y,g,r,1,this.Zd.length+1,this.Zd.length-1)),v.L(g),x.L(m),d.L(r),r.L(a),w.L(b),f=e,e=i,p=!1,i=1==o?h.U(e):h.Ma(e);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(s),c.gg(u.x,u.y),s.YD(c,s.da()-1),1},i.prototype.YV=function(t){for(var i=this.zO(),e=!0,n=i+1,s=i;n!=i;s=n){var r=this.Zd[s];n=-1!=r.qh?r.qh:(s+1)%this.Zd.length,0!=r.Co&&(e&&t.Lt(r.Im),2==r.Co?this.GD(t,r.aw,r.Im,r.Vm,!0):t.Ci(r.Vm),e=!1)}},i.prototype.zO=function(){null==this.Ks&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var i=0,e=0,n=this.Zd.length;e<n;){var s=this.Zd[e];if(3&s.Co){i=e;break}e=s.qh}for(n=i+1,e=i;n!=i;e=n){n=(s=this.Zd[e]).qh;for(var r=1,o=null;n!=e&&!(3&(o=this.Zd[n]).Co);)n=o.qh,r++;1!=r&&1==(s.Co&o.Co)&&(null==this.Ls&&(this.Ls=new t.yb,this.lw=new t.yb),this.Ls.Dc(s.Im),this.Ls.Qc(s.Vm),this.lw.Dc(o.Im),this.lw.Qc(o.Vm),1==this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)&&(s.Vm.L(this.Ks[0]),o.Im.L(this.Ks[0]),s.qh=n,o.sh=e))}return i},i.prototype.Fv=function(i,e,n){var s=new t.h;if(s.uc(n,i),n=s.length(),0<(n=this.rb*this.rb-n*n*.25)){n=Math.sqrt(n),s.normalize(),s.ar();var r=new t.h;if(r.uc(e,i),r.Qh(s)+n>=this.rb)return!0}return!1},i.prototype.tQ=function(i,e,n){for(var s=0;1>s;s++){var r=!1,o=i.Ob(e),h=i.Ja(o);if(0==h)break;var a=h;if(3>h)break;!i.dc(o)&&(a=h-1),o=i.Xa(o),h=0<n?i.Ma(o):i.U(o);for(var u=0<n?i.U(o):i.Ma(o),c=h,l=!0,f=new t.h,p=new t.h,d=new t.h,v=new t.h,y=new t.h,g=t.h.construct(0,0),b=new t.h,w=new t.h,m=new t.h,x=new t.h,M=this.rb,_=0,k=0;k<a&&(i.D(u,p),l&&(i.D(o,f),i.D(h,d),c=h),w.uc(f,d),w.normalize(),b.uc(p,f),b.normalize(),c!=u);){var A=w.wi(b),T=w.Qh(b),j=!0;if(0>A||0>T&&0==A||!this.Fv(d,f,p)||(g.L(p),j=!1,++_,r=!0),j){if(0<_)for(;(A=0<n?i.Ma(c):i.U(c))!=o;){if(i.D(A,v),!this.Fv(v,d,g)){A!=u&&this.Fv(v,d,p)&&this.Fv(v,f,p)&&(d.L(v),c=A,j=!1,++_);break}d.L(v),c=A,j=!1,++_}if(!j)continue;if(0<_){for(c=0<n?i.Ma(h):i.U(h),l=1;l<_;l++)j=0<n?i.Ma(c):i.U(c),i.pd(c,!0),c=j;m.uc(f,d),_=M*M-(_=m.length())*_*.25,M-(_=Math.sqrt(_))>.5*this.vk?(y.add(d,f),y.scale(.5),m.normalize(),m.ar(),x.L(m),x.scale(M-_),y.add(x),i.mf(h,y)):i.pd(h,!0),_=0}d.L(f),c=o}f.L(p),h=o,o=u,u=0<n?i.U(o):i.Ma(o),k++,l=!1}if(0<_){for(c=0<n?i.Ma(h):i.U(h),l=1;l<_;l++)j=0<n?i.Ma(c):i.U(c),i.pd(c,!0),c=j;y.add(d,f),y.scale(.5),m.uc(f,d),_=M*M-(_=m.length())*_*.25,_=Math.sqrt(_),m.normalize(),m.ar(),x.L(m),x.scale(M-_),y.add(x),i.mf(h,y)}if(i.Gp(this.tA,!1,!1),!r)break}},i.prototype.FG=function(i,e){if(1==i.Ja(e))return!0;var n=new t.l;return i.Rj(e,n),Math.max(n.R(),n.ca())<.5*this.vk},i.prototype.EG=function(i){var e=new t.l;return i.A(e),Math.max(e.R(),e.ca())<.5*this.vk},i.prototype.WV=function(i){for(var e=0,n=0,s=(i=t.EC.local().V(i,.25*this.vk,!1,this.Ub)).da();n<s;n++)e=Math.max(i.Ja(n),e);return 32>e?(this.oq=!1,i):(this.oq=!0,t.Fg.Mk(i,this.ct,!1,!0,this.Ub))},i.prototype.yu=function(i,e){if(e=e.D(),null!=this.Id&&0!==this.Id.length){var n=new t.h;n.L(this.Id[0]),n.Ct(this.rb,e),i.Lt(n);for(var s=1,r=this.Id.length;s<r;s++)n.L(this.Id[s]),n.Ct(this.rb,e),i.Ci(n)}else{s=this.qE(),n=t.O.truncate((s+3)/4),s=.5*Math.PI/n,r=Math.cos(s);for(var o=Math.sin(s),h=new t.h,a=3;0<=a;a--){switch(h.ma(0,this.rb),a){case 0:for(s=0;s<n;s++)i.yj(h.x+e.x,h.y+e.y),h.Bt(r,o);break;case 1:for(s=0;s<n;s++)i.yj(-h.y+e.x,h.x+e.y),h.Bt(r,o);break;case 2:for(s=0;s<n;s++)i.yj(-h.x+e.x,-h.y+e.y),h.Bt(r,o);break;default:for(i.sx(h.y+e.x,-h.x+e.y),s=1;s<n;s++)h.Bt(r,o),i.yj(h.y+e.x,-h.x+e.y)}this.Xq()}}},i.kx=function(t){return t.Ch(1,0),t},i.prototype.sX=function(t){return t.Ch(2,this.qa),t.fm(),t},i}();t.HK=h}(W||(W={})),function(t){var i=function(){function i(i){this.Ca=i,this.g=new t.gd,this.dd=new t.ia(0)}return i.prototype.Lh=function(t,i,e){switch(i){case 0:if(t.v<e&&t.C<=e)break;return t.v>=e?1:-1;case 1:if(t.G<e&&t.H<=e)break;return t.G>=e?1:-1;case 2:if(t.v>=e&&t.C>e)break;return t.C<=e?1:-1;case 3:if(!(t.G>=e&&t.H>e))return t.H<=e?1:-1}return 0},i.prototype.Ay=function(t,i){return 1736==t.getType()?this.Cy(t,i):this.Dy(t)},i.prototype.Cy=function(i,e){if(0==this.Ca.R()||0==this.Ca.ca())return i.Ia();var n=new t.l;i.xc(n),this.X=this.g.Ib(i);var s=new t.l,r=new t.l,o=new t.h,h=new t.h,a=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0];new t.ig;var c=new t.yb,l=new t.ia(0);l.Jb(Math.min(100,i.I()));for(var f=!1,p=0;!f&&4>p;p++){var d=!1,v=!!(1&p),y=0;switch(p){case 0:y=this.Ca.v,d=n.v<=y&&n.C>=y;break;case 1:y=this.Ca.G,d=n.G<=y&&n.H>=y;break;case 2:y=this.Ca.C,d=n.v<=y&&n.C>=y;break;case 3:y=this.Ca.H,d=n.G<=y&&n.H>=y}if(d)for(f=!0,d=this.g.Ob(this.X);-1!=d;){var g=-1,b=-1,w=this.g.Xa(d),m=w;do{var x=this.g.bc(m);null==x&&(x=c,this.g.D(m,o),x.Dc(o),this.g.D(this.g.U(m),h),x.Qc(h)),x.A(s);var M=this.Lh(s,p,y),_=0,k=-1;if(-1==M){_=0<(x=x.cq(v,y,a,u))?this.g.Ul(m,u,x):0,_+=1;var A=m,T=this.g.U(A);for(x=0;x<_;x++){if(this.g.D(A,o),this.g.D(T,h),null==(k=this.g.bc(A))&&((k=c).Dc(o),k.Qc(h)),k.A(r),-1==(k=this.Lh(r,p,y))){if(v)(k=Math.abs(o.y-y))<(j=Math.abs(h.y-y))?(o.y=y,this.g.mf(A,o)):(h.y=y,this.g.mf(T,h));else{k=Math.abs(o.x-y);var j=Math.abs(h.x-y);k<j?(o.x=y,this.g.mf(A,o)):(h.x=y,this.g.mf(T,h))}null==(k=this.g.bc(A))&&((k=c).Dc(o),k.Qc(h)),k.A(r),k=this.Lh(r,p,y)}j=g,g=k,-1==b&&(b=g),0==j&&1==g||1==j&&0==g||0!=j||0!=g||l.add(A),1==g&&(f=!1),k=A=T,T=this.g.U(T)}}0==_&&(j=g,g=M,-1==b&&(b=g),0==j&&1==g||1==j&&0==g||0!=j||0!=g||l.add(m),1==g&&(f=!1),k=this.g.U(m)),m=k}while(m!=w);for(0==b&&0==g&&l.add(w),x=0,g=l.size;x<g;x++)b=l.get(x),this.g.pd(b,!1);l.clear(!1),d=3>this.g.Ja(d)?this.g.Zq(d):this.g.Rb(d)}}return f?i.Ia():(this.FB(),0<e&&this.My(e),this.g.Ne(this.X))},i.prototype.Dy=function(i){var e=new t.l,n=new t.l,s=[0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0],o=new t.ig,h=i,a=new t.l;i.xc(a);for(var u=0;4>u;u++){var c=!1,l=!!(1&u),f=0;switch(u){case 0:f=this.Ca.v,c=a.v<=f&&a.C>=f;break;case 1:f=this.Ca.G,c=a.G<=f&&a.H>=f;break;case 2:f=this.Ca.C,c=a.v<=f&&a.C>=f;break;case 3:f=this.Ca.H,c=a.G<=f&&a.H>=f}if(c){c=h,h=i.Ia(),(c=c.Ga()).Zi();for(var p,d=new t.h;c.$a();)for(var v,y=!0;c.Ha();){var g=c.ha();g.A(e);var b=this.Lh(e,u,f);if(-1==b){if(0<(b=g.cq(l,f,s,r))){var w=0;p=g.ac();for(var m=0;m<=b;m++)if(w!=(v=m<b?r[m]:1)){g.ah(w,v,o);var x=o.get();x.Dc(p),m<b&&(l?(d.x=s[m],d.y=f):(d.x=f,d.y=s[m]),x.Qc(d)),x.A(n);var M=this.Lh(n,u,f);if(-1==M){if(p=x.ac(),w=x.wc(),l)(M=Math.abs(p.y-f))<(_=Math.abs(w.y-f))?(p.y=f,x.Dc(p)):(w.y=f,x.Qc(w));else{M=Math.abs(p.x-f);var _=Math.abs(w.x-f);M<_?(p.x=f,x.Dc(p)):(w.x=f,x.Qc(w))}x.A(n),M=this.Lh(n,u,f)}p=x.wc(),w=v,1==(v=M)?(h.oc(x,y),y=!1):y=!0}}}else 1==(v=b)?(h.oc(g,y),y=!1):y=!0}}}return h},i.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var i=new t.h,e=this.g.Ob(this.X);-1!=e;e=this.g.Rb(e))for(var n=this.g.Xa(e),s=0,r=this.g.Ja(e);s<r;s++,n=this.g.U(n))this.g.D(n,i),(this.Ca.v==i.x||this.Ca.C==i.x||this.Ca.G==i.y||this.Ca.H==i.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},i.prototype.My=function(i){for(var e=new t.h,n=new t.h,s=t.O.lg(2048,0),r=this.g.Ob(this.X);-1!=r;r=this.g.Rb(r)){var o=this.g.Xa(r),h=o;do{var a=this.g.U(h);this.g.D(h,e);var u=-1;if(e.x==this.Ca.v?(this.g.D(a,n),n.x==this.Ca.v&&(u=1)):e.x==this.Ca.C&&(this.g.D(a,n),n.x==this.Ca.C&&(u=1)),e.y==this.Ca.G?(this.g.D(a,n),n.y==this.Ca.G&&(u=0)):e.y==this.Ca.H&&(this.g.D(a,n),n.y==this.Ca.H&&(u=0)),-1!=u&&(u=t.h.tb(e,n),!(1>=(u=t.O.truncate(Math.min(Math.ceil(u/i),2048)))))){for(var c=1;c<u;c++)s[c-1]=1*c/u;this.g.Ul(h,s,u-1)}h=a}while(h!=o)}},i.prototype.Vl=function(i,e){var n=this.g.Gd(),s=new t.h,r=new t.ia(0);r.Jb(100);for(var o=this.g.Ob(this.X);-1!=o;o=this.g.Rb(o))for(var h=this.g.Xa(o),a=0,u=this.g.Ja(o);a<u;a++){var c=this.g.U(h);this.g.D(h,s),(i?s.y==e:s.x==e)&&(this.g.D(c,s),(i?s.y==e:s.x==e)&&(1!=this.g.Pa(h,n)&&(r.add(h),this.g.Ra(h,n,1)),1!=this.g.Pa(c,n)&&(r.add(c),this.g.Ra(c,n,1)))),h=c}if(this.g.Td(n),!(3>r.size)){var l=this;r.Vd(0,r.size,(function(t,i){return l.Mh(t,i)})),n=new t.h,o=new t.h,h=new t.h,o.Rc();var f=-1;a=new t.ia(0),u=new t.ia(0),c=this.g.Gd();for(var p=this.g.Gd(),d=0,v=r.size;d<v;d++){var y=r.get(d);if(this.g.D(y,s),!s.qb(o)){if(-1!=f){for(var g=f;g<d;g++){f=r.get(g);var b=this.g.U(f);y=this.g.Ma(f);var w=!1;0>this.Mh(f,b)&&(this.g.D(b,n),i?n.y==e:n.x==e)&&(a.add(f),w=!0,this.g.Ra(f,p,1)),0>this.Mh(f,y)&&(this.g.D(y,n),i?n.y==e:n.x==e)&&(w||a.add(f),this.g.Ra(f,c,1))}for(g=0,w=a.size;g<w;g++){if(f=a.get(g),y=this.g.Pa(f,c),b=this.g.Pa(f,p),1==y){y=this.g.Ma(f),this.g.D(y,h);var m=[0];if(m[0]=0,!h.qb(s)){var x=t.h.tb(o,h);m[0]=t.h.tb(h,s)/x,0==m[0]?m[0]=2220446049250313e-31:1==m[0]&&(m[0]=.9999999999999998),this.g.Ul(y,m,1),y=this.g.Ma(f),this.g.mf(y,s),u.add(y),this.g.Ra(y,c,1),this.g.Ra(y,p,-1)}}1==b&&(b=this.g.U(f),this.g.D(b,h),(m=[0])[0]=0,h.qb(s)||(x=t.h.tb(o,h),m[0]=t.h.tb(o,s)/x,0==m[0]?m[0]=2220446049250313e-31:1==m[0]&&(m[0]=.9999999999999998),this.g.Ul(f,m,1),y=this.g.U(f),this.g.mf(y,s),u.add(y),this.g.Ra(y,c,-1),this.g.Ra(y,p,1)))}f=a,a=u,(u=f).clear(!1)}f=d,o.L(s)}}this.g.Td(c),this.g.Td(p)}},i.prototype.Nl=function(i,e){var n=new t.h,s=new t.ia(0);s.Jb(100);for(var r=this.g.Gd(),o=0,h=this.dd.size;o<h;o++){var a=this.dd.get(o);if(-1!=a){var u=this.g.U(a);this.g.D(a,n),(i?n.y==e:n.x==e)&&(this.g.D(u,n),(i?n.y==e:n.x==e)&&(-2!=this.g.Pa(a,r)&&(s.add(a),this.g.Ra(a,r,-2)),-2!=this.g.Pa(u,r)&&(s.add(u),this.g.Ra(u,r,-2))))}}if(0!=s.size){var c=this;for(s.Vd(0,s.size,(function(t,i){return c.Mh(t,i)})),o=0,h=s.size;o<h;o++){var l=s.get(o);this.g.Ra(l,r,o)}a=new t.h,(u=new t.h).Rc();var f=-1;for(o=0,h=s.size;o<h;o++)if(-1!=(l=s.get(o))&&(this.g.D(l,n),!n.qb(u))){if(-1!=f)for(;;){l=!1;for(var p=1<o-f?o-1:o,d=f;d<p;d++){var v=s.get(d);if(-1!=v){var y=-1,g=this.g.U(v);0>this.Mh(v,g)&&(this.g.D(g,a),i?a.y==e:a.x==e)&&(y=g),g=-1;var b=this.g.Ma(v);if(0>this.Mh(v,b)&&(this.g.D(b,a),i?a.y==e:a.x==e)&&(g=b),-1!=y&&-1!=g)this.Kh(v,s,r),this.g.pd(v,!1),this.Kh(y,s,r),this.g.pd(y,!1),l=!0;else if(-1!=y||-1!=g){for(b=d+1;b<o;b++){var w=s.get(b);if(-1!=w){var m=this.g.U(w),x=-1;0>this.Mh(w,m)&&(this.g.D(m,a),i?a.y==e:a.x==e)&&(x=m),m=this.g.Ma(w);var M=-1;if(0>this.Mh(w,m)&&(this.g.D(m,a),i?a.y==e:a.x==e)&&(M=m),-1!=x&&-1!=M){this.Kh(w,s,r),this.g.pd(w,!1),this.Kh(x,s,r),this.g.pd(x,!1),l=!0;break}if(-1!=y&&-1!=M){this.zt(s,v,y,w,M,r),l=!0;break}if(-1!=g&&-1!=x){this.zt(s,w,x,v,g,r),l=!0;break}}}if(l)break}}}if(!l)break}f=o,u.L(n)}}this.g.Td(r)},i.prototype.Kh=function(t,i,e){e=this.g.Pa(t,e),i.set(e,-1),e=this.g.Pa(t,this.ji),this.dd.set(e,-1),-1!=(i=this.g.bd(t))&&this.g.Xa(i)==t&&(this.g.Jf(i,-1),this.g.Wg(i,-1))},i.prototype.zt=function(t,i,e,n,s,r){this.g.Bc(i,n),this.g.Cc(n,i),this.g.Cc(e,s),this.g.Bc(s,e),this.Kh(n,t,r),this.g.mi(n,!1),this.Kh(s,t,r),this.g.mi(s,!0)},i.prototype.Ty=function(){for(var t=0,i=this.dd.size;t<i;t++){var e=this.dd.get(t);-1!=e&&this.g.aj(e,-1)}for(var n=0,s=0,r=this.g.Ob(this.X);-1!=r;){var o=this.g.Xa(r);if(-1==o||r!=this.g.bd(o)){var h=r;r=this.g.Rb(r),this.g.Jf(h,-1),this.g.$q(h)}else{e=o,h=0;do{this.g.aj(e,r),h++,e=this.g.U(e)}while(e!=o);2>=h?(e=this.g.Pa(o,this.ji),this.dd.set(e,-1),o=this.g.pd(o,!1),2==h&&(e=this.g.Pa(o,this.ji),this.dd.set(e,-1),this.g.pd(o,!1)),h=r,r=this.g.Rb(r),this.g.Jf(h,-1),this.g.$q(h)):(this.g.cp(r,!1),this.g.Wg(r,this.g.Ma(o)),this.g.Vj(r,h),s+=h,n++,r=this.g.Rb(r))}}for(t=0,i=this.dd.size;t<i;t++)if(-1!=(e=this.dd.get(t))&&-1==(r=this.g.bd(e))){r=this.g.vf(this.X,-1),h=0,o=e;do{this.g.aj(e,r),h++,e=this.g.U(e)}while(e!=o);2>=h?(e=this.g.Pa(o,this.ji),this.dd.set(e,-1),o=this.g.pd(o,!1),2==h&&(0<=(e=this.g.Pa(o,this.ji))&&this.dd.set(e,-1),this.g.pd(o,!1)),h=r,this.g.Jf(h,-1),this.g.$q(h)):(this.g.kn(r,!0),this.g.Vj(r,h),this.g.Jf(r,o),this.g.Wg(r,this.g.Ma(o)),this.g.cp(r,!1),s+=h,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,s),t=0,i=this.g.ld;-1!=i;i=this.g.ue(i))t+=this.g.I(i);this.g.bC(t)},i.By=function(t,e,n){return new i(e).Ay(t,n)},i.clip=function(e,n,s,r){if(e.B())return e;if(n.B())return e.Ia();if(33==(s=e.getType()))return r=e.D(),n.contains(r)?e:e.Ia();if(197==s)return r=new t.l,e.A(r),r.Ea(n)?(n=new t.Fh,e.copyTo(n),n.Xo(r),n):e.Ia();var o=new t.l;if(e.xc(o),n.contains(o))return e;if(!n.isIntersecting(o))return e.Ia();if(null!=(o=e.Bb)&&null!=(o=o.Fk)){if(1==(o=o.Ro(n))){if(1736!=s)throw t.i.Qa();return(e=new t.Da(e.description)).tp(n),e}if(0==o)return e.Ia()}switch(s){case 550:s=null,o=e.I();for(var h=e.ub(0),a=0,u=0;u<o;u++)r=new t.h,h.tc(2*u,r),n.contains(r)||(0==a&&(s=e.Ia()),a<u&&s.Fd(e,a,u),a=u+1);return 0<a&&s.Fd(e,a,o),0==a?e:s;case 1736:case 1607:return i.By(e,n,r);default:throw t.i.Qa()}},i.prototype.Mh=function(i,e){var n=new t.h;return this.g.D(i,n),i=new t.h,this.g.D(e,i),n.compare(i)},i}();t.Ud=i}(W||(W={})),function(t){var i=function(){function i(i,e){this.Ca=i,this.g=new t.gd,this.dd=new t.ia(0),this.nd=e}return i.prototype.Lh=function(t,i,e){switch(i){case 0:if(t.v<e&&t.C<=e)break;return t.v>=e?1:-1;case 1:if(t.G<e&&t.H<=e)break;return t.G>=e?1:-1;case 2:if(t.v>=e&&t.C>e)break;return t.C<=e?1:-1;case 3:if(!(t.G>=e&&t.H>e))return t.H<=e?1:-1}return 0},i.prototype.Ay=function(t,i){return 1736==t.getType()?this.Cy(t,i):this.Dy(t)},i.prototype.Cy=function(i,e){if(0==this.Ca.R()||0==this.Ca.ca())return i.Ia();var n=new t.l;i.xc(n),this.X=this.g.Ib(i);var s=new t.l,r=new t.l,o=new t.h,h=new t.h,a=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0],c=new t.yb,l=new t.ia(0);l.Jb(256);for(var f=!1,p=0;!f&&4>p;p++){var d=!1,v=!!(1&p),y=0;switch(p){case 0:y=this.Ca.v,d=n.v<=y&&n.C>=y;break;case 1:y=this.Ca.G,d=n.G<=y&&n.H>=y;break;case 2:y=this.Ca.C,d=n.v<=y&&n.C>=y;break;case 3:y=this.Ca.H,d=n.G<=y&&n.H>=y}if(d)for(f=!0,d=this.g.Ob(this.X);-1!=d;){var g=!0,b=-1,w=-1,m=this.g.Xa(d),x=m;do{var M=this.g.bc(x);null==M&&(M=c,this.g.D(x,o),M.Dc(o),this.g.D(this.g.U(x),h),M.Qc(h)),M.A(s);var _=this.Lh(s,p,y),k=0,A=-1;if(-1==_){k=0<(M=M.cq(v,y,a,u))?this.g.LX(x,u,M):0,k+=1;var T=x,j=this.g.U(T);for(M=0;M<k;M++){if(this.g.D(T,o),this.g.D(j,h),null==(A=this.g.bc(T))&&((A=c).Dc(o),A.Qc(h)),A.A(r),-1==(A=this.Lh(r,p,y))){if(v)(A=Math.abs(o.y-y))<(P=Math.abs(h.y-y))?(o.y=y,this.g.mf(T,o)):(h.y=y,this.g.mf(j,h));else{A=Math.abs(o.x-y);var P=Math.abs(h.x-y);A<P?(o.x=y,this.g.mf(T,o)):(h.x=y,this.g.mf(j,h))}null==(A=this.g.bc(T))&&((A=c).Dc(o),A.Qc(h)),A.A(r),A=this.Lh(r,p,y)}P=b,b=A,-1==w&&(w=b),0==P&&1==b||1==P&&0==b||0!=P||0!=b||l.add(T),1==b&&(g=f=!1),A=T=j,j=this.g.U(j)}}if(0==k&&(P=b,b=_,-1==w&&(w=b),0==P&&1==b||1==P&&0==b||0!=P||0!=b||l.add(x),1==b&&(g=f=!1),A=this.g.U(x)),x=A,256<=l.size){for(M=1,_=l.size-1;M<_;M++)k=l.get(M),this.g.pd(k,!1);l.set(1,l.Fc()),l.Bh(2)}}while(x!=m);if(!g)for(0==w&&0==b&&l.add(m),M=0,_=l.size;M<_;M++)k=l.get(M),this.g.pd(k,!1);l.clear(!1),d=g||0==this.g.Ja(d)?this.g.Zq(d):this.g.Rb(d)}}return f?i.Ia():(this.FB(),0<e&&this.My(e),this.g.Ne(this.X))},i.prototype.Dy=function(i){var e=new t.l,n=new t.l,s=[0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0],o=new t.ig,h=i,a=new t.l;i.xc(a);for(var u=new t.h,c=new t.h,l=null,f=null,p=0;4>p;p++){var d=!1,v=!!(1&p),y=0;switch(p){case 0:y=this.Ca.v,d=a.v<=y&&a.C>=y;break;case 1:y=this.Ca.G,d=a.G<=y&&a.H>=y;break;case 2:y=this.Ca.C,d=a.v<=y&&a.C>=y;break;case 3:y=this.Ca.H,d=a.G<=y&&a.H>=y}if(d)for(d=h,h=i.Ia(),(d=d.Ga()).Zi();d.$a();)for(var g,b=!0;d.Ha();){var w=d.ha();w.A(e);var m=this.Lh(e,p,y);if(-1==m){if(0<(m=w.cq(v,y,s,r))){var x=0;w.Yp(u);for(var M=0;M<=m;M++)if(x!=(g=M<m?r[M]:1)){w.ah(x,g,o);var _=o.get();_.Dc(u),M<m&&(v?(c.x=s[M],c.y=y):(c.x=y,c.y=s[M]),_.Qc(c)),_.A(n);var k=this.Lh(n,p,y);-1==k&&(null==l&&(l=new t.h),null==f&&(f=new t.h),_.Yp(l),_.Tr(f),v?(x=Math.abs(l.y-y))<(k=Math.abs(f.y-y))?(l.y=y,_.Dc(l)):(f.y=y,_.Qc(f)):(x=Math.abs(l.x-y))<(k=Math.abs(f.x-y))?(l.x=y,_.Dc(l)):(f.x=y,_.Qc(f)),_.A(n),k=this.Lh(n,p,y)),_.Tr(u),x=g,1==(g=k)?(h.oc(_,b),b=!1):b=!0}}}else 1==(g=m)?(h.oc(w,b),b=!1):b=!0}}return h},i.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var i=new t.h,e=this.g.Ob(this.X);-1!=e;e=this.g.Rb(e))for(var n=this.g.Xa(e),s=0,r=this.g.Ja(e);s<r;s++,n=this.g.U(n))this.g.D(n,i),(this.Ca.v==i.x||this.Ca.C==i.x||this.Ca.G==i.y||this.Ca.H==i.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},i.prototype.My=function(i){for(var e=new t.h,n=new t.h,s=null,r=null,o=t.O.lg(2048,0),h=this.g.Ob(this.X);-1!=h;h=this.g.Rb(h)){var a=this.g.Xa(h),u=a;do{var c=this.g.U(u);this.g.D(u,e);var l=-1;if(e.x==this.Ca.v?(this.g.D(c,n),n.x==this.Ca.v&&(l=1)):e.x==this.Ca.C&&(this.g.D(c,n),n.x==this.Ca.C&&(l=1)),e.y==this.Ca.G?(this.g.D(c,n),n.y==this.Ca.G&&(l=0)):e.y==this.Ca.H&&(this.g.D(c,n),n.y==this.Ca.H&&(l=0)),-1!=l){if(null==s&&(s=new t.h),null==r&&(r=new t.h),s.L(e),r.ma(0,0),0==l){var f=e.x-this.Ca.v;r.x=t.lc.sign(n.x-e.x),s.x=i*t.lc.Cn(Math.floor(Math.abs(f/i)),f)+this.Ca.v,0>s.x&&(s.x+=i)}else f=e.y-this.Ca.G,r.y=t.lc.sign(n.y-e.y),s.y=i*t.lc.Cn(Math.floor(Math.abs(f/i)),f)+this.Ca.G,0>s.y&&(s.y+=i);f=0!=l?n.y-e.y:n.x-e.x;var p=Math.abs(f);if(65536<p/i)throw t.i.fa("internal error");if(0<p){p=t.O.truncate(p/i)+2,o.length<p&&(o=t.O.lg(p));for(var d=p=0;;d++){var v=new t.h;if(v.x=s.x+r.x*d*i,v.y=s.y+r.y*d*i,1<=(v=(0!=l?v.y-e.y:v.x-e.x)/f))break;0>=v||(o[p]=v,p++)}0!=p&&this.g.Ul(u,o,p)}}u=c}while(u!=a)}},i.prototype.Vl=function(i,e){for(var n=-1,s=new t.h,r=null,o=this.g.Ob(this.X);-1!=o;o=this.g.Rb(o))for(var h=this.g.Xa(o),a=0,u=this.g.Ja(o);a<u;a++){var c=this.g.U(h);this.g.D(h,s),(i?s.y==e:s.x==e)&&(this.g.D(c,s),(i?s.y==e:s.x==e)&&(-1==n&&(n=this.g.Gd()),null==r&&(r=new t.ia(0)).Jb(100),1!=this.g.Pa(h,n)&&(r.add(h),this.g.Ra(h,n,1)),1!=this.g.Pa(c,n)&&(r.add(c),this.g.Ra(c,n,1)))),h=c}if(-1!=n&&this.g.Td(n),!(null==r||3>r.size)){var l=this;r.Vd(0,r.size,(function(t,i){return l.Mh(t,i)})),n=new t.h,o=new t.h,h=new t.h,o.Rc();var f=-1;a=new t.ia(0),u=new t.ia(0),c=null;for(var p=this.g.Gd(),d=this.g.Gd(),v=0,y=r.size;v<y;v++){var g=r.get(v);if(this.g.D(g,s),!s.qb(o)){if(-1!=f){for(var b=f;b<v;b++){f=r.get(b);var w=this.g.U(f);g=this.g.Ma(f);var m=!1;this.g.D(w,n),0>o.compare(n)&&(i?n.y==e:n.x==e)&&(a.add(f),m=!0,this.g.Ra(f,d,1)),this.g.D(g,n),0>o.compare(n)&&(i?n.y==e:n.x==e)&&(m||a.add(f),this.g.Ra(f,p,1))}for(b=0,m=a.size;b<m;b++){if(f=a.get(b),g=this.g.Pa(f,p),w=this.g.Pa(f,d),1==g&&(g=this.g.Ma(f),this.g.D(g,h),!h.qb(s))){null==c&&(c=[]);var x=t.h.tb(o,h);c[0]=t.h.tb(h,s)/x,0==c[0]?c[0]=2220446049250313e-31:1==c[0]&&(c[0]=.9999999999999998),this.g.Ul(g,c,1),g=this.g.Ma(f),this.g.mf(g,s),u.add(g),this.g.Ra(g,p,1),this.g.Ra(g,d,-1)}1==w&&(w=this.g.U(f),this.g.D(w,h),h.qb(s)||(null==c&&(c=[]),x=t.h.tb(o,h),c[0]=t.h.tb(o,s)/x,0==c[0]?c[0]=2220446049250313e-31:1==c[0]&&(c[0]=.9999999999999998),this.g.Ul(f,c,1),g=this.g.U(f),this.g.mf(g,s),u.add(g),this.g.Ra(g,p,-1),this.g.Ra(g,d,1)))}f=a,a=u,(u=f).clear(!1)}f=v,o.L(s)}}this.g.Td(p),this.g.Td(d)}},i.prototype.Nl=function(i,e){for(var n=new t.h,s=null,r=-1,o=0,h=this.dd.size;o<h;o++){var a=this.dd.get(o);if(-1!=a){var u=this.g.U(a);this.g.D(a,n),(i?n.y==e:n.x==e)&&(this.g.D(u,n),(i?n.y==e:n.x==e)&&(-1==r&&(r=this.g.Gd()),null==s&&(s=new t.ia(0)).Jb(100),-2!=this.g.Pa(a,r)&&(s.add(a),this.g.Ra(a,r,-2)),-2!=this.g.Pa(u,r)&&(s.add(u),this.g.Ra(u,r,-2))))}}if(null==s)-1!=r&&this.g.Td(r);else{var c=this;for(s.Vd(0,s.size,(function(t,i){return c.Mh(t,i)})),o=0,h=s.size;o<h;o++){var l=s.get(o);this.g.Ra(l,r,o)}a=new t.h,(u=new t.h).Rc();var f=-1;for(o=0,h=s.size;o<h;o++)if(-1!=(l=s.get(o))&&(this.g.D(l,n),!n.qb(u))){if(-1!=f)for(;;){l=!1;for(var p=1<o-f?o-1:o,d=f;d<p;d++){var v=s.get(d);if(-1!=v){var y=-1,g=this.g.U(v);this.g.D(g,a),0>u.compare(a)&&(i?a.y==e:a.x==e)&&(y=g),g=-1;var b=this.g.Ma(v);if(this.g.D(b,a),0>u.compare(a)&&(i?a.y==e:a.x==e)&&(g=b),-1!=y&&-1!=g)this.Kh(v,s,r),this.g.pd(v,!1),this.Kh(y,s,r),this.g.pd(y,!1),l=!0;else if(-1!=y||-1!=g){for(b=d+1;b<o;b++){var w=s.get(b);if(-1!=w){var m=this.g.U(w),x=-1;this.g.D(m,a),0>u.compare(a)&&(i?a.y==e:a.x==e)&&(x=m),m=this.g.Ma(w);var M=-1;if(this.g.D(m,a),0>u.compare(a)&&(i?a.y==e:a.x==e)&&(M=m),-1!=x&&-1!=M){this.Kh(w,s,r),this.g.pd(w,!1),this.Kh(x,s,r),this.g.pd(x,!1),l=!0;break}if(-1!=y&&-1!=M){this.zt(s,v,y,w,M,r),l=!0;break}if(-1!=g&&-1!=x){this.zt(s,w,x,v,g,r),l=!0;break}}}if(l)break}}}if(!l)break}f=o,u.L(n)}this.g.Td(r)}},i.prototype.Kh=function(t,i,e){e=this.g.Pa(t,e),i.set(e,-1),e=this.g.Pa(t,this.ji),this.dd.set(e,-1),-1!=(i=this.g.bd(t))&&this.g.Xa(i)==t&&(this.g.Jf(i,-1),this.g.Wg(i,-1))},i.prototype.zt=function(t,i,e,n,s,r){this.g.Bc(i,n),this.g.Cc(n,i),this.g.Cc(e,s),this.g.Bc(s,e),this.Kh(n,t,r),this.g.mi(n,!1),this.Kh(s,t,r),this.g.mi(s,!0)},i.prototype.Ty=function(){for(var t=0,i=this.dd.size;t<i;t++){var e=this.dd.get(t);-1!=e&&this.g.aj(e,-1)}for(var n=0,s=0,r=this.g.Ob(this.X);-1!=r;){var o=this.g.Xa(r);if(-1==o||r!=this.g.bd(o)){var h=r;r=this.g.Rb(r),this.g.Jf(h,-1),this.g.$q(h)}else{e=o,h=0;do{this.g.aj(e,r),h++,e=this.g.U(e)}while(e!=o);this.g.cp(r,!1),this.g.Wg(r,this.g.Ma(o)),this.g.Vj(r,h),s+=h,n++,r=this.g.Rb(r)}}for(t=0,i=this.dd.size;t<i;t++)if(-1!=(e=this.dd.get(t))&&-1==(r=this.g.bd(e))){r=this.g.vf(this.X,-1),h=0,o=e;do{this.g.aj(e,r),h++,e=this.g.U(e)}while(e!=o);2>=h?(e=this.g.Pa(o,this.ji),this.dd.set(e,-1),o=this.g.pd(o,!1),2==h&&(0<=(e=this.g.Pa(o,this.ji))&&this.dd.set(e,-1),this.g.pd(o,!1)),h=r,this.g.Jf(h,-1),this.g.$q(h)):(this.g.kn(r,!0),this.g.Vj(r,h),this.g.Jf(r,o),this.g.Wg(r,this.g.Ma(o)),this.g.cp(r,!1),s+=h,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,s),t=0,i=this.g.ld;-1!=i;i=this.g.ue(i))t+=this.g.I(i);this.g.bC(t)},i.By=function(t,e,n,s){return new i(e,s).Ay(t,n)},i.clip=function(t,e,n,s,r){return i.Nu(t,e,null,n,s,r)},i.Nu=function(e,n,s,r,o,h){var a=e.getType();if(33==a)return o=e.D(),n.contains(o)?e:e.Ia();if(197==a)return o=new t.l,e.A(o),o.Ea(n)?(n=new t.Fh,e.copyTo(n),n.Xo(o),n):e.Ia();if(e.B())return e;if(n.B())return e.Ia();var u=new t.l;if(e.xc(u),n.contains(u))return e;if(!n.isIntersecting(u))return e.Ia();if((null!=s||isNaN(r))&&t.ta.ty(s,n,!1),!t.aa.xj(a))throw t.i.N();if(null!=(s=e.Bb)&&null!=(s=s.Fk)){if(1==(s=s.Ro(n))){if(1736!=a)throw t.i.fa("internal error");return(e=new t.Da(e.description)).tp(n),e}if(0==s)return e.Ia()}switch(a){case 550:for(h=null,a=e.I(),s=e.ub(0),r=0,o=new t.h,u=0;u<a;u++)s.tc(2*u,o),n.contains(o)||(0==r&&(h=e.Ia()),r<u&&h.Fd(e,r,u),r=u+1);return 0<r&&h.Fd(e,r,a),0==r?e:h;case 1736:case 1607:return i.By(e,n,o,h);default:throw t.i.fa("internal error")}},i.prototype.Mh=function(i,e){var n=new t.h;return this.g.D(i,n),i=new t.h,this.g.D(e,i),n.compare(i)},i}();t.ri=i}(W||(W={})),function(t){var i=new t.h,e=function(){function i(i,e,n,s,r){this.Pm=new t.h,this.Dk=new t.h,this.Pi=new t.h,this.g=i,this.Aw=n,this.no=s,this.Pm=e,this.yl=r,this.Dk.Rc(),this.Pi.Rc()}return i.prototype.xE=function(i){this.g.D(i,this.Dk),i=t.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var e=t.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return n.jG(i,e)},i.prototype.jz=function(t){return this.g.Pa(t,this.yl)},i.prototype.Py=function(t,i){return this.g.D(t,this.Dk),this.g.D(i,this.Pi),n.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},i}();t.sY=function(){};var n=function(){function n(){this.Pm=new t.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return n.iQ=function(t,i){var e=new n;return e.g=t,e.qa=i,e.Aw=i*i,e.$v=2*i,e.no=1/e.$v,e.BO()},n.Cv=function(t,i,e,n,s){return(t-=e)*t+(i-=n)*i<=s},n.jG=function(i,e){return t.O.Th(e,t.O.Th(i))},n.prototype.DO=function(e,s){this.g.Gc(e,i);for(var r=(i.y-this.Pm.y)*this.no,o=t.O.truncate((i.x-this.Pm.x)*this.no),h=t.O.truncate(r),a=r=0;1>=a;a+=1)for(var u=0;1>=u;u+=1){var c=n.jG(o+a,h+u),l=this.xl.rR(c);-1!=l&&(this.pq[r]=l,this.xs[r]=c,r++)}for(o=r-1;1<=o;o--)for(l=this.pq[o],h=o-1;0<=h;h--)if(l==this.pq[h]){this.xs[h]=-1,o!=--r&&(this.xs[o]=this.xs[r],this.pq[o]=this.pq[r]);break}for(h=0;h<r;h++)this.EO(e,this.xs[h],i,this.pq[h],s)},n.prototype.EO=function(i,e,s,r,o){for(var h=new t.h;-1!=r;r=this.xl.ER(r)){var a=this.xl.ja(r);i==a||-1!=e&&this.g.Pa(a,this.yl)!=e||(this.g.Gc(a,h),n.Cv(s.x,s.y,h.x,h.y,this.Aw)&&o.add(r))}},n.prototype.Xm=function(t,i,e){var n=this.g.Pa(t,this.qo),s=this.g.Pa(i,this.qo);return-1==n&&(n=this.zd.Ph(),this.zd.addElement(n,t),this.g.Ra(t,this.qo,n)),-1==s?this.zd.addElement(n,i):this.zd.Hy(n,s),this.g.Ra(i,this.qo,-2),i=this.YT(t,i),e&&(e=this.kw.xE(t),this.g.Ra(t,this.yl,e)),i},n.WT=function(i,e,s){i.Nb(e),s=i;var r=new t.h;n.XT(i.D(),e.D(),r),s.Cb(r)},n.XT=function(t,i,e){var n=t.x;t.x!=i.x&&(n=(1*t.x+1*i.x)/2);var s=t.y;t.y!=i.y&&(s=(1*t.y+1*i.y)/2),e.ma(n,s)},n.prototype.YT=function(i,e){var n=new t.h;this.g.D(i,n);var s=new t.h;this.g.D(e,s);var r=this.g.cG(i),o=r+(e=this.g.cG(e)),h=0,a=n.x;n.x!=s.x&&(a=(n.x*r+s.x*e)/o,h++);var u=n.y;return n.y!=s.y&&(u=(n.y*r+s.y*e)/o,h++),0<h&&this.g.Cb(i,a,u),this.g.vX(i,o),0!=h},n.prototype.BO=function(){var i=this.g.fd,n=this.g.IF();for(this.Pm=n.mz(),n=Math.max(n.ca(),n.R())/2147483646,this.$v<n&&(this.$v=n,this.no=1/this.$v),this.zd=new t.au,this.zd.At(t.O.truncate(this.g.fd/3+1)),this.zd.fn(t.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new e(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new t.dL(t.O.truncate(4*i/3),this.kw),this.xl.AW(this.g.fd),i=!1,n=this.g.ld;-1!=n;n=this.g.ue(n))for(var s=this.g.Ob(n);-1!=s;s=this.g.Rb(s))for(var r=this.g.Xa(s),o=0,h=this.g.Ja(s);o<h;o++){var a=this.kw.xE(r);this.g.Ra(r,this.yl,a),this.xl.addElement(r,a),r=this.g.U(r)}var u=new t.ia(0);for(u.Jb(10),n=this.g.ld;-1!=n;n=this.g.ue(n))for(s=this.g.Ob(n);-1!=s;s=this.g.Rb(s))for(r=this.g.Xa(s),o=0,h=this.g.Ja(s);o<h;o++){if(-2!=this.g.Pa(r,this.qo))for(a=this.g.Pa(r,this.yl),this.xl.jd(r,a);this.DO(r,u),0!=u.size;){a=!1;for(var c=0,l=u.size;c<l;c++){var f=u.get(c),p=this.xl.ja(f);this.xl.vd(f),a=this.Xm(r,p,c+1==l)||a}if(i=i||a,u.clear(!1),!a)break}r=this.g.U(r)}return i&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),i},n.prototype.vN=function(){for(var i=new t.h,e=this.zd.je;-1!=e;e=this.zd.qz(e)){var n=this.zd.rc(e);for(this.g.D(this.zd.ja(n),i),n=this.zd.lb(n);-1!=n;n=this.zd.lb(n))this.g.mf(this.zd.ja(n),i)}},n}();t.Yt=n}(W||(W={})),function(t){var i=function(){function i(t){void 0===t&&(t=null),this.yg=null,this.Pb=!1,this.yg=null===t?[]:t}return i.prototype.copyTo=function(i){if(i.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");for(var e=0;e<this.yg.length;e++)i.yg.push(this.yg[e].Of())},i.prototype.count=function(){return this.yg.length},i.prototype.add=function(i){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(i.Of())},i.prototype.clear=function(){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},i.prototype.remove=function(i){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(i,1)},i.prototype.jg=function(){var t=new i;return this.copyTo(t),t},i.prototype.Of=function(){return this.jg()},i.prototype.transform=function(i,e,n,s){if(i.length<e)throw t.i.fa("invalid Argument");var r=n;for(n=0;n<this.yg.length;n++){var o=this.yg[n];if(null!=o.qm()){var h=o.Un,a=h?1:0,u=h?o.qm().getGeogcs2():o.qm().getGeogcs1();if(u=r/(u=u.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(u-1))for(r=0;r<e;r++)i[r][0]*=u,i[r][1]*=u;t.MC.geogToGeog(o.qm(),e,i,null,a),r=(h?o.qm().getGeogcs1():o.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(u=r/s,3552713678800501e-30<Math.abs(u-1))for(r=0;r<e;r++)i[r][0]*=u,i[r][1]*=u;return e},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i)||this.yg.length!=t.yg.length)return!1;for(var e=0;e<this.yg.length;e++)if(!this.yg[e].Nb(t.yg[e]))return!1;return!0},i.prototype.ix=function(){this.Pb=!0},i.prototype.toString=function(){for(var t="CGT ("+this.count()+") ",i=0,e=this.count();i<e;++i)t+=this.yg[i].toString()+", ";return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},i.create=function(){return new i},i}();t.wC=i}(W||(W={})),function(t){var i,e=Math.PI,n=2*Math.PI,s=Math.PI/2,r=function(){function t(){}return t.TO=function(i,e){var n=new t;return n.x=i,n.y=e,n.type=0,n.Uh=0,n},t.al=function(i){var e=new t;return e.x=i.x,e.y=i.y,e.type=0,e.Uh=0,e},t.SO=function(i){var e=new t;return e.x=i.x,e.y=i.y,e.type=i.type,e.Uh=i.Uh,e},t.Pd=function(i,e,n){var s=new t;return s.x=i.x+e*Math.cos(n),s.y=i.y+e*Math.sin(n),s.type=i.type,s.Uh=i.Uh,s},t.Pu=function(i,e){var n=new t;return n.x=.5*(i.x+e.x),n.y=.5*(i.y+e.y),n.type=i.type,n.Uh=i.Uh,n},t.TE=function(i,e){var n=new t;return n.x=i.x+.001*(e.x-i.x),n.y=i.y+.001*(e.y-i.y),n.type=i.type,n.Uh=i.Uh,n},t}(),o=function(){};(i=t.fL||(t.fL={}))[i.Round=0]="Round",i[i.Bevel=1]="Bevel",i[i.Miter=2]="Miter",i[i.Square=3]="Square";var h=function(){function i(t){this.NA=this.Yb=this.wg=null,this.nd=t}return i.V=function(e,n,s,r,o,h){if(null==e)throw t.i.N();if(1>e.Db())throw t.i.N();return 0==n||e.B()?e:((h=new i(h)).ko=e,h.Ka=n,h.qa=o,h.Ki=s,h.CA=r,h.Rx())},i.prototype.eM=function(){var i=this.ko,e=i.ac(),n=i.wc(),s=new t.h;return s.uc(n,e),s.normalize(),s.Hv(),s.scale(this.Ka),e.add(s),n.add(s),s=i.Ia(),i.Dc(e),i.Qc(n),s},i.prototype.dM=function(){var i=this.ko;if(0<this.Ka&&2!=this.Ki){var e=new t.Da;return e.ad(i,!1),this.ko=e,this.Rx()}return(i=new t.Fh(i.$)).W(this.Ka,this.Ka),i},i.prototype.tJ=function(t,i,e,n){return(i.x-t.x)*(n.x-e.x)+(i.y-t.y)*(n.y-e.y)},i.prototype.fc=function(t,i){if(void 0===i)this.Yb.push(t),this.gf++;else if(0==this.gf)this.fc(t);else{var e=this.Bw,n=this.wg[0==i?e-1:i-1],o=this.wg[i],h=this.tJ(n,o,this.Yb[this.gf-1],t);0<h?this.fc(t):0>h&&(0<this.tJ(n,o,o,this.Yb[this.gf-1])?(o=this.wg[0==i?e-2:1==i?e-1:i-2],e=r.Pd(n,this.Ka,Math.atan2(n.y-o.y,n.x-o.x)-s),this.Yb[this.gf-1]=e,1==this.Ki||2==this.Ki?(e=r.Pu(e,n),this.fc(e),e=r.Pd(n,this.Ka,this.Jv+s),(n=r.Pu(e,n)).type|=256,this.fc(n)):(e=r.Pd(n,this.Ka,this.Jv+s)).type|=256,this.fc(e),this.fc(t,i)):(e=r.Pd(o,this.Ka,this.Jv+s),this.fc(e),1==this.Ki||2==this.Ki?(e=r.Pu(e,o),this.fc(e),e=r.Pd(o,this.Ka,this.aA-s),(n=r.Pu(e,o)).type|=256,this.fc(n)):(e=r.Pd(o,this.Ka,this.aA-s)).type|=256,this.fc(e)))}},i.prototype.mE=function(){var i,o=this.Bw;this.gf=0;var h=.5*this.qa,a=0,u=0;for(i=0;i<o;i++){var c=this.wg[i],l=0==i?this.wg[o-1]:this.wg[i-1],f=i==o-1?this.wg[0]:this.wg[i+1],p=l.x-c.x,d=l.y-c.y,v=f.x-c.x,y=f.y-c.y,g=Math.atan2(d,p),b=Math.atan2(y,v);if(this.Jv=g,this.aA=b,0==i&&(a=g,u=b),p=p*y-v*d,d=b,b<g&&(b+=n),0<p*this.Ka)1==this.Ki||2==this.Ki?(g=r.Pd(c,this.Ka,g+s),this.fc(g),g=r.TE(c,g),this.fc(g),g=r.Pd(c,this.Ka,b-s),(c=r.TE(c,g)).type|=256,this.fc(c),this.fc(g)):(p=.5*(b-g),p=this.Ka/Math.abs(Math.sin(p)),g=r.Pd(c,p,.5*(g+b)),this.fc(g,i));else if(512&c.type){for(p=1-h/Math.abs(this.Ka),l=1,f=0>this.Ka?-e:e,-1<p&&1>p&&(.017453292519943295>(d=2*Math.acos(p))&&(d=.017453292519943295),1<(l=t.O.truncate(e/d+1.5))&&(f/=l)),d=g+s,g=r.Pd(c,this.Ka,d),0==i&&(g.type|=1024),this.fc(g,i),p=this.Ka/Math.cos(f/2),d+=f/2,(g=r.Pd(c,p,d)).type|=1024,this.fc(g);0<--l;)d+=f,(g=r.Pd(c,p,d)).type|=1024,this.fc(g);(g=r.Pd(c,this.Ka,b-s)).type|=1024,this.fc(g)}else if(1==this.Ki)g=r.Pd(c,this.Ka,g+s),this.fc(g,i),g=r.Pd(c,this.Ka,b-s),this.fc(g);else if(0==this.Ki)for(p=1-h/Math.abs(this.Ka),l=1,f=b-s-(g+s),-1<p&&1>p&&(.017453292519943295>(d=2*Math.acos(p))&&(d=.017453292519943295),1<(l=t.O.truncate(Math.abs(f)/d+1.5))&&(f/=l)),p=this.Ka/Math.cos(.5*f),d=g+s+.5*f,g=r.Pd(c,p,d),this.fc(g,i);0<--l;)d+=f,g=r.Pd(c,p,d),this.fc(g);else 2==this.Ki?(p=l.x-c.x,d=l.y-c.y,.99999999<(l=(p*(v=f.x-c.x)+d*(y=f.y-c.y))/Math.sqrt(p*p+d*d)/Math.sqrt(v*v+y*y))?(g=r.Pd(c,1.4142135623730951*this.Ka,b-.25*e),this.fc(g,i),g=r.Pd(c,1.4142135623730951*this.Ka,b+.25*e),this.fc(g)):(l=Math.abs(this.Ka/Math.sin(.5*Math.acos(l))))>(f=Math.abs(this.CA*this.Ka))?(p=.5*(b-g),p=this.Ka/Math.abs(Math.sin(p)),g=r.Pd(c,p,.5*(g+b)),b=t.h.construct(g.x,g.y),g=t.h.construct(c.x,c.y),(c=new t.h).uc(b,g),(b=new t.h).HW(f/c.length(),c,g),g=(l-f)*Math.abs(this.Ka)/Math.sqrt(l*l-this.Ka*this.Ka),0<this.Ka?c.Hv():c.ar(),c.scale(g/c.length()),(g=new t.h).add(b,c),(l=new t.h).uc(b,c),g=r.al(g),this.fc(g,i),g=r.al(l),this.fc(g)):(p=.5*(b-g),p=this.Ka/Math.abs(Math.sin(p)),g=r.Pd(c,p,.5*(g+b)),this.fc(g,i))):(b=d,0<this.Ka?(b>g&&(b-=n),l=g-b<s):(b<g&&(b+=n),l=b-g<s),l?(d=0>(p=1.4142135623730951*this.Ka)?g+.25*e:g+.75*e,g=r.Pd(c,p,d),this.fc(g,i),d=0>p?b-.25*e:b-.75*e,g=r.Pd(c,p,d),this.fc(g)):(p=.5*(b-g),p=this.Ka/Math.abs(Math.sin(p)),b<g&&(b+=n),g=r.Pd(c,p,(g+b)/2),this.fc(g,i)))}return this.Jv=a,this.aA=u,this.fc(this.Yb[0],0),c=r.SO(this.Yb[this.gf-1]),this.Yb[0]=c,this.wW()},i.prototype.Au=function(i,e){if(!(2>e))for(var n=0;n<e;n++){var s=this.Yb[i+n];0!=n?this.NA.Ci(t.h.construct(s.x,s.y)):this.NA.Lt(t.h.construct(s.x,s.y))}},i.prototype.fM=function(t,i,e){var n=t.Ba(i),s=t.Vc(i);if(this.Yb=[],this.NA=e,t.dc(i)){for(i=t.Na(n);t.Na(s-1).qb(i);)s--;if(2<=s-n){for(this.Bw=s-n,this.wg=[],i=n;i<s;i++)this.wg.push(r.al(t.Na(i)));this.mE()&&this.Au(0,this.gf-1)}}else{for(i=t.Na(n);n<s&&t.Na(n+1).qb(i);)n++;for(i=t.Na(s-1);n<s&&t.Na(s-2).qb(i);)s--;if(2<=s-n){for(this.Bw=2*(s-n)-2,this.wg=[],(e=r.al(t.Na(n))).type|=1536,this.wg.push(e),i=n+1;i<s-1;i++)e=r.al(t.Na(i)),this.wg.push(e);for((e=r.al(t.Na(s-1))).type|=512,this.wg.push(e),i=s-2;i>=n+1;i--)(e=r.al(t.Na(i))).type|=1024,this.wg.push(e);if(this.mE())if(2<=this.Yb.length){for(t=-1,(s=!!(1024&this.Yb[this.gf-1].type))||(t=0),i=1;i<this.gf;i++)(n=!!(1024&this.Yb[i].type))?s||1<(s=i-1)-t+1&&this.Au(t,s-t+1):s&&(t=i-1),s=n;s||1<(s=this.gf-1)-t+1&&this.Au(t,s-t+1)}else t=0,s=this.gf-1,0<=t&&1<=s-t&&this.Au(t,s-t+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},i.prototype.wW=function(){for(var t=!1,i=0;i<this.gf;i++){var e=this.Yb[i];e.qh=i+1,e.sh=i-1,this.Yb[i]=e}for((e=this.Yb[0]).sh=this.gf-2,this.Yb[0]=e,(e=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=e,i=e=0;i<this.gf;i++)if(256&this.Yb[e].type){var n=this.GP(e);if(-1==n){t=!0;break}e=n}else e=this.Yb[e].qh;return!t&&(this.QO(e),!0)},i.prototype.GP=function(t){for(var i,e,n=this.gf-1,s=t,r=1;r<=n-2;r++){i=s=this.Yb[s].qh,e=t;for(var o=1;o<=r;o++){if(e=this.Yb[e].sh,!(256&this.Yb[e].type||256&this.Yb[i].type)){var h=this.gS(e,i);if(-1!=h)return h}i=this.Yb[i].sh}}return-1},i.prototype.gS=function(i,e){var n=this.Yb[this.Yb[i].sh],s=this.Yb[i],r=this.Yb[this.Yb[e].sh],h=this.Yb[e];if(!this.JW(n,s,r,h))return-1;var a=new o;return this.xQ(n,s,r,h,a)&&!a.bE&&t.O.bK((s.x-n.x)*(h.y-r.y)-(s.y-n.y)*(h.x-r.x))!=t.O.bK(this.Ka)?(n=this.Yb[i].sh,a.an.type=s.type,a.an.qh=e,a.an.sh=n,this.Yb[i]=a.an,a.an=this.Yb[e],a.an.sh=i,this.Yb[e]=a.an,e):-1},i.prototype.JW=function(t,i,e,n){return Math.max(t.x,i.x)>=Math.min(e.x,n.x)&&Math.max(e.x,n.x)>=Math.min(t.x,i.x)&&Math.max(t.y,i.y)>=Math.min(e.y,n.y)&&Math.max(e.y,n.y)>=Math.min(t.y,i.y)},i.prototype.xQ=function(t,i,e,n,s){s.bE=!1;var o=(i.y-t.y)*(n.x-e.x)-(i.x-t.x)*(n.y-e.y),h=(e.y-t.y)*(i.x-t.x)-(e.x-t.x)*(i.y-t.y);if(0<=(o=0==o?2:h/o)&&1>=o){var a=o;if(o=(n.y-e.y)*(i.x-t.x)-(n.x-e.x)*(i.y-t.y),h=(t.y-e.y)*(n.x-e.x)-(t.x-e.x)*(n.y-e.y),0<=(o=0==o?2:h/o)&&1>=o)return s.an=r.TO(t.x+o*(i.x-t.x),t.y+o*(i.y-t.y)),s.an.Uh=e.Uh+a*(n.Uh-e.Uh),0!=a&&1!=a||0!=o&&1!=o||(s.bE=!0),s.VY=o,s.WY=a,!((0==a||1==a)&&0<o&&1>o||(0==o||1==o)&&0<a&&1>a)}return!1},i.prototype.QO=function(t){for(;this.Yb[t].sh<t;)t=this.Yb[t].sh;var i=0,e=t;do{e=this.Yb[e],this.Yb[i]=e,e=e.qh,i++}while(e!=t);this.Yb[i]=this.Yb[0],this.gf=i+1},i.prototype.$C=function(t){var i=this.ko,e=i.Ga();if(null!=e){e.Zi();for(var n=-1;e.$a();)n++,this.fM(i,n,t)}},i.prototype.Rx=function(){var i=this.ko.getType();return 322==i?this.eM():197==i?this.dM():t.aa.yd(i)?((i=new t.Ta).oc(this.ko,!0),this.ko=i,this.Rx()):1607==i?(i=new t.Ta,this.$C(i),i):1736==i?(i=new t.Da,this.$C(i),i):null},i}();t.IK=h}(W||(W={})),function(t){var i=function(){function t(t){this.qk=t}return t.prototype.D=function(t,i){this.qk.g.D(t,i)},t.prototype.vd=function(t){var i=this.qk.Fa.ja(t);this.qk.Fa.vd(t,-1),this.qk.g.pd(i,!1)},t}(),e=function(){function t(t){this.qk=t}return t.prototype.D=function(t,i){this.qk.IT.D(t,i)},t.prototype.vd=function(t){this.qk.Fa.vd(t,-1)},t}(),n=function(){function t(t){this.qk=t}return t.prototype.D=function(t,i){i.L(this.qk.LT[t])},t.prototype.vd=function(t){this.qk.Fa.vd(t,-1)},t}(),s=function(){function s(s){void 0===s?(this.Fa=new t.Yj,this.Fa.De(20),this.g=new t.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new i(this)):s instanceof Array?(this.Fa=new t.Yj,this.Fa.De(20),this.LT=s,this.Xh=new n(this)):(this.Fa=new t.Yj,this.Fa.De(20),this.IT=s,this.Xh=new e(this))}return s.prototype.Ib=function(i){var e=i.getType();if(t.Gx.xj(e))this.jN(i);else if(t.Vk.yd(e))this.oN(i);else if(197==e)this.gN(i);else{if(33!=e)throw t.i.N("invalid shape type");this.nN(i)}},s.prototype.cR=function(){var i=new t.Sa,e=this.Fa.rc(-1),n=new t.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(e),i),n.nf(i),e=this.Fa.lb(e);-1!=e;e=this.Fa.lb(e))this.g.Vi(this.Fa.ja(e),i),n.lineTo(i);return n},s.RO=function(i){var e=new s(i),n=i.I(),r=1,o=new t.h,h=new t.h,a=new t.h;for(i.D(0,o);i.D(r,h),h.Rz(o)&&r<n-1;)r++;for(e.Fa.addElement(0,-1),e.Fa.xn(r),n=r+1;n<i.I();n++)i.D(n,a),-1!=(r=e.pC(a))&&e.Fa.Sj(r,n);for(a=new t.Sa,r=e.Fa.rc(-1),n=new t.Da(i.description),i.ve(e.Fa.ja(r),a),n.nf(a),r=e.Fa.lb(r);-1!=r;r=e.Fa.lb(r))i.ve(e.Fa.ja(r),a),n.lineTo(a);return n},s.construct=function(t,i,e){for(var n=new s(t),r=1,o=t[0];t[r].Rz(o)&&r<i-1;)r++;for(n.Fa.addElement(0,-1),n.Fa.xn(r),r+=1;r<i;r++)-1!=(o=n.pC(t[r]))&&n.Fa.Sj(o,r);for(t=0,i=n.Fa.rc(-1);-1!=i;i=n.Fa.lb(i))e[t++]=n.Fa.ja(i);return t},s.JG=function(i,e){var n=i.Ba(e),r=i.Vc(e);if(e=!i.dc(e)&&i.Nn(e),i=i.ub(0),r*=2,e&&(r-=2),6>r-(n*=2))return!0;e=new t.h;var o=new t.h,h=new t.h;i.tc(n,e),i.tc(n+2,o),i.tc(n+4,h);var a=s.Wu(o,h,e);if(a.ps()||!s.um(a.value()))return!1;var u=t.h.construct(o.x,o.y),c=new t.h;for(n+=6;n<r;n+=2){if(c.L(o),o.L(h),i.tc(n,h),(a=s.Wu(o,h,e)).ps()||!s.um(a.value()))return!1;if((a=s.Wu(u,h,e)).ps()||!s.um(a.value()))return!1;if((a=s.Wu(o,h,c)).ps()||!s.um(a.value()))return!1}return!0},s.prototype.jN=function(i){for(var e=new t.Sa,n=new t.h,s=0;s<i.I();s++){i.D(s,n);var r=this.Cr(n);if(-1!=r){i.ve(s,e);var o=this.g.fc(this.Ss,e);this.Fa.Sj(r,o)}}},s.prototype.gN=function(i){for(var e=new t.Sa,n=new t.h,s=0;4>s;s++){i.mB(s,n);var r=this.Cr(n);if(-1!=r){i.Hf(s,e);var o=this.g.fc(this.Ss,e);this.Fa.Sj(r,o)}}},s.prototype.oN=function(i){var e=new t.Sa,n=i.ac();if(-1!=(n=this.Cr(n))){i.To(e);var s=this.g.fc(this.Ss,e);this.Fa.Sj(n,s)}n=i.wc(),-1!=(n=this.Cr(n))&&(i.Po(e),i=this.g.fc(this.Ss,e),this.Fa.Sj(n,i))},s.prototype.nN=function(t){var i=t.D();-1!=(i=this.Cr(i))&&(t=this.g.fc(this.Ss,t),this.Fa.Sj(i,t))},s.prototype.Cr=function(t){var i=-1;if(0==this.Fa.size(-1))return this.Fa.addElement(-4,-1);if(1==this.Fa.size(-1)){var e=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return t.Rz(e)||(i=this.Fa.xn(-5)),i}return this.pC(t)},s.prototype.pC=function(i){var e=-1;do{var n=this.Fa.rc(-1),r=this.Fa.Fc(-1),o=this.Fa.ja(n),h=this.Fa.ja(r),a=new t.h,u=new t.h;if(this.Xh.D(o,a),this.Xh.D(h,u),o=t.h.Uq(u,i,a),s.um(o))e=this.Fa.xn(-1),(a=this.nC(i,r,n))!=n&&this.oC(i,n,this.Fa.we(a));else if(s.CG(o)){u=this.Fa.sv(-1);var c=this.Fa.rc(-1),l=this.Fa.Fc(-1);for(o=new t.h,h=new t.h;c!=this.Fa.we(l);){var f=this.Fa.ja(u);this.Xh.D(f,o),f=t.h.Uq(o,i,a),s.CG(f)?(l=u,u=this.Fa.ll(u)):(c=u,u=this.Fa.Xp(u))}if(u=l,a=c,f=this.Fa.ja(u),c=this.Fa.ja(a),this.Xh.D(f,o),this.Xh.D(c,h),a!=n&&(o=t.h.Uq(h,i,o),!s.um(o)))continue;e=this.Fa.zu(a,u,-2,!1),this.oC(i,u,r),this.nC(i,a,n)}else null==this.sb&&(this.sb=new t.yb),this.sb.Dc(u),this.sb.Qc(a),0>(a=this.sb.fe(i,!0))?(a=this.Fa.we(r),this.Fa.vd(r,-1),e=this.Fa.xn(-3),this.nC(i,a,n)):1<a&&(a=this.Fa.lb(n),this.Fa.vd(n,-1),e=this.Fa.zu(-1,a,-3,!1),this.oC(i,a,r))}while(0);return e},s.prototype.oC=function(i,e,n){if(e!=n){var r=this.Fa.ja(e),o=this.Fa.lb(e),h=new t.h,a=new t.h;for(this.Xh.D(r,h);e!=n&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(o),a),r=t.h.Uq(a,i,h),!s.um(r));)r=e,e=o,h.L(a),o=this.Fa.lb(e),this.Xh.vd(r)}},s.prototype.nC=function(i,e,n){if(e==n)return n;var r=this.Fa.ja(e),o=this.Fa.we(e),h=new t.h,a=new t.h;for(this.Xh.D(r,h);e!=n&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(o),a),r=t.h.Uq(h,i,a),!s.um(r));)r=e,e=o,h.L(a),o=this.Fa.we(e),this.Xh.vd(r);return e},s.Wu=function(i,e,n){var s=new t.Wb;s.set(e.x),s.sub(i.x);var r=new t.Wb;r.set(n.y),r.sub(i.y);var o=new t.Wb;return o.set(e.y),o.sub(i.y),(e=new t.Wb).set(n.x),e.sub(i.x),s.Ag(r),o.Ag(e),s.sub(o),s},s.um=function(t){return 0>t},s.CG=function(t){return 0<t},s}();t.Zt=s}(W||(W={})),function(t){var i=function(){function i(t){this.g=null,this.tH=!0,this.nd=t}return i.zU=function(i,e,n){return i=t.ta.Er(i),t.Yt.Cv(e.Lg(),e.ih(),n.Lg(),n.ih(),t.lc.ox(i))},i.CO=function(i,e){var n=new t.Sa;return t.Yt.WT(i,e,n),n},i.V=function(t,e,n,s){return(n=new i(n)).g=t,n.qa=e,n.tH=s,n.EM()},i.prototype.nM=function(i){return t.Yt.iQ(this.g,i)},i.prototype.sM=function(i){return t.$t.V(this.g,i,this.nd)},i.prototype.EM=function(){var i=this.qa,e=t.ta.Er(i),n=1.00001*(i=t.ta.rN(i));i*=1.000001;for(var s=!1,r=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),o=0,h=this.g.jS();;o++){if(o>r)throw t.i.fa("Internal Error: max number of iterations exceeded");var a=this.nM(e);if(s=s||a,this.tH&&(a=0!=this.g.Gp(e,!0,!1),s=s||a),a=!1,(0==o||h||t.$t.kI(!0,this.g,i,null,this.nd))&&(a=this.sM(n),s=s||a),!a)break;t.mp.zp(this.nd)}return s},i}();t.Tk=i}(W||(W={})),function(t){var i=function(){function i(t){this.$d=this.Mc=null,this.Ys=0,this.Ub=t,this.cA=!0}return i.prototype.uv=function(t,i){var e=this.g.bc(t);if(null==e){if(!this.g.ed(t,i))return null;e=i}return e},i.prototype.Xq=function(){var i;void 0===i&&(i=!1),this.Ys++,!i&&4095&this.Ys||(this.Ys=0,t.mp.zp(this.Ub))},i.prototype.nP=function(){var i=this.g.Yq(!1),e=!1,n=new t.yb,s=new t.yb,r=new t.l;r.Oa();var o=new t.l;o.Oa();for(var h=new t.Sa,a=new t.TC,u=i.next();-1!=u;u=i.next()){t.mp.zp(this.Ub);var c=null,l=!1;if(!t.aa.Rn(this.g.ic(i.ck))){if(null==(c=this.uv(u,n)))continue;if(c.A(r),r.W(this.qa,this.qa),c.Bi(this.qa)){if(!c.Bi(0))continue;l=!0,c=null}}var f=this.g.Yq(i),p=f.next();for(-1!=p&&(p=f.next());-1!=p;p=f.next()){var d=null,v=!1;if(!t.aa.Rn(this.g.ic(f.ck))){if(null==(d=this.uv(p,s)))continue;if(d.A(o),d.Bi(this.qa)){if(!d.Bi(0))continue;v=!0,d=null}}var y=0,g=0;if(null!=c&&null!=d)r.HG(o)&&(a.Oo(c),a.Oo(d),a.Ea(this.qa,!1),0<(y=a.ol(0))+(g=a.ol(1))&&(this.g.jr(u,a,0,!0),this.g.jr(p,a,1,!0)),a.clear());else if(null!=c){var b=new t.h;if(this.g.D(p,b),r.contains(b)){if(a.Oo(c),this.g.Vi(p,h),a.Kz(this.qa,h,!1),0<(y=a.ol(0)))if(this.g.jr(u,a,0,!0),v){for(v=-1,b=this.g.U(p);-1!=b&&b!=p&&(v=b,null!=(d=this.uv(b,s))&&d.Bi(0));b=this.g.U(b));for(b=p;-1!=b&&(this.g.Dh(b,a.Bf),b!=v);b=this.g.U(b));}else this.g.Dh(p,a.Bf);a.clear()}}else{if(null==d)continue;if(b=new t.h,this.g.D(u,b),o.W(this.qa,this.qa),o.contains(b)){if(a.Oo(d),this.g.Vi(u,h),a.Kz(this.qa,h,!1),0<(g=a.ol(0)))if(this.g.jr(p,a,0,!0),l){for(v=-1,b=this.g.U(u);-1!=b&&b!=u&&(v=b,null!=(d=this.uv(b,s))&&d.Bi(0));b=this.g.U(b));for(b=u;-1!=b&&(this.g.Dh(b,a.Bf),b!=v);b=this.g.U(b));}else this.g.Dh(u,a.Bf);a.clear()}}if(0!=y+g){if(0!=y){if(null==(c=this.g.bc(u))){if(!this.g.ed(u,n))continue;c=n,n.A(r)}else c.A(r);if(c.Bi(this.qa))break}e=!0}}}return e},i.prototype.oP=function(){return this.QU()},i.prototype.QU=function(){return(new t.RC).PX(this.g,this.qa)},i.prototype.lI=function(){var i=!1;null==this.Mc&&(this.Mc=new t.Yj);var e=new t.ia(0);e.Jb(this.g.fd+1);for(var n=this.g.Yq(),s=n.next();-1!=s;s=n.next())e.add(s);this.g.nx(e,e.size),e.add(-1),n=this.g.Gd(),s=this.g.Gd(),this.$d=new t.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var r=new t.ia(0),o=new t.ia(0),h=0;new t.h;var a=this.g.td;this.g.vb.mc();for(var u,c,l=this.g.vb.za[0].o,f=e.get(h++);-1!=f;){var p=u=l[2*(c=a.T(f,0))],d=c=l[2*c+1];do{var v=a.T(f,2),y=a.T(f,1);if(-1!=v){var g=a.T(v,0),b=l[2*g];0>(d<(g=l[2*g+1])?-1:d>g?1:p<b?-1:p>b?1:0)&&(o.add(f),o.add(v))}-1!=y&&(b=l[2*(g=a.T(y,0))],0>(d<(g=l[2*g+1])?-1:d>g?1:p<b?-1:p>b?1:0)&&(o.add(y),o.add(y))),-1!=(b=this.g.Pa(f,n))&&(r.add(b),this.g.Ra(f,n,-1)),-1!=(b=this.g.Pa(f,s))&&(r.add(b),this.g.Ra(f,s,-1)),-1!==(f=e.get(h++))&&(p=l[2*(d=a.T(f,0))],d=l[2*d+1])}while(-1!=f&&p===u&&d===c);for(p=1==r.size&&2==o.size,b=d=-1,v=0,y=r.size;v<y;v++){g=r.get(v);var w=this.Mc.we(g);if(-1==w||r.hG(w)||(d=w),-1==(g=this.Mc.lb(g))||r.hG(g)||(b=g),-1!=d&&-1!=b)break}for(this.$d.$J(c,u),v=0,y=r.size;v<y;v++)g=r.get(v),this.Mc.vd(g,-1);if(r.clear(!1),!p&&-1!=d&&-1!=b&&this.qO(d,b)){i=!0,this.Ni=this.$d.rm();break}for(v=0,y=o.size;v<y;v+=2){if(c=o.get(v),u=o.get(v+1),p?(c=this.Mc.zu(d,b,c,!0),p=!1):c=this.Mc.addElement(c,-1),this.$d.rg){this.Ni=this.$d.rm(),i=!0;break}-1==this.g.Pa(u,n)?this.g.Ra(u,n,c):this.g.Ra(u,s,c)}if(i)break;o.Bh(0)}return this.g.Td(n),this.g.Td(s),i},i.prototype.qO=function(t,i){return this.$d.compare(this.Mc,this.Mc.ja(t),i),t=this.$d.rg,this.$d.Kr(),t},i.yE=function(i){for(var e=i.ld;-1!=e;e=i.ue(e))if(t.aa.Hc(i.ic(e)))return!0;return!1},i.fQ=function(t,e,n,s){return!!i.yE(t)&&((e=new i(s)).g=t,e.qa=n,15>t.fd?t=e.nP():e.oP())},i.V=function(t,e,n){return i.fQ(t,t.IF(),e,n)},i.kI=function(e,n,s,r,o){if(!i.yE(n))return!1;var h=new i(o);if(h.g=n,h.qa=s,h.cA=e,h.lI())return null!=r&&r.Wt(h.Ni),!0;var a=new t.Dd;return a.$B(),n.Oc(a),(h=new i(o)).g=n,h.qa=s,h.cA=e,e=h.lI(),a.$B(),n.Oc(a),!!e&&(null!=r&&r.Wt(h.Ni),!0)},i.Ml=function(t,i){return!(16>(t=t.I()))&&2*t+Math.log(t)*Math.LOG10E/Math.log(2)*i<1*t*i},i.lP=function(e,n,s,r){var o=n.getType();if(t.aa.Hc(o))return new i(r).mP(e,n,s);throw t.i.fa("crack_A_with_B")},i.prototype.mP=function(n,s,r){var o=new t.l;n.xc(o);var h=new t.l;if(s.xc(h),h.W(r,r),!h.isIntersecting(o))return n;var a=n.Bb,u=null;null!=a&&(u=a.Fb),i.Ml(n,n.I())&&(u=t.ta.jj(n,h));var c=null!=u?u.getIterator():null,l=s.Ga();s=n.Ga();var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h=[];l.$a();)for(;l.Ha();){var p=l.ha();if(null!=u){for(c.Uo(p,r),a=c.next();-1!=a;a=c.next())if(this.Xq(),s.Vb(u.ja(a),-1),s.Ha()){var d=(a=s.ha()).Ea(p,null,f,null,r);for(a=0;a<d;++a){var v=f[a];if(0!=v&&1!=v){var y=s.wb(),g=new e;g.t=v,g.index=y,h.push(g)}}}}else{var b=new t.l;if(p.xc(b),b.W(r,r),o.isIntersecting(b))for(s.Zi();s.$a();)for(;s.Ha();)if(this.Xq(),a=s.ha(),v=new t.l,a.xc(v),v.isIntersecting(b))for(d=a.Ea(p,null,f,null,r),a=0;a<d;++a)0!=(v=f[a])&&1!=v&&(y=s.wb(),(g=new e).t=v,g.index=y,h.push(g))}}if(0==h.length)return n;for(h=h.sort(e.Ey),n=n.Ia(),s.Zi();s.$a()&&!s.Ha(););for(r=s.ha(),o=new t.ig,u=-1,a=0,c=h.length;a<c;){for(f=h[a].index,l=a+1;l<c&&h[l].index==f;)++l;for(;s.wb()<f;){if(this.Xq(),p=s.Ha(),v=s.gb,(b=p||!s.On()||s.Pn())&&n.oc(r,u!=v),u=v,!p)for(;s.$a()&&!s.Ha(););r=s.ha()}for(f=0;a<l;a++)(v=h[a].t)!=f&&(r.ah(f,v,o),f=v,v=s.gb,n.oc(o.get(),u!=v),u=v);if((b=(p=s.Ha())||!s.On()||s.Pn())&&(r.ah(f,1,o),n.oc(o.get(),!1)),p)r=s.ha();else{for(;s.$a()&&!s.Ha(););r=s.Ha()?s.ha():null}a=l}for(null!=r&&(v=s.gb,(b=(p=s.Ha())||!s.On()||s.Pn())&&n.oc(r,u!=v),u=v),p=s.Ha();;){if(!p){for(;s.$a()&&!(p=s.Ha()););if(!p)break}r=s.ha(),v=s.gb,(b=(p=s.Ha())||!s.On()||s.Pn())&&n.oc(r,u!=v),u=v}return n},i}();t.$t=i;var e=function(){function t(){}return t.Ey=function(t,i){return t.index==i.index?t.t>i.t?1:t.t<i.t?-1:0:t.index>i.index?1:-1},t}()}(W||(W={})),function(t){var i;(i=t.KK||(t.KK={}))[i.Left=0]="Left",i[i.Right=1]="Right",i[i.Coincident=2]="Coincident",i[i.Undefined=3]="Undefined",i[i.Uncut=4]="Uncut";var e=function(t,i,e,n,s,r,o,h,a,u,c){this.X=t,this.bt=i,this.Ns=e,this.tg=n,this.Lm=u,this.Al=c};t.uY=e;var n=function(){function i(t,i){this.JH=t,this.Hi=i}return i.prototype.qM=function(i,e){var n=new t.h;this.Hi.D(i,n);var s=new t.h;return this.Hi.D(e,s),0!=(n=n.compare(s))?n:(i=this.Hi.Pa(i,this.JH))<(e=this.Hi.Pa(e,this.JH))?-1:i==e?0:1},i}(),s=function(t,i,e,n,s,r,o,h,a){this.tg=t,this.Ns=i,this.OA=e,this.UH=n,this.Ei=s,this.Al=r,this.Lm=o,this.VH=h,this.OT=a};t.tY=s,t.LK=function(){function i(){}return i.JK=function(n,s,r,o,h,a){if(s.B())n=new e(s,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(n);else if(r.B())n=new e(s,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(n);else{var u=new t.gd;if(u.Ib(s),u.Ib(r),t.Tk.V(u,o,a,!0),0==u.fd)n=new e(s.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),h.push(n);else{for(s=0,r=u.Gd(),o=u.ld;-1!=o;o=u.ue(o))for(a=u.Ob(o);-1!=a;a=u.Rb(a))for(var c=u.Xa(a),l=0,f=u.Ja(a);l<f;c=u.U(c),l++)u.Ra(c,r,s++);s=i.HM(r,u),i.cM(n,s,u,h)}}},i.HM=function(e,s){for(var r=s.fd,o=new t.ia(0),h=s.ld;-1!=h;h=s.ue(h))for(var a=s.Ob(h);-1!=a;a=s.Rb(a))for(var u=s.Xa(a),c=0,l=s.Ja(a);c<l;u=s.U(u),c++)o.add(u);var f=new n(e,s);o.Vd(0,r,(function(t,i){return f.qM(t,i)})),e=[];var p=[],d=s.Gd(),v=s.Gd();h=s.ld,a=s.ue(h),l=new t.h;var y=new t.h,g=o.get(0),b=s.bd(g),w=s.Qf(b);s.D(g,l);var m=1;for(u=0;m<r-1;){var x=!1;for(c=m;c<r;c++)if(c!=u){var M=o.get(c),_=s.bd(M),k=s.Qf(_);if(s.D(M,y),!l.qb(y))break;w==h&&k==a&&(x=i.uM(d,v,s,e,p,b,g,_,M))}if(x||u==m-1){if(x&&u==m-1&&m--,++u==r)break;g=o.get(u),b=s.bd(g),w=s.Qf(b),s.D(g,l)}x||(m=u+1)}for(r=[],h=s.ld;-1!=h;h=s.ue(h))for(a=s.Ob(h);-1!=a;a=s.Rb(a))for(o=s.Xa(a),c=0,l=s.Ja(a);c<l;o=s.U(o),c++){if(0<=(u=s.Pa(o,v)))for(;u<p.length&&p[u].tg==o;)r.push(p[u++]);if(0<=(u=s.Pa(o,d)))for(;u<e.length&&e[u].tg==o;)r.push(e[u++])}return s.Td(d),s.Td(v),r},i.uM=function(t,e,n,s,r,o,h,a,u){var c=n.rj(o),l=n.rj(a),f=n.Xa(o),p=n.Xa(a),d=n.Ma(h),v=n.Ma(u),y=!1,g=!1,b=!1,w=!1;return h!=f&&(u!=p&&(y=i.vM(t,n,s,o,d,a,v)),u!=l&&(g=i.wM(t,n,s,o,d,a,u))),h!=c&&(u!=p&&(b=i.xM(e,n,r,o,h,a,v,f)),u!=l&&(w=i.yM(e,n,r,o,h,a,u,f))),y&&g&&b?(t=s.length-1,2==r[w?r.length-2:r.length-1].Ei&&(s[t-1]=s[t],--s.length)):y&&g&&w&&2==r[r.length-1].Ei&&(r=s[s.length-1],--s.length,n.Pa(r.tg,t)==s.length&&n.Ra(r.tg,t,-1)),y||g||b||w},i.vM=function(i,e,n,r,o,h,a){var u=new t.yb,c=new t.yb,l=[0,0],f=[0,0],p=e.bc(o);return null==p&&(e.ed(o,u),p=u),null==(u=e.bc(a))&&(e.ed(a,c),u=c),2>(p=p.Ea(u,null,l,f,0))&&(r=new s(o,r,l[0],NaN,p,a,h,f[0],NaN),n.push(r),0>(r=e.Pa(o,i))&&e.Ra(o,i,n.length-1)),!0},i.wM=function(i,e,n,r,o,h,a){var u=new t.yb,c=new t.yb,l=[0,0],f=[0,0],p=e.bc(o);return null==p&&(e.ed(o,u),p=u),null==(u=e.bc(a))&&(e.ed(a,c),u=c),2>(p=p.Ea(u,null,l,f,0))&&(r=new s(o,r,l[0],NaN,p,a,h,f[0],NaN),n.push(r),0>(r=e.Pa(o,i))&&e.Ra(o,i,n.length-1),!0)},i.xM=function(i,e,n,r,o,h,a,u){var c=new t.yb,l=new t.yb,f=[0,0],p=[0,0],d=e.bc(o);return null==d&&(e.ed(o,c),d=c),null==(c=e.bc(a))&&(e.ed(a,l),c=l),2==(d=d.Ea(c,null,f,p,0))?(r=new s(o,r,f[0],f[1],d,a,h,p[0],p[1]),n.push(r),0>(r=e.Pa(o,i))&&e.Ra(o,i,n.length-1),!0):(l=!1,o==u&&(r=new s(o,r,f[0],NaN,d,a,h,p[0],NaN),n.push(r),0>(r=e.Pa(o,i))&&e.Ra(o,i,n.length-1),l=!0),l)},i.yM=function(i,e,n,r,o,h,a,u){var c=new t.yb,l=new t.yb,f=[0,0],p=[0,0],d=e.bc(o);return null==d&&(e.ed(o,c),d=c),null==(c=e.bc(a))&&(e.ed(a,l),c=l),2==(d=d.Ea(c,null,f,p,0))?(r=new s(o,r,f[0],f[1],d,a,h,p[0],p[1]),n.push(r),0>(r=e.Pa(o,i))&&e.Ra(o,i,n.length-1),!0):(l=!1,o==u&&(r=new s(o,r,f[0],NaN,d,a,h,p[0],NaN),n.push(r),0>(r=e.Pa(o,i))&&e.Ra(o,i,n.length-1),l=!0),l)},i.cM=function(n,s,r,o){var h=[];h[0]=new t.h,h[1]=new t.h,h[2]=new t.h,h[3]=new t.h;var a=new t.h,u=new t.h,c=new t.h,l=new t.h,f=null;null!=o&&(f=new t.ig).Or();var p=0,d=null,v=new t.yb;new t.yb;for(var y=r.Ob(r.ld);-1!=y;y=r.Rb(y)){for(var g=4,b=-1,w=-1,m=-1,x=-1,M=NaN,_=!0,k=!1,A=!0,T=!0,j=!0,P=0,I=y,E=0,z=r.Xa(y),C=r.Ja(y),S=0;S<C;z=r.U(z),S++){var N=r.bc(z);if(null==N){if(!r.ed(z,v))continue;N=v}-1==w&&(w=z);for(var R=0;p<s.length&&z==s[p].tg;){b=s[p].Ns;var O=s[p].tg,G=s[p].OA,D=s[p].Lm,V=s[p].Al,L=s[p].VH;if(2==s[p].Ei){if(k||(I=b,w=O,E=G,m=D,x=V,M=L,g=2,null!=o?d=new t.Ta:P=0,j=!1,T=!0),G=s[p].UH,L=s[p].OT,null!=o?(N.ah(R,s[p].UH,f),d.oc(f.get(),T)):P++,R=G,k=!0,T=_=!1,p+1==s.length||2!=s[p+1].Ei||s[p+1].tg==O&&s[p+1].OA!=R){if(null!=o){var F=new e(d,2,b,O,G,g,I,w,E,D,V,L,m,x,M);o.push(F)}else null.add(P);I=b,w=O,E=G,m=D,x=V,M=L,g=2,k=_=!1,T=j=!0}}else{var q=r.U(O);if(p<s.length-1&&s[p+1].tg==q&&s[p+1].Al==V&&2==s[p+1].Ei)G!=R&&(j&&(null!=o?d=new t.Ta:P=0),_=0<p&&s[p-1].Ns==b?1==g?0:0==g?1:3:3,null!=o?(N.ah(R,G,f),d.oc(f.get(),T),F=new e(d,_,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):(P++,null.add(P)),R=G,I=b,w=O,E=G,m=D,x=V,M=L,g=_,_=A=!1,T=j=!0);else if(!i.CM(n,r,s,p,a,u)){i.zM(r,s,p,y,z,c,l);var B=!1;if(q=!1,F=!0,!(a.qb(c)||u.qb(c)||a.qb(l)||u.qb(l))){h[0].L(a),h[1].L(u),h[2].L(c),h[3].L(l),h.sort(t.h.nu);var H=h[0],Z=h[1],U=h[2],K=h[3];H.qb(a)?Z.qb(u)?n?(q=B=!0,F=!1):B=!1:K.qb(u)?n?F=q=B=!0:B=!1:(B=!0,F=Z.qb(c)):Z.qb(a)?U.qb(u)?n?(q=B=!0,F=!1):B=!1:H.qb(u)?n?F=q=B=!0:B=!1:(B=!0,F=U.qb(c)):U.qb(a)?K.qb(u)?n?(q=B=!0,F=!1):B=!1:Z.qb(u)?n?F=q=B=!0:B=!1:(B=!0,F=K.qb(c)):H.qb(u)?n?(q=B=!0,F=!1):B=!1:U.qb(u)?n?F=q=B=!0:B=!1:(B=!0,F=H.qb(c))}B&&(B=z==O,(G!=R||B&&0==R)&&(j&&(null!=o?d=new t.Ta:P=0),null!=o?(N.ah(R,G,f),d.oc(f.get(),T)):P++),F?1!=g?((G!=R||B&&0==R)&&(null!=o?(F=new e(d,1,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):null.add(P)),q?(p>=s.length-2||s[p+2].Ns!=b)&&(g=0):g=1):((G!=R||B&&0==R)&&(null!=o?(F=new e(d,3,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):null.add(P)),g=1):0!=g?((G!=R||B&&0==R)&&(null!=o?(F=new e(d,0,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):null.add(P)),q?(p>=s.length-2||s[p+2].Ns!=b)&&(g=1):g=0):((G!=R||B&&0==R)&&(null!=o?(F=new e(d,3,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):null.add(P)),g=0),(G!=R||B&&0==R)&&(R=G,I=b,w=O,E=G,m=D,x=V,M=L,_=A=!1,T=j=!0))}}p++}1!=R&&(j&&(null!=o?d=new t.Ta:P=0),null!=o?(N.ah(R,1,f),d.oc(f.get(),T)):P++,T=j=!1,A=!0)}A&&(G=1,O=r.rj(y),O=r.Ma(O),V=D=-1,L=NaN,_?null!=o?(F=new e(d,4,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):null.add(P):(_=1==g?0:0==g?1:3,null!=o?(F=new e(d,_,b,O,G,g,I,w,E,D,V,L,m,x,M),o.push(F)):null.add(P)))}},i.CM=function(e,n,s,r,o,h){var a=s[r].VH;if(1==a)return i.AM(e,n,s,r,o,h);if(0==a)return i.BM(e,n,s,r,o,h);throw t.i.Qa()},i.AM=function(i,e,n,s,r,o){var h=new t.yb,a=n[s].tg,u=n[s].Lm,c=n[s].Al,l=-1,f=-1,p=-1,d=-1;if(!i&&0<s){var v=n[s-1];l=v.tg,f=v.Lm,p=v.Al,d=v.Ei}var y=-1,g=-1,b=-1,w=-1;s<n.length-1&&(y=(v=n[s+1]).tg,g=v.Lm,b=v.Al,w=v.Ei);var m=e.U(a);return v=e.U(c),i?s==n.length-1||y!=a||g!=u||b!=v||2==w?(null==(i=e.bc(c))&&(e.ed(c,h),i=h),o.L(i.kg()),r.mt(o),o.normalize(),r.normalize(),!1):(null==(i=e.bc(c))&&(e.ed(c,h),i=h),r.L(i.kg()),null==(i=e.bc(v))&&(e.ed(v,h),i=h),o.L(i.kg()),r.Sq(),o.normalize(),r.normalize(),!1):0<s&&l==a&&f==u&&p==v&&2==d||s<n.length-1&&y==m&&g==u&&b==v&&2==w?(null==(i=e.bc(c))&&(e.ed(c,h),i=h),o.L(i.kg()),r.mt(o),o.normalize(),r.normalize(),!1):!(s<n.length-1&&y==a&&g==u&&b==v&&(null==(i=e.bc(c))&&(e.ed(c,h),i=h),r.L(i.kg()),null==(i=e.bc(v))&&(e.ed(v,h),i=h),o.L(i.kg()),r.Sq(),o.normalize(),r.normalize(),1))},i.BM=function(i,e,n,s,r,o){var h=new t.yb,a=n[s].tg,u=n[s].Lm,c=n[s].Al,l=-1,f=-1,p=-1,d=-1;if(!i&&s<n.length-1){var v=n[s+1];l=v.tg,f=v.Lm,p=v.Al,d=v.Ei}var y=-1,g=-1,b=-1;v=-1,0<s&&(y=(v=n[s-1]).tg,g=v.Lm,b=v.Al,v=v.Ei);var w=e.U(a),m=e.Ma(c);return i?0!=s&&y==a&&g==u&&b==m&&2!=v||(null==(i=e.bc(c))&&(e.ed(c,h),i=h),o.L(i.kg()),r.mt(o),o.normalize(),r.normalize(),!1):!(0<s&&y==a&&g==u&&b==m&&2==v||s<n.length-1&&l==w&&f==u&&p==m&&2==d)||(null==(i=e.bc(c))&&(e.ed(c,h),i=h),o.L(i.kg()),r.mt(o),o.normalize(),r.normalize(),!1)},i.zM=function(i,e,n,s,r,o,h){var a=new t.yb,u=i.bc(r);if(null==u&&(i.ed(r,a),u=a),e=(n=e[n]).tg,n=n.OA,r=i.U(e),1==n)o.L(u.kg()),-1!=r&&r!=i.rj(s)?(null==(u=i.bc(r))&&(i.ed(r,a),u=a),h.L(u.kg()),null==(u=i.bc(e))&&i.ed(e,a)):h.L(o),o.Sq(),h.normalize(),o.normalize();else{if(0!=n)throw t.i.Qa();h.L(u.kg()),o.mt(h),h.normalize(),o.normalize()}},i}()}(W||(W={})),function(t){var i;(i=t.bM||(t.bM={}))[i.Linear=0]="Linear",i[i.Angular=1]="Angular",i[i.Area=2]="Area";var e=function(){function i(t,i,e){this.od=i,this.ai=e,this.vA=t}return i.prototype.Nb=function(t){return t instanceof i&&this.ai===t.ai},i.aG=function(t){return 0!==t.od?null:-1===t.vA?new i(-1,2,t.ai*t.ai):i.Zg(h[t.vA])},i.Zg=function(t){return void 0===(t=o[t])?null:t},i.ZO=function(t,e,n){var s=null;if(null!=n)try{"EPSG"===n.values[0]&&(s=i.Zg(parseInt(n.values[1])))}catch(t){}return null===s&&(s=new i(-1,t,e)),s},i.prototype.Ec=function(){return this.vA},i.prototype.CF=function(i){if(i.od!=this.od)throw t.i.Hb();return this.ai/i.ai},i.Nh=function(t,i,e){return i.CF(e)*t},i.XE=function(t,i,e,n,s){for(e=e.CF(n),n=0;n<i;n++)s[n]=t[n]*e},i}();t.Tc=e;for(var n=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1.244521604938272e-7,109465,1e-12,109466,1e-18],s=[1031,4.84813681109536e-9,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],r=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],o=[],h=[],a=0;a<n.length;a+=2)o[n[a]]=new e(n[a],2,n[a+1]);for(n=null,a=0;a<s.length;a+=2)o[s[a]]=new e(s[a],1,s[a+1]);for(s=null,a=0;a<r.length;a+=3)o[r[a]]=new e(r[a],0,r[a+1]),h[r[a]]=r[a+2];r=null}(W||(W={})),function(t){var i=function(){function t(){this.xb=this.pb=0}return t.prototype.set=function(t,i){void 0!==i?(this.pb=t,this.xb=i):"number"==typeof t?(this.pb=t,this.xb=0):(this.pb=t.pb,this.xb=t.xb)},t.prototype.value=function(){return this.pb},t.prototype.add=function(t){var i=this.pb+t.pb;t=this.xb+t.xb+2220446049250313e-31*Math.abs(i),this.pb=i,this.xb=t},t.prototype.kN=function(){var t=this.pb+1,i=this.xb+2220446049250313e-31*Math.abs(t);this.pb=t,this.xb=i},t.prototype.dN=function(t,i){this.pb=t.pb+i.pb,this.xb=t.xb+i.xb+2220446049250313e-31*Math.abs(this.pb)},t.prototype.sub=function(t){if("number"==typeof t){var i=this.pb-t;t=this.xb+2220446049250313e-31*Math.abs(i)}else i=this.pb-t.pb,t=this.xb+t.xb+2220446049250313e-31*Math.abs(i);this.pb=i,this.xb=t},t.prototype.Ag=function(t){var i=this.pb*t.pb;this.xb=this.xb*Math.abs(t.pb)+t.xb*Math.abs(this.pb)+this.xb*t.xb+2220446049250313e-31*Math.abs(i),this.pb=i},t.prototype.No=function(t){var i=this.pb*t;this.xb=this.xb*Math.abs(t)+2220446049250313e-31*Math.abs(i),this.pb=i},t.prototype.Kl=function(t,i){var e=Math.abs(t.pb)*Math.abs(i.pb);this.xb=t.xb*Math.abs(i.pb)+i.xb*Math.abs(t.pb)+t.xb*i.xb+2220446049250313e-31*Math.abs(e),this.pb=e},t.prototype.jm=function(t){var i=Math.abs(t.pb),e=this.pb/t.pb,n=(this.xb+Math.abs(e)*t.xb)/i;t.xb>.01*i&&(n*=1+(1+(t=t.xb/i))*t),this.pb=e,this.xb=n+2220446049250313e-31*Math.abs(e)},t.prototype.sqrt=function(){if(0<=this.pb){var t=Math.sqrt(this.pb),i=this.pb>10*this.xb?.5*this.xb/t:this.pb>this.xb?t-Math.sqrt(this.pb-this.xb):Math.max(t,Math.sqrt(this.pb+this.xb)-t);i+=2220446049250313e-31*Math.abs(t)}else this.pb<-1*this.xb?i=t=NaN:(t=0,i=Math.sqrt(this.xb));this.pb=t,this.xb=i},t.prototype.sin=function(t){var i=Math.sin(t.pb),e=Math.cos(t.pb);this.pb=i,i=Math.abs(i),this.xb=(Math.abs(e)+.5*i*t.xb)*t.xb+2220446049250313e-31*i},t.prototype.cos=function(t){var i=Math.sin(t.pb),e=Math.cos(t.pb);this.pb=e,e=Math.abs(e),this.xb=(Math.abs(i)+.5*e*t.xb)*t.xb+2220446049250313e-31*e},t.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},t.prototype.ps=function(){return this.qg()&&0!=this.xb},t}();t.Wb=i}(W||(W={}));var tt=new W.h,it=new W.h,et=new W.h,nt=new W.h,st=new W.h;!function(t){var i,e;(e=i||(i={}))[e.closedPath=1]="closedPath",e[e.exteriorPath=2]="exteriorPath",e[e.ringAreaValid=4]="ringAreaValid";var n=function(){function i(t,i,e,n,s,r,o){void 0!==i?(this.ib=t,this.ck=i,this.bl=e,this.ii=n,this.ya=r,this.hA=o,this.ew=s):(this.ib=t.ib,this.ck=t.ck,this.bl=t.bl,this.ii=t.ii,this.ya=t.ya,this.hA=t.hA,this.ew=t.ew),this.bH=!0}return i.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):-1!=this.ii?(this.ii=this.ib.U(this.ii),this.ya++,-1!=this.ii&&this.ii!=this.ew?this.ii:this.$T()):-1},i.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;-1!=this.ck;){for(;-1!=this.bl;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),-1!=this.ii)return this.ii;if(this.ck=this.ib.ue(this.ck),-1==this.ck)break;this.hA&&!t.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},i.AP=function(t,e,n,s,r,o,h){return new i(t,e,n,s,r,o,h)},i}();t.zY=n,i=function(){function i(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return i.prototype.Sh=function(t){return null!=this.We?this.We[t]:null},i.prototype.Xg=function(t,i){if(null==this.We){if(null==i)return;this.We=[];for(var e=0,n=this.vb.I();e<n;e++)this.We.push(null)}this.We[t]=i},i.prototype.bp=function(t,i){this.md.S(t,1,i)},i.prototype.ap=function(t,i){this.md.S(t,2,i)},i.prototype.VB=function(t,i){this.md.S(t,6,i)},i.prototype.Sp=function(t){return this.md.T(t,6)},i.prototype.gx=function(t,i){this.md.S(t,7,i)},i.prototype.qv=function(t){return this.md.T(t,0)},i.prototype.OJ=function(t,i){this.cd.S(t,1,i)},i.prototype.SJ=function(t,i){this.cd.S(t,0,i)},i.prototype.JF=function(t){return this.cd.T(t,7)},i.prototype.Zo=function(t,i){this.cd.S(t,3,i)},i.prototype.$o=function(t,i){this.cd.S(t,4,i)},i.prototype.uU=function(i){null==this.cd&&(this.cd=new t.$c(8));var e=this.cd.Ce();return this.cd.S(e,2,i),this.cd.S(e,5,0),this.cd.S(e,6,0),this.cd.S(e,7,e),e},i.prototype.OQ=function(t){this.cd.jd(t)},i.prototype.wU=function(i){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0));var e=this.md.Ce();return this.md.S(e,0,e),this.md.S(e,3,0),this.md.S(e,6,0),this.gx(e,i),e>=this.Oi.size&&(i=16>e?16:t.O.truncate(3*e/2),this.Oi.resize(i),this.vo.resize(i)),this.Oi.set(e,0),this.vo.set(e,0),e},i.prototype.sF=function(t){this.md.jd(t)},i.prototype.Vy=function(t){this.td.jd(t),this.fd--},i.prototype.oI=function(i){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0));var e=this.td.Ce(),n=0<=i?i:e;if(this.td.S(e,0,n),0>i){if(n>=this.vb.I()){if(i=16>n?16:t.O.truncate(3*n/2),this.vb.resize(i),null!=this.We)for(var s=0;s<i;s++)this.We.push(null);null!=this.Sg&&this.Sg.resize(i),this.it=this.vb.ub(0)}this.vb.Cb(n,-1e38,-1e38),null!=this.We&&(this.We[n]=null),null!=this.Sg&&this.Sg.write(n,1)}return this.td.S(e,4,2*n),this.fd++,e},i.prototype.wj=function(t,i,e){var n=-1!=i?this.Ma(i):this.rj(t),s=-1!=n?this.U(n):-1,r=this.oI(null==e?this.fd:-1),o=this.Ua(r);return null!=e&&this.vb.Ht(o,e),this.aj(r,t),this.Bc(r,s),this.Cc(r,n),-1!=s&&this.Cc(s,r),-1!=n&&this.Bc(n,r),e=this.dc(t),n=this.Xa(t),-1==i&&this.Wg(t,r),i==n&&this.Jf(t,r),e&&-1==s&&(this.Bc(r,r),this.Cc(r,r)),this.Vj(t,this.Ja(t)+1),t=this.Qf(t),this.Tj(t,this.I(t)+1),r},i.prototype.nm=function(){return null==this.jo&&(this.jo=new t.Sa(this.vb.description)),this.jo},i.prototype.Yo=function(t,i){this.cd.S(t,2,-134217729&this.cd.T(t,2)||(1==i?134217728:0))},i.prototype.In=function(t){return 134217728&this.cd.T(t,2)?1:0},i.prototype.hN=function(t){var i=this.Ig(t.getType(),t.description);return 1736==t.getType()&&this.Yo(i,t.In()),this.UD(i,t),i},i.prototype.iN=function(t){var i=this.Ig(t.getType(),t.description);return this.VD(i,t),i},i.prototype.XV=function(i,e){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0)),this.md.De(this.md.Hg+i),this.td.De(this.td.Hg+e),this.Oi.Jb(this.Oi.size+i),this.vo.Jb(this.vo.size+i)},i.prototype.UD=function(i,e){this.XV(e.da(),e.I()),this.Il.Fd(e,0,e.I()),this.it=this.vb.ub(0);for(var n=null!=this.We&&null!=e.Ve,s=0,r=e.da();s<r;s++)if(!(2>e.Ja(s))){var o=this.vf(i,-1);this.kn(o,e.dc(s));for(var h=e.Ba(s),a=e.Vc(s);h<a;h++){var u=this.wj(o,-1,null);if(n)if(u=this.Ua(u),1&e.ZF(h))this.Xg(u,null);else{var c=new t.ig;e.bc(h,c,!0),this.Xg(u,c.get())}}}},i.prototype.VD=function(t,i){this.Il.Fd(i,0,i.I()),this.it=this.vb.ub(0),t=this.vf(t,-1);var e=0;for(i=i.I();e<i;e++)this.wj(t,-1,null)},i.prototype.NX=function(i,e,n){var s=this.U(i);if(-1==s)throw t.i.Qa();for(var r=this.nm(),o=this.bd(i),h=0,a=e.ol(n);h<a;h++){var u=this.Ua(i),c=this.U(i),l=e.Vp(n,h);0==h&&(l.To(r),this.Dh(i,r)),322==l.getType()?this.Xg(u,null):this.Xg(u,t.aa.jg(l)),l.Po(r),h<a-1?i=this.wj(o,c,r):this.Dh(s,r)}},i.prototype.MX=function(i,e,n){var s=this.U(i);if(-1==s)throw t.i.Qa();for(var r=this.nm(),o=this.bd(i),h=0,a=e.ol(n);h<a;h++){var u=this.Ua(i),c=this.U(i),l=e.Vp(n,a-h-1);0==h&&(l.Po(r),this.Dh(i,r)),322==l.getType()?this.Xg(u,null):this.Xg(u,t.aa.jg(l)),l.To(r),h<a-1?i=this.wj(o,c,r):this.Dh(s,r)}},i.prototype.IF=function(){var i=new t.l;i.Oa();for(var e=this.Yq(),n=new t.h,s=!0,r=e.next();-1!=r;r=e.next())this.D(r,n),s?i.Zb(n.x,n.y):i.Lk(n.x,n.y),s=!1;return i},i.prototype.Ib=function(i){var e=i.getType();if(t.aa.Hc(e))return this.hN(i);if(550==e)return this.iN(i);throw t.i.Qa()},i.prototype.uN=function(i,e){var n=e.getType();if(t.aa.Hc(n))this.UD(i,e);else{if(550!=n)throw t.i.Qa();this.VD(i,e)}},i.prototype.mN=function(i,e){var n=this.Ig(1736,i.description);if(2>i.Ja(e))return n;this.Il.Fd(i,i.Ba(e),i.Vc(e)),this.it=this.vb.ub(0);var s=this.vf(n,-1);this.kn(s,i.dc(e)||!0);var r=null!=this.We&&null!=i.Ve,o=i.Ba(e);for(e=i.Vc(e);o<e;o++){var h=this.wj(s,-1,null);if(r)if(h=this.Ua(h),1&i.ZF(o))this.Xg(h,null);else{var a=new t.ig;i.bc(o,a,!0),this.Xg(h,a.get())}}return n},i.prototype.Ne=function(i){var e=this.ic(i),n=t.ZK.Ig(e,this.Il.description),s=this.I(i);if(0==s)return n;if(t.aa.Hc(e)){e=this.da(i);for(var r=t.Yc.Oh(e+1),o=t.Yc.Mr(e+1,0),h=n.description,a=0,u=h.Aa;a<u;a++){for(var c=h.kd(a),l=t.ra.Va(c),f=t.Yc.YE(c,s),p=this.vb.ub(c),d=0,v=0,y=0,g=this.Ob(i);-1!=g;g=this.Rb(g)){var b=0;this.dc(g)&&(b|=1),this.YS(g)&&(b|=4),0!=b&&o.zJ(v,b);var w=this.Ja(g);if(r.write(v++,y),y+=w,0==c){w=p;var m=f,x=new t.h;for(b=this.Xa(g);d<y;b=this.U(b),d++){var M=this.Ua(b);w.tc(2*M,x),m.Tt(2*d,x)}}else for(b=this.Xa(g);d<y;b=this.U(b),d++)for(M=this.Ua(b),m=0;m<l;m++)x=p.eg(M*l+m),f.pr(d*l+m,x)}n.hn(c,f),r.write(e,s)}n.PJ(o),n.QJ(r),n.Pc(16777215)}else if(550==e){for(h=n.description,n.resize(s),a=0,u=h.Aa;a<u;a++){for(c=h.kd(a),l=t.ra.Va(c),f=n.ub(c),p=this.vb.ub(c),d=0,g=this.Ob(i),w=this.Ja(g),b=this.Xa(g);d<w;b=this.U(b),d++)for(M=this.Ua(b),m=0;m<l;m++)x=p.eg(M*l+m),f.pr(d*l+m,x);n.hn(c,f)}n.Pc(16777215)}return n},i.prototype.BB=function(t){for(var i=this.Ob(t);-1!=i;i=this.Zq(i));i=this.PR(t);var e=this.ue(t);-1!=i?this.OJ(i,e):this.ld=e,-1!=e?this.SJ(e,i):this.qw=i,this.OQ(t)},i.prototype.Ig=function(i,e){return void 0===e?this.$E(i,t.ee.og()):this.$E(i,e)},i.prototype.$E=function(i,e){return i=this.uU(i),null==this.vb?this.vb=this.Il=new t.de(e):this.Il.Jl(e),this.ht=this.Il.description,this.fA=1<this.ht.Aa,-1==this.ld?this.ld=i:(this.SJ(i,this.qw),this.OJ(this.qw,i)),this.qw=i},i.prototype.ue=function(t){return this.cd.T(t,1)},i.prototype.PR=function(t){return this.cd.T(t,0)},i.prototype.ic=function(t){return 2147483647&this.cd.T(t,2)},i.prototype.HJ=function(i,e,n){e=this.wk[e],(i=this.JF(i))>=e.size&&e.resize(Math.max(t.O.truncate(1.25*i),16),-1),e.write(i,n)},i.prototype.KF=function(t,i){return(t=this.JF(t))<(i=this.wk[i]).size?i.read(t):-1},i.prototype.aF=function(){null==this.wk&&(this.wk=[]);for(var i=0;i<this.wk.length;i++)if(null==this.wk[i])return this.wk[i]=t.Yc.Oh(0),i;return this.wk.push(t.Yc.Oh(0)),this.wk.length-1},i.prototype.xW=function(t){this.wk[t]=null},i.prototype.Ob=function(t){return this.cd.T(t,3)},i.prototype.kv=function(t){return this.cd.T(t,4)},i.prototype.I=function(t){return this.cd.T(t,5)},i.prototype.da=function(t){return this.cd.T(t,6)},i.prototype.Gp=function(i,e,n){for(var s=0,r=this.ld;-1!=r;r=this.ue(r)){var o=this.ic(r);if(t.aa.Hc(o)&&(!n||1736==o)){o=1736==this.ic(r);for(var h=this.Ob(r);-1!=h;){for(var a=0,u=this.Xa(h);a<t.O.truncate(this.Ja(h)/2);){var c=this.U(u);if(-1==c)break;var l=this.Ua(u),f=this.Sh(l);null!=f?l=f.Qb():(f=this.Ua(c),l=this.vb.yr(l,f)),l<=i?(0==l?0==s&&(s=-1):s=1,c!=this.rj(h)&&(this.lC(c,u),this.pd(c,!0))):u=this.U(u),a++}for(a=this.Xa(h),u=this.dc(h)?a:this.rj(h);0<this.Ja(h);){if(-1==(c=this.Ma(u))){this.pd(u,!0),0==s&&(s=-1);break}var p=this.Ua(c);if(null!=(f=this.Sh(p))?l=f.Qb():(l=this.Ua(u),l=this.vb.yr(l,p)),l<=i)0==l?0==s&&(s=-1):s=1,this.lC(c,u),this.pd(c,!1),a==c&&(a=this.Xa(h));else if((u=this.Ma(u))==a)break}u=this.Ja(h),e&&(o?3>u:2>u)?(h=this.Zq(h),s=0<u?1:0==s?-1:s):h=this.Rb(h)}}}return s},i.prototype.lC=function(t,i){var e=this.Ua(t),n=this.Ua(i);if(null!=this.Sg&&(e=this.Sg.read(e),this.Sg.write(n,e)),null!=this.bi)for(n=0,e=this.bi.length;n<e;n++)if(null!=this.bi[n]){var s=this.Pa(t,n);-1!=s&&this.Ra(i,n,s)}},i.prototype.Ul=function(i,e,n){var s=0,r=this.U(i);if(-1==r)throw t.i.Qa();for(var o=this.Ua(i),h=this.Ua(r),a=this.Sh(o),u=null==a?this.vb.yr(o,h):a.Qb(),c=0;c<n;c++){var l=e[c];if(0<l&&1>l){var f=l;null!=a&&(f=0<u?a.Ux(l)/u:0),this.vb.kD(o,h,f,this.nm());var p=this.wj(this.bd(i),r,this.nm());if(s++,null!=a){var d=a.dl(0,l);f=this.Ua(this.Ma(p)),this.Xg(f,d),this.mf(p,d.wc()),c!=n-1&&1!=e[c+1]||(l=a.dl(l,1),this.Xg(f,l))}}}return s},i.prototype.LX=function(i,e,n){var s=0,r=this.U(i);if(-1==r)throw t.i.fa("internal error");var o=this.Ua(i),h=this.Ua(r),a=this.Sh(o),u=null==a?this.vb.yr(o,h):a.Qb(),c=0;i=this.bd(i);for(var l=0;l<n;l++){var f=e[l];if(c<f&&1>f){var p=f;if(null!=a&&(p=0<u?a.Ux(f)/u:0),this.vb.kD(o,h,p,this.nm()),p=this.yS(i,r,this.nm()),s++,null!=a){c=a.dl(c,f);var d=this.Ua(this.Ma(p));this.Xg(d,c),this.Cb(p,c.pa,c.la),l!=n-1&&1!=e[l+1]||(c=a.dl(f,1),p=this.Ua(p),this.Xg(p,c))}}c=f}return s},i.prototype.yS=function(t,i,e){var n=-1!=i?this.Ma(i):this.rj(t),s=-1!=n?this.U(n):-1,r=this.oI(null==e?this.fd:-1),o=this.Ua(r);return null!=e&&this.vb.Ht(o,e),this.aj(r,t),this.Bc(r,s),this.Cc(r,n),-1!=s&&this.Cc(s,r),-1!=n&&this.Bc(n,r),e=this.dc(t),n=this.Xa(t),-1==i&&this.Wg(t,r),i==n&&(e&&-1!=n||this.Jf(t,r)),e&&-1==s&&(this.Bc(r,r),this.Cc(r,r)),this.Vj(t,this.Ja(t)+1),t=this.Qf(t),this.Tj(t,this.I(t)+1),r},i.prototype.uE=function(i,e,n){var s=this.Ua(e),r=this.Ua(n);if(0>s||r>this.fd-1)throw t.i.N("invalid call");if(s>r&&!this.dc(i))throw t.i.N("cannot iterate across an open path");for(i=0;e!=n;e=this.U(e))s=this.Ua(e),null!=(r=this.Sh(s))?i+=r.Qb():(r=this.Ua(this.U(e)),i+=this.vb.yr(s,r));return i},i.prototype.Dh=function(t,i){var e=this.Ua(t);this.vb.Ht(e,i),null!=(e=this.Sh(e))&&e.setStart(i),-1!=(t=this.Ma(t))&&(t=this.Ua(t),null!=this.Sh(t)&&e.setEnd(i))},i.prototype.Vi=function(t,i){t=this.Ua(t),this.vb.ve(t,i)},i.prototype.mf=function(t,i){this.Cb(t,i.x,i.y)},i.prototype.Cb=function(t,i,e){var n=this.Ua(t);this.vb.Cb(n,i,e),null!=(n=this.Sh(n))&&n.ZB(i,e),-1!=(t=this.Ma(t))&&(t=this.Ua(t),null!=this.Sh(t)&&n.Ql(i,e))},i.prototype.D=function(t,i){this.vb.D(this.td.T(t,0),i)},i.prototype.Gc=function(t,i){this.vb.za[0].tc(2*this.td.T(t,0),i)},i.prototype.Na=function(i){var e=new t.h;return this.vb.D(this.td.T(i,0),e),e},i.prototype.dG=function(t,i){this.it.tc(2*t,i)},i.prototype.Uc=function(t,i,e){return this.vb.Uc(t,this.Ua(i),e)},i.prototype.setAttribute=function(t,i,e,n){this.vb.setAttribute(t,this.Ua(i),e,n)},i.prototype.Ua=function(t){return this.td.T(t,0)},i.prototype.ih=function(){var i=new t.h;return this.D(void 0,i),i.y},i.prototype.fq=function(t,i){t=this.Ua(t),i=this.Ua(i);var e=this.vb.za[0].o;return e[2*t]===e[2*i]&&e[2*t+1]===e[2*i+1]},i.prototype.Dv=function(t,i){t=this.Ua(t);var e=this.vb.za[0].o;return e[2*t]===i.x&&e[2*t+1]===i.y},i.prototype.vX=function(i,e){if(1>e&&(e=1),null==this.Sg){if(1==e)return;this.Sg=t.Yc.Dn(this.vb.I(),1)}(i=this.Ua(i))>=this.Sg.size&&this.Sg.resize(i+1,1),this.Sg.write(i,e)},i.prototype.cG=function(t){return t=this.Ua(t),null==this.Sg||t>=this.Sg.size?1:this.Sg.read(t)},i.prototype.Ra=function(t,i,e){i=this.bi[i],t=this.Ua(t),i.size<this.vb.I()&&i.resize(this.vb.I(),-1),i.write(t,e)},i.prototype.Pa=function(t,i){return(t=this.Ua(t))<(i=this.bi[i]).size?i.read(t):-1},i.prototype.Gd=function(){null==this.bi&&(this.bi=[]);for(var i=0;i<this.bi.length;i++)if(null==this.bi[i])return this.bi[i]=t.Yc.Oh(0,-1),i;return this.bi.push(t.Yc.Oh(0,-1)),this.bi.length-1},i.prototype.Td=function(t){this.bi[t]=null},i.prototype.bc=function(t){return null!=this.We?(t=this.Ua(t),this.We[t]):null},i.prototype.ed=function(i,e){var n=this.td.T(i,2);if(-1==n)return!1;if(this.fA){var s=new t.Sa;this.Vi(i,s),e.setStart(s),this.Vi(n,s),e.setEnd(s)}else this.vb.Gc(this.td.T(i,0),tt),e.em(0,tt),this.vb.Gc(this.td.T(n,0),tt),e.em(1,tt);return!0},i.prototype.mW=function(i,e,n){if(this.fA){var s=new t.Sa;this.Vi(i,s),n.setStart(s),this.Vi(e,s),n.setEnd(s)}else this.vb.Gc(i,tt),n.em(0,tt),this.vb.Gc(e,tt),n.em(1,tt)},i.prototype.vf=function(i,e){if(-1!=e){if(i!=this.Qf(e))throw t.i.Qa();var n=this.cs(e)}else n=this.kv(i);var s=this.wU(i);return-1!=e&&this.bp(e,s),this.ap(s,e),this.bp(s,n),-1!=n?this.ap(n,s):this.Zo(i,s),-1==e&&this.$o(i,s),this.Rl(i,this.da(i)+1),s},i.prototype.nG=function(t,i,e,n){t=this.vf(t,-1);for(var s=0,r=i,o=!1;r==e&&(o=!0),this.aj(r,t),s++,(r=this.U(r))!=i;);return this.kn(t,!0),this.Vj(t,s),o&&(i=e),this.Jf(t,i),this.Wg(t,this.Ma(i)),this.cp(t,!1),null!=n&&(n[0]=o),t},i.prototype.Zq=function(t){var i=this.cs(t),e=this.Rb(t),n=this.Qf(t);return-1!=i?this.ap(i,e):this.Zo(n,e),-1!=e?this.bp(e,i):this.$o(n,i),this.AO(t),this.Rl(n,this.da(n)-1),this.sF(t),e},i.prototype.AO=function(t){var i=this.Xa(t);if(-1!=i){for(var e=0,n=this.Ja(t);e<n;e++){var s=i;i=this.U(i),this.Vy(s)}i=this.Qf(t),this.Tj(i,this.I(i)-this.Ja(t))}this.Vj(t,0)},i.prototype.Rb=function(t){return this.md.T(t,2)},i.prototype.cs=function(t){return this.md.T(t,1)},i.prototype.Ja=function(t){return this.md.T(t,3)},i.prototype.dc=function(t){return!!(1&this.Sp(t))},i.prototype.kn=function(t,i){if(this.dc(t)!=i){if(0<this.Ja(t)){var e=this.Xa(t),n=this.rj(t);i?(this.Bc(n,e),this.Cc(e,n),e=this.Ua(n)):(this.Bc(n,-1),this.Cc(e,-1),e=this.Ua(n)),this.Xg(e,null)}this.VB(t,(1|this.Sp(t))-1|(i?1:0))}},i.prototype.Qf=function(t){return this.md.T(t,7)},i.prototype.YS=function(t){return!!(2&this.Sp(t))},i.prototype.PB=function(t,i){this.VB(t,(2|this.Sp(t))-2|(i?2:0))},i.prototype.wz=function(i){if(this.cT(i))return this.Oi.get(this.qv(i));var e=new t.yb,n=this.Xa(i);if(-1==n)return 0;var s=new t.h;this.D(n,s);for(var r=0,o=0,h=this.Ja(i);o<h;o++,n=this.U(n)){var a=this.bc(n);if(null==a){if(!this.ed(n,e))continue;a=e}r+=a.Tx(s.x,s.y)}return this.cp(i,!0),this.Oi.set(this.qv(i),r),r},i.prototype.gr=function(t,i,e){i=this.Ck[i],t=this.qv(t),i.size<this.Oi.size&&i.resize(this.Oi.size,-1),i.write(t,e)},i.prototype.sj=function(t,i){return(t=this.qv(t))<(i=this.Ck[i]).size?i.read(t):-1},i.prototype.Ky=function(){null==this.Ck&&(this.Ck=[]);for(var i=0;i<this.Ck.length;i++)if(null==this.Ck[i])return this.Ck[i]=t.Yc.Oh(0),i;return this.Ck.push(t.Yc.Oh(0)),this.Ck.length-1},i.prototype.CB=function(t){this.Ck[t]=null},i.prototype.ZT=function(i,e,n){if(-1==n)throw t.i.N();if(e!=n){var s=this.Rb(n),r=this.cs(n),o=this.Qf(n);-1==r?this.Zo(o,s):this.ap(r,s),-1==s?this.$o(o,r):this.bp(s,r),this.Tj(o,this.I(o)-this.Ja(n)),this.Rl(o,this.da(o)-1),r=-1==e?this.kv(i):this.cs(e),this.bp(n,r),this.ap(n,e),-1==e?this.$o(i,n):this.bp(e,n),-1==r?this.Zo(i,n):this.ap(r,n),this.Tj(i,this.I(i)+this.Ja(n)),this.Rl(i,this.da(i)+1),this.gx(n,i)}},i.prototype.ij=function(t,i){this.vb.ve(this.Ua(i),this.nm()),this.wj(t,-1,this.nm())},i.prototype.pd=function(i,e){var n=this.bd(i),s=this.Ma(i),r=this.U(i);-1!=s&&this.Bc(s,r);var o=this.Ja(n);if(i==this.Xa(n)&&this.Jf(n,1<o?r:-1),-1!=r&&this.Cc(r,s),i==this.rj(n)&&this.Wg(n,1<o?s:-1),-1!=s&&-1!=r){s=this.Ua(s);var h=this.Ua(r);e?null!=(e=this.Sh(s))&&(s=new t.h,this.vb.D(h,s),e.Qc(s)):(h=this.Ua(i),e=this.Sh(h),this.Xg(s,e),null!=e&&(s=this.vb.Na(s),e.Dc(s)))}return this.Vj(n,o-1),n=this.Qf(n),this.Tj(n,this.I(n)-1),this.Vy(i),r},i.prototype.Xa=function(t){return this.md.T(t,4)},i.prototype.rj=function(t){return this.md.T(t,5)},i.prototype.U=function(t){return this.td.T(t,2)},i.prototype.Ma=function(t){return this.td.T(t,1)},i.prototype.bd=function(t){return this.td.T(t,3)},i.prototype.fc=function(t,i){return this.wj(t,-1,i)},i.prototype.Yq=function(i){if(void 0===i)return this.Yq(!1);if(i instanceof n)return new n(i);var e,s=-1,r=-1,o=-1,h=0,a=!1;for(e=this.ld;-1!=e;e=this.ue(e))if(!i||t.aa.Hc(this.ic(e))){for(s=this.Ob(e);-1!=s;s=this.Rb(s))if(o=r=this.Xa(s),h=0,-1!=r){a=!0;break}if(a)break}return n.AP(this,e,s,r,o,h,i)},i.prototype.Oc=function(t){if(this.Il.Oc(t),null!=this.We)for(var i=0,e=this.We.length;i<e;i++)null!=this.We[i]&&this.We[i].Oc(t)},i.prototype.jr=function(t,i,e,n){n?this.NX(t,i,e):this.MX(t,i,e)},i.prototype.Cc=function(t,i){this.td.S(t,1,i)},i.prototype.Bc=function(t,i){this.td.S(t,2,i)},i.prototype.aj=function(t,i){this.td.S(t,3,i)},i.prototype.Vj=function(t,i){this.md.S(t,3,i)},i.prototype.Jf=function(t,i){this.md.S(t,4,i)},i.prototype.Wg=function(t,i){this.md.S(t,5,i)},i.prototype.Rl=function(t,i){this.cd.S(t,6,i)},i.prototype.Tj=function(t,i){this.cd.S(t,5,i)},i.prototype.pJ=function(t){var i=t;do{var e=this.U(i);this.Bc(i,this.Ma(i)),this.Cc(i,e),i=e}while(i!=t)},i.prototype.bC=function(t){this.fd=t},i.prototype.$q=function(t){var i=this.cs(t),e=this.Rb(t),n=this.Qf(t);-1!=i?this.ap(i,e):this.Zo(n,e),-1!=e?this.bp(e,i):this.$o(n,i),this.Jf(t,-1),this.Wg(t,-1),this.sF(t)},i.prototype.mi=function(i,e){var n=this.Ma(i),s=this.U(i);if(-1!=n&&this.Bc(n,s),-1!=s&&this.Cc(s,n),-1!=n&&-1!=s)if(n=this.Ua(n),s=this.Ua(s),e){if(null!=(e=this.Sh(n))){var r=new t.h;this.vb.D(s,r),e.Qc(r)}}else e=this.Ua(i),e=this.Sh(e),this.Xg(n,e),null!=e&&(r=new t.h,this.vb.D(n,r),e.Dc(r));this.Vy(i)},i.prototype.cT=function(t){return!!(4&this.Sp(t))},i.prototype.cp=function(t,i){this.VB(t,(4|this.Sp(t))-4|(i?4:0))},i.prototype.nx=function(t,i){var e=this.td.o;this.vb.mc();var n=this.vb.za[0].o;t.Vd(0,i,(function(t,i){var s=e[5*t];t=e[5*i],i=n[2*s],s=n[2*s+1];var r=n[2*t];return s<(t=n[2*t+1])?-1:s>t?1:i<r?-1:i>r?1:0}))},i.prototype.jS=function(){for(var i=this.ld;-1!=i;i=this.ue(i))if(!t.aa.Hc(this.ic(i)))return!0;return!1},i.prototype.hC=function(t,i){for(var e=this.Ob(t),n=this.Ob(i),s=this.kv(t),r=this.kv(i),o=this.Ob(t);-1!=o;o=this.Rb(o))this.gx(o,i);for(o=this.Ob(i);-1!=o;o=this.Rb(o))this.gx(o,t);this.Zo(t,n),this.Zo(i,e),this.$o(t,r),this.$o(i,s),e=this.I(t),n=this.da(t),s=this.da(i),this.Tj(t,this.I(i)),this.Tj(i,e),this.Rl(t,s),this.Rl(i,n),e=this.cd.T(t,2),this.cd.S(t,2,this.cd.T(i,2)),this.cd.S(i,2,e)},i}(),t.gd=i}(W||(W={})),function(t){var i=function(i){function e(e,n,s,r){var o=i.call(this)||this;return o.$=new t.l,void 0===e?o.UE():"number"==typeof e?o.VO(e,n,s,r):e instanceof t.Sa?void 0!==n?o.Qu(e,n,s):o.WO(e):e instanceof t.ra?void 0!==n?o.YO(e,n):o.XO(e):e instanceof t.l?o.UO(e):o.UE(),o}return Q(e,i),e.prototype.Qu=function(i,e,n){this.description=t.ee.og(),this.$.Oa(),i.B()||this.tu(i,e,n)},e.prototype.UO=function(i){this.description=t.ee.og(),this.$.K(i),this.$.normalize()},e.prototype.XO=function(i){if(null==i)throw t.i.N();this.description=i,this.$.Oa()},e.prototype.YO=function(i,e){if(null==i)throw t.i.N();this.description=i,this.$.K(e),this.$.normalize()},e.prototype.UE=function(){this.description=t.ee.og(),this.$.Oa()},e.prototype.WO=function(i){this.description=t.ee.og(),this.$.Oa(),i.B()||this.tu(i)},e.prototype.VO=function(i,e,n,s){this.description=t.ee.og(),this.K(i,e,n,s)},e.prototype.K=function(t,i,e,n){if(this.vc(),"number"==typeof t)this.$.K(t,i,e,n);else for(this.Oa(),i=0,e=t.length;i<e;i++)this.Zb(t[i])},e.prototype.Xo=function(i){if(this.vc(),!i.fT())throw t.i.N();this.$.K(i)},e.prototype.Oa=function(){this.vc(),this.$.Oa()},e.prototype.B=function(){return this.$.B()},e.prototype.R=function(){return this.$.R()},e.prototype.ca=function(){return this.$.ca()},e.prototype.gk=function(){return this.$.gk()},e.prototype.Jp=function(){return this.$.Jp()},e.prototype.Ip=function(){return this.$.sf()},e.prototype.Zb=function(i){if(i instanceof t.h)this.vc(),this.$.Zb(i);else if(i instanceof t.l)this.vc(),this.$.Zb(i);else if(i instanceof t.Sa){if(this.vc(),!i.Ac()){var n=i.description;if(this.description!=n&&this.Jl(n),this.B())this.tu(i);else{this.$.Zb(i.D());for(var s=1,r=n.Aa;s<r;s++)for(var o=n.Ed(s),h=t.ra.Va(o),a=0;a<h;a++){var u=i.Uc(o,a),c=this.Tg(o,a);c.Zb(u),this.setInterval(o,a,c)}}}}else if(i instanceof e&&!i.B())for((n=i.description)!=this.description&&this.Jl(n),this.$.Zb(i.$),s=1,r=n.Aa;s<r;s++)for(o=n.kd(s),h=t.ra.Va(o),a=0;a<h;a++)u=i.Tg(o,a),(c=this.Tg(o,a)).Zb(u),this.setInterval(o,a,c)},e.prototype.tu=function(i,e,n){if(void 0!==e){this.$.K(i.D(),e,n),n=1;for(var s=(e=i.description).Aa;n<s;n++)for(var r=e.Ed(n),o=t.ra.Va(r),h=0;h<o;h++){var a=i.Uc(r,h);this.setInterval(r,h,a,a)}}else for(this.$.K(i.ka[0],i.ka[1]),n=1,s=(e=i.description).Aa;n<s;n++)for(r=e.Ed(n),o=t.ra.Va(r),h=0;h<o;h++)a=i.Uc(r,h),this.setInterval(r,h,a,a)},e.prototype.setInterval=function(i,e,n,s){if(n="number"==typeof n?new t.Nc(n,s):n,this.vc(),0==i)if(0==e)this.$.v=n.oa,this.$.C=n.va;else{if(1!=e)throw t.i.ce();this.$.G=n.oa,this.$.H=n.va}else this.vD(0,i,e,n.oa),this.vD(1,i,e,n.va)},e.prototype.W=function(t,i){this.vc(),this.$.W(t,i)},e.prototype.Oc=function(i){if(i instanceof t.Dd)this.vc(),i.mC(this.$);else if(this.vc(),!this.$.B()){var e=new t.OK;this.Qo(e),e.XS()?e.Oa():i.mC(e)}},e.prototype.copyTo=function(i){if(i.getType()!=this.getType())throw t.i.N();if(i.vc(),i.description=this.description,i.$.K(this.$),i.ka=null,null!=this.ka){i.ou();for(var e=0;e<2*(this.description.Ae.length-2);e++)i.ka[e]=this.ka[e]}},e.prototype.Ia=function(){return new e(this.description)},e.prototype.Ke=function(){return this.$.wF()},e.prototype.Qb=function(){return this.$.yR()},e.prototype.getType=function(){return 197},e.prototype.Db=function(){return 2},e.prototype.bn=function(t){this.copyTo(t)},e.prototype.A=function(t){t.v=this.$.v,t.G=this.$.G,t.C=this.$.C,t.H=this.$.H},e.prototype.Qo=function(t){t.v=this.$.v,t.G=this.$.G,t.C=this.$.C,t.H=this.$.H,t.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},e.prototype.Tg=function(i,e){var n=new t.Nc;return n.K(this.Od(0,i,e),this.Od(1,i,e)),n},e.prototype.Hf=function(i,e){e.Nf(this.description);var n=this.description.Aa-1;switch(i){case 0:for(i=0;i<n;i++)for(var s=this.description.kd(i),r=t.ra.Va(s),o=0;o<r;o++)e.setAttribute(s,o,this.Od(0,s,o));e.Cb(this.$.v,this.$.G);break;case 1:for(i=0;i<n;i++)for(s=this.description.kd(i),r=t.ra.Va(s),o=0;o<r;o++)e.setAttribute(s,o,this.Od(1,s,o));e.Cb(this.$.v,this.$.H);break;case 2:for(i=0;i<n;i++)for(s=this.description.kd(i),r=t.ra.Va(s),o=0;o<r;o++)e.setAttribute(s,o,this.Od(0,s,o));e.Cb(this.$.C,this.$.H);break;case 3:for(i=0;i<n;i++)for(s=this.description.kd(i),r=t.ra.Va(s),o=0;o<r;o++)e.setAttribute(s,o,this.Od(1,s,o));e.Cb(this.$.C,this.$.G);break;default:throw t.i.ce()}},e.prototype.mB=function(t,i){t=this.$.mB(t),i.ma(t.x,t.y)},e.prototype.kR=function(t,i){return i*(t.Oq-2)},e.prototype.xF=function(i,e,n){if(this.$.B())throw t.i.fa("empty geometry");if(0==e)return 0!=i?0!=n?this.$.H:this.$.C:0!=n?this.$.G:this.$.v;if(n>=t.ra.Va(e))throw t.i.N();var s=this.description.Pf(e);return this.ou(),0<=s?this.ka[this.kR(this.description,i)+this.description.LR(s)-2+n]:t.ra.se(e)},e.prototype.ou=function(){if(this.vc(),null==this.ka&&2<this.description.Ae.length){this.ka=[];for(var i=e.Gg(this.description,0),n=e.Gg(this.description,1),s=0,r=1,o=this.description.Aa;r<o;r++){var h=this.description.kd(r),a=t.ra.Va(h);h=t.ra.se(h);for(var u=0;u<a;u++)this.ka[i+s]=h,this.ka[n+s]=h,s++}}},e.prototype.sn=function(i){if(null!=this.ka)if(2<i.Ae.length){for(var n=t.ee.Iw(i,this.description),s=[],r=e.Gg(this.description,0),o=e.Gg(this.description,1),h=e.Gg(i,0),a=e.Gg(i,1),u=0,c=1,l=i.Aa;c<l;c++){var f=i.kd(c),p=t.ra.Va(f);if(-1==n[c]){var d=t.ra.se(f);for(f=0;f<p;f++)s[h+u]=d,s[a+u]=d,u++}else for(d=this.description.$j(n[c])-2,f=0;f<p;f++)s[h+u]=this.ka[r+d],s[a+u]=this.ka[o+d],u++,d++}this.ka=s}else this.ka=null;this.description=i},e.prototype.Od=function(i,n,s){if(this.$.B())throw t.i.fa("This operation was performed on an Empty Geometry.");if(0==n)return 0!=i?0!=s?this.$.H:this.$.C:0!=s?this.$.G:this.$.v;if(s>=t.ra.Va(n))throw t.i.ce();var r=this.description.Pf(n);return 0<=r?(this.ou(),this.ka[e.Gg(this.description,i)+this.description.$j(r)-2+s]):t.ra.se(n)},e.prototype.vD=function(i,n,s,r){if(this.vc(),0==n)0!=i?0!=s?this.$.H=r:this.$.C=r:0!=s?this.$.G=r:this.$.v=r;else{if(s>=t.ra.Va(n))throw t.i.ce();if(!this.hasAttribute(n)){if(t.ra.DG(n,r))return;this.re(n)}n=this.description.Pf(n),this.ou(),this.ka[e.Gg(this.description,i)+this.description.$j(n)-2+s]=r}},e.Gg=function(t,i){return i*(t.Ae.length-2)},e.prototype.Ea=function(i){this.vc();var e=new t.l;return i.A(e),this.$.Ea(e)},e.prototype.isIntersecting=function(i){return i instanceof t.l?this.$.isIntersecting(i):this.$.isIntersecting(i.$)},e.prototype.Ju=function(t,i){this.vc(),t.B()?this.Oa():void 0!==i?this.tu(t,i):this.$.Ju(t.Lg(),t.ih())},e.prototype.offset=function(t,i){this.vc(),this.$.offset(t,i)},e.prototype.normalize=function(){this.vc(),this.$.normalize()},e.prototype.sf=function(i){if(void 0===i){if(i=new t.Sa(this.description),this.B())return i;for(e=this.description.Aa,n=1;n<e;n++)for(s=this.description.Ed(n),r=t.ra.Va(s),o=0;o<r;o++)h=.5*(this.Od(0,s,o)+this.Od(1,s,o)),i.setAttribute(s,o,h);return i.Cb(this.$.gk(),this.$.Jp()),i}if(i.Nf(this.description),this.B())i.Oa();else{for(var e=this.description.Aa,n=1;n<e;n++)for(var s=this.description.kd(n),r=t.ra.Va(s),o=0;o<r;o++){var h=.5*(this.xF(0,s,o)+this.xF(1,s,o));i.setAttribute(s,o,h)}i.Cb(this.$.sf())}},e.prototype.mz=function(){return new t.Sa(this.$.mz())},e.prototype.contains=function(i){return i instanceof t.Sa?!i.B()&&this.$.contains(i.Lg(),i.ih()):this.$.contains(i.$)},e.prototype.dP=function(t){return this.$.contains(t)},e.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof e)||this.description!=t.description)return!1;if(this.B())return!!t.B();if(!this.$.Nb(t.$))return!1;for(var i=0,n=2*(this.description.Ae.length-2);i<n;i++)if(this.ka[i]!=t.ka[i])return!1;return!0},e.prototype.cc=function(){var i=this.description.cc();if(i=t.O.Th(i,this.$.cc()),!this.B()&&null!=this.ka)for(var e=0,n=2*(this.description.Ae.length-2);e<n;e++)i=t.O.Th(i,this.ka[e]);return i},e.prototype.es=function(){return this.$.v},e.prototype.gs=function(){return this.$.G},e.prototype.ds=function(){return this.$.C},e.prototype.fs=function(){return this.$.H},e.prototype.mg=function(){return t.pi.gm(this,null)},e.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},e}(t.aa);t.Fh=i}(W||(W={})),function(t){var i=function(){function i(t,i,e,n){void 0===t?this.Oa():(this.v=t,this.G=i,this.C=e,this.H=n)}return i.construct=function(t,e,n,s){var r=new i;return r.v=t,r.G=e,r.C=n,r.H=s,r},i.prototype.K=function(e,n,s,r){"number"==typeof e?void 0!==s?(this.v=e,this.G=n,this.C=s,this.H=r,this.normalize()):(this.v=e,this.G=n,this.C=e,this.H=n):e instanceof t.h?void 0!==n?(this.v=e.x-.5*n,this.C=this.v+n,this.G=e.y-.5*s,this.H=this.G+s,this.normalize()):(this.v=e.x,this.G=e.y,this.C=e.x,this.H=e.y):e instanceof i?this.K(e.v,e.G,e.C,e.H):e instanceof t.Nc&&(e.B()||n.B()?this.Oa():(this.v=e.oa,this.C=e.va,this.G=n.oa,this.H=n.va))},i.prototype.Zw=function(t,i){if(void 0!==i)if(0==i)this.Oa();else{this.v=t[0].x,this.G=t[0].y,this.C=this.v,this.H=this.G;for(var e=1;e<i;e++){var n=t[e];n.x<this.v?this.v=n.x:n.x>this.C&&(this.C=n.x),n.y<this.G?this.G=n.y:n.y>this.H&&(this.H=n.y)}}else if(null==t||0==t.length)this.Oa();else for(n=t[0],this.K(n.x,n.y),e=1;e<t.length;e++)i=t[e],this.Lk(i.x,i.y)},i.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},i.prototype.B=function(){return isNaN(this.v)},i.prototype.Zb=function(e,n){"number"==typeof e?this.B()?(this.v=e,this.G=n,this.C=e,this.H=n):(this.v>e?this.v=e:this.C<e&&(this.C=e),this.G>n?this.G=n:this.H<n&&(this.H=n)):e instanceof t.h||e instanceof t.Nd?this.Zb(e.x,e.y):e instanceof i&&!e.B()&&(this.Zb(e.v,e.G),this.Zb(e.C,e.H))},i.prototype.Lk=function(t,i){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>i?this.G=i:this.H<i&&(this.H=i)},i.prototype.W=function(t,i){this.B()||(this.v-=t,this.C+=t,this.G-=i,this.H+=i,(this.v>this.C||this.G>this.H)&&this.Oa())},i.prototype.scale=function(t){0>t&&this.Oa(),this.B()||(this.v*=t,this.C*=t,this.G*=t,this.H*=t)},i.prototype.zoom=function(t,i){this.B()||this.K(this.sf(),t*this.R(),i*this.ca())},i.prototype.isIntersecting=function(t){return!this.B()&&!t.B()&&(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},i.prototype.HG=function(t){return(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},i.prototype.Ea=function(t){return!this.B()&&!t.B()&&(t.v>this.v&&(this.v=t.v),t.C<this.C&&(this.C=t.C),t.G>this.G&&(this.G=t.G),t.H<this.H&&(this.H=t.H),(t=this.v<=this.C&&this.G<=this.H)||this.Oa(),t)},i.prototype.mB=function(i){switch(i){case 0:return t.h.construct(this.v,this.G);case 1:return t.h.construct(this.v,this.H);case 2:return t.h.construct(this.C,this.H);case 3:return t.h.construct(this.C,this.G);default:throw t.i.ce()}},i.prototype.nB=function(i){if(null==i||4>i.length)throw t.i.N();null!=i[0]?i[0].ma(this.v,this.G):i[0]=t.h.construct(this.v,this.G),null!=i[1]?i[1].ma(this.v,this.H):i[1]=t.h.construct(this.v,this.H),null!=i[2]?i[2].ma(this.C,this.H):i[2]=t.h.construct(this.C,this.H),null!=i[3]?i[3].ma(this.C,this.G):i[3]=t.h.construct(this.C,this.G)},i.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},i.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},i.prototype.gk=function(){return(this.C+this.v)/2},i.prototype.Jp=function(){return(this.H+this.G)/2},i.prototype.R=function(){return this.C-this.v},i.prototype.ca=function(){return this.H-this.G},i.prototype.move=function(t,i){this.B()||(this.v+=t,this.G+=i,this.C+=t,this.H+=i)},i.prototype.Ju=function(i,e){if(void 0!==e)this.move(i-this.gk(),e-this.Jp());else if(i instanceof t.h)this.Ju(i.x,i.y);else{if(!(i instanceof t.Sa))throw t.i.N();e=(this.C-this.v)/2;var n=(this.H-this.G)/2;this.v=i.Lg()-e,this.C=i.Lg()+e,this.G=i.ih()-n,this.H=i.ih()+n}},i.prototype.offset=function(t,i){this.v+=t,this.C+=t,this.G+=i,this.H+=i},i.prototype.normalize=function(){if(!this.B()){var t=Math.min(this.v,this.C),i=Math.max(this.v,this.C);this.v=t,this.C=i,t=Math.min(this.G,this.H),i=Math.max(this.G,this.H),this.G=t,this.H=i}},i.prototype.dn=function(t){t.ma(this.v,this.G)},i.prototype.$I=function(t){t.ma(this.C,this.G)},i.prototype.cJ=function(t){t.ma(this.v,this.H)},i.prototype.en=function(t){t.ma(this.C,this.H)},i.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},i.prototype.sf=function(){return t.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},i.prototype.mz=function(){return t.h.construct(this.v,this.G)},i.prototype.contains=function(e,n){if(void 0!==n)return e>=this.v&&e<=this.C&&n>=this.G&&n<=this.H;if(e instanceof t.Sa)return this.contains(e.Lg(),e.ih());if(e instanceof t.h)return this.contains(e.x,e.y);if(e instanceof i)return e.v>=this.v&&e.C<=this.C&&e.G>=this.G&&e.H<=this.H;throw t.i.N()},i.prototype.hm=function(e,n){if(void 0!==n)return e>this.v&&e<this.C&&n>this.G&&n<this.H;if(e instanceof t.h)return this.hm(e.x,e.y);if(e instanceof i)return e.v>this.v&&e.C<this.C&&e.G>this.G&&e.H<this.H;throw t.i.N()},i.prototype.Nb=function(t){return t==this||t instanceof i&&(!(!this.B()||!t.B())||this.v==t.v&&this.G==t.G&&this.C==t.C&&this.H==t.H)},i.prototype.cc=function(){var i=this.v;i=t.O.truncate(i^i>>>32);var e=t.O.Th(i);return i=this.C,i=t.O.truncate(i^i>>>32),e=t.O.Th(i,e),i=this.G,i=t.O.truncate(i^i>>>32),e=t.O.Th(i,e),i=this.H,i=t.O.truncate(i^i>>>32),t.O.Th(i,e)},i.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},i.prototype.zy=function(t,e){var n=this.Zj(t),s=this.Zj(e);if(n&s)return 0;if(!(n|s))return 4;var r=(0!=n?1:0)|(0!=s?2:0);do{var o=e.x-t.x,h=e.y-t.y;if(o>h?n&i.YC?(n&i.ju?(t.y+=h*(this.v-t.x)/o,t.x=this.v):(t.y+=h*(this.C-t.x)/o,t.x=this.C),n=this.Zj(t)):s&i.YC?(s&i.ju?(e.y+=h*(this.v-e.x)/o,e.x=this.v):(e.y+=h*(this.C-e.x)/o,e.x=this.C),s=this.Zj(e)):0!=n?(n&i.ku?(t.x+=o*(this.G-t.y)/h,t.y=this.G):(t.x+=o*(this.H-t.y)/h,t.y=this.H),n=this.Zj(t)):(s&i.ku?(e.x+=o*(this.G-e.y)/h,e.y=this.G):(e.x+=o*(this.H-e.y)/h,e.y=this.H),s=this.Zj(e)):n&i.ZC?(n&i.ku?(t.x+=o*(this.G-t.y)/h,t.y=this.G):(t.x+=o*(this.H-t.y)/h,t.y=this.H),n=this.Zj(t)):s&i.ZC?(s&i.ku?(e.x+=o*(this.G-e.y)/h,e.y=this.G):(e.x+=o*(this.H-e.y)/h,e.y=this.H),s=this.Zj(e)):0!=n?(n&i.ju?(t.y+=h*(this.v-t.x)/o,t.x=this.v):(t.y+=h*(this.C-t.x)/o,t.x=this.C),n=this.Zj(t)):(s&i.ju?(e.y+=h*(this.v-e.x)/o,e.x=this.v):(e.y+=h*(this.C-e.x)/o,e.x=this.C),s=this.Zj(e)),n&s)return 0}while(n|s);return r},i.prototype.Zj=function(t){return(t.x<this.v?1:0)|(t.x>this.C?1:0)<<1|(t.y<this.G?1:0)<<2|(t.y>this.H?1:0)<<3},i.prototype.Bi=function(t){return!this.B()&&(this.R()<=t||this.ca()<=t)},i.prototype.tb=function(i){return i instanceof t.h?Math.sqrt(this.iK(i)):Math.sqrt(this.px(i))},i.prototype.px=function(t){var i=0,e=0,n=this.v-t.C;return n>i&&(i=n),(n=this.G-t.H)>e&&(e=n),(n=t.v-this.C)>i&&(i=n),(n=t.G-this.H)>e&&(e=n),i*i+e*e},i.prototype.iK=function(t){var i=0,e=0,n=this.v-t.x;return n>i&&(i=n),(n=this.G-t.y)>e&&(e=n),(n=t.x-this.C)>i&&(i=n),(n=t.y-this.H)>e&&(e=n),i*i+e*e},i.prototype.cn=function(t){this.B()?t.Oa():t.K(this.v,this.C)},i.ju=1,i.ku=4,i.YC=3,i.ZC=12,i}();t.l=i}(W||(W={})),function(t){var i,e;(e=i||(i={}))[e.initialize=0]="initialize",e[e.initializeRed=1]="initializeRed",e[e.initializeBlue=2]="initializeBlue",e[e.initializeRedBlue=3]="initializeRedBlue",e[e.sweep=4]="sweep",e[e.sweepBruteForce=5]="sweepBruteForce",e[e.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",e[e.sweepRedBlue=7]="sweepRedBlue",e[e.sweepRed=8]="sweepRed",e[e.sweepBlue=9]="sweepBlue",e[e.iterate=10]="iterate",e[e.iterateRed=11]="iterateRed",e[e.iterateBlue=12]="iterateBlue",e[e.iterateBruteForce=13]="iterateBruteForce",e[e.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",e[e.resetRed=15]="resetRed",e[e.resetBlue=16]="resetBlue";var n=function(){function t(t,i){this.ci=t,this.dH=i}return t.prototype.nr=function(t,i,e){this.ci.JX(e,t,i,this.dH)},t.prototype.$p=function(t){return this.ci.Rr(t,this.dH)},t}();i=function(){function i(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new t.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return i.prototype.kr=function(){this.Nk(),this.Pv=!0,null==this.Eb?(this.fo=new t.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},i.prototype.ad=function(i,e){if(!this.Pv)throw t.i.Hb();var n=new t.l;n.K(e),this.fo.add(i),this.Eb.push(n)},i.prototype.Fp=function(){if(!this.Pv)throw t.i.Hb();this.Pv=!1,null!=this.Eb&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},i.prototype.pK=function(){this.Nk(),this.Ov=!0,null==this.Eb?(this.fo=new t.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},i.prototype.JD=function(i,e){if(!this.Ov)throw t.i.Hb();var n=new t.l;n.K(e),this.fo.add(i),this.Eb.push(n)},i.prototype.iF=function(){if(!this.Ov)throw t.i.Hb();this.Ov=!1,null!=this.Eb&&0<this.Eb.length&&null!=this.qd&&0<this.qd.length&&(-1==this.Xb||2==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=1),this.Ic=!1)},i.prototype.oK=function(){this.Nk(),this.Nv=!0,null==this.qd?(this.cw=new t.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},i.prototype.ED=function(i,e){if(!this.Nv)throw t.i.Hb();var n=new t.l;n.K(e),this.cw.add(i),this.qd.push(n)},i.prototype.hF=function(){if(!this.Nv)throw t.i.Hb();this.Nv=!1,null!=this.Eb&&0<this.Eb.length&&null!=this.qd&&0<this.qd.length&&(-1==this.Xb||1==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=2),this.Ic=!1)},i.prototype.next=function(){if(this.Ic)return!1;for(var i=!0;i;)switch(this.Xb){case 0:i=this.Gz();break;case 1:i=this.rS();break;case 2:i=this.oS();break;case 3:i=this.qS();break;case 4:i=this.UX();break;case 5:i=this.QX();break;case 6:i=this.RX();break;case 7:i=this.SX();break;case 8:i=this.ux();break;case 9:i=this.iC();break;case 10:i=this.Uz();break;case 11:i=this.jT();break;case 12:i=this.gT();break;case 13:i=this.hT();break;case 14:i=this.iT();break;case 15:i=this.kJ();break;case 16:i=this.jJ();break;default:throw t.i.Qa()}return!this.Ic},i.prototype.aC=function(t){this.qa=t},i.prototype.uz=function(t){return this.Eb[t]},i.prototype.az=function(t){return this.qd[t]},i.prototype.nl=function(t){return this.fo.read(t)},i.prototype.hl=function(t){return this.cw.read(t)},i.Tz=function(t){return!(1&~t)},i.eq=function(t){return!(1&t)},i.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},i.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),this.rd.kr();for(var i=0;i<this.Eb.length;i++){var e=this.Eb[i];this.rd.Br(e.v,e.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),i=0;i<2*this.Eb.length;i++)this.Ld.add(i);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},i.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),this.rd.kr();for(var i=0;i<this.Eb.length;i++){var e=this.Eb[i];this.rd.Br(e.v,e.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),i=0;i<2*this.Eb.length;i++)this.Ld.add(i);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},i.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.ff&&(this.ff=new t.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new t.ia(0)),this.ff.kr();for(var i=0;i<this.qd.length;i++){var e=this.qd[i];this.ff.Br(e.v,e.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),i=0;i<2*this.qd.length;i++)this.Ef.add(i);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},i.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),null==this.ff&&(this.ff=new t.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new t.ia(0)),this.rd.kr();for(var i=0;i<this.Eb.length;i++){var e=this.Eb[i];this.rd.Br(e.v,e.C)}for(this.rd.Fp(),this.ff.kr(),i=0;i<this.qd.length;i++)e=this.qd[i],this.ff.Br(e.v,e.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),i=0;i<2*this.Eb.length;i++)this.Ld.add(i);for(i=0;i<2*this.qd.length;i++)this.Ef.add(i);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},i.prototype.UX=function(){var t=this.Ld.get(--this.pe),e=t>>1;return i.eq(t)?(this.rd.remove(e),0!=this.pe||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[e].v,this.Eb[e].C,this.qa),this.Vf=e,this.Xb=10,!0)},i.prototype.QX=function(){return-1==--this.pe?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},i.prototype.RX=function(){return-1==--this.pe?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},i.prototype.SX=function(){var t=this.Ld.get(this.pe-1),e=this.Ef.get(this.Rg-1),n=this.Rr(t,!0),s=this.Rr(e,!1);return n>s?this.ux():n<s?this.iC():i.Tz(t)?this.ux():i.Tz(e)?this.iC():this.ux()},i.prototype.ux=function(){var e=this.Ld.get(--this.pe),n=e>>1;if(i.eq(e))return-1!=this.Df&&-1!=this.Ij.get(n)?(this.Ad.jd(this.Df,this.Ij.get(n)),this.Ij.set(n,-1)):this.rd.remove(n),0!=this.pe||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(-1!=this.Cf&&0<this.Ad.bs(this.Cf))for(e=this.Ad.rc(this.Cf);-1!=e;){var s=this.Ad.getData(e);this.ff.vj(s),this.Hj.set(s,-1),s=this.Ad.lb(e),this.Ad.jd(this.Cf,e),e=s}return 0<this.ff.size()?(this.ow.EB(this.Eb[n].v,this.Eb[n].C,this.qa),this.Vf=n,this.Xb=12):(-1==this.Df&&(null==this.Ad&&(this.Ad=new t.jp),this.Ij=new t.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(n,this.Ad.addElement(this.Df,n)),this.Xb=7),!0},i.prototype.iC=function(){var e=this.Ef.get(--this.Rg),n=e>>1;if(i.eq(e))return-1!=this.Cf&&-1!=this.Hj.get(n)?(this.Ad.jd(this.Cf,this.Hj.get(n)),this.Hj.set(n,-1)):this.ff.remove(n),0!=this.Rg||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(-1!=this.Df&&0<this.Ad.bs(this.Df))for(e=this.Ad.rc(this.Df);-1!=e;){var s=this.Ad.getData(e);this.rd.vj(s),this.Ij.set(s,-1),s=this.Ad.lb(e),this.Ad.jd(this.Df,e),e=s}return 0<this.rd.size()?(this.oo.EB(this.qd[n].v,this.qd[n].C,this.qa),this.Af=n,this.Xb=11):(-1==this.Cf&&(null==this.Ad&&(this.Ad=new t.jp),this.Hj=new t.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(n,this.Ad.addElement(this.Cf,n)),this.Xb=7),!0},i.prototype.Uz=function(){if(this.Af=this.oo.next(),-1!=this.Af)return!1;var t=this.Ld.get(this.pe)>>1;return this.rd.vj(t),this.Xb=4,!0},i.prototype.jT=function(){if(this.Vf=this.oo.next(),-1!=this.Vf)return!1;this.Af=this.Vf=-1;var t=this.Ef.get(this.Rg)>>1;return this.ff.vj(t),this.Xb=7,!0},i.prototype.gT=function(){if(this.Af=this.ow.next(),-1!=this.Af)return!1;var t=this.Ld.get(this.pe)>>1;return this.rd.vj(t),this.Xb=7,!0},i.prototype.hT=function(){if(-1==--this.Rg)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var t=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(t)||(this.Af=this.Rg,!1)},i.prototype.iT=function(){if(-1==--this.Rg)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var t=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(t)||(this.Af=this.Rg,!1)},i.prototype.kJ=function(){return null==this.rd?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},i.prototype.jJ=function(){return null==this.ff?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},i.prototype.Kt=function(i,e,s){null==this.Am&&(this.Am=new t.Xt),s=new n(this,s),this.Am.sort(i,0,e,s)},i.prototype.JX=function(t,e,n,s){var r=this;t.Vd(e,n,(function(t,e){var n=r.Rr(t,s),o=r.Rr(e,s);return n<o||n==o&&i.eq(t)&&i.Tz(e)?-1:1}))},i.prototype.Rr=function(t,e){var n=.5*this.qa;return e?(e=this.Eb[t>>1],i.eq(t)?e.G-n:e.H+n):(e=this.qd[t>>1],i.eq(t)?e.G-n:e.H+n)},i}(),t.xC=i}(W||(W={})),function(t){var i=function(){function i(){}return i.construct=function(t,e,n,s,r,o){var h=new i;return h.v=t,h.G=e,h.Ye=n,h.C=s,h.H=r,h.Bg=o,h},i.prototype.Oa=function(){this.Ye=this.v=NaN},i.prototype.B=function(){return isNaN(this.v)},i.prototype.XS=function(){return isNaN(this.Ye)},i.prototype.K=function(t,i,e,n,s,r){void 0!==n?"number"==typeof t?(this.v=t,this.G=i,this.Ye=e,this.C=n,this.H=s,this.Bg=r):(this.v=t.x-.5*i,this.C=this.v+i,this.G=t.y-.5*e,this.H=this.G+e,this.Ye=t.z-.5*n,this.Bg=this.Ye+n):(this.v=t,this.G=i,this.Ye=e,this.C=t,this.H=i,this.Bg=e)},i.prototype.move=function(t){this.v+=t.x,this.G+=t.y,this.Ye+=t.z,this.C+=t.x,this.H+=t.y,this.Bg+=t.z},i.prototype.copyTo=function(t){t.v=this.v,t.G=this.G,t.C=this.C,t.H=this.H},i.prototype.Lk=function(t,i,e){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>i?this.G=i:this.H<i&&(this.H=i),0==isNaN(this.Ye)?this.Ye>e?this.Ye=e:this.Bg<e&&(this.Bg=e):this.Bg=this.Ye=e},i.prototype.Zb=function(e,n,s){if("number"==typeof e)this.B()?(this.v=e,this.G=n,this.Ye=s,this.C=e,this.H=n,this.Bg=s):this.Lk(e,n,s);else if(e instanceof t.Nd)this.Zb(e.x,e.y,e.z);else{if(!(e instanceof i))throw t.i.N();e.B()||(this.Zb(e.v,e.G,e.Ye),this.Zb(e.C,e.H,e.Bg))}},i.prototype.construct=function(t,i,e){t.B()||i.B()?this.Oa():(this.v=t.oa,this.C=t.va,this.G=i.oa,this.H=i.va,this.Ye=e.oa,this.Bg=e.va)},i.prototype.nB=function(i){if(null==i||8>i.length)throw t.i.N();i[0]=new t.Nd(this.v,this.G,this.Ye),i[1]=new t.Nd(this.v,this.H,this.Ye),i[2]=new t.Nd(this.C,this.H,this.Ye),i[3]=new t.Nd(this.C,this.G,this.Ye),i[4]=new t.Nd(this.v,this.G,this.Bg),i[5]=new t.Nd(this.v,this.H,this.Bg),i[6]=new t.Nd(this.C,this.H,this.Bg),i[7]=new t.Nd(this.C,this.G,this.Bg)},i.prototype.Zw=function(t){if(null==t||0==t.length)this.Oa();else{var i=t[0];for(this.K(i.x,i.y,i.z),i=1;i<t.length;i++){var e=t[i];this.Lk(e.x,e.y,e.z)}}},i}();t.OK=i}(W||(W={})),function(t){!function(t){t.Qa=function(){var t=Error();return t.message="Internal Error",t},t.Ie=function(){var t=Error();return t.message="Not Implemented",t},t.Xk=function(){var t=Error();return t.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",t},t.Hb=function(){var t=Error();return t.message="Invalid Call",t},t.N=function(t){var i=Error();return i.message="Illegal Argument Exception",void 0!==t&&(i.message+=": "+t),i},t.fu=function(t){var i=Error();return i.message=void 0!==t?"Runtime Exception: "+t:"Runtime Exception.",i},t.fa=function(t){var i=Error();return i.message="Geometry Exception: "+t,i},t.GK=function(){var t=Error();return t.message="Assert Failed Exception",t},t.ce=function(){var t=Error();return t.message="IndexOutOfBoundsException",t},t.WC=function(){var t=Error();return t.message="UserCancelException",t}}(t.i||(t.i={}))}(W||(W={})),function(t){(t=t.bm||(t.bm={}))[t.forward=0]="forward",t[t.reverse=1]="reverse"}(W||(W={})),function(t){var i=function(){function i(t,i){this.Wa=t,this.FH=i,this.LH=-1,this.sl=!1}return i.prototype.qe=function(){},i.prototype.next=function(){if(++this.LH==this.FH.I())return null;var i=this.FH.Na(this.LH);i.scale(this.Wa.ec);var e=new t.Da;return this.Wa.sy(i,this.sl,e),e},i.prototype.La=function(){return 0},i}(),e=function(){function i(i,e,n){this.Wa=i,this.rw=e,this.Xn=!1,this.co=n,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new t.Da,this.uk=[]}return i.prototype.qe=function(){},i.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var i=t.aa.jg(this.qq);return t.Fg.Mk(i,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(null==this.sd&&(this.sd=this.rw.Ga(),this.sd.$a(),null!=this.co&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;null!=this.co&&this.co.Yk(null,0)}i=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var e=this.uk.length=0,s=new t.h,r=new t.h,o=[0];this.sd.Ha()&&8>this.FA;){var h=this.sd.ha();if(s.L(h.ac()),r.L(h.wc()),s.scale(this.Wa.ec),r.scale(this.Wa.ec),t.cj.Mu(s,r)?s.x=r.x:t.cj.Ku(s,r)&&(r.x=s.x),this.uk.length=0,t.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,s,r,this.Wa.QA,this.Wa.Zs,o,this.Nj,this.Gs,this.uk,this.bw),null!=this.co&&(h=this.uk.slice(0),this.co.qG(this.co.da()-1,h,h.length-1)),t.cj.Lu(s,r)?(this.qq.Oa(),this.Wa.sy(s,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(o[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}null==i&&(i=new t.Da).Yk(null,0),this.OD(i),e++}if(this.bw[0]=0,0<e){for(o=this.sd.wb();0<e;)this.sd.li(),s.L(this.rw.Na(this.sd.wb())),r.L(this.rw.Na(this.sd.ik())),s.scale(this.Wa.ec),r.scale(this.Wa.ec),this.sl&&(t.cj.Mu(s,r)?s.x=r.x:t.cj.Ku(s,r)&&(r.x=s.x)),this.uk.length=0,t.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,r,s,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(i),e--;return s.L(this.rw.Na(this.sd.wb())),s.scale(this.Wa.ec),n.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,s,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,i,NaN,NaN),this.sd.Vb(o),this.sd.ha(),e=t.ta.kj(null,i,!0),t.Fg.Mk(i,e,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),i=t.aa.jg(this.qq),t.Fg.Mk(i,this.Wa.Aq,!0,!0,this.Wa.Ub)},i.prototype.OD=function(i){var e=this.uk[0],s=this.Nj[0]-1.570796326794897,r=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var o=this.di+1.570796326794897;s=o+3.141592653589793-(this.di-this.Nj[0])}else s=(o=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var h=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0]||this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),a=!1;if(Math.abs(s-o)<=.5*this.Wa.ao)if(h){var u=i.Na(i.I()-2);u.scale(this.Wa.ec);var c=new t.ga(0);for(t.kb.Xy(this.Wa.Tb,this.Wa.kc,e.x,e.y,u.x,u.y,c),u=c.u;u<=o;)u+=6.283185307179586;for(;u>o;)u-=6.283185307179586;u<s&&(a=!0)}else a=!0;a?(i.DB(0,i.I()-1),this.sl||((e=new t.h).L(i.Na(i.I()-1)),e.scale(this.Wa.ec),-3.141592653589793>e.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<e.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),h||(s=.5*(s+o))):(h?((o=new t.h).L(e),o.scale(1/this.Wa.ec),i.wf(0,-1,o)):n.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],o,s,this.Wa.ao,this.sl,this.sk,i,NaN,NaN),this.FA+=1)}n.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,s,r,this.sl,this.sk,i),this.di=this.Gs[0]},i.prototype.xy=function(t,i){return this.Wa.xy(this.uk,t,this.Nj[0],this.Gs[0],this.sl,i)},i.prototype.La=function(){return 0},i}(),n=function(){function n(){}return n.buffer=function(i,e,s,r,o,h){if(null==i)throw t.i.N("Geometry::Geodesic_bufferer::buffer");if(i.B())return new t.Da(i.description);var a=new n;a.Qg=e,a.Jc=t.cb.sc(e);var u=t.cb.vv(a.Jc);if(a.Ub=h,a.Tb=t.cb.ev(a.Jc),a.kc=u*(2-u),a.ec=a.Jc.Hd().ai,a.qa=a.Qg.Kn(),a.Aq=a.Jc.Kn(),a.Zs=a.Aq*a.ec,a.zq=1.570796326794897/a.ec,a.OY=3.141592653589793/a.ec,a.Js=6.283185307179586/a.ec,a.PY=a.Js/6,a.LA=0,a.NY=1.5707963267948966*a.Tb/a.LA,4==s?(a.ze=2,a.Wv=!0):(a.ze=s,a.Wv=!1),a.Ka=r,a.rb=Math.abs(r),isNaN(o)||.001>o?a.xX():a.$n=o,s=i.getType(),t.aa.yd(s)?((s=new t.Ta(i.description)).oc(i,!0),i=s,s=1607):197==s&&(s=new t.l,i.A(s),s.R()<=a.qa||s.ca()<=a.qa?((s=new t.Ta(i.description)).ad(i,!1),i=s,s=1607):((s=new t.Da(i.description)).ad(i,!1),i=s,s=1736)),a.yX(),t.aa.Rn(s)||a.zX(),a.rb<=.5*a.$n)return 1736!=s?new t.Da(i.description):a.Wv?i:t.cj.Qr(i,a.Qg,a.ze,a.QA,-1,h);if(0>a.Ka&&1736!=s)return new t.Da(i.description);if(a.Wv&&t.aa.Hc(s)?(e=t.cj.Qr(i,e,4,NaN,a.$n,h),i=t.cb.zh(e,a.Qg,a.Jc)):i=t.cb.zh(i,a.Qg,a.Jc),(i=t.Hh.lj(i,a.Jc)).B())return new t.Da(i.description);switch(!a.Wv&&t.aa.Hc(s)&&(i=t.cj.pI(a.ec,i)),i=n.KX(i,a.Jc),s){case 1736:e=a.UN(i);break;case 1607:e=a.VN(i);break;case 550:e=a.SN(i);break;case 33:e=a.TN(i);break;default:throw t.i.fa("corrupted_geometry")}return(a=t.cb.zh(e,a.Jc,a.Qg)).Jl(i.description),a},n.prototype.UN=function(i){var n=new t.Da;i=new e(this,i,n),i=t.Gh.local().V(i,this.Jc,this.Ub).next(),i=t.ip.nj(i,this.Jc,2);var s=new t.Dd;return s.scale(1/this.ec,1/this.ec),n.Oc(s),n=t.ip.nj(n,this.Jc,2),0<=this.Ka?t.Gh.local().V(n,i,this.Jc,this.Ub):t.kp.local().V(n,i,this.Jc,this.Ub)},n.prototype.VN=function(i){return i=new e(this,i,null),i=t.Gh.local().V(i,this.Jc,this.Ub).next(),t.ip.nj(i,this.Jc,2)},n.prototype.SN=function(e){return e=new i(this,e),e=t.Gh.local().V(e,this.Jc,this.Ub).next(),t.ip.nj(e,this.Jc,2)},n.prototype.TN=function(i){(i=i.D()).scale(this.ec);var e=new t.Da;return this.sy(i,!1,e),t.ip.nj(e,this.Jc,2)},n.prototype.xy=function(i,e,s,r,o,h){var a=i[0],u=i[i.length-1],c=a.y>u.y?a.y:u.y,l=t.F.q(this.Tb,this.kc,a.y<u.y?a.y:u.y);if(c=t.F.q(this.Tb,this.kc,c),.001<this.LA-(l+e+this.rb)&&.001<this.LA+(c-e-this.rb))return!1;l=(e=s-1.570796326794897)-3.141592653589793,c=e+3.141592653589793;var f=(s=r+1.570796326794897)+3.141592653589793,p=[NaN],d=[NaN],v=[NaN],y=[NaN];if(r=!1,n.dJ(this.Tb,this.kc,this.rb,a,e,l,u,s,p,d),n.dJ(this.Tb,this.kc,this.rb,u,f,s,a,l,v,y),(s<p[0]&&p[0]<f||s<d[0]&&d[0]<f)&&(r=!0),r||(l<v[0]&&v[0]<e||l<y[0]&&y[0]<e)&&(r=!0),!r&&o)return!1;for(var g=[],b=i.length-1;0<=b;b--)g.push(i[b]);return h.Oa(),h.Yk(null,0),b=[0],n.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,i,e,s,o,b,h),n.Hr(this.Tb,this.kc,this.ec,this.rb,u,s,f,this.ao,o,b,h,p[0],d[0]),n.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,g,f,c,o,b,h),n.Hr(this.Tb,this.kc,this.ec,this.rb,a,l,e,this.ao,o,b,h,v[0],y[0]),i=!1,o||(i=this.IE(this.ec,h)),r||i},n.prototype.sy=function(t,i,e){e.Oa(),e.Yk(null,0),n.Hr(this.Tb,this.kc,this.ec,this.rb,t,-this.ao,6.283185307179586,this.ao,i,[0],e,NaN,NaN),i||this.IE(this.ec,e)},n.prototype.IE=function(t,i){var e=this.vO(t,i);return t=this.wO(t,i),e||t},n.prototype.vO=function(i,e){var n=e.I(),s=!1,r=new t.l;if(e.A(r),!t.s.Y(r.H*i,1.570796326794897)&&!t.s.Y(r.G*i,-1.570796326794897))return!1;var o=new t.h;for(--n;0<=n;n--)e.D(n,o),(o.y==r.H&&t.s.Y(o.y*i,1.570796326794897)||o.y==r.G&&t.s.Y(o.y*i,-1.570796326794897))&&(s=!0,this.OI(o,n,e));return s},n.prototype.wO=function(t,i){var e=i.Na(0),n=i.Na(i.I()-1);return 3.141592653589793<Math.abs(e.x-n.x)*t?(this.VV(i),!0):this.uO(i)},n.prototype.uO=function(t){return 0>t.Ke()&&(this.UV(t),!0)},n.prototype.OI=function(i,e,n){var s=n.I(),r=0<e?e-1:s-1;if(s=n.Na(e<s-1?e+1:0),r=n.Na(r),!t.s.Y(s.y,i.y)&&!t.s.Y(s.x,i.x)){var o=new t.h;o.ma(s.x,i.y),n.Cb(e,o)}t.s.Y(r.y,i.y)||t.s.Y(r.x,i.x)||((s=new t.h).ma(r.x,i.y),n.wf(0,e,s))},n.prototype.VV=function(i){var e=new t.Da,n=new t.Da,s=new t.Dd,r=i.Na(0),o=i.Na(i.I()-1),h=new t.h;r.x>o.x?(o=this.zq,s.gg(-this.Js,0)):(o=-this.zq,s.gg(this.Js,0)),e.add(i,!1),i.Oa(),n.add(e,!1),n.Oc(s),r=new t.l,n.A(r),r.W((this.Js-r.R())/2,0),r.G=-this.zq,r.H=this.zq;for(var a=0;a<n.I();a++)n.D(a,h),e.wf(0,-1,h);for(n.Oc(s),a=0;a<n.I();a++)n.D(a,h),e.wf(0,-1,h);n=e.Na(0),s=e.Na(e.I()-1),h.ma(s.x,o),e.wf(0,-1,h),h.ma(.5*(s.x+n.x),o),e.wf(0,-1,h),h.ma(n.x,o),e.wf(0,-1,h),e=t.Hh.ks(e,this.Jc,2,!0,r.v),e=t.Hh.ks(e,this.Jc,2,!0,r.C),e=t.Ud.clip(e,r,this.Aq,NaN),i.add(e,!1)},n.prototype.UV=function(i){var e=new t.l;i.A(e),e.W((this.Js-e.R())/2,0),e.G=-this.zq,e.H=this.zq,i.Yk(null,0);var n=new t.h;n.ma(e.v,e.G),i.wf(1,-1,n),n.ma(e.v,e.H),i.wf(1,-1,n),n.ma(.5*(e.v+e.C),e.H),i.wf(1,-1,n),n.ma(e.C,e.H),i.wf(1,-1,n),n.ma(e.C,e.G),i.wf(1,-1,n),n.ma(.5*(e.v+e.C),e.G),i.wf(1,-1,n)},n.qy=function(i,e,s,r,o,h,a,u,c,l,f){var p=null;c||((p=new t.h).Rc(),0<f.I()&&(p.L(f.Na(f.I()-1)),p.scale(s)));var d=new t.ga(0),v=new t.ga(0),y=new t.ga(0),g=new t.h,b=new t.h,w=h[h.length-1];s=1/s;for(var m=0;m<h.length;m++){var x=h[m];if(0==m)var M=a;else m==h.length-1?M=u:(t.kb.wd(i,e,w.x,w.y,x.x,x.y,null,null,d,o),M=d.u-1.570796326794897);t.kb.yi(i,e,x.x,x.y,r,M,v,y),c?b.ma(v.u,y.u):(g.ma(v.u,y.u),n.gJ(x.x,g.x,p.x,l),b.ma(l[0]+g.x,g.y),p.L(b)),b.scale(s),f.wf(0,-1,b)}},n.Hr=function(i,e,s,r,o,h,a,u,c,l,f,p,d){if(!(a-h<u)){var v=new t.ga(0),y=new t.ga(0),g=new t.h,b=new t.h,w=null;c||((w=new t.h).Rc(),0<f.I()&&(w.L(f.Na(f.I()-1)),w.scale(s)));var m=t.O.truncate(Math.ceil(h/u)),x=m++*u;for(x==h&&(x=m++*u),s=1/s;x<a+u&&(h<p&&p<x?(x=p,m--):h<d&&d<x&&(x=d,m--),!(x>=a));)t.kb.yi(i,e,o.x,o.y,r,x,v,y),c?b.ma(v.u,y.u):(g.ma(v.u,y.u),n.gJ(o.x,g.x,w.x,l),b.ma(l[0]+g.x,g.y),w.L(b)),b.scale(s),f.wf(0,-1,b),h=x,x=m++*u}},n.dJ=function(i,e,n,s,r,o,h,a,u,c){var l=new t.h,f=new t.h,p=new t.ga(0),d=new t.ga(0);for(t.kb.yi(i,e,s.x,s.y,n,r,p,d),l.ma(p.u,d.u),t.kb.yi(i,e,s.x,s.y,n,o,p,d),f.ma(p.u,d.u),n=new t.ga(0),t.kb.Xy(i,e,h.x,h.y,l.x,l.y,n),u[0]=n.u,t.kb.Xy(i,e,h.x,h.y,f.x,f.y,n),c[0]=n.u;u[0]<=c[0];)u[0]+=6.283185307179586;for(;u[0]>c[0];)u[0]-=6.283185307179586;for(;u[0]>=a;)u[0]-=6.283185307179586,c[0]-=6.283185307179586;for(;u[0]<a;)u[0]+=6.283185307179586,c[0]+=6.283185307179586},n.gJ=function(t,i,e,n){if(isNaN(e)){for(;3.141592653589793<n[0]+i-t;)n[0]-=6.283185307179586;for(;3.141592653589793<t-(n[0]+i);)n[0]+=6.283185307179586}else 3.141592653589793<n[0]+i-e?n[0]-=6.283185307179586:3.141592653589793<e-(n[0]+i)&&(n[0]+=6.283185307179586)},n.KX=function(i,e){var n=i.getType(),s=t.aa.Hc(n)?i.da():550==n?i.I():1;if(1==s)return i;var r=new t.ia(0);r.resize(s);for(var o=[],h=new t.l,a=0;a<s;a++){if(r.write(a,a),t.aa.Hc(n)){i.Rj(a,h);var u=h.sf()}else u=i.Na(a);u=t.XK.$X(e,u),o[a]=u}for(r.Vd(0,r.size,(function(t,i){return o[t]<o[i]?-1:o[t]>o[i]?1:0})),e=i.Ia(),a=0;a<s;a++)h=r.read(a),t.aa.Hc(n)?e.addPath(i,h,!0):e.Fd(i,h,h+1);return e},n.prototype.yX=function(){var i=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);i=Math.min(i,.39269908169872414*this.Tb);var e=new t.h;e.ma(0,10*this.ec);var n=45*this.ec,s=new t.ga(0),r=new t.ga(0),o=new t.ga(0),h=new t.ga(0),a=new t.ga(0),u=new t.ga(0),c=new t.ga(0),l=new t.ga(0),f=new t.h,p=new t.h,d=new t.h,v=new t.h;t.kb.yi(this.Tb,this.kc,e.x,e.y,i,0,s,r),f.ma(s.u,r.u),t.kb.yi(this.Tb,this.kc,e.x,e.y,i,n,o,h),p.ma(o.u,h.u),s=new t.ga(0),r=new t.ga(0);for(var y=new t.ga(0);t.kb.yi(this.Tb,this.kc,e.x,e.y,i,.5*(0+n),a,u),d.ma(a.u,u.u),t.kb.wd(this.Tb,this.kc,f.x,f.y,p.x,p.y,s,r,null,2),t.kb.oj(this.Tb,this.kc,f.x,f.y,.5*s.u,r.u,c,l,2),v.ma(c.u,l.u),t.kb.wd(this.Tb,this.kc,d.x,d.y,v.x,v.y,y,null,null,2),!(y.u<=this.$n);)n*=.9,t.kb.yi(this.Tb,this.kc,e.x,e.y,i,n,o,h),p.ma(o.u,h.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(n-0))},n.prototype.zX=function(){var i=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);i=Math.min(i,.39269908169872414*this.Tb);var e=new t.h,n=new t.h;e.ma(0,10*this.ec),n.ma(10*this.ec,10*this.ec);var s=new t.ga(0),r=new t.ga(0),o=new t.ga(0);t.kb.wd(this.Tb,this.kc,e.x,e.y,n.x,n.y,o,s,r,this.ze);var h=new t.ga(0),a=new t.ga(0),u=new t.ga(0),c=new t.ga(0),l=new t.h,f=new t.ga(0),p=new t.ga(0),d=new t.ga(0),v=new t.ga(0),y=new t.ga(0),g=new t.ga(0),b=new t.ga(0),w=new t.ga(0),m=new t.ga(0),x=new t.h,M=new t.h,_=new t.h,k=new t.h,A=1;s=s.u,r=r.u+1.570796326794897,o=o.u,t.kb.yi(this.Tb,this.kc,e.x,e.y,i,s-1.570796326794897,p,d),x.ma(p.u,d.u),t.kb.yi(this.Tb,this.kc,n.x,n.y,i,r,v,y),M.ma(v.u,y.u),p=new t.ga(0),d=new t.ga(0),r=new t.ga(0);for(var T=new t.ga(0);t.kb.oj(this.Tb,this.kc,e.x,e.y,.5*(0+A)*o,s,h,a,this.ze),l.ma(h.u,a.u),t.kb.wd(this.Tb,this.kc,e.x,e.y,l.x,l.y,null,null,f,this.ze),t.kb.yi(this.Tb,this.kc,l.x,l.y,i,f.u+1.570796326794897,g,b),_.ma(g.u,b.u),t.kb.wd(this.Tb,this.kc,x.x,x.y,M.x,M.y,p,d,null,2),t.kb.oj(this.Tb,this.kc,x.x,x.y,.5*p.u,d.u,w,m,2),k.ma(w.u,m.u),t.kb.wd(this.Tb,this.kc,_.x,_.y,k.x,k.y,r,null,null,2),!(r.u<=this.$n);)A*=.9,t.kb.oj(this.Tb,this.kc,e.x,e.y,A*o,s,u,c,this.ze),n.ma(u.u,c.u),t.kb.wd(this.Tb,this.kc,e.x,e.y,n.x,n.y,null,null,T,this.ze),t.kb.yi(this.Tb,this.kc,n.x,n.y,i,T.u+1.570796326794897,v,y),M.ma(v.u,y.u);1e5<(i=A*o)&&(i=1e5),this.QA=i},n.prototype.xX=function(){var t=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/t&&(t=this.rb/500),.01>t&&(t=.01),this.$n=t},n}();t.VK=n}(W||(W={})),function(t){var i=function(){function i(){}return i.Mf=function(i,e){var n=new t.h;n.L(e),i.push(n)},i.up=function(t,i){t.add(i.x),t.add(i.y)},i.hB=function(t){t.Bh(t.size-2)},i.oB=function(t,i){i.ma(t.get(t.size-2),t.get(t.size-1))},i.Qr=function(e,n,s,r,o,h){if(null==e)throw t.i.N();var a=e.getType();if(e.B()||t.aa.Rn(a))return e;var u=new i;u.Qg=n,u.Jc=t.cb.sc(n);var c=t.cb.vv(u.Jc);if(u.Ub=h,u.Tb=t.cb.ev(u.Jc),u.kc=c*(2-c),u.ec=u.Jc.Hd().ai,u.Aq=u.Jc.Kn(),u.Zs=u.Aq*u.ec,u.AA=r,u.zA=o,u.ze=s,197==a?(s=new t.Da(e.description)).ad(e,!1):t.aa.yd(a)?(s=new t.Ta(e.description)).oc(e,!0):s=e,4!=u.ze){if((n=0==u.Qg.Nb(u.Jc)?t.cb.zh(s,u.Qg,u.Jc):t.Hh.lj(s,u.Jc)).B())return n;n=i.pI(u.ec,n),n=u.Zy(n),n=t.ip.nj(n,u.Jc,u.ze),u=t.cb.zh(n,u.Jc,u.Qg)}else{if(2==t.Eg.Sb(n)?(e=t.cb.ml(),(n=t.Xj.local().V(s,e,n,h))==e&&(n=new t.Da,e.copyTo(n))):n=t.Hh.lj(s,u.Jc),n.B())return n;u=u.CX(n)}return u},i.pI=function(e,n){var s=new t.l;if(n.xc(s),3.141592653589793>s.R()*e)return n;var r=!1;s=n.Ga();for(var o=new t.h,h=new t.h;s.$a();)for(;s.Ha();){var a=s.ha();if(o.L(a.ac()),h.L(a.wc()),o.scale(e),h.scale(e),3.141592653589793<Math.abs(o.x-h.x)){var u=i.Lu(o,h);if(!u){r=!0;break}if(6.283185307179586<Math.abs(o.x-h.x)){r=!0;break}}}if(!r)return n;r=n.Ia();var c=1<n.description.Aa,l=new t.h,f=new t.h,p=new t.h,d=new t.h,v=new t.Sa;for(s.Zi();s.$a();)for(var y=NaN,g=[0];s.Ha();){if(a=s.ha(),o.L(a.ac()),h.L(a.wc()),o.scale(e),h.scale(e),isNaN(y)?(i.Wi(o.x,NaN,g),f.L(o)):f.L(p),y=f.x,u=i.Lu(o,h)){if(6.283185307179586<h.x-o.x)for(;6.283185307179586<h.x-o.x;)h.x-=6.283185307179586;if(-6.283185307179586>h.x-o.x)for(;-6.283185307179586>h.x-o.x;)h.x+=6.283185307179586;i.Wi(h.x,NaN,g),p.L(h)}else l.L(h),i.AU(l),i.Wi(l.x,y,g),p.ma(g[0]+l.x,l.y);.5>Math.abs(p.x-h.x)&&p.L(h),c?(a.Tw(0,v),d.L(f),d.scale(1/e),v.Cb(d),(u=s.vm())?r.nf(v):r.lineTo(v),s.Qn()&&!n.dc(s.gb)&&(a.Tw(1,v),d.L(p),d.scale(1/e),v.Cb(d),r.lineTo(v))):((u=s.vm())&&r.Hz(null,0),a=r.da()-1,d.L(f),d.scale(1/e),r.wf(a,-1,d),s.Qn()&&!n.dc(s.gb)&&(d.L(p),d.scale(1/e),r.wf(a,-1,d)))}return r},i.tF=function(e,n,s,r,o,h,a,u,c,l,f,p){var d=new t.h,v=new t.h,y=0<r.compare(o);i.fJ(y,r,o,d,v),i.uF(e,n,s,d,v,h,NaN,a,u,c,l,null,f,p),y&&i.fC(c,l,null,f)},i.prototype.Zy=function(e){var n=e.Ia(),s=e.Ga(),r=[],o=null,h=null,a=1<e.description.Aa;a&&(o=new t.be(0),h=new t.ig);for(var u=[0],c=new t.h,l=new t.h,f=new t.h,p=new t.h;s.$a();)for(u[0]=0;s.Ha();){var d=s.ha();c.L(d.ac()),l.L(d.wc()),c.scale(this.ec),l.scale(this.ec);var v=0<c.compare(l);i.fJ(v,c,l,f,p),r.length=0,null!=o&&o.Bh(0),0<this.AA?i.uF(this.Tb,this.kc,this.ze,f,p,this.AA,this.zA,this.Zs,null,null,null,a?o:null,r,u):i.aR(this.Tb,this.kc,this.ze,f,p,this.zA,this.Zs,a?o:null,r,u),v&&i.fC(null,null,a?o:null,r),r[0].L(d.ac()),r[r.length-1].L(d.wc());for(var y=1;y<r.length-1;y++)r[y].scale(1/this.ec);a?(v=i.eJ(v,d,h),i.TD(s.vm(),s.Qn()&&!e.dc(s.gb),d,v,o,r,n)):i.SD(s.vm(),s.Qn()&&!e.dc(s.gb),r,n)}return n},i.prototype.CX=function(e){var n=e.Ia(),s=e.Ga(),r=[],o=null,h=new t.ig,a=1<e.description.Aa;for(a&&(o=new t.be(0));s.$a();)for(;s.Ha();){var u=s.ha(),c=u.ac(),l=u.wc();c=0<c.compare(l),l=i.eJ(c,u,h),r.length=0,null!=o&&o.Bh(0),i.BX(this.Tb,this.kc,this.ec,l,this.Qg,this.AA,this.zA,a?o:null,r),c&&i.fC(null,null,a?o:null,r),a?i.TD(s.vm(),s.Qn()&&!e.dc(s.gb),u,l,o,r,n):i.SD(s.vm(),s.Qn()&&!e.dc(s.gb),r,n)}return n},i.SD=function(t,i,e,n){t&&n.Hz(null,0),t=n.da()-1;var s=e.slice(0);n.qG(t,s,s.length-1),i&&n.wf(t,-1,e[e.length-1])},i.TD=function(i,e,n,s,r,o,h){var a=new t.Sa;if(n.To(a),i?h.nf(a):h.lineTo(a),2<o.length){i=s.Qb();for(var u=1;u<o.length-1;u++){var c=s.NG(r.get(u)*i);s.Tw(c,a),a.Cb(o[u]),h.lineTo(a)}}e&&(n.Po(a),h.lineTo(a))},i.uF=function(e,n,s,r,o,h,a,u,c,l,f,p,d,v){var y=new t.ga(0),g=new t.ga(0),b=new t.ga(0);t.kb.wd(e,n,r.x,r.y,o.x,o.y,b,y,g,s),b=b.u;var w=y=y.u;0>w&&(w+=6.283185307179586),0>(g=g.u)&&(g+=6.283185307179586),null!=c&&(c[0]=b),null!=l&&(l[0]=w),null!=f&&(f[0]=g),l=c=NaN,null!=p&&(c=((l=t.F.Ah(e,n))-(f=t.F.q(e,n,r.y)))/b,l=(l+f)/b),f=i.Mu(r,o),g=i.Ku(r,o),w=f||g;var m=i.FE(r,o,u),x=new t.ga(0),M=new t.ga(0),_=new t.h,k=new t.h,A=new t.h;i.Wi(r.x,NaN,v);var T=[v[0]];if(b<=h)i.Mf(d,r),i.Wi(o.x,NaN,v),null!=p&&p.add(0),w?(f&&i.kB(r,o,p,d),g&&i.iB(r,o,p,d)):m?i.jB(r,o,y,c,l,p,d):0<a&&(k.ma(r.x-T[0],r.y),_.ma(o.x-v[0],o.y),i.Yy(e,n,s,r,b,y,k,_,0,1,a,p,d,T)),i.Mf(d,o);else{var j=b/((h=1+t.O.truncate(Math.ceil(b/h)))-1),P=new t.h,I=0;i.Mf(d,r),P.L(r),k.ma(r.x-v[0],r.y),null!=p&&p.add(0);for(var E=1;E<h;E++){if(E<h-1){t.kb.oj(e,n,r.x,r.y,E*j,y,x,M,s),_.ma(x.u,M.u),i.Wi(_.x,P.x,v),A.ma(v[0]+_.x,_.y);var z=E/(h-1)}else i.Wi(o.x,NaN,v),_.ma(o.x-v[0],o.y),A.L(o),z=1;w?(1==E&&f&&i.kB(r,A,p,d),E==h-1&&g&&i.iB(P,o,p,d)):m?i.EE(P,A,u)&&(r.x<o.x?P.x>A.x&&(v[0]+=6.283185307179586,A.ma(v[0]+_.x,_.y)):P.x<A.x&&(v[0]-=6.283185307179586,A.ma(v[0]+_.x,_.y)),i.jB(P,A,y,c,l,p,d)):0<a&&i.Yy(e,n,s,r,b,y,k,_,I,z,a,p,d,T),i.Mf(d,A),null!=p&&p.add(z),P.L(A),k.L(_),T[0]=v[0],I=z}}},i.aR=function(e,n,s,r,o,h,a,u,c,l){var f=new t.ga(0),p=new t.ga(0),d=new t.ga(0);t.kb.wd(e,n,r.x,r.y,o.x,o.y,d,f,p,s),p=d.u,f=f.u;var v=d=NaN;if(null!=u){v=t.F.Ah(e,n);var y=t.F.q(e,n,r.y);d=(v-y)/p,v=(v+y)/p}y=i.Mu(r,o);var g=i.Ku(r,o),b=y||g;a=i.FE(r,o,a);var w=i.Lu(r,o);w=b||a||w,i.Wi(r.x,NaN,l);var m=new t.h;i.Mf(c,r),m.L(r),null!=u&&u.add(0),w?(b?(y&&i.kB(r,o,u,c),g&&i.iB(r,o,u,c)):a&&i.jB(r,o,f,d,v,u,c),i.Wi(o.x,NaN,l),i.Mf(c,o)):p<=h?(i.Wi(o.x,NaN,l),i.Mf(c,o)):(d=new t.h,a=new t.h,d.L(r),a.L(o),d.x-=l[0],a.x-=l[0],-3.141592653589793>a.x?a.x+=6.283185307179586:3.141592653589793<a.x&&(a.x-=6.283185307179586),i.Yy(e,n,s,r,p,f,d,a,0,1,h,u,c,l),i.Mf(c,o),i.Wi(o.x,NaN,l)),null!=u&&u.add(1)},i.Yy=function(e,n,s,r,o,h,a,u,c,l,f,p,d,v){var y=new t.h,g=new t.h;y.ma(a.x+v[0],a.y),new t.ga(0),new t.ga(0),new t.ga(0),new t.ga(0);var b=new t.ga(0),w=new t.ga(0),m=new t.ga(0),x=new t.h,M=new t.h,_=new t.h,k=new t.h;x.L(a),M.L(u),a=new t.be(0),u=new t.be(0),i.up(a,M),u.add(l);var A=new t.h,T=new t.yb,j=[];for(i.YJ(4,j);0<a.size;){for(var P,I=!1,E=NaN,z=0;3>z;z++)if(P=j[z]*l+(1-j[z])*c,t.kb.oj(e,n,r.x,r.y,P*o,h,b,w,s),_.ma(b.u,w.u),0==z&&(E=P,k.L(_)),i.WW(x,_,M,T),T.hc(T.fe(_,!0),A),t.kb.wd(e,n,_.x,_.y,A.x,A.y,m,null,null,2),m.u>f){I=!0;break}I?(M.L(k),l=E,i.up(a,M),u.add(l)):(i.hB(a),u.En(u.size-1,1,u.size-1),0<a.size&&(i.Wi(M.x,y.x,v),g.ma(v[0]+M.x,M.y),i.Mf(d,g),y.L(g),null!=p&&p.add(l),x.L(M),c=l,i.oB(a,M),l=u.get(u.size-1)))}},i.BX=function(e,n,s,r,o,h,a,u,c){var l=new t.h,f=new t.h,p=new t.h,d=new t.h,v=new t.h,y=new t.h,g=new t.h,b=new t.h,w=new t.h,m=new t.h,x=new t.ga(0),M=new t.ga(0),_=new t.h,k=[[],[]],A=1==t.Eg.Sb(o);o=o.Xd(0);var T=r.ac(),j=r.wc();A?(y.ma(T.x*s,T.y*s),g.ma(j.x*s,j.y*s)):(k[0][0]=T.x,k[0][1]=T.y,k[1][0]=j.x,k[1][1]=j.y,t.cb.vt(),y.x=k[0][0]*s,y.y=k[0][1]*s,g.x=k[1][0]*s,g.y=k[1][1]*s);var P=0,I=0,E=1,z=r.Pn();l.L(T),f.L(j),j=new t.be(0);var C=new t.be(0),S=new t.be(0);i.up(j,f),i.up(C,g),S.add(E),i.Mf(c,l),null!=u&&u.add(I);var N=[],R=0<a?z?5:3:z?5:1;i.YJ(R,N);for(var O=new t.ga(0),G=new t.ga(0),D=new t.ga(0),V=new t.ga(0),L=new t.ga(0),F=new t.ga(0),q=new t.ga(0);0<C.size;){var B=!1,H=NaN;for(t.kb.wd(e,n,y.x,y.y,g.x,g.y,O,G,null,2),T=0;T<R;T++){if(0==T){if(!z&&0>=a&&O.u<=h&&3.141592653589793>Math.abs(y.x-g.x))break;if(r.Ux(I,E)<=o)break}var Z=N[T]*E+(1-N[T])*I;if(r.hc(Z,p),A?b.ma(p.x*s,p.y*s):(k[0][0]=p.x,k[0][1]=p.y,t.cb.vt(),b.x=k[0][0]*s,b.y=k[0][1]*s),0==T&&(H=Z,v.L(p),m.L(b),0<h&&(O.u>h||3.141592653589793<=Math.abs(y.x-g.x)))){B=!0;break}if(z&&0<h){if(t.kb.wd(e,n,y.x,y.y,b.x,b.y,D,null,null,2),D.u>h||3.141592653589793<=Math.abs(y.x-b.x)){B=!0;break}}else if(0<a){if(z?(d.NS(l,f,N[T]),A?w.ma(d.x*s,d.y*s):(k[0][0]=d.x,k[0][1]=d.y,t.cb.vt(),w.x=k[0][0]*s,w.y=k[0][1]*s)):(d.L(p),w.L(b)),t.kb.wd(e,n,y.x,y.y,w.x,w.y,V,null,null,2),!(V.u<=O.u)){B=!0;break}if(t.kb.oj(e,n,y.x,y.y,V.u,G.u,x,M,2),_.ma(x.u,M.u),t.kb.wd(e,n,_.x,_.y,b.x,b.y,L,null,null,2),L.u>a){B=!0;break}if(z){if(t.kb.wd(e,n,_.x,_.y,w.x,w.y,F,null,null,2),F.u>a){B=!0;break}if(t.kb.wd(e,n,w.x,w.y,b.x,b.y,q,null,null,2),q.u>a){B=!0;break}}}}B?(f.L(v),g.L(m),E=H,i.up(j,f),i.up(C,g),S.add(E)):(i.hB(j),i.hB(C),S.En(S.size-1,1,S.size-1),i.Mf(c,f),P+=O.u,null!=u&&u.add(P),0<C.size&&(l.L(f),y.L(g),I=E,i.oB(j,f),i.oB(C,g),E=S.get(S.size-1)))}if(null!=u)for(e=1/P,T=0;T<u.size;T++)u.write(T,u.read(T)*e)},i.fC=function(t,i,e,n){n.reverse(),null!=e&&e.ni(0,e.size,1),e=null!=t?t[0]:NaN,n=null!=i?i[0]:NaN,null!=t&&(t[0]=n),null!=i&&(i[0]=e)},i.fJ=function(t,i,e,n,s){t?(n.L(e),s.L(i)):(n.L(i),s.L(e))},i.eJ=function(t,i,e){return t?(e.create(i.getType()),i.copyTo(e.get()),e.get().reverse(),e.get()):i},i.Wi=function(t,i,e){if(isNaN(i)){for(;3.141592653589793<e[0]-t;)e[0]-=6.283185307179586;for(;3.141592653589793<t-e[0];)e[0]+=6.283185307179586}else 3.141592653589793<e[0]+t-i?e[0]-=6.283185307179586:3.141592653589793<i-(e[0]+t)&&(e[0]+=6.283185307179586)},i.WW=function(t,i,e,n){3.141592653589793>Math.abs(i.x-t.x)?(n.Dc(t),3.141592653589793<=e.x-t.x?n.Ql(e.x-6.283185307179586,e.y):3.141592653589793<=t.x-e.x?n.Ql(e.x+6.283185307179586,e.y):n.Ql(e.x,e.y)):(n.Dc(e),3.141592653589793<=t.x-e.x?n.Ql(t.x-6.283185307179586,t.y):3.141592653589793<=e.x-t.x?n.Ql(t.x+6.283185307179586,t.y):n.Ql(t.x,t.y))},i.YJ=function(t,i){for(var e=0;e<t;e++){var n=Math.ceil(e/2)/(t+1);0!=e%2&&(n=-n),i[e]=.5+n}},i.Mu=function(i,e){return!!(t.s.Y(i.y,1.570796326794897)&&!t.s.Y(e.y,1.570796326794897)||t.s.Y(i.y,-1.570796326794897)&&!t.s.Y(e.y,-1.570796326794897))},i.Ku=function(i,e){return!!(t.s.Y(e.y,1.570796326794897)&&!t.s.Y(i.y,1.570796326794897)||t.s.Y(e.y,-1.570796326794897)&&!t.s.Y(i.y,-1.570796326794897))},i.FE=function(e,n,s){return!(!i.EE(e,n,s)||t.s.Y(e.y,1.570796326794897)||t.s.Y(e.y,-1.570796326794897)||t.s.Y(n.y,1.570796326794897)||t.s.Y(n.y,-1.570796326794897))},i.EE=function(t,i,e){return Math.abs(Math.abs(t.x-i.x)-3.141592653589793)<=e},i.Lu=function(i,e){return!!(t.s.Y(i.y,1.570796326794897)&&t.s.Y(e.y,1.570796326794897)||t.s.Y(i.y,-1.570796326794897)&&t.s.Y(e.y,-1.570796326794897))},i.kB=function(e,n,s,r){if(0<e.y){var o=new t.h;o.ma(n.x,1.570796326794897)}else(o=new t.h).ma(n.x,-1.570796326794897);t.s.Y(e.x,o.x)||t.s.Y(n.y,o.y)||(i.Mf(r,o),null!=s&&s.add(0))},i.iB=function(e,n,s,r){if(0<n.y){var o=new t.h;o.ma(e.x,1.570796326794897)}else(o=new t.h).ma(e.x,-1.570796326794897);t.s.Y(n.x,o.x)||t.s.Y(e.y,o.y)||(i.Mf(r,o),null!=s&&s.add(1))},i.jB=function(e,n,s,r,o,h,a){t.s.Cd(s)?(0<1.570796326794897-e.y&&((s=new t.h).ma(e.x,1.570796326794897),i.Mf(a,s),null!=h&&h.add(r)),0<1.570796326794897-n.y&&((s=new t.h).ma(n.x,1.570796326794897),i.Mf(a,s),null!=h&&h.add(r))):(0<1.570796326794897+e.y&&((s=new t.h).ma(e.x,-1.570796326794897),i.Mf(a,s),null!=h&&h.add(o)),0<1.570796326794897+n.y&&((s=new t.h).ma(n.x,-1.570796326794897),i.Mf(a,s),null!=h&&h.add(o)))},i.AU=function(t){if(-3.141592653589793>t.x)for(;-3.141592653589793>t.x;)t.x+=6.283185307179586;if(3.141592653589793<t.x)for(;3.141592653589793<t.x;)t.x-=6.283185307179586},i}();t.cj=i}(W||(W={})),function(t){t.ip=function(){function i(){}return i.nj=function(e,n,s){if(null==e||null==n||!t.cb.Wc(n))throw t.i.N();if(e.B())return e;var r=e,o=r.getType();if(t.aa.Hc(o)){r=t.Hh.lj(e,n),e=new t.l,r.A(e),o=t.ta.Wd(n,e,!1);for(var h=t.cb.gh(n),a=Math.floor((e.v-h.v)/h.R())*h.R()+h.v;a<e.C;)a>e.v+o&&a<e.C-o&&(r=t.Hh.ks(r,n,s,!0,a)),a+=h.R()}else{if(197==o)return(e=new t.Da(r.description)).ad(r,!1),i.nj(e,n,s);if(t.aa.yd(o))return(e=new t.Ta(r.description)).oc(r,!0),i.nj(e,n,s)}return i.Uy(r,n)},i.Uy=function(e,n){if(null==e||null==n||!t.cb.Wc(n))throw t.i.N();if(e.B())return e;var s=e.getType();return 197==s?(s=new t.Da(e.description)).ad(e,!1):t.aa.yd(s)?(s=new t.Ta(e.description)).oc(e,!0):s=e,(s=t.Hh.lj(s,n)).B()?s:1==t.Eg.Sb(n)?t.Hh.Fn(s,n,0,s!=e,0):i.NQ(s,n,s!=e)},i.NQ=function(i,e,n){if(!t.cb.Wc(e))throw t.i.N();if(i.B())return i;var s=t.cb.bf(e),r=-180*s;return s*=360,2==t.Eg.Sb(e)&&(s=(r=t.cb.gh(e)).C,s-=r=r.v),t.Hh.Hp(i,r,s,e,n,0,!0)},i}()}(W||(W={})),function(t){t.BY=function(){function t(){}return t.P=function(t){return 0>t?-t:t},t.Mb=function(i,e){return 0<=e?t.P(i):-t.P(i)},t.Y=function(i,e){return i==e||t.P(i-e)<=t.JC*(1+(t.P(i)+t.P(e))/2)},t.Cd=function(i){return 0==i||t.P(i)<=t.JC},t.Ah=function(i,e){var n=(e=(1-(e=Math.sqrt(1-e)))/(1+e))*e;return i/(1+e)*(1+n*(.25+n*(.015625+1/256*n)))*t.EL},t.EL=1.5707963267948966,t.JC=3552713678800501e-30,t}()}(W||(W={})),function(t){var i=function(t){this.Wf=t,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};t.DY=i;var e=function(){function e(t){void 0===t&&(t=null),this.Cj=null,this.Un=!1,null!==t&&(this.Cj=new i(t))}return e.prototype.Ec=function(){return null!=this.Cj?this.Cj.Kk:0},e.prototype.Of=function(){var t=new e;return this.copyTo(t),t},e.prototype.copyTo=function(t){t.Cj=this.Cj,t.Un=this.Un},e.prototype.Qz=function(){this.Un=!this.Un},e.prototype.qm=function(){return null!=this.Cj?this.Cj.Wf:null},e.prototype.LJ=function(e){if(0>=e)throw t.i.N();if(e!=this.Ec()){if(null==(e=t.pf.geogtran(e)))throw t.i.N("Geogtran not found.");this.Cj=new i(e)}},e.prototype.Bz=function(){return null==this.Cj?null:this.Cj.Wf.toString()},e.prototype.tX=function(e){if(null==e)throw t.i.N();var n=null;try{n=t.pf.fromString(t.Sc.PE_TYPE_GEOGTRAN,e)}catch(i){throw t.i.N()}this.Cj=new i(n)},e.prototype.Nb=function(t){return t==this||!(!(t instanceof e)||(0>=this.Ec()||this.Ec()!=t.Ec())&&!this.qm().isEqual(t.qm()))&&this.Un==t.Un},e.prototype.toString=function(){var t="GeographicTransformation: "+this.Bz();return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},e.create=function(t,i){var n=new e;return n.LJ(t),i&&n.Qz(),n},e.uP=function(t,i){var n=new e;return n.tX(t),i&&n.Qz(),n},e}();t.Dx=e}(W||(W={})),function(t){var i=function(){function t(){}return t.construct=function(i,e,n,s){var r=new t;return r.hw=i,r.iw=e,r.QY=n,r.RY=s,r},t.Ey=function(t,i){return t.hw==i.hw?t.iw==i.iw?0:t.iw<i.iw?-1:1:t.hw<i.hw?-1:1},t}(),e=function(){function t(){this.yT=[],this.zT=[],this.qp()}return t.kz=function(){return null==t.jK&&(t.jK=new t),t.jK},t.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},t.prototype.iD=function(t){try{var e=[];e=e.sort(i.Ey);for(var n=0;n<e.length;n++)t.push(e[n])}catch(t){}},t}();t.CY=e}(W||(W={})),function(t){var i=function(){function t(){}return t.prototype.yD=function(t){this.Fk=t},t.prototype.WM=function(t){this.Fb=t},t.prototype.xD=function(t){this.zo=t},t.CE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType())},t.AE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType()||20>t.I())},t.BE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType()||20>t.I())},t}();t.Uk=i}(W||(W={})),function(t){t.$b=function(){function i(){}return i.TT=function(i){var e=new t.Da;return e.sx(i.es(),i.gs()),e.yj(i.es(),i.fs()),e.yj(i.ds(),i.fs()),e.yj(i.ds(),i.gs()),e},i.zh=function(i,e){return null===i?null:t.Hx.local().V(i,e,null)},i.jY=function(i,e){var n=t.Gh.local();return i=new t.Zc(i),n.V(i,e,null).next()},i.im=function(i,e,n){return t.kp.local().V(i,e,n,null)},i.ep=function(i,e,n){return t.Kx.local().V(i,e,n,null)},i.VX=function(i,e,n){var s=t.Kx.local();for(i=new t.Zc(i),e=new t.Zc(e),n=s.V(i,e,n,null),s=[];null!=(e=n.next());)s.push(e);return s},i.Nb=function(i,e,n){return t.dj.local().V(3,i,e,n,null)},i.TP=function(i,e,n){return t.dj.local().V(4,i,e,n,null)},i.RS=function(i,e,n){var s=t.Xj.local();for(i=new t.Zc(i),e=new t.Zc(e),n=s.V(i,e,n,null),s=[];null!=(e=n.next());)s.push(e);return s},i.QP=function(i,e,n){var s=t.kp.local();for(i=new t.Zc(i),e=new t.Zc(e),n=s.V(i,e,n,null),s=[];null!=(e=n.next());)s.push(e);return s},i.Ea=function(i,e,n){return t.Xj.local().V(i,e,n,null)},i.QS=function(i,e,n){if(null===(i=t.Xj.local().V(i,e,n,null,1)))return[];if(550===i.getType()){for(e=[],n=0;n<i.wa;n++)e.push(i.KR(n));return e}return 33===i.getType()?[i]:[]},i.qY=function(i,e,n){return t.dj.local().V(2,i,e,n,null)},i.contains=function(i,e,n){return t.dj.local().V(1,i,e,n,null)},i.BP=function(i,e,n){return t.dj.local().V(16,i,e,n,null)},i.touches=function(i,e,n){return t.dj.local().V(8,i,e,n,null)},i.DU=function(i,e,n){return t.dj.local().V(32,i,e,n,null)},i.TS=function(i,e,n){return t.dj.local().V(1073741824,i,e,n,null)},i.yB=function(i,e,n,s){return t.zL.local().V(i,e,n,s,null)},i.tb=function(i,e,n,s){var r=null;if(null!=n){if(r=n.Hd(),null!=s&&r.Ec()!=s.Ec()&&r.od!=s.od)throw t.i.Xk()}else if(null!=s)throw t.i.N();return i=t.rL.local().V(i,e,null),null!==r&&null!==s&&(i=t.Tc.Nh(i,r,s)),i},i.clip=function(i,e,n){return t.kL.local().V(i,t.l.construct(e.es(),e.gs(),e.ds(),e.fs()),n,null)},i.dl=function(i,e,n){if(null==i||null==e)return null;for(i=t.mL.local().V(!0,i,e,n,null),e=[];null!=(n=i.next());)n.B()||e.push(n);return e.slice(0)},i.MN=function(e,n,s,r,o,h,a,u){if(!0===o)return i.NN(e,n,s,r,h,a,u);if(o=s,null!=n){if(a=n.Hd(),null!=r&&a.Ec()!=r.Ec()){if(a.od!=r.od)throw t.i.Xk();o=[],t.Tc.XE(s,s.length,r,a,o)}}else if(null!=r)throw t.i.N();if(s=t.AC.local(),h){for(e=new t.Zc(e),n=s.V(e,n,o,h,null),e=[];null!=(h=n.next());)e.push(h);h=e.slice(0)}else for(h=[],r=0;r<e.length;r++)h[r]=s.V(e[r],n,o[r],null);return h},i.NN=function(i,e,n,s,r,o,h){if(null===e)throw t.i.N();if(null==s&&(s=4326!==e.Ec()?e.Hd():t.Tc.Zg(9001)),0!==s.od)throw t.i.N();if(t.Tc.XE(n,n.length,s,t.Tc.Zg(9001),n),s=t.FC.local(),r){for(i=new t.Zc(i),e=s.V(i,e,o,n,h,!1,r,null),n=[];null!=(o=e.next());)n.push(o);r=n.slice(0)}else{r=[];for(var a=0;a<i.length;a++)r[a]=s.V(i[a],e,o,n[a],h,!1,null)}return r},i.buffer=function(i,e,n,s,r,o,h){var a=n;if(!1===r){if(null!=e){if(r=e.Hd(),null!=s&&r.Ec()!=s.Ec()){if(r.od!=s.od)throw t.i.Xk();a=t.Tc.Nh(n,s,r)}}else if(null!=s)throw t.i.N();i=t.AC.local().V(i,e,a,null)}else{if(null===e)throw t.i.N();if(null==s&&(s=4326!==e.Ec()?e.Hd():t.Tc.Zg(9001)),0!==s.od)throw t.i.N();a=t.Tc.Nh(n,s,t.Tc.Zg(9001)),i=t.FC.local().V(i,e,o,a,h,!1,null)}return i},i.BU=function(i,e,n,s,r,o,h){if(null!=e){var a=e.Hd();if(null!=h&&a.Ec()!=h.Ec()){if(a.od!=h.od)throw t.i.Xk();n=t.Tc.Nh(n,h,a)}}else if(null!=h)throw t.i.N();for(i=new t.Zc(i),e=t.IC.local().V(i,e,n,s,r,o,null),n=[];null!=(s=e.next());)n.push(s);return n.slice(0)},i.offset=function(i,e,n,s,r,o,h){if(null!=e){var a=e.Hd();if(null!=h&&a.Ec()!=h.Ec()){if(a.od!=h.od)throw t.i.Xk();n=t.Tc.Nh(n,h,a)}}else if(null!=h)throw t.i.N();return t.IC.local().V(i,e,n,s,r,o,null)},i.iP=function(i){return t.CC.local().V(i,null)},i.jP=function(i,e){var n=t.CC.local();for(i=new t.Zc(i),e=n.V(i,e,null),n=[];null!=(i=e.next());)n.push(i);return n},i.nz=function(i,e,n){return t.Ix.local().nz(i,e,n)},i.oz=function(i,e){return t.Ix.local().oz(i,e)},i.pz=function(i,e,n,s){return t.Ix.local().pz(i,e,n,s)},i.eC=function(i,e){return t.Yl.local().V(i,e,!1,null)},i.dT=function(i,e){return t.Yl.local().rs(i,e,null)},i.QQ=function(i,e,n,s,r){var o=t.EC.local();if(null!=e){if(e=e.Hd(),null!=r&&e.Ec()!=r.Ec()){if(e.od!=r.od)throw t.i.Xk();n=t.Tc.Nh(n,r,e)}}else if(null!=r)throw t.i.N();return o.V(i,n,s,null)},i.Qr=function(i,e,n,s){var r=t.Xl.local();if(null!=e){if(e=e.Hd(),null!=s&&e.Ec()!=s.Ec()){if(e.od!=s.od)throw t.i.Xk();n=t.Tc.Nh(n,s,e)}}else if(null!=s)throw t.i.N();return r.V(i,n,null)},i.Wy=function(i,e,n,s,r){void 0===r&&(r=0);var o=t.tL.local();if(4==r)throw t.i.Ie();if(0!==r)throw t.i.Ie();if(null!==s){if(0!==s.od)throw t.i.N("Unit must be a linear unit type");n=t.Tc.Nh(n,s,t.Tc.Zg(9001))}return o.V(i,n,e,r,null)},i.WQ=function(e,n,s,r){if(null===e)return 0;if(4==r)throw t.i.Ie();if(0!==r)throw t.i.Ie();if(197==e.getType())e=i.TT(e);else if(1736!=e.getType())return 0;if(r=t.cb.sc(n),e=t.cb.zh(e,n,r),e=t.UK.XQ([e])[0],null!==s){if(2!==s.od)throw t.i.N("Unit must be a area unit type");e=t.Tc.Nh(e,t.Tc.Zg(109404),s)}return e},i.ZQ=function(i,e,n,s){if(i=t.vL.local().V(i,e,s,null),null!==n){if(0!==n.od)throw t.i.N("Unit must be a linear unit type");i=t.Tc.Nh(i,t.Tc.Zg(9001),n)}return i},i.JU=function(i,e,n){if(null===i)return 0;var s=null;if(null!=e){if(0==(s=e.Hd()).od&&null==(s=t.Tc.aG(s))&&null!==n)throw t.i.N();if(null!=n&&s.Ec()!=n.Ec()&&s.od!=n.od)throw t.i.Xk()}else if(null!=n)throw t.i.N();return 1736==i.getType()||197==i.getType()?(i=i.Ke(),null!==n?t.Tc.Nh(i,s,n):i):0},i.KU=function(i,e,n){if(null===i||i.B()||1>i.Db())return 0;var s=null;if(null!=e){if(s=e.Hd(),null!=n&&s.Ec()!=n.Ec()&&s.od!=n.od)throw t.i.Xk()}else if(null!=n)throw t.i.N();1736==i.getType()||197==i.getType()?e=i.mg():t.aa.yd(i.getType())?(e=new t.Ta(i.description)).oc(i,!0):e=i,i=0,e=e.Ga();for(var r=new t.h,o=new t.h;e.$a();)for(;e.Ha();){var h=e.ha();h.Yp(r),h.Tr(o),i+=t.h.tb(r,o)}return null!==s&&null!==n&&(i=t.Tc.Nh(i,s,n)),i},i.fP=function(t){return void 0!==t.points?i.mS(t,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM):void 0!==t.rings?i.lG(t.rings,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"P"):void 0!==t.paths?i.lG(t.paths,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"L"):void 0!==t.x?i.nS(t):void 0!==t.xmin?i.lS(t):null},i.nS=function(i){if(null==i.x||"NaN"==i.x)return new t.Sa;var e=new t.Sa(i.x,i.y);return void 0!==i.z&&null!==i.z&&e.wX(i.z),void 0!==i.m&&null!==i.m&&e.hX(i.m),e},i.lS=function(i){if(null==i.xmin||"NaN"==i.xmin)return new t.Fh;var e=new t.Fh(i.xmin,i.ymin,i.xmax,i.ymax);return void 0!==i.zmin&&null!==i.zmin&&e.setInterval(1,0,i.zmin,i.zmax),void 0!==i.mmin&&null!==i.mmin&&e.setInterval(2,0,i.mmin,i.mmax),e},i.mS=function(i,e,n){var s=0,r=new t.de,o=3*i.points.length;0!=o%2&&o++,2>o&&(o=2);var h=t.O.truncate(3*i.points.length/2);4>h?h=4:16>h&&(h=16),o=t.Yc.Dn(o,0);var a=t.Yc.Dn(h);h=t.Yc.Dn(h);for(var u=0;u<i.points.length;u++)o.write(2*u,i.points[u][0]),o.write(2*u+1,i.points[u][1]),a.write(u,e||n?i.points[u][2]:NaN),h.write(u,n&&e?i.points[u][3]:NaN),s++;return 0!=s&&(r.resize(s),r.hn(0,o)),e&&(r.re(1),r.hn(1,a)),n&&(r.re(2),r.hn(2,0==e?a:h)),r.Pc(16777215),r},i.lG=function(i,e,n,s){var r=0,o=2;if("P"==s){var h=new t.Da;r=1,o=3}else h=new t.Ta;for(var a=t.Yc.Oh(0),u=t.Yc.Mr(0),c=0,l=0,f=[],p=[],d=0;d<i.length;d++){var v=i[d].length;if(f[d]=!1,"P"===s&&i[d][0][0]===i[d][i[d].length-1][0]&&i[d][0][1]===i[d][i[d].length-1][1]){var y=0==n||i[d][0][3]===i[d][i[d].length-1][3]||void 0===i[d][0][3]&&void 0===i[d][i[d].length-1][3];(0==e||i[d][0][2]===i[d][i[d].length-1][2]||void 0===i[d][0][2]&&void 0===i[d][i[d].length-1][2])&&y&&(f[d]=!0,--v)}v>=o?(p[d]=!1,l+=1,a.add(c),u.add(r),c+=v):p[d]=!0}for(0!=(s=3*c)%2&&s++,2>s&&(s=2),4>(d=t.O.truncate(3*c/2))?d=4:16>d&&(d=16),s=t.Yc.Dn(s,0),r=t.Yc.Dn(d),o=t.Yc.Dn(d),d=v=0;d<i.length;d++)if(!1===p[d])for(y=0;y<i[d].length;y++){var g=!1;y===i[d].length-1&&!0===f[d]&&(g=!0),g||(s.write(2*v,i[d][y][0]),s.write(2*v+1,i[d][y][1]),r.write(v,e||n?i[d][y][2]:NaN),o.write(v,n&&e?i[d][y][3]:NaN),v++)}return 0!=c&&(i=h,a.resize(l),u.resize(l),0<c&&(a.add(c),u.add(0)),i.hn(0,s),i.PJ(u),i.QJ(a)),e&&(h.re(1),h.hn(1,r)),n&&(h.re(2),h.hn(2,0==e?r:o)),h.Pc(16777215),h},i}()}(W||(W={})),function(t){t.Ex=function(){function t(){}return t.br=function(t){var i,e=0,n=t.length,s=t[0];for(i=0;i<n-1;i++){var r=t[i+1];e+=(r[0]-s[0])*(r[1]+s[1]),s=r}return 0<=e},t.rotate=function(i,e,n){e=e*Math.PI/180;var s=Math.cos(e),r=Math.sin(e);if(void 0!==i.paths){e={paths:[]};for(var o=0;o<i.paths.length;o++){for(var h=i.paths[o],a=[],u=0;u<h.length;u++){var c=h[u].slice(0);a.push(c);var l=s*(h[u][0]-n.x)-r*(h[u][1]-n.y)+n.x,f=r*(h[u][0]-n.x)+s*(h[u][1]-n.y)+n.y;c[0]=l,c[1]=f}e.paths.push(a),void 0!==i.hasZ&&(e.hasZ=i.hasZ),void 0!==i.hasM&&(e.hasM=i.hasM)}return e}if(void 0!==i.rings){for(e={rings:[]},o=0;o<i.rings.length;o++){h=i.rings[o],a=[];var p=t.br(h);for(u=0;u<h.length;u++)c=h[u].slice(0),a.push(c),l=s*(h[u][0]-n.x)-r*(h[u][1]-n.y)+n.x,f=r*(h[u][0]-n.x)+s*(h[u][1]-n.y)+n.y,c[0]=l,c[1]=f;t.br(a)!==p&&a.reverse(),e.rings.push(a),void 0!==i.hasZ&&(e.hasZ=i.hasZ),void 0!==i.hasM&&(e.hasM=i.hasM)}return e}if(void 0!==i.x)return e={x:s*(i.x-n.x)-r*(i.y-n.y)+n.x,y:r*(i.x-n.x)+s*(i.y-n.y)+n.y},void 0!==i.z&&(e.z=i.z),void 0!==i.m&&(e.m=i.m),void 0!==i.hasZ&&(e.hasZ=i.hasZ),void 0!==i.hasM&&(e.hasM=i.hasM),e;if(void 0!==i.points){for(e={points:[]},o=i.points,u=0;u<o.length;u++)(h=o[u].slice(0))[0]=s*(o[u][0]-n.x)-r*(o[u][1]-n.y)+n.x,h[1]=r*(o[u][0]-n.x)+s*(o[u][1]-n.y)+n.y,e.points.push(h);return void 0!==i.hasZ&&(e.hasZ=i.hasZ),void 0!==i.hasM&&(e.hasM=i.hasM),e}return null},t.JQ=function(i,e){if(void 0!==i.paths){for(var n={paths:[]},s=0;s<i.paths.length;s++){for(var r=i.paths[s],o=[],h=0;h<r.length;h++){var a=r[h].slice(0);o.push(a);var u=e.x-r[h][0];a[0]=r[h][0]+2*u}n.paths.push(o)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.rings){for(n={rings:[]},s=0;s<i.rings.length;s++){r=i.rings[s];var c=t.br(r);for(o=[],h=0;h<r.length;h++)a=r[h].slice(0),o.push(a),u=e.x-r[h][0],a[0]=r[h][0]+2*u;t.br(o)!==c&&o.reverse(),n.rings.push(o)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.x)return u=e.x-i.x,n={x:i.x+2*u,y:i.y},void 0!==i.z&&(n.z=i.z),void 0!==i.m&&(n.m=i.m),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n;if(void 0!==i.points){for(n={points:[]},s=i.points,h=0;h<s.length;h++)r=s[h].slice(0),u=e.x-r[0],r[0]+=2*u,n.points.push(r);return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}return void 0!==i.xmin?(n={v:i.xmin,G:i.ymin,C:i.xmax,H:i.ymax},void 0!==i.zmin&&(n.zmin=i.zmin,n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin,n.mmax=i.mmax),u=e.x-i.xmin,n.xmax=i.xmin+2*u,u=e.x-i.xmax,n.xmin=i.xmax+2*u,void 0!==i.zmin&&(n.zmin=i.zmin),void 0!==i.zmax&&(n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin),void 0!==i.mmax&&(n.mmax=i.mmax),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n):null},t.KQ=function(i,e){if(void 0!==i.paths){for(var n={paths:[]},s=0;s<i.paths.length;s++){for(var r=i.paths[s],o=[],h=0;h<r.length;h++){var a=r[h].slice(0);o.push(a);var u=e.y-r[h][1];a[1]=r[h][1]+2*u}n.paths.push(o)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.rings){for(n={rings:[]},s=0;s<i.rings.length;s++){r=i.rings[s];var c=t.br(r);for(o=[],h=0;h<r.length;h++)a=r[h].slice(0),o.push(a),u=e.y-r[h][1],a[1]=r[h][1]+2*u;t.br(o)!==c&&o.reverse(),n.rings.push(o)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.x)return u=e.y-i.y,n={y:i.y+2*u,x:i.x},void 0!==i.z&&(n.z=i.z),void 0!==i.m&&(n.m=i.m),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n;if(void 0!==i.points){for(n={points:[]},s=i.points,h=0;h<s.length;h++)r=s[h].slice(0),u=e.y-r[1],r[1]+=2*u,n.points.push(r);return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}return void 0!==i.xmin?(n={v:i.xmin,G:i.ymin,C:i.xmax,H:i.ymax},void 0!==i.zmin&&(n.zmin=i.zmin,n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin,n.mmax=i.mmax),u=e.y-i.ymin,n.ymax=i.ymin+2*u,u=e.y-i.ymax,n.ymin=i.ymax+2*u,void 0!==i.zmin&&(n.zmin=i.zmin),void 0!==i.zmax&&(n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin),void 0!==i.mmax&&(n.mmax=i.mmax),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n):null},t}()}(W||(W={})),function(t){t.ZK=function(){function i(){}return i.Ig=function(i,e){switch(null==e&&(e=t.ee.og()),i){case 33:return new t.Sa(e);case 322:return new t.yb(e);case 197:return new t.Fh(e);case 550:return new t.de(e);case 1607:return new t.Ta(e);case 1736:return new t.Da(e);default:throw t.i.fa("invalid argument.")}},i}()}(W||(W={})),function(t){var i=function(){function i(i,e){this.Te=t.ia.qf(i,-1),this.ua=new t.au,this.wl=e}return i.prototype.AW=function(t){this.ua.At(Math.min(this.Te.size,t)),this.ua.fn(t)},i.prototype.addElement=function(i,e){if(void 0===e)return this.eN(i);e=t.O.truncate(e%this.Te.size);var n=this.Te.get(e);return-1==n&&(n=this.ua.Ph(),this.Te.set(e,n)),this.ua.addElement(n,i)},i.prototype.eN=function(i){var e=this.wl.jz(i);e=t.O.truncate(e%this.Te.size);var n=this.Te.get(e);return-1==n&&(n=this.ua.Ph(),this.Te.set(e,n)),this.ua.addElement(n,i)},i.prototype.jd=function(i,e){if(void 0===e)this.KP(i);else{e=t.O.truncate(e%this.Te.size);var n=this.Te.get(e);if(-1==n)throw t.i.N();for(var s=this.ua.rc(n),r=-1;-1!=s;){var o=this.ua.lb(s);this.ua.ja(s)==i?(this.ua.jd(n,r,s),-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(e,-1))):r=s,s=o}}},i.prototype.KP=function(i){var e=this.wl.jz(i);e=t.O.truncate(e%this.Te.size);var n=this.Te.get(e);if(-1==n)throw t.i.N();for(var s=this.ua.rc(n),r=-1;-1!=s;){var o=this.ua.lb(s);this.ua.ja(s)==i?(this.ua.jd(n,r,s),-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(e,-1))):r=s,s=o}},i.prototype.rR=function(i){return i=t.O.truncate(i%this.Te.size),-1==(i=this.Te.get(i))?-1:this.ua.rc(i)},i.prototype.ER=function(t){return this.ua.lb(t)},i.prototype.vd=function(i){var e=this.wl.jz(this.ja(i));e=t.O.truncate(e%this.Te.size);var n=this.Te.get(e);if(-1==n)throw t.i.N();for(var s=this.ua.rc(n),r=-1;-1!=s;){if(s==i)return this.ua.jd(n,r,s),void(-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(e,-1)));r=s,s=this.ua.lb(s)}throw t.i.N()},i.prototype.ja=function(t){return this.ua.ja(t)},i.prototype.clear=function(){this.Te=t.ia.qf(this.Te.size,-1),this.ua.clear()},i.prototype.size=function(){return this.ua.TF()},i}();t.dL=i}(W||(W={})),function(t){var i=function(){function i(){this.Li=new t.$c(3),this.ua=new t.$c(6),this.sT=!1,this.je=-1}return i.prototype.fl=function(t){this.Li.jd(t)},i.prototype.Pw=function(){return this.Li.Ce()},i.prototype.bv=function(t){this.ua.jd(t)},i.prototype.$A=function(){return this.ua.Ce()},i.prototype.WB=function(t,i){this.Li.S(t,1,i)},i.prototype.ex=function(t,i){this.Li.S(t,2,i)},i.prototype.gX=function(t,i){this.Li.S(t,3,i)},i.prototype.UB=function(t,i){this.ua.S(t,4,i)},i.prototype.jX=function(t,i){this.ua.S(t,3,i)},i.prototype.TJ=function(t,i){this.ua.S(t,2,i)},i.prototype.Ph=function(t){var i=this.$A();return this.ua.S(i,3,this.je),this.ua.S(i,4,0),this.ua.S(i,5,t),-1!=this.je&&this.TJ(this.je,i),this.je=i},i.prototype.bh=function(t){this.LE(t);var i=this.ua.T(t,2),e=this.ua.T(t,3);return-1!=i?this.jX(i,e):this.je=e,-1!=e&&this.TJ(e,i),this.bv(t),e},i.prototype.At=function(t){this.ua.De(t)},i.prototype.PF=function(t){return this.ua.T(t,5)},i.prototype.fX=function(t,i){this.ua.S(t,5,i)},i.prototype.addElement=function(t,i){return this.tS(t,i)},i.prototype.tS=function(t,i){var e=this.Pw();this.ex(e,-1),-1==this.ua.T(t,0)&&this.ua.S(t,0,e);var n=this.ua.T(t,1);return this.WB(e,n),-1!=n&&this.ex(n,e),this.ua.S(t,1,e),this.setData(e,i),this.UB(t,this.bs(t)+1),this.sT&&this.gX(e,t),e},i.prototype.jd=function(t,i){var e=this.we(i),n=this.lb(i);return-1!=e?this.ex(e,n):this.ua.S(t,0,n),-1!=n?this.WB(n,e):this.ua.S(t,1,e),this.fl(i),this.UB(t,this.bs(t)-1),n},i.prototype.fn=function(t){this.Li.De(t)},i.prototype.getData=function(t){return this.Li.T(t,0)},i.prototype.setData=function(t,i){this.Li.S(t,0,i)},i.prototype.lb=function(t){return this.Li.T(t,2)},i.prototype.we=function(t){return this.Li.T(t,1)},i.prototype.rc=function(t){return this.ua.T(t,0)},i.prototype.Fc=function(t){return this.ua.T(t,1)},i.prototype.clear=function(){for(var t=this.je;-1!=t;)t=this.bh(t)},i.prototype.LE=function(t){for(var i=this.Fc(t);-1!=i;){var e=i;i=this.we(e),this.fl(e)}this.ua.S(t,0,-1),this.ua.S(t,1,-1),this.UB(t,0)},i.prototype.B=function(){return 0==this.Li.size},i.prototype.TF=function(){return this.Li.size},i.prototype.bs=function(t){return this.ua.T(t,4)},i.prototype.qz=function(t){return this.ua.T(t,3)},i}();t.jp=i}(W||(W={})),function(t){var i=function(){function i(i){void 0===i?(this.ug=new t.$c(2),this.ua=new t.$c(4),this.je=-1,this.Qv=!0):(this.ug=new t.$c(2),this.ua=new t.$c(i?4:2),this.je=-1,this.Qv=i)}return i.prototype.fl=function(t){this.ug.jd(t)},i.prototype.Pw=function(){return this.ug.Ce()},i.prototype.bv=function(t){this.ua.jd(t)},i.prototype.$A=function(){return this.ua.Ce()},i.prototype.Ph=function(){var t=this.$A();return this.Qv&&(this.ua.S(t,3,this.je),-1!=this.je&&this.ua.S(this.je,2,t),this.je=t),t},i.prototype.bh=function(t){for(var i=this.rc(t);-1!=i;){var e=i;i=this.lb(i),this.fl(e)}this.Qv&&(i=this.ua.T(t,2),e=this.ua.T(t,3),-1!=i?this.ua.S(i,3,e):this.je=e,-1!=e&&this.ua.S(e,2,i)),this.bv(t)},i.prototype.At=function(t){this.ua.De(t)},i.prototype.addElement=function(t,i){var e=this.ua.T(t,1),n=this.Pw();return-1!=e?this.ug.S(e,1,n):this.ua.S(t,0,n),this.ua.S(t,1,n),this.ug.S(n,0,i),n},i.prototype.fn=function(t){this.ug.De(t)},i.prototype.jd=function(t,i,e){-1!=i?(this.ug.S(i,1,this.ug.T(e,1)),this.ua.T(t,1)==e&&this.ua.S(t,1,i)):(this.ua.S(t,0,this.ug.T(e,1)),this.ua.T(t,1)==e&&this.ua.S(t,1,-1)),this.fl(e)},i.prototype.Hy=function(t,i){var e=this.ua.T(t,1),n=this.ua.T(i,0);-1!=n&&(-1!=e?this.ug.S(e,1,n):this.ua.S(t,0,n),this.ua.S(t,1,this.ua.T(i,1))),this.Qv&&(t=this.ua.T(i,2),e=this.ua.T(i,3),-1!=t?this.ua.S(t,3,e):this.je=e,-1!=e&&this.ua.S(e,2,t)),this.bv(i)},i.prototype.ja=function(t){return this.ug.T(t,0)},i.prototype.Sj=function(t,i){this.ug.S(t,0,i)},i.prototype.lb=function(t){return this.ug.T(t,1)},i.prototype.rc=function(t){return this.ua.T(t,0)},i.prototype.Jn=function(t){return this.ja(this.rc(t))},i.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},i.prototype.B=function(){return 0==this.ug.size},i.prototype.TF=function(){return this.ug.size},i.prototype.qz=function(t){return this.ua.T(t,3)},i}();t.au=i}(W||(W={})),function(t){t.ta=function(){function i(){}return i.Wd=function(t,i,e){return i=i.xr(),t=null!=t&&void 0!==t.Xd?t.Xd(0):0,e&&(i*=4,t*=1.1),Math.max(t,i)},i.Er=function(t){return 2*Math.sqrt(2)*t},i.rN=function(t){return Math.sqrt(2)*t},i.kj=function(e,n,s){var r=new t.l;return n.A(r),i.Wd(e,r,s)},i.wE=function(t,i,e){return i=i.Tg(1,0).xr(),t=null!=t?t.Xd(1):0,e&&(i*=4,t*=1.1),Math.max(t,i)},i.mv=function(i,e){var n=new t.l;return i.xc(n),i=new t.l,e.xc(i),n.Zb(i),n},i.YN=function(i){var e=new t.l;if(i.xc(e),e.B())return null;var n=new t.du(e,8),s=-1,r=new t.l,o=!1;do{for(var h=0,a=i.da();h<a;h++){if(i.Rj(h,r),-1==(s=n.Jz(h,r,s))){if(o)throw t.i.fa("internal error");i.yp(e,!1),o=!0,n.reset(e,8);break}o=!1}}while(o);return n},i.nE=function(i){var e=new t.l;i.xc(e);for(var n=new t.du(e,8),s=-1,r=i.Ga(),o=new t.l,h=!1;r.$a();)for(;r.Ha();){var a=r.ha(),u=r.wb();if(a.A(o),-1==(s=n.Jz(u,o,s))){if(h)throw t.i.Qa();i.yp(e,!1),h=!0,n.reset(e,8),r.Zi();break}}return n},i.jj=function(i,e){var n=new t.l;i.xc(n);for(var s=new t.du(n,8),r=-1,o=new t.l,h=i.Ga(),a=!1;h.$a();)for(;h.Ha();){var u=h.ha(),c=h.wb();if(u.A(o),o.isIntersecting(e)&&-1==(r=s.Jz(c,o,r))){if(a)throw t.i.fa("internal error.");i.yp(n,!1),a=!0,s.reset(n,8),h.Zi();break}}return s},i.oE=function(i,e){for(var n=new t.du(e,8),s=new t.h,r=!1,o=new t.l,h=0;h<i.I();h++)if(i.D(h,s),e.contains(s)&&(o.K(s),-1==n.vj(h,o))){if(r)throw t.i.Qa();r=!0,h=new t.l,i.yp(h,!1),n.reset(h,8),h=-1}return n},i.lR=function(i,e,n){var s=new t.l,r=new t.l;i.xc(s),e.xc(r),s.W(n,n),r.W(n,n);var o=new t.l;o.K(s),o.Ea(r),i=i.Ga(),e=e.Ga();var h=new t.xC;h.aC(n);var a=!1;for(h.pK();i.$a();)for(;i.Ha();)i.ha().A(s),s.isIntersecting(o)&&(a=!0,(n=new t.l).K(s),h.JD(i.wb(),n));if(h.iF(),!a)return null;for(s=!1,h.oK();e.$a();)for(;e.Ha();)e.ha().A(r),r.isIntersecting(o)&&(s=!0,(n=new t.l).K(r),h.ED(e.wb(),n));return h.hF(),s?h:null},i.mR=function(i,e,n,s,r){var o=i.getType(),h=e.getType(),a=new t.l,u=new t.l;i.xc(a),e.xc(u),a.W(n,n),u.W(n,n);var c=new t.l;c.K(a),c.Ea(u);var l=new t.xC;l.aC(n);var f=!1;l.pK();var p=0;for(n=i.da();p<n;p++)s&&1736==o&&!i.Ev(p)||(i.Rj(p,a),a.isIntersecting(c)&&(f=!0,l.JD(p,a)));if(l.iF(),!f)return null;for(i=!1,l.oK(),s=0,n=e.da();s<n;s++)r&&1736==h&&!e.Ev(s)||(e.Rj(s,u),u.isIntersecting(c)&&(i=!0,l.ED(s,u)));return l.hF(),i?l:null},i.Ru=function(i,e,n){if(i!=e)for(var s=0;s<n;s++)null==i[s]?i[s]=t.h.al(e[s]):i[s].L(e[s])},i.Jy=function(t,i,e,n){var s=0;for(n+=0;s<n;e++,s++)null==t[s]&&(t[s]=[0,0]),t[s][0]=i[e].x,t[s][1]=i[e].y},i.Iy=function(i,e,n,s){var r=e,o=0;for(e=s+e;r<e;o++,r++)null==i[r]?i[r]=t.h.construct(n[o][0],n[o][1]):i[r].ma(n[o][0],n[o][1])},i.kP=function(i,e,n){if(i!=e)for(var s=0;s<n;s++)null==i[s]?i[s]=new t.Sa(e[s]):e[s].copyTo(i[s])},i.vE=function(t,i,e,n){var s=0;return null!=t&&(s=t.Xd(0),n&&!e||null==t||(s+=1.01*t.vz(0))),e&&(i*=4,s*=1.01),Math.max(s,i)},i.ty=function(t,e,n){return i.vE(t,e.xr(),n,!1)},i.gO=function(e,n){var s=new t.l;return n.A(s),i.ty(e,s,!0)},i.uy=function(t,e){return i.vE(t,e.xr(),!1,!0)},i.Hu=function(e,n){var s=new t.l;return n.A(s),i.uy(e,s)},i.AG=function(i,e,n,s){s*=s;var r=new t.h;if(r.uc(i,e),(i=new t.h).uc(n,e),e=r.Sk(),n=i.Sk(),e<=s&&n<=s)return!0;var o=t.lc.ox(r.wi(i));return(o<=s*e||o<=s*n)&&0<=r.Qh(i)},i.dK=function(i,e,n,s){for(var r=0;r<e;r++){var o=i[r].y,h=t.O.Rk(o,n,s);h!=o&&(i[r].y=h)}},i}()}(W||(W={})),function(t){var i,e,n=function(){function t(t){this.Ya=t}return t.prototype.compare=function(t,i,e){t=t.ja(e),e=this.Ya.nk(i);var n=this.Ya.nk(t);return e<n?-1:e==n?o.gq(i)&&o.Gv(t)?-1:o.gq(t)&&o.Gv(i)?1:0:1},t}(),s=function(){function t(t){this.Ya=t}return t.prototype.nr=function(t,i,e){this.Ya.GX(e,t,i)},t.prototype.$p=function(t){return this.Ya.nk(t)},t}();(e=i||(i={}))[e.initialize=0]="initialize",e[e.pIn=1]="pIn",e[e.pL=2]="pL",e[e.pR=3]="pR",e[e.pT=4]="pT",e[e.right=5]="right",e[e.left=6]="left",e[e.all=7]="all";var r=function(){function i(){this.Ya=null,this.Qi=new t.Nc,this.hi=new t.ia(0),this.sg=[0,0]}return i.prototype.Xi=function(t,i){this.Qi.oa=t.oa-i,this.Qi.va=t.va+i,this.hi.resize(0),this.he=0,this.sg[0]=0},i.prototype.EB=function(i,e,n){if(i>e)throw t.i.N();this.Qi.oa=i-n,this.Qi.va=e+n,this.hi.resize(0),this.he=0,this.sg[0]=0},i.prototype.Uo=function(t,i){this.Qi.oa=t-i,this.Qi.va=t+i,this.hi.resize(0),this.he=0,this.sg[0]=0},i.prototype.next=function(){if(!this.Ya.lq)throw t.i.Hb();if(0>this.he)return-1;for(var i=!0;i;)switch(this.sg[this.he]){case 1:i=this.FU();break;case 2:i=this.GU();break;case 3:i=this.HU();break;case 4:i=this.IU();break;case 5:i=this.GW();break;case 6:i=this.kT();break;case 7:i=this.tN();break;case 0:i=this.Gz();break;default:throw t.i.Qa()}return-1!=this.Og?this.Mp()>>1:-1},i.construct=function(t){var e=new i;return e.Ya=t,e.hi.Jb(20),e.he=-1,e},i.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,null!=this.Ya.me&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},i.prototype.FU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.Og=this.he=-1,!1;var t=this.Ya.Np(this.Lc);return this.Qi.va<t?(t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=6),!0):t<this.Qi.oa?(t=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.Zr(t),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),!0)},i.prototype.GU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var t=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.Zr(t),this.sg[++this.he]=5),!0}return t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=(t=this.Ya.lk(this.Lc))&&this.hi.add(t),!0},i.prototype.HU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var t=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=6),!0}return t=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=(t=this.Ya.qj(this.Lc))&&this.hi.add(t),!0},i.prototype.IU=function(){if(0==this.hi.size)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var t=this.Ya.mk(this.Lc);return-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=this.Ya.qj(this.Lc)&&this.hi.add(this.Ya.qj(this.Lc)),-1!=this.Ya.lk(this.Lc)&&this.hi.add(this.Ya.lk(this.Lc)),!0},i.prototype.kT=function(){return this.Og=this.ei,-1!=this.Og&&o.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},i.prototype.GW=function(){return this.Og=this.ei,-1!=this.Og&&o.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},i.prototype.tN=function(){return this.Og=this.ei,-1!=this.Og&&o.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},i.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},i.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},i.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},i}();t.EY=r;var o=function(){function i(t){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=t,this.lq=this.Sv=!1}return i.prototype.kr=function(){this.Nk(!0)},i.prototype.Br=function(i,e){if(!this.Sv)throw t.i.Hb();this.Fj.push(new t.Nc(i,e))},i.prototype.Fp=function(){if(!this.Sv)throw t.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},i.prototype.vj=function(i){if(!this.Sf||!this.lq)throw t.i.N("invalid call");if(-1==this.kf){var e=this.Fj.length;if(this.iA){var n=new t.ia(0);n.Jb(2*e),this.bJ(n),this.$h.Jb(2*e),this.$h.resize(0),this.aJ(n),this.Km.resize(e,-1),this.Km.Wj(-1,0,e),this.iA=!1}else this.Km.Wj(-1,0,e);this.kf=this.Tu()}e=this.pG(i<<1,this.kf),n=this.$f.addElement(1+(i<<1),this.xz(e)),this.VJ(e,n),this.Km.set(i,e),this.Zv++},i.prototype.remove=function(i){if(!this.Sf||!this.lq)throw t.i.fa("invalid call");var e=this.Km.get(i);if(-1==e)throw t.i.N("the interval does not exist in the interval tree");this.Km.set(i,-1),this.Zv--;var n=this.xz(e),s=this.$f.ZR(n);this.$f.vd(this.wR(e),n),this.$f.vd(this.TR(e),n),0==(i=this.$f.size(n))&&(this.$f.MP(n),this.ZJ(s,-1)),this.Ej.jd(e),n=this.UF(s);var r=this.qj(s),o=this.lk(s);for(e=0;!(0<i||s==this.kf||-1!=r&&-1!=o);)s==this.qj(n)?-1!=r?(this.Ok(n,r),this.Uj(r,n),this.Ok(s,-1)):-1!=o?(this.Ok(n,o),this.Uj(o,n),this.Qk(s,-1)):this.Ok(n,-1):-1!=r?(this.Qk(n,r),this.Uj(r,n),this.Ok(s,-1)):-1!=o?(this.Qk(n,o),this.Uj(o,n),this.Qk(s,-1)):this.Qk(n,-1),this.Uj(s,-1),e++,s=n,i=-1!=(n=this.mk(s))?this.$f.size(n):0,r=this.qj(s),o=this.lk(s),n=this.UF(s)},i.prototype.reset=function(){if(!this.Sf||!this.lq)throw t.i.N("invalid call");this.Nk(!1)},i.prototype.size=function(){return this.Zv},i.prototype.getIterator=function(){return r.construct(this)},i.prototype.bJ=function(t){for(var i=this.Fj.length,e=0;e<2*i;e++)t.add(e);this.HX(t,2*i)},i.prototype.aJ=function(t){for(var i=NaN,e=0;e<t.size;e++){var n=t.get(e),s=this.nk(n);s!=i&&(this.$h.add(n),i=s)}},i.prototype.vS=function(){var i=this.Fj.length,e=new t.ia(0);e.Jb(2*i),this.bJ(e),this.$h.Jb(2*i),this.$h.resize(0),this.aJ(e),this.Ej.De(i),this.Ti.fn(2*i);var n=t.Yc.Oh(i);for(n.Wj(-1,0,i),this.kf=this.Tu(),i=0;i<e.size;i++){var s=e.get(i),r=n.get(s>>1);-1!=r?this.VJ(r,this.Ti.addElement(this.xz(r),s)):(r=this.pG(s,this.kf),n.set(s>>1,r))}},i.prototype.pG=function(i,e){var n=e,s=e,r=-1,o=0,h=this.$h.size-1,a=0,u=i>>1,c=NaN,l=NaN,f=!0,p=this.DR(u);for(u=this.AR(u);f;){o<h?(a=o+t.O.truncate((h-o)/2),-1==this.gz(n)&&this.FJ(n,this.$h.get(a),this.$h.get(a+1))):-1==this.gz(n)&&this.FJ(n,this.$h.get(o),this.$h.get(o));var d=this.Np(n);if(u<d)-1!=e&&(e==n?(s=n,c=d,l=-1!=(e=this.qj(n))?this.Np(e):NaN):l>d&&(d<c?this.Ok(s,n):this.Qk(s,n),this.Qk(n,e),this.Sf&&(this.Uj(n,s),this.Uj(e,n)),s=n,c=d,e=-1,l=NaN)),-1==(h=this.xR(n))&&(h=this.Tu(),this.dX(n,h)),n=h,h=a;else if(p>d)-1!=e&&(e==n?(s=n,c=d,l=-1!=(e=this.lk(n))?this.Np(e):NaN):l<d&&(d<c?this.Ok(s,n):this.Qk(s,n),this.Ok(n,e),this.Sf&&(this.Uj(n,s),this.Uj(e,n)),s=n,c=d,e=-1,l=NaN)),-1==(o=this.UR(n))&&(o=this.Tu(),this.oX(n,o)),n=o,o=a+1;else{-1==(f=this.mk(n))&&(f=this.zP(n),this.ZJ(n,f));var v=this.fN(f,i);r=this.xP(),this.qX(r,f),this.cX(r,v),n!=e&&(d<c?this.Ok(s,n):this.Qk(s,n),this.Sf&&this.Uj(n,s),-1!=e&&(l<d?this.Ok(n,e):this.Qk(n,e),this.Sf&&this.Uj(e,n))),f=!1}}return r},i.prototype.Tu=function(){return this.me.Ce()},i.prototype.zP=function(t){return this.Sf?this.$f.Pr(t):this.Ti.Ph(t)},i.prototype.xP=function(){return this.Ej.Ce()},i.prototype.Nk=function(i){i?(this.Sv=this.iA=!0,this.lq=!1,null==this.$h?this.$h=t.Yc.Oh(0):this.$h.resize(0),null==this.Fj?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?null==this.Km?(this.Km=t.Yc.Oh(0),this.$f=new t.Yj,this.$f.Vo(new n(this))):this.$f.clear():null==this.Ti?this.Ti=new t.jp:this.Ti.clear(),null==this.me?(this.Ej=new t.$c(3),this.me=new t.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},i.prototype.FJ=function(t,i,e){this.XW(t,i),this.YW(t,e)},i.prototype.Np=function(t){var i=this.gz(t);return-1==i?NaN:(i=this.nk(i))==(t=this.nk(this.gR(t)))?i:.5*(i+t)},i.prototype.XW=function(t,i){this.me.S(t,0,i)},i.prototype.YW=function(t,i){this.me.S(t,1,i)},i.prototype.dX=function(t,i){this.me.S(t,3,i)},i.prototype.oX=function(t,i){this.me.S(t,4,i)},i.prototype.ZJ=function(t,i){this.me.S(t,2,i)},i.prototype.Ok=function(t,i){this.me.S(t,5,i)},i.prototype.Qk=function(t,i){this.me.S(t,6,i)},i.prototype.Uj=function(t,i){this.me.S(t,7,i)},i.prototype.qX=function(t,i){this.Ej.S(t,0,i)},i.prototype.fN=function(t,i){return this.Sf?this.$f.addElement(i,t):this.Ti.addElement(t,i)},i.prototype.cX=function(t,i){this.Ej.S(t,1,i)},i.prototype.VJ=function(t,i){this.Ej.S(t,2,i)},i.prototype.kl=function(t){return this.Sf?this.$f.rc(t):this.Ti.rc(t)},i.prototype.Zr=function(t){return this.Sf?this.$f.Fc(t):this.Ti.Fc(t)},i.gq=function(t){return!(1&t)},i.Gv=function(t){return!(1&~t)},i.prototype.gz=function(t){return this.me.T(t,0)},i.prototype.gR=function(t){return this.me.T(t,1)},i.prototype.mk=function(t){return this.me.T(t,2)},i.prototype.xR=function(t){return this.me.T(t,3)},i.prototype.UR=function(t){return this.me.T(t,4)},i.prototype.qj=function(t){return this.me.T(t,5)},i.prototype.lk=function(t){return this.me.T(t,6)},i.prototype.UF=function(t){return this.me.T(t,7)},i.prototype.xz=function(t){return this.Ej.T(t,0)},i.prototype.wR=function(t){return this.Ej.T(t,1)},i.prototype.TR=function(t){return this.Ej.T(t,2)},i.prototype.DR=function(t){return this.Fj[t].oa},i.prototype.AR=function(t){return this.Fj[t].va},i.prototype.HX=function(i,e){null==this.Am&&(this.Am=new t.Xt);var n=new s(this);this.Am.sort(i,0,e,n)},i.prototype.GX=function(t,e,n){var s=this;t.Vd(e,n,(function(t,e){var n=s.nk(t),r=s.nk(e);return n<r||n==r&&i.gq(t)&&i.Gv(e)?-1:1}))},i.prototype.nk=function(t){var e=this.Fj[t>>1];return i.gq(t)?e.oa:e.va},i}();t.sr=o}(W||(W={})),function(t){var i=function(){function i(i){if(null==i)throw t.i.fa("Invalid arguement");this.hf=i;var e=i.nR();e.hS()?i.ef.IG()?this.lo=t.si.PannableFold:this.lo=t.si.Clip:this.lo=t.si.DontClip,e.iS()?i.Yf.IG()?this.Qm=t.si.PannableFold:this.Qm=t.si.Clip:this.Qm=t.si.DontClip,this.Bm=e.Jr,this.mH=e.Vu,i=this.hf.sH,this.aH=i.hs(2147483648),this.Uv=i.hs(1073741824)}return i.zh=function(t,i,e){return i.ww.zh(t,e)},i.Rt=function(t,i,e,n){return t.ww.Rt(i,e,n)},i.Qt=function(t,i,e,n){if(e=0>e?i.length:e,(t=t.ww.Rt(i,e,n))==e)return t;for(var s=i=0;s<e;s++){var r=n[s];r.isNaN()||(i<s&&n[i].L(r),i++)}for(;i<e;i++)n[i].Rc();return t},i.transform=function(e,n,s,r,o){if(e.isIdentity())return t.ta.kP(r,n,s),s;for(var h=[],a=0,u=0;u<s;){for(var c=Math.min(h.length,s-u),l=u,f=0;l<c;l++,f++)null==h[f]?h[f]=n[l].D():n[l].D(h[f]);var p=o?i.Qt(e,h,c,h):i.Rt(e,h,c,h);for(f=l=0;l<p;l++,f++)null==r[u]&&(r[u]=new t.Sa(n[u])),r[u].Cb(h[f]);u+=c,a+=p}return a},i.prototype.Rt=function(i,e,n){if(this.hf.isIdentity())return i!=n&&t.ta.Ru(n,i,e),e;var s=this.hf.ef,r=this.hf.Yf,o=s.Sb(),h=r.Sb();if(0==o&&o===h){var a=s.Qp();return r=a/(r=r.Qp()),(a=new t.Dd).setScale(r,r),a.eY(i,e,n),e}if(a=t.O.Fu(Math.min(e,64)),3==o){var u=s.Ji;o=(s=u.fk()).Sb(),n!=i&&t.ta.Ru(n,i,e),t.zb.$k(u,n,e,!0),u.Qt(t.bm.forward,n,e),t.zb.Zk(u,n,e,!0)}if(3==o||3===h)throw t.i.fa("image: transform_in_place_");if(2==o)this.lo==t.si.Clip?(n!=i&&t.ta.Ru(n,i,e),i=s.ml(),t.zb.OS(i,s,n,e)):(n!=i&&t.ta.Ru(n,i,e),s.Wc()&&(o=s.Xd(0),u=s.Oe(),t.zb.EX(n,e,u,o),t.zb.qF(n,e,s,0))),t.zb.IL(s,n,e,a);else for(o=s.Xd(0),u=s.Oe(),s=0;s<e;s++)t.zb.FX(i[s],u,o,n[s]);for(t.zb.GL(this.hf,n,e,a),i=0,(h=2==h)?i=r.zi():isNaN(this.Bm)||(i=this.Bm),h&&this.Qm!=t.si.Clip||t.zb.qF(n,e,r.sc(),i),h&&(t.zb.yG(n,e,r,this.Qm),t.zb.HL(r,n,e,a)),i=e,s=0;s<e;++s)n[s].isNaN()&&i--;return i},i.prototype.zh=function(i,e){if(this.hf.isIdentity()||i.B())return i;if(33==i.getType())return this.XI(i);var n=this.hf.ef,s=this.hf.Yf,r=n.Sb(),o=s.Sb();if(0==r&&r==o)return e=n.Qp(),e/=s=s.Qp(),(s=new t.Dd).setScale(e,e),(i=t.aa.jg(i)).Oc(s),i;switch(i.getType()){case 1607:case 1736:i=this.VI(i,e);break;case 550:i=this.fW(i,e);break;case 197:i=this.eW(i,e);break;default:throw t.i.fa("")}return i},i.prototype.XI=function(i){var e=i.D(),n=[];return n[0]=e,this.Rt(n,1,n),(i=new t.Sa(i)).Cb(n[0]),i},i.prototype.VI=function(i,e){if(i.tm())throw t.i.fa("curves not supported");var n=i.getType();if(1736==n)return this.gW(i,e);if(1607==n)return this.hW(i,e);throw t.i.fa("projectMultiPath")},i.prototype.gW=function(e,n){var s=this.hf.ef,r=this.hf.Yf,o=s.Sb(),h=r.Sb(),a=t.O.Fu(Math.min(e.I(),64)),u=t.Da.jg(e);3==o&&(o=(s=(e=s.Ji).fk()).Sb(),u=e.$k(u,!0),this.wp(e,t.bm.forward,u),u=e.Zk(u,!0)),e=null,3==h&&(h=(r=(e=r.Ji).fk()).Sb());var c=2==o,l=2==h,f=l?r.sc():r,p=!l&&!this.Uv;h=!1;var d=u;if(c){if((d=t.zb.UI(d,s,this.lo,n)).B())return d}else{if(u=new t.l,d.xc(u),o=s.Oe(),u.G<o.G||u.H>o.H){var v=t.l.construct(u.v-1,o.G,u.C+1,o.H);if((d=t.ri.Nu(d,v,s,NaN,0,n)).B())return d}u.R()>2*o.R()&&(d=t.zb.Hp(d,-2*o.R(),2*o.R(),s,!0,0,!0,n))}u=this.mH,(o=!isNaN(u))&&(d=t.Xl.local().V(d,u,n)),v=l?r.kk():null;var y=NaN;c&&(y=s.zi());var g=null!=r.Wr();if(this.aH)c&&(t.zb.ur(s,y,d,a),o&&(c=s.hh(),u*=(y=s.sc().hh())/c)),t.zb.tr(this.hf,d,p,a),o&&(c=s.sc().hh(),u*=(y=r.sc().hh())/c),s=d;else{var b=new t.Ta(d.description);b.DD(d),c&&(t.zb.ur(s,y,b,a),o&&(c=s.hh(),u*=(y=s.sc().hh())/c)),t.zb.tr(this.hf,b,p,a),o&&(c=s.sc().pm(),u*=(y=r.sc().pm())/c),p=NaN,l?(v=r.kk(),p=r.zi()):isNaN(this.Bm)||(p=this.Bm),c=i.tv(s)|i.tv(r),y=10*f.Xd(0),this.Uv&&(c=3,y=0),s=t.zb.UQ(d,s,b,f,p,n,c,y)}return g&&(s=t.zb.XD(s,r,n)),l&&(h||(l=f.Oe().R(),s.Tg(0,0).R()>=l-f.Xd(0)&&(f=v.getNorthPoleLocation(),l=v.getSouthPoleLocation(),d=v.getNorthPoleGeometry(),v=v.getSouthPoleGeometry(),p=0,d==t.Cg.PE_POLE_POINT&&f!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(p=1),v==t.Cg.PE_POLE_POINT&&l!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(p|=2),0!==p&&(h=!0))),s=t.zb.Mz(s,r,this.Qm,n),o&&(s=t.Xl.local().V(s,u,n)),t.zb.Lx(r,s,a)),s.B()||(h&&(s=t.Yl.local().V(s,r,!1,n)),null!=e&&(s=e.Zk(s,!1),this.wp(e,t.bm.reverse,s),s=e.$k(s,!1))),s},i.tv=function(i){if(2!=i.Sb())return 0;var e=0,n=i.kk();i=n.getNorthPoleLocation();var s=n.getSouthPoleLocation(),r=n.getNorthPoleGeometry();return n=n.getSouthPoleGeometry(),r==t.Cg.PE_POLE_POINT&&i!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(e=1),n==t.Cg.PE_POLE_POINT&&s!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(e|=2),e},i.prototype.hW=function(e,n){var s=this.hf.ef,r=this.hf.Yf,o=s.Sb(),h=r.Sb(),a=t.O.Fu(Math.min(e.I(),64)),u=t.Ta.jg(e);3==o&&(o=(s=(e=s.Ji).fk()).Sb(),u=e.$k(u,!0),this.wp(e,t.bm.forward,u),u=e.Zk(u,!0)),e=null,3==h&&(h=(r=(e=r.Ji).fk()).Sb());var c=2==o;o=(h=2==h)?r.sc():r;var l=!h&&!this.Uv;if(c){if((u=t.zb.UI(u,s,this.lo,n)).B())return u}else{var f=new t.l;u.xc(f);var p=s.Oe();if((f.G<p.G||f.H>p.H)&&(f=t.l.construct(f.v-1,p.G,f.C+1,p.H),(u=t.ri.Nu(u,f,s,NaN,0,n)).B()))return u}var d=NaN;c&&(d=s.zi()),f=null!=r.Wr(),p=this.mH;var v=!isNaN(p);if(v&&(u=t.Xl.local().V(u,p,n)),this.aH)c&&t.zb.ur(s,d,u,a),v&&(c=s.hh(),p*=(d=s.sc().hh())/c),t.zb.tr(this.hf,u,l,a),v&&(c=s.sc().hh(),p*=(d=r.sc().hh())/c),s=u;else{var y=new t.Ta(u.description);y.DD(u),c&&(t.zb.ur(s,d,y,a),v&&(c=s.hh(),p*=(d=s.sc().hh())/c)),t.zb.tr(this.hf,y,l,a),v&&(c=s.sc().hh(),p*=(d=r.sc().hh())/c),l=NaN,h?l=r.zi():isNaN(this.Bm)||(l=this.Bm),c=i.tv(s)|i.tv(r),d=10*o.Xd(0),this.Uv&&(c=3,d=0),s=t.zb.VQ(u,s,y,o,l,n,c,d)}return f&&(s=t.zb.XD(s,r,n)),h&&(s=t.zb.Mz(s,r,this.Qm,n),v&&(s=t.Xl.local().V(s,p,n)),t.zb.Lx(r,s,a)),s.B()||null!=e&&(s=e.Zk(s,!1),this.wp(e,t.bm.reverse,s),s=e.$k(s,!1)),s},i.prototype.eW=function(i,e){var n=(i.ca()+i.R())/400;return 0!=n?(n=t.Xl.local().V(i,n,e),n=this.VI(n,e),e=i.Ia(),n.bn(e)):(e=new t.Sa(i.Ip()),n=this.XI(e),e=i.Ia(),n.B()?e.Oa():(i.copyTo(e),i=n.D(),e.K(i.x,i.y,i.x,i.y))),e},i.prototype.fW=function(i,e){i=t.aa.jg(i);var n=this.hf.ef,s=this.hf.Yf,r=n.Sb(),o=s.Sb(),h=t.O.Fu(Math.min(i.I(),64));if(3==r){var a=n.Ji;r=(n=a.fk()).Sb(),i=a.Zk(i,!0),this.wp(a,t.bm.forward,i),i=a.$k(i,!0)}if(2==r){if(this.lo==t.si.Clip?i=t.Xj.local().V(i,n.ml(),n,e):n.Wc()&&(r=new t.l,i.xc(r),n.Oe().contains(r)||(this.lo==t.si.PannableFold&&(i=t.zb.lj(i,n)),t.zb.Jt(i,n.Oe(),n.Xd(0),!0),i=t.zb.Fn(i,n,0,!0,0,e))),i.B())return i;t.zb.ur(n,0,i,h)}else t.zb.Jt(i,n.Oe(),n.Xd(0),!0);return t.zb.tr(this.hf,i,!1,h),n=0,r=!1,a=null,3==o&&(r=!0,o=(s=(a=s.Ji).fk()).Sb()),(o=2==o)?n=s.zi():isNaN(this.Bm)||(n=this.Bm),o&&this.Qm!=t.si.Clip||(i=t.zb.Fn(i,s.sc(),n,!1,0,e)),o&&(i=t.zb.Mz(i,s,this.Qm,e),t.zb.Lx(s,i,h),i.B())||r&&(i=a.Zk(i,!0),this.wp(a,t.bm.reverse,i),i=a.$k(i,!0)),i},i.prototype.wp=function(i,e,n){var s=n.I();if(0!=s){for(var r=n.ub(0),o=t.O.lg(200,0),h=[],a=0;a<s;){var u=Math.min(100,s-a);r.Vw(2*a,2*u,o,2,!0);for(var c=0;c<u;++c)h[c]=t.h.construct(o[2*a],o[2*a+1]);i.Qt(e,h,u),a+=u}n.Pc(1993)}},i.Uy=function(i,e,n){if(null==i||null==e||!e.Wc())throw t.i.fa("Invalid Arguement");if(i.B())return i;var s=i.getType();return 197==s?(s=new t.Da(i.description)).ad(i,!1):t.aa.yd(s)?(s=new t.Ta(i.description)).oc(i,!0):s=i,(s=t.zb.lj(s,e)).B()?s:t.zb.Fn(s,e,0,s!=i,0,n)},i.nj=function(e,n,s,r){if(null==e||null==n||!n.Wc())throw t.i.fa("Invalid Arguement");if(e.B())return e;var o=e.getType();if(t.aa.Hc(o)){e=t.zb.lj(e,n),o=new t.l,e.A(o);for(var h=t.ta.ty(n,o,!1),a=n.gh(),u=Math.floor((o.v-a.v)/a.R())*a.R()+a.v;u<o.C;)u>o.v+h&&u<o.C-h&&(e=t.zb.uS(e,n,s,u)),u+=a.R()}else{if(197==o)return(o=new t.Da(e.description)).ad(e,!1),i.nj(o,n,s,r);if(t.aa.yd(o))return(o=new t.Ta(e.description)).oc(e,!0),i.nj(o,n,s,r)}return i.Uy(e,n,r)},i}();t.bu=i}(W||(W={})),function(t){var i=function(i){function e(e,n,s,r){var o=i.call(this)||this;return void 0===e?o.description=t.ee.og():void 0===s?o.description=e:(o.description=t.ee.og(),o.ZB(e,n),o.Ql(s,r)),o}return Q(e,i),e.prototype.getType=function(){return 322},e.prototype.Qb=function(){var t=this.sa-this.pa,i=this.na-this.la;return Math.sqrt(t*t+i*i)},e.prototype.Bi=function(t){var i=this.sa-this.pa,e=this.na-this.la;return Math.sqrt(i*i+e*e)<=t},e.prototype.Pn=function(){return!1},e.prototype.kg=function(){var i=new t.h;return i.uc(this.wc(),this.ac()),i},e.cP=function(t,i){return new e(t.x,t.y,i.x,i.y)},e.prototype.bn=function(i){i.Oa(),i.Nf(this.description);var e=new t.l;this.A(e),i.Xo(e),e=1;for(var n=this.description.Aa;e<n;e++)for(var s=this.description.kd(e),r=t.ra.Va(s);e<r;e++){var o=this.Tg(s,0);i.setInterval(s,0,o)}},e.prototype.A=function(t){t.K(this.sa,this.na,this.pa,this.la),t.normalize()},e.prototype.Qo=function(t){t.Oa(),t.Zb(this.sa,this.na,this.Od(0,1,0)),t.Zb(this.pa,this.la,this.Od(1,1,0))},e.prototype.Oc=function(i){if(i instanceof t.Dd){this.vc();var e=new t.h;e.x=this.sa,e.y=this.na,i.Eh(e,e),this.sa=e.x,this.na=e.y,e.x=this.pa,e.y=this.la,i.Eh(e,e),this.pa=e.x,this.la=e.y}else this.vc(),(e=new t.Nd).x=this.sa,e.y=this.na,e.z=this.Od(0,1,0),e=i.fp(e),this.sa=e.x,this.na=e.y,this.tn(0,1,0,e.z),e.x=this.pa,e.y=this.la,e.z=this.Od(1,1,0),e=i.fp(e),this.pa=e.x,this.la=e.y,this.tn(1,1,0,e.z)},e.prototype.Ia=function(){return new e(this.description)},e.prototype.Tx=function(t,i){return(this.pa-t-(this.sa-t))*(this.la-i+(this.na-i))*.5},e.prototype.vx=function(t){return t*this.Qb()},e.prototype.NG=function(t){return t/this.Qb()},e.prototype.DF=function(i){return t.lc.hq(this.sa,this.pa,i)},e.prototype.fR=function(i){return t.lc.hq(this.na,this.la,i)},e.prototype.dl=function(i,e){var n=new t.ig;return this.ah(i,e,n),n.get()},e.prototype.ah=function(i,e,n){if(null==n)throw t.i.N();n.Or(),(n=n.get()).Nf(this.description);var s=new t.h;this.hc(i,s),n.ZB(s.x,s.y),this.hc(e,s),n.Ql(s.x,s.y),s=1;for(var r=this.description.Aa;s<r;s++)for(var o=this.description.Ed(s),h=t.ra.Va(o),a=0;a<h;a++){var u=this.Uc(i,o,a);n.YB(o,a,u),u=this.Uc(e,o,a),n.OB(o,a,u)}},e.prototype.Uc=function(i,e,n){if(0==e)return 0==n?this.hc(i).x:this.hc(i).y;switch(t.ra.lz(e)){case 0:return.5>i?this.wv(e,n):this.gv(e,n);case 1:var s=this.wv(e,n);return e=this.gv(e,n),t.lc.hq(s,e,i);case 2:throw t.i.fa("not implemented")}throw t.i.Qa()},e.prototype.fe=function(t,i){var e=this.pa-this.sa,n=this.la-this.na,s=e*e+n*n;return 0==s?.5:(t=((t.x-this.sa)*e+(t.y-this.na)*n)/s,i||(0>t?t=0:1<t&&(t=1)),t)},e.prototype.cq=function(t,i,e,n){if(t){if(0==(t=this.la-this.na))return i==this.la?-1:0;if(0>(i=(i-this.na)/t)||1<i)return 0;null!=e&&(e[0]=this.DF(i))}else{if(0==(t=this.pa-this.sa))return i==this.pa?-1:0;if(0>(i=(i-this.sa)/t)||1<i)return 0;null!=e&&(e[0]=this.fR(i))}return null!=n&&(n[0]=i),1},e.prototype.Pe=function(t,i){var e=this.la-this.na;return 0==e?t==this.la?i:NaN:(t=(t-this.na)/e,i=this.DF(t),1==t&&(i=this.pa),i)},e.prototype.ru=function(t,i,e){return 0<=this.rp(t.x,t.y,i,e)},e.prototype.vi=function(t,i,e){return 0<=this.rp(t,i,e,!0)},e.prototype.qs=function(t,i){return this.ru(t,i,!1)},e.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var t=this.sa;this.sa=this.pa,this.pa=t,t=this.na,this.na=this.la,this.la=t,t=0;for(var i=this.description.Oq-2;t<i;t++){var e=this.ka[t];this.ka[t]=this.ka[t+i],this.ka[t+i]=e}}},e.prototype.uu=function(i,e){(e=t.h.construct(i,e)).sub(this.ac());var n=new t.h;return n.uc(this.wc(),this.ac()),(i=n.wi(e))>(e=8881784197001252e-31*(Math.abs(n.x*e.y)+Math.abs(n.y*e.x)))?-1:i<-e?1:0},e.prototype.rp=function(i,e,n,s){var r=this.sa,o=this.na,h=i-r,a=e-o;if((h=Math.sqrt(h*h+a*a))<=Math.max(n,6661338147750939e-31*h))return s&&0==h?NaN:0;if(h=i-this.pa,a=e-this.la,(h=Math.sqrt(h*h+a*a))<=Math.max(n,6661338147750939e-31*h))return s&&0==h?NaN:1;if(h=this.pa-this.sa,a=this.la-this.na,0<(s=Math.sqrt(h*h+a*a))){var u=1/s,c=i-r,l=e-o,f=c*(h*=u)+l*(a*=u),p=17763568394002505e-31*(Math.abs(c*h)+Math.abs(l*a)),d=h;if(h=-a,a=d,f<-(p=Math.max(n,p))||f>s+p)return NaN;if(Math.abs(c*h+l*a)<=Math.max(n,17763568394002505e-31*(Math.abs(c*h)+Math.abs(l*a)))&&(.5>=(h=t.O.Rk(f*u,0,1))?(a=this.sa+(this.pa-this.sa)*h,s=this.na+(this.la-this.na)*h):(a=this.pa-(this.pa-this.sa)*(1-h),s=this.la-(this.la-this.na)*(1-h)),t.h.Oy(a,s,i,e)<=n)){if(.5>h){if(t.h.Oy(a,s,r,o)<=n)return 0}else if(t.h.Oy(a,s,this.pa,this.la)<=n)return 1;return h}}return NaN},e.prototype.Nb=function(t){return null!=t&&(t==this||t.constructor===this.constructor&&this.FM(t))},e.prototype.rD=function(i,e,n){var s=n?this.sa:this.pa;n=n?this.na:this.la;var r=new t.h;return r.x=i.pa-s,r.y=i.la-n,!(e.Qh(r)>6661338147750939e-31*e.fD(r))||(r.x=i.sa-s,r.y=i.na-n,e.Qh(r)<=6661338147750939e-31*e.fD(r))},e.prototype.qD=function(i){var e=new t.h;return e.x=this.pa-this.sa,e.y=this.la-this.na,!!this.rD(i,e,!1)&&(e.Sq(),!!this.rD(i,e,!0))},e.NM=function(t,i){var e=t.uu(i.sa,i.na),n=t.uu(i.pa,i.la);return!(0>e&&0>n||0<e&&0<n)&&(e=i.uu(t.sa,t.na),n=i.uu(t.pa,t.la),!(0>e&&0>n||0<e&&0<n)&&((e=t.Qb())>(n=i.Qb())?t.qD(i):i.qD(t)))},e.LM=function(i,e,n){var s=t.h.construct(NaN,NaN),r=i.pa-i.sa,o=i.la-i.na,h=e.pa-e.sa,a=e.la-e.na,u=h*o-r*a;if(0==u)return s;var c=8881784197001252e-31*(Math.abs(h*o)+Math.abs(r*a)),l=e.sa-i.sa,f=e.na-i.na,p=h*f-l*a,d=p/u,v=Math.abs(u);return d<-(h=(8881784197001252e-31*(Math.abs(h*f)+Math.abs(l*a))*v+c*Math.abs(p))/(u*u)+2220446049250313e-31*Math.abs(d))||d>1+h||(h=(a=r*f-l*o)/u)<-(r=(8881784197001252e-31*(Math.abs(r*f)+Math.abs(l*o))*v+c*Math.abs(a))/(u*u)+2220446049250313e-31*Math.abs(h))||h>1+r||(d=t.O.Rk(d,0,1),r=t.O.Rk(h,0,1),o=i.hc(d),u=e.hc(r),(c=new t.h).uc(o,u),c.length()>n&&(c.add(o,u),c.scale(.5),d=i.fe(c,!1),r=e.fe(c,!1),i=i.hc(d),e=e.hc(r),i.sub(e),i.length()>n)||s.ma(d,r)),s},e.OM=function(t,i,n,s){var r=0;if((t.sa==i.sa&&t.na==i.na||t.sa==i.pa&&t.na==i.la)&&(r++,!s))return 1;if(t.pa==i.sa&&t.la==i.na||t.pa==i.pa&&t.la==i.la){if(2==++r)return 2;if(!s)return 1}return i.vi(t.sa,t.na,n)||i.vi(t.pa,t.la,n)||t.vi(i.sa,i.na,n)||t.vi(i.pa,i.la,n)?1:s&&0!=r||0==e.NM(t,i)?0:1},e.Zx=function(i,n,s,r,o,h){var a=0,u=i.rp(n.sa,n.na,h,!1),c=i.rp(n.pa,n.la,h,!1),l=n.rp(i.sa,i.na,h,!1),f=n.rp(i.pa,i.la,h,!1);return isNaN(u)||(null!=r&&(r[a]=u),null!=o&&(o[a]=0),null!=s&&(s[a]=t.h.construct(n.sa,n.na)),a++),isNaN(c)||(null!=r&&(r[a]=c),null!=o&&(o[a]=1),null!=s&&(s[a]=t.h.construct(n.pa,n.la)),a++),2==a||isNaN(l)||0==u&&0==l||0==c&&1==l||(null!=r&&(r[a]=0),null!=o&&(o[a]=l),null!=s&&(s[a]=t.h.construct(i.sa,i.na)),a++),2==a||isNaN(f)||1==u&&0==f||1==c&&1==f||(null!=r&&(r[a]=1),null!=o&&(o[a]=f),null!=s&&(s[a]=t.h.construct(n.pa,n.la)),a++),0<a?(2==a&&null!=r&&r[0]>r[1]&&(i=r[0],r[0]=r[1],r[1]=i,null!=o&&(r=o[0],o[0]=o[1],o[1]=r),null!=s&&(o=t.h.construct(s[0].x,s[0].y),s[0]=s[1],s[1]=o)),a):(a=e.LM(i,n,h),isNaN(a.x)?0:(null!=s&&(s[0]=i.hc(a.x)),null!=r&&(r[0]=a.x),null!=o&&(o[0]=a.y),1))},e.prototype.eG=function(){return 0},e.prototype.op=function(){},e.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},e}(t.SC);t.yb=i}(W||(W={})),function(t){var i=function(){function t(){this.Jm=[],this.ya=-1}return t.prototype.La=function(){return this.ya},t.prototype.next=function(){if(null!=this.Jm&&0!=this.Jm.length){this.ya++;var t=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),t}return this.Jm=null},t.prototype.ZX=function(t){this.Jm.push(t)},t.prototype.qe=function(){},t}();t.gL=i}(W||(W={})),function(t){var i;(i=t.SL||(t.SL={}))[i.enumFillRuleOddEven=0]="enumFillRuleOddEven",i[i.enumFillRuleWinding=1]="enumFillRuleWinding";var e=function(i){function e(e,n){var s=i.call(this)||this;if(s.xf=!1,s.Eq=null,s.sq=0,s.rq=0,s.Aj=null,s.Mg=!1,s.nb=null,s.mb=null,s.Ve=null,s.Lj=null,s.Sd=null,s.tq=0,s.gb=0,s.xq=0,void 0===n)s.xf=e,s.Mg=!1,s.tq=0,s.sq=0,s.rq=0,s.wa=0,s.description=t.ee.og();else{if(null==n)throw t.i.N();s.xf=e,s.Mg=!1,s.tq=0,s.sq=0,s.rq=0,s.wa=0,s.description=n}return s.Aj=null,s.gb=0,s}return Q(e,i),e.prototype.tm=function(){return 0<this.tq},e.prototype.Yx=function(){this.vc(),null==this.Eq?this.Eq=new t.Sa(this.description):this.Eq.Nf(this.description)},e.prototype.sx=function(i,e){var n=new t.h;n.x=i,n.y=e,this.Lt(n)},e.prototype.Lt=function(t){this.Yx(),this.Eq.Cb(t),this.Mg=!0},e.prototype.nf=function(i){if(i.B())throw t.i.N();this.Jl(i.description),this.Yx(),i.copyTo(this.Eq),this.Mg=!0},e.prototype.Sx=function(){var i=1;this.Mg&&(this.Yx(),null==this.nb?(this.nb=t.Yc.Oh(2),this.nb.write(0,0),this.mb=t.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),i++);var e=this.wa;this.nb.write(this.nb.size-1,this.wa+i),this.dm(e+i),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(e,this.Eq),this.Mg=!1)},e.prototype.yj=function(t,i){this.Sx(),this.Cb(this.wa-1,t,i)},e.prototype.Ci=function(t){this.Sx(),this.Cb(this.wa-1,t)},e.prototype.lineTo=function(t){this.Sx(),this.Ht(this.wa-1,t)},e.prototype.CU=function(i){if(this.vc(),this.xf)throw t.i.Qa();var e=this.da();if(i>e)throw t.i.Qa();if(this.dc(i)){if(null==this.mb)throw t.i.Qa();var n=this.wa,s=this.Ba(i),r=this.Vc(i);this.dm(this.wa+1),this.mc();for(var o=0,h=this.description.Aa;o<h;o++)if(null!=this.za[o]){var a=t.ra.Va(this.description.Ed(o));this.za[o].Mn(a*r,this.za[o],a*s,a,!0,1,a*n)}for(;e>i;e--)n=this.nb.read(e),this.nb.write(e,n+1);this.mb.KE(i,1)}},e.prototype.Ap=function(){if(this.wx(),void 0===t){this.Mg=!1;var t=this.da()-1}var i=this.mb.read(t);this.mb.write(t,1|i),null!=this.Ve&&(t=this.Vc(t)-1,this.Ve.write(t,1),this.Lj.write(t,-1))},e.prototype.dc=function(t){return!!(1&this.mb.read(t))},e.prototype.Nn=function(t){if(this.dc(t))return!0;var i=this.Ba(t);return!(i>(t=this.Vc(t)-1))&&(i=this.Na(i),t=this.Na(t),i.qb(t))},e.prototype.yv=function(t){return!!(2&this.mb.read(t))},e.prototype.oc=function(i,e){if(this.Jl(i.description),322!=i.getType())throw t.i.Qa();var n=new t.Sa;(e||this.B())&&(i.To(n),this.nf(n)),i.Po(n),this.lineTo(n)},e.prototype.tp=function(t){var i=0==this.wa;this.sx(t.v,t.G),this.yj(t.v,t.H),this.yj(t.C,t.H),this.yj(t.C,t.G),this.Ap(),this.Mg=!1,i&&this.Lf(256,!1)},e.prototype.ad=function(i,e){if(!i.B()){for(var n=0==this.wa,s=new t.Sa(this.description),r=0;4>r;r++)i.Hf(e?4-r-1:r,s),0==r?this.nf(s):this.lineTo(s);this.Ap(),this.Mg=!1,n&&!e&&this.Lf(256,!1)}},e.prototype.add=function(t,i){for(var e=0;e<t.da();e++)this.addPath(t,e,!i)},e.prototype.addPath=function(t,i,e){this.vf(-1,t,i,e)},e.prototype.Yk=function(t,i){this.Hz(t,i)},e.prototype.Dr=function(i,e,n,s,r){if(r||0!=this.da()||(r=!0),0>e&&(e=i.da()-1),e>=i.da()||0>n||0>s||s>i.rv(e))throw t.i.fa("index out of bounds");if(0!=s){var o=i.dc(e)&&n+s==i.rv(e);if(!o||1!=s){if(this.Mg=!1,this.Jl(i.description),n=i.Ba(e)+n+1,r&&(s++,n--),o&&s--,o=this.wa,this.dm(this.wa+s),this.mc(),r){if(0==s)return;this.nb.add(this.wa),r=i.mb.read(e),r&=-5,this.xf&&(r|=1),this.mb.write(this.mb.size-1,r),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);r=0;for(var h=this.description.Aa;r<h;r++){var a=this.description.kd(r),u=t.ra.Va(a),c=i.description.Pf(a);0>c||null==i.za[c]?this.za[r].Ln(u*o,t.ra.se(a),s*u,u*o):this.za[r].Mn(u*o,i.za[c],u*n,s*u,!0,u,u*o)}if(this.tm())throw t.i.Qa();if(i.yv(e))throw t.i.Qa();this.Pc(1993)}}},e.prototype.oJ=function(){for(var t=0,i=this.da();t<i;t++)this.FW(t)},e.prototype.FW=function(i){if(this.mc(),i>=this.da())throw t.i.N();var e=this.Ba(i),n=this.Ja(i);i=this.dc(i)?1:0;for(var s=0,r=this.description.Aa;s<r;s++)if(null!=this.za[s]){var o=t.ra.Va(this.description.Ed(s));this.za[s].ni(o*(e+i),o*(n-i),o)}this.Pc(1993)},e.prototype.Zq=function(i){this.mc();var e=this.da();if(0>i&&(i=e-1),i>=e)throw t.i.N();for(var n=this.Ba(i),s=this.Ja(i),r=0,o=this.description.Aa;r<o;r++)if(null!=this.za[r]){var h=t.ra.Va(this.description.Ed(r));this.za[r].En(h*n,h*s,h*this.wa)}for(n=i+1;n<=e;n++)r=this.nb.read(n),this.nb.write(n-1,r-s);if(null==this.mb)for(n=i+1;n<=e;n++)i=this.mb.read(n),this.mb.write(n-1,i);this.nb.resize(e),this.mb.resize(e),this.wa-=s,this.Pg-=s,this.Pc(1993)},e.prototype.vf=function(i,e,n,s){if(e==this)throw t.i.N();if(n>=e.da())throw t.i.N();var r=this.da();if(i>r)throw t.i.N();0>i&&(i=r),0>n&&(n=e.da()-1),this.Mg=!1,this.Jl(e.description),e.mc();var o=e.Ba(n),h=e.Ja(n),a=this.wa,u=e.dc(n)&&!s?1:0;this.dm(this.wa+h),this.mc();for(var c=i<r?this.Ba(i):a,l=0,f=this.description.Aa;l<f;l++){var p=this.description.Ed(l),d=e.description.Pf(p),v=t.ra.Va(p);0<=d&&null!=e.za[d]?(0!=u&&this.za[l].Mn(c*v,e.za[d],v*o,v,!0,v,v*a),this.za[l].Mn((c+u)*v,e.za[d],v*(o+u),v*(h-u),s,v,v*(a+u))):this.za[l].Ln(c*v,t.ra.se(p),v*h,v*a)}for(this.nb.add(a+h),s=r;s>=i+1;s--)o=this.nb.read(s-1),this.nb.write(s,o+h);for(e.yv(n),this.mb.add(0),s=r-1;s>=i+1;s--)r=this.mb.read(s),r&=-5,this.mb.write(s+1,r);r=e.JR().read(n),r&=-5,this.xf&&(r|=1),this.mb.write(i,r)},e.prototype.Hz=function(i,e){var n=-1,s=this.da();if(n>s)throw t.i.N();0>n&&(n=s),this.Mg=!1;var r=this.wa;this.dm(this.wa+e),this.mc();var o=n<s?this.Ba(n):r;if(null!=i)this.za[0].Iz(2*o,i,0,e,!0,2*r);else{var h=t.ra.se(0);this.za[0].Ln(2*o,h,2*e,2*r)}i=1;for(var a=this.description.Aa;i<a;i++){h=this.description.kd(i);var u=t.ra.Va(h);h=t.ra.se(h),this.za[i].Ln(o*u,h,u*e,u*r)}for(this.nb.add(this.wa),r=s;r>=n+1;r--)o=this.nb.read(r-1),this.nb.write(r,o+e);for(this.mb.add(0),r=s-1;r>=n+1;r--)e=this.mb.read(r),e&=-5,this.mb.write(r+1,e);this.xf&&this.mb.write(n,1)},e.prototype.qG=function(i,e,n){var s=-1;if(0>i&&(i=this.da()),i>this.da()||s>this.Ja(i)||n>e.length)throw t.i.fa("index out of bounds");if(0!=n){i==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>s&&(s=this.Ja(i)),this.mc();var r=this.wa;this.dm(this.wa+n),this.mc();for(var o=0,h=this.description.Aa;o<h;o++){var a=this.description.Ed(o),u=t.ra.Va(a);this.za[o].Ut(u*(this.Ba(i)+s+n),(r-this.Ba(i)-s)*u,this.za[o],u*(this.Ba(i)+s),!0,u),0==o?this.za[o].vC(u*(this.Ba(i)+s),n,e,0,!0):this.za[o].Wj(t.ra.se(a),(this.Ba(i)+s)*u,n*u)}for(this.tm()&&(this.Ve.Ut(this.Ba(i)+s+n,r-this.Ba(i)-s,this.Ve,this.Ba(i)+s,!0,1),this.Lj.Ut(this.Ba(i)+s+n,r-this.Ba(i)-s,this.Lj,this.Ba(i)+s,!0,1),this.Ve.Wj(1,this.Ba(i)+s,n),this.Lj.Wj(-1,this.Ba(i)+s,n)),i+=1,e=this.da();i<=e;i++)this.nb.write(i,this.nb.read(i)+n)}},e.prototype.wf=function(i,e,n){var s=this.da();if(0>i&&(i=this.da()),i>=s||e>this.Ja(i))throw t.i.fa("index out of bounds");i==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>e&&(e=this.Ja(i));var r=this.wa;this.dm(this.wa+1),this.mc();var o=this.Ba(i);this.za[0].vj(2*(o+e),n,2*r),n=1;for(var h=this.description.Aa;n<h;n++){var a=this.description.Ed(n),u=t.ra.Va(a);this.za[n].Ln(u*(o+e),t.ra.se(a),u,u*r)}for(i+=1;i<=s;i++)this.nb.write(i,this.nb.read(i)+1)},e.prototype.DB=function(i,e){var n=this.da();if(0>i&&(i=n-1),i>=n||e>=this.Ja(i))throw t.i.fa("index out of bounds");this.mc();var s=this.Ba(i);0>e&&(e=this.Ja(i)-1),e=s+e,s=0;for(var r=this.description.Aa;s<r;s++)if(null!=this.za[s]){var o=t.ra.Va(this.description.Ed(s));this.za[s].En(o*e,o,o*this.wa)}for(;n>=i+1;n--)e=this.nb.read(n),this.nb.write(n,e-1);this.wa--,this.Pg--,this.Pc(1993)},e.prototype.uE=function(i,e,n){var s=this.Ba(i)+e;if((n=this.Ba(n)+void 0)<s||0>s||n>this.I()-1)throw t.i.N();e=0,(i=this.Ga()).Vb(s);do{for(;i.Ha()&&(s=i.ha(),i.wb()!=n);)e+=s=s.Qb();if(i.wb()==n)break}while(i.$a());return e},e.prototype.fO=function(i,e,n){if(e=this.Ba(i)+e,n=this.Ba(i)+n,0>e||n>this.I()-1)throw t.i.N();var s=this.Ga();if(e>n){if(!this.dc(i))throw t.i.N("cannot iterate across an open path");s.JB()}var r=i=0;s.Vb(e);do{r+=i,i=s.ha().Qb()}while(s.wb()!=n);return r},e.prototype.mg=function(){return t.pi.gm(this,null)},e.prototype.KS=function(i,e,n){for(var s=i;s<n-1;s++)if(this.dc(s))throw t.i.N("cannot interpolate across closed paths");if(1!=(s=this.description.Aa)){var r=this.uE(i,e,n);if(0!=r)for(var o=1;o<s;o++){var h=this.description.kd(o);if(2!=t.ra.lz(h))for(var a=t.ra.Va(h),u=0;u<a;u++)this.MS(h,i,e,n,r,u)}}},e.prototype.JS=function(i,e,n){var s=this.description.Aa;if(1!=s){var r=this.fO(i,e,n);if(0!=r)for(var o=1;o<s;o++){var h=this.description.kd(o);if(2!=t.ra.lz(h))for(var a=t.ra.Va(h),u=0;u<a;u++)this.LS(h,i,e,n,r,u)}}},e.prototype.MS=function(i,e,n,s,r,o){var h=this.Ga(),a=this.Ba(e)+n;s=this.Ba(s)+void 0,e=this.Uc(i,a,o),n=this.Uc(i,s,o);var u=e,c=0;h.Vb(a);do{if(h.Ha()){if(h.ha(),h.wb()==s)break;this.setAttribute(i,h.wb(),o,u),h.li();do{if(a=h.ha(),h.ik()==s)return;c+=a=a.Qb(),u=t.lc.hq(e,n,c/r),h.On()||this.setAttribute(i,h.ik(),o,u)}while(h.Ha())}}while(h.$a())},e.prototype.LS=function(i,e,n,s,r,o){var h=this.Ga(),a=this.Ba(e)+n;if((e=this.Ba(e)+s)!=a){s=this.Uc(i,a,o),n=this.Uc(i,e,o);var u=0;h.Vb(a),h.JB(),a=s;do{var c=h.ha();this.setAttribute(i,h.wb(),o,a),u+=a=c.Qb(),a=t.lc.hq(s,n,u/r)}while(h.ik()!=e)}},e.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},e.prototype.Oc=function(i){i instanceof t.Dd?this.YD(i,-1):this.wN(i)},e.prototype.YD=function(i,e){if(!this.B()&&!i.isIdentity()){this.mc();var n=this.za[0],s=new t.h,r=new t.h;if(0>e){var o=this.tm(),h=0;e=this.wa}else o=this.yv(e),h=this.Ba(e),e=this.Vc(e);for(;h<e;h++){if(s.x=n.read(2*h),s.y=n.read(2*h+1),o){var a=this.Lj.read(h);if(0<=a)switch(7&this.Ve.read(h)){case 2:r.x=this.Sd.read(a),r.y=this.Sd.read(a+1),i.Eh(r,r),this.Sd.write(a,r.x),this.Sd.write(a+1,r.y),r.x=this.Sd.read(a+3),r.y=this.Sd.read(a+4),i.Eh(r,r),this.Sd.write(a+3,r.x),this.Sd.write(a+4,r.y);break;case 4:throw t.i.Qa()}}i.Eh(s,s),n.write(2*h,s.x),n.write(2*h+1,s.y)}this.Pc(1993)}},e.prototype.wN=function(i){if(!this.B()){this.re(1),this.mc();for(var e=this.za[0],n=this.za[1],s=new t.Nd,r=new t.Nd,o=this.tm(),h=0;h<this.wa;h++){if(s.x=e.read(2*h),s.y=e.read(2*h+1),s.z=n.read(h),o){var a=this.Lj.read(h);if(0<=a)switch(7&this.Ve.read(h)){case 2:r.x=this.Sd.read(a),r.y=this.Sd.read(a+1),r.z=this.Sd.read(a+2),r=i.fp(r),this.Sd.write(a,r.x),this.Sd.write(a+1,r.y),this.Sd.write(a+1,r.z),r.x=this.Sd.read(a+3),r.y=this.Sd.read(a+4),r.z=this.Sd.read(a+5),r=i.fp(r),this.Sd.write(a+3,r.x),this.Sd.write(a+4,r.y),this.Sd.write(a+5,r.z);break;case 4:throw t.i.Qa()}}s=i.fp(s),e.write(2*h,s.x),e.write(2*h+1,s.y),n.write(h,s.z)}this.Pc(1993)}},e.prototype.iy=function(){null==this.nb&&(this.nb=t.Yc.Oh(1,0),this.mb=t.Yc.Mr(1,0)),null!=this.Ve&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},e.prototype.op=function(i){i.Mg=!1,i.tq=this.tq,i.xq=this.xq,i.nb=null!=this.nb?t.ia.Bn(this.nb):null,i.mb=null!=this.mb?t.pn.Bn(this.mb):null,i.Lj=null!=this.Lj?t.ia.Bn(this.Lj):null,i.Ve=null!=this.Ve?t.pn.Bn(this.Ve):null,i.Sd=null!=this.Sd?t.be.Bn(this.Sd):null,i.sq=this.sq,i.rq=this.rq,i.Aj=this.ak(1024)?null:this.Aj},e.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var i=this.Ga(),e=new t.Fx(0);i.$a();)for(;i.Ha();)e.add(i.ha().Qb());return this.sq=e.rm(),this.Lf(512,!1),e.rm()},e.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof e&&i.prototype.Nb.call(this,t)))return!1;var n=this.da();return!(n!=t.da()||null!=this.nb&&!this.nb.Nb(t.nb,0,n+1)||this.xq!=t.xq||null!=this.mb&&!this.mb.Nb(t.mb,0,n))&&i.prototype.Nb.call(this,t)},e.prototype.Ga=function(){return new t.YL(this)},e.prototype.hy=function(t){if(i.prototype.hy.call(this,t),this.tm())for(t=this.Ga();t.$a();)t.Ha()},e.prototype.yp=function(t,e){if(i.prototype.yp.call(this,t,e),this.tm())for(t=this.Ga();t.$a();)t.Ha()},e.prototype.$x=function(){this.wa=null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)},e.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},e.prototype.Ev=function(t){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(t)):!!(4&this.mb.read(t)))},e.prototype.Ir=function(t){return this.xf?(this.xu(),this.Aj.read(t)):0},e.prototype.xu=function(){if(this.ak(1024)){var i=this.da();null==this.Aj?this.Aj=new t.be(i):this.Aj.size!=i&&this.Aj.resize(i),i=new t.Fx(0);for(var e=new t.Fx(0),n=new t.h,s=0,r=this.Ga();r.$a();){for(e.reset(),this.D(this.Ba(r.gb),n);r.Ha();)e.add(r.ha().Tx(n.x,n.y));i.add(e.rm());var o=s++;this.Aj.write(o,e.rm())}this.rq=i.rm(),this.Lf(1024,!1)}},e.prototype.FR=function(){if(this.xf){this.fm();for(var t=this.da(),i=0;i<t;i++)this.mb.read(i)}},e.prototype.fm=function(){if(this.ak(8)){this.xu();var i=this.da();(null==this.mb||this.mb.size<i)&&(this.mb=t.Yc.Mr(i+1));for(var e=1,n=0;n<i;n++){var s=this.Aj.read(n);0==n&&(e=0<s?1:-1),0<s*e?this.mb.zJ(n,4):this.mb.KE(n,4)}this.Lf(8,!1)}},e.prototype.sz=function(i){var e=this.gb,n=this.da();if(0<=e&&e<n){if(i<this.Vc(e)){if(i>=this.Ba(e))return e;e--}else e++;if(0<=e&&e<n&&i>=this.Ba(e)&&i<this.Vc(e))return this.gb=e}if(5>n){for(e=0;e<n;e++)if(i<this.Vc(e))return this.gb=e;throw t.i.fa("corrupted geometry")}for(e=0,--n;n>e;){var s=e+(n-e>>1);if(i<this.Ba(s))n=s-1;else{if(!(i>=(e=this.Vc(s))))return this.gb=s;e=s+1}}return this.gb=e},e.prototype.yz=function(){var t=this.I();if(!this.xf){t-=this.da();for(var i=0,e=this.da();i<e;i++)this.dc(i)&&t++}return t},e.prototype.rv=function(t){var i=this.Ja(t);return this.dc(t)||i--,i},e.prototype.Ia=function(){return new e(this.xf,this.description)},e.prototype.Db=function(){return this.xf?2:1},e.prototype.getType=function(){return this.xf?1736:1607},e.prototype.QJ=function(t){this.nb=t,this.Pc(16777215)},e.prototype.VR=function(){return this.wx(),this.Ve},e.prototype.JR=function(){return this.wx(),this.mb},e.prototype.PJ=function(t){this.mb=t,this.Pc(16777215)},e.prototype.da=function(){return null!=this.nb?this.nb.size-1:0},e.prototype.Vc=function(t){return this.nb.read(t+1)},e.prototype.Ja=function(t){return this.nb.read(t+1)-this.nb.read(t)},e.prototype.Ba=function(t){return this.nb.read(t)},e.prototype.lu=function(i,e){null==this.Bb&&(this.Bb=new t.Uk),e=t.Nx.pW(e);var n=this.Bb.Fk;if(null!=n){if(!(n.Ik<i||e>n.RR()))return!0;this.Bb.yD(null)}return n=t.Nx.create(this,i,e),this.Bb.yD(n),!0},e.prototype.cc=function(){var t=i.prototype.cc.call(this);if(!this.Ac()){var e=this.da();null!=this.nb&&this.nb.An(t,0,e+1),null!=this.mb&&this.mb.An(t,0,e)}return t},e.prototype.ZF=function(t){return null!=this.Ve?this.Ve.read(t):1},e.prototype.bc=function(i,e,n){var s=this.sz(i);if(i==this.Vc(s)-1&&!this.dc(s))throw t.i.fa("index out of bounds");this.mc();var r=this.Ve,o=1;if(null!=r&&(o=7&r.read(i)),1!==o)throw t.i.Qa();if(e.Or(),e=e.get(),n?e.Nf(t.ee.og()):e.Nf(this.description),s=i==this.Vc(s)-1&&this.dc(s)?this.Ba(s):i+1,r=new t.h,this.D(i,r),e.Dc(r),this.D(s,r),e.Qc(r),!n)for(n=1,r=this.description.Aa;n<r;n++){o=this.description.Ed(n);for(var h=t.ra.Va(o),a=0;a<h;a++){var u=this.Uc(o,i,a);e.YB(o,a,u),u=this.Uc(o,s,a),e.OB(o,a,u)}}},e.prototype.Rj=function(i,e){if(i>=this.da())throw t.i.N();if(this.B())e.Oa();else{if(this.yv(i))throw t.i.fa("not implemented");var n=this.ub(0),s=new t.h,r=new t.l;r.Oa();var o=this.Ba(i);for(i=this.Vc(i);o<i;o++)n.tc(2*o,s),r.Zb(s);e.K(r)}},e.prototype.fj=function(i){return null==this.Bb&&(this.Bb=new t.Uk),!(0==i||16>this.I()||(i=t.ta.nE(this),this.Bb.WM(i),0))},e.prototype.hM=function(){if(null==this.Bb&&(this.Bb=new t.Uk),null==this.Bb.zo){this.Bb.xD(null);var i=t.ta.YN(this);this.Bb.xD(i)}},e.prototype.Yo=function(t){this.xq=t},e.prototype.In=function(){return this.xq},e.prototype.DD=function(i){if(this==i)throw t.i.fa("MultiPathImpl.add");for(var e=this.da(),n=0;n<i.da();n++)this.addPath(i,n,!0),this.CU(e),e++},e.prototype.kO=function(i){var e=this.sz(i),n=this.Ba(e);if(n!=i){if(i>=(e=this.Vc(e))||i<n)throw t.i.fa("change_ring_start_point");for(var s=0,r=this.description.Aa;s<r;s++){var o=this.description.kd(s);o=t.ra.Va(o),this.za[s].rotate(n*o,i*o,e*o)}}},e}(t.Gx);t.Vk=e}(W||(W={})),function(t){var i=function(i){function e(e){var n=i.call(this)||this;if(void 0!==e){if(null==e)throw t.i.N();n.description=e}else n.description=t.ee.og();return n.wa=0,n}return Q(e,i),e.prototype.Ia=function(){return new e(this.description)},e.prototype.add=function(t){this.resize(this.wa+1),this.Dh(this.wa-1,t)},e.prototype.Bu=function(i,e){this.resize(this.wa+1);var n=new t.h;n.ma(i,e),this.Cb(this.wa-1,n)},e.prototype.Fd=function(i,e,n){if(n=0>n?i.I():n,0>e||e>i.I()||n<e)throw t.i.N();if(e!=n){this.Jl(i.description),n-=e;var s=this.wa;this.resize(this.wa+n),this.mc();for(var r=0,o=i.description.Aa;r<o;r++){var h=i.description.Ed(r),a=t.ra.Va(h),u=this.ub(h);h=i.ub(h),u.Mn(s*a,h,e*a,n*a,!0,1,s*a)}}},e.prototype.HD=function(i,e){var n=i.length;if(e=0>e?n:e,0>n||0>e)throw t.i.N();if(0!=e){n=e-0,e=this.wa,this.resize(this.wa+n);for(var s=0;s<n;s++)this.Cb(e+s,i[0+s])}},e.prototype.DB=function(i){if(0>i||i>=this.I())throw t.i.fa("index out of bounds");this.mc();for(var e=0,n=this.description.Aa;e<n;e++)if(null!=this.za[e]){var s=t.ra.Va(this.description.Ed(e));this.za[e].En(s*i,s,s*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},e.prototype.resize=function(t){this.dm(t)},e.prototype.op=function(){},e.prototype.Oa=function(){i.prototype.wD.call(this)},e.prototype.Oc=function(i){if(i instanceof t.Dd){if(this.B())return;this.mc();for(var e=this.za[0],n=new t.h,s=0;s<this.wa;s++)n.x=e.read(2*s),n.y=e.read(2*s+1),i.Eh(n,n),e.write(2*s,n.x),e.write(2*s+1,n.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),e=this.za[0],n=this.za[1];var r=new t.Nd;for(s=0;s<this.wa;s++){r.x=e.read(2*s),r.y=e.read(2*s+1),r.z=n.read(s);var o=i.fp(r);e.write(2*s,o.x),e.write(2*s+1,o.y),n.write(s,o.z)}}this.Pc(1993)},e.prototype.Db=function(){return 0},e.prototype.getType=function(){return 550},e.prototype.Ke=function(){return 0},e.prototype.Qb=function(){return 0},e.prototype.Nb=function(t){return t==this||t instanceof e&&i.prototype.Nb.call(this,t)},e.prototype.lW=function(i,e){var n=this.wa;if(n=Math.min(n,e+1e3),0>e||e>=this.wa||n<e||1e3!=i.length)throw t.i.N();var s=n-e,r=[];for(this.ub(0).Vw(2*e,2*s,r,0,!0),e=0;e<s;e++)i[e]=t.h.construct(r[2*e],r[2*e+1]);return n},e.prototype.$x=function(){},e.prototype.iy=function(){},e.prototype.lu=function(){return!1},e.prototype.fj=function(){return!1},e.prototype.mg=function(){return null},e}(t.Gx);t.de=i}(W||(W={})),function(t){var i;(i=t.iL||(t.iL={}))[i.NotDetermined=0]="NotDetermined",i[i.Structure=1]="Structure",i[i.DegenerateSegments=2]="DegenerateSegments",i[i.Clustering=3]="Clustering",i[i.Cracking=4]="Cracking",i[i.CrossOver=5]="CrossOver",i[i.RingOrientation=6]="RingOrientation",i[i.RingOrder=7]="RingOrder",i[i.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",i[i.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",i[i.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var e=function(){function t(t,i,e){void 0===t?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=t,this.Jo=i,this.Ko=e)}return t.prototype.Wt=function(t){this.Jj=t.Jj,this.Jo=t.Jo,this.Ko=t.Ko},t}();t.Md=e}(W||(W={})),function(t){t.O=function(){function i(){}return i.assert=function(i){if(!1===i)throw t.i.GK()},i.bK=function(t){return isNaN(t)?NaN:0===t?t:0<t?1:-1},i.Fu=function(t){var e;void 0===e&&(e=0);for(var n=[],s=0;s<t;s++)n[s]=i.lg(2,e);return n},i.lg=function(t,i){void 0===i&&(i=0);for(var e=[],n=0;n<t;n++)e[n]=i;return e},i.$u=function(t,i){var e,n;for(void 0===e&&(e=0),void 0===n&&(n=t.length-1);e<=n;e++)t[e]=i},i.Rk=function(t,i,e){return t<i?i:t>e?e:t},i.Th=function(t,i){var e=5381;return((e=((e=((e=void 0!==i?(i<<5)+i+(255&t):(e<<5)+e+(255&t))<<5)+e+(t>>8&255))<<5)+e+(t>>16&255))<<5)+e+(t>>24&255)&2147483647},i.uj=function(){throw Error("Not Implemented")},i.bB=function(t){return i.aU(t)+12345&2147483647},i.XG=function(t){var e=32,n=t%i.Qx|0,s=t/i.Qx|0;return 0==(e&=63)?t:(32>e?(t=n>>>e|s<<32-e,e=s>>e):(t=s>>e-32,e=0<=s?0:-1),e*i.Qx+(t>>>0))},i.aU=function(t){return(1103495168*(t|=0)|0)+(20077*t|0)|0},i.truncate=function(t){return 0>t?-1*Math.floor(Math.abs(t)):Math.floor(t)},i.MAX_SAFE_INTEGER=Math.pow(2,53)-1,i.MIN_SAFE_INTEGER=-i.MAX_SAFE_INTEGER,i.VC=65536,i.Qx=i.VC*i.VC,i}()}(W||(W={})),function(t){var i;(i=t.CL||(t.CL={}))[i.Project=0]="Project",i[i.Union=1]="Union",i[i.Difference=2]="Difference",i[i.Proximity2D=3]="Proximity2D",i[i.Relate=4]="Relate",i[i.Equals=5]="Equals",i[i.Disjoint=6]="Disjoint",i[i.Intersects=7]="Intersects",i[i.Within=8]="Within",i[i.Contains=9]="Contains",i[i.Crosses=10]="Crosses",i[i.Touches=11]="Touches",i[i.Overlaps=12]="Overlaps",i[i.Buffer=13]="Buffer",i[i.Distance=14]="Distance",i[i.Intersection=15]="Intersection",i[i.Clip=16]="Clip",i[i.Cut=17]="Cut",i[i.DensifyByLength=18]="DensifyByLength",i[i.DensifyByAngle=19]="DensifyByAngle",i[i.LabelPoint=20]="LabelPoint",i[i.GeodesicBuffer=21]="GeodesicBuffer",i[i.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",i[i.ShapePreservingDensify=23]="ShapePreservingDensify",i[i.GeodeticLength=24]="GeodeticLength",i[i.GeodeticArea=25]="GeodeticArea",i[i.Simplify=26]="Simplify",i[i.SimplifyOGC=27]="SimplifyOGC",i[i.Offset=28]="Offset",i[i.Generalize=29]="Generalize",i[i.SymmetricDifference=30]="SymmetricDifference",i[i.ConvexHull=31]="ConvexHull",i[i.Boundary=32]="Boundary",i[i.SimpleRelation=33]="SimpleRelation";var e=function(){function t(){}return t.prototype.getType=function(){return null},t.prototype.wn=function(){},t.prototype.Iu=function(){return!1},t}();t.Je=e}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 13},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s,r){return i instanceof t.aa?(r=new t.Zc(i),this.V(r,e,[n],!1,s).next()):!0===s?(n=new t.BC(i,e,n,!1,r),t.Gh.local().V(n,e,r)):new t.BC(i,e,n,!1,r)},e.instance=null,e}(t.Je);t.AC=i}(W||(W={})),function(t){var i=function(){function i(i,e,n,s,r){this.ya=-1,this.Rd=i,this.$z=e,this.Cs=n,this.tT=new t.l,this.tT.Oa(),this.eo=-1,this.Ub=r}return i.prototype.next=function(){for(var t;null!=(t=this.Rd.next());)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(t,this.Cs[this.eo]);return null},i.prototype.La=function(){return this.ya},i.prototype.buffer=function(i,e){return t.HK.buffer(i,e,this.$z,NaN,96,this.Ub)},i.prototype.qe=function(){},i}();t.BC=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 16},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,e,n,s).next()):new t.lL(i,e,n,s)},e.instance=null,e}(t.Je);t.kL=i}(W||(W={})),function(t){var i=function(){function i(i,e,n){if(this.ya=-1,null==i)throw t.i.N();this.$=e,this.yk=i,this.qa=t.ta.Wd(n,e,!1)}return i.prototype.next=function(){var i;return null!=(i=this.yk.next())?(this.ya=this.yk.La(),t.Ud.clip(i,this.$,this.qa,0)):null},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.lL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 31},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n){return i instanceof t.aa?t.DC.rE(i):new t.DC(e,i,n)},e.instance=null,e}(t.Je);t.CC=i}(W||(W={})),function(t){var i=function(){function i(i,e,n){if(this.uA=new t.Zt,this.ya=-1,null==e)throw t.i.N();this.cH=i,this.Ic=!1,this.yk=e,this.Ub=n}return i.prototype.next=function(){if(this.cH){if(!this.Ic){var t=this.dO(this.yk);return this.Ic=!0,t}return null}if(!this.Ic){if(null!=(t=this.yk.next()))return this.ya=this.yk.La(),i.rE(t);this.Ic=!0}return null},i.prototype.La=function(){return this.ya},i.prototype.dO=function(t){for(var i;null!=(i=t.next());)this.uA.Ib(i);return this.uA.cR()},i.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw t.i.fa("Invalid call for non merging convex hull.");var i=this.yk.next();if(null==i)throw t.i.fa("Expects a non-null geometry.");this.uA.Ib(i)}},i.rE=function(e){if(i.VS(e))return e;var n=e.getType();if(t.Vk.yd(n))return(n=new t.Ta(e.description)).oc(e,!0),n;if(550==n&&2==e.I()){var s=new t.Sa;return n=new t.Ta(e.description),e.ve(0,s),n.nf(s),e.ve(1,s),n.lineTo(s),n}return t.Zt.RO(e)},i.VS=function(i){if(i.B())return!0;var e=i.getType();return 33==e||197==e||!t.Vk.yd(e)&&(550==e?1==i.I():1607==e?1==i.da()&&2>=i.I():1==i.da()&&(2>=i.I()||t.Zt.JG(i,0)))},i}();t.DC=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 17},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s,r){return new t.nL(i,e,n,s,r)},e.instance=null,e}(t.Je);t.mL=i}(W||(W={})),function(t){var i=function(){function i(i,e,n,s,r){if(this.Tf=null,null==e||null==n)throw t.i.fa("invalid argument");this.qT=i,this.nA=e,this.lH=n,i=t.ta.mv(e,n),this.qa=t.ta.Wd(s,i,!0),this.kH=-1,this.nd=r}return i.prototype.La=function(){return 0},i.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},i.prototype.RQ=function(){if(null==this.Tf)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},i.prototype.TQ=function(){var i=new t.Ta,e=new t.Ta,n=new t.Ta;this.Tf.push(i),this.Tf.push(e);var s=[];t.LK.JK(this.qT,this.nA,this.lH,this.qa,s,this.nd);for(var r=0;r<s.length;r++){var o=s[r];if(0==o.bt)i.add(o.X,!1);else if(1==o.bt||2==o.bt)e.add(o.X,!1);else if(3==o.bt)this.Tf.push(o.X);else{if(4!=o.bt)throw t.i.fa("internal");n.add(o.X,!1)}}n.B()||i.B()&&e.B()&&!(3<=this.Tf.length)||this.Tf.push(n),i.B()&&e.B()&&3>this.Tf.length&&(this.Tf.length=0)},i.prototype.SQ=function(){var i=new t.ia(0),e=new t.gd,n=e.aF(),s=e.Ib(this.nA),r=e.Ib(this.lH),o=new t.Fg;try{o.Ft(e,this.qa,this.nd),o.dl(n,s,r,i);var h=e.Ne(s),a=new t.Da,u=new t.Da;for(this.Tf.length=0,this.Tf.push(a),this.Tf.push(u),s=0;s<i.size;s++){var c=new t.gd,l=c.Ib(h),f=c.Ib(e.Ne(i.get(s)));o.dr(c,this.nd);var p=o.Av(l,f),d=c.Ne(p);if(!d.B()){var v=e.KF(i.get(s),n);2==v?a.add(d,!1):1==v?u.add(d,!1):this.Tf.push(d);var y=new t.gd;l=y.Ib(h),f=y.Ib(e.Ne(i.get(s))),o.dr(y,this.nd),h=y.Ne(o.im(l,f))}}!h.B()&&0<i.size&&this.Tf.push(h),a.B()&&u.B()&&(this.Tf.length=0)}finally{o.Ug()}},i.prototype.qe=function(){},i}();t.nL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 18},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n){if(i instanceof t.aa)return i=new t.Zc(i),this.V(i,e,n).next();if(0>=e)throw t.i.N();return new t.oL(i,e,n)},e.instance=null,e}(t.Je);t.Xl=i}(W||(W={})),function(t){var i=function(){function i(t,i){this.ya=-1,this.Rd=t,this.Ps=i}return i.prototype.La=function(){return this.ya},i.prototype.next=function(){var t;return null!=(t=this.Rd.next())?(this.ya=this.Rd.La(),this.NP(t)):null},i.prototype.NP=function(i){if(i.B()||1>i.Db())return i;var e=i.getType();if(1736==e||1607==e)return this.Ny(i);if(t.aa.yd(e))return this.PP(i);if(197==e)return this.OP(i);throw t.i.Qa()},i.prototype.PP=function(i){if(i.Qb()<=this.Ps)return i;var e=new t.Ta(i.description);return e.oc(i,!0),this.Ny(e)},i.prototype.OP=function(i){var e=new t.Da(i.description);e.ad(i,!1);var n=new t.l;return i.A(n),i=n.ca(),n.R()<=this.Ps&&i<=this.Ps?e:this.Ny(e)},i.prototype.Ny=function(i){for(var e=i.Ia(),n=i.Ga();n.$a();)for(var s=!0;n.Ha();){var r=n.ha();if(322!=r.getType())throw t.i.fa("not implemented");var o=n.On(),h=r.Qb();if(h>this.Ps){var a=Math.ceil(h/this.Ps);h=new t.Sa(i.description),s&&(r.To(h),e.nf(h));var u=s=1/a,c=0;for(--a;c<a;c++)r.Tw(u,h),e.lineTo(h),u+=s;o?e.Ap():(r.Po(h),e.lineTo(h))}else o?e.Ap():e.oc(r,s);s=!1}return e},i.prototype.qe=function(){},i}();t.oL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.getType=function(){return 2},e.prototype.V=function(i,e,n,s){return i instanceof t.aa?(i=new t.Zc(i),e=new t.Zc(e),this.V(i,e,n,s).next()):new t.qL(i,e,n,s)},e.im=function(i,n,s,r){if(i.B()||n.B())return i;var o=i.Db(),h=n.Db();if(o>h)return i;var a=i.getType(),u=n.getType(),c=new t.l,l=new t.l,f=new t.l;i.A(c),n.A(l),f.K(c),f.Zb(l);var p=(f=t.ta.Wd(s,f,!0))*Math.sqrt(2)*1.00001,d=new t.l;if(d.K(c),d.W(p,p),!d.isIntersecting(l))return i;if(1==o&&2==h)return e.KV(i,n,u,s,r);if(33==a)switch(t.Vk.yd(u)?(s=new t.Ta(n.description),s.oc(n,!0)):s=n,u){case 1736:return e.XU(i,s,f);case 1607:return e.YU(i,s,f);case 550:return e.VU(i,s,f);case 197:return e.UU(i,s,f);case 33:return e.WU(i,s,f);default:throw t.i.N()}else if(550==a)switch(u){case 1736:return e.nU(i,n,f);case 197:return e.lU(i,n,f);case 33:return e.mU(i,n,f)}return t.Fg.im(i,n,s,r)},e.XU=function(i,e,n){return 0==t.hd.KG(e,i,n)?i:i.Ia()},e.YU=function(i,e,n){var s=i.D();e=e.Ga();for(var r=n*Math.sqrt(2)*1.00001,o=r*r,h=new t.l;e.$a();)for(;e.Ha();){var a=e.ha();if(a.A(h),h.W(r,r),h.contains(s)){if(a.qs(s,n))return i.Ia();var u=a.ac();if(t.h.yc(s,u)<=o)return i.Ia();if(u=a.wc(),t.h.yc(s,u)<=o)return i.Ia()}}return i},e.VU=function(i,e,n){var s=e.ub(0);e=e.I();var r=i.D(),o=new t.h;n=n*Math.sqrt(2)*1.00001,n*=n;for(var h=0;h<e;h++)if(s.tc(2*h,o),t.h.yc(o,r)<=n)return i.Ia();return i},e.UU=function(i,e,n){var s=new t.l;return e.A(s),s.W(n,n),e=i.D(),s.contains(e)?i.Ia():i},e.WU=function(i,e,n){n=n*Math.sqrt(2)*1.00001,n*=n;var s=i.D();return e=e.D(),t.h.yc(s,e)<=n?i.Ia():i},e.nU=function(i,e,n){var s=new t.l;e.A(s),s.W(n,n);for(var r=i.I(),o=!1,h=[],a=0;a<r;a++)h[a]=!1;var u=new t.h;for(a=0;a<r;a++)i.D(a,u),s.contains(u)&&0!=t.hd.Yd(e,u,n)&&(o=!0,h[a]=!0);if(!o)return i;for(e=i.Ia(),a=0;a<r;a++)h[a]||e.Fd(i,a,a+1);return e},e.lU=function(i,e,n){var s=new t.l;e.A(s),s.W(n,n),e=i.I();var r=!1;n=[];for(var o=0;o<e;o++)n[o]=!1;var h=new t.h;for(o=0;o<e;o++)i.D(o,h),s.contains(h)&&(r=!0,n[o]=!0);if(!r)return i;for(s=i.Ia(),o=0;o<e;o++)n[o]||s.Fd(i,o,o+1);return s},e.mU=function(i,e,n){var s=i.ub(0),r=i.I(),o=e.D(),h=new t.h,a=!1;e=[];for(var u=0;u<r;u++)e[u]=!1;for(n=(u=n*Math.sqrt(2)*1.00001)*u,u=0;u<r;u++)s.tc(2*u,h),t.h.yc(h,o)<=n&&(a=!0,e[u]=!0);if(!a)return i;for(s=i.Ia(),u=0;u<r;u++)e[u]||s.Fd(i,u,u+1);return s},e.KV=function(i,e,n,s,r){var o=new t.Fh;i.bn(o);var h=new t.l;return e.A(h),o.Zb(h),o.W(.1*o.R(),.1*o.ca()),(h=new t.Da).ad(o,!1),1736==n?h.add(e,!0):h.ad(e,!0),t.Xj.local().V(i,h,s,r)},e.instance=null,e}(t.Je);t.kp=i}(W||(W={})),function(t){var i=function(){function i(t,i,e,n){this.ts=null==i,this.ya=-1,this.Rd=t,this.$z=e,this.wT=i.next(),this.Ub=n}return i.prototype.next=function(){return this.ts?null:null!=(i=this.Rd.next())?(this.ya=this.Rd.La(),t.kp.im(i,this.wT,this.$z,this.Ub)):null;var i},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.qL=i}(W||(W={})),function(t){var i=function(){function i(i){this.nd=i,this.Bj=new t.l,this.Bj.Oa(),this.oh=new t.l,this.oh.Oa()}return i.prototype.Nt=function(){var t=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=t,t=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=t,t=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=t,t=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=t},i.prototype.eQ=function(i,e){if(null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.fu("user_canceled");var n=!this.Bj.isIntersecting(this.oh);return t.aa.Hc(i.getType())&&t.aa.Hc(e.getType())?i.I()>e.I()?this.gE(i,e,n):(this.Nt(),i=this.gE(e,i,n),this.Nt(),i):550==i.getType()&&t.aa.Hc(e.getType())?(i=this.hE(e,i,n),this.Nt(),i):550==e.getType()&&t.aa.Hc(i.getType())?this.hE(i,e,n):550==i.getType()&&550==e.getType()?i.I()>e.I()?this.iE(i,e):(this.Nt(),i=this.iE(e,i),this.Nt(),i):0},i.prototype.gE=function(i,e,n){var s=i.Ga(),r=e.Ga(),o=new t.l,h=new t.l,a=17976931348623157e292;if(!n&&this.pY(i,e,s,r))return 0;for(;s.$a();)for(;s.Ha();)if((i=s.ha()).A(o),!(o.px(this.oh)>a)){for(;r.$a();)for(;r.Ha();)if((e=r.ha()).A(h),o.px(h)<a&&(e=i.tb(e,n),(e*=e)<a)){if(0==e)return 0;a=e}r.Zi()}return Math.sqrt(a)},i.prototype.hE=function(i,e,n){var s=i.Ga(),r=new t.l,o=17976931348623157e292,h=new t.h,a=e.I();for(n=!n&&1736==i.getType();s.$a();)for(;s.Ha();){var u=s.ha();if(u.A(r),!(1<a&&r.px(this.oh)>o)){for(var c=0;c<a;c++){if(e.D(c,h),n&&0!=t.hd.Yd(i,h,0))return 0;var l=u.fe(h,!1);if(h.sub(u.hc(l)),(l=h.Sk())<o){if(0==l)return 0;o=l}}n=!1}}return Math.sqrt(o)},i.prototype.iE=function(i,e){for(var n,s=17976931348623157e292,r=new t.h,o=new t.h,h=i.I(),a=e.I(),u=0;u<h;u++)if(i.D(u,r),!(1<a&&this.oh.iK(r)>s))for(var c=0;c<a;c++)if(e.D(c,o),(n=t.h.yc(r,o))<s){if(0==n)return 0;s=n}return Math.sqrt(s)},i.prototype.pY=function(i,e,n,s){if(1736==i.getType()){for(;s.$a();)if(s.Ha()){var r=s.ha();if(0!=t.hd.Yd(i,r.wc(),0))return!0}s.Zi()}if(1736==e.getType()){for(;n.$a();)if(n.Ha()&&(i=n.ha(),0!=t.hd.Yd(e,i.wc(),0)))return!0;n.Zi()}return!1},i.prototype.gm=function(t,i){return t.B()||i.B()?NaN:(t.A(this.Bj),i.A(this.oh),this.eQ(t,i))},i}(),e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Q(n,e),n.prototype.V=function(e,n,s){if(null==e||null==n)throw t.i.N();if(e.B()||n.B())return NaN;var r=e.getType(),o=n.getType();if(33==r){if(33==o)return t.h.tb(e.D(),n.D());if(197==o)return s=new t.l,n.A(s),s.tb(e.D());(r=new t.de).add(e),e=r}else if(197==r){if(197==o)return o=new t.l,e.A(o),s=new t.l,n.A(s),s.tb(o);(r=new t.Da).ad(e,!1),e=r}return 33==o?((o=new t.de).add(n),n=o):197==o&&((o=new t.Da).ad(n,!1),n=o),new i(s).gm(e,n)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.getType=function(){return 14},n.instance=null,n}(t.Je);t.rL=e}(W||(W={})),function(t){var i=function(){function i(t,i,e,n){this.zH=t,this.DH=i,this.nd=n,this.$G=e}return i.prototype.next=function(){var t=this.zH.next();return null==t?null:this.zC(t)},i.prototype.La=function(){return this.zH.La()},i.prototype.zC=function(i){var e=i.getType();if(t.aa.Rn(e))return i;if(197==e)return(e=new t.Da(i.description)).ad(i,!1),this.zC(e);if(i.B())return i;if(null==i)throw t.i.Qa();e=i.Ia();for(var n=new t.yb,s=0,r=i.da();s<r;s++)this.TK(i,s,e,n);return e},i.prototype.TK=function(i,e,n,s){if(!(2>i.Ja(e))){var r=i.Ba(e),o=i.Vc(e)-1,h=i.ub(0),a=i.dc(e),u=new t.ia(0);u.Jb(i.Ja(e)+1);var c=new t.ia(0);for(c.Jb(i.Ja(e)+1),u.add(a?r:o),u.add(r),r=new t.h;1<u.size;){var l=u.Fc();u.If();var f=u.Fc();i.D(l,r),s.Dc(r),i.D(f,r),s.Qc(r),0<=(f=this.SK(s,r,h,l,f,o))?(u.add(f),u.add(l)):c.add(l)}if(a||c.add(u.get(0)),c.size==u.size)n.addPath(i,e,!0);else if(2<=c.size&&(!this.$G||2!=c.size||!(a||t.h.tb(i.Na(c.get(0)),i.Na(c.get(1)))<=this.DH))){for(e=new t.Sa,s=0,o=c.size;s<o;s++)i.ve(c.get(s),e),0==s?n.nf(e):n.lineTo(e);a&&(this.$G||2!=c.size||n.lineTo(e),n.Ap())}}},i.prototype.SK=function(t,i,e,n,s,r){var o=s-1;for(s<=n&&(o=r),r=s=-1,n+=1;n<=o;n++){e.tc(2*n,i);var h=i.x,a=i.y;t.hc(t.fe(i,!1),i),i.x-=h,i.y-=a,(h=i.length())>this.DH&&h>r&&(s=n,r=h)}return s},i.prototype.qe=function(){},i}();t.sL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 29},e.prototype.V=function(i,e,n,s){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,e,n,s).next()):new t.sL(i,e,n,s)},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.instance=null,e}(t.Je);t.EC=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 21},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s,r,o,h,a){return i instanceof t.aa?(a=new t.Zc(i),this.V(a,e,n,[s],r,o,!1,h).next()):!0===h?(n=new t.GC(i,e,n,s,r,!1,!1,a),t.Gh.local().V(n,e,a)):new t.GC(i,e,n,s,r,!1,!1,a)},e.instance=null,e}(t.Je);t.FC=i}(W||(W={})),function(t){var i=function(){function i(i,e,n,s,r,o,h,a){if(o)throw t.i.Ie();if(null==e)throw t.i.N();this.ya=-1,this.Ms=i,this.vg=e,this.ze=n,this.Cs=s,this.$n=r,this.eo=-1,this.Ub=a,this.uT=new t.l,this.uT.Oa()}return i.prototype.next=function(){for(var t;null!=(t=this.Ms.next());)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(t,this.Cs[this.eo]);return null},i.prototype.La=function(){return this.ya},i.prototype.$Q=function(i,e){return t.VK.buffer(i,this.vg,this.ze,e,this.$n,this.Ub)},i.prototype.qe=function(){},i}();t.GC=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 24},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n){if(null==e)throw t.i.N();if(i.B()||1>i.Db())return 0;if(4==n)throw t.i.Ie();var s=t.cb.sc(e),r=t.cb.vv(s),o=t.cb.ev(s);r*=2-r;var h=s.Hd().ai,a=i.getType();if(1736==a||197==a)var u=i.mg();else t.aa.yd(a)?(u=new t.Ta(i.description)).oc(i,!0):u=i;if(0==s.Nb(e)){if(t.cb.Wc(e)){u=t.Hh.lj(u,e),1607==a&&u==i&&(u=t.aa.jg(i)),i=new t.Nc,t.cb.gh(e).cn(i),a=0;for(var c=u.I();a<c;a++){var l=u.Na(a);l.x=t.Hh.Zm(l.x,i),u.Cb(a,l)}}i=u.Ia(),u=t.Hh.WI(e,s,u,i)?i:t.cb.zh(u,e,s)}return this.hQ(u,n,o,r,h)},e.prototype.hQ=function(i,e,n,s,r){var o=new t.ga(0),h=0;for(i=i.Ga();i.$a();)for(;i.Ha();){var a=i.ha(),u=a.ac();a=a.wc(),u.scale(r),a.scale(r),t.kb.wd(n,s,u.x,u.y,a.x,a.y,o,null,null,e),h+=o.u}return h},e.instance=null,e}(t.Je);t.vL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 18},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s,r){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,e,n,s,r).next()):new t.uL(i,n,s,e,-1,-1,r)},e.instance=null,e}(t.Je);t.tL=i}(W||(W={})),function(t){var i=function(){function i(i,e,n,s,r,o){if(0<o)throw t.i.Ie();if(4!=n&&0<r)throw t.i.Ie();if(null==e)throw t.i.N();this.ya=-1,this.Ms=i,this.vg=e,this.ze=n,this.DT=s,this.CT=r}return i.prototype.next=function(){for(var t;null!=(t=this.Ms.next());)return this.ya=this.Ms.La(),this.Zy(t);return null},i.prototype.La=function(){return this.ya},i.prototype.Zy=function(i){return t.cj.Qr(i,this.vg,this.ze,this.DT,this.CT,this.Ub)},i.prototype.qe=function(){},i}();t.uL=i}(W||(W={})),function(t){!function(t){t[t.Unknown=0]="Unknown",t[t.Contains=1]="Contains",t[t.Within=2]="Within",t[t.Equals=3]="Equals",t[t.Disjoint=4]="Disjoint",t[t.Touches=8]="Touches",t[t.Crosses=16]="Crosses",t[t.Overlaps=32]="Overlaps",t[t.NoThisRelation=64]="NoThisRelation",t[t.Intersects=1073741824]="Intersects",t[t.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"}(t.cL||(t.cL={})),t.wL=function(){function i(){}return i.nW=function(i,e){var n=i.getType(),s=e.getType();if(t.aa.xj(n)){var r=i.Bb;if(null!=r&&null!=(r=r.Fk)){if(33==s){var o=e.D();r=r.So(o.x,o.y)}else o=new t.l,e.A(o),r=r.Ro(o);if(1==r)return 1;if(0==r)return 4}}if(t.aa.xj(s)&&null!=(r=e.Bb)&&null!=(r=r.Fk)){if(33==n?(i=i.D(),r=r.So(i.x,i.y)):(e=new t.l,i.A(e),r=r.Ro(e)),1==r)return 2;if(0==r)return 4}return 0},i}()}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.getType=function(){return 15},e.prototype.V=function(i,e,n,s,r){return i instanceof t.aa?(i=new t.Zc(i),e=new t.Zc(e),this.V(i,e,n,s,void 0===r?-1:r).next()):void 0===r?new t.HC(i,e,n,s,-1):new t.HC(i,e,n,s,r)},e.prototype.wn=function(i,e,n){this.Iu(i)&&(e=t.ta.kj(e,i,!1),i.fj(n)||i.lu(e,n))},e.prototype.Iu=function(i){return t.Nx.zE(i)},e.instance=null,e}(t.Je);t.Xj=i}(W||(W={})),function(t){var i=function(){function i(i,e,n,s,r){if(this.ts=null==e,this.ya=-1,this.Rd=i,this.vg=n,this.Se=e.next(),this.Dj=this.Se.getType(),this.Ub=s,this.Fi=r,-1!=this.Fi&&(0>=this.Fi||7<this.Fi))throw t.i.N("bad dimension mask")}return i.prototype.next=function(){if(this.ts)return null;if(null!=this.zw){var t=this.zw.next();if(null!=t)return t;this.zw=null}for(;null!=(t=this.Rd.next());)return this.ya=this.Rd.La(),-1==this.Fi?t=this.Ea(t):(this.zw=this.PS(t),t=this.zw.next()),t;return null},i.prototype.La=function(){return this.ya},i.prototype.Ea=function(i){var e=this.zK(i);if(null!=e)return e;e=t.ta.mv(this.Se,i);var n=t.ta.Wd(this.vg,e,!0);e=new t.l,this.Se.A(e);var s=new t.l;return i.A(s),e.W(2*n,2*n),e.Ea(s),e.W(100*n,100*n),n=t.Ud.clip(this.Se,e,0,0),i=t.Ud.clip(i,e,0,0),t.Fg.Av(i,n,this.vg,this.Ub)},i.prototype.QI=function(i,e,n){var s=0;if(1&e)null==n[0]&&(n[0]=new t.de(i)),s++;else for(var r=0;r<n.length-1;r++)n[r]=n[r+1];if(2&e)null==n[s]&&(n[s]=new t.Ta(i)),s++;else for(r=s;r<n.length-1;r++)n[r]=n[r+1];if(4&e)null==n[s]&&(n[s]=new t.Da(i)),s++;else for(r=s;r<n.length-1;r++)n[r]=n[r+1];if(3!=s){for(i=[],r=0;r<s;r++)i[r]=n[r];return new t.Zc(i)}return new t.Zc(n)},i.prototype.PS=function(i){var e=this.zK(i);if(null!=e){var n=[null,null,null];return n[e.Db()]=e,this.QI(i.description,this.Fi,n)}e=t.ta.mv(this.Se,i),n=t.ta.Wd(this.vg,e,!0),e=new t.l,this.Se.A(e),e.W(2*n,2*n);var s=new t.l;return i.A(s),e.Ea(s),e.W(100*n,100*n),n=t.Ud.clip(this.Se,e,0,0),e=t.Ud.clip(i,e,0,0),n=t.Fg.Pz(e,n,this.vg,this.Ub),this.QI(i.description,this.Fi,n)},i.prototype.zK=function(e){var n=t.ta.mv(e,this.Se),s=t.ta.Wd(this.vg,n,!0);n=e.getType();var r=e.B(),o=this.Se.B();if(!(o=r||o)){o=new t.l,e.A(o);var h=new t.l;this.Se.A(h),h.W(2*s,2*s),o=!o.isIntersecting(h)}if(!o)if(4==(h=t.wL.nW(this.Se,e)))o=!0;else{if(2&h)return this.Se;if(1&h)return e}if(o)return(s=t.aa.tf(n))<(o=t.aa.tf(this.Dj))?i.HB(e,r):s>o||0==s&&550==n&&33==this.Dj?this.nJ():i.HB(e,r);if((-1==this.Fi||4==this.Fi)&&197==n&&197==this.Dj)return s=this.Se,n=new t.l,e.A(n),r=new t.l,s.A(r),n.Ea(r),s=new t.Fh,e.copyTo(s),s.Xo(n),s;if(197==n&&0==t.aa.tf(this.Dj)||197==this.Dj&&0==t.aa.tf(n))return r=197==n?e:this.Se,e=197==n?this.Se:e,n=new t.l,r.A(n),t.Ud.clip(e,n,s,0);if(0==t.aa.tf(n)&&0<t.aa.tf(this.Dj)||0<t.aa.tf(n)&&0==t.aa.tf(this.Dj)){if(s=t.ta.kj(this.vg,e,!1),550==n||33==n)return t.Fg.zG(e,this.Se,s);if(550==this.Dj||33==this.Dj)return t.Fg.zG(this.Se,e,s);throw t.i.Qa()}return-1!=this.Fi&&2!=this.Fi||1607!=n||1736!=this.Dj?-1!=this.Fi&&2!=this.Fi||1736!=n||1607!=this.Dj?null:this.wK(this.Se,e):this.wK(e,this.Se)},i.prototype.wK=function(i,e){var n=i,s=e,r=t.ta.kj(this.vg,e,!1),o=new t.l;s.A(o);var h=new t.l;n.A(h),h.W(2*r,2*r),o.Ea(h),o.W(10*r,10*r),n=i=t.Ud.clip(i,o,0,0),h=new t.ia(0);var a=-1,u=s.Bb;if(null!=u){var c=u.Fk;if(null!=c){a=0,h.Jb(n.I()+n.da());for(var l=new t.l,f=n.Ga();f.$a();)for(;f.Ha();){f.ha().A(l);var p=c.Ro(l);1==p?h.add(1):0==p?h.add(0):(h.add(-1),a++)}}}if(5<e.I()&&(u=(s=e=t.Ud.clip(e,o,0,0)).Bb),0>a&&(a=n.yz()),o=n.I()+s.I(),a*s.I()>Math.log(o)*o*4)return null;o=null,a=s.Ga(),null!=u&&null!=u.Fb&&(o=u.Fb),null==o&&20<s.I()&&(o=t.ta.nE(s)),i=i.Ia(),s=null,u=n.Ga(),c=[0,0,0,0,0,0,0,0,0],l=new t.be(0),f=new t.ig,p=-1;for(var d=0,v=0,y=0<h.size,g=-1;u.$a();){g=u.gb;var b=0;for(p=-1,d=0;u.Ha();){var w=y?t.O.truncate(h.get(v)):-1;v++;var m=u.ha();if(0>w){if(null!=o)for(null==s?s=o.vR(m,r):s.Uo(m,r),w=s.next();-1!=w;w=s.next()){a.Vb(o.ja(w)),w=a.ha();var x=m.Ea(w,null,c,null,r);for(w=0;w<x;w++)l.add(c[w])}else for(a.Zi();a.$a();)for(;a.Ha();)for(w=a.ha(),x=m.Ea(w,null,c,null,r),w=0;w<x;w++)l.add(c[w]);if(0<l.size){l.Vd(0,l.size,(function(t,i){return t-i}));var M=0;l.add(1),x=-1,w=0;for(var _=l.size;w<_;w++){var k=l.get(w);if(k!=M){var A=!1;if(0!=M||1!=k?(m.ah(M,k,f),M=f.get()):(M=m,A=!0),2<=b){if(i.Dr(n,g,p,d,3==b),1!=this.QD(e,M.ac(),r)&&1!=this.RD(e,M,r))return null;i.oc(M,!1),b=1,d=0}else switch(x=this.RD(e,M,r),x){case 1:A?2>b?(p=u.wb()-n.Ba(g),d=1,b=0==b?3:2):d++:(i.oc(M,0==b),b=1);break;case 0:b=0,p=-1,d=0;break;default:return null}M=k}}}else{if(0>(w=this.QD(e,m.ac(),r)))return null;1==w?(2>b&&(p=u.wb()-n.Ba(g),b=0==b?3:2),d++):(p=-1,d=0)}l.clear(!1)}else 0!=w&&1==w&&(0==b?(b=3,p=u.wb()-n.Ba(g)):1==b?(b=2,p=u.wb()-n.Ba(g)):d++)}2<=b&&(i.Dr(n,g,p,d,3==b),p=-1)}return i},i.prototype.QD=function(i,e,n){return t.Dg.wm(i,e,n)},i.prototype.RD=function(i,e,n){var s=e.ac();e=e.wc();var r=t.Dg.wm(i,s,n),o=t.Dg.wm(i,e,n);return 1==r&&0==o||0==r&&1==o?-1:0==r||0==o?0:1==r||1==o?1:((r=new t.h).add(s,e),r.scale(.5),0==(i=t.Dg.wm(i,r,n))?0:1==i?1:-1)},i.HB=function(t,i){return i?t:t.Ia()},i.prototype.nJ=function(){return null==this.yH&&(this.yH=this.Se.Ia()),this.yH},i.prototype.qe=function(){},i}();t.HC=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 28},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s,r,o,h){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,e,n,s,r,o,h).next()):new t.xL(i,e,n,s,r,o,h)},e.instance=null,e}(t.Je);t.IC=i}(W||(W={})),function(t){var i=function(){function i(t,i,e,n,s,r,o){this.ya=-1,this.Rd=t,this.Mj=i,this.Ka=e,this.Ki=n,this.CA=s,this.uH=r,this.nd=o}return i.prototype.next=function(){var t=this.Rd.next();return null!=t?(this.ya=this.Rd.La(),this.jL(t)):null},i.prototype.La=function(){return this.ya},i.prototype.jL=function(i){var e=0>=this.uH?t.ta.kj(this.Mj,i,!1):this.uH;return t.IK.V(i,this.Ka,this.Ki,this.CA,e,this.nd)},i.prototype.qe=function(){},i}();t.xL=i}(W||(W={})),function(t){var i;(i=t.NK||(t.NK={}))[i.clipToDomainOnly=1]="clipToDomainOnly",i[i.clipWithHorizon=2]="clipWithHorizon",i[i.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var e=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 0},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,e,n).next()):new t.yL(i,e,n)},e.prototype.transform=function(i,e,n,s){return t.bu.transform(i,e,n,s,!0)},e.prototype.Qt=function(i,e,n,s){return t.bu.Qt(i,e,n,s)},e.instance=null,e}(t.Je);t.Hx=e}(W||(W={})),function(t){var i=function(){function i(t,i,e){this.ya=-1,this.Rd=t,this.MT=i,this.nd=e}return i.prototype.next=function(){var i=this.Rd.next();return null!=i?(this.ya=this.Rd.La(),t.bu.zh(i,this.MT,this.nd)):null},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.yL=i}(W||(W={})),function(t){var i=function(){function i(){}return i.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},i.prototype.AQ=function(t,i,e){for(t.Vb(i,e);t.Ha();){var n=t.ha();if(0!=(n=n.Qb()))return t.wb()}for(t.Vb(i,e);t.Ez();)if(0!=(n=(n=t.li()).Qb()))return t.wb();return-1},i.prototype.BQ=function(t,i){for(t.Vb(i,-1);t.Ez();)if(0!=t.li().Qb())return t.wb();return-1},i.prototype.zQ=function(t,i){for(t.Vb(i,-1),t.ha();t.Ha();)if(0!=t.ha().Qb())return t.wb();return-1},i.prototype.yQ=function(i,e,n,s){if(this.xk=this.AQ(e,n,s),-1!=this.xk){e.Vb(this.xk,-1);var r=e.ha(),o=r.hc(r.fe(i,!1));if(n=t.h.yc(o,i),(s=new t.h).L(o),s.sub(r.ac()),(o=new t.h).L(i),o.sub(r.ac()),this.kq=0>s.wi(o),this.ph=this.zQ(e,this.xk),-1!=this.ph){e.Vb(this.ph,-1);var h=(r=e.ha()).fe(i,!1);h=r.hc(h);var a=t.h.yc(h,i);a>n?this.ph=-1:(s.L(h),s.sub(r.ac()),o.L(i),o.sub(r.ac()),this.us=0>s.wi(o))}-1==this.ph&&(this.ph=this.BQ(e,this.xk),-1!=this.ph&&(e.Vb(this.ph,-1),h=(r=e.ha()).fe(i,!1),h=r.hc(h),(a=t.h.yc(h,i))>n?this.ph=-1:(s.L(h),s.sub(r.ac()),o.L(i),o.sub(r.ac()),this.us=0>s.wi(o),i=this.xk,this.xk=this.ph,this.ph=i,i=this.kq,this.kq=this.us,this.us=i)))}},i.prototype.cO=function(t,i,e,n,s){return e=e.Ga(),this.yQ(t,e,n,s),-1!=this.xk&&-1==this.ph?this.kq:-1!=this.xk&&-1!=this.ph?this.kq==this.us?this.kq:(e.Vb(this.xk,-1),t=e.ha().kg(),e.Vb(this.ph,-1),i=e.ha().kg(),0<=t.wi(i)):i},i}(),e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Q(n,e),n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.getType=function(){return 3},n.prototype.nz=function(i,e,n){var s;if(void 0===s&&(s=!1),i.B())return new t.$l;e=e.D();var r=i,o=i.getType();switch(197==o&&((r=new t.Da).ad(i,!1),o=1736),o){case 33:return this.xI(r,e);case 550:return this.jI(r,e);case 1607:case 1736:return this.bU(r,e,n,s);default:throw t.i.fa("not implemented")}},n.prototype.oz=function(i,e){if(i.B())return new t.$l;e=e.D();var n=i,s=i.getType();switch(197==s&&((n=new t.Da).ad(i,!1),s=1736),s){case 33:return this.xI(n,e);case 550:case 1607:case 1736:return this.jI(n,e);default:throw t.i.fa("not implemented")}},n.prototype.pz=function(i,e,n,s){if(0>s)throw t.i.N();if(i.B())return[];e=e.D();var r=i,o=i.getType();switch(197==o&&((r=new t.Da).ad(i,!1),o=1736),o){case 33:return this.TU(r,e,n,s);case 550:case 1607:case 1736:return this.tU(r,e,n,s);default:throw t.i.fa("not implemented")}},n.prototype.bU=function(e,n,s,r){if(1736==e.getType()&&s&&(s=new t.l,e.A(s),s=t.ta.Wd(null,s,!1),0!=(r?t.hd.Yd(e,n,0):t.hd.Yd(e,n,s)))){var o=new t.$l(n,0,0);return r&&o.WJ(!0),o}var h=e.Ga();o=new t.h;for(var a=s=-1,u=17976931348623157e292,c=0;h.$a();)for(;h.Ha();){var l=h.ha();l=l.hc(l.fe(n,!1));var f=t.h.yc(l,n);f<u?(c=1,o=l,s=h.wb(),a=h.gb,u=f):f==u&&c++}return o=new t.$l(o,s,Math.sqrt(u)),r&&(h.Vb(s,a),l=h.ha(),r=0>t.h.Uq(n,l.ac(),l.wc()),1<c&&((c=new i).reset(),r=c.cO(n,r,e,s,a)),o.WJ(r)),o},n.prototype.xI=function(i,e){return i=i.D(),e=t.h.tb(i,e),new t.$l(i,0,e)},n.prototype.jI=function(i,e){for(var n=i.ub(0),s=i.I(),r=i=0,o=0,h=17976931348623157e292,a=0;a<s;a++){var u=new t.h;n.tc(2*a,u);var c=t.h.yc(u,e);c<h&&(r=u.x,o=u.y,i=a,h=c)}return(e=new t.$l).ey(r,o,i,Math.sqrt(h)),e},n.prototype.TU=function(i,e,n,s){return 0==s?[]:(n*=n,i=i.D(),(e=t.h.yc(i,e))<=n?(n=[],(s=new t.$l).ey(i.x,i.y,0,Math.sqrt(e)),n[0]=s):n=[],n)},n.prototype.tU=function(i,e,n,s){if(0==s)return[];var r=i.ub(0),o=i.I();i=[],n*=n;for(var h=0;h<o;h++){var a=r.read(2*h),u=r.read(2*h+1),c=e.x-a,l=e.y-u;(c=c*c+l*l)<=n&&((l=new t.$l).ey(a,u,h,Math.sqrt(c)),i.push(l))}return e=i.length,i.sort((function(t,i){return t.Ka<i.Ka?-1:t.Ka==i.Ka?0:1})),s>=e||(i.length=s),i.slice(0)},n.instance=null,n}(t.Je);t.Ix=e}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 4},e.prototype.V=function(i,e,n,s,r){return t.am.yB(i,e,n,s,r)},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.Iu=function(i){return t.Vt.wy(i)},e.prototype.wn=function(i,e,n){t.Vt.CD(i,e,n)},e.instance=null,e}(t.Je);t.zL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 33},e.prototype.V=function(i,e,n,s,r){return 1073741824===i?!t.ud.zB(e,n,s,4,r):t.ud.zB(e,n,s,i,r)},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.Iu=function(i){return t.Vt.wy(i)},e.prototype.wn=function(i,e,n){t.Vt.CD(i,e,n)},e.instance=null,e}(t.Je);t.dj=i}(W||(W={})),function(t){var i=function(){function i(i,e,n,s){if(this.nd=s,this.rT=n,this.ya=-1,null==i)throw t.i.N();this.yk=i,this.Mj=e}return i.prototype.next=function(){var i;if(null!=(i=this.yk.next())){if(this.ya=this.yk.La(),null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.fu("user_canceled");return this.eC(i)}return null},i.prototype.La=function(){return this.ya},i.prototype.eC=function(i){if(null==i)throw t.i.N();return t.Jx.cK(i,this.Mj,this.rT,this.nd)},i.prototype.qe=function(){},i}();t.AL=i}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 26},e.prototype.V=function(i,e,n,s){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,e,n,s).next()):new t.AL(i,e,n,s)},e.prototype.rs=function(i,e,n,s,r){return 0<(void 0!==s?t.Jx.rs(i,e,n,s,r):t.Jx.rs(i,e,!1,null,n))},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.instance=null,e}(t.Je);t.Yl=i}(W||(W={})),function(t){var i=function(){function t(){this.yq=0}return t.prototype.nX=function(t){this.yq&=-2,this.yq|=t?1:0},t.prototype.Wp=function(){return!!(1&this.yq)},t.prototype.XF=function(){return this.Wp()?0:1},t}();t.xY=i;var e=function(){},n=function(t,i,e,n){this.x=t,this.y=i,this.Ai=e,this.xm=n},s=function(){function t(t){this.Be=t}return t.prototype.compare=function(t,i,e){return t=t.ja(e),i=this.Be.lf.read(2*i),0>(i-=t=this.Be.lf.read(2*t))?-1:0<i?1:0},t}(),r=function(){function t(t){this.Be=t}return t.prototype.compare=function(t,i,e){i=this.Be.hb[i],t=this.Be.hb[t.ja(e)];var n=i.Wp(),s=t.Wp();e=i.ne.Pe(this.Be.Mo,0);var r=t.ne.Pe(this.Be.Mo,0);return e==r&&((n=.5*((e=Math.min(n?i.ne.na:i.ne.la,s?t.ne.na:t.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(n=e),e=i.ne.Pe(n,0),r=t.ne.Pe(n,0)),e<r?-1:e>r?1:0},t}(),o=function(){function i(i,e){this.YI=new t.h,this.parent=i,this.dS=e}return i.prototype.nr=function(t,i,e){var n=this.parent,s=this.dS;e.Vd(t,i,(function(t,i){return n.Mh(t,i,s)}))},i.prototype.$p=function(t){return t=this.parent.gi.get(t),this.parent.lf.tc(2*(t>>1),this.YI),this.YI.y+(1&t?this.parent.Oj:-this.parent.Oj)},i}(),h=function(){function h(i,e,n,s,r){this.nH=i.description,this.X=i,this.Qg=e,this.Oj=t.ta.kj(this.Qg,i,!1),this.Bo=t.ta.kj(this.Qg,i,!0),this.xA=n,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new t.jp,this.fb=new t.Yj,this.ke=new t.Md,this.ZG=this.ql=r}return h.prototype.eT=function(){return this.ZG=!0,(!t.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?t.aa.Hc(this.X.getType())?this.pO()?1607==this.X.getType()?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},h.prototype.kC=function(i,e){var n=this.lf.read(2*i);i=this.lf.read(2*i+1);var s=this.lf.read(2*e);return e=this.lf.read(2*e+1),!t.Yt.Cv(n,i,s,e,this.Oj*this.Oj)||0!=this.X.Db()&&n==s&&i==e},h.prototype.GE=function(){for(var i=this.X,e=i.xf?3:2,n=0,s=i.da();n<s;n++)if(i.Ja(n)<e)return this.ke=new t.Md(1,n,0),!1;return!0},h.prototype.DE=function(i){var e=this.X,n=e.Ga(),s=e.hasAttribute(1);for(e=s?t.ta.wE(this.Qg,e,!1):0;n.$a();)for(;n.Ha();){var r=n.ha();if(!(r.Qb()>this.Oj)){if(i&&s){var o=r.wv(1,0);if(r=r.wv(1,0),Math.abs(r-o)>e)continue}return this.ke=new t.Md(2,n.wb(),-1),!1}}return!0},h.prototype.mO=function(){var i=this.X,e=null;t.aa.Hc(this.X.getType())&&(e=this.X);var n=(this.ZG||this.ql)&&null!=e,r=i.I();this.lf=i.ub(0),this.gi=new t.ia(0),this.gi.Jb(2*r),this.fi=new t.ia(0),this.fi.Jb(2*r),n&&(null==this.Fl&&(this.Fl=new t.ia(0)),this.Fl.Jb(r));for(var h=i=0;h<r;h++)if(this.gi.add(2*h),this.gi.add(2*h+1),this.fi.add(2*h),this.fi.add(2*h+1),n){for(;h>=e.Vc(i);)i++;this.Fl.add(i)}for((new t.Xt).sort(this.fi,0,2*r,new o(this,n)),this.fb.clear(),this.fb.Vo(new s(this)),this.fb.De(r),e=0,r*=2;e<r;e++)if(n=this.fi.get(e),n=(i=this.gi.get(n))>>1,1&i){if(i=this.fb.search(n,-1),h=this.fb.we(i),a=this.fb.lb(i),this.fb.vd(i,-1),-1!=h&&-1!=a&&!this.kC(this.fb.ja(h),this.fb.ja(a)))return this.ke=new t.Md(3,this.fb.ja(h),this.fb.ja(a)),!1}else{if(i=this.fb.addElement(n,-1),-1!=(h=this.fb.we(i))&&!this.kC(this.fb.ja(h),n))return this.ke=new t.Md(3,n,this.fb.ja(h)),!1;var a=this.fb.lb(i);if(-1!=a&&!this.kC(this.fb.ja(a),n))return this.ke=new t.Md(3,n,this.fb.ja(a)),!1}return!0},h.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},h.prototype.oO=function(){var i=new t.gd;i.Ib(this.X);var e=new t.Md;return!t.$t.kI(!1,i,this.Oj,e,this.nd)||(e.Jo=i.Ua(e.Jo),e.Ko=i.Ua(e.Ko),this.ke.Wt(e),!1)},h.prototype.nO=function(){var i=this.X,e=i.Ga();for(i=i.Ga();e.$a();)for(;e.Ha();){var n=e.ha();if(!e.Qn()||!e.$S()){i.BW(e);do{for(;i.Ha();){var s=i.ha();if(0!=(s=n.zr(s,this.Oj,!0)))return this.ke=new t.Md(2==s?5:4,e.wb(),i.wb()),!1}}while(i.$a())}}return!0},h.prototype.sO=function(){var i=this.X;this.hb.length=0,this.po.length=0,this.Zf=i.Ga(),this.Zf.JB();var e=new t.ia(0);e.Jb(10);var n=NaN,s=0,r=0;for(i=2*i.I();r<i;r++){var o=this.fi.get(r);if(!(1&(o=this.gi.get(o)))){o>>=1;var h=this.lf.read(2*o),a=this.lf.read(2*o+1);if(0!=e.size&&(h!=n||a!=s)){if(!this.RI(e))return!1;null!=e&&e.clear(!1)}e.add(o),n=h,s=a}}return!!this.RI(e)},h.prototype.rO=function(){for(var i=this.X,n=Array(i.da()),s=0,r=i.da();s<r;s++)n[s]=i.Nn(s);r=new e;var o=new t.h;s=this.fi.get(0);var h=(s=this.gi.get(s))>>1;this.lf.tc(2*h,o);var a=n[s=this.Fl.get(h)],u=i.Ba(s),c=i.Vc(s)-1;r.el=h==u||h==c,r.ny=this.ql?!a&&r.el:r.el,r.Ai=s,r.x=o.x,r.y=o.y,r.xm=h;for(var l=new e,f=1,p=this.fi.size;f<p;f++)if(s=this.fi.get(f),!(1&(s=this.gi.get(s)))){h=s>>1,this.lf.tc(2*h,o),(s=this.Fl.get(h))!=r.Ai&&(a=n[s],u=i.Ba(s),c=i.Vc(s)-1);var d=h==u||h==c,v=this.ql?!a&&r.el:r.el;if(l.x=o.x,l.y=o.y,l.Ai=s,l.xm=h,l.ny=v,l.el=d,l.x==r.x&&l.y==r.y)if(this.ql){if(!(l.ny&&r.ny||l.Ai==r.Ai&&(l.el||r.el)))return this.ke=new t.Md(8,l.xm,r.xm),!1}else if(!l.el||!r.el)return this.ke=new t.Md(5,l.xm,r.xm),!1;s=r,r=l,l=s}return!0},h.prototype.JE=function(){for(var i=this.X,e=[],s=-1,r=!1,o=0,h=i.da();o<h;o++)i.Ev(o)&&(r=!1,s++,o<h-1&&(i.Ev(o+1)||(r=!0))),e[o]=r?s:-1;r=new t.h,o=this.fi.get(0);var a=(o=this.gi.get(o))>>1;this.lf.tc(2*a,r),o=this.Fl.get(a),s=new n(r.x,r.y,o,a,e[o]),i=[];var u=1;for(h=this.fi.size;u<h;u++)if(o=this.fi.get(u),!(1&(o=this.gi.get(o)))){if(a=o>>1,this.lf.tc(2*a,r),o=this.Fl.get(a),(o=new n(r.x,r.y,o,a,e[o])).x==s.x&&o.y==s.y){if(o.Ai==s.Ai)return this.ke=new t.Md(9,o.xm,s.xm),!1;0<=e[o.Ai]&&e[o.Ai]==e[s.Ai]&&(0!=i.length&&i[i.length-1]==s||i.push(s),i.push(o))}s=o}if(0==i.length)return!0;for(o=new t.jp(!0),t.O.$u(e,-1),r=-1,(u=new t.h).Rc(),s=0,h=i.length;s<h;s++){(a=i[s]).x==u.x&&a.y==u.y||(r=o.Ph(0),u.x=a.x,u.y=a.y);var c=e[a.Ai];-1==c&&(c=o.Ph(2),e[a.Ai]=c),o.addElement(c,r),o.addElement(r,c)}for((h=new t.ia(0)).Jb(10),s=o.je;-1!=s;s=o.qz(s))if(!(1&(i=o.PF(s)))&&2&i){for(i=-1,h.add(s),h.add(-1);0<h.size;){if(r=h.Fc(),h.If(),u=h.Fc(),h.If(),1&(a=o.PF(u))){i=2&a?u:r;break}for(o.fX(u,1|a),a=o.rc(u);-1!=a;a=o.lb(a))(c=o.getData(a))!=r&&(h.add(c),h.add(u))}if(-1!=i){for(o=-1,s=0,h=e.length;s<h;s++)if(e[s]==i){o=s;break}return this.ke=new t.Md(10,o,-1),!1}}return!0},h.prototype.tO=function(){var i=this.X;if(0>=i.Ke())return this.ke=new t.Md(6,1==i.da()?1:-1,-1),0;if(1==i.da())return this.ql&&!this.JE()?0:2;this.to=t.ia.qf(i.da(),0),this.JA=t.ia.qf(i.da(),-1);for(var e=-1,n=0,s=0,o=i.da();s<o;s++){var h=i.Ir(s);if(this.to.write(s,0>h?0:256),0<h)e=s,n=h;else{if(0==h)return this.ke=new t.Md(6,s,-1),0;if((0>e||n<Math.abs(h))&&(this.ke=new t.Md(7,s,-1),this.ql))return 0;this.JA.write(s,e)}}for(this.dt=i.da(),this.Om=new t.ia(0),this.Om.Jb(10),o=i.I(),this.Mo=NaN,(i=new t.ia(0)).Jb(10),this.Qq=t.ia.qf(o,-1),this.Hw=t.ia.qf(o,-1),null!=this.zj?this.zj.clear(!1):this.zj=new t.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new r(this)),e=0,o*=2;0<this.dt&&e<o;e++)if(n=this.fi.get(e),!(1&(n=this.gi.get(n)))){if(n>>=1,(s=this.lf.read(2*n+1))!=this.Mo&&0!=i.size){if(!this.ut(i))return 0;null!=i&&i.clear(!1)}i.add(n),this.Mo=s}return 0<this.dt&&!this.ut(i)?0:this.ql?0==this.ke.Jj&&this.JE()?2:0:0==this.ke.Jj?2:1},h.prototype.RI=function(i){if(1==i.size)return!0;for(var e=0,n=i.size;e<n;e++){var s=i.get(e);this.Zf.Vb(s);var r=this.Zf.li();this.hb.push(this.Su(r,s,this.Zf.gb,!0)),this.Zf.ha(),r=this.Zf.ha(),this.hb.push(this.Su(r,s,this.Zf.gb,!1))}var o=this;for(this.hb.sort((function(t,i){return o.XP(t,i)})),-1==(s=this.mh.je)&&(s=this.mh.Ph(0)),this.mh.fn(this.hb.length),e=0,n=this.hb.length;e<n;e++)this.mh.addElement(s,e);e=!0;for(var h=n=-1;e&&(e=!1,-1!=(r=this.mh.rc(s)));)for(var a=this.mh.lb(r);-1!=a;)if(n=this.mh.getData(r),h=this.mh.getData(a),(n=this.hb[n].Io)!=(h=this.hb[h].Io))r=a,a=this.mh.lb(r);else if(e=!0,this.mh.jd(s,r),r=this.mh.we(a),-1==(a=this.mh.jd(s,a))||-1==r)break;if(e=this.mh.bs(s),this.mh.LE(s),0<e)return this.ke=new t.Md(5,n,h),!1;for(e=0,n=i.size;e<n;e++)this.vB(this.hb[e]);return this.hb.length=0,!0},h.prototype.ut=function(i){for(var e=0,n=i.size;e<n;e++){var s=i.get(e),r=this.Qq.read(s);if(-1!=r){var o=this.fb.ja(r);this.zj.add(o),this.fb.vd(r,-1),this.vB(this.hb[o]),this.hb[o]=null,this.Qq.write(s,-1)}-1!=(r=this.Hw.read(s))&&(o=this.fb.ja(r),this.zj.add(o),this.fb.vd(r,-1),this.vB(this.hb[o]),this.hb[o]=null,this.Hw.write(s,-1))}for(e=0,n=i.size;e<n;e++){if(s=i.get(e),this.Zf.Vb(s),(r=this.Zf.li()).na>r.la){var h=this.Zf.wb(),a=this.Su(r,s,this.Zf.gb,!0);0<this.zj.size?(o=this.zj.Fc(),this.zj.If(),this.hb[o]=a):(o=this.hb.length,this.hb.push(a)),r=this.fb.addElement(o,-1),-1==this.Qq.read(h)?this.Qq.write(h,r):this.Hw.write(h,r),!(3&this.to.read(this.Zf.gb))&&this.Om.add(r)}this.Zf.ha(),(r=this.Zf.ha()).na<r.la&&(h=this.Zf.ik(),a=this.Su(r,s,this.Zf.gb,!1),0<this.zj.size?(o=this.zj.Fc(),this.zj.If(),this.hb[o]=a):(o=this.hb.length,this.hb.push(a)),r=this.fb.addElement(o,-1),-1==this.Qq.read(h)?this.Qq.write(h,r):this.Hw.write(h,r),!(3&this.to.read(this.Zf.gb))&&this.Om.add(r))}for(e=0,n=this.Om.size;e<n&&0<this.dt;e++)if(r=this.Om.get(e),!(3&this.to.read(this.hb[this.fb.ja(r)].IA))){i=-1,s=this.fb.we(r);var u=r;a=null,o=-1;for(var c=0;-1!=s&&(o=this.fb.ja(s),o=(a=this.hb[o]).IA,!(3&(c=this.to.read(o))));)u=s,s=this.fb.we(s);-1==s?(h=1,s=u):(i=1==(3&c)?o:this.JA.read(o),h=0!=a.XF()?0:1,s=this.fb.lb(s));do{if(o=this.fb.ja(s),o=(a=this.hb[o]).IA,!(3&(u=this.to.read(o)))){if(h!=a.XF())return this.ke=new t.Md(6,o,-1),!1;if(u=252&u|(c=0==h||a.Wp()?2:1),this.to.write(o,c),2==c&&0==this.ke.Jj&&this.JA.read(o)!=i&&(this.ke=new t.Md(7,o,-1),this.ql))return!1;if(this.dt--,0==this.dt)return!0}1==(3&u)&&(i=o),u=s,s=this.fb.lb(s),h=0!=h?0:1}while(u!=r)}return null!=this.Om?this.Om.clear(!1):this.Om=new t.ia(0),!0},h.prototype.Su=function(i,e,n,s){if(322!=i.getType())throw t.i.Qa();return(i=this.sP(i)).Io=e,i.IA=n,i.yq=0,i.nX(s),i},h.prototype.sP=function(e){if(0<this.po.length){var n=this.po[this.po.length-1];--this.po.length,e.copyTo(n.ne)}else(n=new i).ne=t.SC.jg(e);return n},h.prototype.vB=function(t){322==t.ne.getType()&&this.po.push(t)},h.prototype.kU=function(){for(var i=this.X.I(),e=new t.ia(0),n=0;n<i;n++)e.add(n);var s=this;for(e.Vd(0,i,(function(t,i){return s.Ou(t,i)})),n=1;n<i;n++)if(0==this.Ou(e.get(n-1),e.get(n)))return this.ke=new t.Md(3,e.get(n-1),e.get(n)),0;return 2},h.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},h.prototype.oV=function(){return this.eT()},h.prototype.pU=function(){for(var i=this.X.I(),e=new t.ia(0),n=0;n<i;n++)e.add(n);var s=this;e.Vd(0,i,(function(t,i){return s.PO(t,i)}));var r=Array(i);for(t.O.$u(r,!1),r[e.get(0)]=!0,n=1;n<i;n++){var o=e.get(n-1),h=e.get(n);0==this.Ou(o,h)?r[h]=!1:r[h]=!0}e=this.X.Ia(),o=this.X,h=0;var a=1;for(n=0;n<i;n++)r[n]?a=n+1:(h<a&&e.Fd(o,h,a),h=n+1);return h<a&&e.Fd(o,h,a),e.Ch(2,this.Bo),e},h.prototype.NV=function(){var i=this.X,e=i.Ga(),n=i.Ga(),s=this.X.Ia(),r=this.X,o=i.hasAttribute(1),h=o?t.ta.wE(this.Qg,i,!0):0,a=new t.ia(0),u=new t.ia(0);for(a.Jb(t.O.truncate(i.I()/2+1)),u.Jb(t.O.truncate(i.I()/2+1));e.$a();)if(n.$a(),!(2>i.Ja(e.gb))){n.EW();for(var c,l,f=!0;e.Ha();){var p=e.ha(),d=n.li();if(e.wb()>n.wb())break;f&&(a.add(e.wb()),u.add(n.ik()),f=!1),l=a.Fc();var v=e.ik();if(1<v-l){var y=new t.h;y.uc(i.Na(l),i.Na(v)),c=y.length()}else c=p.Qb();l=u.Fc(),1<(v=n.wb())-l?((y=new t.h).uc(i.Na(l),i.Na(v)),l=y.length()):l=d.Qb(),c>this.Bo?a.add(e.ik()):o&&(c=i.Uc(1,a.Fc(),0),p=p.gv(1,0),Math.abs(p-c)>h&&a.add(e.ik())),l>this.Bo?u.add(n.wb()):o&&(c=i.Uc(1,u.Fc(),0),p=d.gv(1,0),Math.abs(p-c)>h&&u.add(n.wb()))}if(a.Fc()<u.Fc()?a.size>u.size?a.If():u.If():(a.Fc()!=u.Fc()&&u.If(),u.If()),2<=u.size+a.size){for(f=new t.Sa,d=0,p=a.size;d<p;d++)r.ve(a.get(d),f),0==d?s.nf(f):s.lineTo(f);for(d=u.size-1;0<d;d--)r.ve(u.get(d),f),s.lineTo(f);r.dc(e.gb)?s.Ap():0<u.size&&(r.ve(u.get(0),f),s.lineTo(f))}null!=a&&a.clear(!1),null!=u&&u.clear(!1)}return s.Ch(2,this.Bo),s},h.prototype.rV=function(){return this.DX()},h.prototype.DX=function(){return 1736==this.X.getType()&&1==this.X.In()?t.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new t.gd,this.Hi.Ib(this.X),0!=this.Hi.fd&&(1!=this.xA&&t.Tk.V(this.Hi,this.Bo,this.nd,!0),1736==this.X.getType()&&t.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),1736==this.X.getType()&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},h.rs=function(i,e,n,s,r){if(null!=s&&(s.Jj=0,s.Jo=-1,s.Ko=-1),i.B())return 1;var o=i.getType();if(33==o)return 1;var a=t.ta.kj(e,i,!1);if(197==o)return e=new t.l,i.A(e),e.Bi(a)?(null!=s&&(s.Jj=2,s.Jo=-1,s.Ko=-1),0):1;if(t.aa.yd(o))return(a=new t.Ta(i.description)).oc(i,!0),h.rs(a,e,n,s,r);var u=i.om(a);if(-1!=(n=n?-1:u))return n;if(e=new h(i,e,n,r,!1),550==o)n=e.kU();else if(1607==o)n=e.JV();else{if(1736!=o)throw t.i.Qa();n=e.oV()}return i.Ch(n,a),null!=s&&0==n&&s.Wt(e.ke),n},h.cK=function(i,e,n,s){if(i.B())return i;var r=i.getType();if(33==r)return i;var o=t.ta.kj(e,i,!1);if(197==r)return e=new t.l,i.A(e),e.Bi(o)?i.Ia():i;if(t.aa.yd(r))return(r=new t.Ta(i.description)).oc(i,!0),h.cK(r,e,n,s);if(o=i.om(o),2==(n=n?-1:o))return i;if(i=new h(i,e,n,s,!1),550==r)i=i.pU();else if(1607==r)i=i.NV();else{if(1736!=r)throw t.i.Qa();i=i.rV()}return i},h.prototype.Mh=function(i,e,n){if(i==e)return 0;i=this.gi.get(i);var s=this.gi.get(e);e=i>>1;var r=s>>1,o=new t.h,h=new t.h;return this.lf.tc(2*e,o),o.y+=1&i?this.Oj:-this.Oj,this.lf.tc(2*r,h),h.y+=1&s?this.Oj:-this.Oj,0==(i=o.compare(h))&&n?0>(n=this.Fl.get(e)-this.Fl.get(r))?-1:0<n?1:0:i},h.prototype.Ou=function(i,e){if(i==e)return 0;var n=this.X,s=n.Na(i),r=n.Na(e);if(s.x<r.x)return-1;if(s.x>r.x)return 1;if(s.y<r.y)return-1;if(s.y>r.y)return 1;for(s=1;s<this.oT;s++){r=this.nH.kd(s);for(var o=t.ra.Va(r),h=0;h<o;h++){var a=n.Uc(r,i,h),u=n.Uc(r,e,h);if(a<u)return-1;if(a>u)return 1}}return 0},h.prototype.PO=function(t,i){var e=this.Ou(t,i);return 0==e?t<i?-1:1:e},h.prototype.XP=function(t,i){if(t===i)return 0;var e=t.ne.kg();t.Wp()&&e.Sq(),t=i.ne.kg(),i.Wp()&&t.Sq(),i=e.qu();var n=t.qu();return n==i?(i=e.wi(t),Math.abs(i)<=8881784197001252e-31*(Math.abs(t.x*e.y)+Math.abs(t.y*e.x))&&(i--,i++),0>i?1:0<i?-1:0):i<n?-1:1},h}();t.Jx=h}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 30},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.V=function(i,e,n,s){return i instanceof t.aa?(i=new t.Zc(i),e=new t.Zc(e),this.V(i,e,n,s).next()):new t.BL(i,e,n,s)},e.ep=function(i,n,s,r){var o=i.Db(),h=n.Db();if(i.B()&&n.B())return o>h?i:n;if(i.B())return n;if(n.B())return i;var a=new t.l,u=new t.l,c=new t.l;return i.A(a),n.A(u),c.K(a),c.Zb(u),a=t.ta.Wd(s,c,!0),u=i.getType(),c=n.getType(),33==u&&33==c?e.aV(i,n,a):u!=c?0<o||0<h?o>h?i:n:550==u?e.iI(i,n,a):e.iI(n,i,a):t.Fg.ep(i,n,s,r)},e.aV=function(i,e,n){n=n*Math.sqrt(2)*1.00001,n*=n;var s=i.D(),r=e.D(),o=new t.de(i.description);return t.h.yc(s,r)>n&&(o.add(i),o.add(e)),o},e.iI=function(i,e,n){var s=i.ub(0),r=i.I(),o=e.D(),h=i.Ia();n=n*Math.sqrt(2)*1.00001;var a=new t.l;if(i.A(a),a.W(n,n),a.contains(o)){n*=n,a=!1;for(var u=[],c=0;c<r;c++)u[c]=!1;for(c=0;c<r;c++){var l=s.read(2*c),f=s.read(2*c+1);(l-=o.x)*l+(f-=o.y)*f<=n&&(a=!0,u[c]=!0)}if(a)for(c=0;c<r;c++)u[c]||h.Fd(i,c,c+1);else h.Fd(i,0,r),h.add(e)}else h.Fd(i,0,r),h.add(e);return h},e.instance=null,e}(t.Je);t.Kx=i}(W||(W={})),function(t){var i=function(){function i(t,i,e,n){this.ts=null==i,this.ya=-1,this.Rd=t,this.vg=e,this.NT=i.next(),this.Ub=n}return i.prototype.next=function(){return this.ts?null:null!=(i=this.Rd.next())?(this.ya=this.Rd.La(),t.Kx.ep(i,this.NT,this.vg,this.Ub)):null;var i},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.BL=i}(W||(W={})),function(t){var i=function(){function t(){}return t.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},t}(),e=function(){function t(){this.Gr=0,this.pj=[]}return t.prototype.pN=function(t){this.Gr+=t.Ax,this.pj.push(t)},t.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},t.prototype.my=function(){return this.pj[this.pj.length-1]},t.prototype.Nb=function(t){return t===this},t}(),n=function(){function n(t,i,e){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=t,this.vg=i,this.Ub=e}return n.dE=function(t){var i=[],e=0;for(t=Object.keys(t);e<t.length;e++)i.push(Number(t[e]));return i.sort((function(t,i){return t-i})),i},n.prototype.fG=function(i){var e=this.Do[i],s=n.dE(e)[0],r=e[s],o=r.my().$y;return r=r.my().AK,delete e[s],r&&(o=t.Yl.local().V(o,this.vg,!1,this.Ub),0==i&&33==o.getType()&&(i=new t.de(o.description),o.B()||i.add(o),o=i)),o},n.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(-1==this.zk)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw t.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},n.prototype.La=function(){return this.ya},n.prototype.qK=function(){if(this.Ic)return!0;var i=null;if(null!=this.Rd&&null==(i=this.Rd.next())&&(this.Ic=!0,this.Rd=null),t.mp.zp(this.Ub),null!=i){var e=i.Db();this.AH[e]=!0,e>=this.zk&&!this.jA&&(this.ND(e,!1,i),e>this.zk&&!this.jA&&this.zW(e))}if(0<this.iq)for(e=0;e<=this.zk;e++)for(;1<this.uq[e]&&0!=(i=this.FO(e)).length;)i=t.Fg.VP(i,this.vg,this.Ub),this.ND(e,!0,i);return this.Ic},n.prototype.FO=function(t){for(var i=[],e=[],s=this.Do[t],r=n.dE(s),o=0;o<r.length;o++){var h=r[o],a=s[h];if(this.Ic||1e4<a.Gr&&1<a.pj.length){for(this.uq[t]-=a.pj.length,this.iq-=a.pj.length;0<a.pj.length;)i.push(a.my().$y),a.TV();e.push(h)}}for(o=0;o<e.length;o++)delete s[e[o]];return i},n.prototype.zW=function(t){for(var i=0;i<t;i++)this.Do[i]=[],this.iq-=this.uq[i],this.uq[i]=0},n.prototype.ND=function(t,s,r){var o=new i;if(o.Fz(),o.$y=r,r=n.eS(r),o.Ax=r,r=n.cS(r),t+1>this.Do.length)for(var h=0,a=Math.max(2,t+1);h<a;h++)this.Do.push([]);void 0===(h=this.Do[t][r])&&(h=new e,this.Do[t][r]=h),o.AK=s,h.pN(o),this.uq[t]++,this.iq++,this.zk=Math.max(this.zk,t)},n.cS=function(i){return 0<i?t.O.truncate(Math.log(i)/Math.log(4)+.5):0},n.eS=function(i){var e=i.getType();if(t.aa.xj(e))return i.I();if(33==e)return 1;if(197==e)return 4;if(t.aa.yd(e))return 2;throw t.i.Qa()},n.prototype.qe=function(){this.qK()},n}();t.DL=n}(W||(W={})),function(t){var i=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return Q(e,i),e.prototype.getType=function(){return 1},e.prototype.V=function(i,e,n,s){return void 0===s?new t.DL(i,e,n):this.gQ(i,e,n,s)},e.prototype.gQ=function(i,e,n,s){return i=new t.Zc([i,e]),this.V(i,n,s).next()},e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.instance=null,e}(t.Je);t.Gh=i}(W||(W={})),function(t){var i,e;(e=i||(i={}))[e.nextPath=0]="nextPath",e[e.nextSegment=1]="nextSegment",e[e.iterate=2]="iterate",i=function(){function i(i,e,n,s){this.Ts=new t.l,this.GT=i,this.HT=e,this.mq=s,this.uo=-1,this.rl=!1;var r=i.Bb;null!=r&&null!=(r=s?r.zo:r.Fb)&&(this.Ic=!1,this.qa=n,this.Fb=r,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,s?this.uo=e.da():this.sd=e.Ga()),this.rl||null!=(r=e.Bb)&&null!=(r=s?r.zo:r.Fb)&&(this.Ic=!1,this.qa=n,this.Fb=r,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,s?this.uo=i.da():this.sd=i.Ga()),this.rl||(this.ci=s?t.ta.mR(i,e,n,1<=i.om(0),1<=e.om(0)):t.ta.lR(i,e,n))}return i.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var i=!0;i;)switch(this.Xb){case 0:i=this.xU();break;case 1:i=this.yU();break;case 2:i=this.Uz();break;default:throw t.i.fa("internal error")}return!this.Ic}return null!=this.ci&&this.ci.next()},i.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},i.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},i.prototype.uz=function(){if(!this.mq)throw t.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},i.prototype.az=function(){if(!this.mq)throw t.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},i.prototype.xU=function(){return this.mq?-1==--this.uo?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},i.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var t=this.sd.ha();return this.xw.Uo(t,this.qa),this.Xb=2,!0},i.prototype.Uz=function(){return this.Fs=this.xw.next(),-1==this.Fs&&(this.Xb=this.mq?0:1,!0)},i}(),t.Zl=i}(W||(W={})),function(t){(t=t.OL||(t.OL={}))[t.enumClosed=1]="enumClosed",t[t.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",t[t.enumOGCStartPolygon=4]="enumOGCStartPolygon",t[t.enumCalcMask=4]="enumCalcMask"}(W||(W={})),function(t){t.QC=function(){function i(){}return i.tb=function(e,n,s,r,o,h,a,u,c){var l=[0,0,0],f=[0,0,0],p=[0,0,0],d=[0,0,0,0],v=new t.ga(0),y=new t.ga(0),g=new t.ga(0);if(null!=a||null!=u||null!=c)if(t.s.ti(n))t.Yg.tb(e,s,r,o,h,a,u,c);else{o=t.F.ba(o),s=t.F.ba(s);var b=t.F.ba(o-s);if(t.s.Y(r,h)&&(t.s.Y(s,o)||t.s.Y(t.s.P(r),1.570796326794897)))null!=a&&(a.u=0),null!=u&&(u.u=0),null!=c&&(c.u=0);else{if(t.s.Y(r,-h)){if(t.s.Y(t.s.P(r),1.570796326794897))return null!=a&&(a.u=2*t.F.Ah(e,n)),null!=u&&(u.u=0<r?t.F.ba(3.141592653589793-t.F.ba(o)):t.F.ba(o)),void(null!=c&&(c.u=0<r?t.F.ba(o):t.F.ba(3.141592653589793-t.F.ba(o))));t.s.Y(t.s.P(b),3.141592653589793)&&(null!=a&&(a.u=2*t.F.Ah(e,n)),null!=u&&(u.u=0),null!=c&&(c.u=0))}else{if(t.s.Y(t.s.P(r),1.570796326794897)||t.s.Y(t.s.P(h),1.570796326794897))return void t.Wk.tb(e,n,s,r,o,h,a,u,c);if(t.s.Y(s,o)||t.s.Y(t.s.P(b),3.141592653589793))return void t.Wk.tb(e,n,s,r,o,h,a,u,c);if(t.s.Cd(r))return void t.Wk.tb(e,n,s,r,o,h,a,u,c)}var w=Math.sqrt(1-n);o=t.F.ba(o-s),s=0,t.F.cl(1,n,r,s,0,v,y,g),l[0]=v.u,l[1]=y.u,l[2]=g.u,t.F.cl(1,n,h,o,0,v,y,g),f[0]=v.u,f[1]=y.u,f[2]=g.u,p[0]=0,p[1]=0,p[2]=-1*n*t.F.n(1,n,r)*Math.sin(r),0>o?t.F.Wq(p,f,l,d,0):t.F.Wq(p,l,f,d,0),y=[0,0,0],g=[0,0,0];var m=[0,0,0];l=[0,0,0],v=[0,0,0];var x=Math.acos(d[2]/1),M=1-n,_=Math.tan(x),k=1+_*_/M,A=2*p[2]*_/M;for(M=(-A+(_=Math.sqrt(A*A-4*k*(p[2]*p[2]/M-1))))/(k*=2),A=(-A-_)/k,_=Math.tan(x),x=(M+A)/2,p=((k=_*M+p[2])+(_*A+p[2]))/2,_=t.F.gp(M-x,k-p),M=p/w*1.570796326794897,A=0;100>A&&(k=(k=t.F.w(n,M))*k/Math.cos(M)*(Math.sin(M)-p*k/(1-n)),!t.s.Cd(k));A++)M-=k;p=t.F.n(1,n,M)*Math.cos(M),_=1-_/(p=Math.sqrt((p-x)*(p+x))),_*=2-_,k=t.F.on(y),x=t.F.on(g),M=t.F.on(m);var T=t.F.St(m,y);A=t.F.St(m,g),t.F.zx(m,y,l),t.F.zx(m,g,v),y=Math.acos(T/(M*k)),g=Math.acos(A/(M*x)),g*=t.s.Mb(1,t.F.St(l,v)),(1.570796326794897<=t.s.P(y)&&1.570796326794897<=t.s.P(g)||3.141592653589793<t.s.P(y-g))&&(y=(3.141592653589793-t.s.P(y))*t.s.Mb(1,y),g=(3.141592653589793-t.s.P(g))*t.s.Mb(1,g)),l=t.F.Qj(_,g),v=t.F.q(p,_,t.F.Qj(_,y)),l=t.F.q(p,_,l),l=t.s.P(l-v)*e,y=new t.ga(0),g=new t.ga(0),m=d[1]/1,m*=-t.s.Mb(1,b),v=Math.acos(m)*t.s.Mb(1,b),i.rf(e,n,s,r,l,v,y,g),t.s.Y(o,y.u)&&t.s.Y(h,g.u)||(_=t.F.gp(t.F.ba(o-y.u),h-g.u),i.rf(e,n,s,r,l,t.F.ba(v+3.141592653589793),y,g),(k=t.F.gp(t.F.ba(o-y.u),h-g.u))<_&&(v=t.F.ba(v+3.141592653589793))),y=[0,0,0,0],g=[0,0,0,0],_=[0,0,0],e=[0,0,0],s=[0,0,0],r=[0,0,0],m=[0,0,0],(p=[0,0,0])[0]=0,p[1]=0,p[2]=w,_[0]=0,_[1]=0,_[2]=0,t.F.Wq(_,p,f,y,0),t.s.Cd(h)?(e[0]=f[0],e[1]=f[1],e[2]=1,s[0]=1*Math.cos(o)-1*Math.sin(o),s[1]=1*Math.sin(o)+1*Math.cos(o)):(n=t.F.n(1,n,h)*Math.cos(h),e[0]=0,e[1]=0,f[2]+=Math.tan(1.570796326794897-t.s.P(h))*n*t.s.Mb(1,h),s[0]=n*Math.cos(o)-n*Math.sin(o),s[1]=n*Math.sin(o)+n*Math.cos(o)),s[2]=f[2],t.F.Wq(f,s,e,g,1),t.F.zx(g,y,r),t.F.zx(g,d,m),m=t.F.St(r,m)/(t.F.on(r)*t.F.on(m)),m*=t.s.Mb(1,b),o=Math.acos(m)*-t.s.Mb(1,b),(0<v&&0<o||0>v&&0>o)&&(o=t.F.ba(o+3.141592653589793)),null!=a&&(a.u=l),null!=u&&(u.u=v),null!=c&&(c.u=o)}}},i.rf=function(i,e,n,s,r,o,h,a){var u=[0,0,0],c=[0,0,0],l=[0,0,0],f=[0,0,0],p=[0,0,0],d=[0,0,0],v=[0,0,0],y=[0,0,0,0],g=new t.ga(0),b=new t.ga(0),w=new t.ga(0),m=new t.ga(0),x=new t.ga(0),M=new t.ga(0);if(null!=h&&null!=a)if(t.s.ti(e))t.Yg.rf(i,n,s,r,o,h,a);else if(t.s.Cd(r))null!=h&&(h.u=n),null!=a&&(a.u=s);else if(o=t.F.ba(o),0>r&&(r=t.s.P(r),o=t.F.ba(o+3.141592653589793)),n=t.F.ba(n),s=t.F.ba(s),1.570796326794897<t.s.P(s)&&(n=t.F.ba(n+3.141592653589793),s=t.s.Mb(3.141592653589793,s)-s),t.s.Y(t.s.P(s),1.570796326794897)||t.s.Cd(s)||t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))t.Wk.rf(i,e,n,s,r,o,h,a);else{var _=Math.sqrt(1-e);for(i=r/i,t.F.cl(1,e,s,0,0,m,x,M),u[0]=m.u,u[1]=x.u,u[2]=x.u,v[0]=0,v[1]=0,v[2]=-1*e*t.F.n(1,e,s)*Math.sin(s),m=t.F.n(1,e,s),x=t.F.ba(1.570796326794897-o),M=Math.sin(x),r=Math.cos(s),s=Math.sin(s),p[0]=m*r-s*M,p[1]=Math.cos(x),p[2]=(1-e)*m*s+r*M,0>o?t.F.Wq(v,p,u,y,0):t.F.Wq(v,u,p,y,0),u=Math.acos(y[2]/1),y=Math.atan2(-y[1],-y[0]),s=1-e,x=1+(p=Math.tan(u))*p/s,s=(-(m=2*v[2]*p/s)+(p=Math.sqrt(m*m-4*x*(v[2]*v[2]/s-1))))/(x*=2),m=(-m-p)/x,p=Math.tan(u),u=(s+m)/2,v=((x=p*s+v[2])+(p*m+v[2]))/2,p=t.F.gp(s-u,x-v),_=v/_*1.570796326794897,s=0;100>s&&(m=(m=t.F.w(e,_))*m/Math.cos(_)*(Math.sin(_)-v*m/(1-e)),!t.s.Cd(m));s++)_-=m;_=t.F.n(1,e,_)*Math.cos(_),v=1-p/(_=Math.sqrt((_-u)*(_+u))),v*=2-v,d=Math.acos(t.F.St(d,c)/(t.F.on(d)*t.F.on(c))),d*=t.s.Mb(1,c[0]),o=(t.F.q(_,v,t.F.Qj(v,d))+i*t.s.Mb(1,o))/t.F.Ah(_,v),o=t.F.ba(1.570796326794897*o),o=t.F.Rq(v,o),t.F.n(_,v,o),p=t.F.ba(y+n),n=Math.cos(p),o=Math.sin(p),l[0]=f[0]*n+f[1]*-o,l[1]=f[0]*o+f[1]*n,l[2]=f[2],t.F.jO(e,l[0],l[1],l[2],w,b,g),null!=h&&(h.u=b.u),null!=a&&(a.u=w.u)}},i}()}(W||(W={})),function(t){var i=function(){function i(i){this.Ya=null,this.wt=new t.h,this.xt=new t.h,this.g=i}return i.prototype.compare=function(t,i,e){return this.g.Gc(i,this.wt),this.g.Gc(t.ja(e),this.xt),this.wt.compare(this.xt)},i}(),e=function(){function i(i){this.Bf=new t.h,this.Dk=new t.h,this.g=i}return i.prototype.Dh=function(t){this.Bf.L(t)},i.prototype.compare=function(t,i){return this.g.Gc(t.ja(i),this.Dk),this.Bf.compare(this.Dk)},i}(),n=function(t){function i(i){var e=t.call(this,i.g,i.qa,!1)||this;return e.ib=i,e}return Q(i,t),i.prototype.compare=function(t,i,e){if(this.rg)return-1;var n=this.ib.Qd.Jn(this.ib.Rh(i));t=t.ja(e);var s=this.ib.Qd.Jn(this.ib.Rh(t));return this.Dm=e,this.RE(i,n,t,s)},i}(t.UC),s=function(t){function i(i){var e=t.call(this,i.g,i.qa)||this;return e.ib=i,e}return Q(i,t),i.prototype.compare=function(t,i){return this.rg?-1:(t=this.ib.Qd.Jn(this.ib.Rh(t.ja(i))),this.Dm=i,this.SE(i,t))},i}(t.aM),r=function(){function r(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new t.h,this.Pi=new t.h,this.hb=new t.$c(8),this.zd=new t.$c(5),this.lh=new t.au,this.Qd=new t.au,this.Ng=!1,this.vh=new t.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new t.Yj,this.Mc=new t.Yj,this.nh=new t.ia(0),this.Gk=new t.TC,this.Ff=new t.ia(0),this.Ak=new t.ia(0),this.jo=new t.Sa}return r.prototype.PX=function(i,e){var n=new t.Dd;return n.$B(),i.Oc(n),this.er(i),this.Wn=!1,this.qa=e,this.UA=e*e,e=this.jC(),i.Oc(n),e||(this.qQ(),e||this.jC()),-1!=this.xh&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},r.prototype.TX=function(t,i){this.er(t),this.Wn=!1,this.qa=i,this.UA=i*i,this.Ng=!1,this.jC(),this.Ng||(this.Ng=1==t.Gp(i,!0,!1)),-1!=this.xh&&(this.g.Td(this.xh),this.xh=-1),this.g=null},r.prototype.pg=function(t,i){return this.hb.T(t,0+i)},r.prototype.LB=function(t,i,e){this.hb.S(t,0+i,e)},r.prototype.Rh=function(t){return this.hb.T(t,2)},r.prototype.ZW=function(t,i){this.hb.S(t,2,i)},r.prototype.RF=function(t,i){return this.hb.T(t,3+i)},r.prototype.Pp=function(t){return this.hb.T(t,7)},r.prototype.Pl=function(t,i){this.hb.S(t,7,i)},r.prototype.Rp=function(t,i){return this.hb.T(t,3+this.Op(t,i))},r.prototype.fr=function(t,i,e){this.hb.S(t,3+this.Op(t,i),e)},r.prototype.NR=function(t,i){return this.hb.T(t,5+this.Op(t,i))},r.prototype.hr=function(t,i,e){this.hb.S(t,5+this.Op(t,i),e)},r.prototype.Sr=function(t){return this.zd.T(t,0)},r.prototype.UW=function(t,i){this.zd.S(t,0,i)},r.prototype.ez=function(t){return this.zd.T(t,4)},r.prototype.cr=function(t,i){this.zd.S(t,4,i)},r.prototype.il=function(t){return this.zd.T(t,1)},r.prototype.ln=function(t,i){this.zd.S(t,1,i)},r.prototype.dz=function(t){return this.zd.T(t,3)},r.prototype.Et=function(t,i){this.zd.S(t,3,i)},r.prototype.Ym=function(t){var i=this.zd.Ce(),e=this.lh.Ph();return this.UW(i,e),-1!=t?(this.lh.addElement(e,t),this.g.Ra(t,this.xh,i),this.cr(i,this.g.Ua(t))):this.cr(i,-1),i},r.prototype.HP=function(t){this.zd.jd(t)},r.prototype.LD=function(t,i){this.lh.addElement(this.Sr(t),i),this.g.Ra(i,this.xh,t)},r.prototype.nt=function(t){var i=this.hb.Ce(),e=this.Qd.Ph();return this.ZW(i,e),-1!=t&&this.Qd.addElement(e,t),i},r.prototype.MD=function(t,i){this.Qd.addElement(this.Rh(t),i)},r.prototype.Uu=function(t){this.hb.jd(t),0<=(t=this.nh.lF(t))&&this.nh.SV(t)},r.prototype.hj=function(i,e){if(-1==this.pg(i,0))this.LB(i,0,e);else{if(-1!=this.pg(i,1))throw t.i.Qa();this.LB(i,1,e)}this.ky(i,e)},r.prototype.ky=function(t,i){var e=this.il(i);if(-1!=e){var n=this.Rp(e,i);this.hr(n,i,t),this.fr(t,i,n),this.fr(e,i,t),this.hr(t,i,e)}else this.hr(t,i,t),this.fr(t,i,t),this.ln(i,t)},r.prototype.Op=function(t,i){return this.pg(t,0)==i?0:1},r.prototype.Xm=function(t,i){var e,n=this.dz(i);if(-1!=n&&(this.df.vd(n,-1),this.Et(i,-1)),-1!=(n=this.il(i))){var s=e=n;do{var r=!1,o=this.Op(e,i),h=this.RF(e,o);if(this.pg(e,o+1&1)==t){if(this.Xu(e),this.Qd.bh(this.Rh(e)),this.Uu(e),e==h){n=-1;break}n==e&&(n=this.il(i),s=h,r=!0)}e=h}while(e!=s||r);if(-1!=n){do{o=this.Op(e,i),h=this.RF(e,o),this.LB(e,o,t),e=h}while(e!=s);-1!=(e=this.il(t))?(s=this.Rp(e,t),r=this.Rp(n,t),s==e?(this.ln(t,n),this.ky(e,t),this.ln(t,e)):r==n&&this.ky(n,t),this.fr(n,t,s),this.hr(s,t,n),this.fr(e,t,r),this.hr(r,t,e)):this.ln(t,n)}}for(n=this.Sr(t),e=this.Sr(i),s=this.lh.rc(e);-1!=s;s=this.lh.lb(s))this.g.Ra(this.lh.ja(s),this.xh,t);this.lh.Hy(n,e),this.HP(i)},r.prototype.UT=function(t,i){var e=this.pg(t,0),n=this.pg(t,1),s=this.pg(i,0),r=this.pg(i,1);this.Qd.Hy(this.Rh(t),this.Rh(i)),i==this.il(e)&&this.ln(e,t),i==this.il(n)&&this.ln(n,t),this.Xu(i),this.Uu(i),e==s&&n==r||n==s&&e==r||(this.Hn(e,this.yo),this.Hn(s,this.Pi),this.yo.qb(this.Pi)?(e!=s&&this.Xm(e,s),n!=r&&this.Xm(n,r)):(n!=s&&this.Xm(n,s),e!=r&&this.Xm(e,r)))},r.prototype.Xu=function(t){var i=this.pg(t,1);this.dF(t,this.pg(t,0)),this.dF(t,i)},r.prototype.dF=function(t,i){var e=this.Rp(t,i),n=this.NR(t,i),s=this.il(i);e!=t?(this.fr(n,i,e),this.hr(e,i,n),s==t&&this.ln(i,e)):this.ln(i,-1)},r.prototype.WD=function(t,i,e){var n=this.Qd.rc(t),s=this.Qd.ja(n);t=this.Le(s);var r=this.Le(this.g.U(s));for(this.g.jr(s,i,e,!0),n=this.Qd.lb(n);-1!=n;n=this.Qd.lb(n)){s=this.Qd.ja(n);var o=this.Le(s)==t;this.g.jr(s,i,e,o)}n=i.Vp(e,0).ac(),i=i.Vp(e,i.ol(e)-1).wc(),this.BK(t,n),this.BK(r,i)},r.prototype.ZE=function(t,i,e){var n=this.Rh(t),s=this.pg(t,0),r=this.pg(t,1),o=this.nt(-1);for(this.nh.add(o),this.Pl(o,-3),this.Ff.add(o),this.hj(o,s),t=1,i=i.ol(e);t<i;t++)e=this.Ym(-1),this.Ak.add(e),this.Ff.add(e),this.hj(o,e),o=this.nt(-1),this.nh.add(o),this.Pl(o,-3),this.Ff.add(o),this.hj(o,e);for(this.hj(o,r),n=this.Qd.rc(n);-1!=n;n=this.Qd.lb(n))if(r=this.Qd.ja(n),this.Le(r)==s){t=0;do{0<t&&(o=this.Ff.get(t-1),this.LD(o,r),-1==this.ez(o)&&this.cr(o,this.g.Ua(r))),o=this.Ff.get(t),t+=2,this.MD(o,r),r=this.g.U(r)}while(t<this.Ff.size)}else{t=this.Ff.size-1;do{t<this.Ff.size-2&&(o=this.Ff.get(t+1),this.LD(o,r),0>this.ez(o)&&this.cr(o,this.g.Ua(r))),o=this.Ff.get(t),t-=2,this.MD(o,r),r=this.g.U(r)}while(0<=t)}this.Ff.clear(!1)},r.prototype.Le=function(t){return this.g.Pa(t,this.xh)},r.prototype.TI=function(i,e,n){var s=this.pg(e,0),r=new t.h;this.Hn(s,r);var o=new t.h,h=this.pg(e,1);this.Hn(h,o);var a=n.ol(i),u=n.Vp(i,0),c=new t.h;if(u.Yp(c),!r.qb(c)){if(!this.Ng){var l=r.compare(this.vh);0>l*(c=c.compare(this.vh))&&(this.Ng=!0)}this.vF(s,this.Ff),this.Ak.add(s)}for(!this.Ng&&1<a&&(l=r.compare(o),u=u.wc(),(r.compare(u)!=l||u.compare(o)!=l||0>u.compare(this.vh))&&(this.Ng=!0)),i=(u=n.Vp(i,a-1)).wc(),o.qb(i)||(this.Ng||0>(l=o.compare(this.vh))*(c=i.compare(this.vh))&&(this.Ng=!0),this.vF(h,this.Ff),this.Ak.add(h)),this.Ff.add(e),o=0,h=this.Ff.size;o<h;o++)i=this.Ff.get(o),n=this.Pp(i),t.$c.LG(n)&&(this.Mc.vd(n,-1),this.Pl(i,-1)),i!=e&&-3!=this.Pp(i)&&(this.nh.add(i),this.Pl(i,-3));this.Ff.clear(!1)},r.prototype.lO=function(t,i){this.$d.compare(this.Mc,this.Mc.ja(t),i),this.$d.rg&&(this.$d.Kr(),this.oF(t,i))},r.prototype.oF=function(i,e){this.Wn=!0,i=this.Mc.ja(i),e=this.Mc.ja(e);var n=this.Qd.Jn(this.Rh(i)),s=this.Qd.Jn(this.Rh(e)),r=this.g.bc(n);null==r&&(null==this.ie&&(this.ie=new t.yb),this.g.ed(n,this.ie),r=this.ie),null==(n=this.g.bc(s))&&(null==this.Nm&&(this.Nm=new t.yb),this.g.ed(s,this.Nm),n=this.Nm),this.Gk.Oo(r),this.Gk.Oo(n),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(i,e,-1,this.Gk),this.Gk.clear()},r.prototype.GQ=function(i,e){this.Wn=!0,e=this.Mc.ja(e);var n=this.Qd.Jn(this.Rh(e)),s=this.g.bc(n);null==s&&(null==this.ie&&(this.ie=new t.yb),this.g.ed(n,this.ie),s=this.ie),n=this.BF(i),this.Gk.Oo(s),this.g.Vi(n,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(e,-1,i,this.Gk),this.Gk.clear()},r.prototype.xS=function(){if(0!=this.nh.size)for(;0!=this.nh.size;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var t=this.nh.Fc();this.nh.If(),this.Pl(t,-1),-1!=this.WS(t)&&this.wS(t),this.Vn=!1}},r.prototype.wS=function(t){if(this.Vn){var i=this.Mc.zu(this.MH,this.GH,t,!0);this.Vn=!1}else i=this.Mc.KD(t);-1==i?this.UT(this.Mc.ja(this.Mc.FF()),t):(this.Pl(t,i),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,i)))},r.prototype.WS=function(i){var e=this.pg(i,0);if(i=this.pg(i,1),this.Hn(e,this.yo),this.Hn(i,this.Pi),t.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var n=this.yo.compare(this.vh),s=this.Pi.compare(this.vh);return 0>=n&&0<s?i:0>=s&&0<n?e:-1},r.prototype.oQ=function(){var i=new t.ia(0);i.Jb(this.g.fd);for(var e=this.g.Yq(),n=e.next();-1!=n;n=e.next())-1!=this.g.Pa(n,this.xh)&&i.add(n);this.g.nx(i,i.size),this.pQ(i)},r.prototype.pQ=function(e){this.df.clear(),this.df.De(e.size),this.df.Vo(new i(this.g));var n=new t.h;n.Rc();for(var s=-1,r=new t.h,o=0,h=e.size;o<h;o++){var a=e.get(o);this.g.Gc(a,r),r.qb(n)?(a=this.g.Pa(a,this.xh),this.Xm(s,a)):(s=this.Le(a),this.g.Gc(a,n),a=this.df.xn(a),this.Et(s,a))}},r.prototype.qQ=function(){var i=new t.ia(0);i.Jb(this.g.fd);for(var e=this.df.rc(-1);-1!=e;e=this.df.lb(e))i.add(this.df.ja(e));this.df.clear(),this.g.nx(i,i.size),e=0;for(var n=i.size;e<n;e++){var s=i.get(e),r=this.Le(s);s=this.df.xn(s),this.Et(r,s)}},r.prototype.vF=function(i,e){var n=this.il(i);if(-1!=n){var s=n;do{t.$c.LG(this.Pp(s))&&e.add(s),s=this.Rp(s,i)}while(s!=n)}},r.prototype.BK=function(t,i){for(t=this.lh.rc(this.Sr(t));-1!=t;t=this.lh.lb(t))this.g.mf(this.lh.ja(t),i)},r.prototype.hK=function(t,i,e,n){this.Xu(t),-1!=i&&this.Xu(i),this.TI(0,t,n),-1!=i&&this.TI(1,i,n),-1!=e&&(n.Bf.D(this.yo),this.Hn(e,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(e)),e=0;for(var s=this.Ak.size;e<s;e++){var r=this.Ak.get(e),o=this.dz(r);-1!=o&&(this.df.vd(o,-1),this.Et(r,-1))}for(e=this.Rh(t),s=-1!=i?this.Rh(i):-1,this.WD(e,n,0),-1!=i&&this.WD(s,n,1),this.ZE(t,n,0),-1!=i&&this.ZE(i,n,1),this.Qd.bh(e),this.Uu(t),-1!=i&&(this.Qd.bh(s),this.Uu(i)),e=0,s=this.Ak.size;e<s;e++)(r=this.Ak.get(e))==this.Jq&&(this.Xv=!0),-1==(o=this.dz(r))&&(-1==(o=this.df.KD(this.BF(r)))?(t=this.Le(this.df.ja(this.df.FF())),this.Xm(t,r)):this.Et(r,o));this.Ak.clear(!1)},r.prototype.Hn=function(t,i){this.g.dG(this.ez(t),i)},r.prototype.BF=function(t){return this.lh.Jn(this.Sr(t))},r.prototype.jC=function(){this.Xv=!1,this.Jq=-1,null==this.$d&&(this.Mc.Rv=!1,this.$d=new n(this),this.Mc.Zn=this.$d);var i=new t.ia(0),r=null,o=null;this.GH=this.MH=-1,this.Vn=!1;for(var h=this.df.rc(-1);-1!=h;){this.Vn=!1;var a=this.df.ja(h);this.Jq=this.Le(a),this.g.Gc(a,this.vh),this.$d.$J(this.vh.y,this.vh.x);var u=this.il(this.Jq),c=-1==u;if(!c){a=u;do{var l=this.Pp(a);-1==l?(this.nh.add(a),this.Pl(a,-3)):-3!=l&&i.add(l),a=this.Rp(a,this.Jq)}while(a!=u)}if(0<i.size){for(this.Vn=1==i.size&&1==this.nh.size,c=0,u=i.size;c<u;c++)a=this.Mc.ja(i.get(c)),this.Pl(a,-2);var f=-2,p=-2;for(c=0,u=i.size;c<u;c++){if(l=i.get(c),-2==f){var d=this.Mc.we(l);-1!=d?(a=this.Mc.ja(d),-2!=(a=this.Pp(a))&&(f=d)):f=-1}if(-2==p&&(-1!=(l=this.Mc.lb(l))?(a=this.Mc.ja(l),-2!=(a=this.Pp(a))&&(p=l)):p=-1),-2!=f&&-2!=p)break}for(c=0,u=i.size;c<u;c++)l=i.get(c),a=this.Mc.ja(l),this.Mc.vd(l,-1),this.Pl(a,-1);i.clear(!1),this.MH=-1!=f?f:-1,this.GH=-1!=p?p:-1,-1!=f&&-1!=p?this.Vn||this.lO(f,p):-1==f&&-1==p&&(this.Vn=!1)}else c&&(null==r&&(r=new s(this)),r.Dh(this.vh),this.Mc.uJ(r),r.rg&&(r.Kr(),this.GQ(this.Jq,r.Dm)));this.xS(),this.Xv?(this.Xv=!1,null==o&&(o=new e(this.g)),o.Dh(this.vh),h=this.df.uJ(o)):h=this.df.lb(h)}return this.Wn},r.prototype.er=function(i){for(this.g=i,this.xh=this.g.Gd(),this.hb.De(i.fd+32),this.zd.De(i.fd),this.lh.At(i.fd),this.lh.fn(i.fd),this.Qd.At(i.fd+32),this.Qd.fn(i.fd+32),i=this.g.ld;-1!=i;i=this.g.ue(i))if(t.aa.Hc(this.g.ic(i)))for(a=this.g.Ob(i);-1!=a;a=this.g.Rb(a)){var e=this.g.Ja(a),n=this.g.Xa(a),s=this.Ym(n),r=this.nt(n);for(this.hj(r,s),u=this.g.U(n),n=0,e-=2;n<e;n++){var o=this.g.U(u),h=this.Ym(u);this.hj(r,h),r=this.nt(u),this.hj(r,h),u=o}this.g.dc(a)?(h=this.Ym(u),this.hj(r,h),r=this.nt(u),this.hj(r,h),this.hj(r,s)):(h=this.Ym(u),this.hj(r,h))}else for(var a=this.g.Ob(i);-1!=a;a=this.g.Rb(a)){var u=this.g.Xa(a);for(s=0,e=this.g.Ja(a);s<e;s++)this.Ym(u),u=this.g.U(u)}this.oQ()},r}();t.RC=r}(W||(W={})),function(t){var i=function(i){function e(n,s,r){var o=i.call(this)||this;if(void 0!==n)if(void 0!==r){o.description=t.ee.og();var h=new t.Nd;h.K(n,s,r),o.dC(h)}else if(void 0!==s)o.description=t.ee.og(),o.Cb(n,s);else if(n instanceof t.ra)o.description=n;else if(n instanceof t.h)o.description=t.ee.og(),o.Cb(n);else{if(!(n instanceof e))throw t.i.N();o.description=n.description,o.Cb(n.Lg(),n.ih()),null!==n.ka&&(o.ka=n.ka.slice(0))}else o.description=t.ee.og();return o}return Q(e,i),e.prototype.D=function(i){if(void 0===i){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return(i=new t.h).ma(this.ka[0],this.ka[1]),i}if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");i.ma(this.ka[0],this.ka[1])},e.prototype.Cb=function(t,i){"number"==typeof t?(this.vc(),null==this.ka&&this.un(),this.ka[0]=t,this.ka[1]=i):(this.vc(),this.Cb(t.x,t.y))},e.prototype.Cz=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");var i=new t.Nd;return i.x=this.ka[0],i.y=this.ka[1],i.z=this.description.iG()?this.ka[2]:t.ra.se(1),i},e.prototype.dC=function(i){this.vc();var e=this.hasAttribute(1);e||t.ra.DG(1,i.z)||(this.re(1),e=!0),null==this.ka&&this.un(),this.ka[0]=i.x,this.ka[1]=i.y,e&&(this.ka[2]=i.z)},e.prototype.Lg=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},e.prototype.cC=function(t){this.setAttribute(0,0,t)},e.prototype.ih=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},e.prototype.aK=function(t){this.setAttribute(0,1,t)},e.prototype.bS=function(){return this.Uc(1,0)},e.prototype.wX=function(t){this.setAttribute(1,0,t)},e.prototype.zR=function(){return this.Uc(2,0)},e.prototype.hX=function(t){this.setAttribute(2,0,t)},e.prototype.Ec=function(){return this.yF(3,0)},e.prototype.LJ=function(t){this.setAttribute(3,0,t)},e.prototype.Uc=function(i,e){var n=this.description.Pf(i);return 0<=n?this.ka[this.description.$j(n)+e]:t.ra.se(i)},e.prototype.yF=function(i,e){var n=this.description.Pf(i);return 0<=n?this.ka[this.description.$j(n)+e]:t.ra.se(i)},e.prototype.setAttribute=function(t,i,e){this.vc();var n=this.description.Pf(t);0>n&&(this.re(t),n=this.description.Pf(t)),null==this.ka&&this.un(),this.ka[this.description.$j(n)+i]=e},e.prototype.getType=function(){return 33},e.prototype.Db=function(){return 0},e.prototype.Oa=function(){this.vc(),null!=this.ka&&(this.ka[0]=NaN,this.ka[1]=NaN)},e.prototype.sn=function(i){if(null!=this.ka){for(var e=t.ee.Iw(i,this.description),n=[],s=0,r=0,o=i.Aa;r<o;r++){var h=i.kd(r),a=t.ra.Va(h);if(-1==e[r]){var u=t.ra.se(h);for(h=0;h<a;h++)n[s]=u,s++}else for(u=this.description.$j(e[r]),h=0;h<a;h++)n[s]=this.ka[u],s++,u++}this.ka=n}this.description=i},e.prototype.un=function(){this.lJ(this.description.Ae.length),e.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},e.prototype.Oc=function(i){if(i instanceof t.Dd){if(!this.Ac()){var e=this.D();i.Eh(e,e),this.Cb(e)}}else this.Ac()||(this.re(1),e=this.Cz(),this.dC(i.fp(e)))},e.prototype.copyTo=function(i){if(33!=i.getType())throw t.i.N();i.vc(),null==this.ka?(i.Oa(),i.ka=null,i.Nf(this.description)):(i.Nf(this.description),i.lJ(this.description.Ae.length),e.cE(this.ka,i.ka,this.description.Ae.length))},e.prototype.Ia=function(){return new e(this.description)},e.prototype.B=function(){return this.Ac()},e.prototype.Ac=function(){return null==this.ka||isNaN(this.ka[0])||isNaN(this.ka[1])},e.prototype.bn=function(t){t.Oa(),this.description!=t.description&&t.Nf(this.description),t.Zb(this)},e.prototype.A=function(t){this.Ac()?t.Oa():(t.v=this.ka[0],t.G=this.ka[1],t.C=this.ka[0],t.H=this.ka[1])},e.prototype.Qo=function(t){if(this.Ac())t.Oa();else{var i=this.Cz();t.v=i.x,t.G=i.y,t.Ye=i.z,t.C=i.x,t.H=i.y,t.Bg=i.z}},e.prototype.Tg=function(i,e){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(i=this.Uc(i,e),n.oa=i,n.va=i,n)},e.prototype.lJ=function(i){if(null==this.ka)this.ka=t.O.lg(i);else if(this.ka.length<i){for(var e=this.ka.slice(0),n=this.ka.length;n<i;n++)e[n]=0;this.ka=e}},e.cE=function(t,i,e){if(0<e)for(e=0;e<t.length;e++)i[e]=t[e]},e.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof e)||this.description!=t.description)return!1;if(this.Ac())return!!t.Ac();for(var i=0,n=this.description.Ae.length;i<n;i++)if(this.ka[i]!=t.ka[i])return!1;return!0},e.prototype.cc=function(){var i=this.description.cc();if(!this.Ac())for(var e=0,n=this.description.Ae.length;e<n;e++){var s=this.ka[e];s=t.O.truncate(s^s>>>32),i=t.O.Th(s,i)}return i},e.prototype.mg=function(){return null},e}(t.aa);t.Sa=i}(W||(W={})),function(t){var i=function(){function t(t,i,e){void 0!==t&&(this.x=t,this.y=i,this.z=e)}return t.construct=function(i,e,n){var s=new t;return s.x=i,s.y=e,s.z=n,s},t.prototype.K=function(t,i,e){this.x=t,this.y=i,this.z=e},t.prototype.lx=function(){this.z=this.y=this.x=0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x/=t,this.y/=t,this.z/=t)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.sub=function(i){return new t(this.x-i.x,this.y-i.y,this.z-i.z)},t.prototype.Ag=function(i){new t(this.x*i,this.y*i,this.z*i)},t.prototype.Qh=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t}();t.Nd=i}(W||(W={})),function(t){var i=function(){function i(t,i,e){this.Gw=this.DA=null,this.Xf=i,this.FT=i.y-e,this.ET=i.y+e,this.Ew=0,this.dA=t,this.qa=e,this.RT=e*e,this.eA=0!=e,this.Lv=!1}return i.prototype.result=function(){return 0!=this.Ew?1:0},i.prototype.ZM=function(i){return i=i.hc(i.fe(this.Xf,!1)),t.h.yc(i,this.Xf)<=this.RT},i.prototype.fF=function(t){if(!this.eA&&(this.dA&&this.Xf.qb(t.ac())||this.Xf.qb(t.wc())))this.Lv=!0;else if(t.na==this.Xf.y&&t.na==t.la){if(this.dA&&!this.eA){var i=Math.max(t.sa,t.pa);this.Xf.x>Math.min(t.sa,t.pa)&&this.Xf.x<i&&(this.Lv=!0)}}else{var e=!1;if(i=Math.max(t.sa,t.pa),this.Xf.x>i?e=!0:this.Xf.x>=Math.min(t.sa,t.pa)&&(e=0<t.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),e){if(this.Xf.y==t.ac().y){if(this.Xf.y<t.wc().y)return}else if(this.Xf.y==t.wc().y&&this.Xf.y<t.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(t.ac().y>t.wc().y?1:-1)}}},i.prototype.SI=function(t){var i=t.Tg(0,1);if(i.oa>this.ET||i.va<this.FT)return!1;if(this.eA&&this.ZM(t))return!0;if(i.oa>this.Xf.y||i.va<this.Xf.y)return!1;if(null==this.DA&&(this.DA=[null,null,null,null,null]),null==this.Gw&&(this.Gw=[0,0,0]),0<(i=t.eG()))for(t=0;t<i;t++){var e=this.DA[t].get();if(this.fF(e),this.Lv)return!0}else if(this.fF(t),this.Lv)return!0;return!1},i.PM=function(t,e,n){for(e=new i(0==t.In(),e,n),t=t.Ga();t.$a();)for(;t.Ha();)if(n=t.ha(),e.SI(n))return-1;return e.result()},i.QM=function(e,n,s,r){var o=new t.l;e.xc(o),o.W(r,r);var h=new i(0==e.In(),s,r);e=e.Ga();var a=new t.l;for(a.K(o),a.C=s.x+r,a.G=s.y-r,a.H=s.y+r,r=(s=n.MF(a,r)).next();-1!=r;r=s.next())if(e.Vb(n.ja(r)),e.Ha()&&(r=e.ha(),h.SI(r)))return-1;return h.result()},i.wm=function(e,n,s){if(e.B())return 0;var r=new t.l;if(e.xc(r),r.W(s,s),!r.contains(n))return 0;if(null!=(r=e.Bb)){var o=r.Fk;if(null!=o){if(1==(o=o.So(n.x,n.y)))return 1;if(0==o)return 0}if(null!=(r=r.Fb))return i.QM(e,r,n,s)}return i.PM(e,n,s)},i.bT=function(t,e,n){return e.B()?0:i.wm(t,e.D(),n)},i.Ml=function(t,i){return!(16>(t=t.I()))&&2*t+Math.log(t)/Math.log(2)*i<1*t*i},i}();t.Dg=i}(W||(W={})),function(t){var i=function(t){function i(i){return t.call(this,!0,i)||this}return Q(i,t),i.prototype.Ia=function(){return new i(this.description)},i.prototype.Db=function(){return 2},i.prototype.getType=function(){return 1736},i.prototype.xG=function(t,i,e){this.JS(t,i,e)},i.prototype.qR=function(){this.FR()},i}(t.Vk);t.Da=i}(W||(W={})),function(t){!function(t){t[t.PiPOutside=0]="PiPOutside",t[t.PiPInside=1]="PiPInside",t[t.PiPBoundary=2]="PiPBoundary"}(t.RL||(t.RL={})),t.hd=function(){function i(){}return i.KG=function(i,e,n){return 0==(i=t.Dg.bT(i,e,n))?0:1==i?1:2},i.Yd=function(i,e,n){return 0==(i=t.Dg.wm(i,e,n))?0:1==i?1:2},i.WX=function(e,n,s,r,o){if(n.length<s||o.length<s)throw t.i.N();for(var h=0;h<s;h++)o[h]=i.Yd(e,n[h],r)},i.sK=function(e,n,s,r,o){if(1736==e.getType())i.WX(e,n,s,r,o);else{if(197!=e.getType())throw t.i.fa("invalid_call");var h=new t.l;e.A(h),i.$M(h,n,s,r,o)}},i.$M=function(i,e,n,s,r){if(e.length<n||r.length<n)throw t.i.N();if(i.B())for(s=0;s<n;s++)r[s]=0;else for(i.W(.5*-s,.5*-s),i.W(.5*s,.5*s),s=0;s<n;s++)i.contains(e[s])?r[s]=1:i.contains(e[s])?r[s]=2:r[s]=0},i.YX=function(t,i,e,n,s){for(var r=0;r<e;r++)s[r]=t.qs(i[r],n)?2:0},i.XX=function(t,i,e,n,s){var r=t.Bb,o=null;null!=r&&(o=r.Fk),r=e;for(var h=0;h<e;h++)if(s[h]=1,null!=o){var a=i[h];0==o.So(a.x,a.y)&&(s[h]=0,r--)}if(0!=r)for(t=t.Ga();t.$a()&&0!=r;)for(;t.Ha()&&0!=r;)for(o=t.ha(),h=0;h<e&&0!=r;h++)1==s[h]&&o.qs(i[h],n)&&(s[h]=2,r--);for(h=0;h<e;h++)1==s[h]&&(s[h]=0)},i.tK=function(e,n,s,r,o){var h=e.getType();if(1607==h)i.XX(e,n,s,r,o);else{if(!t.aa.yd(h))throw t.i.fa("Invalid call.");i.YX(e,n,s,r,o)}},i}()}(W||(W={})),function(t){var i=function(t){function i(i,e){if(2==arguments.length){var n=t.call(this,!1,i.description)||this;n.nf(i),n.lineTo(e)}else n=t.call(this,!1,i)||this;return n}return Q(i,t),i.prototype.Ia=function(){return new i(this.description)},i.prototype.Db=function(){return 1},i.prototype.getType=function(){return 1607},i.prototype.xG=function(t,i,e){this.KS(t,i,e)},i}(t.Vk);t.Ta=i}(W||(W={})),function(t){var i=function(){function i(){}return i.prototype.progress=function(){return!0},i.zp=function(i){if(null!=i&&!i.progress(-1,-1))throw t.i.WC()},i}();t.mp=i}(W||(W={})),function(t){var i;(i=t.PK||(t.PK={}))[i.clipWithInputHorizon=1]="clipWithInputHorizon",i[i.clipWithOutputHorizon=2]="clipWithOutputHorizon";var e=function(){function t(){this.Kg=3,this.Vu=this.Jr=NaN}return t.prototype.PW=function(t){this.QB(1,t)},t.prototype.QW=function(t){this.QB(2,t)},t.prototype.hS=function(){return this.hs(1)},t.prototype.iS=function(){return this.hs(2)},t.prototype.QB=function(t,i){this.Kg=i?this.Kg|t:this.Kg&~t},t.prototype.hs=function(t){return!!(this.Kg&t)},t.prototype.Of=function(){var i=new t;return i.Jr=this.Jr,i.Vu=this.Vu,i.Kg=this.Kg,i},t}();t.yC=e,function(t){t[t.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",t[t.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(t.QK||(t.QK={}));var n=function(){function t(){this.Kg=0}return t.prototype.QB=function(t,i){this.Kg=i?this.Kg|t:this.Kg&~t},t.prototype.hs=function(t){return!!(this.Kg&t)},t.jg=function(i){var e=new t;return e.Kg=i.Kg,e},t.prototype.mM=function(t){this.Kg=t.Kg},t}();t.AY=n;var s=function(){function i(i,e,n){this.ef=i,this.Yf=e,this.Uf=new t.l,this.Uf.K(n),this.AT=i.cc()+e.cc()+this.Uf.cc().toString()}return i.prototype.cc=function(){return this.AT},i.prototype.Nb=function(t){return this==t||this.ef.Nb(t.ef)&&this.Yf.Nb(t.Yf)&&this.Uf.Nb(t.Uf)},i}();t.FY=s,s=function(){function i(){this.Yf=this.ef=null,this.rH=new e,this.sH=new n,this.ww=this.Wf=null,this.mw=this.Tn=!0}return i.Nr=function(t,e,n,s){var r;void 0===s&&(s=null),void 0===r&&(r=null);var o=new i;return o.qp(t,e,n,s,r),o},i.prototype.qp=function(i,e,n,s,r){if(null==i||null==e)throw t.i.fa("invalidArgument");if(this.ef=i,this.Yf=e,this.mw=this.Tn=!1,null!=s&&(this.rH=s.Of()),null!=r&&this.sH.mM(r),r=!1,1==e.Sb()&&null!=s&&(s=s.Jr,isNaN(s)||0==s||(r=!0)),i==e)this.Tn=!r,this.mw=!0;else{s=i.Sb();var o=e.Sb();if(0==s||0==o){if(null!=n)throw t.i.N();null!=i.Hd()&&null!=e.Hd()&&(this.Tn=i.Hd().Nb(e.Hd()))}else 3==s||3==o?this.Tn=i.Nb(e):this.ef.kS(this.Yf)?this.Tn=!r:this.Tn=!1,this.Wf=n,null!=this.Wf&&this.Wf.ix(),this.mw=(null==this.Wf||0==this.Wf.count())&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},i.prototype.isIdentity=function(){return this.Tn},i.prototype.nR=function(){return this.rH.Of()},i.prototype.Nb=function(t){return t==this||!!(t instanceof i&&this.ef.Nb(t.ef)&&this.Yf.Nb(t.Yf))&&(this.Wf==t.Wf||!(null==this.Wf||null==t.Wf||!this.Wf.Nb(t.Wf)))},i.prototype.oY=function(){this.ww=new t.bu(this)},i}(),t.vr=s}(W||(W={})),function(t){var i=function(){function i(){}return i.Cp=function(t){return t*i.oW},i.mx=function(t,e){return i.gP(e-t)},i.hP=function(i){return-360<=i&&720>i?(0>i?i+=360:360<=i&&(i-=360),i):(0>(i=t.lc.RK(i))&&(i+=360),i)},i.gP=function(t){return 180<(t=i.hP(t))&&(t-=360),t},i.oW=57.29577951308232,i}();t.qr=i,t.Hh=function(){function e(){}return e.lj=function(i,e){var n=new t.l;i.A(n);var s=t.cb.gh(e),r=new t.l;return r.K(s),r.v=n.v,r.C=n.C,r.W(.01*r.ca(),0),e=t.ta.Wd(e,n,!1),r.contains(n)?i:t.Ud.clip(i,r,e,0)},e.ks=function(i,n,s,r,o){if(!t.cb.Wc(n))throw t.i.N();var h=t.ta.kj(n,i,!1),a=t.cb.gh(n),u=t.cb.sc(n),c=u.Hd().ai,l=t.cb.vv(u);u=t.cb.ev(u),l*=2-l;var f=new t.Nc;a.cn(f);var p=[[0,0],[0,0]];if(2==t.Eg.Sb(n)?r?(p[0][0]=e.Zm(o,f),p[0][1]=a.Jp(),t.cb.vt(),a=p[0][0]*c):(p[0][0]=a.gk(),p[0][1]=o,t.cb.vt(),a=p[0][1]*c):a=o*c,!r&&0!=a)throw t.i.N();var d=new t.ga,v=new t.gd;i=v.Ib(i);for(var y=[0],g=new t.h,b=new t.h,w=new t.h,m=new t.h,x=new t.h,M=new t.h,_=v.Ob(i);-1!=_;_=v.Rb(_)){var k=v.Xa(_);v.D(k,w);for(var A=!1,T=k=v.U(k);-1!=T;T=v.U(T)){if(T==k){if(A)break;A=!0}if(v.D(T,m),r&&h<o-w.x&&m.x-o>h||h<o-m.x&&w.x-o>h||!r&&h<-w.y&&m.y>h||h<-m.y&&w.y>h)do{if(!(Math.abs(w.x-m.x)>=.5*f.R())){if(2==t.Eg.Sb(n)?(p[0][0]=e.Zm(w.x,f),p[0][1]=w.y,p[1][0]=e.Zm(m.x,f),p[1][1]=m.y,t.cb.dW(),x.x=p[0][0]*c,x.y=p[0][1]*c,M.x=p[1][0]*c,M.y=p[1][1]*c):(x.x=w.x*c,x.y=w.y*c,M.x=m.x*c,M.y=m.y*c),M.x=6.283185307179586*(m.x-w.x)/f.R()+x.x,r){if(b.x=a,b.y=e.Nz(u,l,x,M,a,s),isNaN(b.y))break}else{if(b.x=e.Lz(u,l,x,M,s),isNaN(b.x))break;b.y=0}t.kb.wd(u,l,x.x,x.y,M.x,M.y,d,null,null,s);var j=d.u;t.kb.wd(u,l,x.x,x.y,b.x,b.y,d,null,null,s);var P=d.u;2==t.Eg.Sb(n)?(p[0][0]=b.x/c,p[0][1]=b.y/c,t.cb.bR(),r?(g.y=p[0][1],g.x=o):(g.x=e.os(p[0][0],w.x,m.x,f),g.y=o)):r?(g.x=o,g.y=b.y/c):(g.x=e.os(b.x/c,w.x,m.x,f),g.y=o),y[0]=0<j?t.O.Rk(P/j,0,1):.5,0!=y[0]&&1!=y[0]&&(j=v.Ma(T),v.Ul(j,y,1),v.Cb(v.U(j),g.x,g.y))}}while(0);w.L(m)}}return v.Ne(i)},e.Fn=function(i,n,s,r,o){if(i.B())return i;var h=t.cb.bf(n);return e.Hp(i,s-180*h,360*h,n,r,o,!0)},e.Nz=function(i,n,s,r,o,h){if(3.141592653589793<=Math.abs(s.x-r.x)||!e.Sn(s.x,r.x,o))return NaN;if(s.x>r.x)var a=r;else a=s,s=r;r=new t.ga(0);var u=new t.ga(0),c=new t.ga(0);t.kb.wd(i,n,a.x,a.y,s.x,s.y,u,r,null,h);var l=u.u,f=0,p=1,d=new t.h;for(d.L(a);l*(p-f)>1e-12*i;){var v=.5*(f+p);if(t.kb.oj(i,n,a.x,a.y,l*v,r.u,u,c,h),d.x=u.u,d.y=c.u,d.x==o)break;if(e.Sn(a.x,d.x,o))p=v;else{if(!e.Sn(s.x,d.x,o))return NaN;f=v}}return d.y},e.Sn=function(t,e,n){return t=i.Cp(t),e=i.mx(t,i.Cp(e)),0==(n=i.mx(t,i.Cp(n)))||0<e&&0<n&&n<=e||0>e&&0>n&&n>=e},e.Zm=function(t,i){var e=i.va-i.oa;return i.It(t-Math.floor((t-i.oa)/e)*e)},e.os=function(i,e,n,s){var r=new t.Nc;for(r.K(e,n),n=s.R(),i=Math.floor((i-e)/n)*n+i,r=r.sf();Math.abs(i-r)>Math.abs(i+n-r);)i+=n;return i},e.Lz=function(i,e,n,s,r){if(n.y>s.y)var o=s;else o=n,n=s;if((s=new t.Nc).K(o.y,n.y),!s.contains(0)||3.141592653589793<=Math.abs(o.x-n.x))return NaN;if(o.x==n.x)return o.x;var h=new t.ga(0),a=new t.ga(0),u=new t.ga(0);t.kb.wd(i,e,o.x,o.y,n.x,n.y,a,h,null,r);var c=a.u,l=0,f=1,p=new t.h;for(p.L(o);c*(f-l)>1e-12*i;){var d=.5*(l+f);if(t.kb.oj(i,e,o.x,o.y,c*d,h.u,a,u,r),p.x=a.u,p.y=u.u,s.K(o.y,p.y),0==p.y)break;if(s.contains(0))f=d;else{if(s.K(n.y,p.y),!s.contains(0))return NaN;l=d}}return p.x},e.Hp=function(i,e,n,s,r,o,h){var a=new t.l;if(i.A(a),a.B())return i;var u=new t.Nc;a.cn(u);var c=new t.Nc;if(c.K(e,e+n),c.contains(u)&&c.va!=u.va)return i;var l=new t.l;l.K(a);var f=i.getType();if(33==f)return((a=(l=r?i:i.Of()).Lg())<c.oa||a>=c.va||h&&a==c.va)&&(a+=Math.ceil((c.oa-a)/n)*n,a=c.It(a),l.cC(a)),l;if(550==f){for(s=(l=r?i:i.Of()).ub(0),f=2*l.I(),i=!1,r=0;r<f;r+=2)((a=s.read(r))<c.oa||a>=c.va||h&&a==c.va)&&(i=!0,a+=Math.ceil((c.oa-a)/n)*n,a=c.It(a),s.write(r,a));return i&&l.Pc(1993),l}if(c.contains(u))return i;if(197==f)return n=r?i:i.Of(),a.Ea(l),n.Xo(a),n;var p=.1*Math.max(a.ca(),a.R());for(l.W(0,p),h=i,c=s.Xd(0),i=t.Gh.local(),r=new t.Dd;;){var d=Math.floor((u.oa-e)/n),v=Math.ceil((u.va-e)/n);if(!(3<v-d))break;d=Math.floor(.5*(v+d)),l.v=a.v-p,l.C=e+n*d;var y=t.Ud.clip(h,l,c,o);l.v=l.C,l.C=a.C+p;var g=t.Ud.clip(h,l,c,o);r.gg((d-v)*n,0),g.Oc(r),1736==f?h=i.V(y,g,s,null):(h=y).add(g,!1),h.A(a),a.cn(u)}for(l.v=e,l.C=e+n,(e=new t.l).K(l),e.W(c,0),0!=(e=Math.floor((a.v-l.v)/n)*n)?(l.move(e,0),r.gg(-e,0)):r.RB(),e=1607==f?new t.Ta(h.description):new t.Da(h.description),o=new t.l,u=new t.l;a.C>l.v;)(p=t.Ud.clip(h,l,c,0)).A(u),(1607==f?!p.B()&&(u.R()>c||u.ca()>c):!p.B()&&(1736!=f||u.R()>c))&&(p.Oc(r),p.A(u),e.A(o),o.W(c,c),o.isIntersecting(u)&&1736==f?e=i.V(e,p,s,null):e.add(p,!1)),l.move(n,0),r.shift(-n,0);return e},e.WI=function(i,e,n,s){var r=new t.de(n.description);r.Fd(n,0,-1),r=t.cb.zh(r,i,e);var o=n.I();if(s.Oa(),!t.cb.Wc(i)||o!=r.I())return!1;var h=new t.l;n.A(h);var a=new t.l;if(r.A(a),h=h.R(),a=a.R(),0!=h&&0!=a){if(a/=h,i=t.cb.gh(e).R()/t.cb.gh(i).R(),1e-10<Math.abs(a/i-1))return!1}else if(0!=h||0!=a)return!1;for(s.add(n,!1),n=0;n<o;n++)i=r.Na(n),s.Cb(n,i);return!0},e.Oz=function(){throw t.i.Ie()},e}()}(W||(W={})),function(t){var i,e,n;(e=i=t.si||(t.si={}))[e.Clip=0]="Clip",e[e.DontClip=1]="DontClip",e[e.PannableFold=2]="PannableFold",function(t){t[t.Geodesic=0]="Geodesic",t[t.Loxodrome=1]="Loxodrome",t[t.GreatElliptic=2]="GreatElliptic",t[t.NormalSection=3]="NormalSection",t[t.ShapePreserving=4]="ShapePreserving"}(n=t.WK||(t.WK={})),t.zb=function(){function e(){}return e.xv=function(i,e,n){if(n||0<e){for(i=i.toString(t.Sc.PE_STR_NAME_CANON|t.Sc.PE_STR_AUTH_NONE),e=[],n=0;n<i.length;n++)e[n]="a"<=i[n]&&"z">=i[n]?e[n]=i[n].toUpperCase():i[n];return e.join()}return i.toString(t.Sc.PE_STR_AUTH_TOP)},e.ur=function(i,e,n,s){var r=s.length,o=n.I();if(0!=o){var h=n.ub(0),a=Math.min(o,r),u=0,c=i.eh();isNaN(e)&&(e=0);for(var l=i.Wc(),f=179*(i=l?i.sc().Oe().R():0)/360;0<o;){if(h.uB(u<<1,a,s),t.ej.projToGeogCenter(c,a,s,e),l)for(var p=0;p<a;p++){var d=s[p][0]-e,v=t.lc.sign(d),y=h.read(2*(u+p));0>v*t.lc.sign(y)&&Math.abs(d)>f&&(s[p][0]+=-v*i)}h.uC(u<<1,a,s),u+=a,o-=a,a=Math.min(o,r)}n.Pc(1993)}},e.IL=function(i,e,n,s){var r=0,o=i.eh();isNaN(r)&&(r=0);var h=i.Wc(),a=i.bf();i=360*a,a*=179;for(var u=s.length,c=0;c<n;){for(var l=c;l<n&&e[l].isNaN();++l)c++;var f=Math.min(u,n-c);if(0<f){l=1;for(var p=c+1;l<f;++l,++p)if(e[p].isNaN()){f=l;break}if(t.ta.Jy(s,e,c,f),t.ej.projToGeogCenter(o,f,s,r),h)for(l=0,p=c;l<f;++l,++p){var d=e[p].x,v=s[l][0]-r,y=t.lc.sign(v);0>y*t.lc.sign(d)&&Math.abs(v)>a&&(s[l][0]-=y*i)}t.ta.Iy(e,c,s,f),c+=f}}},e.Lx=function(i,e,n){var s=n.length,r=e.I();if(!(1>r)){var o=e.ub(0),h=Math.min(r,s),a=0,u=i.eh(),c=i.Wc(),l=c?i.Oe().R():0,f=179*l/360,p=0;for(c&&(p=i.zi());0<r;){if(o.uB(a<<1,h,n),t.ej.geogToProj(u,h,n),c)for(i=0;i<h;i++){var d=n[i][0],v=t.lc.sign(d),y=o.read(2*(a+i))-p;0>v*t.lc.sign(y)&&Math.abs(d)>f&&(n[i][0]+=-v*l)}o.uC(a<<1,h,n),a+=h,r-=h,h=Math.min(r,s)}e.Pc(1993)}},e.HL=function(i,e,n,s){if(0!=n){var r=i.eh(),o=i.Wc(),h=o?i.Oe().R():0,a=179*h/360,u=0;for(o&&(u=i.zi()),i=0;i<n;){for(var c=i;c<n&&e[c].isNaN();++c)i++;var l=Math.min(s.length,n-i);if(0<l){c=1;for(var f=i+1;c<l;++c,++f)if(e[f].isNaN()){l=c;break}if(t.ta.Jy(s,e,i,l),t.ej.geogToProj(r,l,s),o)for(c=0,f=i;c<l;c++){var p=s[c][0],d=t.lc.sign(p);0>d*t.lc.sign(e[f].x-u)&&Math.abs(p)>a&&(s[c][0]-=d*h)}t.ta.Iy(e,i,s,l),i+=l}}}},e.tr=function(i,e,n,s){var r=e.I();if(0!=r){var o=e.ub(0),h=i.ef,a=i.Yf,u=h.sc().Qp(),c=a.sc().Qp(),l=h.bf(),f=a.bf();if(null==(i=i.Wf)||0==i.count()){for(n=u/c,s=(h.Up()-a.Up())*f,c=-90*l,i=90*l,u=!1,f=1,h=2*r;f<h;)l=o.get(f),(a=t.O.Rk(l,c,i))!=l&&(o.set(f,a),u=!0),f+=2;if(0!=s||1!=n)for(u=!0,c=new t.h,f=0;f<r;f++)o.tc(2*f,c),c.x*=n,c.x+=s,c.y*=n,o.Tt(2*f,c);u&&e.Pc(1993)}else{h=s.length,a=Math.min(r,h);var p=t.O.lg(a),d=null,v=0,y=NaN,g=NaN,b=360*f,w=f/l;n&&(g=90*f,y=89.9*l,d=t.O.lg(a));for(var m=!0,x=0;0!=r;){for(l=!1,o.uB(v<<1,a,s),f=0;f<a;f++)p[f]=s[f][0];if(n)for(f=0;f<a;f++){var M=Math.abs(s[f][1])-y;0<M&&(l=s[f][1],s[f][1]=t.lc.Cn(y,l),d[f]=t.lc.Cn(M,l),l=!0)}for(f=s[0][0],i.transform(s,a,u,c),m&&(x=s[0][0]-w*f,m=!1),f=0;f<a;f++)M=s[f][0]-p[f]*w-x,200<Math.abs(M)&&(s[f][0]=0<M?s[f][0]-b:s[f][0]+b);if(l){for(f=0;f<a;f++)0!=d[f]&&(s[f][1]+=w*d[f],s[f][1]>g?s[f][1]=g:s[f][1]<-g&&(s[f][1]=-g));for(l=0;l<a;l++)d[l]=0}o.uC(v<<1,a,s),v+=a,r-=a,a=Math.min(r,h)}e.Pc(1993)}}},e.GL=function(i,e,n,s){if(i.mw)s=90*i.ef.bf(),t.ta.dK(e,n,-s,s);else{var r=i.Wf,o=i.ef,h=i.Yf;i=o.Xr();var a=h.Xr(),u=o.bf(),c=90*u,l=h.bf();if(null==r||0==r.count()){if(s=i/a,r=(o.Up()-h.Up())*l,t.ta.dK(e,n,-c,c),0!=r||1!=s)for(l=0;l<n;l++)e[l].x*=s,e[l].x+=r,e[l].y*=s}else{o=Math.min(n,s.length),c=t.O.lg(o),h=360*l,u=l/u;for(var f=!0,p=0,d=0;0!=n;){for(l=0;l<o;l++)c[l]=e[l+d].x;for(l=e[0].x,t.ta.Jy(s,e,d,o),r.transform(s,o,i,a),t.ta.Iy(e,d,s,o),f&&(p=e[0].x-u*l,f=!1),l=0;l<o;l++){var v=e[d+l].x-c[l]*u-p;200<Math.abs(v)&&(e[d+l].x=0<v?e[d+l].x-h:e[d+l].x+h)}d+=o,n-=o,o=Math.min(n,s.length)}}}},e.dv=function(t,i){return t=t.gh(),isNaN(i)||t.Ju(i,0),t},e.UQ=function(i,n,s,r,o,h,a,u){for(var c=e.dv(r,o),l=c.R(),f=l/360,p=e.pE*f,d=i.ub(0),v=n.Wc(),y=v?l/n.Oe().R():0,g=!1,b=new t.Da(s.description),w=0,m=s.da();w<m;++w){var x=v,M=new t.Ta(s.description);if(M.addPath(s,w,!0),0!=a){var _=e.PD(!0,M,c.H-u,c.H,a);(g=g||_)&&(x=!1)}var k=-1;x&&(k=i.Ba(w));var A=M.ub(0),T=M.I(),j=0,P=A.read(0),I=0;_=3*r.Xd(0);var E=!1,z=new t.h;z.Rc();var C=new t.h;C.Rc();for(var S=!1,N=1;N<T;++N){var R=t.h.construct(A.eg(2*N),A.eg(2*N+1)),O=R.x,G=O+j,D=G-P;if(R.x=G,Math.abs(D)>p){if(x){var V=k+(N+1<T?N:0),L=d.read(2*(k+N-1));V=(d.read(2*V)-L)*y,Math.abs(D-V)>1*f&&(x=!1)}x||(G=O+(j-=t.lc.Cn(l,G-P)),++I,S=0!=j,R.x=G)}else E||t.ta.AG(C,z,R,_)&&(E=!0);S&&A.write(2*N,G),P=G,C.L(z),z.L(R)}0<I&&M.Pc(1993),x=M.Na(0),T=M.Na(T-1),M=t.h.tb(x,T)<_?e.uQ(M,r,o,h,E):e.vQ(i,w,M,r,o),b.add(M,!1)}return o=r.Xd(0),s=c.R()/180,e.Jt(b,c,.1*o,!1),b=b!=(o=t.ri.clip(b,c,o,s,h)),i=i.Ke(),a=0,0<(u=o.Ke())&&0>i?a=1:0>=u&&0<i&&(0==u?(u=NaN,2==n.Sb()?u=n.ml().Ke():1==n.Sb()&&(u=n.Oe().wF()),i>.99*u&&(a=-1)):a=-1),0!=a&&((n=new t.Da(o.description)).tp(c),(n=t.Xl.local().V(n,s,h)).add(o,!1),b=!0,o=n),b&&(o=t.Yl.local().V(o,r,!1,h)),o},e.vQ=function(i,n,s,r,o){var h=s.I(),a=s.Na(0),u=s.Na(h-1);o=(r=e.dv(r,o)).R(),a=t.lc.sign(u.x-a.x);var c=new t.l;s.xc(c);var l=r.gk();if(u=l-o,l+=o,0<=a){var f=Math.ceil((u-c.v)/o);for(f*=o;u>c.v+f;)f+=o;for(;u<c.C+f;)f-=o;var p=f;720<c.R()&&(l=u+360*Math.ceil(c.R()/360))}else{for(f=Math.ceil((l-c.C)/o),f*=o;l<c.C+f;)f-=o;for(;l>c.v+f;)f+=o;p=f,720<c.R()&&(u=l-360*Math.ceil(c.R()/360))}f=a*o;var d=t.l.construct(c.v,c.G,c.C,c.H);d.move(p,0);var v=new t.Dd;v.gg(p,0),s.Oc(v),(c=new t.Ta(s.description)).add(s,!1),p=s.Na(h-1),o=0;for(var y=c.Na(0).x,g=0;0<a?d.C<l:d.v>u;)1024<=g&&(g=0),d.move(f,0),v.Gb=f,s.Oc(v),y+=f,r.v<=y&&r.C>=y&&(o=c.I()-1),s.Cb(0,p),p=s.Na(h-1),c.Dr(s,0,0,h-1,!1);return s=new t.Da(c.description),h=0<i.Ir(n),s.add(c,!1),i=c.Na(0),u=c.Na(c.I()-1),n=s.da()-1,(0>a?h:!h)?(a=t.h.construct(u.x,r.H),s.Ci(a),a=t.h.construct(r.gk(),r.H),s.Ci(a),r=t.h.construct(i.x,r.H)):(a=t.h.construct(u.x,r.G),s.Ci(a),a=t.h.construct(r.gk(),r.G),s.Ci(a),r=t.h.construct(i.x,r.G)),s.Ci(r),s.xG(0,n,0),s.kO(o),s},e.uQ=function(i,n,s,r,o){var h=new t.Da(i.description);h.add(i,!1),h.DB(0,h.I()-1);var a=new t.l;h.xc(a);var u=(s=e.dv(n,s)).R(),c=Math.ceil((s.v-a.v)/u);for(c*=u;s.v>a.v+c;)c+=u;for(;s.v<a.C+c;)c-=u;if(0!=(c+=u)){a.move(c,0);var l=new t.Dd;l.gg(c,0),h.Oc(l)}if(s.v<=a.v&&s.C>a.C)return o&&(o=h.Ke(),n=(h=t.Yl.local().V(h,n,!0,r)).Ke(),(n=t.lc.sign(o)!=t.lc.sign(n))&&h.oJ()),h;for((i=new t.Da(i.description)).add(h,!1),o=o||a.R()>u-n.Xd(0);a.v<s.C;)a.move(u,0),(l=new t.Dd).gg(u,0),h.Oc(l),i.add(h,!1);return o&&(o=i.Ke(),i.Yo(1),n=(i=t.Yl.local().V(i,n,!0,r)).Ke(),(n=t.lc.sign(o)!=t.lc.sign(n))&&i.oJ()),i},e.PD=function(i,e,n,s,r){for(var o=e.ub(0),h=e.I(),a=!1,u=0;u<h;u++){var c=t.h.construct(o.eg(2*u),o.eg(2*u+1));if(1&r&&c.y>=n){a=!0;break}if(2&r&&c.y<=-n){a=!0;break}}if(!a)return!1;o=!1,i&&(o=e.Nn(0)),h=(i=new t.gd).Ib(e),a=i.Ob(h);var l=-1,f=!0,p=new t.h;p.Rc(),u=new t.Sa;for(var d=-1,v=i.Xa(a);-1!=v;v=i.U(v)){c=i.Na(v);var y=1&r&&90<=c.y?1:0;if(y|=2&r&&c.y<=-n?2:0,0<l&&l!=y){if(p.x!=c.x){p.x=c.x,i.Vi(i.Ma(v),u);var g=i.wj(a,v,u);i.mf(g,p)}if(o)for(d=-1!=d?i.U(d):i.Xa(a),g=i.Ma(v);d!=g;)d=i.pd(d,!1);d=-1}0<y&&(c.y=t.lc.Cn(s,c.y),i.mf(v,c),f||l==y||(c.x!=p.x?(i.Vi(v,u),g=i.wj(a,v,u),i.Cb(g,p.x,c.y),d=g):d=v)),l=y,p=c,f=!1}if(o){if(-1!=d)for(d=i.U(d);-1!=d;)d=i.pd(d,!1);n=i.Xa(a),i.fq(n,i.rj(a))||(i.Vi(n,u),i.wj(a,-1,u))}return i.Ne(h).copyTo(e),!0},e.Mz=function(n,s,r,o){var h=n;if(h.B()||r==i.DontClip)return h;var a=h.getType();if(33==a)return h=[(o=h).D()],e.yG(h,1,s,r),h[0].isNaN()?o.Oa():o.Cb(h[0]),n;var u=(n=s.sc()).bf(),c=90*u,l=180*u,f=360*u,p=s.zi(),d=.5*u,v=new t.l;h.A(v);var y=s.Vr(),g=s.PQ(),b=197==y.getType();if(s=new t.l,y.A(s),r==i.PannableFold&&(r=n.Oe().R(),s.v=p-.5*r,s.C=s.v+r),v.G<-c||v.H>c){if((new t.l).K(v.v-u,-c,v.C+u,c),(h=t.ri.Nu(h,s,n,NaN,0,o)).B())return h;h.A(v)}if(g&&(s.H<v.G||s.G>v.H))return h.Ia();if(v.R()>f&&(h=e.Hp(h,p-l,f,n,!0,0,!0,o)).A(v),0!=(c=e.eO(v.v,v.C,s.v,s.C,f))&&v.move(c,0),v.C>s.C||v.v<s.v){if(v.C>s.C)for(;v.v>=s.C;)v.move(-f,0),c-=f;for(;v.v<s.C-f;)v.move(f,0),c+=f}if(r=t.ta.Hu(n,y),0!=c&&((u=new t.Dd).gg(c,0),h.Oc(u)),g){if(b&&s.contains(v))return h;for(g=[null,null],c=0;2>c;c++){if(b?u=t.aa.Hc(a)?t.ri.clip(h,s,r,d,o):t.ri.clip(h,s,r,0,o):(u=t.Xj.local().V(h,y,n,o))==y&&(u=t.aa.jg(u)),s.v<=v.v&&s.C>=v.C||s.v>=v.v&&s.C<=v.C)return u;g[c]=u,0==c&&(v.move(-f,0),(u=new t.Dd).gg(-f,0),h.Oc(u))}if(550==a)g[0].Fd(g[1],0,-1);else if(t.aa.Hc(a))g[0].add(g[1],!1);else{if(33!=a)throw t.i.fa("intersect_with_GCS_horizon: unexpected geometry type");g[0].B()&&(g[0]=g[1])}return g[0]}if(s.H<v.G||s.G>v.H)return h;for(a=0;!h.B()&&v.C>s.v;)0!=a&&((u=new t.Dd).gg(a,0),h.Oc(u)),t.dj.local().V(4,h,y,n,o)||y==(h=t.kp.local().V(h,y,n,o))&&(h=t.aa.jg(h)),0!=a&&((d=new t.Dd).gg(-a,0),h.Oc(d)),a-=f,v.move(-f,0);return h},e.yG=function(n,s,r,o){if(0!=s&&o!=i.DontClip)if(o==i.PannableFold){o=r.HR();for(var h=s,a=0;a<s;a++)(n[a].y>o.H||n[a].y<o.G)&&(n[a].Rc(),h--);0!=h&&e.av(n,s,o.v,o.R())}else{var u=90*(o=r.bf()),c=180*o;for(o*=360,h=s,a=0;a<s;a++)(n[a].y>u||n[a].y<-u)&&(n[a].Rc(),h--);if(0!=h){(h=new t.l).Zw(n,s),u=r.Vr();var l=r.hv();a=197==u.getType();var f=new t.l;if(u.A(f),!l||!(f.H<h.G||f.G>h.H))if(l)if(e.av(n,s,f.gk()-c,o),h=s,a)for(a=0;a<s;a++)f.contains(n[a])||(n[a].Rc(),h--);else for(r=t.ta.Hu(r.sc(),u),a=0;a<s;a++)(c=0!=t.hd.Yd(u,n[a],r))||(n[a].Rc(),h--);else for(e.av(n,s,-c,o),h=s,r=t.ta.Hu(r.sc(),u),a=0;a<s;a++)(c=n[a]).isNaN()&&h--,l=e.tE(c.x,f.v,f.C,o),c.x+=l,(c=0!=t.hd.Yd(u,c,r))&&(n[a].Rc(),h--)}}},e.Hp=function(i,e,n,s,r,o,h,a){var u=i.getType(),c=e+n;if(33===u){var l=(s=r?i:i.Of()).Lg();return(l<e||l>=c||h&&l==c)&&(l+=Math.ceil((e-l)/n)*n,l=t.O.Rk(l,e,c),s.cC(l)),s}if(i.B())return i;if(l=new t.l,i.A(l),l.B())return i;var f=new t.Nc;l.cn(f);var p=new t.Nc;if(p.K(e,c),p.contains(f))return i;if((c=new t.l).K(l),550===u){for(a=(s=r?i:i.Of()).ub(0),u=2*s.I(),c=!1,e=0;e<u;e+=2)((l=a.read(e))<p.oa||l>=p.va||h&&l==p.va)&&(c=!0,l+=Math.ceil((p.oa-l)/n)*n,l=p.It(l),a.write(e,l));return c&&s.Pc(1993),s}if(197==u)return n=r?i:i.Of(),l.Ea(c),n.Xo(l),n;var d=.1*Math.max(l.ca(),l.R());for(c.W(0,d),h=i,p=s.Xd(0),i=t.Gh.local(),r=new t.Dd;;){var v=Math.floor((f.oa-e)/n),y=Math.ceil((f.va-e)/n);if(!(3<y-v))break;v=Math.floor(.5*(y+v)),c.v=l.v-d,c.C=e+n*v;var g=t.ri.clip(h,c,p,o,a);c.v=c.C,c.C=l.C+d;var b=t.ri.clip(h,c,p,o,a);r.gg((v-y)*n,0),b.Oc(r),1736==u?h=i.V(g,b,s,null):(h=g).add(b,!1),h.A(l),l.cn(f)}for(c.v=e,c.C=e+n,(e=new t.l).K(c),e.W(p,0),0!=(e=Math.floor((l.v-c.v)/n)*n)?(c.move(e,0),r.gg(-e,0)):r.RB(),e=1607==u?new t.Ta(h.description):new t.Da(h.description),o=new t.l,f=new t.l;l.C>c.v;)(d=t.ri.clip(h,c,p,0,a)).A(f),(1607==u?!d.B()&&(f.R()>p||f.ca()>p):!d.B()&&(1736!=u||f.R()>p))&&(d.Oc(r),d.A(f),e.A(o),o.W(p,p),o.isIntersecting(f)&&1736==u?e=i.V(e,d,s,null):e.add(d,!1)),c.move(n,0),r.shift(-n,0);return e},e.av=function(i,e,n,s){for(var r=n+s,o=0;o<e;o++){var h=i[o].x;n<=h&&h<r||!(h<n||h>r||h==r)||(h+=Math.ceil((n-h)/s)*s,h=t.O.Rk(h,n,r),i[o].x=h)}},e.Fn=function(i,n,s,r,o,h){if(!n.Wc())throw t.i.fa("fold_into_360_degree_range");if(i.B())return i;if(2==n.Sb()){s=n.pv();var a=n.ov()-s}else{var u=n.bf();a=360*u,s-=180*u}return e.Hp(i,s,a,n,r,o,!0,h)},e.qF=function(t,i,n,s){if(2==n.Sb())s=n.pv(),n=n.ov()-s;else{var r=n.bf();n=360*r,s-=180*r}e.av(t,i,s,n)},e.lj=function(i,e){var n=e.Oe();if(33==i.getType()){var s=i.ih();return n.G<=s&&s<=n.H?i:i.Ia()}s=new t.l,i.A(s);var r=new t.l;return r.K(n),r.v=s.v,r.C=s.C,r.W(.01*r.ca(),0),n=t.ta.uy(e,s),r.contains(s)?i:t.ri.clip(i,r,n,0,null)},e.ir=function(t,i,e){return t>i.C&&t-i.C<e?i.C:t<i.v&&i.v-t<e?i.v:t},e.FX=function(t,i,n,s){s.x=e.ir(t.x,i,n),s.y=t.y},e.EX=function(t,i,n,s){for(var r=0;r<i;r++)t[r].y<n.G||t[r].y>n.H?t[r].Rc():t[r].x=e.ir(t[r].x,n,s)},e.Jt=function(i,n,s,r){if(!i.B()){var o=i.getType();if(!r||1736!=o)if(t.aa.xj(o)){r=i.ub(0),o=0;for(var h=i.I();o<h;o++){var a=r.read(2*o),u=e.ir(a,n,s);u!=a&&r.write(2*o,u)}i.Pc(1993)}else if(197==o)r=new t.l,i.A(r),r.v=e.ir(r.v,n,s),r.C=e.ir(r.C,n,s),i.Xo(r);else{if(33!=o)throw t.i.fa("internal error");i.cC(e.ir(i.Lg(),n,s))}}},e.uS=function(i,n,s,r){var o=new t.gd,h=o.Ib(i);return i=t.ta.Hu(n,i),e.ks(o,h,n,i,s,!0,r),o.Ne(h)},e.ks=function(i,s,r,o,h,a,u){if(!r.Wc())throw t.i.N("invalid call");var c=r.Oe(),l=r.sc(),f=l.eh().getDatum().getSpheroid();l=l.Hd().ai;var p=f.getFlattening();f=f.getAxis(),p*=2-p;var d=new t.Nc;c.cn(d);var v=null,y=[[0,0],[0,0]];if(2==r.Sb()?(v=r.eh(),a?(y[0][0]=e.Zm(u,d),y[0][1]=c.Jp(),t.ej.projToGeog(v,1,y),c=y[0][0]*l):(y[0][0]=c.gk(),y[0][1]=u,t.ej.projToGeog(v,1,y),c=y[0][1]*l)):c=u*l,!a&&0!=c&&h!=n.GreatElliptic)throw t.i.fa("invalid argument");var g=new t.ga,b=[0],w=new t.h,m=new t.h,x=new t.h,M=[null,null],_=new t.h,k=new t.h,A=new t.h,T=new t.h;for(s=i.Ob(s);-1!=s;s=i.Rb(s)){var j=i.Xa(s);i.D(j,_);for(var P=!1,I=j=i.U(j);-1!=I;I=i.U(I)){if(I==j){if(P)break;P=!0}if(i.D(I,k),a&&(o<u-_.x&&k.x-u>o||o<u-k.x&&_.x-u>o)||!a&&(0!=u||o<-_.y&&k.y>o||o<-k.y&&_.y>o))do{if(!(Math.abs(_.x-k.x)>=.5*d.R())){if(2==r.Sb()?(y[0][0]=e.Zm(_.x,d),y[0][1]=_.y,y[1][0]=e.Zm(k.x,d),y[1][1]=k.y,t.ej.projToGeogCenter(v,2,y,0),A.x=y[0][0]*l,A.y=y[0][1]*l,T.y=y[1][1]*l):(A.x=_.x*l,A.y=_.y*l,T.y=k.y*l),T.x=2*(k.x-_.x)*Math.PI/d.R()+A.x,a){if(m.x=c,m.y=e.Nz(f,p,A,T,c,h),isNaN(m.y))break;M[0]=m;var E=1}else if(h==n.GreatElliptic){var z=[0,0];if(0==(E=t.Ox.Oz(p,A,T,c,z)))break;m.x=z[0],m.y=c,M[0]=m,2==E&&(x.x=z[1],x.y=c,M[1]=x)}else{if(m.x=e.Lz(f,p,A,T,h),isNaN(m.x))break;m.y=0,M[0]=m,E=1}var C=-1;for(z=0;z<E;z++){t.kb.wd(f,p,A.x,A.y,T.x,T.y,g,null,null,h);var S=g.u;t.kb.wd(f,p,A.x,A.y,M[z].x,M[z].y,g,null,null,h);var N=g.u;if(2==r.Sb()?(y[0][0]=M[z].x/l,y[0][1]=M[z].y/l,t.ej.geogToProj(v,1,y),a?(w.y=y[0][1],w.x=u):(w.x=e.os(y[0][0],_.x,k.x,d),w.y=u)):a?(w.x=u,w.y=M[z].y/l):(w.x=e.os(M[z].x/l,_.x,k.x,d),w.y=u),b[0]=0<S?t.O.Rk(N/S,0,1):.5,0==b[0]||1==b[0])break;C>b[0]||(C=i.Ma(I),i.Ul(C,b,1),i.Cb(i.U(C),w.x,w.y),C=b[0])}}}while(0);_.L(k)}}},e.Zm=function(t,i){var e=i.va-i.oa;return i.It(t-Math.floor((t-i.oa)/e)*e)},e.os=function(i,e,n,s){var r=new t.Nc;for(r.K(e,n),n=s.R(),i=Math.floor((i-e)/n)*n+i,r=r.sf();Math.abs(i-r)>Math.abs(i+n-r);)i+=n;return i},e.Sn=function(i,e,n){return i=t.qr.Cp(i),e=t.qr.mx(i,t.qr.Cp(e)),0==(n=t.qr.mx(i,t.qr.Cp(n)))||0<e&&0<n&&n<=e||0>e&&0>n&&n>=e},e.Nz=function(i,s,r,o,h,a){if(a==n.GreatElliptic)return t.Ox.SS(s,r,o,h);if(Math.abs(r.x-o.x)>=Math.PI||!e.Sn(r.x,o.x,h))return NaN;if(r.x>o.x)var u=o;else u=r,r=o;o=new t.ga;var c=new t.ga,l=new t.ga;t.kb.wd(i,s,u.x,u.y,r.x,r.y,c,o,null,a);var f=c.u,p=0,d=1,v=new t.h;for(v.L(u);f*(d-p)>1e-12*i;){var y=.5*(p+d);if(t.kb.oj(i,s,u.x,u.y,f*y,o.u,c,l,a),v.x=c.u,v.y=l.u,v.x==h)break;if(e.Sn(u.x,v.x,h))d=y;else{if(!e.Sn(r.x,v.x,h))return NaN;p=y}}return v.y},e.Lz=function(i,e,s,r,o){if(o==n.GreatElliptic)return i=[0,0],t.Ox.Oz(e,s,r,0,i),i[0];if(s.y>r.y)var h=r;else h=s,s=r;if((r=new t.Nc).K(h.y,s.y),!r.contains(0)||Math.abs(h.x-s.x)>=Math.PI)return NaN;if(h.x==s.x)return h.x;var a=new t.ga,u=new t.ga,c=new t.ga;t.kb.wd(i,e,h.x,h.y,s.x,s.y,u,a,null,o);var l=u.u,f=0,p=1,d=new t.h;for(d.L(h);l*(p-f)>1e-12*i;){var v=.5*(f+p);if(t.kb.oj(i,e,h.x,h.y,l*v,a.u,u,c,o),d.x=u.u,d.y=c.u,r.K(h.y,d.y),0==d.y)break;if(r.contains(0))p=v;else{if(r.K(s.y,d.y),!r.contains(0))return NaN;f=v}}return d.x},e.WI=function(i,e,n,s){if(!i.ef.Wc())return!1;var r=new t.de(e.description);if(r.Fd(e,0,-1),s=t.Hx.local().V(r,i,s),r=e.I(),n.Oa(),r!=s.I())return!1;var o=new t.l;e.A(o);var h=new t.l;if(s.A(h),o=o.R(),h=h.R(),0!=o&&0!=h){if(h/=o,i=i.Yf.gh().R()/i.ef.gh().R(),1e-10<Math.abs(h/i-1))return!1}else if(0!=o||0!=h)return!1;for(n.add(e,!1),e=new t.h,i=0;i<r;i++)s.D(i,e),n.Cb(i,e);return!0},e.qN=function(t,i){return(t%=360*i)>=180*i&&(t-=360*i),t},e.UI=function(n,s,r,o){if(r==i.Clip){var h=s.ml();197==h.getType()?(r=new t.l,h.A(r),h=t.ta.uy(s,r),n=t.ri.clip(n,r,h,5e4*s.pm(),o)):t.dj.local().V(1,h,n,s,o)||(n=t.Xj.local().V(n,h,s,o))==h&&(n=t.Vk.jg(n))}else s.Wc()&&(o=new t.l,n.xc(o),s.Oe().contains(o)||(e.Jt(n,s.Oe(),s.Xd(0),!0),r==i.PannableFold&&(n=e.lj(n,s)),n=e.Fn(n,s,0,!0,1e5*s.pm(),null)));return n},e.XD=function(i,e,n){var s=e.Wr();if(null==s)return i;var r=(e=e.sc()).Oe().R(),o=new t.l;i.xc(o);var h=new t.Nc;o.cn(h),o=s.Ga(),s=null;for(var a=new t.Dd;o.$a();)for(;o.Ha();){var u=o.ha(),c=u.Tg(0,0),l=new t.Nc;for(l.K(c.oa,c.va),c=0;l.va>h.oa;)l.move(-r),--c;for(;l.oa<=h.va;){if(l.isIntersecting(h)){null==s&&(s=new t.Ta);var f=t.yb.cP(u.ac(),u.wc());0!=c&&(a.gg(c*r,0),f.Oc(a)),s.oc(f,!0)}l.move(r),++c}}return null!=s?(e=t.ta.gO(e,s),e=t.ta.Er(e),t.$t.lP(i,s,e,n)):i},e.eO=function(t,i,n,s,r){return t>=n&&i<=s?0:e.tE(.5*(i+t),n,s,r)},e.tE=function(i,e,n,s){return t.lc.round((.5*(n+e)-i)/s)*s},e.VQ=function(i,n,s,r,o,h,a,u){var c=e.dv(r,o),l=c.R(),f=l/360,p=e.pE*f,d=i.ub(0),v=n.Wc(),y=v?l/n.Oe().R():0;n=i.Ia();for(var g=0,b=s.da();g<b;++g){var w=v,m=new t.Ta(s.description);m.addPath(s,g,!0);var x=s.dc(g);0!=a&&(x=e.PD(x,m,c.H-u,c.H,a))&&(w=!1);var M=-1;x=m.I();var _=!1;w&&(M=i.Ba(g),_=i.dc(g));var k=m.ub(0),A=0,T=k.read(0),j=0,P=3*r.Xd(0),I=!1,E=new t.h;E.Rc();var z=new t.h;z.Rc();for(var C=!1,S=1;S<x;++S){var N=t.h.construct(k.eg(2*S),k.eg(2*S+1)),R=N.x,O=R+A,G=O-T;if(N.x=O,Math.abs(G)>p){if(w){var D=M+S-1,V=M;(!_||S+1<x)&&(V+=S),D=d.read(2*D),V=(d.read(2*V)-D)*y,Math.abs(G-V)>1*f&&(v=!1)}w||(O=R+(A-=t.lc.Cn(l,O-T)),++j,C=0!=A,N.x=O)}else I||t.ta.AG(E,z,N,P)&&(I=!0);C&&k.write(2*S,O),T=O,E.L(z),z.L(N)}0!=j&&m.Pc(1993),w=m.Na(0),x=m.Na(x-1),t.h.tb(w,x),m=e.wQ(m,r,isNaN(o)?0:o,h),n.add(m,!1)}return i=r.Xd(0),s=c.R()/180,e.Jt(n,c,.1*i,!1),t.ri.clip(n,c,i,s,h)},e.wQ=function(t,i,n,s){return e.Fn(t,i,n,!0,0,s)},e.OS=function(i,e,n,s){var r=i.getType();if(1736==r)for(e=null!=e?e.Xd(0):0,r=0;r<s;r++)1!=t.hd.Yd(i,n[r],e)&&n[r].Rc();else{if(197!=r)throw t.i.N();for(r=0;r<s;r++)i.dP(n[r])||n[r].Rc()}},e.$k=function(i,e,n,s){if(32>n)for(var r=new t.Sa,o=0;o<n;o++)r.Cb(e[o]),i.$k(r,s).D(e[o]);else{var h=new t.de;for(h.re(3),h.HD(e,n),r=h.ub(3),o=0;o<n;o++)r.write(o,o);for(o=i.$k(h,s),i=o.ub(0),r=o.ub(3),s=t.h.construct(NaN,NaN),h=0;h<n;h++)e[h]=s;for(n=o.I(),o=0;o<n;o++)s=r.read(o),i.tc(2*o,e[s])}},e.Zk=function(i,e,n,s){if(32>n)for(var r=new t.Sa,o=0;o<n;o++)r.Cb(e[o]),i.Zk(r,s).D(e[o]);else{var h=new t.de;for(h.re(3),h.HD(e,n),r=h.ub(3),o=0;o<n;o++)r.write(o,o);for(o=i.Zk(h,s),i=o.ub(0),r=o.ub(3),s=t.h.construct(NaN,NaN),h=0;h<n;h++)e[h]=s;for(n=o.I(),o=0;o<n;o++)s=r.read(o),i.tc(2*o,e[s])}},e.pE=210,e}()}(W||(W={})),function(t){var i;(i=t.UL||(t.UL={}))[i.rightSide=1]="rightSide";var e=function(){function i(i,e,n){this.Bs=new t.h,void 0===i?this.Io=-1:(this.Bs.L(i),this.Io=e,this.Ka=n,this.nw=0)}return i.prototype.WJ=function(t){this.nw=t?1|this.nw:-2&this.nw},i.prototype.B=function(){return 0>this.Io},i.prototype.fz=function(){if(this.B())throw t.i.fa("invalid call");return new t.Sa(this.Bs.x,this.Bs.y)},i.prototype.Ua=function(){if(this.B())throw t.i.fa("invalid call");return this.Io},i.prototype.hz=function(){if(this.B())throw t.i.fa("invalid call");return this.Ka},i.prototype.Sz=function(){return!!(1&this.nw)},i.prototype.ey=function(t,i,e,n){this.Bs.x=t,this.Bs.y=i,this.Io=e,this.Ka=n},i}();t.$l=e}(W||(W={})),function(t){var i=function(){function i(){}return i.prototype.Uo=function(i,e){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,i.xc(this.Ek),this.Ek.W(e,e),this.Ek.isIntersecting(this.Fb.Ca)){var n=i.getType();(this.vs=t.aa.yd(n))?(this.TH=i.ac(),this.SH=i.wc(),this.qa=e):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},i.prototype.Xi=function(t,i){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(t),this.Ek.W(i,i),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},i.prototype.next=function(){if(0==this.th.size)return-1;this.tk=this.Qs;var i=null,n=null,s=null,r=null;this.vs&&(i=new t.h,n=new t.h,s=new t.l);for(var o=!1;!o;){for(;-1!=this.tk;){var h=this.Fb.bz(this.Fb.fv(this.tk));if(h.isIntersecting(this.Ek)){if(!this.vs){o=!0;break}if(i.L(this.TH),n.L(this.SH),s.K(h),s.W(this.qa,this.qa),0<s.zy(i,n)){o=!0;break}}this.tk=this.Fb.nv(this.tk)}if(-1==this.tk){h=this.th.Fc();var a=this.Ii[this.Ii.length-1];for(null==r&&((r=[])[0]=new t.l,r[1]=new t.l,r[2]=new t.l,r[3]=new t.l),e.EJ(a,r),this.th.If(),--this.Ii.length,a=0;4>a;a++){var u=this.Fb.Lp(h,a);if(-1!=u&&0<this.Fb.WR(u)&&r[a].isIntersecting(this.Ek))if(this.vs){if(i.L(this.TH),n.L(this.SH),s.K(r[a]),s.W(this.qa,this.qa),0<s.zy(i,n)){var c=new t.l;c.K(r[a]),this.th.add(u),this.Ii.push(c)}}else(c=new t.l).K(r[a]),this.th.add(u),this.Ii.push(c)}if(0==this.th.size)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},i.bP=function(e,n,s){var r=new i;return r.Fb=e,r.Ek=new t.l,r.th=new t.ia(0),r.Ii=[],r.Uo(n,s),r},i.aP=function(e,n,s){var r=new i;return r.Fb=e,r.Ek=new t.l,r.th=new t.ia(0),r.Ii=[],r.Xi(n,s),r},i.$O=function(e){var n=new i;return n.Fb=e,n.Ek=new t.l,n.th=new t.ia(0),n.Ii=[],n},i}();t.GY=i;var e=function(){function e(i,e){this.jf=new t.$c(11),this.Zh=new t.$c(5),this.ws=[],this.gw=new t.ia(0),this.Ca=new t.l,this.Nk(i,e)}return e.prototype.reset=function(t,i){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(t,i)},e.prototype.vj=function(t,i){return this.zv(t,i,0,this.Ca,this.kf,!1,-1)},e.prototype.Jz=function(t,i,e){e=-1==e?this.kf:this.WF(e);var n=this.ca(e),s=this.oR(e);return this.zv(t,i,n,s,e,!1,-1)},e.prototype.ja=function(t){return this.jR(t)},e.prototype.GF=function(t){return this.bz(this.fv(t))},e.prototype.ca=function(t){return this.jv(t)},e.prototype.oR=function(i){var e=new t.l;e.K(this.Ca);var n=this.jv(i);i=this.QF(i);for(var s=0;s<2*n;s+=2){var r=t.O.truncate(3&i>>s);0==r?(e.v=.5*(e.v+e.C),e.G=.5*(e.G+e.H)):1==r?(e.C=.5*(e.v+e.C),e.G=.5*(e.G+e.H)):(2==r?e.C=.5*(e.v+e.C):e.v=.5*(e.v+e.C),e.H=.5*(e.G+e.H))}return e},e.prototype.WR=function(t){return this.Az(t)},e.prototype.vR=function(t,e){return i.bP(this,t,e)},e.prototype.MF=function(t,e){return i.aP(this,t,e)},e.prototype.getIterator=function(){return i.$O(this)},e.prototype.Nk=function(i,e){if(0>e||32<2*e)throw t.i.N("invalid height");this.BT=e,this.Ca.K(i),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},e.prototype.zv=function(i,n,s,r,o,h,a){if(!r.contains(n))return 0==s?-1:this.zv(i,n,0,this.Ca,this.kf,h,a);if(!h)for(var u=o;-1!=u;u=this.IR(u))this.jx(u,this.Az(u)+1);(u=new t.l).K(r),r=o;var c=[];for(c[0]=new t.l,c[1]=new t.l,c[2]=new t.l,c[3]=new t.l;s<this.BT&&this.iO(r);s++){e.EJ(u,c);for(var l=!1,f=0;4>f;f++)if(c[f].contains(n)){l=!0;var p=this.Lp(r,f);-1==p&&(p=this.rP(r,f)),this.jx(p,this.Az(p)+1),r=p,u.K(c[f]);break}if(!l)break}return this.sS(i,n,s,u,r,h,o,a)},e.prototype.sS=function(t,i,e,n,s,r,o,h){var a=this.NF(s);if(r){if(s==o)return h;this.SP(h),r=h}else r=this.tP(),this.NB(r,t),this.KW(this.fv(r),i);return this.mX(r,s),-1!=a?(this.hx(r,a),this.bx(a,r)):this.GJ(s,r),this.SB(s,r),this.ax(s,this.lv(s)+1),this.hO(s)&&this.MQ(e,n,s),r},e.prototype.SP=function(t){var i=this.WF(t),e=this.NF(i),n=this.OR(t),s=this.nv(t);this.Ur(i)==t?(-1!=s?this.hx(s,-1):this.SB(i,-1),this.GJ(i,s)):e==t?(this.bx(n,-1),this.SB(i,n)):(this.hx(s,n),this.bx(n,s)),this.hx(t,-1),this.bx(t,-1),this.ax(i,this.lv(i)-1)},e.EJ=function(t,i){var e=.5*(t.v+t.C),n=.5*(t.G+t.H);i[0].K(e,n,t.C,t.H),i[1].K(t.v,n,e,t.H),i[2].K(t.v,t.G,e,n),i[3].K(e,t.G,t.C,n)},e.prototype.hO=function(t){return 8==this.lv(t)&&!this.gG(t)},e.prototype.MQ=function(t,i,e){var n=this.Ur(e);do{var s=this.fv(n),r=this.Zh.T(n,0);s=this.bz(s),this.zv(r,s,t,i,e,!0,n),n=r=this.nv(n)}while(-1!=n)},e.prototype.iO=function(t){return 8<=this.lv(t)||this.gG(t)},e.prototype.gG=function(t){return-1!=this.Lp(t,0)||-1!=this.Lp(t,1)||-1!=this.Lp(t,2)||-1!=this.Lp(t,3)},e.prototype.rP=function(t,i){var e=this.jf.Ce();return this.OW(t,i,e),this.jx(e,0),this.ax(e,0),this.Pk(e,t),this.KJ(e,this.jv(t)+1),this.NJ(e,i<<2*this.jv(t)|this.QF(t)),e},e.prototype.tP=function(){var i=this.Zh.Ce();if(0<this.gw.size){var e=this.gw.Fc();this.gw.If()}else e=this.ws.length,this.ws.push(new t.l);return this.LW(i,e),i},e.prototype.Lp=function(t,i){return this.jf.T(t,i)},e.prototype.OW=function(t,i,e){this.jf.S(t,i,e)},e.prototype.Ur=function(t){return this.jf.T(t,4)},e.prototype.GJ=function(t,i){this.jf.S(t,4,i)},e.prototype.NF=function(t){return this.jf.T(t,5)},e.prototype.SB=function(t,i){this.jf.S(t,5,i)},e.prototype.QF=function(t){return this.jf.T(t,6)},e.prototype.NJ=function(t,i){this.jf.S(t,6,i)},e.prototype.lv=function(t){return this.jf.T(t,7)},e.prototype.Az=function(t){return this.jf.T(t,8)},e.prototype.ax=function(t,i){this.jf.S(t,7,i)},e.prototype.jx=function(t,i){this.jf.S(t,8,i)},e.prototype.IR=function(t){return this.jf.T(t,9)},e.prototype.Pk=function(t,i){this.jf.S(t,9,i)},e.prototype.jv=function(t){return this.jf.T(t,10)},e.prototype.KJ=function(t,i){this.jf.S(t,10,i)},e.prototype.jR=function(t){return this.Zh.T(t,0)},e.prototype.NB=function(t,i){this.Zh.S(t,0,i)},e.prototype.OR=function(t){return this.Zh.T(t,1)},e.prototype.nv=function(t){return this.Zh.T(t,2)},e.prototype.hx=function(t,i){this.Zh.S(t,1,i)},e.prototype.bx=function(t,i){this.Zh.S(t,2,i)},e.prototype.WF=function(t){return this.Zh.T(t,3)},e.prototype.mX=function(t,i){this.Zh.S(t,3,i)},e.prototype.fv=function(t){return this.Zh.T(t,4)},e.prototype.LW=function(t,i){this.Zh.S(t,4,i)},e.prototype.bz=function(t){return this.ws[t]},e.prototype.KW=function(t,i){this.ws[t].K(i)},e}();t.du=e}(W||(W={})),function(t){var i;(i=t.aL||(t.aL={}))[i.Outside=0]="Outside",i[i.Inside=1]="Inside",i[i.Border=2]="Border";var e=function(){function t(t,i){this.PT=i,this.Vh=t}return t.prototype.setColor=function(t,i){this.iH!=i&&t.flush(),this.iH=i},t.prototype.gF=function(t,i){for(var e=0;e<i;)for(var n=t[e++],s=t[e++],r=t[e++]*this.PT;n<s;n++)this.Vh[r+(n>>4)]|=this.iH<<2*(15&n)},t}();t.HY=e;var n=function(){function i(t,i,e){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(t,i,e)}return i.create=function(e,n,s){if(!i.zE(e))throw t.i.N();return i.wP(e,n,s)},i.pW=function(i){switch(i){case 0:i=1024;break;case 1:i=16384;break;case 2:i=262144;break;default:throw t.i.fa("Internal Error")}return i},i.zE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType())},i.prototype.rQ=function(i,e){e=e.Ga();for(var n=new t.h,s=new t.h;e.$a();)for(;e.Ha();){var r=e.ha();if(322!=r.getType())throw t.i.fa("Internal Error");i.Eh(r.ac(),n),i.Eh(r.wc(),s),this.Ri.jy(n.x,n.y,s.x,s.y)}this.Ri.iJ(t.Px.Cx)},i.prototype.sQ=function(){throw t.i.fa("Internal Error")},i.prototype.Ry=function(i,e){for(var n=1;4>n;n++)i.jy(e[n-1].x,e[n-1].y,e[n].x,e[n].y);i.jy(e[3].x,e[3].y,e[0].x,e[0].y),this.Ri.iJ(t.Px.Cx)},i.prototype.rK=function(i,e,n){for(var s=[null,null,null,null],r=0;r<s.length;r++)s[r]=new t.h;e=e.Ga(),n=this.Jk.dY(n)+1.5,r=new t.h;for(var o=new t.h,h=new t.h,a=new t.h,u=new t.h,c=new t.l,l=new t.h;e.$a();){var f=!1,p=!0;for(l.ma(0,0);e.Ha();){var d=e.ha();if(a.x=d.sa,a.y=d.na,u.x=d.pa,u.y=d.la,c.Oa(),c.Zb(a.x,a.y),c.Lk(u.x,u.y),this.vl.HG(c)){this.Jk.Eh(u,u),p?(this.Jk.Eh(a,a),l.L(a),p=!1):a.L(l),r.uc(u,a);var v=.5>(d=r.length());0==d?r.ma(1,0):(v||l.L(u),r.scale(n/d),o.ma(-r.y,r.x),h.ma(r.y,-r.x),a.sub(r),u.add(r),s[0].add(a,o),s[1].add(a,h),s[2].add(u,h),s[3].add(u,o),v?f=!0:this.Ry(i,s))}else f&&(this.Ry(i,s),f=!1),p=!0}f&&this.Ry(i,s)}},i.prototype.sC=function(i){return t.O.truncate(i*this.qH+this.aI)},i.prototype.tC=function(i){return t.O.truncate(i*this.Es+this.cI)},i.wP=function(t,e,n){return new i(t,e,n)},i.prototype.Fz=function(i,n,s){this.Gf=Math.max(t.O.truncate(2*Math.sqrt(s)+.5),64),this.Um=t.O.truncate((2*this.Gf+31)/32),this.vl=new t.l,this.Ik=n,s=0;for(var r=this.Gf,o=this.Um;8<=r;)s+=r*o,r=t.O.truncate(r/2),o=t.O.truncate((2*r+31)/32);this.Vh=t.O.lg(s,0),this.Ri=new t.Px,s=new e(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,s),i.A(this.vl),this.vl.W(n,n),r=new t.l;var h=n*(o=t.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(n*=o.ca(),r.K(this.vl.sf(),Math.max(h,this.vl.R()),Math.max(n,this.vl.ca())),this.SA=this.Ik,this.Jk=new t.Dd,this.Jk.pS(r,o),new t.Dd,i.getType()){case 550:s.setColor(this.Ri,2),this.sQ();break;case 1607:s.setColor(this.Ri,2),this.rK(this.Ri,i,this.SA);break;case 1736:s.setColor(this.Ri,1),this.rQ(this.Jk,i),s.setColor(this.Ri,2),this.rK(this.Ri,i,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},i.prototype.XN=function(){this.Ri.flush();for(var i=0,e=this.Gf*this.Um,n=this.Gf,s=t.O.truncate(this.Gf/2),r=this.Um,o=t.O.truncate((2*s+31)/32);8<n;){for(n=0;n<s;n++)for(var h=2*n,a=2*n+1,u=0;u<s;u++){var c=2*u,l=2*u+1,f=c>>4;c=2*(15&c);var p=l>>4;l=2*(15&l);var d=this.Vh[i+r*h+f]>>c&3;d|=this.Vh[i+r*h+p]>>l&3,d|=this.Vh[i+r*a+f]>>c&3,d|=this.Vh[i+r*a+p]>>l&3,this.Vh[e+o*n+(u>>4)]|=d<<2*(15&u)}n=s,r=o,i=e,s=t.O.truncate(n/2),o=t.O.truncate((2*s+31)/32),e=i+r*n}},i.prototype.So=function(t,i){return this.vl.contains(t,i)?(t=this.sC(t),i=this.tC(i),0>t||t>=this.Gf||0>i||i>=this.Gf||0==(i=this.Vh[this.Um*i+(t>>4)]>>2*(15&t)&3)?0:1==i?1:2):0},i.prototype.Ro=function(i){if(!i.Ea(this.vl))return 0;var e=this.sC(i.v),n=this.sC(i.C),s=this.tC(i.G);if(i=this.tC(i.H),0>e&&(e=0),0>s&&(s=0),n>=this.Gf&&(n=this.Gf-1),i>=this.Gf&&(i=this.Gf-1),e>n||s>i)return 0;for(var r=Math.max(n-e,1)*Math.max(i-s,1),o=0,h=this.Um,a=this.Gf,u=0;;){if(32>r||16>a){for(r=s;r<=i;r++)for(var c=e;c<=n;c++)if(1<(u=this.Vh[o+h*r+(c>>4)]>>2*(15&c)&3))return 2;if(0==u)return 0;if(1==u)return 1}o+=h*a,a=t.O.truncate(a/2),h=t.O.truncate((2*a+31)/32),e=t.O.truncate(e/2),s=t.O.truncate(s/2),n=t.O.truncate(n/2),i=t.O.truncate(i/2),r=Math.max(n-e,1)*Math.max(i-s,1)}},i.prototype.RR=function(){return this.Gf*this.Um},i}();t.Nx=n}(W||(W={})),function(t){var i;(i=t.VL||(t.VL={}))[i.contains=1]="contains",i[i.within=2]="within",i[i.equals=3]="equals",i[i.disjoint=4]="disjoint",i[i.touches=8]="touches",i[i.crosses=16]="crosses",i[i.overlaps=32]="overlaps",i[i.unknown=0]="unknown",i[i.intersects=1073741824]="intersects";var e=function(){function t(){}return t.construct=function(i,e,n,s,r,o,h,a){var u=new t;return u.pw=i,u.Mm=e,u.Kj=n,u.Si=s,u.BH=r,u.SY=o,u.TY=h,u.UY=a,u},t}();t.Vt=function(){function i(){}return i.CD=function(e,n,s){if(i.wy(e)){var r=t.ta.kj(n,e,!1);n=!1,t.Uk.CE(e)&&(n=n||e.lu(r,s)),1736!=(r=e.getType())&&1607!=r||!t.Uk.AE(e)||0==s||(n=n||e.fj(s)),1736!=r&&1607!=r||!t.Uk.BE(e)||0==s||n||e.hM()}},i.wy=function(i){return t.Uk.CE(i)||t.Uk.AE(i)||t.Uk.BE(i)},i}();var n=function(){function i(){this.rh=[]}return i.zB=function(e,n,s,r,o){var h=e.getType(),a=n.getType();if(197==h){if(197==a)return i.tW(e,n,s,r);if(33==a)return 2==r?r=1:1==r&&(r=2),i.hJ(n,e,s,r)}else if(33==h){if(197==a)return i.hJ(e,n,s,r);if(33==a)return i.vW(e,n,s,r)}if(e.B()||n.B())return 4==r;var u=new t.l;e.A(u);var c=new t.l;n.A(c);var l=new t.l;if(l.K(u),l.Zb(c),s=t.ta.Wd(s,l,!1),i.dk(u,c,s))return 4==r;switch(u=!1,t.Vk.yd(h)&&((h=new t.Ta(e.description)).oc(e,!0),e=h,h=1607),t.Vk.yd(a)&&((a=new t.Ta(n.description)).oc(n,!0),n=a,a=1607),197!=h&&197!=a?(e.Db()<n.Db()||33==h&&550==a)&&(2==r?r=1:1==r&&(r=2)):1736!=h&&197!=a&&(2==r?r=1:1==r&&(r=2)),h){case 1736:switch(a){case 1736:u=i.rt(e,n,s,r,o);break;case 1607:u=i.$m(e,n,s,r,o);break;case 33:u=i.qt(e,n,s,r);break;case 550:u=i.pt(e,n,s,r,o);break;case 197:u=i.GI(e,n,s,r,o)}break;case 1607:switch(a){case 1736:u=i.$m(n,e,s,r,o);break;case 1607:u=i.gB(e,n,s,r,o);break;case 33:u=i.tt(e,n,s,r,o);break;case 550:u=i.st(e,n,s,r,o);break;case 197:u=i.MI(e,n,s,r)}break;case 33:switch(a){case 1736:u=i.qt(n,e,s,r);break;case 1607:u=i.tt(n,e,s,r,o);break;case 550:u=i.lt(n,e,s,r)}break;case 550:switch(a){case 1736:u=i.pt(n,e,s,r,o);break;case 1607:u=i.st(n,e,s,r,o);break;case 550:u=i.ZA(e,n,s,r,o);break;case 33:u=i.lt(e,n,s,r);break;case 197:u=i.hI(e,n,s,r)}break;case 197:switch(a){case 1736:u=i.GI(n,e,s,r,o);break;case 1607:u=i.MI(n,e,s,r);break;case 550:u=i.hI(n,e,s,r)}}return u},i.tW=function(e,n,s,r){if(e.B()||n.B())return 4==r;var o=new t.l,h=new t.l,a=new t.l;switch(e.A(o),n.A(h),a.K(o),a.Zb(h),e=t.ta.Wd(s,a,!1),r){case 4:return i.dk(o,h,e);case 2:return i.jF(h,o,e);case 1:return i.jF(o,h,e);case 3:return i.ek(o,h,e);case 8:return i.cQ(o,h,e);case 32:return i.bQ(o,h,e);case 16:return i.aQ(o,h,e)}return!1},i.hJ=function(e,n,s,r){if(e.B()||n.B())return 4==r;e=e.D();var o=new t.l,h=new t.l;switch(n.A(o),h.K(e),h.Zb(o),n=t.ta.Wd(s,h,!1),r){case 4:return i.Rw(e,o,n);case 2:return i.eB(e,o,n);case 1:return i.RU(e,o,n);case 3:return i.vI(e,o,n);case 8:return i.dB(e,o,n)}return!1},i.vW=function(e,n,s,r){if(e.B()||n.B())return 4==r;e=e.D(),n=n.D();var o=new t.l;switch(o.K(e),o.Zb(n),s=t.ta.Wd(s,o,!1),r){case 4:return i.SU(e,n,s);case 2:return i.uI(n,e,s);case 1:return i.uI(e,n,s);case 3:return i.wI(e,n,s)}return!1},i.rt=function(t,e,n,s,r){switch(s){case 4:return i.kV(t,e,n);case 2:return i.Sw(e,t,n,r);case 1:return i.Sw(t,e,n,r);case 3:return i.nV(t,e,n);case 8:return i.vV(t,e,n);case 32:return i.qV(t,e,n,r)}return!1},i.$m=function(t,e,n,s,r){switch(s){case 4:return i.lV(t,e,n);case 1:return i.fB(t,e,n,r);case 8:return i.wV(t,e,n,r);case 16:return i.gV(t,e,n)}return!1},i.qt=function(t,e,n,s){switch(s){case 4:return i.jV(t,e,n);case 1:return i.dV(t,e,n);case 8:return i.uV(t,e,n)}return!1},i.pt=function(t,e,n,s){switch(s){case 4:return i.iV(t,e,n);case 1:return i.cV(t,e,n);case 8:return i.tV(t,e,n);case 16:return i.fV(t,e,n)}return!1},i.GI=function(t,e,n,s,r){if(i.hV(t,e,n))return 4==s;if(4==s)return!1;switch(s){case 2:return i.xV(t,e,n);case 1:return i.bV(t,e,n);case 3:return i.mV(t,e,n);case 8:return i.sV(t,e,n,r);case 32:return i.pV(t,e,n,r);case 16:return i.eV(t,e,n,r)}return!1},i.gB=function(t,e,n,s){switch(s){case 4:return i.GV(t,e,n);case 2:return i.KI(e,t,n);case 1:return i.KI(t,e,n);case 3:return i.IV(t,e,n);case 8:return i.NI(t,e,n);case 32:return i.MV(t,e,n);case 16:return i.LI(t,e,n)}return!1},i.tt=function(t,e,n,s){switch(s){case 4:return i.FV(t,e,n);case 1:return i.AV(t,e,n);case 8:return i.QV(t,e,n)}return!1},i.st=function(t,e,n,s){switch(s){case 4:return i.EV(t,e,n);case 1:return i.zV(t,e,n);case 8:return i.PV(t,e,n);case 16:return i.CV(t,e,n)}return!1},i.MI=function(t,e,n,s){if(i.DV(t,e,n))return 4==s;if(4==s)return!1;switch(s){case 2:return i.RV(t,e,n);case 1:return i.yV(t,e,n);case 3:return i.HV(t,e,n);case 8:return i.OV(t,e,n);case 32:return i.LV(t,e,n);case 16:return i.BV(t,e,n)}return!1},i.ZA=function(t,e,n,s){switch(s){case 4:return i.gU(t,e,n);case 2:return i.eI(e,t,n);case 1:return i.eI(t,e,n);case 3:return i.iU(t,e,n);case 32:return i.oU(t,e,n)}return!1},i.lt=function(t,e,n,s){switch(s){case 4:return i.fI(t,e,n);case 2:return i.sU(t,e,n);case 1:return i.dU(t,e,n);case 3:return i.Nw(t,e,n)}return!1},i.hI=function(t,e,n,s){switch(s){case 4:return i.fU(t,e,n);case 2:return i.rU(t,e,n);case 1:return i.cU(t,e,n);case 3:return i.hU(t,e,n);case 8:return i.qU(t,e,n);case 16:return i.eU(t,e,n)}return!1},i.nV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!!i.ek(r,o,s)&&4!=(r=i.qc(e,n,!1))&&1!=r&&2!=r&&(!!i.dI(e,n,s)||(r=e.Qb(),o=n.Qb(),!(Math.abs(r-o)>4*Math.max(e.I(),n.I())*s)&&i.Wz(e,n,s,!0)))},i.kV=function(t,e,n){var s=i.qc(t,e,!0);return 4==s||1!=s&&2!=s&&1073741824!=s&&i.EI(t,e,n)},i.vV=function(t,e,n){var s=i.qc(t,e,!1);return 4!=s&&1!=s&&2!=s&&i.II(t,e,n,null)},i.qV=function(t,e,n,s){var r=i.qc(t,e,!1);return 4!=r&&1!=r&&2!=r&&i.FI(t,e,n,s)},i.Sw=function(e,n,s,r){var o=new t.l,h=new t.l;return e.A(o),n.A(h),!!i.zc(o,h,s)&&4!=(o=i.qc(e,n,!1))&&2!=o&&(1==o||i.BI(e,n,s,r))},i.lV=function(t,e,n){var s=i.qc(t,e,!0);return 4==s||1!=s&&1073741824!=s&&i.EI(t,e,n)},i.wV=function(t,e,n,s){var r=i.qc(t,e,!1);return 4!=r&&1!=r&&i.JI(t,e,n,s)},i.gV=function(t,e,n){var s=i.qc(t,e,!1);return 4!=s&&1!=s&&i.DI(t,e,n,null)},i.fB=function(e,n,s,r){var o=new t.l,h=new t.l;return e.A(o),n.A(h),!!i.zc(o,h,s)&&4!=(o=i.qc(e,n,!1))&&(1==o||i.CI(e,n,s,r))},i.jV=function(i,e,n){return 0==t.hd.KG(i,e,n)},i.uV=function(t,e,n){return e=e.D(),i.HI(t,e,n)},i.dV=function(t,e,n){return e=e.D(),i.AI(t,e,n)},i.iV=function(e,n,s){var r=i.qc(e,n,!1);if(4==r)return!0;if(1==r)return!1;r=new t.l,e.A(r),r.W(s,s);for(var o=new t.h,h=0;h<n.I();h++)if(n.D(h,o),r.contains(o)){var a=t.hd.Yd(e,o,s);if(1==a||2==a)return!1}return!0},i.tV=function(i,e,n){var s=this.qc(i,e,!1);if(4==s||1==s)return!1;s=new t.l,i.A(s),s.W(n,n);for(var r=!1,o=i,h=!1,a=0;a<e.I();a++){var u=e.Na(a);if(s.contains(u))if(2==(u=t.hd.Yd(o,u,n)))r=!0;else if(1==u)return!1;h||(!t.Dg.Ml(i,e.I()-1)||null!=i.Bb&&null!=i.Bb.Fb?o=i:(o=new t.Da,i.copyTo(o),o.fj(1)),h=!0)}return!!r},i.fV=function(i,e,n){var s=this.qc(i,e,!1);if(4==s||1==s)return!1;var r=new t.l;s=new t.l;var o=new t.l;i.A(r),e.A(o),s.K(r),s.W(n,n),o=r=!1;for(var h=i,a=!1,u=0;u<e.I();u++){var c=e.Na(u);if(s.contains(c)?0==(c=t.hd.Yd(h,c,n))?o=!0:1==c&&(r=!0):o=!0,r&&o)return!0;a||(!t.Dg.Ml(i,e.I()-1)||null!=i.Bb&&null!=i.Bb.Fb?h=i:(h=new t.Da,i.copyTo(h),h.fj(1)),a=!0)}return!1},i.cV=function(i,e,n){var s=new t.l,r=new t.l;if(i.A(s),e.A(r),!this.zc(s,r,n))return!1;if(4==(r=this.qc(i,e,!1)))return!1;if(1==r)return!0;r=!1;for(var o=i,h=!1,a=0;a<e.I();a++){var u=e.Na(a);if(!s.contains(u))return!1;if(1==(u=t.hd.Yd(o,u,n)))r=!0;else if(0==u)return!1;h||(!t.Dg.Ml(i,e.I()-1)||null!=i.Bb&&null!=i.Bb.Fb?o=i:(o=new t.Da,i.copyTo(o),o.fj(1)),h=!0)}return r},i.mV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!!i.ek(r,o,s)&&((r=new t.Da).ad(n,!1),i.Wz(e,r,s,!0))},i.hV=function(e,n,s){var r=i.qc(e,n,!1);if(4==r)return!0;if(1==r||2==r)return!1;var o=new t.l;if(r=new t.l,e.A(o),n.A(r),i.zc(r,o,s))return!1;if(o=new t.h,r.dn(o),0!=(n=t.hd.Yd(e,o,s)))return!1;if(r.$I(o),0!=(n=t.hd.Yd(e,o,s)))return!1;if(r.en(o),0!=(n=t.hd.Yd(e,o,s)))return!1;if(r.cJ(o),0!=(n=t.hd.Yd(e,o,s)))return!1;n=e.ub(0),(o=new t.l).K(r),o.W(s,s);for(var h=0,a=e.I();h<a;h++){var u=n.read(2*h),c=n.read(2*h+1);if(o.contains(u,c))return!1}return!i.TG(e,r,s)},i.sV=function(e,n,s,r){var o=i.qc(e,n,!1);if(4==o||1==o||2==o)return!1;o=new t.l;var h=new t.l;return e.A(o),n.A(h),!i.zc(h,o,s)&&(h.R()<=s&&h.ca()<=s?(n=n.Ip(),i.HI(e,n,s)):h.R()<=s||h.ca()<=s?(o=new t.Ta,h=new t.Sa,n.Hf(0,h),o.nf(h),n.Hf(2,h),o.lineTo(h),i.JI(e,o,s,r)):((o=new t.Da).ad(n,!1),i.II(e,o,s,r)))},i.pV=function(e,n,s,r){var o=i.qc(e,n,!1);if(4==o||1==o||2==o)return!1;o=new t.l;var h=new t.l;return e.A(o),n.A(h),!(i.zc(h,o,s)||h.R()<=s||h.ca()<=s)&&((o=new t.Da).ad(n,!1),i.FI(e,o,s,r))},i.xV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),i.zc(o,r,s)},i.bV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!!i.zc(r,o,s)&&4!=(r=i.qc(e,n,!1))&&2!=r&&(1==r||(o.R()<=s&&o.ca()<=s?(n=n.Ip(),i.AI(e,n,s)):o.R()<=s||o.ca()<=s?(o=new t.Ta,r=new t.Sa,n.Hf(0,r),o.nf(r),n.Hf(2,r),o.lineTo(r),i.CI(e,o,s,null)):((o=new t.Da).ad(n,!1),i.BI(e,o,s,null))))},i.eV=function(e,n,s,r){var o=new t.l,h=new t.l;return e.A(o),n.A(h),!(i.zc(h,o,s)||h.ca()>s&&h.R()>s||h.ca()<=s&&h.R()<=s)&&(o=new t.Ta,h=new t.Sa,n.Hf(0,h),o.nf(h),n.Hf(2,h),o.lineTo(h),i.DI(e,o,s,r))},i.IV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(!i.ek(r,o,s)||4==i.qc(e,n,!1))&&(!!i.dI(e,n,s)||i.Wz(e,n,s,!1))},i.GV=function(i,e,n){return 4==this.qc(i,e,!1)||!!new t.Zl(i,e,n,!0).next()&&!this.UG(i,e,n)},i.NI=function(e,n,s){if(4==i.qc(e,n,!1))return!1;var r=new t.be(0);if(0!=i.Xz(e,n,s,r))return!1;for(var o=new t.de,h=0;h<r.size;h+=2){var a=r.read(h),u=r.read(h+1);o.Bu(a,u)}return e=e.mg(),n=n.mg(),e.Fd(n,0,n.I()),i.Mw(e,o,s)},i.LI=function(e,n,s){if(4==i.qc(e,n,!1))return!1;var r=new t.be(0);if(0!=i.Xz(e,n,s,r))return!1;for(var o=new t.de,h=0;h<r.size;h+=2){var a=r.read(h),u=r.read(h+1);o.Bu(a,u)}return e=e.mg(),n=n.mg(),e.Fd(n,0,n.I()),!i.Mw(e,o,s)},i.MV=function(t,e,n){return 4!=i.qc(t,e,!1)&&i.WG(t,e,n)},i.KI=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(!i.zc(r,o,s)||4==i.qc(e,n,!1))&&i.ym(n,e,s,!1)},i.FV=function(t,e,n){return 4==i.qc(t,e,!1)||(e=e.D(),!i.Yz(t,e,n))},i.QV=function(t,e,n){return 4!=i.qc(t,e,!1)&&(e=e.D(),i.Zz(t,e,n))},i.AV=function(t,e,n){return 4!=i.qc(t,e,!1)&&(e=e.D(),i.SG(t,e,n))},i.EV=function(t,e,n){return 4==i.qc(t,e,!1)||!i.VG(t,e,n,!1)},i.PV=function(i,e,n){if(4==this.qc(i,e,!1))return!1;var s=i.Ga(),r=new t.l,o=new t.l,h=new t.l;i.A(r),e.A(o),r.W(n,n),o.W(n,n),h.K(r),h.Ea(o),r=null;var a=i.Bb;if(null!=a){var u=a.Fb;r=a.zo,null==u&&(u=a=t.ta.jj(i,h))}else u=a=t.ta.jj(i,h);var c=u.getIterator(),l=null;null!=r&&(l=r.getIterator());var f=new t.h,p=new t.h,d=!1,v=n*n;for(r=new t.pn(e.I()),a=0;a<e.I();a++)r.write(a,0);for(a=0;a<e.I();a++)if(e.D(a,f),h.contains(f)){if(o.K(f.x,f.y,f.x,f.y),null!=l&&(l.Xi(o,n),-1==l.next()))continue;c.Xi(o,n);for(var y=c.next();-1!=y;y=c.next())if(s.Vb(u.ja(y)),(y=s.ha()).hc(y.fe(f,!1),p),t.h.yc(f,p)<=v){r.write(a,1),d=!0;break}}if(!d)return!1;for(i=i.mg(),s=new t.de,o=new t.h,a=0;a<e.I();a++)0!=r.read(a)&&(e.D(a,o),s.Bu(o.x,o.y));return this.Mw(i,s,n)},i.CV=function(i,e,n){if(4==this.qc(i,e,!1))return!1;var s=i.Ga(),r=new t.l,o=new t.l,h=new t.l;i.A(r),e.A(o),r.W(n,n),o.W(n,n),h.K(r),h.Ea(o),r=null;var a=i.Bb;if(null!=a){var u=a.Fb;r=a.zo,null==u&&(u=a=t.ta.jj(i,h))}else u=a=t.ta.jj(i,h);var c=u.getIterator(),l=null;null!=r&&(l=r.getIterator());var f=new t.h,p=new t.h,d=!1,v=!1,y=n*n;for(r=new t.pn(e.I()),a=0;a<e.I();a++)r.write(a,0);for(a=0;a<e.I();a++)if(e.D(a,f),h.contains(f)){if(o.K(f.x,f.y,f.x,f.y),null!=l&&(l.Xi(o,n),-1==l.next())){v=!0;continue}c.Xi(o,n);for(var g=!1,b=c.next();-1!=b;b=c.next())if(s.Vb(u.ja(b)),(b=s.ha()).hc(b.fe(f,!1),p),t.h.yc(f,p)<=y){r.write(a,1),g=d=!0;break}g||(v=!0)}else v=!0;if(!d||!v)return!1;for(i=i.mg(),s=new t.de,o=new t.h,a=0;a<e.I();a++)0!=r.read(a)&&(e.D(a,o),s.Bu(o.x,o.y));return!this.Mw(i,s,n)},i.zV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(!i.zc(r,o,s)||4==i.qc(e,n,!1)||!i.VG(e,n,s,!0)||(e=e.mg(),i.gI(e,n,s)))},i.HV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(o.ca()>s&&o.R()>s)&&i.ek(r,o,s)},i.DV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!i.zc(o,r,s)&&!i.TG(e,o,s)},i.OV=function(e,n,s){var r=new t.l,o=new t.l;if(e.A(r),n.A(o),o.ca()<=s&&o.R()<=s)return o=n.Ip(),i.Zz(e,o,s);if(o.ca()<=s||o.R()<=s)return o=new t.Ta,r=new t.Sa,n.Hf(0,r),o.nf(r),n.Hf(2,r),o.lineTo(r),i.NI(e,o,s);e=e.Ga(),n=new t.l,r=new t.l,n.K(o),r.K(o),n.W(-s,-s),r.W(s,s),o=!1;for(var h=new t.l,a=new t.l;e.$a();)for(;e.Ha();){if(e.ha().A(h),a.K(n),a.Ea(h),!a.B()&&(a.ca()>s||a.R()>s))return!1;a.K(r),a.Ea(h),a.B()||(o=!0)}return o},i.LV=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(i.zc(r,o,s)||i.zc(o,r,s)||i.zc(o,r,s)||o.ca()>s&&o.R()>s||o.ca()<=s&&o.R()<=s)&&(r=new t.Ta,o=new t.Sa,n.Hf(0,o),r.nf(o),n.Hf(2,o),r.lineTo(o),i.WG(e,r,s))},i.RV=function(e,n,s){var r=new t.l,o=new t.l;if(e.A(r),n.A(o),!i.zc(o,r,s)||o.ca()<=s&&o.R()<=s)return!1;if(o.ca()<=s||o.R()<=s)return i.zc(o,r,s);e=e.Ga(),(n=new t.l).K(o),n.W(-s,-s),o=!1,r=new t.l;for(var h=new t.l;e.$a();)for(;e.Ha();)e.ha().A(r),n.hm(r)?o=!0:(h.K(n),h.Ea(r),!h.B()&&(h.ca()>s||h.R()>s)&&(o=!0));return o},i.yV=function(e,n,s){var r=new t.l,o=new t.l;return n.A(o),e.A(r),!(!i.zc(r,o,s)||o.ca()>s&&o.R()>s)&&(o.ca()<=s&&o.R()<=s?(n=n.Ip(),i.SG(e,n,s)):(r=new t.Ta,o=new t.Sa,n.Hf(0,o),r.nf(o),n.Hf(2,o),r.lineTo(o),i.ym(r,e,s,!1)))},i.BV=function(e,n,s){var r=new t.l,o=new t.l;if(e.A(r),n.A(o),i.zc(o,r,s)||o.ca()<=s&&o.R()<=s)return!1;if(o.ca()<=s||o.R()<=s)return r=new t.Ta,o=new t.Sa,n.Hf(0,o),r.nf(o),n.Hf(2,o),r.lineTo(o),i.LI(e,r,s);e=e.Ga(),n=new t.l,(r=new t.l).K(o),n.K(o),r.W(-s,-s),n.W(s,s);for(var h=o=!1,a=new t.l,u=new t.l;e.$a();)for(;e.Ha();)if(e.ha().A(a),h||n.contains(a)||(h=!0),o||(u.K(r),u.Ea(a),!u.B()&&(u.ca()>s||u.R()>s)&&(o=!0)),o&&h)return!0;return!1},i.iU=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!!i.ek(r,o,s)&&(!!i.jU(e,n,s)||i.YA(e,n,s,!1,!0,!1))},i.gU=function(t,e,n){return!i.gI(t,e,n)},i.oU=function(t,e,n){return i.YA(t,e,n,!1,!1,!0)},i.eI=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!!i.zc(r,o,s)&&i.YA(n,e,s,!0,!1,!1)},i.Mw=function(i,e,n){n*=n;for(var s=new t.h,r=new t.h,o=0;o<e.I();o++){e.D(o,r);for(var h=!1,a=0;a<i.I();a++)if(i.D(a,s),t.h.yc(s,r)<=n){h=!0;break}if(!h)return!1}return!0},i.Nw=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),i.ek(r,o,s)},i.fI=function(t,e,n){return e=e.D(),i.kt(t,e,n)},i.sU=function(t,e,n){return i.Nw(t,e,n)},i.dU=function(t,e,n){return!i.fI(t,e,n)},i.hU=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(o.ca()>s||o.R()>s)&&i.ek(r,o,s)},i.fU=function(e,n,s){var r=new t.l,o=new t.l;if(e.A(r),n.A(o),i.zc(o,r,s))return!1;for((n=new t.l).K(o),n.W(s,s),s=new t.h,o=0;o<e.I();o++)if(e.D(o,s),n.contains(s))return!1;return!0},i.qU=function(i,e,n){var s=new t.l,r=new t.l,o=new t.l;if(e.A(s),s.ca()<=n&&s.R()<=n)return!1;if(s.ca()<=n||s.R()<=n){e=new t.h;var h=!1;r.K(s),o.K(s),r.W(n,n),s.ca()>n?o.W(0,-n):o.W(-n,0);for(var a=0;a<i.I();a++)if(i.D(a,e),r.contains(e)){if(s.ca()>n){if(e.y>o.G&&e.y<o.H)return!1}else if(e.x>o.v&&e.x<o.C)return!1;h=!0}return h}for(r.K(s),o.K(s),r.W(n,n),o.W(-n,-n),e=new t.h,h=!1,a=0;a<i.I();a++)if(i.D(a,e),r.contains(e)){if(o.hm(e))return!1;h=!0}return h},i.rU=function(e,n,s){var r=new t.l,o=new t.l;if(e.A(r),n.A(o),!i.zc(o,r,s))return!1;if(o.ca()<=s&&o.R()<=s)return i.ek(r,o,s);if(o.ca()<=s||o.R()<=s){n=!1,r=new t.l;var h=new t.l;r.K(o),h.K(o),o.ca()>s?r.W(0,-s):r.W(-s,0),h.W(s,s);for(var a=new t.h,u=0;u<e.I();u++){if(e.D(u,a),!h.contains(a))return!1;o.ca()>s?a.y>r.G&&a.y<r.H&&(n=!0):a.x>r.v&&a.x<r.C&&(n=!0)}return n}for(n=!1,r=new t.l,h=new t.l,r.K(o),h.K(o),r.W(-s,-s),h.W(s,s),a=new t.h,u=0;u<e.I();u++){if(e.D(u,a),!h.contains(a))return!1;r.hm(a)&&(n=!0)}return n},i.cU=function(e,n,s){var r=new t.l,o=new t.l;return e.A(r),n.A(o),!(!i.zc(r,o,s)||o.ca()>s||o.R()>s||(n=n.Ip(),i.kt(e,n,s)))},i.eU=function(e,n,s){var r=new t.l,o=new t.l;if(e.A(r),n.A(o),i.zc(o,r,s)||o.ca()<=s&&o.R()<=s)return!1;if(o.ca()<=s||o.R()<=s){n=new t.l,r=new t.l,n.K(o),o.ca()>s?n.W(0,-s):n.W(-s,0),r.K(o),r.W(s,s);for(var h=new t.h,a=!1,u=!1,c=0;c<e.I();c++)if(e.D(c,h),a||(o.ca()>s?h.y>n.G&&h.y<n.H&&(a=!0):h.x>n.v&&h.x<n.C&&(a=!0)),u||r.contains(h)||(u=!0),a&&u)return!0;return!1}for(n=new t.l,r=new t.l,n.K(o),n.W(-s,-s),r.K(o),r.W(s,s),h=new t.h,u=a=!1,c=0;c<e.I();c++)if(e.D(c,h),!a&&n.hm(h)&&(a=!0),u||r.contains(h)||(u=!0),a&&u)return!0;return!1},i.wI=function(i,e,n){return t.h.yc(i,e)<=n*n},i.SU=function(i,e,n){return t.h.yc(i,e)>n*n},i.uI=function(t,e,n){return i.wI(t,e,n)},i.vI=function(e,n,s){var r=new t.l;return r.K(e),i.ek(r,n,s)},i.Rw=function(i,e,n){var s=new t.l;return s.K(e),s.W(n,n),!s.contains(i)},i.dB=function(i,e,n){if(e.ca()<=n&&e.R()<=n)return!1;var s=new t.l,r=new t.l;if(s.K(e),s.W(n,n),!s.contains(i))return!1;if(e.ca()<=n||e.R()<=n){if(r.K(e),e.ca()>n?r.W(0,-n):r.W(-n,0),e.ca()>n){if(i.y>r.G&&i.y<r.H)return!1}else if(i.x>r.v&&i.x<r.C)return!1;return!0}return r.K(e),r.W(-n,-n),!r.hm(i)},i.eB=function(i,e,n){if(e.ca()<=n&&e.R()<=n)return!0;if(e.ca()<=n||e.R()<=n){var s=new t.l;s.K(e),e.ca()>n?s.W(0,-n):s.W(-n,0);var r=!1;return e.ca()>n?i.y>s.G&&i.y<s.H&&(r=!0):i.x>s.v&&i.x<s.C&&(r=!0),r}return(s=new t.l).K(e),s.W(-n,-n),s.hm(i)},i.RU=function(t,e,n){return i.vI(t,e,n)},i.ek=function(t,e,n){return i.zc(t,e,n)&&i.zc(e,t,n)},i.dk=function(i,e,n){var s=new t.l;return s.K(e),s.W(n,n),!i.isIntersecting(s)},i.cQ=function(e,n,s){if(e.ca()<=s&&e.R()<=s){var r=e.sf();return i.dB(r,n,s)}if(n.ca()<=s&&n.R()<=s)return r=n.sf(),i.dB(r,e,s);if(e.ca()>s&&e.R()>s&&(n.ca()<=s||n.R()<=s)?r=n:(r=e,e=n),r.ca()<=s||r.R()<=s){if(e.ca()<=s||e.R()<=s){n=new t.yb;var o=new t.yb,h=[0,0],a=[0,0],u=new t.h;return r.dn(u),n.Dc(u),r.en(u),n.Qc(u),e.dn(u),o.Dc(u),e.en(u),o.Qc(u),n.Ea(o,null,h,a,s),1==n.Ea(o,null,null,null,s)&&(0==h[0]||1==h[1]||0==a[0]||1==a[1])}return n=new t.l,o=new t.l,n.K(e),n.W(-s,-s),o.K(n),o.Ea(r),!(!o.B()&&(o.ca()>s||o.R()>s))}return e.W(s,s),(o=new t.l).K(r),o.Ea(e),!(o.B()||!o.B()&&o.ca()>s&&o.R()>s)},i.bQ=function(e,n,s){if(i.zc(e,n,s)||i.zc(n,e,s)||e.ca()<=s&&e.R()<=s||n.ca()<=s&&n.R()<=s)return!1;if(e.ca()<=s||e.R()<=s){if(n.ca()>s&&n.R()>s)return!1;var r=new t.yb,o=new t.yb,h=[0,0],a=[0,0],u=new t.h;return e.dn(u),r.Dc(u),e.en(u),r.Qc(u),n.dn(u),o.Dc(u),n.en(u),o.Qc(u),r.Ea(o,null,h,a,s),2==r.Ea(o,null,null,null,s)&&(0<h[0]||1>h[1])&&(0<a[0]||1>a[1])}return!(n.ca()<=s||n.R()<=s||((r=new t.l).K(e),r.Ea(n),r.B()||r.ca()<=s||r.R()<=s))},i.jF=function(e,n,s){if(!i.zc(e,n,s))return!1;if(e.ca()<=s&&e.R()<=s)return e=e.sf(),i.eB(e,n,s);if(n.ca()<=s&&n.R()<=s)return n=n.sf(),i.eB(n,e,s);if(e.ca()<=s||e.R()<=s)return i.zc(e,n,s);if(n.ca()<=s||n.R()<=s){var r=new t.l;return r.K(e),r.W(-s,-s),!(!r.hm(n)&&((e=new t.l).K(r),e.Ea(n),e.B()||e.ca()<=s&&e.R()<=s))}return i.zc(e,n,s)},i.aQ=function(e,n,s){if(i.zc(e,n,s)||i.zc(n,e,s)||e.ca()<=s&&e.R()<=s||n.ca()<=s&&n.R()<=s||n.ca()>s&&n.R()>s&&e.ca()>s&&e.R()>s)return!1;if(e.ca()>s&&e.R()>s)var r=n;else r=e,e=n;if(e.ca()>s&&e.R()>s){n=new t.l;var o=new t.l;return o.K(e),o.W(-s,-s),n.K(o),n.Ea(r),!(n.B()||n.ca()<=s&&n.R()<=s)}n=new t.yb,o=new t.yb;var h=[0,0],a=[0,0],u=new t.h;return r.dn(u),n.Dc(u),r.en(u),n.Qc(u),e.dn(u),o.Dc(u),e.en(u),o.Qc(u),n.Ea(o,null,h,a,s),1==n.Ea(o,null,null,null,s)&&0<h[0]&&1>h[1]&&0<a[0]&&1>a[1]},i.EI=function(i,e,n){var s=new t.l,r=new t.l,o=new t.Zl(i,e,n,!0);if(!o.next())return!0;if(this.UG(i,e,n))return!1;var h=i,a=null;1736==e.getType()&&(a=e);var u=!1,c=!1;do{var l=o.nl(),f=o.hl();if(f=e.Na(e.Ba(f)),s.K(o.uz()),s.W(n,n),s.contains(f)&&0!=(f=t.hd.Yd(h,f,0))||1736==e.getType()&&(l=i.Na(i.Ba(l)),r.K(o.az()),r.W(n,n),r.contains(l)&&0!=(f=t.hd.Yd(a,l,0))))return!1;u||(!t.Dg.Ml(i,e.da()-1)||null!=i.Bb&&null!=i.Bb.Fb?h=i:(h=new t.Da,i.copyTo(h),h.fj(1)),u=!0),1736!=e.getType()||c||(c=e,!t.Dg.Ml(c,i.da()-1)||null!=e.Bb&&null!=e.Bb.Fb?a=e:(a=new t.Da,c.copyTo(a),a.fj(1)),c=!0)}while(o.next());return!0},i.zc=function(i,e,n){var s=new t.l;return s.K(i),s.W(n,n),s.contains(e)},i.ls=function(i,e,n){var s=new t.l;return s.K(e),s.W(n,n),e=new t.h,i.dn(e),!(s.contains(e)&&(i.$I(e),s.contains(e)&&(i.cJ(e),s.contains(e)&&(i.en(e),s.contains(e)))))},i.dI=function(i,e,n){if(i.da()!=e.da()||i.I()!=e.I())return!1;var s=new t.h,r=new t.h,o=!0;n*=n;for(var h=0;h<i.da();h++){if(i.Vc(h)!=e.Vc(h)){o=!1;break}for(var a=i.Ba(h);a<e.Vc(h);a++)if(i.D(a,s),e.D(a,r),t.h.yc(s,r)>n){o=!1;break}if(!o)break}return!!o},i.jU=function(i,e,n){if(i.I()!=e.I())return!1;var s=new t.h,r=new t.h,o=!0;n*=n;for(var h=0;h<i.I();h++)if(i.D(h,s),e.D(h,r),t.h.yc(s,r)>n){o=!1;break}return!!o},i.YA=function(i,e,n,s,r,o){var h=!1;if(i.I()>e.I()){s&&(s=!1,h=!0);var a=e}else a=i,i=e;if(e=null,r||o||h){e=new t.pn(i.I());for(var u=0;u<i.I();u++)e.write(u,0)}u=new t.l;var c=new t.l,l=new t.l;a.A(u),i.A(c),u.W(n,n),c.W(n,n),l.K(u),l.Ea(c),c=new t.h;for(var f=new t.h,p=!0,d=t.ta.oE(i,l),v=d.getIterator(),y=n*n,g=0;g<a.I();g++)if(a.D(g,c),l.contains(c)){var b=!1;u.K(c.x,c.y,c.x,c.y),v.Xi(u,n);for(var w=v.next();-1!=w&&(w=d.ja(w),i.D(w,f),!(t.h.yc(c,f)<=y&&((r||o||h)&&e.write(w,1),b=!0,s)));w=v.next());if(!b&&(p=!1,r||s))return!1}else{if(r||s)return!1;p=!1}if(o&&p)return!1;if(s)return!0;for(u=0;u<i.I();u++)if(1==e.read(u)){if(o)return!0}else if(r||h)return!1;return!o},i.gI=function(i,e,n){if(i.I()>e.I())var s=e;else s=i,i=e;e=new t.l;var r=new t.l,o=new t.l;s.A(e),i.A(r),e.W(n,n),r.W(n,n),o.K(e),o.Ea(r),r=new t.h;for(var h=new t.h,a=n*n,u=t.ta.oE(i,o),c=u.getIterator(),l=0;l<s.I();l++)if(s.D(l,r),o.contains(r)){e.K(r.x,r.y,r.x,r.y),c.Xi(e,n);for(var f=c.next();-1!=f;f=c.next())if(i.D(u.ja(f),h),t.h.yc(r,h)<=a)return!0}return!1},i.Wz=function(t,e,n,s){return i.ym(t,e,n,s)&&i.ym(e,t,n,s)},i.ym=function(n,s,r,o){function h(t,i){return p.QE(t,i)}var a,u=[0,0],c=[0,0],l=0,f=new t.ia(0),p=new i,d=new t.l,v=new t.l,y=new t.l;n.A(d),s.A(v),d.W(r,r),v.W(r,r),y.K(d),y.Ea(v),n=n.Ga(),v=s.Ga();var g=null,b=g=null,w=s.Bb;for(null!=w?(g=w.Fb,b=w.zo,null==g&&(g=t.ta.jj(s,y))):g=t.ta.jj(s,y),s=g.getIterator(),w=null,null!=b&&(w=b.getIterator());n.$a();)for(;n.Ha();){var m=!1,x=n.ha();if(x.A(d),!d.isIntersecting(y))return!1;if(null!=w&&(w.Xi(d,r),-1==w.next()))return!1;for(b=x.Qb(),s.Uo(x,r),a=s.next();-1!=a;a=s.next()){v.Vb(g.ja(a)),a=v.ha();var M=x.Ea(a,null,u,c,r);if(2==M&&(!o||c[0]<=c[1])){var _=u[1],k=c[0],A=c[1];if((M=u[0])*b<=r&&(1-_)*b<=r){m=!0,l=0,f.resize(0),p.rh.length=0;var T=n.wb();for(k=!0;k;){if(n.Ha()){if(b=(x=n.ha()).Qb(),2==(M=x.Ea(a,null,u,c,r))&&(!o||c[0]<=c[1])&&(_=u[1],(M=u[0])*b<=r&&(1-_)*b<=r)){T=n.wb();continue}if(v.Ha()&&(a=v.ha(),2==(M=x.Ea(a,null,u,c,r))&&(!o||c[0]<=c[1])&&(_=u[1],(M=u[0])*b<=r&&(1-_)*b<=r))){T=n.wb();continue}}k=!1}T!=n.wb()&&(n.Vb(T),n.ha());break}T=n.wb(),a=e.construct(T,n.gb,M,_,v.wb(),v.gb,k,A),p.rh.push(a),f.add(f.size)}}if(!m){if(l==p.rh.length)return!1;for(1<f.size-l&&f.Vd(l,f.size,h),m=0;l<p.rh.length;l++)if(!((a=p.rh[f.get(l)]).Kj<m&&a.Si<m)){if(b*(a.Kj-m)>r)return!1;if(b*(1-(m=a.Si))<=r||1==m)break}if(b*(1-m)>r)return!1;l=0,f.resize(0),p.rh.length=0}}return!0},i.WG=function(e,n,s){if(1>i.Xz(e,n,s,null))return!1;var r=new t.l,o=new t.l;e.A(r),n.A(o);var h=i.ls(r,o,s);return r=i.ls(o,r,s),!((!h||!r)&&(h&&!r?i.ym(n,e,s,!1):r&&!h?i.ym(e,n,s,!1):i.ym(e,n,s,!1)||i.ym(n,e,s,!1)))},i.Xz=function(n,s,r,o){function h(t,i){return v.QE(t,i)}if(n.yz()>s.yz())var a=s,u=n;else a=n,u=s;n=a.Ga(),s=u.Ga();var c=[0,0],l=[0,0],f=-1,p=0,d=new t.ia(0),v=new i,y=new t.l,g=new t.l,b=new t.l;a.A(y),u.A(g),y.W(r,r),g.W(r,r),b.K(y),b.Ea(g),a=null,null!=o&&(a=new t.h);var w=g=g=null,m=u.Bb;for(null!=m?(g=m.Fb,w=m.zo,null==g&&(g=t.ta.jj(u,b))):g=t.ta.jj(u,b),u=g.getIterator(),m=null,null!=w&&(m=w.getIterator());n.$a();)for(w=0;n.Ha();){var x=n.ha();if(x.A(y),y.isIntersecting(b)){if(null!=m&&(m.Xi(y,r),-1==m.next()))continue;var M=x.Qb();u.Uo(x,r);for(var _=u.next();-1!=_;_=u.next()){var k=g.ja(_);s.Vb(k);var A=s.ha(),T=A.Qb(),j=x.Ea(A,null,c,l,r);if(0<j){_=c[0],f=l[0];var P=2==j?c[1]:NaN,I=2==j?l[1]:NaN;if(2==j){if(M*(P-_)>r)return 1;var E=M*(P-_);if(s.Ha()){if(A=s.ha(),2==(j=x.Ea(A,null,c,null,r))){var z=c[1];if(E+(j=M*(z-(j=c[0])))>r)return 1}s.Vb(k),s.ha()}if(!s.vm()){if(s.li(),A=s.li(),2==(j=x.Ea(A,null,c,null,r))&&E+(j=M*((z=c[1])-(j=c[0])))>r)return 1;s.Vb(k),s.ha()}if(n.Ha()){if(k=n.wb(),2==(j=(x=n.ha()).Ea(A,null,c,null,r))&&E+(j=M*((z=c[1])-(j=c[0])))>r)return 1;n.Vb(k),n.ha()}if(!n.vm()){if(k=n.wb(),n.li(),2==(j=(x=n.li()).Ea(A,null,c,null,r))&&E+(j=T*((z=c[1])-(j=c[0])))>r)return 1;n.Vb(k),n.ha()}A=e.construct(n.wb(),n.gb,_,P,s.wb(),s.gb,f,I),v.rh.push(A),d.add(d.size)}f=0,null!=o&&(x.hc(_,a),o.add(a.x),o.add(a.y))}}if(p<v.rh.length){for(d.Vd(p,d.size,h),x=0,_=v.rh[d.get(p)].Mm;p<v.rh.length;p++)if(!((A=v.rh[d.get(p)]).Kj<x&&A.Si<x))if(M*(A.Kj-x)>r)w=M*(A.Si-A.Kj),x=A.Si,_=A.Mm;else{if(A.Mm!=_?(w=M*(A.Si-A.Kj),_=A.Mm):w+=M*(A.Si-A.Kj),w>r)return 1;if(1==(x=A.Si))break}M*(1-x)>r&&(w=0),p=0,d.resize(0),v.rh.length=0}}}return f},i.UG=function(i,e,n){var s=i.Ga(),r=e.Ga();for(i=new t.Zl(i,e,n,!1);i.next();){e=i.nl();var o=i.hl();if(s.Vb(e),r.Vb(o),e=s.ha(),0<r.ha().Ea(e,null,null,null,n))return!0}return!1},i.VG=function(i,e,n,s){var r=i.Ga(),o=new t.l,h=new t.l,a=new t.l;i.A(o),e.A(h),o.W(n,n),o.contains(h),h.W(n,n),a.K(o),a.Ea(h),null!=(o=i.Bb)?null==(o=o.Fb)&&(o=t.ta.jj(i,a)):o=t.ta.jj(i,a),i=o.getIterator();for(var u=new t.h,c=new t.h,l=n*n,f=0;f<e.I();f++)if(e.D(f,u),a.contains(u)){h.K(u.x,u.y,u.x,u.y),i.Xi(h,n);for(var p=!1,d=i.next();-1!=d;d=i.next())if(r.Vb(o.ja(d)),(d=r.ha()).hc(d.fe(u,!1),c),t.h.yc(c,u)<=l){p=!0;break}if(s){if(!p)return!1}else if(p)return!0}return!!s},i.Yz=function(i,e,n){var s=new t.h,r=n*n,o=i.Ga();if(null!=(i=i.Bb)&&null!=(i=i.Fb)){var h=new t.l;for(h.K(e),h=(n=i.MF(h,n)).next();-1!=h;h=n.next())if(o.Vb(i.ja(h)),o.Ha()){var a=(h=o.ha()).fe(e,!1);if(h.hc(a,s),t.h.yc(e,s)<=r)return!0}return!1}for(i=new t.l;o.$a();)for(;o.Ha();)if((h=o.ha()).A(i),i.W(n,n),i.contains(e)&&(a=h.fe(e,!1),h.hc(a,s),t.h.yc(e,s)<=r))return!0;return!1},i.SG=function(t,e,n){return i.Yz(t,e,n)&&!i.Zz(t,e,n)},i.Zz=function(t,e,n){return t=t.mg(),!i.kt(t,e,n)},i.TG=function(i,e,n){if(i.tm()){var s=new t.yb(e.v,e.G,e.v,e.H),r=new t.yb(e.v,e.H,e.C,e.H),o=new t.yb(e.C,e.H,e.C,e.G);for(e=new t.yb(e.C,e.G,e.v,e.G),i=i.Ga();i.$a();)for(;i.Ha();){var h=i.ha();if(h.isIntersecting(s,n)||h.isIntersecting(r,n)||h.isIntersecting(o,n)||h.isIntersecting(e,n))return!0}}else{(s=new t.l).K(e),s.W(n,n),n=i.ub(0),r=new t.h,o=new t.h,e=new t.h,h=new t.h;for(var a=0,u=i.da();a<u;a++)for(var c=!0,l=i.Ba(a),f=i.Vc(a);l<f;l++)if(c)n.tc(2*l,o),c=!1;else{if(n.tc(2*l,r),e.L(o),h.L(r),0!=s.zy(e,h))return!0;o.L(r)}}return!1},i.qc=function(e,n,s){var r=e.getType(),o=n.getType();if(t.aa.xj(r)){var h=e.Bb;if(null!=h&&null!=(h=h.Fk))if(33==o){var a=n.D();if(1==(a=h.So(a.x,a.y)))return 1;if(0==a)return 4}else{if(a=new t.l,n.A(a),1==(a=h.Ro(a)))return 1;if(0==a)return 4;if(s&&t.aa.xj(o)&&i.HE(n,h))return 1073741824}}if(t.aa.xj(o)&&null!=(h=n.Bb)&&null!=(h=h.Fk))if(33==r){if(e=e.D(),1==(a=h.So(e.x,e.y)))return 2;if(0==a)return 4}else{if(n=new t.l,e.A(n),1==(a=h.Ro(n)))return 2;if(0==a)return 4;if(s&&t.aa.xj(r)&&i.HE(e,h))return 1073741824}return 0},i.HE=function(i,e){for(var n=i.I(),s=new t.h,r=0;r<n;r++)if(i.D(r,s),1==e.So(s.x,s.y))return!0;return!1},i.II=function(i,e,n,s){for(var r=1<=i.om(0)&&1<=e.om(0),o=i.Ga(),h=e.Ga(),a=[0,0],u=[0,0],c=new t.Zl(i,e,n,!1),l=!1;c.next();){var f=c.nl(),p=c.hl();if(o.Vb(f),h.Vb(p),f=o.ha(),2==(p=h.ha().Ea(f,null,u,a,n))){if(l=a[0],p=a[1],f=f.Qb(),r&&(p-l)*f>n)return!1;l=!0}else if(0!=p){if(f=u[0],0<(l=a[0])&&1>l&&0<f&&1>f)return!1;l=!0}}return!!l&&(o=new t.l,h=new t.l,r=new t.l,i.A(o),e.A(h),o.W(1e3*n,1e3*n),h.W(1e3*n,1e3*n),r.K(o),r.Ea(h),!(10<i.I()&&(i=t.Ud.clip(i,r,n,0),i.B())||10<e.I()&&(e=t.Ud.clip(e,r,n,0),e.B()))&&t.am.rt(i,e,n,"F********",s))},i.FI=function(e,n,s,r){var o=1<=e.om(0)&&1<=n.om(0),h=new t.l,a=new t.l,u=new t.l;e.A(h),n.A(a);for(var c=!1,l=i.ls(h,a,s),f=i.ls(a,h,s),p=e.Ga(),d=n.Ga(),v=[0,0],y=[0,0],g=new t.Zl(e,n,s,!1);g.next();){var b=g.nl(),w=g.hl();if(p.Vb(b),d.Vb(w),w=p.ha(),2==(b=d.ha().Ea(w,null,y,v,s))){b=v[0];var m=v[1];if(w=w.Qb(),o&&(m-b)*w>s&&(c=!0,l&&f))return!0}else if(0!=b&&(w=y[0],0<(b=v[0])&&1>b&&0<w&&1>w))return!0}if(o=new t.l,p=new t.l,o.K(h),o.W(1e3*s,1e3*s),p.K(a),p.W(1e3*s,1e3*s),u.K(o),u.Ea(p),h="",h=c?h+"**":h+"T*",l){if(10<n.I()&&(n=t.Ud.clip(n,u,s,0)).B())return!1;h+="****"}else h+="T***";if(f){if(10<e.I()&&(e=t.Ud.clip(e,u,s,0)).B())return!1;h+="***"}else h+="T**";return t.am.rt(e,n,s,h.toString(),r)},i.BI=function(e,n,s,r){var o=[!1],h=i.zI(e,n,s,o);return o[0]?h:(o=new t.l,n.A(o),o.W(1e3*s,1e3*s),!(10<e.I()&&(e=t.Ud.clip(e,o,s,0),e.B()))&&t.am.Sw(e,n,s,r))},i.zI=function(i,e,n,s){s[0]=!1;for(var r=i.Ga(),o=e.Ga(),h=[0,0],a=[0,0],u=new t.Zl(i,e,n,!1),c=!1;u.next();){var l=u.nl(),f=u.hl();if(r.Vb(l,-1),o.Vb(f,-1),l=r.ha(),0!=(l=o.ha().Ea(l,null,a,h,n))&&(c=!0,1==l&&(l=h[0],f=a[0],0<l&&1>l&&0<f&&1>f)))return s[0]=!0,!1}if(!c){for(s[0]=!0,h=new t.l,i.A(h),h.W(n,n),u=i,c=!1,a=new t.l,s=0,r=e.da();s<r;s++)if(0<e.Ja(s)){if(e.Rj(s,a),!h.isIntersecting(a))return!1;if(o=e.Na(e.Ba(s)),0==(o=t.Dg.wm(u,o,0)))return!1;c||(!t.Dg.Ml(i,e.da()-1)||null!=i.Bb&&null!=i.Bb.Fb?u=i:(o=new t.Da,i.copyTo(o),o.fj(1),u=o),c=!0)}if(1==i.da()||1607==e.getType())return!0;for(h=new t.l,e.A(h),h.W(n,n),a=e,u=!1,n=new t.l,s=0,r=i.da();s<r;s++)if(0<i.Ja(s)){if(i.Rj(s,n),h.isIntersecting(n)&&(o=i.Na(i.Ba(s)),1==(o=t.Dg.wm(a,o,0))))return!1;u||(!t.Dg.Ml(e,i.da()-1)||null!=e.Bb&&null!=e.Bb.Fb?a=e:(o=new t.Da,e.copyTo(o),o.fj(1),a=o),u=!0)}return!0}return!1},i.JI=function(i,e,n,s){for(var r=i.Ga(),o=e.Ga(),h=[0,0],a=[0,0],u=new t.Zl(i,e,n,!1),c=!1;u.next();){var l=u.nl(),f=u.hl();if(r.Vb(l),o.Vb(f),l=r.ha(),2==(l=o.ha().Ea(l,null,a,h,n)))c=!0;else if(0!=l){if(c=h[0],l=a[0],0<c&&1>c&&0<l&&1>l)return!1;c=!0}}return!!c&&(o=new t.l,h=new t.l,r=new t.l,i.A(o),e.A(h),o.W(1e3*n,1e3*n),h.W(1e3*n,1e3*n),r.K(o),r.Ea(h),!(10<i.I()&&(i=t.Ud.clip(i,r,n,0),i.B())||10<e.I()&&(e=t.Ud.clip(e,r,n,0),e.B()))&&t.am.$m(i,e,n,"F********",s))},i.DI=function(e,n,s,r){for(var o=e.Ga(),h=n.Ga(),a=[0,0],u=[0,0],c=new t.Zl(e,n,s,!1),l=!1;c.next();){var f=c.nl(),p=c.hl();if(o.Vb(f),h.Vb(p),f=o.ha(),2==(f=h.ha().Ea(f,null,u,a,s)))l=!0;else if(0!=f){if(l=a[0],f=u[0],0<l&&1>l&&0<f&&1>f)return!0;l=!0}}return!!l&&(h=new t.l,a=new t.l,u=new t.l,c=new t.l,o=new t.l,e.A(h),n.A(a),i.ls(a,h,s)?(u.K(h),u.W(1e3*s,1e3*s),c.K(a),c.W(1e3*s,1e3*s),o.K(u),o.Ea(c),!(10<e.I()&&(e=t.Ud.clip(e,o,s,0),e.B())||10<n.I()&&(n=t.Ud.clip(n,o,s,0),n.B()))&&(s=t.am.$m(e,n,s,"T********",r))):s=t.am.$m(e,n,s,"T*****T**",r))},i.CI=function(e,n,s,r){var o=[!1],h=i.zI(e,n,s,o);return o[0]?h:(o=new t.l,n.A(o),o.W(1e3*s,1e3*s),!(10<e.I()&&(e=t.Ud.clip(e,o,s,0),e.B()))&&t.am.fB(e,n,s,r))},i.AI=function(i,e,n){return 1==t.hd.Yd(i,e,n)},i.HI=function(i,e,n){return 2==t.hd.Yd(i,e,n)},i.kt=function(i,e,n){var s=new t.h;n*=n;for(var r=0;r<i.I();r++)if(i.D(r,s),t.h.yc(s,e)<=n)return!1;return!0},i.prototype.QE=function(t,i){return t=this.rh[t],i=this.rh[i],t.Mm<i.Mm||t.Mm==i.Mm&&(t.pw<i.pw||t.pw==i.pw&&(t.Kj<i.Kj||t.Kj==i.Kj&&(t.Si<i.Si||t.Si==i.Si&&t.BH<i.BH)))?-1:1},i}();t.ud=n}(W||(W={})),function(t){var i,e,n;(e=i||(i={}))[e.InteriorInterior=0]="InteriorInterior",e[e.InteriorBoundary=1]="InteriorBoundary",e[e.InteriorExterior=2]="InteriorExterior",e[e.BoundaryInterior=3]="BoundaryInterior",e[e.BoundaryBoundary=4]="BoundaryBoundary",e[e.BoundaryExterior=5]="BoundaryExterior",e[e.ExteriorInterior=6]="ExteriorInterior",e[e.ExteriorBoundary=7]="ExteriorBoundary",e[e.ExteriorExterior=8]="ExteriorExterior",function(t){t[t.AreaAreaPredicates=0]="AreaAreaPredicates",t[t.AreaLinePredicates=1]="AreaLinePredicates",t[t.LineLinePredicates=2]="LineLinePredicates",t[t.AreaPointPredicates=3]="AreaPointPredicates",t[t.LinePointPredicates=4]="LinePointPredicates",t[t.PointPointPredicates=5]="PointPointPredicates"}(n||(n={})),i=function(){function i(){this.le=0,this.j=new t.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return i.yB=function(i,e,n,s,r){if(9!=s.length)throw t.i.fa("relation string length has to be 9 characters");for(var o=0;9>o;o++){var h=s.charAt(o);if("*"!=h&&"T"!=h&&"F"!=h&&"0"!=h&&"1"!=h&&"2"!=h)throw t.i.fa("relation string")}if(0!=(o=this.MR(s,i.Db(),e.Db())))return t.ud.zB(i,e,n,o,r);o=new t.l,i.A(o),h=new t.l,e.A(h);var a=new t.l;if(a.K(o),a.Zb(h),n=t.ta.Wd(n,a,!1),i=this.WE(i,n),e=this.WE(e,n),i.B()||e.B())return this.uW(i,e,s);switch(o=i.getType(),h=e.getType(),a=!1,o){case 1736:switch(h){case 1736:a=this.rt(i,e,n,s,r);break;case 1607:a=this.$m(i,e,n,s,r);break;case 33:a=this.qt(i,e,n,s);break;case 550:a=this.pt(i,e,n,s,r)}break;case 1607:switch(h){case 1736:a=this.$m(e,i,n,this.Zp(s),r);break;case 1607:a=this.gB(i,e,n,s,r);break;case 33:a=this.tt(i,e,n,s,r);break;case 550:a=this.st(i,e,n,s,r)}break;case 33:switch(h){case 1736:a=this.qt(e,i,n,this.Zp(s));break;case 1607:a=this.tt(e,i,n,this.Zp(s),r);break;case 33:a=this.$U(i,e,n,s);break;case 550:a=this.lt(e,i,n,this.Zp(s))}break;case 550:switch(h){case 1736:a=this.pt(e,i,n,this.Zp(s),r);break;case 1607:a=this.st(e,i,n,this.Zp(s),r);break;case 550:a=this.ZA(i,e,n,s,r);break;case 33:a=this.lt(i,e,n,s)}break;default:a=!1}return a},i.rt=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.xJ();var a=new t.l,u=new t.l;return e.A(a),n.A(u),r=!1,t.ud.dk(a,u,s)&&(h.Cu(e,n),r=!0),r||(4==(a=t.ud.qc(e,n,!1))?(h.Cu(e,n),r=!0):1==a?(h.ly(n),r=!0):2==a&&(h.ZD(e),r=!0)),r||(e=(r=new t.gd).Ib(e),n=r.Ib(n),h.Wo(r,s,o),h.Bp(e,n),h.j.Ug()),i.fg(h.J,h.Xc)},i.Sw=function(e,n,s,r){var o=new i;o.Yi(),o.bj("T*****F**"),o.xJ();var h=new t.l,a=new t.l;e.A(h),n.A(a);var u=!1;return t.ud.dk(h,a,s)&&(o.Cu(e,n),u=!0),u||(4==(h=t.ud.qc(e,n,!1))?(o.Cu(e,n),u=!0):1==h?(o.ly(n),u=!0):2==h&&(o.ZD(e),u=!0)),u?this.fg(o.J,o.Xc):(e=(u=new t.gd).Ib(e),h=u.Ib(n),t.Tk.V(u,s,r,!1),s=u.Ne(h).mg(),u.Gp(0,!0,!0),t.rn.V(u,e,-1,!1,r),0!=u.I(e)&&(t.rn.V(u,h,-1,!1,r),o.er(u,r),(n=0==u.I(h))||(o.Bp(e,h),o.j.Ug(),h=this.fg(o.J,o.Xc))?(e=u.Ne(e),e=(u=new t.gd).Ib(e),h=u.Ib(s),o.er(u,r),o.le=0,o.Yi(),o.bj(n?"T*****F**":"******F**"),o.IB(),o.Bp(e,h),o.j.Ug(),this.fg(o.J,o.Xc)):h))},i.$m=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.IB();var a=new t.l,u=new t.l;return e.A(a),n.A(u),r=!1,t.ud.dk(a,u,s)&&(h.Du(e,n),r=!0),r||(4==(a=t.ud.qc(e,n,!1))?(h.Du(e,n),r=!0):1==a&&(h.$D(n),r=!0)),r||(e=(r=new t.gd).Ib(e),n=r.Ib(n),h.Wo(r,s,o),h.kh=h.j.Dp(),i.Jw(n,h.j,h.kh),h.Bp(e,n),h.j.Ep(h.kh),h.j.Ug()),i.fg(h.J,h.Xc)},i.fB=function(e,n,s,r){var o=new i;o.Yi(),o.bj("T*****F**"),o.IB();var h=new t.l,a=new t.l;e.A(h),n.A(a);var u=!1;return t.ud.dk(h,a,s)&&(o.Du(e,n),u=!0),u||(4==(h=t.ud.qc(e,n,!1))?(o.Du(e,n),u=!0):1==h&&(o.$D(n),u=!0)),u?this.fg(o.J,o.Xc):(e=(u=new t.gd).Ib(e),n=u.Ib(n),o.Wo(u,s,r),0!=u.I(e)&&(o.Bp(e,n),o.j.Ug(),this.fg(o.J,o.Xc)))},i.pt=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.yJ();var a=new t.l,u=new t.l;return e.A(a),n.A(u),r=!1,t.ud.dk(a,u,s)&&(h.Eu(e),r=!0),r||(4==(a=t.ud.qc(e,n,!1))?(h.Eu(e),r=!0):1==a&&(h.zN(),r=!0)),r||(e=(r=new t.gd).Ib(e),n=r.Ib(n),h.Wo(r,s,o),h.Gy(e,n),h.j.Ug()),i.fg(h.J,h.Xc)},i.gB=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.eX(),r=new t.l;var a=new t.l;e.A(r),n.A(a);var u=!1;return t.ud.dk(r,a,s)&&(h.PG(e,n),u=!0),u||4!=t.ud.qc(e,n,!1)||(h.PG(e,n),u=!0),u||(e=(r=new t.gd).Ib(e),n=r.Ib(n),h.Wo(r,s,o),h.Yh=h.j.Dp(),h.kh=h.j.Dp(),i.Jw(e,h.j,h.Yh),i.Jw(n,h.j,h.kh),h.Bp(e,n),h.j.Ep(h.Yh),h.j.Ep(h.kh),h.j.Ug()),i.fg(h.J,h.Xc)},i.st=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.MJ(),r=new t.l;var a=new t.l;e.A(r),n.A(a);var u=!1;return t.ud.dk(r,a,s)&&(h.Vz(e),u=!0),u||4!=t.ud.qc(e,n,!1)||(h.Vz(e),u=!0),u||(e=(r=new t.gd).Ib(e),n=r.Ib(n),h.Wo(r,s,o),h.Yh=h.j.Dp(),i.Jw(e,h.j,h.Yh),h.Gy(e,n),h.j.Ep(h.Yh),h.j.Ug()),i.fg(h.J,h.Xc)},i.ZA=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.RJ(),r=new t.l;var a=new t.l;e.A(r),n.A(a);var u=!1;return t.ud.dk(r,a,s)&&(h.yI(),u=!0),u||(e=(r=new t.gd).Ib(e),n=r.Ib(n),h.Wo(r,s,o),h.Gy(e,n),h.j.Ug()),i.fg(h.J,h.Xc)},i.qt=function(e,n,s,r){var o=new i;o.Yi(),o.bj(r),o.yJ();var h=new t.l;e.A(h),n=n.D();var a=!1;return t.ud.Rw(n,h,s)&&(o.Eu(e),a=!0),a||(1==(s=t.hd.Yd(e,n,s))?(o.J[0]=0,o.J[2]=2,o.J[3]=-1,o.J[5]=1,o.J[6]=-1):2==s?(o.J[6]=-1,0!=e.Ke()?(o.J[0]=-1,o.J[3]=0,o.J[2]=2,o.J[5]=1):(o.J[0]=0,o.J[3]=-1,o.J[5]=-1,s=new t.l,e.A(s),o.J[2]=0==s.ca()&&0==s.R()?-1:1)):o.Eu(e)),this.fg(o.J,r)},i.tt=function(e,n,s,r,o){var h=new i;h.Yi(),h.bj(r),h.MJ();var a=new t.l;e.A(a),r=n.D();var u=!1;if(t.ud.Rw(r,a,s)&&(h.Vz(e),u=!0),!u){a=null;var c=u=!1;(h.ea[0]||h.ea[6])&&(t.ud.Yz(e,r,s)?(h.ea[0]&&(a=t.pi.gm(e,o),c=!t.ud.kt(a,r,s),u=!0,h.J[0]=c?-1:0),h.J[6]=-1):(h.J[0]=-1,h.J[6]=0)),h.ea[3]&&(null!=a&&a.B()?h.J[3]=-1:(u||(null==a&&(a=t.pi.gm(e,o)),c=!t.ud.kt(a,r,s),u=!0),h.J[3]=c?0:-1)),h.ea[5]&&(null!=a&&a.B()?h.J[5]=-1:u&&!c?h.J[5]=0:(null==a&&(a=t.pi.gm(e,o)),o=t.ud.Nw(a,n,s),h.J[5]=o?-1:0)),h.ea[2]&&(0!=e.Qb()?h.J[2]=1:((o=new t.de(e.description)).Fd(e,0,e.I()),e=t.ud.Nw(o,n,s),h.J[2]=e?-1:0))}return this.fg(h.J,h.Xc)},i.lt=function(e,n,s,r){var o=new i;o.Yi(),o.bj(r),o.RJ();var h=new t.l;e.A(h),n=n.D();var a=!1;if(t.ud.Rw(n,h,s)&&(o.yI(),a=!0),!a){h=!1,a=!0,s*=s;for(var u=0;u<e.I();u++){var c=e.Na(u);if(t.h.yc(c,n)<=s?h=!0:a=!1,h&&!a)break}h?(o.J[0]=0,o.J[2]=a?-1:0,o.J[6]=-1):(o.J[0]=-1,o.J[2]=0,o.J[6]=0)}return i.fg(o.J,r)},i.$U=function(e,n,s,r){e=e.D(),n=n.D();for(var o=[],h=0;9>h;h++)o[h]=-1;return t.h.yc(e,n)<=s*s?o[0]=0:(o[2]=0,o[6]=0),o[8]=2,i.fg(o,r)},i.fg=function(t,i){for(var e=0;9>e;e++)switch(i.charAt(e)){case"T":if(-1==t[e])return!1;break;case"F":if(-1!=t[e])return!1;break;case"0":if(0!=t[e])return!1;break;case"1":if(1!=t[e])return!1;break;case"2":if(2!=t[e])return!1}return!0},i.uW=function(i,e,n){var s=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(i.B()&&e.B()){for(var r=0;9>r;r++)s[r]=-1;return this.fg(s,n)}return r=!1,i.B()&&(i=e,r=!0),s[0]=-1,s[1]=-1,s[3]=-1,s[4]=-1,s[6]=-1,s[7]=-1,s[8]=2,e=i.getType(),t.aa.Hc(e)?1736==e?0!=i.Ke()?(s[2]=2,s[5]=1):(s[5]=-1,e=new t.l,i.A(e),s[2]=0==e.ca()&&0==e.R()?0:1):(e=0!=i.Qb(),s[2]=e?1:0,s[5]=t.pi.aq(i)?0:-1):(s[2]=0,s[5]=-1),r&&this.vK(s),this.fg(s,n)},i.MR=function(t,e,n){return i.dQ(t)?3:i.UP(t)?4:i.cY(t,e,n)?8:i.CP(t,e,n)?16:i.eP(t)?1:i.EU(t,e,n)?32:0},i.dQ=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"F"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"F"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},i.UP=function(t){return"F"==t.charAt(0)&&"F"==t.charAt(1)&&"*"==t.charAt(2)&&"F"==t.charAt(3)&&"F"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},i.cY=function(t,i,e){return(0!=i||0!=e)&&((2!=i||2!=e)&&("F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"T"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)||1==i&&1==e&&"F"==t.charAt(0)&&"T"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))||0!=e&&"F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"T"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))},i.CP=function(t,i,e){return i>e?"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8):1==i&&1==e&&"0"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},i.eP=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},i.EU=function(t,i,e){if(i==e){if(1!=i)return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8);if("1"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))return!0}return!1},i.Jw=function(t,i,e){t=i.La(t);for(var n=i.Re;-1!=n;n=i.Rf(n))if(i.xd(n)&t){var s=i.Me(n);if(-1==s)i.nn(n,e,0);else{var r=s,o=0;do{!!(i.dh(r)&t)&&o++,r=i.jc(i.xa(r))}while(r!=s);i.nn(n,e,o)}}},i.Zp=function(t){var i=""+t.charAt(0);return i+=t.charAt(3),i+=t.charAt(6),i+=t.charAt(1),i+=t.charAt(4),i+=t.charAt(7),i+=t.charAt(2),(i+=t.charAt(5))+t.charAt(8)},i.prototype.Yi=function(){for(var t=0;9>t;t++)this.J[t]=-2,this.Za[t]=-2},i.vK=function(t){var i=t[1],e=t[2],n=t[5];t[1]=t[3],t[2]=t[6],t[5]=t[7],t[3]=i,t[6]=e,t[7]=n},i.prototype.bj=function(t){for(this.Xc=t,t=0;9>t;t++)"*"!=this.Xc.charAt(t)?(this.ea[t]=!0,this.le++):this.ea[t]=!1},i.prototype.UJ=function(){for(var t=0;9>t;t++)this.ea[t]&&-2==this.J[t]&&(this.J[t]=-1,this.ea[t]=!1)},i.prototype.pc=function(t){return!(-2==this.J[t]||(-1==this.J[t]?(this.ea[t]=!1,this.le--,0):"T"!=this.Xc.charAt(t)&&"F"!=this.Xc.charAt(t)&&this.J[t]<this.Za[t]||(this.ea[t]=!1,this.le--,0)))},i.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.xN=function(t,i,e){var n=!0;return this.ea[0]&&(this.CS(t,i,e),n=n&&this.pc(0)),this.ea[1]&&(this.sG(t,i,1),n=n&&this.pc(1)),this.ea[2]&&(this.tG(t,i,e,2),n=n&&this.pc(2)),this.ea[3]&&(this.sG(t,e,3),n=n&&this.pc(3)),this.ea[4]&&(this.BN(t,i,e),n=n&&this.pc(4)),this.ea[5]&&(this.eE(t,e,5),n=n&&this.pc(5)),this.ea[6]&&(this.tG(t,e,i,6),n=n&&this.pc(6)),this.ea[7]&&(this.eE(t,i,7),n=n&&this.pc(7)),n},i.prototype.Cu=function(t,i){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(t,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(i,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},i.prototype.Fr=function(i,e,n,s,r){-1==e&&-1==s||(("T"!=n&&"F"!=n&&-1!=e||"T"!=r&&"F"!=r&&-1!=s)&&0==i.Ke()?(-1!=s&&(this.J[s]=-1),-1!=e&&(n=new t.l,i.A(n),this.J[e]=0==n.ca()&&0==n.R()?0:1)):(-1!=e&&(this.J[e]=2),-1!=s&&(this.J[s]=1)))},i.prototype.ly=function(t){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(t,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},i.prototype.ZD=function(t){this.ly(t),i.vK(this.J)},i.prototype.Du=function(i,e){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var n=this.Xc.charAt(6);n="T"==n||"F"==n||0!=e.Qb(),this.J[6]=n?1:0}this.ea[7]&&(e=t.pi.aq(e),this.J[7]=e?0:-1),this.Fr(i,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},i.prototype.$D=function(i){if(this.ea[0]){var e=this.Xc.charAt(0);e="T"==e||"F"==e||0!=i.Qb(),this.J[0]=e?1:0}this.ea[1]&&(i=t.pi.aq(i),this.J[1]=i?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},i.prototype.Eu=function(t){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(t,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},i.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},i.prototype.PG=function(i,e){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var n=this.Xc.charAt(2);n="T"==n||"F"==n||0!=i.Qb(),this.J[2]=n?1:0}this.ea[5]&&(i=t.pi.aq(i),this.J[5]=i?0:-1),this.ea[6]&&(n="T"==(n=this.Xc.charAt(6))||"F"==n||0!=e.Qb(),this.J[6]=n?1:0),this.ea[7]&&(e=t.pi.aq(e),this.J[7]=e?0:-1)},i.prototype.Vz=function(i){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var e=this.Xc.charAt(2);e="T"==e||"F"==e||0!=i.Qb(),this.J[2]=e?1:0}this.ea[5]&&(i=t.pi.aq(i),this.J[5]=i?0:-1),this.J[6]=0},i.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},i.prototype.yN=function(t,i,e){var n=!0;return this.ea[0]&&(this.DS(t,i),n=n&&this.pc(0)),this.ea[1]&&(this.zS(t,i,e,this.kh),n=n&&this.pc(1)),this.ea[2]&&(this.AS(t,i),n=n&&this.pc(2)),this.ea[3]&&(this.FN(t,i,e,this.kh),n=n&&this.pc(3)),this.ea[4]&&(this.CN(t,i,e,this.kh),n=n&&this.pc(4)),this.ea[5]&&(this.DN(t,i,e),n=n&&this.pc(5)),this.ea[6]&&(this.lQ(t,i),n=n&&this.pc(6)),this.ea[7]&&(this.kQ(t,i,e,this.kh),n=n&&this.pc(7)),n},i.prototype.mT=function(t,i,e){var n=!0;return this.ea[0]&&(this.GS(t,i,e,this.Yh,this.kh),n=n&&this.pc(0)),this.ea[1]&&(this.uG(t,i,e,this.Yh,this.kh,1),n=n&&this.pc(1)),this.ea[2]&&(this.vG(t,i,e,2),n=n&&this.pc(2)),this.ea[3]&&(this.uG(t,e,i,this.kh,this.Yh,3),n=n&&this.pc(3)),this.ea[4]&&(this.HN(t,i,e,this.Yh,this.kh),n=n&&this.pc(4)),this.ea[5]&&(this.fE(t,e,this.Yh,5),n=n&&this.pc(5)),this.ea[6]&&(this.vG(t,e,i,6),n=n&&this.pc(6)),this.ea[7]&&(this.fE(t,i,this.kh,7),n=n&&this.pc(7)),n},i.prototype.aE=function(t,i,e){var n=!0;return this.ea[0]&&(this.ES(t,i),n=n&&this.pc(0)),this.ea[2]&&(this.BS(t,i),n=n&&this.pc(2)),this.ea[3]&&(this.GN(t,i,e),n=n&&this.pc(3)),this.ea[5]&&(this.EN(t,i),n=n&&this.pc(5)),this.ea[6]&&(this.mQ(t,i),n=n&&this.pc(6)),n},i.prototype.QG=function(t,i,e){var n=!0;return this.ea[0]&&(this.HS(t,i,e,this.Yh),n=n&&this.pc(0)),this.ea[2]&&(this.FS(t,e),n=n&&this.pc(2)),this.ea[3]&&(this.JN(t,i,e,this.Yh),n=n&&this.pc(3)),this.ea[5]&&(this.IN(t,i,e,this.Yh),n=n&&this.pc(5)),this.ea[6]&&(this.nQ(t,i,e),n=n&&this.pc(6)),n},i.prototype.ZU=function(t,i,e){var n=!0;return this.ea[0]&&(this.IS(t,i,e),n=n&&this.pc(0)),this.ea[2]&&(this.wG(t,i,e,2),n=n&&this.pc(2)),this.ea[6]&&(this.wG(t,e,i,6),n=n&&this.pc(6)),n},i.prototype.CS=function(t,i,e){2!=this.J[0]&&(t=this.j.af(t))&i&&t&e&&(this.J[0]=2)},i.prototype.sG=function(t,i,e){if(1!=this.J[e]){var n=this.j.af(this.j.xa(t));this.j.af(t)&i&&n&i&&(this.J[e]=1)}},i.prototype.tG=function(t,i,e,n){2!=this.J[n]&&(t=this.j.af(t))&i&&!(t&e)&&(this.J[n]=2)},i.prototype.BN=function(t,i,e){if(1!=this.J[4]){var n=this.j.dh(t);n&i&&n&e?this.J[4]=1:0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.xd(this.j.uf(t)))&i&&t&e&&(this.J[4]=0)}},i.prototype.eE=function(t,i,e){if(1!=this.J[e]){var n=this.j.af(this.j.xa(t));!(this.j.af(t)&i)&&!(n&i)&&(this.J[e]=1)}},i.prototype.DS=function(t,i){if(1!=this.J[0]){var e=this.j.af(this.j.xa(t));this.j.af(t)&i&&e&i&&(this.J[0]=1)}},i.prototype.zS=function(t,i,e,n){if(0!=this.J[1]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var s=this.j.uf(t),r=this.j.xd(s);!(r&i)&&this.j.af(t)&i&&(t=this.j.ng(s,n),r&e&&0!=t%2&&(this.J[1]=0))}},i.prototype.AS=function(t,i){2!=this.J[2]&&this.j.dh(t)&i&&(this.J[2]=2)},i.prototype.FN=function(t,i,e,n){if(1!=this.J[3]){var s=this.j.dh(t);s&i&&s&e?this.J[3]=1:0!=this.J[3]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(s=this.j.uf(t),(t=this.j.xd(s))&i&&(i=this.j.ng(s,n),t&e&&0==i%2&&(this.J[3]=0)))}},i.prototype.CN=function(t,i,e,n){if(0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var s=this.j.uf(t);(t=this.j.xd(s))&i&&(i=this.j.ng(s,n),t&e&&0!=i%2&&(this.J[4]=0))}},i.prototype.DN=function(t,i,e){1!=this.J[5]&&(t=this.j.dh(t))&i&&!(t&e)&&(this.J[5]=1)},i.prototype.lQ=function(t,i){if(1!=this.J[6]){var e=this.j.af(this.j.xa(t));!(this.j.af(t)&i)&&!(e&i)&&(this.J[6]=1)}},i.prototype.kQ=function(t,i,e,n){if(0!=this.J[7]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var s=this.j.uf(t),r=this.j.xd(s);!(r&i)&&!(this.j.af(t)&i)&&(t=this.j.ng(s,n),r&e&&0!=t%2&&(this.J[7]=0))}},i.prototype.GS=function(t,i,e,n,s){if(1!=this.J[0]){var r=this.j.dh(t);r&i&&r&e?this.J[0]=1:0!=this.J[0]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.uf(t),(r=this.j.xd(t))&i&&r&e&&(i=this.j.ng(t,n),s=this.j.ng(t,s),0==i%2&&0==s%2&&(this.J[0]=0)))}},i.prototype.uG=function(t,i,e,n,s,r){if(0!=this.J[r]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){t=this.j.uf(t);var o=this.j.xd(t);o&i&&o&e&&(i=this.j.ng(t,n),s=this.j.ng(t,s),0==i%2&&0!=s%2&&(this.J[r]=0))}},i.prototype.vG=function(t,i,e,n){1!=this.J[n]&&(t=this.j.dh(t))&i&&!(t&e)&&(this.J[n]=1)},i.prototype.HN=function(t,i,e,n,s){if(0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){t=this.j.uf(t);var r=this.j.xd(t);r&i&&r&e&&(i=this.j.ng(t,n),s=this.j.ng(t,s),0!=i%2&&0!=s%2&&(this.J[4]=0))}},i.prototype.fE=function(t,i,e,n){0!=this.J[n]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.uf(t),!(this.j.xd(t)&i)&&0!=this.j.ng(t,e)%2&&(this.J[n]=0))},i.prototype.ES=function(t,i){0!=this.J[0]&&!(this.j.xd(t)&i)&&this.j.hk(this.j.cz(t))&i&&(this.J[0]=0)},i.prototype.BS=function(t,i){2!=this.J[2]&&this.j.xd(t)&i&&(this.J[2]=2)},i.prototype.GN=function(t,i,e){0!=this.J[3]&&(t=this.j.xd(t))&i&&t&e&&(this.J[3]=0)},i.prototype.EN=function(t,i){1!=this.J[5]&&this.j.xd(t)&i&&(this.J[5]=1)},i.prototype.mQ=function(t,i){0!=this.J[6]&&!(this.j.xd(t)&i)&&!(this.j.hk(this.j.cz(t))&i)&&(this.J[6]=0)},i.prototype.HS=function(t,i,e,n){if(0!=this.J[0]){var s=this.j.xd(t);s&i&&s&e&&0==this.j.ng(t,n)%2&&(this.J[0]=0)}},i.prototype.FS=function(t,i){1!=this.J[2]&&(-1!=this.j.Me(t)?this.J[2]=1:0!=this.J[2]&&!(this.j.xd(t)&i)&&(this.J[2]=0))},i.prototype.JN=function(t,i,e,n){if(0!=this.J[3]){var s=this.j.xd(t);s&i&&s&e&&0!=this.j.ng(t,n)%2&&(this.J[3]=0)}},i.prototype.IN=function(t,i,e,n){if(0!=this.J[5]){var s=this.j.xd(t);s&i&&!(s&e)&&0!=this.j.ng(t,n)%2&&(this.J[5]=0)}},i.prototype.nQ=function(t,i,e){0!=this.J[6]&&!((t=this.j.xd(t))&i)&&t&e&&(this.J[6]=0)},i.prototype.IS=function(t,i,e){0!=this.J[0]&&(t=this.j.xd(t))&i&&t&e&&(this.J[0]=0)},i.prototype.wG=function(t,i,e,n){0!=this.J[n]&&(t=this.j.xd(t))&i&&!(t&e)&&(this.J[n]=0)},i.prototype.Bp=function(i,e){var n=!1;i=this.j.La(i),e=this.j.La(e),this.Ui=this.j.$g();for(var s=this.j.Re;-1!=s;s=this.j.Rf(s)){var r=this.j.Me(s);if(-1==r){if(-1!=this.Sm)switch(this.Sm){case 3:n=this.aE(s,i,e);break;case 4:n=this.QG(s,i,e);break;default:throw t.i.fa("internal error")}}else{var o=r;do{var h=o;if(1!=this.j.Ab(h,this.Ui))do{switch(this.vw){case 0:n=this.xN(h,i,e);break;case 1:n=this.yN(h,i,e);break;case 2:n=this.mT(h,i,e);break;default:throw t.i.fa("internal error")}if(n)break;this.j.Kb(h,this.Ui,1),h=this.j.jc(h)}while(h!=o&&!n);if(n)break;o=this.j.jc(this.j.xa(h))}while(o!=r);if(n)break}}n||this.UJ(),this.j.Jg(this.Ui)},i.prototype.Gy=function(i,e){var n=!1;i=this.j.La(i),e=this.j.La(e);for(var s=this.j.Re;-1!=s;s=this.j.Rf(s)){switch(this.Sm){case 3:n=this.aE(s,i,e);break;case 4:n=this.QG(s,i,e);break;case 5:n=this.ZU(s,i,e);break;default:throw t.i.Qa()}if(n)break}n||this.UJ()},i.prototype.er=function(t,i){this.j.dr(t,i)},i.prototype.Wo=function(t,i,e){this.YP(t,i,e),this.er(t,e)},i.prototype.YP=function(i,e,n){for(t.Tk.V(i,e,n,!1),i.Gp(0,!0,!0),e=i.ld;-1!=e;e=i.ue(e))1736==i.ic(e)&&t.rn.V(i,e,-1,!1,n)},i.WE=function(i,e){var n=i.getType();return t.aa.yd(n)?((e=new t.Ta(i.description)).oc(i,!0),e):197==n?(n=new t.l,i.A(n),n.ca()<=e&&n.R()<=e?(e=new t.Sa(i.description),i.sf(e),e):n.ca()<=e||n.R()<=e?(e=new t.Ta(i.description),n=new t.Sa,i.Hf(0,n),e.nf(n),i.Hf(2,n),e.lineTo(n),e):((e=new t.Da(i.description)).ad(i,!1),e)):i},i}(),t.am=i}(W||(W={})),function(t){var i=function(){function i(i){this.Em=new t.ia(0),this.dw=new t.ia(0),this.wt=new t.h,this.xt=new t.h,this.g=i,this.Hs=-1}return i.prototype.bc=function(t){return this.g.bc(this.zz(t))},i.prototype.Bv=function(t){var i=this.iz(t);if(t=this.HF(t),this.g.Ma(i)==t){var e=i;i=t,t=e}return this.g.Gc(i,this.wt),this.g.Gc(t,this.xt),this.wt.y<this.xt.y},i.prototype.zz=function(t){var i=this.iz(t);return t=this.HF(t),this.g.U(i)==t?i:t},i.prototype.iz=function(t){return this.Em.get(t)},i.prototype.HF=function(t){return this.dw.get(t)},i.prototype.rF=function(t){this.Em.set(t,this.Hs),this.Hs=t},i.prototype.nI=function(i){if(-1!=this.Hs){var e=this.Hs;return this.Hs=this.Em.get(e),this.Em.set(e,i),this.dw.set(e,this.g.U(i)),e}return null==this.Em&&(this.Em=new t.ia(0),this.dw=new t.ia(0)),e=this.Em.size,this.Em.add(i),this.dw.add(this.g.U(i)),e},i.prototype.rz=function(t){return this.g.bd(this.iz(t))},i}();t.yY=i;var e=function(){function i(i){this.Be=i,this.ie=new t.yb,this.Nm=new t.yb,this.CH=0,this.Ao=null,this.yA=-1}return i.prototype.compare=function(t,i,e){e=t.ja(e);var n=this.Be.hb;if(this.yA==i)var s=this.CH;else this.Ao=n.bc(i),null==this.Ao?((t=n.g).ed(n.zz(i),this.ie),this.Ao=this.ie,s=this.ie.Pe(this.Be.yh,0)):s=this.Ao.Pe(this.Be.yh,0),this.CH=s,this.yA=i;if(null==(t=n.bc(e))){(t=n.g).ed(n.zz(e),this.Nm),t=this.Nm;var r=this.Nm.Pe(this.Be.yh,0)}else r=t.Pe(this.Be.yh,0);return s==r&&(i=n.Bv(i),e=n.Bv(e),(i=.5*((e=Math.min(i?this.Ao.la:this.Ao.na,e?t.la:t.na))+this.Be.yh))==this.Be.yh&&(i=e),s=this.Ao.Pe(i,0),r=t.Pe(i,0)),s<r?-1:s>r?1:0},i.prototype.reset=function(){this.yA=-1},i}(),n=function(){function n(){this.Wm=this.Gl=null,this.fb=new t.Yj,this.fb.RP(),this.$d=new e(this),this.fb.Vo(this.$d)}return n.prototype.HQ=function(){var i=!1;if(this.fw&&(i=this.IQ()),1==this.g.da(this.X)){var e=this.g.Ob(this.X);return i=this.g.wz(e),this.g.PB(e,!0),0>i&&(i=this.g.Xa(e),this.g.pJ(i),this.g.Wg(e,this.g.Ma(i)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),e=this.g.Ob(this.X);-1!=e;e=this.g.Rb(e))this.g.gr(e,this.El,0),this.g.gr(e,this.wo,-1);e=new t.ia(0),this.yh=NaN;var n=new t.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var s=this.Gl.rc(this.Gl.je);-1!=s;s=this.Gl.lb(s)){var r=this.Gl.getData(s);if(this.g.Gc(r,n),n.y!=this.yh&&0!=e.size&&(i=this.ut(e)||i,this.$d.reset(),e.clear(!1)),e.add(r),this.yh=n.y,0==this.et)break}for(0<this.et&&(i=this.ut(e)||i,e.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),e=this.g.Ob(this.X);-1!=e;)if(3==this.g.sj(e,this.El)){for(this.g.PB(e,!0),n=e,e=this.g.sj(e,this.wo);-1!=e;)s=this.g.sj(e,this.wo),this.g.ZT(this.X,this.g.Rb(n),e),n=e,e=s;e=this.g.Rb(n)}else this.g.PB(e,!1),e=this.g.Rb(e);return this.g.CB(this.El),this.g.CB(this.wo),i},n.prototype.ut=function(t){return this.$V(t)},n.prototype.$V=function(e){var n=!1;null==this.hb&&(this.hb=new i(this.g)),null==this.Wm?(this.Wm=new t.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(e);for(var s=0,r=e.size;s<r;s++){var o=e.get(s);-1!=o&&this.oG(o,-1)}for(s=0;s<this.Wm.size&&0<this.et;s++)if(e=this.Wm.get(s),o=this.hb.rz(this.fb.ja(e)),r=-1,0==this.g.sj(o,this.El)){o=this.fb.we(e);for(var h,a=e;-1!=o;){var u=this.fb.ja(o),c=this.hb.rz(u),l=this.g.sj(c,this.El);if(0!=l){r=c;break}a=o,o=this.fb.we(o)}-1==o?(h=!0,o=a):(u=this.fb.ja(o),h=this.hb.Bv(u),o=this.fb.lb(o),h=!h);do{if(u=this.fb.ja(o),c=this.hb.rz(u),0==(l=this.g.sj(c,this.El))&&(h!=this.hb.Bv(u)&&(n=this.g.Xa(c),this.g.pJ(n),this.g.Wg(c,this.g.Ma(n)),n=!0),this.g.gr(c,this.El,h?3:2),h||(a=this.g.sj(r,this.wo),this.g.gr(r,this.wo,c),this.g.gr(c,this.wo,a)),this.et--,0==this.et))return n;r=c,a=o,o=this.fb.lb(o),h=!h}while(a!=e)}return n},n.prototype.ZV=function(t){for(var i=0,e=t.size;i<e;i++){var n=t.get(i),s=this.g.Pa(n,this.ro),r=this.g.Pa(n,this.Rs);if(-1!=s){var o=this.fb.ja(s);this.hb.rF(o),this.g.Ra(n,this.ro,-1)}-1!=r&&(o=this.fb.ja(r),this.hb.rF(o),this.g.Ra(n,this.Rs,-1)),o=-1,-1!=s&&-1!=r?(this.fb.vd(s,-1),this.fb.vd(r,-1),t.set(i,-1)):o=-1!=s?s:r,-1!=o&&(this.oG(n,o)||this.fb.vd(o,-1),t.set(i,-1))}},n.prototype.oG=function(i,e){var n=new t.h,s=new t.h;this.g.Gc(i,n);var r=this.g.U(i);this.g.Gc(r,s);var o=!1;if(n.y<s.y){o=!0;var h=this.hb.nI(i);if(-1==e)var a=this.fb.addElement(h,-1);else a=e,this.fb.Sj(a,h);-1==(h=this.g.Pa(r,this.ro))?this.g.Ra(r,this.ro,a):this.g.Ra(r,this.Rs,a),r=this.g.bd(i),0==this.g.sj(r,this.El)&&this.Wm.add(a)}return r=this.g.Ma(i),this.g.Gc(r,s),n.y<s.y&&(o=!0,h=this.hb.nI(r),-1==e?a=this.fb.addElement(h,-1):(a=e,this.fb.Sj(a,h)),-1==(h=this.g.Pa(r,this.ro))?this.g.Ra(r,this.ro,a):this.g.Ra(r,this.Rs,a),r=this.g.bd(i),0==this.g.sj(r,this.El)&&this.Wm.add(a)),o},n.V=function(t,i,e,s){var r=new n;return r.g=t,r.X=i,r.Gl=e,r.fw=s,r.HQ()},n.prototype.IQ=function(){var i=new t.ia(0),e=new t.ia(0),n=-1,s=-1,r=new t.h;r.Rc();for(var o=-1,h=-1,a=-1,u=new t.h,c=this.Gl.rc(this.Gl.je);-1!=c;c=this.Gl.lb(c)){var l=this.Gl.getData(c);this.g.Gc(l,u);var f=this.g.bd(l);r.qb(u)&&h==f?(-1==s&&(n=this.g.Ky(),s=this.g.Gd()),-1==a&&(a=e.size,this.g.Ra(o,s,a),e.add(1),-1==this.g.sj(f,n)&&(this.g.gr(f,n,o),i.add(f))),this.g.Ra(l,s,a),e.bX(e.Fc()+1)):(a=-1,r.L(u)),o=l,h=f}if(0==i.size)return!1;for(r=new t.ia(0),o=new t.ia(0),h=0,a=i.size;h<a;h++){f=i.get(h);var p=this.g.sj(f,n);for(l=this.g.Pa(p,s),r.clear(!1),o.clear(!1),r.add(p),o.add(l),l=this.g.U(p);l!=p;l=this.g.U(l)){var d=l;if(-1!=(u=this.g.Pa(d,s)))if(0==o.size)o.add(u),r.add(d);else if(o.Fc()==u){c=r.Fc();var v=this.g.U(c);p=this.g.U(d),this.g.Bc(c,p),this.g.Cc(p,c),this.g.Bc(d,v),this.g.Cc(v,d),d=[!1],v=this.g.nG(this.X,v,this.g.Xa(f),d),this.g.Ra(l,s,-1),d[0]&&this.g.Jf(f,p),l=this.g.Ja(f),l-=p=this.g.Ja(v),this.g.Vj(f,l),e.set(u,e.get(u)-1),1==e.get(u)&&(e.set(u,0),o.If(),r.If()),l=p=c}else r.add(l),o.add(u)}}return this.g.CB(n),this.g.Td(s),!0},n}();t.WL=n}(W||(W={})),function(t){var i=function(){function i(){}return i.prototype.ig=function(){this.PA=this.sb=null},i.prototype.get=function(){return this.PA},i.prototype.set=function(i){if(this.PA=i,null!=i)throw 322==i.getType()&&(this.sb=i),t.i.Qa()},i.prototype.create=function(i){if(322!=i)throw t.i.fa("Not Implemented");this.Or()},i.prototype.Or=function(){null==this.sb&&(this.sb=new t.yb),this.PA=this.sb},i}();t.ig=i}(W||(W={})),function(t){(t=t.XL||(t.XL={}))[t.enumLineSeg=1]="enumLineSeg",t[t.enumBezierSeg=2]="enumBezierSeg",t[t.enumArcSeg=4]="enumArcSeg",t[t.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",t[t.enumSegmentMask=7]="enumSegmentMask",t[t.enumDensified=8]="enumDensified"}(W||(W={})),function(t){var i=function(t){this.$i=t,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},e=function(){function e(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new t.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return e.prototype.wB=function(t){if(null!=t){for(var i=0,e=t.length;i<e;i++)this.rW(t[i]);t.length=0}},e.prototype.rW=function(t){t.$i=null,this.Iq.push(t)},e.prototype.Ow=function(t){if(0===this.Iq.length)var e=new i(t);else(e=this.Iq[this.Iq.length-1]).$i=t,--this.Iq.length;return e},e.prototype.SR=function(t,i){return 0==t?this.$s[i]:this.yw[i]},e.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new t.ig);var i=this.MA[this.Cw];return this.Cw++,i},e.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},e.prototype.Oo=function(t){this.mo.push(this.Ow(t))},e.prototype.ol=function(t){return 0==t?this.$s.length:this.yw.length},e.prototype.Vp=function(t,i){return this.SR(t,i).$i},e.prototype.Ea=function(i,e){if(2!=this.mo.length)throw t.i.Qa();this.qa=i;var n=t.lc.ox(.01*i),s=!1,r=this.mo[0],o=this.mo[1];if(e||5&r.$i.zr(o.$i,i,!0)){if(322==r.$i.getType()){var h=r.$i;if(322==o.$i.getType()){e=o.$i;var a=t.yb.Zx(h,e,null,this.Fq,this.Bk,i);if(0==a)throw t.yb.Zx(h,e,null,this.Fq,this.Bk,i),t.i.Qa();i=Array(9),t.O.$u(i,null);for(var u=0;u<a;u++){var c=this.Fq[u],l=this.Bk[u],f=r.sB,p=1;0==c?(f=r.tB,p=r.rC):1==c&&(f=r.rB,p=r.qC);var d=o.sB,v=1;0==l?(d=o.tB,v=o.rC):1==l&&(d=o.rB,v=o.qC);var y=new t.h;f==d?(f=new t.h,h.hc(c,f),c=new t.h,e.hc(l,c),v/=l=p+v,t.lc.OG(f,c,v,y),t.h.yc(y,f)+t.h.yc(y,c)>n&&(s=!0)):f>d?(h.hc(c,y),c=new t.h,e.hc(l,c),t.h.yc(y,c)>n&&(s=!0)):(e.hc(l,y),f=new t.h,h.hc(c,f),t.h.yc(y,f)>n&&(s=!0)),i[u]=y}for(r=0,o=-1,u=0;u<=a;u++)(v=u<a?this.Fq[u]:1)!=r&&(n=this.aB(),h.ah(r,v,n),-1!=o&&n.get().Dc(i[o]),u!=a&&n.get().Qc(i[u]),r=v,this.$s.push(this.Ow(n.get()))),o=u;for(h=[0,0,0,0,0,0,0,0,0],u=0;u<a;u++)h[u]=u;for(1<a&&this.Bk[0]>this.Bk[1]&&(v=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=v,u=h[0],h[0]=h[1],h[1]=u),r=0,o=-1,u=0;u<=a;u++)(v=u<a?this.Bk[u]:1)!=r&&(n=this.aB(),e.ah(r,v,n),-1!=o&&(r=h[o],n.get().Dc(i[r])),u!=a&&(r=h[u],n.get().Qc(i[r])),r=v,this.yw.push(this.Ow(n.get()))),o=u;return s}}throw t.i.Qa()}return!1},e.prototype.Kz=function(i,e,n){if(e.copyTo(this.Bf),1!=this.mo.length)throw t.i.Qa();this.qa=i;var s=this.mo[0];if(n||s.$i.ru(e.D(),i,!0)){if(322!=s.$i.getType())throw t.i.Qa();var r=(i=s.$i).fe(e.D(),!1);this.Fq[0]=r;var o=s.sB;for(n=1,0==r?(o=s.tB,n=s.rC):1==r&&(o=s.rB,n=s.qC),s=new t.h,0==o?(o=new t.h,i.hc(r,o),e=e.D(),t.lc.OG(o,e,1/(n+1),s)):0<o?(s=new t.h,i.hc(r,s)):s=e.D(),n=0,r=-1,o=0;1>=o;o++){if((e=1>o?this.Fq[o]:1)!=n){var h=this.aB();i.ah(n,e,h),-1!=r&&h.get().Dc(s),1!=o&&h.get().Qc(s),n=e,this.$s.push(this.Ow(h.get()))}r=o}this.Bf.Cb(s)}},e}();t.TC=e}(W||(W={})),function(t){var i=function(){function i(i){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=i,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new t.h}return i.prototype.BW=function(i){if(this.ib!=i.ib)throw t.i.Hb();this.zf=i.zf,this.Jd=i.Jd,this.gb=i.gb,this.Cl=i.Cl,this.ag=i.ag,this.zm=i.zm,this.rk=null},i.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw t.i.ce();this.Jd++}return this.rk},i.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(0==this.Jd)throw t.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},i.prototype.DW=function(){this.zf=-1,this.Jd=0},i.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},i.prototype.Vb=function(t,i){if(void 0===i&&(i=-1),0<=this.gb&&this.gb<this.ib.da()){var e=this.IM();if(t>=e&&t<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=t-e)}i=0<=i&&i<this.ib.da()&&t>=this.ib.Ba(i)&&t<this.ib.Vc(i)?i:this.ib.sz(t),this.Cl=i+1,this.gb=i,this.zf=-1,this.Jd=t-this.ib.Ba(i),this.ag=this.Wx(i),this.ib.Ba(this.gb),this.ib.dc(this.gb)},i.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da()||(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,0))},i.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},i.prototype.Wx=function(t){if(this.ib.Ac())return 0;var i=1;return this.ib.dc(t)&&(i=0),this.ib.Ja(t)-i},i.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},i.prototype.JB=function(){this.zm=!0},i.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},i.prototype.IM=function(){return this.ib.Ba(this.gb)},i.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},i.prototype.vm=function(){return 0==this.zf},i.prototype.Qn=function(){return this.zf==this.ag-1},i.prototype.Ha=function(){return this.Jd<this.ag},i.prototype.Ez=function(){return 0<this.Jd},i.prototype.Of=function(){var t=new i(this.ib);return t.zf=this.zf,t.Jd=this.Jd,t.ag=this.ag,t.gb=this.gb,t.Cl=this.Cl,t.ib=this.ib,t.zm=this.zm,t},i.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw t.i.ce();this.zf=this.Jd;var i=this.wb();this.ib.mc();var e=this.ib.Ve,n=1;switch(null!=e&&(n=7&e.read(i)),e=this.ib.description,n){case 1:null==this.sb&&(this.sb=new t.yb),this.rk=this.sb;break;case 2:throw t.i.fa("internal error");default:throw t.i.Qa()}this.rk.Nf(e),n=this.ik(),this.ib.Gc(i,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(n,this.Ds),this.rk.Qc(this.Ds);for(var s=1,r=e.Aa;s<r;s++)for(var o=e.kd(s),h=t.ra.Va(o),a=0;a<h;a++){var u=this.ib.Uc(o,i,a);this.rk.YB(o,a,u),u=this.ib.Uc(o,n,a),this.rk.OB(o,a,u)}},i.prototype.$S=function(){return this.gb==this.ib.da()-1},i.prototype.Pn=function(){var t=this.ib.VR();return null!=t&&1!=(7&t.read(this.zf))},i}();t.YL=i}(W||(W={})),function(t){var i=function(){function i(i){i instanceof t.aa?(this.xH=i,this.ya=-1,this.Ei=1):(this.vT=i.slice(0),this.ya=-1,this.Ei=i.length)}return i.prototype.La=function(){return this.ya},i.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,null!=this.xH?this.xH:this.vT[this.ya]):null},i.prototype.qe=function(){},i}();t.Zc=i}(W||(W={})),function(t){var i=function(){this.next=null},e=function(){function e(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return e.prototype.AX=function(i,e,n){this.oi=i,this.pl=e,this.Jh=this.Wl=null,this.Tq=0,this.vy=n,null==this.gn&&(this.gn=t.O.lg(384,0)),this.nK()},e.prototype.R=function(){return this.oi},e.prototype.ca=function(){return this.pl},e.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},e.prototype.nK=function(){if(0<this.Tq){for(var t=0;t<this.pl;t++){for(var i=this.Wl[t];null!=i;){var e=i;i=i.next,e.next=null}this.Wl[t]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},e.prototype.iJ=function(t){for(this.kF=t==e.Cx,t=this.Lw;t<=this.Kw;t++)this.sN(),this.lN(t),this.ZP();this.nK()},e.prototype.jy=function(e,n,s,r){if(n!=r){var o=1;if(n>r&&(o=e,e=s,s=o,o=n,n=r,r=o,o=-1),!(0>r||n>=this.pl)){0>e&&0>s?s=e=-1:e>=this.oi&&s>=this.oi&&(s=e=this.oi);var h=(s-e)/(r-n);r>this.pl&&(s=h*((r=this.pl)-n)+e),0>n&&(e=h*(0-n)+e,n=0);var a=Math.max(this.oi+1,8388607);-8388607>e?(n=(0-e)/h+n,e=0):e>a&&(n=(this.oi-e)/h+n,e=this.oi),-8388607>s?r=(0-e)/h+n:s>a&&(r=(this.oi-e)/h+n),(n=t.O.truncate(n))!=(r=t.O.truncate(r))&&((s=new i).x=t.O.truncate(4294967296*e),s.y=n,s.H=r,s.WP=t.O.truncate(4294967296*h),s.dir=o,null==this.Wl&&(this.Wl=t.O.lg(this.pl,null)),s.next=this.Wl[s.y],this.Wl[s.y]=s,s.y<this.Lw&&(this.Lw=s.y),s.H>this.Kw&&(this.Kw=s.H),this.Tq++)}}},e.prototype.sN=function(){if(null!=this.Jh){for(var t=!1,i=null,e=this.Jh;null!=e;)if(e.y++,e.y==e.H){var n=e;e=e.next,null!=i?i.next=e:this.Jh=e,n.next=null}else e.x+=e.WP,null!=i&&i.x>e.x&&(t=!0),i=e,e=e.next;t&&(this.Jh=this.fK(this.Jh))}},e.prototype.lN=function(t){if(!(t>=this.pl)){var i=this.Wl[t];if(null!=i){this.Wl[t]=null,i=this.fK(i),this.Tq-=this.gK,t=this.Jh;for(var e=!0,n=i,s=null;null!=t&&null!=n;)t.x>n.x?(e&&(this.Jh=n),e=n.next,n.next=t,null!=s&&(s.next=n),s=n,n=e):(e=t.next,t.next=n,null!=s&&(s.next=t),s=t,t=e),e=!1;null==this.Jh&&(this.Jh=i)}}},e.eK=function(t,i){return 0>t?0:t>i?i:t},e.prototype.ZP=function(){if(null!=this.Jh)for(var i=0,n=this.Jh,s=t.O.truncate(t.O.XG(n.x)),r=n.next;null!=r;r=r.next)if(i=this.kF?1^i:i+r.dir,r.x>n.x){var o=t.O.truncate(t.O.XG(r.x));0!=i&&(n=e.eK(s,this.oi),(s=e.eK(o,this.oi))>n&&n<this.oi&&(this.gn[this.Ol++]=n,this.gn[this.Ol++]=s,this.gn[this.Ol++]=r.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),n=r,s=o}},e.prototype.fK=function(i){for(var n=0,s=i;null!=s;s=s.next)n++;if(this.gK=n,1==n)return i;null==this.Kf?this.Kf=t.O.lg(Math.max(n,16),null):this.Kf.length<n&&(this.Kf=t.O.lg(Math.max(n,2*this.Kf.length),null));var r=0;for(s=i;null!=s;s=s.next)this.Kf[r++]=s;for(2==n?this.Kf[0].x>this.Kf[1].x&&(i=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=i):e.AN(this.Kf,n,(function(t,i){return t==i?0:t.x<i.x?-1:t.x>i.x?1:0})),i=this.Kf[0],this.Kf[0]=null,s=i,r=1;r<n;r++)s.next=this.Kf[r],s=this.Kf[r],this.Kf[r]=null;return s.next=null,i},e.AN=function(t,i,e){if(i==t.length)t.sort(e);else{var n=t.slice(0,0),s=t.slice(i);i=t.slice(0,i).sort(e),t.length=0,t.push.apply(t,n.concat(i).concat(s))}},e.Cx=0,e}();t.Px=e}(W||(W={})),function(t){var i=function(){function i(){}return i.prototype.ui=function(t,i){var e=this.g.Pa(t,this.Pq);if(this.Dl==e&&(this.Dl=this.oe.lb(this.Dl)),this.ho==e&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,e),this.bk(t),i&&-1!=(i=this.g.bd(t))&&this.g.Xa(i)==t){var n=this.g.U(t);if(n!=t){if((e=this.g.bd(n))==i)return void this.g.Jf(i,n);if((n=this.g.Ma(t))!=t&&(e=this.g.bd(n))==i)return void this.g.Jf(i,n)}this.g.Jf(i,-1),this.g.Wg(i,-1)}},i.prototype.pD=function(){for(var i=!1,e=new t.h;;){null==this.Wh?(this.Wh=new t.ia(0),this.zs=new t.ia(0),this.xe=new t.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var n=this.ho,s=0,r=!0;n!=this.Dl;){var o=this.oe.getData(n),h=new t.h;this.g.Gc(o,h),r&&(this.g.Gc(o,e),r=!1),h=this.g.Ma(o);var a=this.g.U(o);-559038737!=this.g.Pa(h,this.zg)&&(this.Wh.add(h),this.g.Ra(h,this.zg,-559038737),this.zs.add(o),this.xe.add(s++)),-559038737!=this.g.Pa(a,this.zg)&&(this.Wh.add(a),this.g.Ra(a,this.zg,-559038737),this.zs.add(o),this.xe.add(s++)),n=this.oe.lb(n)}if(2>this.Wh.size)break;var u=this;for(this.xe.Vd(0,this.xe.size,(function(t,i){return u.pM(t,i)})),n=0,s=this.xe.size;n<s;n++)r=this.xe.get(n),r=this.Wh.get(r),this.g.Ra(r,this.zg,n),h=new t.h,this.g.Gc(r,h);for(h=this.TM(e),n=0,s=this.xe.size;n<s;n++)-1!=(r=this.xe.get(n))&&(r=this.Wh.get(r),this.g.Ra(r,this.zg,-1));if(!h)break;i=!0}return i},i.prototype.TM=function(t){for(var i=!1,e=!0;e;){e=!1;var n=0;-1==this.xe.get(n)&&(n=this.cm(n));for(var s=this.cm(n),r=0,o=this.xe.size;r<o&&-1!=n&&-1!=s&&n!=s;r++){var h=this.xe.get(n);s=this.xe.get(s),h=this.Wh.get(h),s=this.Wh.get(s);var a=this.g.U(h);this.g.Dv(a,t)||(a=this.g.Ma(h));var u=this.g.U(s);this.g.Dv(u,t)||(u=this.g.Ma(s));var c=this.pu(a,h),l=this.pu(u,s),f=c?this.g.Ma(a):this.g.U(a),p=l?this.g.Ma(u):this.g.U(u),d=!1;(this.sp(a)||this.sp(u)||this.sp(h)||this.sp(s)||this.sp(f)||this.sp(p))&&(d=!0),!d&&this.g.fq(h,s)&&(d=!0,this.tD(c,l,a,h,u,s)),!d&&this.g.fq(f,p)&&(d=!0,this.tD(!c,!l,a,f,u,p)),d&&(i=!0),e=e||d,n=this.cm(n),s=this.cm(n)}}if(!i)for(n=0,-1==this.xe.get(n)&&(n=this.cm(n)),s=this.cm(n),r=0,o=this.xe.size;r<o&&-1!=n&&-1!=s&&n!=s;r++)h=this.xe.get(n),s=this.xe.get(s),h=this.Wh.get(h),s=this.Wh.get(s),a=this.g.U(h),this.g.Dv(a,t)||(a=this.g.Ma(h)),u=this.g.U(s),this.g.Dv(u,t)||(u=this.g.Ma(s)),c=this.pu(a,h),l=this.pu(u,s),f=c?this.g.Ma(a):this.g.U(a),p=l?this.g.Ma(u):this.g.U(u),this.DM(c,l,h,a,f,s,u,p)&&(i=!0),n=this.cm(n),s=this.cm(n);return i},i.prototype.XM=function(){1736==this.g.ic(this.X)&&1==this.g.In(this.X)&&(new t.Fg).MU(this.fw,this.g,this.X,this.nd);var i=!1,e=!0;this.zg=this.Pq=-1;var n=this.g.I(this.X),s=new t.ia(0);s.Jb(n);for(var r=this.g.Ob(this.X);-1!=r;r=this.g.Rb(r))for(var o=this.g.Xa(r),h=0,a=this.g.Ja(r);h<a;h++)s.add(o),o=this.g.U(o);var u=this.g.td.o,c=this.g.td.stride;this.g.vb.mc();var l=this.g.vb.za[0].o;for(s.Vd(0,n,(function(t,i){var e=u[c*t],n=u[c*i],s=l[2*e];e=l[2*e+1];var r=l[2*n];return 0==(s=e<(n=l[2*n+1])?-1:e>n?1:s<r?-1:s>r?1:0)&&(s=(t=u[c*t+3])<(i=u[c*i+3])?-1:t==i?0:1),s})),this.Pq=this.g.Gd(),this.oe=new t.jp,this.RA=this.oe.Ph(0),this.oe.fn(n),r=0;r<n;r++)o=s.get(r),h=this.oe.addElement(this.RA,o),this.g.Ra(o,this.Pq,h);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(i=!0);e;){e=!1,n=0,s=!1;do{s=!1,this.ho=-1,a=0,r=new t.h,h=new t.h;for(var f=this.oe.rc(this.RA);-1!=f;)o=this.oe.getData(f),-1!=this.ho?(this.g.Gc(o,h),r.qb(h)?a++:(r.L(h),this.Dl=f,0<a&&(o=this.pD())&&(s=!0,-1!=this.Dl&&(o=this.oe.getData(this.Dl),this.g.Gc(o,r))),this.ho=f=this.Dl,a=0)):(this.ho=f,this.g.Gc(this.oe.getData(f),r),a=0),-1!=f&&(f=this.oe.lb(f));if(this.Dl=-1,0<a&&(o=this.pD())&&(s=!0),10<n++)throw t.i.Qa();s&&this.GM(),this.cD()&&(s=!0),e=e||s&&!1,i=i||s}while(s)}return this.g.Td(this.Pq),this.g.Td(this.zg),t.WL.V(this.g,this.X,this.oe,this.fw)||i},i.prototype.pu=function(t,i){return this.g.U(i)!=t},i.prototype.DM=function(t,i,e,n,s,r,o,h){if(n==o)return this.bk(e),this.bk(r),!1;var a=this.g.Pa(e,this.zg),u=this.g.Pa(s,this.zg),c=this.g.Pa(r,this.zg),l=this.g.Pa(h,this.zg),f=[0,0,0,0];for((e=[0,0,0,0,0,0,0,0])[0]=0,f[0]=a,e[1]=0,f[1]=u,e[2]=1,f[2]=c,e[3]=1,f[3]=l,a=1;4>a;a++){for(u=f[a],c=e[a],l=a-1;0<=l&&f[l]>u;)f[l+1]=f[l],e[l+1]=e[l],l--;f[l+1]=u,e[l+1]=c}return f=0,0!=e[0]&&(f|=1),0!=e[1]&&(f|=2),0!=e[2]&&(f|=4),0!=e[3]&&(f|=8),(5==f||10==f)&&(t==i?t?(this.g.Bc(h,n),this.g.Cc(n,h),this.g.Bc(s,o),this.g.Cc(o,s)):(this.g.Cc(h,n),this.g.Bc(n,h),this.g.Cc(s,o),this.g.Bc(o,s)):t?(this.g.Cc(n,r),this.g.Bc(r,n),this.g.Cc(o,s),this.g.Bc(s,o)):(this.g.Bc(n,r),this.g.Cc(r,n),this.g.Bc(o,s),this.g.Cc(s,o)),!0)},i.prototype.tD=function(t,i,e,n,s,r){this.MY?this.VM():this.UM(t,i,e,n,s,r)},i.prototype.VM=function(){throw t.i.fa("not implemented.")},i.prototype.UM=function(t,i,e,n,s,r){if(t!=i)t?(this.g.Bc(e,s),this.g.Cc(s,e),this.g.Bc(r,n),this.g.Cc(n,r),this.vn(s,e),this.ui(s,!0),this.g.mi(s,!0),this.bk(e),this.vn(r,n),this.ui(r,!0),this.g.mi(r,!1)):(this.g.Bc(s,e),this.g.Cc(e,s),this.g.Bc(n,r),this.g.Cc(r,n),this.vn(s,e),this.ui(s,!0),this.g.mi(s,!1),this.bk(e),this.vn(r,n),this.ui(r,!0),this.g.mi(r,!0)),this.bk(n);else{var o=t?e:n,h=i?s:r;for(t=t?n:e,i=i?r:s,s=!1,this.g.Bc(o,h),this.g.Bc(h,o),this.g.Cc(t,i),this.g.Cc(i,t),r=i;r!=h;)e=this.g.Ma(r),n=this.g.U(r),this.g.Cc(r,n),this.g.Bc(r,e),s=s||r==o,r=n;s||(e=this.g.Ma(h),n=this.g.U(h),this.g.Cc(h,n),this.g.Bc(h,e)),this.vn(h,o),this.ui(h,!0),this.g.mi(h,!1),this.bk(o),this.vn(i,t),this.ui(i,!0),this.g.mi(i,!1),this.bk(t)}},i.prototype.cD=function(){for(var t=!1,i=this.g.Ob(this.X);-1!=i;){for(var e=this.g.Xa(i),n=0,s=this.g.Ja(i);n<s&&1<s;){var r=this.g.Ma(e),o=this.g.U(e);this.g.fq(r,o)?(t=!0,this.ui(e,!1),this.g.pd(e,!0),this.ui(o,!1),this.g.pd(o,!0),e=r,n=0,s=this.g.Ja(i)):(e=o,n++)}if(2>this.g.Ja(i)){for(t=this.g.Xa(i),n=0,s=this.g.Ja(i);n<s;n++)this.ui(t,!1),t=this.g.U(t);i=this.g.Zq(i),t=!0}else i=this.g.Rb(i)}return t},i.prototype.sp=function(t){for(var i=!1;;){var e=this.g.U(t),n=this.g.Ma(t);if(e==t)return this.ui(t,!0),this.g.mi(t,!1),!0;if(!this.g.fq(e,n))break;if(i=!0,this.bk(n),this.bk(e),this.ui(t,!0),this.g.mi(t,!1),this.vn(e,n),this.ui(e,!0),this.g.mi(e,!0),e==n)break;t=n}return i},i.prototype.GM=function(){for(var t=0,i=this.oe.rc(this.oe.je);-1!=i;i=this.oe.lb(i)){var e=this.oe.getData(i);this.g.aj(e,-1)}for(var n=0,s=this.g.Ob(this.X);-1!=s;)if(-1==(i=this.g.Xa(s))||-1!=this.g.bd(i))e=s,s=this.g.Rb(s),this.g.$q(e);else{this.g.aj(i,s);var r=1;for(e=this.g.U(i);e!=i;e=this.g.U(e))this.g.aj(e,s),r++;this.g.cp(s,!1),this.g.Vj(s,r),this.g.Wg(s,this.g.Ma(i)),n+=r,t++,s=this.g.Rb(s)}for(i=this.oe.rc(this.oe.je);-1!=i;i=this.oe.lb(i))e=this.oe.getData(i),-1==this.g.bd(e)&&(s=this.g.nG(this.X,e,e,null),n+=this.g.Ja(s),t++);for(this.g.Rl(this.X,t),this.g.Tj(this.X,n),t=0,n=this.g.ld;-1!=n;n=this.g.ue(n))t+=this.g.I(n);this.g.bC(t)},i.prototype.cm=function(t){for(var i=0,e=this.xe.size-1;i<e;i++)if(t=(t+1)%this.xe.size,-1!=this.xe.get(t))return t;return-1},i.prototype.vn=function(t,i){var e=this.g.Pa(i,this.Pq),n=this.g.Pa(i,this.zg);this.g.lC(t,i),this.g.Ra(i,this.Pq,e),this.g.Ra(i,this.zg,n)},i.prototype.bk=function(t){var i=this.g.Pa(t,this.zg);-1!=i&&(this.xe.set(i,-1),this.g.Ra(t,this.zg,-1))},i.V=function(t,e,n,s,r){var o=new i;return o.g=t,o.X=e,o.xA=n,o.fw=s,o.nd=r,o.XM()},i.prototype.pM=function(i,e){var n=this.Wh.get(i),s=new t.h;this.g.Gc(n,s),n=new t.h;var r=this.Wh.get(e);return this.g.Gc(r,n),s.qb(n)?0:(r=this.zs.get(i),i=new t.h,this.g.Gc(r,i),r=this.zs.get(e),e=new t.h,this.g.Gc(r,e),(r=new t.h).uc(s,i),(s=new t.h).uc(n,e),t.h.nu(r,s))},i}();t.rn=i}(W||(W={})),function(t){var i;(i=t.$L||(t.$L={}))[i.Local=0]="Local",i[i.Geographic=1]="Geographic",i[i.Projected=2]="Projected",i[i.Image=3]="Image",i[i.Unknown=4]="Unknown",function(t){t[t.Integer32=0]="Integer32",t[t.Integer64=1]="Integer64",t[t.FloatingPoint=2]="FloatingPoint"}(t.TL||(t.TL={}));var e=function(){function i(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return i.prototype.Ec=function(){return this.dg},i.prototype.VF=function(){return 1},i.prototype.VW=function(t){this.mA=t},i.prototype.Xd=function(){if(null!==this.mA)return this.mA;var i=.001;return 0!=this.dg?i=t.wr.CQ(this.dg):null!=this.wh&&(i=t.XC.DQ(this.wh)),i},i.prototype.Bz=function(){return this.wh},i.prototype.Hd=function(){return 0!=this.dg?t.Tc.Zg(t.wr.Sy(this.dg)):null!=this.wh?t.XC.EQ(this.wh):void 0},i.Sb=function(i){if(0!=i.dg){if(!0===t.wr.ZS(i.dg))return 1;if(!0===t.wr.aT(i.dg))return 2}return 4},i.prototype.$r=function(){var i=this.Ec();return-1!=this.Ho?this.Ho:(this.Ho=t.wr.FK(i),-1!=this.Ho?this.Ho:i)},i.create=function(e){if(0>=e)throw t.i.N("Invalid or unsupported wkid: "+e);var n=new i;return n.dg=e,n},i.qP=function(e){if(null==e||0==e.length)throw t.i.N("Cannot create SpatialReference from null or empty text.");var n=new i;return n.wh=e,n},i.prototype.Nb=function(t){return this==t||null!=t&&this.constructor==t.constructor&&this.dg==t.dg&&(0!=this.dg||this.wh===t.wh)},i.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},i.prototype.cc=function(){if(""!==this.pp)return this.pp;var t=this.toString();if(Array.prototype.reduce)return this.pp="S"+t.split("").reduce((function(t,i){return 0|(t<<5)-t+i.charCodeAt(0)}),0);var i=0;if(0===t.length)return"";for(var e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i&=i;return this.pp="S"+i},i.prototype.Kn=function(){return this.Xd(0)},i.prototype.fh=function(){return null!==this.su?this.su:this.su=t.gu.yP(this)},i.ZN=2147483645,i.$N=9007199254740990,i}();t.Eg=e}(W||(W={})),function(t){var i=function(i){function e(){var e=null!==i&&i.apply(this,arguments)||this;return e.Ji=null,e.ST=null,e.Hq=new t.ZL,e.Eo=null,e.jw=null,e}return Q(e,i),e.yP=function(i){var n=new e;if(n.dg=i.dg,n.Ho=i.Ho,n.ZH=i.ZH,n.wh=i.wh,""!==n.wh&&null!==n.wh){i=e.kM(n.wh);var s=e.iM(n.wh);n.Hq.Xx(i,s,t.hu.Integer64),n.by(i),n.gy(s),n.dg=i.$r()}else i=e.jM(n.dg),n.by(i),n.gy(null),n.Hq.Xx(i,null,t.hu.Integer64);return n},e.prototype.Xd=function(t){return this.Hq.Kn(t)},e.iM=function(i){if(0>=i.length)throw t.i.N();var n=null;try{n=t.NC.fromString(i)}catch(t){n=null}return null==n?null:e.bD(n,!0)},e.prototype.by=function(t){this.Kd=t,this.Eo=this.Kd.Hd()},e.prototype.gy=function(t){this.KH=t,this.ST=null!=this.KH?this.KH.Eo:null},e.prototype.Wc=function(){return 0!=this.Sb()&&3!=this.Sb()&&this.Kd.Wc()},e.prototype.IG=function(){return 0!=this.Sb()&&(3==this.Sb()?this.Ji.fk().Wc():this.Kd.Wc())},e.prototype.eh=function(){return null!=this.Kd?this.Kd.Ue:null},e.prototype.pm=function(){return this.Kd.pm()},e.prototype.bf=function(){return this.Kd.bf()},e.prototype.hh=function(){return null!=this.Kd?this.Kd.sw:NaN},e.prototype.Up=function(){return this.Kd.Up()},e.prototype.Wr=function(){return this.Kd.Wr()},e.prototype.kk=function(){return this.Kd.kk()},e.prototype.kS=function(i){return t.OC.Py(this.Kd,i.Kd)},e.prototype.ml=function(){return this.Kd.ml()},e.prototype.Vr=function(){return this.Kd.Vr()},e.prototype.zi=function(){return 3==this.Sb()?this.Ji.fk().zi():this.Kd.zi()},e.prototype.gh=function(){if(!this.Wc())throw t.i.N("!isPannable()");var i=new t.l;return this.Kd.gh(i),i},e.prototype.Oe=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.so},e.prototype.HR=function(){if(!this.Wc())throw t.i.N("!isPannable()");var i=new t.l;return this.Kd.GR(i),i},e.prototype.pv=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.pv()},e.prototype.ov=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.ov()},e.prototype.Xr=function(){return null!=this.Ji?this.Ji.fk().Xr():this.Kd.Xr()},e.prototype.PQ=function(){return this.Kd.hv()},e.prototype.Qp=function(){return this.Eo.getUnitFactor()},e.prototype.vz=function(t){return this.Hq.vz(t)},e.prototype.sc=function(){var i=this.Sb();if(1==i)return this;if(3==i)return this.Ji.fk().sc();if(0==i)throw t.i.fa("invalid call");if(4===i)throw t.i.fa("invalid call");if(null!==this.jw)return this.jw;if(null==(i=this.eh().getGeogcs()))throw t.i.Qa();return this.jw=e.bF(i,this.Hq.VF())},e.bF=function(i,n){if(null==i)throw t.i.N("null pointer.");var s=new e;return i=e.mu(i,!0),s.Hq.Xx(i,null,n),s.by(i),s.gy(null),s.dg=i.$r(),s},e.prototype.Sb=function(){var i=this.eh();if(null!=i)switch(i.getType()){case t.Sc.PE_TYPE_GEOGCS:return 1;case t.Sc.PE_TYPE_PROJCS:return 2}return 4},e.prototype.hv=function(){return this.Kd.hv()},e.mu=function(i,n){var s=i.getCode();if(0>=s&&0<(s=t.pf.getCode(i))){if(null==(i=t.pf.coordsys(s)))throw t.i.N("Text to wkid mapping had failed: "+s);return e.mu(i,n)}return n&&0<s&&(n=e.qx[s])?n:(n=t.zb.xv(i,s,!1),e.lK[n]||(i=0>=s?i:t.pf.coordsys(s),i=new t.OC(i),e.lK[n]=i,0<s&&(e.qx[s]=i),i))},e.jM=function(i){if(0>=i)throw t.i.N("Invalid or unsupported wkid: "+i);var n=e.qx[i];if(null!=n)return n;if(null==(n=t.pf.coordsys(i)))throw t.i.N("Invalid or unsupported wkid: "+i);return(n=e.mu(n,!1)).$r()!=i&&(e.qx[i]=n),n},e.kM=function(i){if(null==i||void 0===i||0==i.length)throw t.i.N("Cannot create SpatialReference from null or empty text.");var n=null;try{n=t.pf.fromString(t.Sc.PE_TYPE_COORDSYS,i)}catch(i){throw t.i.N("Cannot create SpatialReference from text. "+i.message)}if(null===n)throw t.i.N("Cannot create SpatialReference from text. ");return e.mu(n,!0)},e.bD=function(i,n){var s,r=i.getCode();if(0>=r&&0<(r=t.pf.getCode(i))){if(null===(r=t.pf.vertcs(r)))throw t.i.N();return e.bD(r,n)}if(n&&0<r&&(n=e.kK[r]))return n;if(i=t.zb.xv(i,r,!1),n=e.mK[i])return n;if(0>=r||(s=t.pf.vertcs(r)),null===s)throw t.i.N();return s=new t.PL(s),e.mK[i]=s,0<r&&(e.kK[r]=s),s},e.sI=function(i,e){if(null===e||e.B())return null;var n=new t.l;if(null!==e&&1!=i.Sb()){var s=i.sc(),r=s.eh();i=t.vr.Nr(i,s,null,null),(e=t.Hx.local().V(e,i,null)).A(n)}else r=i.eh(),e.A(n);return e=r.getPrimem().getLongitude(),r=r.getUnit().getUnitFactor(),new t.LC(n.v,n.G,n.C,n.H,e,r)},e.lD=function(t){var i={name:"",steps:[],_pt:null,_entry:null},e=0;for(t=t.getEntries();e<t.length;e++){var n=t[e],s={LY:!1,ZY:"",YY:-1,geogtran:null};0===n.getDirection()?s.isInverse=!1:s.isInverse=!0;var r=n.getGeogtran().getCode();-1<r?s.wkid=r:s.wkt=n.getGeogtran().toString(),i.steps.push(s)}return i},e.XR=function(i,n,s,r){return void 0===s&&(s=null),s=e.sI(r,s),i=t.lp.getGTlist(i.eh(),n.eh(),2,t.lp.PE_GTLIST_OPTS_COMMON,s,1),n=null,i&&0<i.length&&(n=this.lD(i[0]),t.Mx.destroy(i)),null!==s&&s.destroy(),n},e.YR=function(i,n,s,r){var o;if(void 0===s&&(s=null),void 0===r&&(r=null),void 0===o&&(o=30),s=e.sI(r,s),i=t.lp.getGTlist(i.eh(),n.eh(),2,t.lp.PE_GTLIST_OPTS_COMMON,s,o),n=[],i&&0<i.length){for(o=0;o<i.length;o++)n.push(this.lD(i[o]));t.Mx.destroy(i)}return null!==s&&s.destroy(),n},e.qx={},e.lK={},e.kK={},e.mK={},e}(t.Eg);t.gu=i}(W||(W={})),function(t){var i,e;(e=i=t.hu||(t.hu={}))[e.Integer32=0]="Integer32",e[e.Integer64=1]="Integer64",e[e.FloatingPoint=2]="FloatingPoint";var n=function(){function e(){this.qp()}return e.prototype.assign=function(t){this.Fm=t.Fm,this.Gm=t.Gm,this.Pj=t.Pj,this.sA=t.sA,this.Fo=t.Fo,this.rA=t.rA,this.Ik=t.Ik,this.Mq=t.Mq,this.Lq=t.Lq,this.Rm=t.Rm},e.prototype.VF=function(){return this.Rm},e.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=i.FloatingPoint},e.prototype.Xx=function(e,n,s){if(this.qp(),this.Rm=s,s!=i.FloatingPoint){var r=new t.l;e.hR(r),this.Fm=r.v,this.Gm=r.G}else this.Gm=this.Fm=-17976931348623157e292;(r=e.Ue.getType())==t.Sc.PE_TYPE_GEOGCS?(r=(s==i.Integer64?1e-9:1/18e5)*e.bf(),this.Pj=1/r):r==t.Sc.PE_TYPE_PROJCS&&(r=(s==i.Integer64?1e-4:.001)*e.pm(),this.Pj=1/r),null!=n?(r=(s==i.Integer32?.001:1e-4)*n.IH,this.Fo=1/r):this.Fo=1e4,this.YM(),this.Ik=e.sw,this.Mq=null!=n?.001*n.IH:.001,this.Lq=2220446049250313e-29},e.prototype.YM=function(){if(this.Rm!=i.FloatingPoint){var e=this.Rm==i.Integer64?t.Eg.$N:t.Eg.ZN,n=e/this.Pj,s=this.Fm+n,r=t.O.truncate((s-this.Fm)*this.Pj);r>e&&(this.Pj=e/(s-this.Fm)),n=this.Gm+n,(r=t.O.truncate((n-this.Gm)*this.Pj))>e&&(this.Pj=e/(n-this.Gm))}},e.prototype.aC=function(t){switch(t){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},e.prototype.Kn=function(t){switch(t){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},e.prototype.vz=function(t){if(this.Rm==i.FloatingPoint)return 0;switch(t){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},e.prototype.toString=function(){var t="SRPD [m_toleranceXY: "+this.Ik.toString();return(t=(t=(t=(t=(t=(t=(t=(t=(t=t+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},e}();t.ZL=n}(W||(W={})),function(t){function i(t,i){return 89.99999<i?i=89.99999:-89.99999>i&&(i=-89.99999),i*=.017453292519943,[111319.49079327169*t,3189068.5*Math.log((1+Math.sin(i))/(1-Math.sin(i)))]}function e(t,i,e){return t=t/6378137*57.29577951308232,e?[t,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*i/6378137)))]:[t-360*Math.floor((t+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*i/6378137)))]}function n(i,e,n){var s=i.Of();if(33===i.getType())e=e(s.Lg(),s.ih()),s.Cb(e[0],e[1]);else if(197===i.getType()){var r=e(i.es(),i.gs(),n);e=e(i.ds(),i.fs(),n),s.K(r[0],r[1],e[0],e[1])}else for(r=new t.h,i=0;i<s.I();i++){s.D(i,r);var o=e(r.x,r.y,n);r.ma(o[0],o[1]),s.Cb(i,r)}return s}function s(t){return n(t,e,!0)}function r(t){return n(t,i,!0)}var o=Math.PI/180;t.UK=function(){function i(){}return i.vu=function(i){var e=Math.sqrt(.006694379990197414),n=Math.sin(i.y*o);return t.h.construct(6378137*i.x*o,3167719.6636462314*(n/(1-.006694379990197414*n*n)-1/(2*e)*Math.log((1-e*n)/(1+e*n))))},i.Vx=function(i,e,n,s){var r=1/298.257223563,h=Math.sin(n);n=Math.cos(n);var a=(1-r)*Math.tan(i),u=a*(i=1/Math.sqrt(1+a*a)),c=Math.atan2(a,n),l=(a=i*h)*a,f=1-l,p=272331606107.54688*f/40408299984661.45,d=1+p/16384*(4096+p*(p*(320-175*p)-768)),v=p/1024*(256+p*(p*(74-47*p)-128));p=s/(6356752.31424518*d);for(var y,g,b,w=2*Math.PI;1e-12<Math.abs(p-w);)b=Math.cos(2*c+p),w=p,p=s/(6356752.31424518*d)+v*(y=Math.sin(p))*(b+v/4*((g=Math.cos(p))*(2*b*b-1)-v/6*b*(4*y*y-3)*(4*b*b-3)));return s=u*y-i*g*n,f=r/16*f*(4+r*(4-3*f)),t.h.construct((e+(Math.atan2(y*h,i*g-u*y*n)-(1-f)*r*a*(p+f*y*(b+f*g*(2*b*b-1)))))/o,Math.atan2(u*g+i*y*n,(1-r)*Math.sqrt(l+s*s))/o)},i.MM=function(t,i,e,n){var s=1/298.257223563,r=n-i,o=Math.atan((1-s)*Math.tan(t)),h=Math.atan((1-s)*Math.tan(e)),a=Math.sin(o);o=Math.cos(o);var u=Math.sin(h);h=Math.cos(h);var c=r,l=1e3;do{var f=Math.sin(c),p=Math.cos(c),d=Math.sqrt(h*f*h*f+(o*u-a*h*p)*(o*u-a*h*p));if(0===d)return 0;p=a*u+o*h*p;var v=Math.atan2(d,p),y=o*h*f/d,g=1-y*y;f=p-2*a*u/g,isNaN(f)&&(f=0);var b=s/16*g*(4+s*(4-3*g)),w=c;c=r+(1-b)*s*y*(v+b*d*(f+b*p*(2*f*f-1)))}while(1e-12<Math.abs(c-w)&&0<--l);return 0===l?(a=n-i,{azimuth:Math.atan2(Math.sin(a)*Math.cos(e),Math.cos(t)*Math.sin(e)-Math.sin(t)*Math.cos(e)*Math.cos(a)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(t)*Math.sin(e)+Math.cos(t)*Math.cos(e)*Math.cos(n-i))}):(i=(t=272331606107.54688*g/40408299984661.45)/1024*(256+t*(t*(74-47*t)-128)),{azimuth:Math.atan2(h*Math.sin(c),o*u-a*h*Math.cos(c)),YQ:6356752.31424518*(1+t/16384*(4096+t*(t*(320-175*t)-768)))*(v-i*d*(f+i/4*(p*(2*f*f-1)-i/6*f*(4*d*d-3)*(4*f*f-3)))),XY:Math.atan2(o*Math.sin(c),o*u*Math.cos(c)-a*h)})},i.jQ=function(i){var e=i.hasAttribute(1),n=i.hasAttribute(2),s=[],r=i.da(),o=null,h=null;e&&(o=i.ub(1)),n&&(h=i.ub(2));for(var a=new t.h,u=0;u<r;u++){for(var c=i.Ba(u),l=i.Ja(u),f=0,p=0,d=NaN,v=NaN,y=NaN,g=NaN,b=i.dc(u),w=[],m=c;m<c+l;m++){i.D(m,a),g=y=NaN;var x=[a.x,a.y];e&&(y=o.get(m),x.push(y)),n&&(r=h.get(m),x.push(g)),m==c&&b&&(f=a.x,p=a.y,d=y,v=g),w.push(x)}!b||f==a.x&&p==a.y&&(!e||isNaN(d)&&isNaN(y)||d==y)&&(!n||isNaN(v)&&isNaN(g)||v==g)||w.push(w[0].slice(0)),s.push(w)}return s},i.Wy=function(t,e){t=i.jQ(t),637.100877141506>e&&(e=637.100877141506);for(var n,s=[],r=0;r<t.length;r++){var h,a,u=t[r];s.push(n=[]),n.push([u[0][0],u[0][1]]);var c=u[0][0]*o,l=u[0][1]*o;for(h=0;h<u.length-1;h++){var f=u[h+1][0]*o,p=u[h+1][1]*o;if(c!==f||l!==p){f=(p=i.MM(l,c,p,f)).azimuth;var d=(p=p.YQ)/e;if(1<d){for(a=1;a<=d-1;a++){var v=i.Vx(l,c,f,a*e);n.push([v.x,v.y])}a=i.Vx(l,c,f,(p+Math.floor(d-1)*e)/2),n.push([a.x,a.y])}l=i.Vx(l,c,f,p),n.push([l.x,l.y]),c=l.x*o,l=l.y*o}}}return{qJ:s}},i.XQ=function(e){for(var n=[],s=0;s<e.length;s++){var r=e[s];r=i.Wy(r,1e4),n.push(r)}e=[];for(var o=0;o<n.length;o++){r=n[o];var h=0;for(s=0;s<r.qJ.length;s++){var a,u=r.qJ[s],c=i.vu(t.h.construct(u[0][0],u[0][1])),l=i.vu(t.h.construct(u[u.length-1][0],u[u.length-1][1])),f=l.x*c.y-c.x*l.y;for(a=0;a<u.length-1;a++)c=i.vu(t.h.construct(u[a+1][0],u[a+1][1])),f+=(l=i.vu(t.h.construct(u[a][0],u[a][1]))).x*c.y-c.x*l.y;h+=f}h/=1,e.push(h/-2)}return e},i}(),t.cb=function(){function i(){}return i.xB=function(t,e,n,s,r,o,h){i.gD[t.cc()]=e,0==isNaN(n)&&(i.mD[t.cc()]=n),0==isNaN(s)&&(i.zD[t.cc()]=s),0==isNaN(r)&&(i.aD[t.cc()]=r),i.nD[t.cc()]=o,null!==h&&(i.oD[t.cc()]=h)},i.Ww=function(t,e,n){i.sD[t.cc()+"-"+e.cc()]=n},i.sc=function(e){if(null==(e=i.gD[e.cc()]))throw t.i.Ie();return e},i.bf=function(e){if(null==(e=i.mD[e.cc()]))throw t.i.Ie();return e},i.vv=function(e){if(null==(e=i.zD[e.cc()]))throw t.i.Ie();return e},i.ev=function(e){if(null==(e=i.aD[e.cc()]))throw t.i.Ie();return e},i.gh=function(e){if(null==(e=i.oD[e.cc()]))throw t.i.Ie();return t.l.construct(e[0],e[1],e[2],e[3])},i.Wc=function(e){if(null==(e=i.nD[e.cc()]))throw t.i.Ie();return e},i.zh=function(e,n,s){if(n.Nb(s))return e;var r=i.sD[n.cc()+"-"+s.cc()];if(void 0!==r)return r(e,n,s);throw t.i.Ie()},i.vt=function(){throw t.i.Ie()},i.bR=function(){throw t.i.Ie()},i.dW=function(){throw t.i.Ie()},i.ml=function(){throw t.i.Ie()},i.sW=function(){var i=t.Eg.create(102100),e=t.Eg.create(3857),n=t.Eg.create(4326);t.cb.xB(i,n,NaN,NaN,NaN,!1,null),t.cb.xB(n,n,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),t.cb.xB(e,n,NaN,NaN,NaN,!1,null),t.cb.Ww(i,n,s),t.cb.Ww(n,i,r),t.cb.Ww(e,n,s),t.cb.Ww(n,e,r)},i.gD=[],i.mD=[],i.zD=[],i.aD=[],i.nD=[],i.oD=[],i.sD=[],i}()}(W||(W={})),W.cb.sW(),function(t){var i=function(){function i(t){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=t}return i.prototype.jd=function(t){t<this.Bl?(this.o[t*this.stride]=this.io,this.io=t):this.Bl--,this.size--},i.prototype.T=function(t,i){return this.o[t*this.stride+i]},i.prototype.S=function(t,i,e){this.o[t*this.stride+i]=e},i.prototype.Ce=function(){var i=this.io;if(-1==i){if(this.Bl==this.Hg){if(2147483647<(i=0!=this.Hg?t.O.truncate(3*(this.Hg+1)/2):1)&&(i=2147483647),i==this.Hg)throw t.i.ce();this.Dz(i)}i=this.Bl,this.Bl++}else this.io=this.o[i*this.stride];this.size++;for(var e=i*this.stride;e<i*this.stride+this.stride;e++)this.o[e]=-1;return i},i.prototype.Ll=function(i){var e=this.io;if(-1==e){if(this.Bl==this.Hg){if(2147483647<(e=0!=this.Hg?t.O.truncate(3*(this.Hg+1)/2):1)&&(e=2147483647),e==this.Hg)throw t.i.ce();this.Dz(e)}e=this.Bl,this.Bl++}else this.io=this.o[e*this.stride];this.size++;for(var n=e*this.stride,s=0;s<i.length;s++)this.o[n+s]=i[s];return e},i.prototype.mj=function(t){this.io=-1,this.size=this.Bl=0,t&&(this.o=null,this.Hg=0)},i.prototype.De=function(t){t>this.Hg&&this.Dz(t)},i.prototype.tx=function(t,i){t*=this.stride,i*=this.stride;for(var e=0;e<this.stride;e++){var n=this.o[i+e];this.o[i+e]=this.o[t+e],this.o[t+e]=n}},i.prototype.gC=function(t,i,e){var n=this.o[this.stride*i+e];this.o[this.stride*i+e]=this.o[this.stride*t+e],this.o[this.stride*t+e]=n},i.LG=function(t){return 0<=t},i.prototype.Dz=function(t){null==this.o&&(this.o=new Int32Array(0));var i=new Int32Array(this.stride*t);i.set(this.o,0),this.o=i,this.Hg=t},i}();t.$c=i}(W||(W={})),function(t){var i,e;(e=i||(i={}))[e.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",e[e.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",e[e.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",e[e.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var n=function(){function i(i){this.Be=i,this.yh=NaN,this.eH=new t.ig,this.fH=new t.ig,this.ms=new t.Nc,this.ns=new t.Nc}return i.prototype.compare=function(t,i,e){if(t=t.ja(e),this.Be.pB(i,this.eH),this.Be.pB(t,this.fH),i=this.eH.get(),t=this.fH.get(),this.ms.K(i.sa,i.pa),this.ns.K(t.sa,t.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;e=i.na==i.la;var n=t.na==t.la;if(e||n){if(e&&n)return 0;if(i.na==t.na&&i.sa==t.sa)return e?1:-1;if(i.la==t.la&&i.pa==t.pa)return e?-1:1}return(e=i.Pe(this.yh,this.ms.oa))==(n=t.Pe(this.yh,this.ns.oa))&&((n=.5*((e=Math.min(i.la,t.la))+this.yh))==this.yh&&(n=e),e=i.Pe(n,this.ms.oa),n=t.Pe(n,this.ns.oa)),e<n?-1:e>n?1:0},i.prototype.aK=function(t){this.yh=t},i}(),s=function(){function i(i){this.ib=i,this.WH=new t.ig,this.Bf=new t.h,this.wA=new t.Nc}return i.prototype.kX=function(t){this.Bf.L(t)},i.prototype.compare=function(t,i){return this.ib.pB(t.ja(i),this.WH),t=this.WH.get(),this.wA.K(t.sa,t.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(t=t.Pe(this.Bf.y,this.Bf.x),this.Bf.x<t?-1:this.Bf.x>t?1:0)},i}();i=function(){function i(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new t.Md,this.bO=2147483647,this.aO=t.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return i.prototype.yy=function(t){this.lA=t},i.prototype.Ym=function(){null==this.ge&&(this.ge=new t.$c(8));var i=this.ge.Ce();return this.ge.S(i,1,0),i},i.prototype.vU=function(){null==this.Kc&&(this.Kc=new t.$c(8));var i=this.Kc.Ce();this.Kc.S(i,2,0),this.Kc.S(i,3,0);var e=this.Kc.Ce();return this.Kc.S(e,2,0),this.Kc.S(e,3,0),this.JJ(i,e),this.JJ(e,i),i},i.prototype.mI=function(){null==this.ye&&(this.ye=new t.$c(8));var i=this.ye.Ce();return this.ye.S(i,2,0),i},i.prototype.TW=function(t,i){this.ge.S(t,7,i)},i.prototype.mn=function(t,i){this.ge.S(t,2,i)},i.prototype.SW=function(t,i){this.ge.S(t,1,i)},i.prototype.lX=function(t,i){this.ge.S(t,3,i)},i.prototype.iX=function(t,i){this.ge.S(t,4,i)},i.prototype.cr=function(t,i){this.ge.S(t,5,i)},i.prototype.eR=function(t){return this.ge.T(t,5)},i.prototype.RW=function(t,i){this.ge.S(t,6,i)},i.prototype.cN=function(t,i){this.RW(i,t)},i.prototype.IJ=function(t,i){this.Kc.S(t,1,i)},i.prototype.JJ=function(t,i){this.Kc.S(t,4,i)},i.prototype.Tl=function(t,i){this.Kc.S(t,5,i)},i.prototype.Sl=function(t,i){this.Kc.S(t,6,i)},i.prototype.$W=function(t,i){this.Kc.S(t,2,i)},i.prototype.$w=function(t,i){this.Kc.S(t,3,i)},i.prototype.LF=function(t){return this.Kc.T(t,3)},i.prototype.Gt=function(t,i){this.Kc.S(t,7,i)},i.prototype.EK=function(t,i){if(-1!=this.mm(t))for(i=i?-1:t,t=this.mm(t);-1!=t;t=this.js(t))this.g.Ra(this.tj(t),this.Cq,i)},i.prototype.yx=function(t,i){-1!=t&&(this.EK(t,i),this.EK(this.xa(t),i))},i.prototype.Dt=function(t,i){this.ye.S(t,1,i)},i.prototype.Vg=function(t,i){this.ye.S(t,2,i)},i.prototype.jn=function(t,i){this.ye.S(t,3,i),this.NW(t,this.dR(i)),this.MW(i,t)},i.prototype.MW=function(t,i){this.ye.S(t,4,i)},i.prototype.NW=function(t,i){this.ye.S(t,5,i)},i.prototype.DJ=function(t,i){this.ye.S(t,6,i)},i.prototype.BJ=function(t,i){this.ye.S(t,7,i)},i.prototype.AJ=function(t,i){this.Yn.write(t,i)},i.prototype.CJ=function(t,i){this.kA.write(t,i)},i.prototype.kY=function(i){var e=0,n=0,s=this.AF(i),r=new t.h,o=new t.h,h=new t.h;this.Yr(s,r),o.L(r);var a=s;do{this.lm(a,h),n+=t.h.tb(o,h),this.$e(this.xa(a))!=i&&(e+=(h.x-r.x-(o.x-r.x))*(h.y-r.y+(o.y-r.y))*.5),o.L(h),a=this.jc(a)}while(a!=s);this.Yn.write(i,e),this.kA.write(i,n)},i.prototype.PU=function(i,e){var r=new n(this),o=new t.Yj;o.De(t.O.truncate(this.wa/2)),o.Vo(r);for(var h=new t.ia(0),a=this.$g(),u=null,c=0,l=new t.h,f=this.Re;-1!=f;f=this.Rf(f)){if(!(255&++c||null==e||e.progress(-1,-1)))throw t.i.WC();var p=this.Me(f);if(-1!=p){if(h.Bh(0),!this.gY(o,a,h,p)){this.D(f,l),r.aK(l.y);var d=p;do{var v=this.Ab(d,a);-1!=v&&(o.vd(v,-1),this.Kb(d,a,-2)),d=this.jc(this.xa(d))}while(p!=d);d=p;do{-1==(v=this.Ab(d,a))&&(v=o.addElement(d,-1),h.add(v)),d=this.jc(this.xa(d))}while(p!=d)}for(p=h.size-1;0<=p;p--)v=h.get(p),d=o.ja(v),this.Kb(this.xa(d),a,v),this.OU(o,v,i)}else-1==this.cz(f)&&(null==u&&(u=new s(this)),this.D(f,l),u.kX(l),d=o.IW(u),p=this.Hl,-1!=d&&(v=o.ja(d),this.$e(v)==this.$e(this.xa(v))&&(v=this.OF(o,d)),-1!=v&&(p=this.$e(v))),this.cN(p,f))}this.Jg(a)},i.prototype.OU=function(t,i,e){var n=t.ja(i),s=this.$e(n);if(-1==this.Gn(s)){var r=this.OF(t,i),o=this.xa(n),h=this.$e(o);this.Kp(s),this.Kp(h);var a=this.Gn(s),u=this.Gn(h);if(-1==r&&-1==a&&(h==s?(this.jn(h,this.Hl),a=u=this.Hl):(-1==u&&(this.jn(h,this.Hl),u=this.Hl),this.jn(s,h),a=h)),-1!=r){var c=this.$e(r);-1==u&&(0>=this.Kp(c)?(u=this.Gn(c),this.jn(h,u)):(this.jn(h,c),u=c),h==s&&(a=u))}-1==a&&this.hY(s,h),0==e?this.jW(t,i,n,r,s,h):5==e?this.kW(t,i,n,o,s,h):4==e&&this.iW(n,r,s,h)}},i.prototype.jW=function(t,i,e,n,s,r){var o=this.hk(s);if(-1!=n){var h=this.hk(r),a=this.hk(this.$e(n));n=o&h&a,a^=a&this.dh(e),0!=(a|=n)&&(this.Vg(r,h|a),this.Vg(s,a|o),o=o||a)}for(i=t.lb(i);-1!=i&&(n=t.ja(i),e=this.$e(this.xa(n)),s=this.hk(e),r=this.dh(n),h=this.$e(n),n=s&(a=this.hk(h))&o,o^=o&r,0!=(o|=n));i=t.lb(i))this.Vg(e,s|o),this.Vg(h,a|o)},i.prototype.kW=function(i,e,n,s,r,o){if(r!=o){n=this.Ab(n,this.cg),n+=this.Ab(s,this.cg),s=0;var h=new t.ia(0),a=new t.ia(0);a.add(0);for(var u=i.rc(-1);u!=e;u=i.lb(u)){var c=i.ja(u),l=this.xa(c),f=this.$e(c),p=this.$e(l);if(f!=p){if(c=this.Ab(c,this.cg),s+=c+=this.Ab(l,this.cg),l=!1,0!=h.size&&h.Fc()==p&&(a.If(),h.If(),l=!0),-1==this.Gn(p))throw t.i.Qa();l&&this.Gn(p)==f||(a.add(s),h.add(f))}}s+=n,0!=h.size&&h.Fc()==o&&(a.If(),h.If()),0!=s?0==a.Fc()&&(i=this.g.ld,i=this.La(i),this.Vg(r,i)):0!=a.Fc()&&(i=this.g.ld,i=this.La(i),this.Vg(r,i))}},i.prototype.iW=function(t,i,e,n){var s=this.La(this.g.ld);if(-1==i)this.Vg(n,this.Go),1&(t=this.Ab(t,this.xg))?this.Vg(e,s):this.Vg(e,this.Go);else{var r=this.hk(n);0==r?(r=this.hk(this.$e(i)),this.Vg(n,r),1&(t=this.Ab(t,this.xg))?this.Vg(e,r==s?this.Go:s):this.Vg(e,r)):1&(t=this.Ab(t,this.xg))?this.Vg(e,r==s?this.Go:s):this.Vg(e,r)}},i.prototype.gY=function(t,i,e,n){var s=n,r=-1,o=-1,h=0;do{if(2==h)return!1;var a=this.Ab(s,i);if(-1!=a){if(-1!=r)return!1;r=a}else{if(-1!=o)return!1;o=s}h++,s=this.jc(this.xa(s))}while(n!=s);return-1!=o&&-1!=r&&(this.Kb(t.ja(r),i,-2),t.Sj(r,o),e.add(r),!0)},i.prototype.hY=function(t,i){var e=this.Kp(t);if(0!=e){var n=this.Kp(i);(0<e&&0>n||0>e&&0<n||-1!=(i=this.Gn(i)))&&this.jn(t,i)}},i.prototype.vP=function(i,e){this.Cq=this.g.Gd();for(var n=0,s=e.size;n<s;n++){var r=e.get(n),o=this.g.Pa(r,this.Cm),h=this.g.Qf(this.g.bd(r)),a=this.g.ic(h);if(t.aa.Hc(a)){var u=this.g.U(r);if(-1!=u){var c=this.g.Pa(u,this.Cm);if(o!=c){var l=this.vU(),f=this.xa(l),p=this.jh.Ce();this.jh.S(p,0,r),this.jh.S(p,1,-1),this.Gt(l,p),this.IJ(l,o),-1==(p=this.Me(o))?(this.mn(o,l),this.Tl(l,f),this.Sl(f,l)):(o=this.te(p),this.Tl(p,f),this.Sl(f,p),this.Sl(o,l),this.Tl(l,o)),this.IJ(f,c),-1==(o=this.Me(c))?(this.mn(c,f),this.Sl(l,f),this.Tl(f,l)):(c=this.te(o),this.Tl(o,l),this.Sl(l,o),this.Sl(c,f),this.Tl(f,c)),h=this.La(h),0==i?(this.Kb(f,this.ae,0),this.Kb(l,this.ae,1736==a?h:0)):5==i?(c=new t.h,this.g.D(r,c),r=new t.h,this.g.D(u,r),o=u=0,0>c.compare(r)?u=1:o=-1,this.Kb(f,this.ae,0),this.Kb(l,this.ae,0),this.Kb(l,this.cg,u),this.Kb(f,this.cg,o)):7==i?(this.Kb(f,this.ae,this.Go),this.Kb(l,this.ae,1736==a?h:0)):4==i&&(this.Kb(f,this.ae,0),this.Kb(l,this.ae,0),this.Kb(l,this.xg,1),this.Kb(f,this.xg,1)),a=1736==a?this.aO:0,this.$w(l,h|a),this.$w(f,h|a)}}}}},i.prototype.VT=function(t,i){var e=this.mm(i);if(-1!=e){var n=this.mm(t);this.jh.S(e,1,n),this.Gt(t,e),this.Gt(i,-1)}t=this.xa(t),i=this.xa(i),-1!=(e=this.mm(i))&&(n=this.mm(t),this.jh.S(e,1,n),this.Gt(t,e),this.Gt(i,-1))},i.prototype.IX=function(i){function e(t,i){return s.HO(t,i)}var n=new t.ia(0);n.Jb(10);for(var s=this,r=this.Re;-1!=r;r=this.Rf(r)){n.clear(!1);var o=this.Me(r);if(-1!=o){var h=o;do{n.add(h),h=this.jc(this.xa(h))}while(h!=o);if(1<n.size){if(h=!0,2<n.size)n.Vd(0,n.size,e),n.add(n.get(0));else if(0<this.GO(n.get(0),n.get(1))){var a=n.get(0);n.set(0,n.get(1)),n.set(1,a)}else h=!1;for(var u=a=n.get(0),c=this.uf(u),l=this.xa(u),f=-1,p=1,d=n.size;p<d;p++){var v=n.get(p),y=this.xa(v),g=this.jk(y);if(g==c&&v!=u){if(0==i)f=this.LF(u)|this.LF(v),this.$w(u,f),this.$w(l,f),this.Kb(u,this.ae,this.Ab(u,this.ae)|this.Ab(v,this.ae)),this.Kb(l,this.ae,this.Ab(l,this.ae)|this.Ab(y,this.ae));else if(-1!=this.cg)f=this.Ab(u,this.cg)+this.Ab(v,this.cg),y=this.Ab(l,this.cg)+this.Ab(y,this.cg),this.Kb(u,this.cg,f),this.Kb(l,this.cg,y);else{if(7==i)return void(this.Ni=new t.Md(5,r,-1));-1!=this.xg&&(f=this.Ab(u,this.xg)+this.Ab(v,this.xg),y=this.Ab(l,this.xg)+this.Ab(y,this.xg),this.Kb(u,this.xg,f),this.Kb(l,this.xg,y))}this.VT(u,v),this.Ly(v),f=u,n.set(p,-1),v==a&&(n.set(0,-1),a=-1)}else this.yx(f,!1),f=-1,u=v,c=g,l=y}if(this.yx(f,!1),f=-1,h){for(a=-1,p=0,d=n.size;p<d;p++)if(-1!=(v=n.get(p)))if(-1==a)u=a=v,c=this.uf(u),l=this.xa(u);else if(v!=u&&(y=this.xa(v),g=this.jk(y),this.Sl(l,v),this.Tl(v,l),u=v,c=g,l=y,7==i&&(this.Ab(v,this.ae)|this.Ab(this.te(v),this.ae))==(1|this.Go)))return void(this.Ni=new t.Md(5,r,-1));this.mn(r,a)}else{for(a=-1,p=0,d=n.size;p<d;p++)if(-1!=(v=n.get(p))){a=v;break}o!=a&&this.mn(r,a)}}}}},i.prototype.WN=function(){for(var i=-1,e=this.$g(),n=this.Re;-1!=n;n=this.Rf(n)){var s=this.Me(n);if(-1!=s){var r=s;do{if(1!=this.Ab(r,e)){var o=this.mI();this.Dt(o,r),this.BJ(o,i),-1!=i&&this.DJ(i,o),i=o;var h=0,a=r;do{h|=this.Ab(a,this.ae),this.$W(a,o),this.Kb(a,e,1),a=this.jc(a)}while(a!=r);this.Vg(o,h)}r=this.jc(this.xa(r))}while(r!=s)}}o=this.mI(),this.Dt(o,-1),this.BJ(o,i),-1!=i&&this.DJ(i,o),this.Hl=o,this.Yn=t.be.qf(this.ye.size,NaN),this.kA=t.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(e)},i.prototype.sR=function(t,i,e){if(-1==(i=-1!=i?i:this.Me(t)))return-1;for(t=i;;){if(1!=this.Ab(i,e))return i;if((i=this.jc(this.xa(i)))==t)return-1}},i.prototype.yW=function(){for(var t=this.$g(),i=this.Re;-1!=i;i=this.Rf(i))for(var e=-1;;){var n=this.sR(i,e,t);if(-1==n)break;e=this.jc(this.xa(n));for(var s=n;;){var r=this.jc(s),o=this.te(s),h=this.xa(s);if(o==h){if(this.IP(s),e!=s&&e!=h||(e=-1),s==n||o==n){if(s==(n=r)||o==n)break;s=r;continue}}else this.Kb(s,t,1);if((s=r)==n)break}}this.Jg(t)},i.prototype.MB=function(i,e,n,s,r){this.Ug(),this.gH=r,this.g=i,this.Bq=this.g.aF(),(i=new t.ia(0)).Jb(null!=n?this.g.I(n.get(0)):this.g.fd);var o=0,h=1,a=null!=n?n.get(0):this.g.ld;for(r=1;-1!=a;){this.g.HJ(a,this.Bq,h),h<<=1;for(var u=this.g.Ob(a);-1!=u;u=this.g.Rb(u))for(var c=this.g.Xa(u),l=0,f=this.g.Ja(u);l<f;l++)i.add(c),c=this.g.U(c);t.aa.Rn(this.g.ic(a))||(o+=this.g.da(a)),null!=n?(a=r<n.size?n.get(r):-1,r++):a=this.g.ue(a)}for(this.Go=h,this.wa=i.size,this.g.nx(i,this.wa),null==this.jh&&(this.jh=new t.$c(2),this.ge=new t.$c(8),this.Kc=new t.$c(8),this.ye=new t.$c(8)),this.jh.De(this.wa),t.mp.zp(s),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,o)),this.Cm=this.g.Gd(),n=new t.h,r=0,o=new t.h,n.Rc(),h=0;h<=this.wa;h++)if(h<this.wa?(c=i.get(h),this.g.D(c,o)):o.Rc(),!n.qb(o)){if(r<h){for(c=this.Ym(),f=l=-1;r<h;r++)f=i.get(r),this.g.Ra(f,this.Cm,c),a=this.jh.Ce(),this.jh.S(a,0,f),this.jh.S(a,1,l),l=a,u=this.g.bd(f),a=this.g.Qf(u),a=this.La(a),this.SW(c,this.xd(c)|a);this.TW(c,l),this.cr(c,this.g.Ua(f)),-1!=this.Os&&this.iX(this.Os,c),this.lX(c,this.Os),this.Os=c,-1==this.Re&&(this.Re=c)}r=h,n.L(o)}t.mp.zp(s),this.ae=this.$g(),5==e&&(this.cg=this.$g()),4==e&&(this.xg=this.$g()),this.vP(e,i),0==this.Ni.Jj&&(this.IX(e),0==this.Ni.Jj&&(isNaN(this.lA)||this.xO()?(this.WN(),0==this.Ni.Jj&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(e,s))):this.pA=!0))},i.prototype.Ly=function(t){var i=this.jc(t),e=this.te(t),n=this.xa(t),s=this.jc(n),r=this.te(n);i!=n&&(this.Sl(r,i),this.Tl(i,r)),e!=n&&(this.Sl(e,s),this.Tl(s,e)),e=this.jk(t),this.Me(e)==t&&(s!=t?this.mn(e,s):this.mn(e,-1)),s=this.jk(n),this.Me(s)==n&&(i!=n?this.mn(s,i):this.mn(s,-1)),this.Kc.jd(t),this.Kc.jd(n)},i.prototype.OF=function(t,i){for(;;){if(-1==(i=t.we(i)))return-1;var e=t.ja(i);if(this.$e(e)!=this.$e(this.xa(e)))return e}},i.prototype.dr=function(t,i){var e;void 0===e&&(e=!0),this.MB(t,0,null,i,e)},i.prototype.vJ=function(i,e,n){var s=new t.ia(0);s.add(e),this.MB(i,4,s,n,1736==i.ic(e))},i.prototype.wJ=function(i,e,n){var s=new t.ia(0);s.add(e),this.MB(i,5,s,n,!0)},i.prototype.Ug=function(){null!=this.g&&(-1!=this.Bq&&(this.g.xW(this.Bq),this.Bq=-1),-1!=this.Cm&&(this.g.Td(this.Cm),this.Cm=-1),-1!=this.Cq&&(this.g.Td(this.Cq),this.Cq=-1),-1!=this.ae&&(this.Jg(this.ae),this.ae=-1),-1!=this.cg&&(this.Jg(this.cg),this.cg=-1),-1!=this.xg&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,null!=this.Kc&&this.Kc.mj(!0),null!=this.Gi&&(this.Gi.length=0),null!=this.Di&&(this.Di.length=0),null!=this.hH&&(this.hH.length=0),null!=this.ye&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},i.prototype.Me=function(t){return this.ge.T(t,2)},i.prototype.D=function(t,i){this.g.dG(this.eR(t),i)},i.prototype.xd=function(t){return this.ge.T(t,1)},i.prototype.Rf=function(t){return this.ge.T(t,4)},i.prototype.cz=function(t){return this.ge.T(t,6)},i.prototype.km=function(t){return this.ge.T(t,7)},i.prototype.js=function(t){return this.jh.T(t,1)},i.prototype.tj=function(t){return this.jh.T(t,0)},i.prototype.ng=function(t,i){return(i=this.Di[i]).size<=t?-1:i.read(t)},i.prototype.nn=function(t,i,e){(i=this.Di[i]).size<=t&&i.resize(this.ge.size,-1),i.write(t,e)},i.prototype.Dp=function(){null==this.Di&&(this.Di=[]);for(var i=t.ia.qf(this.ge.Hg,-1),e=0,n=this.Di.length;e<n;e++)if(null==this.Di[e])return this.Di[e]=i,e;return this.Di.push(i),this.Di.length-1},i.prototype.Ep=function(t){this.Di[t]=null},i.prototype.jk=function(t){return this.Kc.T(t,1)},i.prototype.uf=function(t){return this.jk(this.xa(t))},i.prototype.xa=function(t){return this.Kc.T(t,4)},i.prototype.te=function(t){return this.Kc.T(t,5)},i.prototype.jc=function(t){return this.Kc.T(t,6)},i.prototype.$e=function(t){return this.Kc.T(t,2)},i.prototype.af=function(t){return this.hk(this.Kc.T(t,2))},i.prototype.mm=function(t){return this.Kc.T(t,7)},i.prototype.Yr=function(t,i){this.D(this.jk(t),i)},i.prototype.lm=function(t,i){this.D(this.uf(t),i)},i.prototype.dh=function(t){return this.Kc.T(t,3)&this.bO},i.prototype.Ab=function(t,i){return(i=this.Gi[i]).size<=t?-1:i.read(t)},i.prototype.Kb=function(t,i,e){(i=this.Gi[i]).size<=t&&i.resize(this.Kc.size,-1),i.write(t,e)},i.prototype.$g=function(){null==this.Gi&&(this.Gi=[]);for(var i=t.ia.qf(this.Kc.Hg,-1),e=0,n=this.Gi.length;e<n;e++)if(null==this.Gi[e])return this.Gi[e]=i,e;return this.Gi.push(i),this.Gi.length-1},i.prototype.Jg=function(t){this.Gi[t]=null},i.prototype.IP=function(t){var i=this.$e(t),e=this.xa(t),n=this.jc(t);n==e&&(n=this.jc(n))==t&&(n=-1);var s=this.AF(i);s!==t&&s!=e||this.Dt(i,n),e=this.Yn.read(i),isNaN(e)||(this.AJ(i,NaN),this.CJ(i,NaN)),this.yx(t,!0),this.Ly(t)},i.prototype.JP=function(t){for(var i=0,e=t.size;i<e;i++){var n=t.get(i),s=this.$e(this.xa(n));this.Dt(this.$e(n),-1),this.Dt(s,-1),this.yx(n,!0),this.Ly(n)}},i.prototype.AF=function(t){return this.ye.T(t,1)},i.prototype.hk=function(t){return this.ye.T(t,2)},i.prototype.Gn=function(t){return this.ye.T(t,3)},i.prototype.dR=function(t){return this.ye.T(t,4)},i.prototype.Kp=function(t){var i=this.Yn.read(t);return isNaN(i)&&(this.kY(t),i=this.Yn.read(t)),i},i.prototype.La=function(t){return this.g.KF(t,this.Bq)},i.prototype.Le=function(t){return this.g.Pa(t,this.Cm)},i.prototype.uR=function(t){return this.g.Pa(t,this.Cq)},i.prototype.tR=function(t,i){var e=this.Me(t);if(-1==e)return-1;var n=e,s=-1,r=-1;do{if(this.uf(n)==i)return n;if(-1==s){if(-1==(s=this.Me(i)))break;r=s}if(this.uf(r)==t)return this.xa(r);n=this.jc(this.xa(n)),r=this.jc(this.xa(r))}while(n!=e&&r!=s);return-1},i.prototype.pB=function(i,e){e.Or(),e=e.get();var n=new t.h;this.Yr(i,n),e.Dc(n),this.lm(i,n),e.Qc(n)},i.prototype.HO=function(i,e){if(i==e)return 0;var n=new t.h;this.lm(i,n);var s=new t.h;return this.lm(e,s),n.qb(s)?0:(e=new t.h,this.Yr(i,e),(i=new t.h).uc(n,e),(n=new t.h).uc(s,e),t.h.nu(i,n))},i.prototype.GO=function(i,e){if(i==e)return 0;var n=new t.h;this.lm(i,n);var s=new t.h;return this.lm(e,s),n.qb(s)?0:(e=new t.h,this.Yr(i,e),(i=new t.h).uc(n,e),(n=new t.h).uc(s,e),0<=n.y&&0<i.y?t.h.nu(i,n):0)},i.prototype.xO=function(){for(var i=t.lc.ox(this.lA),e=new t.h,n=new t.h,s=new t.h,r=new t.h,o=new t.h,h=this.Re;-1!=h;h=this.Rf(h)){var a=this.Me(h);if(-1!=a){var u=a;this.Yr(u,e),this.lm(u,n),o.uc(n,e);var c=o.Sk();do{var l=u;if((u=this.jc(this.xa(u)))!=l){this.lm(u,s),r.uc(s,e),l=r.Sk();var f=r.wi(o);if(f*f/(l*c)*Math.min(l,c)<=i)return!1;o.L(r),c=l,n.L(s)}}while(u!=a)}}return!0},i}(),t.iu=i}(W||(W={})),function(t){var i=function(){function i(){this.j=null,this.oH=new t.h,this.pH=new t.h,this.Gj=null,this.Mv=!1,this.tl=-1}return i.prototype.cf=function(t){return t<this.Gj.length&&this.Gj[t]},i.prototype.dl=function(i,e,n,s){var r=t.aa.tf(this.j.g.ic(n));if(2!=t.aa.tf(this.j.g.ic(e))||1!=r)throw t.i.Qa();this.FP(i,e,n,s)},i.prototype.dr=function(i,e){null==this.j&&(this.j=new t.iu),this.j.dr(i,e)},i.prototype.Ft=function(i,e,n){for(t.Tk.V(i,e,n,!0),e=i.ld;-1!=e;e=i.ue(e))1736==i.ic(e)&&t.rn.V(i,e,-1,this.Mv,n);this.dr(i,n)},i.prototype.ME=function(t,i,e,n,s){var r=this.j.g;if(1736==r.ic(t))for(t=r.Ob(t);-1!=t;t=r.Rb(t)){var o=r.Xa(t);this.j.Le(o),this.j.Le(r.U(o));var h=this.j.uR(o);if(-1!=h){var a=this.j.Ab(h,e);if(1!=a&&2!=a)if(this.cf(this.j.af(h))){this.j.Kb(h,e,1),a=r.vf(i,-1);var u=h,c=this.j.Le(o),l=1;do{var f=this.sm(o,s);r.ij(a,f),-1!=n&&this.j.nn(c,n,1),this.j.Kb(u,e,1),u=this.j.jc(u);do{var p=-1!=(f=1==l?r.U(o):r.Ma(o))?this.j.Le(f):-1}while(p==c);var d=this.j.jk(u);if(d!=p){do{p=-1!=(f=1==l?r.Ma(o):r.U(o))?this.j.Le(f):-1}while(p==c);d!=p?(p=d,f=this.j.tj(this.j.km(p))):l=-l}c=p,o=f}while(u!=h);r.kn(a,!0)}else this.j.Kb(h,e,2)}}},i.prototype.eF=function(){for(var i=this.j.$g(),e=new t.ia(0),n=this.j.Re;-1!=n;n=this.j.Rf(n)){var s=this.j.Me(n),r=s;if(-1!=s)do{if(1!=this.j.Ab(r,i)){var o=this.j.xa(r);this.j.Kb(o,i,1),this.j.Kb(r,i,1),this.cf(this.j.af(r))&&this.cf(this.j.af(o))&&e.add(r)}r=this.j.jc(this.j.xa(r))}while(r!=s)}this.j.Jg(i),this.j.JP(e)},i.prototype.sm=function(t,i){return-1==i?t:this.aS(t,i)},i.prototype.aS=function(t,i){var e=this.j.g,n=this.j.km(this.j.Le(t));do{var s=this.j.tj(n);if(e.Qf(e.bd(s))==i)return s;n=this.j.js(n)}while(-1!=n);return t},i.prototype.Ot=function(i,e,n){this.eF();var s=this.j.g,r=s.Ig(1736),o=this.j.$g();return this.uK(i,e,r,n,o,-1),this.j.Jg(o),t.rn.V(s,r,1,this.Mv,null),r},i.prototype.uK=function(t,i,e,n,s,r){for(this.ME(t,e,s,r,n),-1!=i&&this.ME(i,e,s,r,n),t=this.j.g,i=this.j.Re;-1!=i;i=this.j.Rf(i)){var o=this.j.Me(i);if(-1!=o){var h=o;do{var a=this.j.Ab(h,s);if(1!=a&&2!=a)if(this.cf(this.j.af(h))){a=t.vf(e,-1);var u=h;do{var c=this.j.mm(u);-1!=c?c=this.j.tj(c):(c=this.j.tj(this.j.mm(this.j.xa(u))),c=this.j.g.U(c)),c=this.sm(c,n),t.ij(a,c),this.j.Kb(u,s,1),-1!=r&&(c=this.j.Le(c),this.j.nn(c,r,1)),u=this.j.jc(u)}while(u!=h);t.kn(a,!0)}else this.j.Kb(h,s,2);h=this.j.jc(this.j.xa(h))}while(h!=o)}}},i.prototype.aY=function(i,e,n){var s=this.j.g,r=s.Ig(1736),o=s.Ig(1607),h=s.Ig(550);this.eF();var a=-1,u=this.j.$g(),c=this.j.Dp();for(this.uK(i,e,r,n,u,c),i=this.j.Re;-1!=i;i=this.j.Rf(i))if(-1!=(e=this.j.Me(i))){var l=e;do{var f=this.j.Ab(l,u),p=this.j.Ab(this.j.xa(l),u);if(2==(f|=p))if(f=this.j.dh(l),this.cf(f)){var d=s.vf(o,-1),v=l;f=this.Yw(i,s),f=this.sm(f,n),s.ij(d,f),this.j.nn(i,c,1);do{if(f=this.j.uf(v),p=this.Yw(f,s),p=this.sm(p,n),s.ij(d,p),this.j.Kb(v,u,1),this.j.Kb(this.j.xa(v),u,1),this.j.nn(f,c,1),v=this.j.jc(v),f=this.j.Ab(v,u),2!=(f|=p=this.j.Ab(this.j.xa(v),u)))break;if(f=this.j.dh(v),!this.cf(f)){this.j.Kb(v,u,1),this.j.Kb(this.j.xa(v),u,1);break}}while(v!=l)}else this.j.Kb(l,u,1),this.j.Kb(this.j.xa(l),u,1);l=this.j.jc(this.j.xa(l))}while(l!=e)}for(i=this.j.Re;-1!=i;i=this.j.Rf(i))1!=(f=this.j.ng(i,c))&&(f=this.j.xd(i),this.cf(f)&&(-1==a&&(a=s.vf(h,-1)),-1!=(e=this.j.km(i))&&(e=this.j.tj(e),f=this.sm(e,n),s.ij(a,f))));return this.j.Ep(c),this.j.Jg(u),t.rn.V(s,r,1,this.Mv,null),(n=[])[0]=h,n[1]=o,n[2]=r,n},i.prototype.Yw=function(t,i){var e=-1;for(t=this.j.km(t);-1!=t;t=this.j.js(t)){var n=this.j.tj(t);-1==e&&(e=n);var s=this.j.La(i.Qf(i.bd(n)));if(this.cf(s)){e=n;break}}return e},i.prototype.lB=function(i,e){for(var n=this.jl(e),s=this.j.jk(e),r=this.j.uf(e),o=0,h=0,a=this.j.km(s);-1!=a;a=this.j.js(a)){var u=this.j.tj(a),c=i.bd(u),l=this.j.La(i.Qf(c));c=i.Xa(c),(l=!!(l&n))&&c==u&&(this.tl=e);var f=i.U(u);-1!=f&&this.j.Le(f)==r?(o++,l&&(-1===this.tl&&c==f&&(u=this.j.jc(e),this.cf(this.jl(u))&&(this.tl=u)),h++)):-1!=(u=i.Ma(u))&&this.j.Le(u)==r&&(o--,l&&(-1===this.tl&&c===u&&(u=this.j.jc(e),this.cf(this.jl(u))&&(this.tl=u)),h--))}return this.j.D(s,this.oH),this.j.D(r,this.pH),(0!=h?h:o)*t.h.tb(this.oH,this.pH)},i.prototype.jl=function(t){return this.j.dh(t)|this.j.af(t)|this.j.af(this.j.xa(t))},i.prototype.xK=function(t){for(var i=this.j.xa(this.j.te(t)),e=-1;i!=t;){if(this.cf(this.jl(i))){if(-1!=e)return-1;e=i}i=this.j.xa(this.j.te(i))}return-1!=e?this.j.xa(e):-1},i.prototype.yK=function(t){for(var i=this.j.xa(this.j.jc(t)),e=-1;i!=t;){if(this.cf(this.jl(i))){if(-1!=e)return-1;e=i}i=this.j.xa(this.j.jc(i))}return-1!=e?this.j.xa(e):-1},i.prototype.mJ=function(i,e,n,s,r){var o=this.j.g,h=i,a=this.j.xa(h);this.j.Kb(h,n,1),this.j.Kb(a,n,1),this.tl=-1;for(var u=this.lB(o,h),c=h,l=-1,f=!1,p=1;;){var d=this.j.te(h);if(d==a)break;if(a=this.j.jc(a),this.j.xa(d)!=a){if(-1==(h=this.xK(h))){f=!0;break}a=this.j.xa(h)}else h=d;if(h==i){l=i;break}if(d=this.jl(h),!this.cf(d))break;this.j.Kb(h,n,1),this.j.Kb(a,n,1),c=h,u+=this.lB(o,h),p++}if(-1==l)for(h=i,a=this.j.xa(h),l=h;(i=this.j.jc(h))!=a;){if(a=this.j.te(a),this.j.xa(i)!=a){if(-1==(h=this.yK(h))){f=!0;break}a=this.j.xa(h)}else h=i;if(d=this.jl(h),!this.cf(d))break;this.j.Kb(h,n,1),this.j.Kb(a,n,1),l=h,u+=this.lB(o,h),p++}else if(-1!=this.tl&&(c=this.tl,l=this.j.te(this.tl),this.j.xa(l)!=this.j.jc(this.j.xa(c))&&-1==(l=this.xK(c))))throw t.i.Qa();for(0<=u||(h=l,l=this.j.xa(c),c=this.j.xa(h)),n=o.vf(e,-1),h=c,c=this.j.jk(c),f=this.j.uf(l)==c&&f,u=this.Yw(c,o),u=this.sm(u,r),o.ij(n,u),-1!=s&&this.j.nn(c,s,1),c=0,p=f?t.O.truncate((p+1)/2):-1;i=this.j.uf(h),u=this.Yw(i,o),u=this.sm(u,r),o.ij(n,u),c++,-1!=s&&this.j.nn(i,s,1),f&&c==p&&(n=o.vf(e,-1),o.ij(n,u)),h!=l;)if(i=this.j.jc(h),this.j.te(this.j.xa(h))!=this.j.xa(i)){if(-1==(h=this.yK(h)))throw t.i.Qa()}else h=i},i.prototype.Pt=function(t){for(var i=this.j.g.Ig(1607),e=this.j.$g(),n=this.j.Re;-1!=n;n=this.j.Rf(n)){var s=this.j.Me(n),r=s;do{1!=this.j.Ab(r,e)&&this.cf(this.jl(r))&&this.mJ(r,i,e,-1,t),r=this.j.jc(this.j.xa(r))}while(r!=s)}return this.j.Jg(e),i},i.prototype.bY=function(t){for(var i=this.j.g,e=i.Ig(1607),n=i.Ig(550),s=this.j.$g(),r=this.j.Dp(),o=-1,h=this.j.Re;-1!=h;h=this.j.Rf(h)){var a=this.j.Me(h),u=a;do{var c=this.j.Ab(u,s);1!=c&&(c=this.jl(u),this.cf(c)&&this.mJ(u,e,s,r,t)),u=this.j.jc(this.j.xa(u))}while(u!=a)}for(h=this.j.Re;-1!=h;h=this.j.Rf(h))1!=(c=this.j.ng(h,r))&&(c=this.j.xd(h),this.cf(c)&&(-1==o&&(o=i.vf(n,-1)),-1!=(a=this.j.km(h))&&(a=this.j.tj(a),a=this.sm(a,t),i.ij(o,a))));return this.j.Jg(s),this.j.Ep(r),(t=[])[0]=n,t[1]=e,t},i.prototype.mr=function(){for(var t=this.j.g,i=t.Ig(550),e=t.vf(i,-1),n=this.j.Re;-1!=n;n=this.j.Rf(n))if(this.cf(this.j.xd(n))){for(var s=-1,r=this.j.km(n);-1!=r;r=this.j.js(r)){var o=this.j.tj(r);-1==s&&(s=o);var h=this.j.La(t.Qf(t.bd(o)));if(this.cf(h)){s=o;break}}t.ij(e,s)}return i},i.prototype.bq=function(t){this.Gj=[];for(var i=0;i<t;i++)this.Gj[i]=!1},i.aW=function(i,e,n){var s=i.Ia(),r=Array(1e3);t.O.$u(r,null);var o=t.O.lg(1e3,0),h=i.I(),a=!0,u=2==e.Db();if(1!=e.Db()&&2!=e.Db())throw t.i.Qa();for(var c=0;c<h;){var l=t.O.truncate(i.lW(r,c)-c);u?t.hd.sK(e,r,l,n,o):t.hd.tK(e,r,l,n,o);for(var f=0,p=0;p<l;p++)0==o[p]&&(a&&(a=!1,s.Fd(i,0,c)),f!=p&&s.Fd(i,c+f,c+p),f=p+1);a||f==l||s.Fd(i,c+f,c+l),c+=l}return a?i:s},i.zG=function(e,n,s){return e instanceof t.de?i.aW(e,n,s):n instanceof t.Sa?e.B()||n.B()?e.Ia():t.Tk.zU(s,e,n)?t.Tk.CO(e,n):e.Ia():i.bW(e,n,s)},i.Av=function(e,n,s,r){var o=new t.l;e.A(o);var h=new t.l;n.A(h);var a=new t.l;if(a.K(o),a.Zb(h),s=t.ta.Wd(s,a,!0),(a=new t.l).K(h),h=t.ta.Er(s),a.W(h,h),!o.isIntersecting(a)){if(e.Db()<=n.Db())return i.ki(i.Xe(e.Ia()),e,"&");if(e.Db()>n.Db())return i.ki(i.Xe(n.Ia()),e,"&")}return h=new i,a=(o=new t.gd).Ib(i.Xe(e)),n=o.Ib(i.Xe(n)),h.Ft(o,s,r),r=h.Av(a,n),e=i.ki(o.Ne(r),e,"&"),t.aa.Hc(e.getType())&&(e.Ch(2,s),1736==e.getType()&&e.fm()),e},i.bW=function(i,e,n){if(i.B()||e.B())return i.Ia();var s=[null],r=[0],o=2==e.Db();if(1!=e.Db()&&2!=e.Db())throw t.i.Qa();return s[0]=i.D(),o?t.hd.sK(e,s,1,n,r):t.hd.tK(e,s,1,n,r),0==r[0]?i.Ia():i},i.prototype.LU=function(i,e,n,s,r){if(i.B())return i;var o=new t.gd;return i=o.Ib(i),this.Mk(o,i,e,n,s,r)},i.prototype.NU=function(i,e,n,s,r,o){if(r&&550!=i.ic(e)){var h=new t.RC;h.TX(i,n),h.Ng?(t.Tk.V(i,n,o,!0),r=!1):this.j.yy(n)}else t.Tk.V(i,n,o,!0),r=!1;if(s&&550!=i.ic(e)?this.j.wJ(i,e,o):this.j.vJ(i,e,o),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(i,e,n,s,!1,o);if(this.j.yy(NaN),o=this.j.La(e),this.bq(o+1),this.Gj[o]=!0,1736==i.ic(e)||s&&550!=i.ic(e))return i.Yo(e,0),e=this.Ot(e,-1,-1),(i=i.Ne(e)).Yo(0),r?i.Ch(1,0):(i.Ch(2,n),i.fm()),i;if(1607==i.ic(e))return e=this.Pt(-1),i=i.Ne(e),r||i.Ch(2,n),i;if(550==i.ic(e))return e=this.mr(),i=i.Ne(e),r||i.Ch(2,n),i;throw t.i.Qa()},i.prototype.Mk=function(i,e,n,s,r,o){this.j=new t.iu;try{return this.NU(i,e,n,s,r,o)}finally{this.j.Ug()}},i.Mk=function(t,e,n,s,r){return(new i).LU(t,e,n,s,r)},i.prototype.MU=function(i,e,n,s){this.Mv=i,this.j=new t.iu,i=e.In(n);var r=e.ic(n);if(1!=i||550==r?this.j.vJ(e,n,s):this.j.wJ(e,n,s),!this.j.pA)if(this.j.yy(NaN),s=this.j.La(n),this.bq(s+1),this.Gj[s]=!0,1736==e.ic(n)||1==i&&550!=e.ic(n))e.Yo(n,0),s=this.Ot(n,-1,-1),e.hC(s,n),e.BB(s);else if(1607==e.ic(n))s=this.Pt(-1),e.hC(s,n),e.BB(s);else{if(550!=e.ic(n))throw t.i.fa("internal error");s=this.mr(),e.hC(s,n),e.BB(s)}},i.prototype.im=function(i,e){var n=t.aa.tf(this.j.g.ic(i)),s=t.aa.tf(this.j.g.ic(e));if(n>s)return i;var r=this.j.La(i),o=this.j.La(e);if(this.bq(1+(r|o)),this.Gj[this.j.La(i)]=!0,2==n&&2==s)return this.Ot(i,e,-1);if(1==n&&2==s||1==n&&1==s)return this.Pt(-1);if(0==n)return this.mr();throw t.i.Qa()},i.prototype.Av=function(i,e){var n=t.aa.tf(this.j.g.ic(i)),s=t.aa.tf(this.j.g.ic(e)),r=this.j.La(i),o=this.j.La(e);if(this.bq(1+(r|o)),this.Gj[this.j.La(i)|this.j.La(e)]=!0,r=-1,1<this.j.g.ht.Aa&&(r=i),2==n&&2==s)return this.Ot(i,e,r);if(1==n&&0<s||1==s&&0<n)return this.Pt(r);if(0==n||0==s)return this.mr();throw t.i.Qa()},i.prototype.Pz=function(i,e){var n=t.aa.tf(this.j.g.ic(i)),s=t.aa.tf(this.j.g.ic(e)),r=this.j.La(i),o=this.j.La(e);if(this.bq(1+(r|o)),this.Gj[this.j.La(i)|this.j.La(e)]=!0,r=-1,1<this.j.g.ht.Aa&&(r=i),2==n&&2==s)return this.aY(i,e,r);if(1==n&&0<s||1==s&&0<n)return this.bY(r);if(0==n||0==s)return(i=[])[0]=this.mr(),i;throw t.i.Qa()},i.prototype.ep=function(i,e){var n=t.aa.tf(this.j.g.ic(i)),s=t.aa.tf(this.j.g.ic(e)),r=this.j.La(i),o=this.j.La(e);if(this.bq(1+(r|o)),this.Gj[this.j.La(i)]=!0,this.Gj[this.j.La(e)]=!0,2==n&&2==s)return this.Ot(i,e,-1);if(1==n&&1==s)return this.Pt(-1);if(0==n&&0==s)return this.mr();throw t.i.Qa()},i.Xe=function(i){var e=i.getType();return 197==e?(e=new t.Da(i.description),i.B()||e.ad(i,!1),e):33==e?(e=new t.de(i.description),i.B()||e.add(i),e):322==e?(e=new t.Ta(i.description),i.B()||e.oc(i,!0),e):i},i.ki=function(i,e,n){var s=i.getType();return 197==s?(e=new t.Da(i.description),i.B()||e.ad(i,!1),e):33!=s||"|"!=n&&"^"!=n?322==s?(e=new t.Ta(i.description),i.B()||e.oc(i,!0),e):33==s&&"-"==n&&33==e.getType()||550==s&&"&"==n&&33==e.getType()?(e=new t.Sa(i.description),i.B()||i.ve(0,e),e):i:(e=new t.de(i.description),i.B()||e.add(i),e)},i.im=function(e,n,s,r){if(e.B()||n.B()||e.Db()>n.Db())return i.ki(i.Xe(e),e,"-");var o=new t.l;e.A(o);var h=new t.l;if(n.A(h),!o.isIntersecting(h))return i.ki(i.Xe(e),e,"-");var a=new t.l;return a.K(o),a.Zb(h),s=t.ta.Wd(s,a,!0),h=new i,a=(o=new t.gd).Ib(i.Xe(e)),n=o.Ib(i.Xe(n)),h.Ft(o,s,r),r=h.im(a,n),r=o.Ne(r),e=i.ki(r,e,"-"),t.aa.Hc(e.getType())&&(e.Ch(2,s),1736==e.getType()&&e.fm()),e},i.VP=function(e,n,s){if(2>e.length)throw t.i.N("not enough geometries to dissolve");for(var r=0,o=0,h=e.length;o<h;o++)r=Math.max(e[o].Db(),r);var a=new t.l;a.Oa();var u=new t.gd,c=-1,l=0,f=-1;for(o=0,h=e.length;o<h;o++)if(e[o].Db()==r)if(e[o].B())-1==f&&(f=o);else{f=o,-1==c?c=u.Ib(i.Xe(e[o])):u.uN(c,i.Xe(e[o]));var p=new t.l;e[o].xc(p),a.Zb(p),l++}return 2>l?i.Xe(e[f]):(e=2==r,n=t.ta.Wd(0==r?n:null,a,!0),(new i).Mk(u,c,n,e,!0,s))},i.Pz=function(e,n,s,r){var o=[null,null,null],h=new t.l;e.A(h);var a=new t.l;n.A(a);var u=new t.l;if(u.K(h),u.Zb(a),s=t.ta.Wd(s,u,!0),(u=new t.l).K(a),a=t.ta.Er(s),u.W(a,a),!h.isIntersecting(u)){if(e.Db()<=n.Db())return o[(e=i.ki(i.Xe(e.Ia()),e,"&")).Db()]=e,o;if(e.Db()>n.Db())return o[(e=i.ki(i.Xe(n.Ia()),e,"&")).Db()]=e,o}for(a=new i,u=(h=new t.gd).Ib(i.Xe(e)),n=h.Ib(i.Xe(n)),a.Ft(h,s,r),r=a.Pz(u,n),n=0;n<r.length;n++)a=i.ki(h.Ne(r[n]),e,"&"),t.aa.Hc(a.getType())&&(a.Ch(2,s),1736==a.getType()&&a.fm()),o[a.Db()]=a;return o},i.ep=function(e,n,s,r){if(e.Db()>n.Db())return i.ki(i.Xe(e),e,"^");if(e.Db()<n.Db()||e.B())return i.ki(i.Xe(n),e,"^");if(n.B())return i.ki(i.Xe(e),e,"^");var o=new t.l;e.A(o);var h=new t.l;n.A(h);var a=new t.l;return a.K(o),a.Zb(h),s=t.ta.Wd(s,a,!0),h=new i,a=(o=new t.gd).Ib(i.Xe(e)),n=o.Ib(i.Xe(n)),h.Ft(o,s,r),r=h.ep(a,n),e=i.ki(o.Ne(r),e,"^"),t.aa.Hc(e.getType())&&(e.Ch(2,s),1736==e.getType()&&e.fm()),e},i.prototype.LQ=function(t,i){var e=this.j.g;t=e.vf(t,-1);for(var n=i.size,s=0;s<n;s++){var r=i.get(s);e.ij(t,r)}e.kn(t,!0)},i.prototype.aX=function(t,i){for(var e=this.j.g,n=e.ld;-1!=n;n=e.ue(n))if(n==i)for(var s=e.Ob(n);-1!=s;s=e.Rb(s)){var r=e.Xa(s);if(-1!=r)for(var o=e.U(r);-1!=o;){r=this.j.Le(r);var h=this.j.Le(o);-1!=(r=this.j.tR(r,h))&&(h=this.j.xa(r),this.j.Kb(r,t,1),this.j.Kb(h,t,2)),r=o,o=e.U(r)}}},i.prototype.cW=function(i,e,n,s){n=this.j.La(n),s=this.j.La(s);var r=new t.ia(0);r.Jb(256);for(var o=this.j.g,h=this.j.$g(),a=this.j.Re;-1!=a;a=this.j.Rf(a)){var u=this.j.Me(a);if(-1!=u){var c=u;do{if(1!=this.j.Ab(c,h)){var l=c,f=c,p=!1,d=0;do{if(this.j.Kb(l,h,1),!p){var v=this.j.dh(l);v&s&&this.j.af(l)&n&&(f=l,p=!0)}p&&(r.add(this.j.tj(this.j.km(this.j.jk(l)))),-1!=i&&(v=this.j.dh(l))&s&&(d|=v=this.j.Ab(l,i))),l=this.j.jc(l)}while(l!=f);p&&0<this.j.Kp(this.j.$e(f))&&(l=o.Ig(1736),this.LQ(l,r),-1!=e&&o.HJ(l,e,d)),r.clear(!1)}c=this.j.jc(this.j.xa(c))}while(c!=u)}}this.j.Jg(h)},i.prototype.FP=function(t,i,e,n){this.j.yW();var s=-1;-1!=t&&(s=this.j.$g(),this.aX(s,e)),this.cW(s,t,i,e),-1!=s&&(this.j.Jg(s),s=-1);var r=this.j.g;for(t=0,s=r.ld;-1!=s;s=r.ue(s))s!=i&&s!=e&&(n.add(s),t++);n.Vd(0,t,(function(t,i){return(t=r.wz(r.Ob(t)))<(i=r.wz(r.Ob(i)))?-1:t==i?0:1}))},i.prototype.Ug=function(){null!=this.j&&(this.j.Ug(),this.j=null)},i}();t.Fg=i}(W||(W={})),function(t){var i=function(){function i(t){void 0!==t?this.setScale(t):this.RB()}return i.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},i.prototype.Nb=function(t){return this==t||t instanceof i&&this.bb==t.bb&&this.eb==t.eb&&this.Gb==t.Gb&&this.jb==t.jb&&this.ab==t.ab&&this.Lb==t.Lb},i.prototype.cc=function(){return t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj()},i.prototype.Eh=function(t,i){var e=this.jb*t.x+this.ab*t.y+this.Lb;i.x=this.bb*t.x+this.eb*t.y+this.Gb,i.y=e},i.prototype.eY=function(i,e,n){for(var s=0;s<e;s++){var r=i[s].x,o=i[s].y,h=this.bb*r+this.eb*o+this.Gb;r=this.jb*r+this.ab*o+this.Lb,null!=n[s]?n[s].ma(h,r):n[s]=t.h.construct(h,r)}},i.prototype.multiply=function(t){i.multiply(this,t,this)},i.multiply=function(t,i,e){var n=t.bb*i.bb+t.jb*i.eb,s=t.eb*i.bb+t.ab*i.eb,r=t.Gb*i.bb+t.Lb*i.eb+i.Gb,o=t.bb*i.jb+t.jb*i.ab,h=t.eb*i.jb+t.ab*i.ab;t=t.Gb*i.jb+t.Lb*i.ab+i.Lb,e.bb=n,e.eb=s,e.Gb=r,e.jb=o,e.ab=h,e.Lb=t},i.prototype.Of=function(){var t=new i;return t.bb=this.bb,t.eb=this.eb,t.Gb=this.Gb,t.jb=this.jb,t.ab=this.ab,t.Lb=this.Lb,t},i.prototype.mC=function(i){if(!i.B()){for(var e=[],n=0;4>n;n++)e[n]=new t.h;i.nB(e),this.fY(e,e),i.Zw(e,4)}},i.prototype.fY=function(i,e){for(var n=0;n<i.length;n++){var s=new t.h,r=i[n];s.x=this.bb*r.x+this.eb*r.y+this.Gb,s.y=this.jb*r.x+this.ab*r.y+this.Lb,e[n]=s}},i.prototype.pS=function(t,i){t.B()||i.B()||0==t.R()||0==t.ca()?this.lx():(this.eb=this.jb=0,this.bb=i.R()/t.R(),this.ab=i.ca()/t.ca(),this.Gb=i.v-t.v*this.bb,this.Lb=i.G-t.G*this.ab)},i.prototype.dY=function(i){var e=new t.h,n=new t.h;e.ma(this.bb,this.jb),n.ma(this.eb,this.ab),e.sub(e);var s=.5*e.Sk();return e.ma(this.bb,this.jb),n.ma(this.eb,this.ab),e.add(n),i*(s>(e=.5*e.Sk())?Math.sqrt(s):Math.sqrt(e))},i.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},i.prototype.isIdentity=function(i){if(void 0!==i){var e=t.h.construct(0,1);return this.Eh(e,e),e.sub(t.h.construct(0,1)),!(e.Sk()>i*i)&&(e.ma(0,0),this.Eh(e,e),!(e.Sk()>i*i)&&(e.ma(1,0),this.Eh(e,e),e.sub(t.h.construct(1,0)),e.Sk()<=i*i))}return 1==this.bb&&1==this.ab&&0==this.eb&&0==this.Gb&&0==this.jb&&0==this.Lb},i.prototype.Bi=function(t){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*t*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},i.prototype.gg=function(t,i){this.bb=1,this.eb=0,this.Gb=t,this.jb=0,this.ab=1,this.Lb=i},i.prototype.setScale=function(t,i){void 0!==i?(this.bb=t,this.jb=this.Gb=this.eb=0,this.ab=i,this.Lb=0):this.setScale(t,t)},i.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},i.prototype.setRotate=function(t){this.pX(Math.cos(t),Math.sin(t))},i.prototype.pX=function(t,i){this.bb=t,this.eb=-i,this.Gb=0,this.jb=i,this.ab=t,this.Lb=0},i.prototype.shift=function(t,i){this.Gb+=t,this.Lb+=i},i.prototype.scale=function(t,i){this.bb*=t,this.eb*=t,this.Gb*=t,this.jb*=i,this.ab*=i,this.Lb*=i},i.prototype.flipX=function(t,i){this.bb=-this.bb,this.eb=-this.eb,this.Gb=t+i-this.Gb},i.prototype.flipY=function(t,i){this.jb=-this.jb,this.ab=-this.ab,this.Lb=t+i-this.Lb},i.prototype.rotate=function(t){var e=new i;e.setRotate(t),this.multiply(e)},i.prototype.inverse=function(t){if(void 0!==t){var i=this.bb*this.ab-this.eb*this.jb;0==i?t.lx():(i=1/i,t.Gb=(this.eb*this.Lb-this.Gb*this.ab)*i,t.Lb=(this.Gb*this.jb-this.bb*this.Lb)*i,t.bb=this.ab*i,t.eb=-this.eb*i,t.jb=-this.jb*i,t.ab=this.bb*i)}else this.inverse(this)},i}();t.Dd=i}(W||(W={})),function(t){var i=function(){function i(){}return i.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},i.prototype.setScale=function(t,i,e){this.bb=t,this.eb=this.Ze=this.jb=0,this.ab=i,this.Fe=this.Ee=this.Ge=0,this.He=e,this.hg=this.Lb=this.Gb=0},i.prototype.setTranslate=function(t,i,e){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=t,this.Lb=i,this.hg=e},i.prototype.translate=function(t,i,e){this.Gb+=t,this.Lb+=i,this.hg+=e},i.prototype.mC=function(i){if(!i.B()){for(var e=new t.Nd[8],n=0;8>n;n++)e[n]=new t.Nd;i.nB(e),this.transform(e,8,e),i.Zw(e)}},i.prototype.transform=function(i,e,n){for(var s=0;s<e;s++){var r=new t.Nd,o=i[s];r.x=this.bb*o.x+this.eb*o.y+this.Ee*o.z+this.Gb,r.y=this.jb*o.x+this.ab*o.y+this.Fe*o.z+this.Lb,r.z=this.Ze*o.x+this.Ge*o.y+this.He*o.z+this.hg,n[s]=r}},i.prototype.fp=function(i){var e=new t.Nd;return e.x=this.bb*i.x+this.eb*i.y+this.Ee*i.z+this.Gb,e.y=this.jb*i.x+this.ab*i.y+this.Fe*i.z+this.Lb,e.z=this.Ze*i.x+this.Ge*i.y+this.He*i.z+this.hg,e},i.prototype.Ag=function(t){i.multiply(this,t,this)},i.multiply=function(t,i,e){var n=t.bb*i.bb+t.jb*i.eb+t.Ze*i.Ee,s=t.bb*i.jb+t.jb*i.ab+t.Ze*i.Fe,r=t.bb*i.Ze+t.jb*i.Ge+t.Ze*i.He,o=t.eb*i.bb+t.ab*i.eb+t.Ge*i.Ee,h=t.eb*i.jb+t.ab*i.ab+t.Ge*i.Fe,a=t.eb*i.Ze+t.ab*i.Ge+t.Ge*i.He,u=t.Ee*i.bb+t.Fe*i.eb+t.He*i.Ee,c=t.Ee*i.jb+t.Fe*i.ab+t.He*i.Fe,l=t.Ee*i.Ze+t.Fe*i.Ge+t.He*i.He,f=t.Gb*i.bb+t.Lb*i.eb+t.hg*i.Ee+i.Gb,p=t.Gb*i.jb+t.Lb*i.ab+t.hg*i.Fe+i.Lb;t=t.Gb*i.Ze+t.Lb*i.Ge+t.hg*i.He+i.hg,e.bb=n,e.jb=s,e.Ze=r,e.eb=o,e.ab=h,e.Ge=a,e.Ee=u,e.Fe=c,e.He=l,e.Gb=f,e.Lb=p,e.hg=t},i.inverse=function(i,e){var n=i.bb*(i.ab*i.He-i.Ge*i.Fe)-i.jb*(i.eb*i.He-i.Ge*i.Ee)+i.Ze*(i.eb*i.Fe-i.ab*i.Ee);if(0==n)throw t.i.fa("math singularity");var s=1/n;n=(i.ab*i.He-i.Ge*i.Fe)*s;var r=-(i.eb*i.He-i.Ge*i.Ee)*s,o=(i.eb*i.Fe-i.ab*i.Ee)*s,h=-(i.jb*i.He-i.Fe*i.Ze)*s,a=(i.bb*i.He-i.Ze*i.Ee)*s,u=-(i.bb*i.Fe-i.jb*i.Ee)*s,c=(i.jb*i.Ge-i.Ze*i.ab)*s,l=-(i.bb*i.Ge-i.Ze*i.eb)*s;s*=i.bb*i.ab-i.jb*i.eb;var f=-(i.Gb*n+i.Lb*r+i.hg*o),p=-(i.Gb*h+i.Lb*a+i.hg*u);i=-(i.Gb*c+i.Lb*l+i.hg*s),e.bb=n,e.jb=h,e.Ze=c,e.eb=r,e.ab=a,e.Ge=l,e.Ee=o,e.Fe=u,e.He=s,e.Gb=f,e.Lb=p,e.hg=i},i.prototype.Of=function(){var t=new i;return t.bb=this.bb,t.jb=this.jb,t.Ze=this.Ze,t.eb=this.eb,t.ab=this.ab,t.Ge=this.Ge,t.Ee=this.Ee,t.Fe=this.Fe,t.He=this.He,t.Gb=this.Gb,t.Lb=this.Lb,t.hg=this.hg,t},i}();t.JY=i}(W||(W={})),function(t){var i=function(i){function n(t){if(void 0!==t)t=i.call(this,t.cc(),t)||this;else{(t=i.call(this)||this).bg=[],t.bg[0]=0,t.Aa=1,t.uh=[];for(var e=0;10>e;e++)t.uh[e]=-1;t.uh[t.bg[0]]=0}return t.jq=!0,t}return Q(n,i),n.prototype.re=function(t){this.hasAttribute(t)||(this.uh[t]=0,this.jD())},n.prototype.removeAttribute=function(i){if(0==i)throw t.i.N("Position attribue cannot be removed");this.hasAttribute(i)&&(this.uh[i]=-1,this.jD())},n.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var t=0;t<this.uh.length;t++)this.uh[t]=-1;this.uh[this.bg[0]]=0,this.jq=!0},n.prototype.EF=function(){return e.kz().add(this)},n.og=function(){return e.kz().$R()},n.prototype.tM=function(){var i=this.cc();return new t.ra(i,this)},n.prototype.jD=function(){for(var t=this.Aa=0,i=0;10>t;t++)0<=this.uh[t]&&(this.bg[i]=t,this.uh[t]=i,i++,this.Aa++);this.jq=!0},n.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},n.prototype.Nb=function(t){if(null==t)return!1;if(t==this)return!0;if(!(t instanceof n)||t.Aa!=this.Aa)return!1;for(var i=0;i<this.Aa;i++)if(this.bg[i]!=t.bg[i])return!1;return this.jq==t.jq},n.prototype.GG=function(t){if(t.Aa!=this.Aa)return!1;for(var i=0;i<this.Aa;i++)if(this.bg[i]!=t.bg[i])return!1;return!0},n.Iw=function(t,i){for(var e=[],n=0;n<t.Aa;n++)e[n]=-1;n=0;for(var s=t.Aa;n<s;n++)e[n]=i.Pf(t.kd(n));return e},n.BR=function(t,i){return(t=new n(t)).re(i),t.EF()},n.CR=function(t,i){for(var e=null,s=0;10>s;s++)!t.hasAttribute(s)&&i.hasAttribute(s)&&(null==e&&(e=new n(t)),e.re(s));return null!=e?e.EF():t},n}(t.ra);t.ee=i;var e=function(){function t(){this.map=[];var t=new i;this.add(t),(t=new i).re(1),this.add(t)}return t.kz=function(){return t.bL},t.prototype.$R=function(){return t.ft},t.prototype.add=function(i){var e=i.cc();if(null!=t.ft&&t.ft.cc()==e&&i.GG(t.ft))return t.ft;if(null!=t.Dw&&t.Dw.cc()==e&&i.GG(t.Dw))return t.Dw;var n=null;return void 0!==this.map[e]&&(n=this.map[e]),null==n&&(1==(n=i.tM()).Aa?t.ft=n:2==n.Aa&&1==n.kd(1)?t.Dw=n:this.map[e]=n),n},t.bL=new t,t}()}(W||(W={}));var rt={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},ot={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},ht=new(function(){function t(){this.RM=50,this.np=new Map,this.gj=[]}return t.prototype.clear=function(){this.gj.length=0,this.np.clear()},t.prototype.delete=function(t){return!!this.np.delete(t)&&(this.gj.splice(this.gj.indexOf(t),1),!0)},t.prototype.get=function(t){var i=this.np.get(t);if(void 0!==i)return this.gj[0]!==t&&(this.gj.splice(this.gj.indexOf(t),1),this.gj.unshift(t)),i},t.prototype.has=function(t){return this.np.has(t)},t.prototype.set=function(t,i){return void 0!==this.get(t)&&this.delete(t),this.gj.unshift(t),this.np.set(t,i),this.oM(),this},t.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var t=this.gj.pop();this.np.delete(t)}},t}()),at=((X={}).convertJSONToGeometry=function(t){return W.$b.fP(t)},X.hasM=function(t){return t.hasAttribute(W.Ih.M)},X.hasZ=function(t){return t.hasAttribute(W.Ih.Z)},X.getPointX=function(t){return t.Lg()},X.getPointY=function(t){return t.ih()},X.getPointZ=function(t){return t.bS()},X.getPointM=function(t){return t.zR()},X.getXMin=function(t){return t.es()},X.getYMin=function(t){return t.gs()},X.getXMax=function(t){return t.ds()},X.getYMax=function(t){return t.fs()},X.getZExtent=function(t){return t.Tg(W.Ih.Z,0)},X.getMExtent=function(t){return t.Tg(W.Ih.M,0)},X.exportPaths=function(t){var i=[],e=t.da(),n=null,s=null,r=t.hasAttribute(W.Ih.Z),o=t.hasAttribute(W.Ih.M);r&&(n=t.ub(W.Ih.Z)),o&&(s=t.ub(W.Ih.M));for(var h=new W.h,a=0;a<e;a++){for(var u=t.Ba(a),c=t.Ja(a),l=0,f=0,p=NaN,d=NaN,v=NaN,y=NaN,g=t.dc(a),b=[],w=u;w<u+c;w++){t.D(w,h),y=v=NaN;var m=[h.x,h.y];r&&(v=n.get(w),m.push(v)),o&&(y=s.get(w),m.push(y)),w==u&&g&&(l=h.x,f=h.y,p=v,d=y),b.push(m)}!g||l==h.x&&f==h.y&&(!r||isNaN(p)&&isNaN(v)||p==v)&&(!o||isNaN(d)&&isNaN(y)||d==y)||b.push(b[0].slice(0)),i.push(b)}return i},X.exportPathsFlat=function(){},X.exportPoints=function(t){var i=t.hasAttribute(W.Ih.Z),e=t.hasAttribute(W.Ih.M),n=null,s=null;i&&(n=t.ub(W.Ih.Z)),e&&(s=t.ub(W.Ih.M));for(var r=new W.h,o=t.I(),h=[],a=0;a<o;a++){t.D(a,r);var u=[r.x,r.y];i&&u.push(n.get(a)),e&&u.push(s.get(a)),h.push(u)}return h},X.exportPointsFlat=function(){},X),ut=new Map;return function(){function t(){}return t.buffer=P,t.clip=a,t.contains=c,t.convexHull=M,t.crosses=l,t.cut=u,t.densify=R,t.difference=_,t.disjoint=g,t.distance=f,t.equals=p,t.extendedSpatialReferenceInfo=h,t.generalize=N,t.geodesicArea=V,t.geodesicBuffer=I,t.geodesicDensify=O,t.geodesicLength=L,t.intersect=A,t.intersects=d,t.isSimple=m,t.nearestCoordinate=z,t.nearestVertex=C,t.nearestVertices=S,t.offset=j,t.overlaps=b,t.planarArea=G,t.planarLength=D,t.relate=w,t.simplify=x,t.symmetricDifference=k,t.touches=v,t.union=T,t.within=y,t.rotate=W.Ex.rotate,t.flipHorizontal=W.Ex.JQ,t.flipVertical=W.Ex.KQ,t.intersectLinesToPoints=J,t.ExtendedParams=W.yC,t.clearDefaultSpatialReferenceTolerance=K,t.changeDefaultSpatialReferenceTolerance=U,t._enableProjection=F,t._project=H,t._getTransformation=q,t._getTransformationBySuitability=B,t}()}();void 0!==i&&(t.exports=i)}(r)),r.exports);const h=(0,s.g)(o),a=function(t,i){for(var e=0;e<i.length;e++){const n=i[e];if("string"!=typeof n&&!Array.isArray(n))for(const i in n)if("default"!==i&&!(i in t)){const e=Object.getOwnPropertyDescriptor(n,i);e&&Object.defineProperty(t,i,e.get?e:{enumerable:!0,get:()=>n[i]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}({__proto__:null,default:h},[o])},13794:function(t,i,e){e.d(i,{N:function(){return v},a:function(){return _},c:function(){return y},e:function(){return w},f:function(){return k},g:function(){return M},k:function(){return E},l:function(){return m},m:function(){return g},n:function(){return T},o:function(){return G},p:function(){return C},s:function(){return L},w:function(){return x}}),e(58941),e(40633);var n=e(15774),s=e(73364),r=e(20551),o=e(32501),h=e(33400),a=e(41546),u=e(8527),c=e(72485),l=e(79578);function f(t,i){const e=(0,r.l)(t),s=(0,n.YN)(t[2]/e),o=Math.atan2(t[1]/e,t[0]/e);return(0,r.i)(i,e,s,o),i}var p=e(29531),d=e(50973);const v=y();function y(){return(0,a.vt)()}const g=h.e,b=h.e;function w(t,i){return(0,h.c)(i,t)}function m(t,i){return(0,a.fA)(t[0],t[1],t[2],i)}function x(t){return t}function M(t){return t[3]}function _(t){return t}function k(t,i,e,n){return(0,a.fA)(t,i,e,n)}function A(t,i,e){if(null==i)return!1;if(!P(t,i,j))return!1;let{t0:n,t1:s}=j;if((n<0||s<n&&s>0)&&(n=s),n<0)return!1;if(e){const{origin:t,direction:s}=i;e[0]=t[0]+s[0]*n,e[1]=t[1]+s[1]*n,e[2]=t[2]+s[2]*n}return!0}function T(t,i,e){const n=(0,l.Cr)(i,e);if(!P(t,n,j))return[];const{origin:s,direction:h}=n,{t0:a,t1:c}=j,f=i=>{const e=(0,o.vt)();return(0,r.b)(e,s,h,i),C(t,e,e)};return Math.abs(a-c)<(0,u.FD)()?[f(a)]:[f(a),f(c)]}const j={t0:0,t1:0};function P(t,i,e){const{origin:n,direction:s}=i,r=I;r[0]=n[0]-t[0],r[1]=n[1]-t[1],r[2]=n[2]-t[2];const o=s[0]*s[0]+s[1]*s[1]+s[2]*s[2];if(0===o)return!1;const h=2*(s[0]*r[0]+s[1]*r[1]+s[2]*r[2]),a=h*h-4*o*(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]-t[3]*t[3]);if(a<0)return!1;const u=Math.sqrt(a);return e.t0=(-h-u)/(2*o),e.t1=(-h+u)/(2*o),!0}const I=(0,o.vt)();function E(t,i){return A(t,i,null)}function z(t,i,e){const n=d.rq.get(),o=d.Rc.get();(0,r.e)(n,i.origin,i.direction);const h=M(t);(0,r.e)(e,n,i.origin),(0,r.h)(e,e,1/(0,r.l)(e)*h);const a=S(t,i.origin),u=(0,p.g7)(i.origin,e);return(0,s.$0)(o,u+a,n),(0,r.t)(e,e,o),e}function C(t,i,e){const n=(0,r.d)(d.rq.get(),i,t),s=(0,r.h)(d.rq.get(),n,t[3]/(0,r.l)(n));return(0,r.g)(e,s,t)}function S(t,i){const e=(0,r.d)(d.rq.get(),i,t),s=(0,r.l)(e),o=M(t),h=o+Math.abs(o-s);return(0,n.XM)(o/h)}const N=(0,o.vt)();function R(t,i,e,n){const s=(0,r.d)(N,i,t);switch(e){case c._.X:{const t=f(s,N)[2];return(0,r.i)(n,-Math.sin(t),Math.cos(t),0)}case c._.Y:{const t=f(s,N),i=t[1],e=t[2],o=Math.sin(i);return(0,r.i)(n,-o*Math.cos(e),-o*Math.sin(e),Math.cos(i))}case c._.Z:return(0,r.n)(n,s);default:return}}function O(t,i){const e=(0,r.d)(D,i,t);return(0,r.l)(e)-t[3]}function G(t,i){const e=(0,r.s)(t,i),n=M(t);return e<=n*n}const D=(0,o.vt)(),V=y(),L=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:v,altitudeAt:O,angleToSilhouette:S,axisAt:R,cameraFrustumCoverage:function(t,i,e,n){const s=M(t),r=s*s,o=i+.5*Math.PI,h=e*e+r-2*Math.cos(o)*e*s,a=Math.sqrt(h),u=h-r;if(u<=0)return.5;const c=Math.sqrt(u),l=Math.acos(c/a)-Math.asin(s/(a/Math.sin(o)));return Math.min(1,(l+.5*n)/n)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,i,e){return A(t,i,e)?e:((0,l.oC)(i,t,e),C(t,e,e))},closestPointOnSilhouette:z,containsPoint:G,copy:w,create:y,distanceToSilhouette:function(t,i){const e=(0,r.d)(d.rq.get(),i,t),n=(0,r.k)(e),s=t[3]*t[3];return Math.sqrt(Math.abs(n-s))},elevate:function(t,i,e){return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=t[3]+i,e},equals:b,exactEquals:g,fromCenterAndRadius:m,fromRadius:function(t,i){return t[0]=t[1]=t[2]=0,t[3]=i,t},fromValues:k,getCenter:_,getExtent:function(t,i){return i},getRadius:M,intersectLine:T,intersectRay:A,intersectRayClosestSilhouette:function(t,i,e){if(A(t,i,e))return e;const n=z(t,i,d.rq.get());return(0,r.g)(e,i.origin,(0,r.h)(d.rq.get(),i.direction,(0,r.j)(i.origin,n)/(0,r.l)(i.direction))),e},intersectsRay:E,projectPoint:C,setAltitudeAt:function(t,i,e,n){const s=O(t,i),o=R(t,i,c._.Z,D),h=(0,r.h)(D,o,e-s);return(0,r.g)(n,i,h)},setExtent:function(t,i,e){return t!==e&&w(t,e),e},tmpSphere:V,union:function(t,i,e=(0,a.vt)()){const n=(0,r.j)(t,i),s=t[3],o=i[3];return n+o<s?((0,h.c)(e,t),e):n+s<o?((0,h.c)(e,i),e):((0,r.m)(e,t,i,(n+o-s)/(2*n)),e[3]=(n+s+o)/2,e)},wrap:x},Symbol.toStringTag,{value:"Module"}))},89736:function(t,i,e){e.d(i,{I:function(){return s}});var n=e(29601);class s{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,n.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*r);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,r));t++)this._items.push(this._allocator())}}const r=1024},85876:function(t,i,e){e.d(i,{A:function(){return r}});var n=e(44567),s=e(87085);class r{constructor(t){this._observable=new s.I,this._set=new Set(t)}get size(){return(0,n.gc)(this._observable),this._set.size}add(t){const i=this._set.size;return this._set.add(t),this._set.size!==i&&this._observable.notify(),this}clear(){this._set.size>0&&(this._set.clear(),this._observable.notify())}delete(t){const i=this._set.delete(t);return i&&this._observable.notify(),i}entries(){return(0,n.gc)(this._observable),this._set.entries()}forEach(t,i){(0,n.gc)(this._observable),this._set.forEach(((e,n)=>t.call(i,e,n,this)),i)}has(t){return(0,n.gc)(this._observable),this._set.has(t)}keys(){return(0,n.gc)(this._observable),this._set.keys()}values(){return(0,n.gc)(this._observable),this._set.values()}[Symbol.iterator](){return(0,n.gc)(this._observable),this._set[Symbol.iterator]()}get[Symbol.toStringTag](){return this._set[Symbol.toStringTag]}}},39714:function(t,i,e){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function r(t,i,e,n,s,r,o,h,a,u,c,l,f,p,d,v){return[t,i,e,n,s,r,o,h,a,u,c,l,f,p,d,v]}e.d(i,{fA:function(){return r},o8:function(){return s},vt:function(){return n},zK:function(){return o}});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:s,create:n,createView:function(t,i){return new Float64Array(t,i,16)},fromValues:r},Symbol.toStringTag,{value:"Module"}))},61769:function(t,i,e){function n(){return[0,0,0,1]}function s(t){return[t[0],t[1],t[2],t[3]]}e.d(i,{o8:function(){return s},vt:function(){return n},zK:function(){return r}});const r=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r,clone:s,create:n,fromValues:function(t,i,e,n){return[t,i,e,n]}},Symbol.toStringTag,{value:"Module"}))},32237:function(t,i,e){e.d(i,{A6:function(){return y},B8:function(){return p},Xd:function(){return c},Xr:function(){return d},Yc:function(){return z},hZ:function(){return b},lw:function(){return l},t2:function(){return I},x8:function(){return u}});var n=e(87725),s=e(61769),r=e(32501),o=e(8527),h=e(20551),a=e(33400);function u(t,i,e){e*=.5;const n=Math.sin(e);return t[0]=n*i[0],t[1]=n*i[1],t[2]=n*i[2],t[3]=Math.cos(e),t}function c(t,i){const e=2*Math.acos(i[3]),n=Math.sin(e/2);return n>(0,o.FD)()?(t[0]=i[0]/n,t[1]=i[1]/n,t[2]=i[2]/n):(t[0]=1,t[1]=0,t[2]=0),e}function l(t,i,e){const n=i[0],s=i[1],r=i[2],o=i[3],h=e[0],a=e[1],u=e[2],c=e[3];return t[0]=n*c+o*h+s*u-r*a,t[1]=s*c+o*a+r*h-n*u,t[2]=r*c+o*u+n*a-s*h,t[3]=o*c-n*h-s*a-r*u,t}function f(t,i,e,n){const s=i[0],r=i[1],h=i[2],a=i[3];let u,c,l,f,p,d=e[0],v=e[1],y=e[2],g=e[3];return c=s*d+r*v+h*y+a*g,c<0&&(c=-c,d=-d,v=-v,y=-y,g=-g),1-c>(0,o.FD)()?(u=Math.acos(c),l=Math.sin(u),f=Math.sin((1-n)*u)/l,p=Math.sin(n*u)/l):(f=1-n,p=n),t[0]=f*s+p*d,t[1]=f*r+p*v,t[2]=f*h+p*y,t[3]=f*a+p*g,t}function p(t,i){const e=i[0],n=i[1],s=i[2],r=i[3],o=e*e+n*n+s*s+r*r,h=o?1/o:0;return t[0]=-e*h,t[1]=-n*h,t[2]=-s*h,t[3]=r*h,t}function d(t,i){return t[0]=-i[0],t[1]=-i[1],t[2]=-i[2],t[3]=i[3],t}function v(t,i){const e=i[0]+i[4]+i[8];let n;if(e>0)n=Math.sqrt(e+1),t[3]=.5*n,n=.5/n,t[0]=(i[5]-i[7])*n,t[1]=(i[6]-i[2])*n,t[2]=(i[1]-i[3])*n;else{let e=0;i[4]>i[0]&&(e=1),i[8]>i[3*e+e]&&(e=2);const s=(e+1)%3,r=(e+2)%3;n=Math.sqrt(i[3*e+e]-i[3*s+s]-i[3*r+r]+1),t[e]=.5*n,n=.5/n,t[3]=(i[3*s+r]-i[3*r+s])*n,t[s]=(i[3*s+e]+i[3*e+s])*n,t[r]=(i[3*r+e]+i[3*e+r])*n}return t}function y(t,i,e,n){const s=.5*Math.PI/180;i*=s,e*=s,n*=s;const r=Math.sin(i),o=Math.cos(i),h=Math.sin(e),a=Math.cos(e),u=Math.sin(n),c=Math.cos(n);return t[0]=r*a*c-o*h*u,t[1]=o*h*c+r*a*u,t[2]=o*a*u-r*h*c,t[3]=o*a*c+r*h*u,t}const g=a.c,b=a.s,w=a.g,m=l,x=a.d,M=a.h,_=a.l,k=a.j,A=k,T=a.b,j=T,P=a.n,I=a.a,E=a.e;function z(t,i,e){const n=(0,h.f)(i,e);return n<-.999999?((0,h.e)(C,S,i),(0,h.G)(C)<1e-6&&(0,h.e)(C,N,i),(0,h.n)(C,C),u(t,C,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,h.e)(C,i,e),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+n,P(t,t))}const C=(0,r.vt)(),S=(0,r.fA)(1,0,0),N=(0,r.fA)(0,1,0),R=(0,s.vt)(),O=(0,s.vt)(),G=(0,n.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:w,calculateW:function(t,i){const e=i[0],n=i[1],s=i[2];return t[0]=e,t[1]=n,t[2]=s,t[3]=Math.sqrt(Math.abs(1-e*e-n*n-s*s)),t},conjugate:d,copy:g,dot:M,equals:E,exactEquals:I,fromEuler:y,fromMat3:v,getAxisAngle:c,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:p,len:A,length:k,lerp:_,mul:m,multiply:l,normalize:P,random:function(t){const i=o.Ov,e=i(),n=i(),s=i(),r=Math.sqrt(1-e),h=Math.sqrt(e);return t[0]=r*Math.sin(2*Math.PI*n),t[1]=r*Math.cos(2*Math.PI*n),t[2]=h*Math.sin(2*Math.PI*s),t[3]=h*Math.cos(2*Math.PI*s),t},rotateX:function(t,i,e){e*=.5;const n=i[0],s=i[1],r=i[2],o=i[3],h=Math.sin(e),a=Math.cos(e);return t[0]=n*a+o*h,t[1]=s*a+r*h,t[2]=r*a-s*h,t[3]=o*a-n*h,t},rotateY:function(t,i,e){e*=.5;const n=i[0],s=i[1],r=i[2],o=i[3],h=Math.sin(e),a=Math.cos(e);return t[0]=n*a-r*h,t[1]=s*a+o*h,t[2]=r*a+n*h,t[3]=o*a-s*h,t},rotateZ:function(t,i,e){e*=.5;const n=i[0],s=i[1],r=i[2],o=i[3],h=Math.sin(e),a=Math.cos(e);return t[0]=n*a+s*h,t[1]=s*a-n*h,t[2]=r*a+o*h,t[3]=o*a-r*h,t},rotationTo:z,scale:x,set:b,setAxes:function(t,i,e,n){const s=G;return s[0]=e[0],s[3]=e[1],s[6]=e[2],s[1]=n[0],s[4]=n[1],s[7]=n[2],s[2]=-i[0],s[5]=-i[1],s[8]=-i[2],P(t,v(t,s))},setAxisAngle:u,slerp:f,sqlerp:function(t,i,e,n,s,r){return f(R,i,s,r),f(O,e,n,r),f(t,R,O,2*r*(1-r)),t},sqrLen:j,squaredLength:T,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},7213:function(t,i,e){function n(t){let i,e,n=[],s=!1;return function(...r){return s&&i===this&&function(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(t[e]!==i[e])return!1;return!0}(r,n)||(e=t.apply(this,r),i=this,n=r,s=!0),e}}e.d(i,{B:function(){return n}})},88226:function(t,i,e){e.d(i,{Jd:function(){return p},Nk:function(){return a},OM:function(){return f},Oo:function(){return l},ix:function(){return u},yh:function(){return c}});var n=e(16691),s=e(56275),r=e(15999);function o(t,i,e,n=2,o="abbr"){return(0,r.zJ)(t,(0,s.kM)(i,e).value,e,n,o)}function h(t,i,e,n=2,o="abbr"){return(0,r.nD)(t,(0,s.kM)(i,e).value,e,n,o)}function a(t,i,e,s=n.ie,o=!0){return(0,r.Me)(t.value,t.unit,t.rotationType,i,e,s,o)}function u(t,i,e,n,s="abbr"){switch(n=n??2,e){case"imperial":return function(t,i,e=2,n="abbr"){return(0,r.tr)(t,i.value,i.unit,e,n)}(t,i,n,s);case"metric":return function(t,i,e=2,n="abbr"){return(0,r.Ee)(t,i.value,i.unit,e,n)}(t,i,n,s);default:return o(t,i,e,n,s)}}function c(t,i,e,n=2,s="abbr"){switch(e){case"imperial":return function(t,i,e=2,n="abbr"){return(0,r.J1)(t,i.value,i.unit,e,n)}(t,i,n,s);case"metric":return function(t,i,e=2,n="abbr"){return(0,r.Mm)(t,i.value,i.unit,e,n)}(t,i,n,s);default:return h(t,i,e,n,s)}}function l(t,i,e,n=2,s="abbr"){switch(e){case"imperial":return function(t,i,e=2,n="abbr"){return(0,r.t_)(t,i.value,i.unit,e,n)}(t,i,n,s);case"metric":return function(t,i,e=2,n="abbr"){return(0,r.W4)(t,i.value,i.unit,e,n)}(t,i,n,s);default:return o(t,i,e,n,s)}}function f(t,i,e,n=2,s="abbr"){switch(e){case"imperial":return function(t,i,e=2,n="abbr"){return(0,r.LF)(t,i.value,i.unit,e,n)}(t,i,n,s);case"metric":return function(t,i,e=2,n="abbr"){return(0,r.e_)(t,i.value,i.unit,e,n)}(t,i,n,s);default:return h(t,i,e,n,s)}}function p(t,i,e,n=2,s="abbr"){switch(e){case"imperial":return function(t,i,e=2,n="abbr"){return(0,r.Sz)(t,i.value,i.unit,e,n)}(t,i,n,s);case"metric":return function(t,i,e=2,n="abbr"){return(0,r.zq)(t,i.value,i.unit,e,n)}(t,i,n,s);default:return o(t,i,e,n,s)}}},56275:function(t,i,e){e.d(i,{IV:function(){return v},LF:function(){return s},T9:function(){return c},Wq:function(){return h},d_:function(){return r},g2:function(){return f},gT:function(){return o},hs:function(){return l},iT:function(){return d},kM:function(){return a},l3:function(){return u},n0:function(){return y},r7:function(){return p}});var n=e(62938);function s(t){return{value:t}}function r(t,i){return{type:(0,n.t$)(i),value:t,unit:i}}function o(t,i){return{type:(0,n.t$)(i),value:t,unit:i}}function h(t,i,e="arithmetic"){return{type:(0,n.t$)(i),value:t,unit:i,rotationType:e}}function a(t,i){const e=u(t,i);return"angle"===t.type?h(e,i,t.rotationType):function(t,i){return{type:(0,n.t$)(i),value:t,unit:i}}(e,i)}function u(t,i){return(0,n.oU)(t.value,t.unit,i)}function c(t,i){return null==t?i:null==i||t.value>(0,n.oU)(i.value,i.unit,t.unit)?t:i}function l(t,i){return null==t?null:{...t,value:t.value*i}}function f(t,i,e){if(i===e)return t;switch(e){case"arithmetic":case"geographic":return 90-t}}const p=r(0,"meters"),d=o(0,"square-meters"),v=(h(0,"radians"),h(0,"degrees")),y=h(0,"degrees","geographic")},15999:function(t,i,e){e.d(i,{Cq:function(){return c},Ee:function(){return p},J1:function(){return b},LF:function(){return m},Me:function(){return k},Mm:function(){return d},Sz:function(){return M},W4:function(){return v},e_:function(){return y},nD:function(){return f},t_:function(){return w},tr:function(){return g},v7:function(){return j},zJ:function(){return l},zq:function(){return x}});var n=e(69296),s=e(16691),r=e(15774),o=e(56275),h=e(50944),a=e(62938),u=e(2900);function c(t,i,e){return t.units[i][e]}function l(t,i,e,n=2,s="abbr"){return`${(0,u.ZV)(i,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:i>0?"never":"exceptZero"})} ${c(t,e,s)}`}function f(t,i,e,n=2,s="abbr"){return`${(0,u.ZV)(i,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${c(t,e,s)}`}function p(t,i,e,n=2,s="abbr"){const r=(0,a.x0)(i,e);return l(t,(0,a.oU)(i,e,r),r,n,s)}function d(t,i,e,n=2,s="abbr"){const r=(0,a.x0)(i,e);return f(t,(0,a.oU)(i,e,r),r,n,s)}function v(t,i,e,n=2,s="abbr"){const r=(0,a.x$)(i,e);return l(t,(0,a.oU)(i,e,r),r,n,s)}function y(t,i,e,n=2,s="abbr"){const r=(0,a.x$)(i,e);return f(t,(0,a.oU)(i,e,r),r,n,s)}function g(t,i,e,n=2,s="abbr"){const r=(0,a.OU)(i,e);return l(t,(0,a.oU)(i,e,r),r,n,s)}function b(t,i,e,n=2,s="abbr"){const r=(0,a.OU)(i,e);return f(t,(0,a.oU)(i,e,r),r,n,s)}function w(t,i,e,n=2,s="abbr"){const r=(0,a.y7)(i,e);return l(t,(0,a.oU)(i,e,r),r,n,s)}function m(t,i,e,n=2,s="abbr"){const r=(0,a.y7)(i,e);return f(t,(0,a.oU)(i,e,r),r,n,s)}function x(t,i,e,n=2,s="abbr"){const r=(0,a.wv)(i,e);return l(t,(0,a.oU)(i,e,r),r,n,s)}function M(t,i,e,n=2,s="abbr"){const r=(0,a.TL)(i,e);return l(t,(0,a.oU)(i,e,r),r,n,s)}const _=(t,i)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:i,minimumFractionDigits:i,signDisplay:t>0?"never":"exceptZero"});function k(t,i,e,n,r,h=s.ie,c=!0){let l=h.normalize((0,o.g2)((0,a.oU)(t,i,"degrees"),e,n),0,c);const f=_(l,r??2);return l=function(t,i){const e=JSON.stringify(i);let n=A.get(e);return n||(n=new Intl.NumberFormat("en-US",i),A.set(e,n)),/^[-+]?360\.?0*?$/.test(n.format(t))?0:t}(l,f),(0,u.ZV)(l,f)}const A=new Map;const T=["B","kB","MB","GB","TB"];function j(t,i){let e=0===(i=Math.round(i))?0:Math.floor(Math.log(i)/Math.log(n.u.KILOBYTES));e=(0,r.qE)(e,0,T.length-1);const s=(0,u.ZV)(i/n.u.KILOBYTES**e,{maximumFractionDigits:2});return(0,h.HC)(t.units.bytes[T[e]],{fileSize:s})}},6338:function(t,i,e){e.d(i,{Hh:function(){return u},mT:function(){return l},o6:function(){return c},s1:function(){return a},ts:function(){return f}});var n=e(39819),s=e(38305),r=e(45532),o=e(57165),h=e(2900);function a(){return(0,s.i)()}function u(){return(0,s.l)()}function c(t,i){const e=[];t=(t=(t=t.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("","'")).replaceAll("",'"');const h=function(t){let i=null;if(t||(t=o.A.WGS84),t.wkid){if(i=s.P.geogcs(t.wkid),!i)throw new n.A("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!t.wkt2&&!t.wkt)throw new n.A("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(i=s.P.fromString(s.a.PE_TYPE_GEOGCS,t.wkt2||t.wkt),!i)throw new n.A("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return i}(i);return s.c.dmsToGeog(h,1,[t],e)?new r.default(e[0][0],e[0][1],i||o.A.WGS84):null}function l(t){return t&&a()?(0,h.$J)(t)??c(`0 0' 0" N | ${t}`)?.longitude??c(`0 | ${t}`)?.longitude??null:null}function f(t){return t&&a()?(0,h.$J)(t)??c(`${t} | 0 0' 0" E`)?.latitude??c(`${t} | 0`)?.latitude??null:null}},37322:function(t,i,e){e.r(i),e.d(i,{hydratedAdapter:function(){return a}});var n=e(91484),s=e(71673),r=e(45532),o=e(44740),h=e(91508);const a={convertToGEGeometry:function(t,i){if(null==i)return null;let e="cache"in i?i.cache._geVersion:void 0;return null==e&&(e=t.convertJSONToGeometry(i),"cache"in i&&(i.cache._geVersion=e)),e},exportPoint:function(t,i,e){const n=t.hasZ(i),s=t.hasM(i),o=new r.default({x:t.getPointX(i),y:t.getPointY(i),spatialReference:e});return n&&(o.z=t.getPointZ(i)),s&&(o.m=t.getPointM(i)),o.cache._geVersion=i,o},exportPolygon:function(t,i,e){const n=new o.A({rings:t.exportPaths(i),hasZ:t.hasZ(i),hasM:t.hasM(i),spatialReference:e});return n.cache._geVersion=i,n},exportPolyline:function(t,i,e){const n=new h.A({paths:t.exportPaths(i),hasZ:t.hasZ(i),hasM:t.hasM(i),spatialReference:e});return n.cache._geVersion=i,n},exportMultipoint:function(t,i,e){const n=new s.A({hasZ:t.hasZ(i),hasM:t.hasM(i),points:t.exportPoints(i),spatialReference:e});return n.cache._geVersion=i,n},exportExtent:function(t,i,e){const s=t.hasZ(i),r=t.hasM(i),o=new n.default({xmin:t.getXMin(i),ymin:t.getYMin(i),xmax:t.getXMax(i),ymax:t.getYMax(i),spatialReference:e});if(s){const e=t.getZExtent(i);o.zmin=e.vmin,o.zmax=e.vmax}if(r){const e=t.getMExtent(i);o.mmin=e.vmin,o.mmax=e.vmax}return o.cache._geVersion=i,o}}},22162:function(t,i,e){e.r(i),e.d(i,{buffer:function(){return I},changeDefaultSpatialReferenceTolerance:function(){return U},clearDefaultSpatialReferenceTolerance:function(){return K},clip:function(){return u},contains:function(){return l},convexHull:function(){return _},crosses:function(){return f},cut:function(){return c},densify:function(){return V},difference:function(){return k},disjoint:function(){return b},distance:function(){return p},equals:function(){return d},extendedSpatialReferenceInfo:function(){return a},flipHorizontal:function(){return O},flipVertical:function(){return G},generalize:function(){return D},geodesicArea:function(){return B},geodesicBuffer:function(){return E},geodesicDensify:function(){return L},geodesicLength:function(){return H},intersect:function(){return T},intersectLinesToPoints:function(){return Z},intersects:function(){return v},isSimple:function(){return x},nearestCoordinate:function(){return z},nearestVertex:function(){return C},nearestVertices:function(){return S},offset:function(){return P},overlaps:function(){return w},planarArea:function(){return F},planarLength:function(){return q},relate:function(){return m},rotate:function(){return R},simplify:function(){return M},symmetricDifference:function(){return A},touches:function(){return y},union:function(){return j},within:function(){return g}}),e(50917);var n=e(67888),s=e(56901),r=e(37322),o=e(57165);function h(t){const i=Array.isArray(t)?t[0].spatialReference:t.spatialReference;return i?(0,n.PZ)(o.A,i):o.A.WGS84}function a(t){return s.G.extendedSpatialReferenceInfo(t)}function u(t,i){return s.G.clip(r.hydratedAdapter,h(t),t,i)}function c(t,i){return s.G.cut(r.hydratedAdapter,h(t),t,i)}function l(t,i){return s.G.contains(r.hydratedAdapter,h(t),t,i)}function f(t,i){return s.G.crosses(r.hydratedAdapter,h(t),t,i)}function p(t,i,e){return s.G.distance(r.hydratedAdapter,h(t),t,i,e)}function d(t,i){return s.G.equals(r.hydratedAdapter,h(t),t,i)}function v(t,i){return s.G.intersects(r.hydratedAdapter,h(t),t,i)}function y(t,i){return s.G.touches(r.hydratedAdapter,h(t),t,i)}function g(t,i){return s.G.within(r.hydratedAdapter,h(t),t,i)}function b(t,i){return s.G.disjoint(r.hydratedAdapter,h(t),t,i)}function w(t,i){return s.G.overlaps(r.hydratedAdapter,h(t),t,i)}function m(t,i,e){return s.G.relate(r.hydratedAdapter,h(t),t,i,e)}function x(t){return s.G.isSimple(r.hydratedAdapter,h(t),t)}function M(t){return s.G.simplify(r.hydratedAdapter,h(t),t)}function _(t,i=!1){return s.G.convexHull(r.hydratedAdapter,h(t),t,i)}function k(t,i){return s.G.difference(r.hydratedAdapter,h(t),t,i)}function A(t,i){return s.G.symmetricDifference(r.hydratedAdapter,h(t),t,i)}function T(t,i){return s.G.intersect(r.hydratedAdapter,h(t),t,i)}function j(t,i=null){return s.G.union(r.hydratedAdapter,h(t),t,i)}function P(t,i,e,n,o,a){return s.G.offset(r.hydratedAdapter,h(t),t,i,e,n,o,a)}function I(t,i,e,n=!1){return s.G.buffer(r.hydratedAdapter,h(t),t,i,e,n)}function E(t,i,e,n,o,a){return s.G.geodesicBuffer(r.hydratedAdapter,h(t),t,i,e,n,o,a)}function z(t,i,e=!0){return s.G.nearestCoordinate(r.hydratedAdapter,h(t),t,i,e)}function C(t,i){return s.G.nearestVertex(r.hydratedAdapter,h(t),t,i)}function S(t,i,e,n){return s.G.nearestVertices(r.hydratedAdapter,h(t),t,i,e,n)}function N(t){return"xmin"in t?"center"in t?t.center:null:"x"in t?t:"extent"in t?t.extent?.center??null:null}function R(t,i,e){if(null==t)throw new J;const n=t.spatialReference;if(null==(e=e??N(t)))throw new J;const r=t.constructor.fromJSON(s.G.rotate(t,i,e));return r.spatialReference=n,r}function O(t,i){if(null==t)throw new J;const e=t.spatialReference;if(null==(i=i??N(t)))throw new J;const n=t.constructor.fromJSON(s.G.flipHorizontal(t,i));return n.spatialReference=e,n}function G(t,i){if(null==t)throw new J;const e=t.spatialReference;if(null==(i=i??N(t)))throw new J;const n=t.constructor.fromJSON(s.G.flipVertical(t,i));return n.spatialReference=e,n}function D(t,i,e,n){return s.G.generalize(r.hydratedAdapter,h(t),t,i,e,n)}function V(t,i,e){return s.G.densify(r.hydratedAdapter,h(t),t,i,e)}function L(t,i,e,n=0){return s.G.geodesicDensify(r.hydratedAdapter,h(t),t,i,e,n)}function F(t,i){return s.G.planarArea(r.hydratedAdapter,h(t),t,i)}function q(t,i){return s.G.planarLength(r.hydratedAdapter,h(t),t,i)}function B(t,i,e){return s.G.geodesicArea(r.hydratedAdapter,h(t),t,i,e)}function H(t,i,e){return s.G.geodesicLength(r.hydratedAdapter,h(t),t,i,e)}function Z(t,i){return s.G.intersectLinesToPoints(r.hydratedAdapter,h(t),t,i)}function U(t,i){s.G.changeDefaultSpatialReferenceTolerance(t,i)}function K(t){s.G.clearDefaultSpatialReferenceTolerance(t)}class J extends Error{constructor(){super("Illegal Argument Exception")}}},56763:function(t,i,e){e.d(i,{W:function(){return h},g:function(){return o}});var n=e(32501),s=e(46157),r=e(57617);function o(t,i,e,n){if((0,s.canProjectWithoutEngine)(t.spatialReference,e)){a[0]=t.x,a[1]=t.y;const s=t.z;return a[2]=s??n??0,(0,r.projectBuffer)(a,t.spatialReference,0,i,e,0)}const o=(0,s.tryProjectWithZConversion)(t,e);return!!o&&(i[0]=o?.x,i[1]=o?.y,i[2]=o?.z??n??0,!0)}async function h(t,i,e,n,r){return await(0,s.initializeProjection)(t.spatialReference,e,null,r),o(t,i,e,n)}const a=(0,n.vt)()},68734:function(t,i,e){e.d(i,{F:function(){return r}}),e(46157);var n=e(57165),s=e(56763);function r(t,i,e,n,r){return!(null==i||null==n||t.length<2)&&(o.x=t[0],o.y=t[1],o.z=t[2],o.spatialReference=i,(0,s.g)(o,e,n,r))}const o=(0,e(46460).T)(0,0,0,n.A.WGS84)},96611:function(t,i,e){e.d(i,{Y0:function(){return u},lO:function(){return c}});var n=e(61714),s=e(57165),r=e(57652);const o=new s.A(n.fv),h=new s.A(n.FY),a=new s.A(n.LJ),u=new s.A(n.Ro);function c(t){const i=l.get(t);if(i)return i;let e=o;if(t)if(t===h)e=h;else if(t===a)e=a;else{const i=t.wkid,n=t.latestWkid;if(null!=i||null!=n)(0,r.tl)(i)||(0,r.tl)(n)?e=h:((0,r.ZL)(i)||(0,r.ZL)(n))&&(e=a);else{const i=t.wkt2??t.wkt;if(i){const t=i.toUpperCase();t===f?e=h:t===p&&(e=a)}}}return l.set(t,e),e}const l=new Map,f=h.wkt.toUpperCase(),p=a.wkt.toUpperCase()},65907:function(t,i,e){e.d(i,{A:function(){return l}});var n,s=e(53804),r=e(75743),o=e(30905),h=e(23502),a=(e(58941),e(40633),e(13798),e(74376)),u=e(65953);let c=n=class extends((0,r.O)(o.oY)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};c.absolute=new n,(0,s._)([(0,a.e)({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0),(0,s._)([(0,h.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],c.prototype,"origin",void 0),c=n=(0,s._)([(0,u.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],c);const l=c},20460:function(t,i,e){e.d(i,{A:function(){return l}});var n=e(53804),s=e(75743),r=e(30905),o=e(23502),h=(e(58941),e(40633),e(13798),e(74376)),a=e(65953),u=e(32501);let c=class extends((0,s.O)(r.oY)){constructor(t){super(t),this.type="local",this.origin=(0,u.vt)()}};(0,n._)([(0,h.e)({local:"local"},{readOnly:!0})],c.prototype,"type",void 0),(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"origin",void 0),c=(0,n._)([(0,a.$)("esri.geometry.support.MeshLocalVertexSpace")],c);const l=c},36405:function(t,i,e){e.d(i,{A:function(){return y}});var n,s=e(53804),r=e(30905),o=e(23502),h=(e(58941),e(40633),e(13798),e(65953)),a=e(73364),u=e(39714),c=e(32237),l=e(61769),f=e(32501),p=e(26133);let d=n=class extends r.oY{constructor(t){super(t),this.translation=(0,f.vt)(),this.rotationAxis=(0,f.ci)(p.up),this.rotationAngle=0,this.scale=(0,f.fA)(1,1,1)}get rotation(){return(0,p.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,f.o8)((0,p.yo)(t)),this.rotationAngle=(0,p.g7)(t)}get localMatrix(){const t=(0,u.vt)();return(0,c.x8)(v,(0,p.yo)(this.rotation),(0,p.$I)(this.rotation)),(0,a.o1)(t,v,this.translation,this.scale),t}get localMatrixInverse(){return(0,a.B8)((0,u.vt)(),this.localMatrix)}equals(t){return this===t||null!=t&&(0,a.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,f.o8)(this.translation),rotationAxis:(0,f.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,f.o8)(this.scale)};return new n(t)}};(0,s._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"translation",void 0),(0,s._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAxis",void 0),(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAngle",void 0),(0,s._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"scale",void 0),(0,s._)([(0,o.MZ)()],d.prototype,"rotation",null),(0,s._)([(0,o.MZ)()],d.prototype,"localMatrix",null),(0,s._)([(0,o.MZ)()],d.prototype,"localMatrixInverse",null),d=n=(0,s._)([(0,h.$)("esri.geometry.support.MeshTransform")],d);const v=(0,l.vt)(),y=d},26133:function(t,i,e){e.d(i,{$I:function(){return g},AU:function(){return d},Cr:function(){return l},g7:function(){return y},i4:function(){return c},ui:function(){return f},up:function(){return w},vt:function(){return u},yo:function(){return v}});var n=e(15774),s=e(73364),r=e(32237),o=e(61769),h=e(20551),a=e(32501);function u(t=w){return[t[0],t[1],t[2],t[3]]}function c(t,i,e=u()){return(0,h.c)(e,t),e[3]=i,e}function l(t,i,e){return(0,h.e)(e,t,i),(0,h.n)(e,e),e[3]=-(0,h.r)(t,i),e}function f(t,i=u()){const e=(0,s.l)(m,t);return b(i,(0,n.KJ)((0,r.Xd)(i,e))),i}function p(t,i,e=u()){return(0,r.x8)(m,t,g(t)),(0,r.x8)(x,i,g(i)),(0,r.lw)(m,x,m),b(e,(0,n.KJ)((0,r.Xd)(e,m)))}function d(t,i,e,n=u()){return c(a.Cw,t,M),c(a.JP,i,_),c(a.Cb,e,k),p(M,_,M),p(M,k,n),n}function v(t){return t}function y(t){return t[3]}function g(t){return(0,n.kU)(t[3])}function b(t,i){return t[3]=i,t}const w=[0,0,1,0],m=(0,o.vt)(),x=(0,o.vt)(),M=(u(),u()),_=u(),k=u()},57862:function(t,i,e){e.d(i,{TT:function(){return d},Xn:function(){return x},Zj:function(){return b},_3:function(){return m},l1:function(){return y},qy:function(){return v},vN:function(){return w}}),e(50917);var n=e(39819),s=e(62938),r=e(67888),o=e(62046),h=e(57652),a=e(57165),u=e(91508),c=e(44740);function l(t){if(!t)return null;const i=t.wkid;if(i)return o.uw[i];const e=t.wkt2??t.wkt;return e?function(t){const i=o._f.exec(t);if(!i||2!==i.length)return null;const e=i[1].split(",");if(!e||e.length<3)return null;const n=parseFloat(e[1]),s=parseFloat(e[2]);return isNaN(n)||isNaN(s)?null:{a:n,f:0===s?0:1/s}}(e):null}function f(t){const i=l(t);if(function(t){return null!=t&&"b"in t&&"eSq"in t&&"radius"in t}(i))return i;const e=i.a*(1-i.f);return Object.assign(i,{b:e,eSq:1-(e/i.a)**2,radius:(2*i.a+e)/3,densificationRatio:1e4/((2*i.a+e)/3)})}function p(t,i,e){const{a:n,eSq:s}=f(e),r=Math.sqrt(s),h=Math.sin(i[1]*o.eh),a=n*i[0]*o.eh;let u;return u=s>0?n*((1-s)*(h/(1-s*(h*h))-1/(2*r)*Math.log((1-r*h)/(1+r*h))))*.5:n*h,t[0]=a,t[1]=u,t}function d(t){return(0,h.EA)(t)&&!!l(t)}function v(t,i="square-meters"){if(t.some((t=>!d(t.spatialReference))))throw new n.A("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");const e=[];for(let i=0;i<t.length;i++){const n=t[i],s=n.spatialReference,{radius:r,densificationRatio:o}=f(s),h=r*o;e.push(g(n,h))}const r=[],o=[0,0],h=[0,0];for(let t=0;t<e.length;t++){const{rings:n,spatialReference:a}=e[t];let u=0;for(let t=0;t<n.length;t++){const i=n[t];p(o,i[0],a),p(h,i[i.length-1],a);let e=h[0]*o[1]-o[0]*h[1];for(let t=0;t<i.length-1;t++)p(o,i[t+1],a),p(h,i[t],a),e+=h[0]*o[1]-o[0]*h[1];u+=e}u=(0,s.oU)(u,"square-meters",i),r.push(u/-2)}return r}function y(t,i="meters"){if(!t)throw new n.A("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(t.some((t=>!d(t.spatialReference))))throw new n.A("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const e=[];for(let n=0;n<t.length;n++){const r=t[n],{spatialReference:o}=r,h="polyline"===r.type?r.paths:r.rings;let a=0;for(let t=0;t<h.length;t++){const i=h[t];let e=0;for(let t=1;t<i.length;t++){const n=i[t-1][0],s=i[t][0],r=i[t-1][1],h=i[t][1];if(r!==h||n!==s){const t=new b;m(t,[n,r],[s,h],o),e+=t.distance}}a+=e}a=(0,s.oU)(a,"meters",i),e.push(a)}return e}function g(t,i){if("polyline"!==t.type&&"polygon"!==t.type)throw new n.A("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");const{spatialReference:e}=t;if(!d(e))throw new n.A("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");const s="polyline"===t.type?t.paths:t.rings,o=[],h=[0,0],l=new b;for(const t of s){const n=[];o.push(n),n.push([t[0][0],t[0][1]]);let s,r,a=t[0][0],u=t[0][1];for(let o=0;o<t.length-1;o++){if(s=t[o+1][0],r=t[o+1][1],a===s&&u===r)continue;const c=[a,u];m(l,[a,u],[s,r],e);const{azimuth:f,distance:p}=l,d=p/i;if(d>1){for(let t=1;t<=d-1;t++)w(h,c,f,t*i,e),n.push(h.slice());w(h,c,f,(p+Math.floor(d-1)*i)/2,e),n.push(h.slice())}w(h,c,f,p,e),n.push(h.slice()),a=h[0],u=h[1]}}const f=(0,r.PZ)(a.A,e);return"polyline"===t.type?new u.A({paths:o,spatialReference:f}):new c.A({rings:o,spatialReference:f})}e(45532);class b{constructor(t=0,i=void 0,e=void 0){this.distance=t,this.azimuth=i,this.reverseAzimuth=e}}function w(t,i,e,n,s){const r=i[0],h=i[1],a=r*o.eh,u=h*o.eh,c=(e??0)*o.eh,{a:l,b:p,f:d}=f(s),v=Math.sin(c),y=Math.cos(c),g=(1-d)*Math.tan(u),b=1/Math.sqrt(1+g*g),w=g*b,m=Math.atan2(g,y),x=b*v,M=x*x,_=1-M,k=_*(l*l-p*p)/(p*p),A=1+k/16384*(4096+k*(k*(320-175*k)-768)),T=k/1024*(256+k*(k*(74-47*k)-128));let j,P,I,E,z=n/(p*A),C=2*Math.PI;for(;Math.abs(z-C)>1e-12;)I=Math.cos(2*m+z),j=Math.sin(z),P=Math.cos(z),E=T*j*(I+T/4*(P*(2*I*I-1)-T/6*I*(4*j*j-3)*(4*I*I-3))),C=z,z=n/(p*A)+E;const S=w*j-b*P*y,N=Math.atan2(w*P+b*j*y,(1-d)*Math.sqrt(M+S*S)),R=Math.atan2(j*v,b*P-w*j*y),O=d/16*_*(4+d*(4-3*_)),G=N/o.eh,D=(a+(R-(1-O)*d*x*(z+O*j*(I+O*P*(2*I*I-1)))))/o.eh;return t[0]=D,t[1]=G,t}function m(t,i,e,n){const s=i[0]*o.eh,r=i[1]*o.eh,h=e[0]*o.eh,a=e[1]*o.eh,{a:u,b:c,f:l,radius:p}=f(n),d=h-s,v=Math.atan((1-l)*Math.tan(r)),y=Math.atan((1-l)*Math.tan(a)),g=Math.sin(v),b=Math.cos(v),w=Math.sin(y),m=Math.cos(y);let x,M,_,k,A,T,j,P,I,E,z=1e3,C=d;do{if(j=Math.sin(C),P=Math.cos(C),_=Math.sqrt(m*j*(m*j)+(b*w-g*m*P)*(b*w-g*m*P)),0===_)return t.distance=0,t.azimuth=void 0,t.reverseAzimuth=void 0,t;A=g*w+b*m*P,T=Math.atan2(_,A),I=b*m*j/_,M=1-I*I,k=A-2*g*w/M,isNaN(k)&&(k=0),E=l/16*M*(4+l*(4-3*M)),x=C,C=d+(1-E)*l*I*(T+E*_*(k+E*A*(2*k*k-1)))}while(Math.abs(C-x)>1e-12&&--z>0);if(0===z){const i=p,e=Math.acos(Math.sin(r)*Math.sin(a)+Math.cos(r)*Math.cos(a)*Math.cos(h-s))*i,n=h-s,u=Math.sin(n)*Math.cos(a),c=Math.cos(r)*Math.sin(a)-Math.sin(r)*Math.cos(a)*Math.cos(n),l=Math.atan2(u,c);return t.azimuth=l/o.eh,t.distance=e,t.reverseAzimuth=void 0,t}const S=M*(u*u-c*c)/(c*c),N=S/1024*(256+S*(S*(74-47*S)-128)),R=c*(1+S/16384*(4096+S*(S*(320-175*S)-768)))*(T-N*_*(k+N/4*(A*(2*k*k-1)-N/6*k*(4*_*_-3)*(4*k*k-3)))),O=Math.atan2(m*Math.sin(C),b*w-g*m*Math.cos(C)),G=Math.atan2(b*Math.sin(C),b*w*Math.cos(C)-g*m);return t.azimuth=O/o.eh,t.distance=R,t.reverseAzimuth=G/o.eh,t}function x(t){return d(t)?t:(0,h.K8)(t)?a.A.WGS84:null}},73313:function(t,i,e){e.d(i,{C:function(){return u},Cr:function(){return l},H6:function(){return v},_I:function(){return p},dz:function(){return y},fA:function(){return c},kb:function(){return f},ld:function(){return g},sd:function(){return d},vt:function(){return a}});var n=e(15774),s=e(89736),r=e(20551),o=e(32501),h=e(50973);function a(t){return t?{origin:(0,o.o8)(t.origin),vector:(0,o.o8)(t.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function u(t,i=a()){return c(t.origin,t.vector,i)}function c(t,i,e=a()){return(0,r.c)(e.origin,t),(0,r.c)(e.vector,i),e}function l(t,i,e=a()){return(0,r.c)(e.origin,t),(0,r.d)(e.vector,i,t),e}function f(t,i){const e=(0,r.d)(h.rq.get(),i,t.origin),s=(0,r.f)(t.vector,e),o=(0,r.f)(t.vector,t.vector),a=(0,n.qE)(s/o,0,1),u=(0,r.d)(h.rq.get(),(0,r.h)(h.rq.get(),t.vector,a),e);return(0,r.f)(u,u)}function p(t,i,e){return v(t,i,0,1,e)}function d(t,i,e){return(0,r.g)(e,t.origin,(0,r.h)(e,t.vector,i))}function v(t,i,e,s,o){const{vector:a,origin:u}=t,c=(0,r.d)(h.rq.get(),i,u),l=(0,r.f)(a,c)/(0,r.k)(a);return(0,r.h)(o,a,(0,n.qE)(l,e,s)),(0,r.g)(o,o,t.origin)}function y(t,i){if(b(t,function(t,i){const e=m.get();return e.origin=t,e.vector=i,e}(i.origin,i.direction),!1,w)){const{tA:i,pB:e,distance2:n}=w;if(i>=0&&i<=1)return n;if(i<0)return(0,r.s)(t.origin,e);if(i>1)return(0,r.s)((0,r.g)(h.rq.get(),t.origin,t.vector),e)}return null}function g(t,i,e){return!!b(t,i,!0,w)&&((0,r.c)(e,w.pA),!0)}function b(t,i,e,s){const o=1e-6,a=t.origin,u=(0,r.g)(h.rq.get(),a,t.vector),c=i.origin,l=(0,r.g)(h.rq.get(),c,i.vector),f=h.rq.get(),p=h.rq.get();if(f[0]=a[0]-c[0],f[1]=a[1]-c[1],f[2]=a[2]-c[2],p[0]=l[0]-c[0],p[1]=l[1]-c[1],p[2]=l[2]-c[2],Math.abs(p[0])<o&&Math.abs(p[1])<o&&Math.abs(p[2])<o)return!1;const d=h.rq.get();if(d[0]=u[0]-a[0],d[1]=u[1]-a[1],d[2]=u[2]-a[2],Math.abs(d[0])<o&&Math.abs(d[1])<o&&Math.abs(d[2])<o)return!1;const v=f[0]*p[0]+f[1]*p[1]+f[2]*p[2],y=p[0]*d[0]+p[1]*d[1]+p[2]*d[2],g=f[0]*d[0]+f[1]*d[1]+f[2]*d[2],b=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],w=(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])*b-y*y;if(Math.abs(w)<o)return!1;let m=(v*y-g*b)/w,x=(v+y*m)/b;e&&(m=(0,n.qE)(m,0,1),x=(0,n.qE)(x,0,1));const M=h.rq.get(),_=h.rq.get();return M[0]=a[0]+m*d[0],M[1]=a[1]+m*d[1],M[2]=a[2]+m*d[2],_[0]=c[0]+x*p[0],_[1]=c[1]+x*p[1],_[2]=c[2]+x*p[2],s.tA=m,s.tB=x,s.pA=M,s.pB=_,s.distance2=(0,r.s)(M,_),!0}const w={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},m=new s.I((()=>a()))},67376:function(t,i,e){e.d(i,{CK:function(){return f},E9:function(){return c},Hq:function(){return l},MW:function(){return p},TE:function(){return d},yJ:function(){return v}});var n=e(88022),s=e(40633),r=e(20551),o=e(45532),h=e(65907),a=e(20460);function u(){return s.A.getLogger("esri.geometry.Mesh")}function c(t){return!l(t)}function l(t){return null!=t.origin}function f(t){return l(t.vertexSpace)}function p(t,i){if(!l(t))return null;const[e,n,s]=t.origin;return new o.default({x:e,y:n,z:s,spatialReference:i})}function d(t,i){const{x:e,y:s,z:r,spatialReference:o}=t,c=[e,s,r??0];return void 0!==i?.geographic&&((0,n.io)(u(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),i.vertexSpace&&u().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(i?.vertexSpace??(l=i?.geographic,null==l?void 0:l?"local":"georeferenced")??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(o))?new a.A({origin:c}):new h.A({origin:c});var l}function v(t,i){return t.type===i.type&&(t.origin===i.origin||null!=t.origin&&null!=i.origin&&(0,r.p)(t.origin,i.origin))}},5596:function(t,i,e){e.d(i,{C:function(){return l},Cr:function(){return v},Io:function(){return R},LV:function(){return c},O_:function(){return d},Qj:function(){return f},T7:function(){return I},Tj:function(){return z},U5:function(){return j},Ui:function(){return P},Z1:function(){return N},_I:function(){return S},b6:function(){return C},ci:function(){return g},fA:function(){return p},gv:function(){return E},lU:function(){return y},mN:function(){return O},mP:function(){return k},mR:function(){return T},vt:function(){return u},ze:function(){return A}});var n=e(15774),s=e(20551),r=e(32501),o=(e(33400),e(29531)),h=e(50973),a=e(76185);function u(t=F){return[t[0],t[1],t[2],t[3]]}function c(t=F[0],i=F[1],e=F[2],n=F[3]){return p(t,i,e,n,h.Km.get())}function l(t,i){return p(i[0],i[1],i[2],i[3],t)}function f(t){return t}function p(t,i,e,n,s=u()){return s[0]=t,s[1]=i,s[2]=e,s[3]=n,s}function d(t,i,e){const n=i[0]*i[0]+i[1]*i[1]+i[2]*i[2],s=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=-(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]),e}function v(t,i,e,n=u()){const s=e[0]-i[0],r=e[1]-i[1],o=e[2]-i[2],h=t[0]-i[0],a=t[1]-i[1],c=t[2]-i[2],l=r*c-o*a,f=o*h-s*c,p=s*a-r*h,d=l*l+f*f+p*p,v=Math.abs(d-1)>1e-5&&d>1e-12?1/Math.sqrt(d):1;return n[0]=l*v,n[1]=f*v,n[2]=p*v,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function y(t,i,e,n=0,r=Math.floor(e*(1/3)),o=Math.floor(e*(2/3))){if(e<3)return!1;i(w,n);let h=r,a=!1;for(;h<e-1&&!a;)i(m,h),h++,a=!(0,s.p)(w,m);if(!a)return!1;for(h=Math.max(h,o),a=!1;h<e&&!a;)i(x,h),h++,(0,s.d)(M,w,m),(0,s.n)(M,M),(0,s.d)(_,m,x),(0,s.n)(_,_),a=!(0,s.p)(w,x)&&!(0,s.p)(m,x)&&Math.abs((0,s.f)(M,_))<b;return a?(v(w,m,x,t),!0):(0!==n||1!==r||2!==o)&&y(t,i,e,0,1,2)}function g(t,i,e=!0){const n=i.length/3;return y(t,((t,e)=>(0,s.i)(t,i[3*e+0],i[3*e+1],i[3*e+2])),e?n-1:n)}const b=.99619469809,w=(0,r.vt)(),m=(0,r.vt)(),x=(0,r.vt)(),M=(0,r.vt)(),_=(0,r.vt)();function k(t,i,e){return i!==t&&l(t,i),t[3]=-(0,s.f)(t,e),t}function A(t,i){return i[0]=-t[0],i[1]=-t[1],i[2]=-t[2],i[3]=-t[3],i}function T(t,i,e,n){return(0,s.e)(x,i,t),d(e,x,n)}function j(t,i,e,n){return V(L(t,i,(0,s.d)(h.rq.get(),e,i),B,n))}function P(t,i,e){return null!=i&&V(L(t,i.origin,i.direction,H,e))}function I(t,i,e){return V(L(t,i.origin,i.vector,q.NONE,e))}function E(t,i,e){return V(L(t,i.origin,i.vector,q.CLAMP,e))}function z(t,i){return O(t,i)>=0}function C(t,i){const e=(0,s.f)(t,i.ray.direction),n=-O(t,i.ray.origin);if(e>-1e-6&&e<1e-6)return n>0;const r=n/e;return e>0?r<i.c1&&(i.c1=r):r>i.c0&&(i.c0=r),i.c0<=i.c1}function S(t,i,e){const n=(0,s.h)(h.rq.get(),t,-t[3]),r=function(t,i,e){const n=(0,s.h)(h.rq.get(),t,(0,s.f)(t,i));return(0,s.d)(e,i,n),e}(t,(0,s.d)(h.rq.get(),i,n),h.rq.get());return(0,s.g)(e,r,n),e}function N(t,i,e,n){const r=t,u=h.rq.get(),c=h.rq.get();(0,a.VV)(r,u,c);const l=(0,s.d)(h.rq.get(),e,i),f=(0,o.gr)(u,l),p=(0,o.gr)(c,l),d=(0,o.gr)(r,l);return(0,s.i)(n,f,p,d)}function R(t,i){return Math.abs(O(t,i))}function O(t,i){return(0,s.f)(t,i)+t[3]}var G,D;function V(t){return t===G.INTERSECTS_INSIDE_OUT||t===G.INTERSECTS_OUTSIDE_IN}function L(t,i,e,r,o){const h=(0,s.f)(t,e),a=O(t,i);if(0===h)return a>=0?G.INSIDE:G.OUTSIDE;let u=-a/h;return r&q.CLAMP&&(u=(0,n.qE)(u,0,1)),!(r&q.INFINITE_MIN)&&u<0||!(r&q.INFINITE_MAX)&&u>1?a>=0?G.INSIDE:G.OUTSIDE:((0,s.g)(o,i,(0,s.h)(o,e,u)),a>=0?G.INTERSECTS_INSIDE_OUT:G.INTERSECTS_OUTSIDE_IN)}(D=G||(G={}))[D.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",D[D.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",D[D.INSIDE=2]="INSIDE",D[D.OUTSIDE=3]="OUTSIDE";const F=[0,0,1,0];var q;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(q||(q={}));const B=q.INFINITE_MIN|q.INFINITE_MAX,H=q.INFINITE_MAX},79578:function(t,i,e){e.d(i,{C:function(){return l},Cr:function(){return f},LV:function(){return c},kb:function(){return p},oC:function(){return d},vt:function(){return a}}),e(50659);var n=e(89736),s=(e(44705),e(87725)),r=e(20551),o=e(32501),h=e(50973);function a(t){return t?u((0,o.o8)(t.origin),(0,o.o8)(t.direction)):u((0,o.vt)(),(0,o.vt)())}function u(t,i){return{origin:t,direction:i}}function c(t,i){const e=v.get();return e.origin=t,e.direction=i,e}function l(t,i=a()){return function(t,i,e=a()){return(0,r.c)(e.origin,t),(0,r.c)(e.direction,i),e}(t.origin,t.direction,i)}function f(t,i,e=a()){return(0,r.c)(e.origin,t),(0,r.d)(e.direction,i,t),e}function p(t,i){const e=(0,r.e)(h.rq.get(),(0,r.n)(h.rq.get(),t.direction),(0,r.d)(h.rq.get(),i,t.origin));return(0,r.f)(e,e)}function d(t,i,e){const n=(0,r.f)(t.direction,(0,r.d)(e,i,t.origin));return(0,r.g)(e,t.origin,(0,r.h)(e,t.direction,n)),e}const v=new n.I((()=>a()));(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,s.vt)()},67496:function(t,i,e){e.d(i,{Fm:function(){return h},Q7:function(){return a}});var n=e(89736),s=e(20551),r=e(32501),o=e(73313);function h(t,i,e){const n=i[0]-t[0],s=i[1]-t[1],r=e[0]-t[0],o=e[1]-t[1];return.5*Math.abs(n*o-s*r)}function a(t,i,e){return(0,s.d)(u,i,t),(0,s.d)(c,e,t),.5*(0,s.l)((0,s.e)(u,u,c))}e(50973),new n.I(o.vt),new n.I((()=>{return t?{p0:(0,r.o8)(t.p0),p1:(0,r.o8)(t.p1),p2:(0,r.o8)(t.p2)}:{p0:(0,r.vt)(),p1:(0,r.vt)(),p2:(0,r.vt)()};var t}));const u=(0,r.vt)(),c=(0,r.vt)()},29531:function(t,i,e){e.d(i,{EJ:function(){return u},_I:function(){return o},g7:function(){return a},gr:function(){return h}});var n=e(15774),s=e(20551),r=e(32501);function o(t,i,e){const n=(0,s.f)(t,i)/(0,s.f)(t,t);return(0,s.h)(e,t,n)}function h(t,i){return(0,s.f)(t,i)/(0,s.l)(t)}function a(t,i){const e=(0,s.f)(t,i)/((0,s.l)(t)*(0,s.l)(i));return-(0,n.XM)(e)}function u(t,i,e){(0,s.n)(c,t),(0,s.n)(l,i);const r=(0,s.f)(c,l),o=(0,n.XM)(r),h=(0,s.e)(c,c,l);return(0,s.f)(h,e)<0?2*Math.PI-o:o}const c=(0,r.vt)(),l=(0,r.vt)()},50973:function(t,i,e){e.d(i,{Rc:function(){return d},J8:function(){return v},oG:function(){return l},rq:function(){return f},Km:function(){return p}}),e(58941);var n=e(29601),s=e(87725),r=e(39714),o=e(61769),h=e(1932),a=e(32501),u=e(41546);class c{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,n.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new c(h.vt)}static createVec3f64(){return new c(a.vt)}static createVec4f64(){return new c(u.vt)}static createMat3f64(){return new c(s.vt)}static createMat4f64(){return new c(r.vt)}static createQuatf64(){return new c(o.vt)}get test(){}}const l=c.createVec2f64(),f=c.createVec3f64(),p=c.createVec4f64(),d=(c.createMat3f64(),c.createMat4f64()),v=c.createQuatf64()},42413:function(t,i,e){e.d(i,{CI:function(){return r},fk:function(){return o}}),e(58941);var n=e(15774),s=e(57652);function r(t,i){return t===i||null!=t&&null!=i&&(0,s.aI)(t.spatialReference,i.spatialReference)&&t.x===i.x&&t.y===i.y&&t.z===i.z&&t.m===i.m}function o(t,i,e){return t===i||null!=t&&null!=i&&(0,s.aI)(t.spatialReference,i.spatialReference)&&(0,n.Sp)(t.x,i.x,e)&&(0,n.Sp)(t.y,i.y,e)&&(0,n.Sp)(t.z??0,i.z??0,e)&&(0,n.Sp)(t.m??0,i.m??0,e)}},46460:function(t,i,e){function n(t,i,e,n){return{x:t,y:i,z:e,hasZ:null!=e,hasM:!1,spatialReference:n,type:"point"}}function s(t,i,e,n,s){t.x=i,t.y=e,t.z=n,t.hasZ=null!=n,t.spatialReference=s}e.d(i,{J:function(){return s},T:function(){return n}})},45328:function(t,i,e){e.d(i,{EL:function(){return y},RS:function(){return g},gr:function(){return u},wP:function(){return l},wZ:function(){return f}}),e(50917);var n=e(59469),s=(e(58941),e(21609)),r=e(24540),o=e(74697),h=e(46460),a=e(57165);function u(t){return"declaredClass"in t}function c(t){return"declaredClass"in t}function l(t,i){return t?"declaredClass"in t?t:new n.default({layer:i,sourceLayer:i,visible:t.visible,symbol:(0,s.o8)(t.symbol),attributes:(0,s.o8)(t.attributes),geometry:f(t.geometry)}):null}function f(t){return null==t?null:u(t)?t:(0,o.rS)(function(t){const{wkid:i,wkt:e,wkt2:n,latestWkid:s}=t.spatialReference,r={wkid:i,wkt:e,wkt2:n,latestWkid:s};switch(t.type){case"point":{const{x:i,y:e,z:n,m:s}=t;return{x:i,y:e,z:n,m:s,spatialReference:r}}case"polygon":{const{rings:i,hasZ:e,hasM:n}=t;return{rings:p(i),hasZ:e,hasM:n,spatialReference:r}}case"polyline":{const{paths:i,hasZ:e,hasM:n}=t;return{paths:p(i),hasZ:e,hasM:n,spatialReference:r}}case"extent":{const{xmin:i,xmax:e,ymin:n,ymax:s,zmin:o,zmax:h,mmin:a,mmax:u,hasZ:c,hasM:l}=t;return{xmin:i,xmax:e,ymin:n,ymax:s,zmin:o,zmax:h,mmin:a,mmax:u,hasZ:c,hasM:l,spatialReference:r}}case"multipoint":{const{points:i,hasZ:e,hasM:n}=t;return{points:v(i)?d(i):i,hasZ:e,hasM:n,spatialReference:r}}default:return}}(t))}function p(t){return function(t){for(const i of t)if(0!==i.length)return v(i);return!1}(t)?t.map((t=>d(t))):t}function d(t){return t.map((t=>Array.from(t)))}function v(t){return t.length>0&&((0,r.vZ)(t[0])||(0,r.aI)(t[0]))}function y(t,i){if(!t)return null;let e;if(c(t)){if(null==i)return t.clone();if(c(i))return i.copy(t)}return null!=i?(e=i,e.x=t.x,e.y=t.y,e.spatialReference=t.spatialReference,t.hasZ?(e.z=t.z,e.hasZ=t.hasZ):(e.z=void 0,e.hasZ=!1),t.hasM?(e.m=t.m,e.hasM=!0):(e.m=void 0,e.hasM=!1)):(e=(0,h.T)(t.x,t.y,t.z,t.spatialReference),t.hasM&&(e.m=t.m,e.hasM=!0)),e}function g(t){const{wkid:i,wkt:e,wkt2:n,latestWkid:s}=t,r={wkid:i,wkt:e,wkt2:n,latestWkid:s};return a.A.fromJSON(r)}},82418:function(t,i,e){function n(t,i){return i?"xoffset"in i&&i.xoffset?Math.max(t,Math.abs(i.xoffset)):"yoffset"in i&&i.yoffset?Math.max(t,Math.abs(i.yoffset||0)):t:t}function s(t,i){return"number"==typeof t?t:t?.stops?.length?function(t){let i=0,e=0;for(let n=0;n<t.length;n++){const s=t[n].size;"number"==typeof s&&(i+=s,e++)}return i/e}(t.stops):i}function r(t,i){if(!i)return t;const e=i.filter((t=>"size"===t.type)).map((i=>{const{maxSize:e,minSize:n}=i;return(s(e,t)+s(n,t))/2}));let n=0;const r=e.length;if(0===r)return t;for(let t=0;t<r;t++)n+=e[t];const o=Math.floor(n/r);return Math.max(o,t)}function o(t){const i=t?.renderer,e=t?.pointerType,s="touch"===e?9:6;if(!i)return s;const o="visualVariables"in i?r(s,i.visualVariables):s;if("simple"===i.type)return n(o,i.symbol);if("unique-value"===i.type){let t=o;return i.uniqueValueInfos?.forEach((i=>{t=n(t,i.symbol)})),t}if("class-breaks"===i.type){let t=o;return i.classBreakInfos.forEach((i=>{t=n(t,i.symbol)})),t}return"dot-density"===i.type||i.type,o}e.d(i,{o:function(){return o}})},68945:function(t,i,e){e.d(i,{$7:function(){return A},B:function(){return k},Fo:function(){return x},M7:function(){return P},NN:function(){return f},Q5:function(){return M},Tq:function(){return E},Up:function(){return _},XF:function(){return j},Ze:function(){return g},bK:function(){return h},bh:function(){return l},id:function(){return b},ky:function(){return c},qt:function(){return I},tW:function(){return T},v9:function(){return p},w7:function(){return a},wF:function(){return o},wS:function(){return w},wz:function(){return v},x:function(){return d},xS:function(){return m},ze:function(){return u}});var n=e(62938),s=e(32e3);function r(t){return t?I:E}function o(t,i){return i?.mode?i.mode:r(t).mode}function h(t,i){return null!=i?i:r(t)}function a(t,i){return o(null==t||(t.hasZ??!1),i)}function u(t,i){return h(null==t||(t.hasZ??!1),i)}function c(t){const i=y(t);return a(t.geometry,i)}function l(t){const i=y(t),e=a(t.geometry,i),n=null!=i&&"on-the-ground"!==e?P(i):0,s=i?.featureExpressionInfo;return{mode:e,offset:n,featureExpressionInfo:s}}function f(t){return v(l(t))}function p(t){return v(t)||d(t)}function d(t){return"0"===t?.featureExpressionInfo?.expression}function v(t){if(!t)return!1;if("on-the-ground"===t.mode)return!1;const i=t?.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!i||"0"===i)}function y(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function g(t,i){if(!t?.offset)return 0;const{offset:e,unit:s}=t;if("decimal-degrees"===s)return 0;const r="unknown"!==s&&s?s:"meters",o=(0,n.mq)(i);return o?(0,n.oU)(e,r,o):0}function b(t,i,e){if(!e?.mode)return;const n=t.hasZ?t.z:0,s=g(e,t.spatialReference);switch(e.mode){case"absolute-height":return n-s;case"on-the-ground":return 0;case"relative-to-ground":return n-((i.elevationProvider.getElevation(t.x,t.y,n,t.spatialReference,"ground")??0)+s);case"relative-to-scene":return n-((i.elevationProvider.getElevation(t.x,t.y,n,t.spatialReference,"scene")??0)+s)}}function w(t,i,e,n=null){return x(t,i.x,i.y,i.hasZ?i.z:0,i.spatialReference,e,n)}function m(t,i,e,n,s=null){return x(t,i[0],i[1],i.length>2?i[2]:0,e,n,s)}function x(t,i,e,n,s,r,o=null){if(null==r)return;const h=null!=o?o.mode:"absolute-height";if("on-the-ground"===h)return 0;const{absoluteZ:a}=M(i,e,n,s,t,r);return function(t,i,e,n,s,r,o,h){const a=g(o,s);switch(h){case"absolute-height":return t-a;case"relative-to-ground":return t-((r.elevationProvider.getElevation(i,e,n,s,"ground")??0)+a);case"relative-to-scene":return t-((r.elevationProvider.getElevation(i,e,n,s,"scene")??0)+a)}}(a,i,e,n,s,t,o,h)}function M(t,i,e,n,s,r){const o=g(r,n);switch(r.mode){case"absolute-height":return{absoluteZ:e+o,elevation:0};case"on-the-ground":{const e=s.elevationProvider.getElevation(t,i,0,n,"ground")??0;return{absoluteZ:e,elevation:e}}case"relative-to-ground":{const r=s.elevationProvider.getElevation(t,i,e,n,"ground")??0;return{absoluteZ:e+r+o,elevation:r}}case"relative-to-scene":{const r=s.elevationProvider.getElevation(t,i,e,n,"scene")??0;return{absoluteZ:e+r+o,elevation:r}}}}function _(t,i){if(null==i)return!1;const{mode:e}=i;return null!=e&&("scene"===t&&"relative-to-scene"===e||"ground"===t&&"absolute-height"!==e)}function k(t,i,e){return e&&e.mode!==i?`${t} only support ${i} elevation mode`:null}function A(t,i,e){return e?.mode===i?`${t} do not support ${i} elevation mode`:null}function T(t,i){return null!=i?.featureExpressionInfo&&"0"!==i.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function j(t,i){i&&t.warn(".elevationInfo=",i)}function P(t){return(t?.offset??0)*(0,s.Ao)(t?.unit)}const I={mode:"absolute-height",offset:0},E={mode:"on-the-ground",offset:null}},76722:function(t,i,e){e.d(i,{c:function(){return r}});var n=e(62938),s=e(51432);function r(t){const i="metric";if(null==t)return i;const e=t.map,r=(e&&"portalItem"in e?e.portalItem?.portal:null)??s.A.getDefault();switch(r.user?.units??r.units){case i:return i;case"english":return"imperial"}return(0,n.jM)(t.spatialReference)??i}},77927:function(t,i,e){e.d(i,{Fe:function(){return l},Km:function(){return r},Nk:function(){return a}});var n=e(52874),s=e(7590);function r(t,i,e,n){if(t)if("CIMTextSymbol"!==t.type){if(e&&t.effects)for(const e of t.effects)h(e,i);if(t.symbolLayers)for(const e of t.symbolLayers)switch(e.type){case"CIMPictureMarker":case"CIMVectorMarker":o(e,i,n);break;case"CIMPictureStroke":case"CIMSolidStroke":!n?.preserveOutlineWidth&&e.width&&(e.width*=i);break;case"CIMPictureFill":e.height&&(e.height*=i),e.offsetX&&(e.offsetX*=i),e.offsetY&&(e.offsetY*=i);break;case"CIMHatchFill":r(e.lineSymbol,i,!0,{...n,preserveOutlineWidth:!1}),e.offsetX&&(e.offsetX*=i),e.offsetY&&(e.offsetY*=i),e.separation&&(e.separation*=i)}}else null!=t.height&&(t.height*=i)}function o(t,i,e){if(t&&(t.markerPlacement&&function(t,i){switch((0,s.zr)(t)&&t.offset&&(t.offset*=i),t.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(t.customEndingOffset&&(t.customEndingOffset*=i),t.offsetAlongLine&&(t.offsetAlongLine*=i),t.placementTemplate&&t.placementTemplate.length){const e=t.placementTemplate.map((t=>t*i));t.placementTemplate=e}break;case"CIMMarkerPlacementAlongLineVariableSize":if(t.maxRandomOffset&&(t.maxRandomOffset*=i),t.placementTemplate&&t.placementTemplate.length){const e=t.placementTemplate.map((t=>t*i));t.placementTemplate=e}break;case"CIMMarkerPlacementOnLine":t.startPointOffset&&(t.startPointOffset*=i);break;case"CIMMarkerPlacementAtExtremities":t.offsetAlongLine&&(t.offsetAlongLine*=i);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":t.beginPosition&&(t.beginPosition*=i),t.endPosition&&(t.endPosition*=i);break;case"CIMMarkerPlacementPolygonCenter":t.offsetX&&(t.offsetX*=i),t.offsetY&&(t.offsetY*=i);break;case"CIMMarkerPlacementInsidePolygon":t.offsetX&&(t.offsetX*=i),t.offsetY&&(t.offsetY*=i),t.stepX&&(t.stepX*=i),t.stepY&&(t.stepY*=i)}}(t.markerPlacement,i),t.offsetX&&(t.offsetX*=i),t.offsetY&&(t.offsetY*=i),t.anchorPoint&&"Absolute"===t.anchorPointUnits&&(t.anchorPoint={x:t.anchorPoint.x*i,y:t.anchorPoint.y*i}),t.size=null!=t.size?t.size*i:0,"CIMVectorMarker"===t.type&&t.markerGraphics))for(const n of t.markerGraphics)t.scaleSymbolsProportionally||r(n.symbol,i,!0,e)}function h(t,i){switch(t.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":t.width&&(t.width*=i);break;case"CIMGeometricEffectBuffer":t.size&&(t.size*=i);break;case"CIMGeometricEffectCut":t.beginCut&&(t.beginCut*=i),t.endCut&&(t.endCut*=i),t.middleCut&&(t.middleCut*=i);break;case"CIMGeometricEffectDashes":if(t.customEndingOffset&&(t.customEndingOffset*=i),t.offsetAlongLine&&(t.offsetAlongLine*=i),t.dashTemplate&&t.dashTemplate.length){const e=t.dashTemplate.map((t=>t*i));t.dashTemplate=e}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":t.length&&(t.length*=i);break;case"CIMGeometricEffectMove":t.offsetX&&(t.offsetX*=i),t.offsetY&&(t.offsetY*=i);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":t.offset&&(t.offset*=i);break;case"CIMGeometricEffectRegularPolygon":t.radius&&(t.radius*=i);break;case"CIMGeometricEffectTaperedPolygon":t.fromWidth&&(t.fromWidth*=i),t.length&&(t.length*=i),t.toWidth&&(t.toWidth*=i);break;case"CIMGeometricEffectWave":t.amplitude&&(t.amplitude*=i),t.period&&(t.period*=i)}}function a(t){const i=[];return u((0,s.lW)(t),i),i.length?new n.A((0,s.e6)(i[0])):null}function u(t,i){if(!t)return;let e;e="CIMTextSymbol"===t.type?t.symbol:t;const n="CIMPolygonSymbol"===t.type;if(e?.symbolLayers)for(const t of e.symbolLayers)if(!(t.colorLocked||n&&((0,s.mA)(t)||(0,s.MM)(t)&&t.markerPlacement&&(0,s.zr)(t.markerPlacement))))switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor&&c(i,t.tintColor);break;case"CIMVectorMarker":t.markerGraphics?.forEach((t=>{u(t.symbol,i)}));break;case"CIMSolidStroke":case"CIMSolidFill":c(i,t.color);break;case"CIMHatchFill":u(t.lineSymbol,i)}}function c(t,i){for(const e of t)if(e.join(".")===i.join("."))return;t.push(i)}function l(t,i,e){i instanceof n.A||(i=new n.A(i));const r=(0,s.lW)(t);r&&f(r,i,e)}function f(t,i,e){if(!t)return;let n;n="CIMTextSymbol"===t.type?t.symbol:t;const r="CIMPolygonSymbol"===n?.type;if(n?.symbolLayers)for(const t of n.symbolLayers){if(t.colorLocked)continue;if(r)if(e){const{layersToColor:i}=e;if(((0,s.mA)(t)||(0,s.MM)(t)&&t.markerPlacement&&(0,s.zr)(t.markerPlacement))&&"fill"===i||(0,s.jn)(t)&&"outline"===i)continue}else if((0,s.mA)(t)||(0,s.MM)(t)&&t.markerPlacement&&(0,s.zr)(t.markerPlacement))continue;const n=i.toArray();switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor=n;break;case"CIMVectorMarker":t.markerGraphics?.forEach((t=>{f(t.symbol,i,e)}));break;case"CIMSolidStroke":case"CIMSolidFill":t.color=n;break;case"CIMHatchFill":f(t.lineSymbol,i,e)}}}},70684:function(t,i,e){e.d(i,{J:function(){return m}}),e(50917);var n=e(59469),s=(e(10748),e(61226)),r=e(13520),o=e(67888),h=e(13786),a=e(1932),u=e(32501),c=e(33389),l=e(28397),f=e(21267),p=e(21858),d=e(45532),v=e(91508),y=e(57165),g=e(38164),b=e(90363),w=e(22198);class m extends p.b{constructor(t){super(),this._graphicsLayer=t,this._symbolPairingsByType=new Map}visualizeIntersectionPoint(t,i){return this._visualizeSnappingIndicator(new d.default({x:t.intersectionPoint[0],y:t.intersectionPoint[1],spatialReference:i.spatialReference}),this._getOrCreateSymbol("intersectionPoint",i.view.effectiveTheme.accentColor))}visualizePoint(t,i){return this._visualizeSnappingIndicator(new d.default({x:t.point[0],y:t.point[1],spatialReference:i.spatialReference}),this._getOrCreateSymbol("point",i.view.effectiveTheme.accentColor))}visualizeLine(t,i){return this._visualizeSnappingIndicator(new v.A({paths:[[[...t.lineStart],[...t.lineEnd]]],spatialReference:(0,o.PZ)(y.A,i.spatialReference)}),this._getOrCreateSymbol("line",i.view.effectiveTheme.accentColor))}visualizeParallelSign(t,i){return this._visualizeSnappingIndicator(new v.A({paths:[[[...t.lineStart],[...t.lineEnd]]],spatialReference:(0,o.PZ)(y.A,i.spatialReference)}),this._getOrCreateSymbol("parallelSign",i.view.effectiveTheme.accentColor))}visualizeRightAngleQuad(t,i){const e=(0,a.vt)(),n=(0,a.vt)(),s=(0,u.vt)();(0,h.Re)(e,(0,l.Xz)(t.centerVertex),(0,l.Xz)(t.previousVertex)),(0,h.Re)(n,(0,l.Xz)(t.nextVertex),(0,l.Xz)(t.previousVertex)),(0,h.$A)(s,e,n);const r="rightAngleQuad"+(s[2]<0?45:225);return this._visualizeSnappingIndicator(new v.A({paths:[[[...t.previousVertex],[...t.centerVertex],[...t.nextVertex]]],spatialReference:(0,o.PZ)(y.A,i.spatialReference)}),this._getOrCreateSymbol(r,i.view.effectiveTheme.accentColor))}_visualizeSnappingIndicator(t,i){const e=new n.default({geometry:t,symbol:i});return this._graphicsLayer.add(e),(0,s.hA)((()=>{this._graphicsLayer.remove(e)}))}_getOrCreateSymbol(t,i){const e=this._symbolPairingsByType;return e.get(t)?.color!==i&&e.set(t,{color:i,symbol:x(t,i)}),e.get(t).symbol}}function x(t,i){const e=[...i.toRgb(),255*i.a];switch(t){case"point":return new b.A({outline:{width:.5,color:[0,0,0,1]},size:10,color:i});case"intersectionPoint":return new b.A({outline:new w.A({width:1.5,color:i}),size:15,color:[0,0,0,0]});case"line":return new g.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:c.uT.Butt,joinStyle:c.wd.Round,miterLimit:10,width:(0,r.PN)(f.N.lineHintWidthTarget),color:e}]}}});case"parallelSign":return new g.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:e}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:e}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}});case"rightAngleQuad45":case"rightAngleQuad225":{const n="rightAngleQuad45"===t?45:225;return new g.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,r.PN)(f.N.rightAngleHintSize),rotation:n,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,r.PN)(f.N.rightAngleHintOutlineSize),color:e},{type:"CIMSolidFill",enable:!0,color:[...i.toRgb(),255*i.a*.4]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})}}}},65949:function(t,i,e){e.r(i),e.d(i,{ControlPointsTransformTool:function(){return q},DrawGraphicTool2D:function(){return x},MediaTransformToolsWrapper:function(){return gt},TransformTool:function(){return vt}});var n=e(53804),s=(e(50917),e(59469)),r=e(61226),o=e(95929),h=e(28181),a=e(23502),u=(e(58941),e(40633),e(13798),e(65953)),c=e(70684),l=(e(10748),e(38164)),f=e(90363);const p=new l.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[3.75,3.75],lineDashEnding:"HalfPattern",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:1.6,color:[255,255,255,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:2,color:[0,0,0,255]}]}}}),d=new f.A({style:"circle",size:6,color:[127,127,127,1],outline:{color:[50,50,50],width:1}}),v=new f.A({style:"circle",size:6,color:[255,127,0,1],outline:{color:[50,50,50],width:1}});var y=e(93336),g=e(85499),b=e(99113),w=e(45532),m=e(71673);let x=class extends y.N{constructor(t){super(t),this._visualElementGraphics={regularVertices:null,activeVertex:null,activeEdge:null},this.activeFillSymbol=null,this.type="draw-2d",this._visualElementSymbols={outline:t.activeLineSymbol??p,regularVertices:t.regularVerticesSymbol??d,activeVertex:t.activeVertexSymbol??v,fill:t.activeFillSymbol},t.activeVertexSymbol||this.addHandles((0,h.watch)((()=>this.view?.effectiveTheme?.accentColor),(t=>{if(!t)return;const i=this._visualElementSymbols.activeVertex.clone().set({color:t});this._visualElementGraphics.activeVertex?.set("symbol",i),this._visualElementSymbols={...this._visualElementSymbols,activeVertex:i}}),h.Vh))}normalizeCtorArgs(t){const i={...t};return delete i.activeFillSymbol,delete i.activeVertexSymbol,delete i.regularVerticesSymbol,delete i.activeLineSymbol,i}initializeGraphic(t){return null!=this._visualElementSymbols.fill&&(t.symbol=this._visualElementSymbols.fill),this.internalGraphicsLayer.graphics.sort(M),(0,r.hA)()}makeDrawOperation(){const{defaultZ:t,hasZ:i,view:e}=this;return this._createOrUpdateGraphic(null),new g.O0({view:e,manipulators:this.manipulators,geometryType:(0,y.l)(this.geometryType),drawingMode:this.mode,hasZ:i,defaultZ:t,snapToSceneEnabled:this.snapToScene,drawSurface:new b.uF(e,i,t),hasM:!1,snappingManager:this.snappingManager,snappingVisualizer:new c.J(this.internalGraphicsLayer),graphic:this.graphic,cursor:this.cursor,constraintsEnabled:!0})}onActiveVertexChanged(t){if("point"===this.geometryType)return(0,r.hA)();const[i,e]=t,n=new w.default({x:i,y:e,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.activeVertex?(this._visualElementGraphics.activeVertex.geometry=n,(0,r.hA)()):(this._visualElementGraphics.activeVertex=new s.default({geometry:n,symbol:this._visualElementSymbols.activeVertex,attributes:{displayOrder:2}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeVertex),this.internalGraphicsLayer.graphics.sort(M),(0,r.hA)((()=>{null!=this._visualElementGraphics.activeVertex&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeVertex),this._visualElementGraphics.activeVertex=(0,o.pR)(this._visualElementGraphics.activeVertex))})))}onCursorEdgeChanged(t){return null!=this._visualElementGraphics.activeEdge?(this._visualElementGraphics.activeEdge.geometry=t,(0,r.hA)()):(this._visualElementGraphics.activeEdge=new s.default({geometry:t,symbol:this._visualElementSymbols.outline,attributes:{displayOrder:0}}),this.internalGraphicsLayer.add(this._visualElementGraphics.activeEdge),this.internalGraphicsLayer.graphics.sort(M),(0,r.hA)((()=>{null!=this._visualElementGraphics.activeEdge&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.activeEdge),this._visualElementGraphics.activeEdge=(0,o.pR)(this._visualElementGraphics.activeEdge))})))}onRegularVerticesChanged(t){const i=new m.A({points:t,spatialReference:this.view.spatialReference});return null!=this._visualElementGraphics.regularVertices?(this._visualElementGraphics.regularVertices.geometry=i,(0,r.hA)()):(this._visualElementGraphics.regularVertices=new s.default({geometry:i,symbol:this._visualElementSymbols.regularVertices,attributes:{displayOrder:1}}),this.internalGraphicsLayer.add(this._visualElementGraphics.regularVertices),this.internalGraphicsLayer.graphics.sort(M),(0,r.hA)((()=>{null!=this._visualElementGraphics.regularVertices&&(this.internalGraphicsLayer.remove(this._visualElementGraphics.regularVertices),this._visualElementGraphics.regularVertices=(0,o.pR)(this._visualElementGraphics.regularVertices))})))}};function M(t,i){return(t.attributes?.displayOrder??-1/0)-(i.attributes?.displayOrder??-1/0)}(0,n._)([(0,a.MZ)()],x.prototype,"activeFillSymbol",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],x.prototype,"type",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],x.prototype,"view",void 0),x=(0,n._)([(0,u.$)("esri.views.2d.interactive.editingTools.draw.DrawGraphicTool2D")],x);var _,k=e(52874),A=e(46157),T=e(57652),j=e(19702),P=e(77927),I=e(65420);class E{get hovering(){return this.someManipulator((t=>t.hovering))}get grabbing(){return this.someManipulator((t=>t.grabbing))}get dragging(){return this.someManipulator((t=>t.dragging))}hasManipulator(t){return this.someManipulator((i=>i===t))}someManipulator(t){let i=!1;return this.forEachManipulator((e=>{!i&&t(e)&&(i=!0)})),i}}!function(t){t[t.TRANSLATE_XY=0]="TRANSLATE_XY",t[t.SCALE=1]="SCALE",t[t.ROTATE=2]="ROTATE"}(_||(_={}));var z=e(2831),C=e(82067),S=e(34358),N=e(17921);class R extends E{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._manipulator=this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphic=null}forEachManipulator(t){t(this._manipulator,_.TRANSLATE_XY)}createDragPipeline(t,i){let e=null,n=null,s=0,r=0,o=0;const{offsetX:h,offsetY:a,size:u}=(0,N.T)(this._graphic.symbol);return(0,z.Xt)(this._manipulator,((c,l)=>{l.next((i=>{if("start"===i.action){const i=t();e=i.editGeometryOperations,n=i.constraints}return i})).next((0,z.y$)(this._view)).next((t=>{const{x:c,y:l,z:f}=t.mapEnd;if(n&&(c+h<n.xmin||l+a-u<n.ymin||c+h>n.xmax||l+a-u>n.ymax))return t;("start"===t.action||0===s&&0===r&&0===o)&&(s=t.mapStart.x,r=t.mapStart.y,o=t.mapStart.z);const p=c-s,d=l-r,v=f-o;s=c,r=l,o=f;const y="start"===t.action?S.Y.NEW_STEP:S.Y.ACCUMULATE_STEPS,g=e.move(p,d,v,y);return i(t,g),t}))}))}_createManipulator(){const t=this._view,i=this._graphic;return new C.l({view:t,graphic:i,selectable:!0,cursor:"move"})}}var O=e(25179),G=e(83202),D=e(7819);const V="Shift",L=O.i,F=new k.A("#009af2");let q=class extends G.g{constructor(t){super(t),this._isOpacityToggled=!1,this._isModifierActive=!1,this._factor=1,this._initialControlPoints=null,this._graphicsLayer=new j.default({internal:!0,listMode:"hide",visible:!1,effect:"drop-shadow(0px, 0px, 3px)"}),this._undoStack=[],this._redoStack=[],this._sharedUndoStack=[],this._sharedRedoStack=[],this._highlightHandle=null,this.activeHandle=0,this.type="reshape"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._controlPointManipulations.forEach((t=>t.destroy())),this._controlPointEditGeometryOperations.forEach((t=>t.destroy())),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=(0,o.pR)(this._graphicsLayer),this._georeference=null,this._controlPointGraphics=null,this._controlPointManipulations=null,this._graphicsLayer=null,this._controlPointEditGeometryOperations=null,this._undoStack=null,this._redoStack=null,this._initialControlPoints=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _hasValidSpatialReference(){return(0,T.fn)(this.view.spatialReference)}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){const t=this._undoStack[this._undoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canUndo}canRedo(){const t=this._redoStack[this._redoStack.length-1];return null!=t&&this._controlPointEditGeometryOperations[t].canRedo}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();this._controlPointEditGeometryOperations[t].undo(),this.updateGraphics(),this._redoStack.push(t)}}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();this._controlPointEditGeometryOperations[t].redo(),this.updateGraphics(),this._undoStack.push(t)}}refresh(){const{mediaElement:t}=this;if(null==t.georeference)return;const i=t.georeference;"control-points"===i.type&&null!=i.coords&&(this._georeference=i,this._georeference.controlPoints.forEach((({mapPoint:t},i)=>{const e=this._controlPointEditGeometryOperations[i],n=e.data.components[0].vertices[0];e.setVertexPosition(n,e.data.coordinateHelper.pointToVector(t))})),this.updateGraphics())}reset(){this._georeference.controlPoints=this._initialControlPoints,this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._georeference,i=t.controlPoints,e=i[0].mapPoint.spatialReference,n=this._hasValidSpatialReference;this._georeference.controlPoints=this._controlPointEditGeometryOperations.map(((s,r)=>{const o=s.data.geometry;return this._controlPointGraphics[r].geometry=o,{mapPoint:(0,A.project)(o,e),sourcePoint:n?i[r].sourcePoint:t.toSource(o)}}))}updateActiveHandle(t){if(this.activeHandle===t)return;const i=this._controlPointGraphics[this.activeHandle].symbol.clone();(0,P.Fe)(i,this.view.effectiveTheme.accentColor),this._controlPointGraphics[this.activeHandle].symbol=i;const e=this._controlPointGraphics[t].symbol.clone();(0,P.Fe)(e,F),this._controlPointGraphics[t].symbol=e,this.activeHandle=t,this.view.surface===document.activeElement&&this.highlightActiveHandle()}async highlightActiveHandle(){this.removeHighlightActiveHandle();const t=await this.view.whenLayerView(this._graphicsLayer);this._highlightHandle=t.highlight(this._controlPointGraphics[this.activeHandle])}removeHighlightActiveHandle(){this._highlightHandle&&this._highlightHandle.remove()}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,mediaElement:i}=this;if(null==i.georeference)return;const e=i.georeference;"control-points"===e.type&&null!=e.coords&&(this._georeference=e,this._initialControlPoints=this._georeference.controlPoints,t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._controlPointEditGeometryOperations=this._georeference.controlPoints.map((({mapPoint:i})=>D.p.fromGeometry((0,A.project)(i,t.spatialReference),I.RT.Local))),this._controlPointGraphics=this._controlPointEditGeometryOperations.map(((t,i)=>new s.default({symbol:new l.A({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-15.75},anchorPointUnits:"Absolute",dominantSizeAxis3D:"Y",size:9,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[84.3,0],[84.3,84.3],[0,84.3],[0,0]]]}},rotation:0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-11.25},anchorPointUnits:"Absolute",dominantSizeAxis3D:"Y",size:22.5,billboardMode3D:"FaceNearPlane",frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:i===this.activeHandle?F.toArray():this.view.effectiveTheme.accentColor.toArray()}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,clippingPath:{type:"CIMClippingPath",clippingType:"Intersect",path:{rings:[[[0,0],[197.7,0],[197.7,294.7],[0,294.7],[0,0]]]}},rotation:0}],haloSize:1,scaleX:1,angleAlignment:"Display",angle:0}}}),geometry:t.data.geometry}))),this._graphicsLayer.graphics.addMany([...this._controlPointGraphics]),this._controlPointManipulations=this._controlPointGraphics.map((i=>new R({tool:this,view:t,graphic:i}))),this.addHandles([...this._controlPointManipulations.map(((t,i)=>t.createDragPipeline(this._getInfo.bind(this,i),((t,e)=>{"start"===t.action&&(this._undoStack.push(i),this._redoStack=[],this._sharedUndoStack.push({tool:this,operation:e}),this._sharedRedoStack.length=0),this.updateGraphics()})))),(0,h.watch)((()=>this.view.scale),(()=>this.active?this.updateGraphics():null))]),this._controlPointManipulations.forEach(((t,i)=>{t.forEachManipulator((t=>{this.addHandles([t.events.on(["click","grab-changed"],(t=>this.updateActiveHandle(i)))])}))})),this.addHandles([t.on("key-down",(e=>{t.activeTool===this&&(e.key!==V||e.repeat||(this._isModifierActive=!0,e.stopPropagation()),"t"!==e.key||e.repeat||(i.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled,e.stopPropagation()),e.key!==L||e.repeat||(this._factor=10,e.stopPropagation()),this._isModifierActive&&("ArrowUp"===e.key&&(this._move(0,this._factor),e.stopPropagation()),"ArrowDown"===e.key&&(this._move(0,-this._factor),e.stopPropagation()),"ArrowLeft"===e.key&&(this._move(-this._factor,0),e.stopPropagation()),"ArrowRight"===e.key&&(this._move(this._factor,0),e.stopPropagation())))})),t.on("key-up",(i=>{t.activeTool===this&&(i.key===V&&(this._isModifierActive=!1,i.stopPropagation()),i.key===L&&(this._factor=1,i.stopPropagation()))}))]))}async _loadProjectionEngine(){const t=this._georeference.controlPoints[0].mapPoint;return(0,A.initializeProjection)(t.spatialReference,this.view.spatialReference)}_getInfo(t){return{editGeometryOperations:this._controlPointEditGeometryOperations[t],constraints:this._hasValidSpatialReference?null:{xmin:0,ymin:0,xmax:this._georeference.width,ymax:this._georeference.height}}}_move(t,i){const e=this._controlPointEditGeometryOperations[this.activeHandle].move(t*this.view.resolution,i*this.view.resolution,0,S.Y.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:e}),this._sharedRedoStack.length=0,this.updateGraphics()}};(0,n._)([(0,a.MZ)()],q.prototype,"_hasValidSpatialReference",null),(0,n._)([(0,a.MZ)()],q.prototype,"activeHandle",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],q.prototype,"mediaElement",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],q.prototype,"type",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0})],q.prototype,"view",void 0),q=(0,n._)([(0,u.$)("esri.views.2d.interactive.editingTools.ControlPointsTransformTool")],q);var B=e(75505),H=e(62938),Z=e(13786),U=e(1932),K=e(20551),J=e(32501),X=e(2075),W=e(14606),Y=e(15774);function $(t,i){"start"===t.action?i.cursor="grabbing":i.cursor="grab"}class Q{constructor(){this._lastDragEvent=null,this.next=new z.rh,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const i={...this._lastDragEvent,action:"update"};t&&this._adjustScaleFactors(i),this.next.execute(i)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent="end"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t)}_adjustScaleFactors(t){const i=0!==t.direction[0]&&0!==t.direction[1]?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-i:i,t.factor2=t.factor2<0?-i:i}}class tt{constructor(){this._lastDragEvent=null,this.next=new z.rh,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent){const i={...this._lastDragEvent,action:"update"};t&&this._adjustRotateAngle(i),this.next.execute(i)}this._enabled=t}createDragEventPipelineStep(){return this._lastDragEvent=null,t=>(this._lastDragEvent="end"!==t.action?{...t}:null,this._enabled&&this._adjustRotateAngle(t),t)}_adjustRotateAngle(t){const i=(0,Y.KJ)(t.rotateAngle);t.rotateAngle=(0,Y.kU)(5*Math.round(i/5))}}var it=e(67060),et=e(57665),nt=e(41857);class st extends E{constructor(t){super(),this._handles=new W.A,this._originCache=(0,J.vt)(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._snapRotation=t.snapRotation,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on("grab-changed",(t=>$(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._snapRotation=null,this._graphic=null,this._handles=null,this._originCache=null}forEachManipulator(t){t(this._manipulator,_.ROTATE)}createDragPipeline(t,i){let e=null,n=null;return(0,z.Xt)(this._manipulator,((s,r)=>{r.next((i=>{if("start"===i.action){s.cursor="grabbing";const i=t();e=i.plane,n=i.editGeometryOperations}return i})).next((0,z.y$)(this._view)).next((t=>({...t,rotateAngle:(0,it.UT)(t.mapStart,t.mapEnd,{x:e.origin[0],y:e.origin[1]},!0)}))).next(this._snapRotation.createDragEventPipelineStep(),this._snapRotation.next).next((t=>{const s=(0,K.c)(this._originCache,e.origin),r="start"===t.action?S.Y.NEW_STEP:S.Y.ACCUMULATE_STEPS,o=n.rotate(s,t.rotateAngle,r,et.K.REPLACE);return(0,nt.Bb)(o,e),i(t,o),t})).next((t=>("end"===t.action&&(s.cursor="grab"),t)))}))}_createManipulator(){const t=this._view,i=this._graphic;return new C.l({view:t,graphic:i,selectable:!0,cursor:"grab"})}}const rt=1e-6;function ot(t){const i=(0,K.l)(t.basis1),e=(0,K.l)(t.basis2);return.3*Math.min(i,e)}class ht extends E{constructor(t){super(),this._handles=new W.A,this._planeStart=(0,X.a)(),this._displayPlaneStart=(0,X.a)(),this._originCache=(0,J.vt)(),this._axisCache=(0,U.vt)(),this._renderStartCache=(0,J.vt)(),this._renderEndCache=(0,J.vt)(),this._resizeOriginCache=(0,J.vt)(),this._view=t.view,this._tool=t.tool,this._graphic=t.graphic,this._direction=t.direction,this._preserveAspectRatio=t.preserveAspectRatio,this._manipulator=this._createManipulator(),this._handles.add([this._manipulator.events.on("grab-changed",(t=>$(t,this._manipulator)))]),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._graphic=null,this._manipulator=null,this._direction=null,this._handles=null,this._planeStart=null,this._displayPlaneStart=null,this._originCache=null,this._axisCache=null,this._renderStartCache=null,this._renderEndCache=null,this._resizeOriginCache=null,this._preserveAspectRatio=null}forEachManipulator(t){t(this._manipulator,_.SCALE)}createDragPipeline(t,i){let e=null,n=null,s=null,r=0,o=null,h=null;const a=this._planeStart,u=this._displayPlaneStart,c=this._direction;return(0,z.Xt)(this._manipulator,((l,f)=>{f.next((i=>{if("start"===i.action){l.cursor="grabbing";const i=t();e=i.plane,n=i.displayPlane,s=i.editGeometryOperations,r=10*this._view.resolution,(0,X.c)(e,a),(0,X.c)(n,u);const h=(0,T.Vp)(s.data.spatialReference);o=h?h.valid[1]-h.valid[0]-30*this._view.resolution:null}return i})).next((0,z.y$)(this._view)).next((t=>{const i=(0,K.c)(this._renderStartCache,[t.mapStart.x,t.mapStart.y,0]),e=(0,K.c)(this._renderEndCache,[t.mapEnd.x,t.mapEnd.y,0]),s=(0,K.c)(this._resizeOriginCache,u.origin);(0,K.b)(s,s,u.basis1,-c[0]),(0,K.b)(s,s,u.basis2,-c[1]),(0,K.d)(e,e,s),(0,K.d)(i,i,s);const o=0!==c[0]&&0!==c[1],h=ot(u),a=ot(n)/h,l=(t,n)=>{if(0===t)return 1;let s=(0,K.l)(n),h=.5*t*(0,K.f)(n,e)/s;const u=h<0?-1:1;o&&(h+=(s-.5*t*(0,K.f)(n,i)/s)*u*a);const c=s<1.5*r?1:rt;return s=Math.max(s-r,rt),u>0&&(h-=10*this._view.resolution),u*Math.max(u*(h/s),c)},f=l(c[0],u.basis1),p=l(c[1],u.basis2);return{...t,direction:c,factor1:f,factor2:p}})).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next((t=>{const n=(0,K.c)(this._originCache,a.origin);(0,K.b)(n,n,a.basis1,-c[0]),(0,K.b)(n,n,a.basis2,-c[1]);const r=(0,Z.hZ)(this._axisCache,a.basis1[0],a.basis1[1]);(0,Z.S8)(r,r);const u=s.data.allVertices,l="start"===t.action?S.Y.NEW_STEP:S.Y.ACCUMULATE_STEPS,f=s.scaleVertices(u,n,r,t.factor1,t.factor2,l,et.K.REPLACE);return o&&o<s.data.geometry.extent.width&&h?s.updateVertices(u,h):((0,X.c)(a,e),(0,nt.Bb)(f,e),h=f.operation,i(t,f)),t})).next((t=>("end"===t.action&&(l.cursor="grab"),t)))}))}_createManipulator(){return new C.l({view:this._view,graphic:this._graphic,selectable:!0,cursor:"grab"})}}var at=e(37578),ut=e(2623),ct=e(32992),lt=e(62097),ft=e(44740),pt=e(8740);O.i;const dt=[[1,1],[1,-1],[-1,-1],[-1,1],[1,0],[0,-1],[-1,0],[0,1]];let vt=class extends G.g{constructor(t){super(t),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._planeCache=(0,X.a)(),this._displayPlaneCache=(0,X.a)(),this._mainAxisCache=(0,U.vt)(),this._rotationHandleCache=(0,J.vt)(),this._cornerA=(0,J.vt)(),this._cornerB=(0,J.vt)(),this._cornerC=(0,J.vt)(),this._cornerD=(0,J.vt)(),this._avgAB=(0,J.vt)(),this._avgBC=(0,J.vt)(),this._avgCD=(0,J.vt)(),this._avgDA=(0,J.vt)(),this._preserveAspectRatio=new Q,this._snapRotation=new tt,this._graphicsLayer=new j.default({internal:!0,listMode:"hide",visible:!1}),this._sharedUndoStack=[],this._sharedRedoStack=[],this._isOpacityToggled=!1,this._factor=1,this.preserveAspectRatio=null,this.snapRotation=null,this.type="transform"}initialize(){this._initialize()}destroy(){const{map:t}=this.view;this._dragManipulation.destroy(),this._rotateManipulation.destroy(),this._scaleManipulations.forEach((t=>t.destroy())),this._editGeometryOperations.destroy(),t.removeMany([this._graphicsLayer]),this._graphicsLayer.removeAll(),this._graphicsLayer=(0,o.pR)(this._graphicsLayer),this._initialControlPoints=null,this._initialGeometry=null,this._graphic=null,this._preserveAspectRatio=null,this._snapRotation=null,this._planeCache=null,this._displayPlaneCache=null,this._rotationHandleCache=null,this._mainAxisCache=null,this._cornerA=null,this._cornerB=null,this._cornerC=null,this._cornerD=null,this._avgAB=null,this._avgBC=null,this._avgCD=null,this._avgDA=null,this._sharedUndoStack=null,this._sharedRedoStack=null}get _plane(){const t=this._graphic.geometry;if(null==t)return null;const i=this._editGeometryOperations.data,e=i.components[0].edges[0],n=(0,Z.Re)(this._mainAxisCache,e.leftVertex.pos,e.rightVertex.pos);(0,Z.S8)(n,n);let s=80*this.view.resolution;const r=this.view.spatialReference;return(0,T.aI)(r,t.spatialReference)&&(s*=(0,H.GA)(r)/(0,H.GA)(t.spatialReference)),(0,nt.G3)(n,i,s,this._planeCache)}get _displayPlane(){const t=this._plane;if(!t)return null;const i=this._displayPlaneCache;(0,X.c)(t,i);const e=10*this.view.resolution;return(0,K.h)(i.basis1,i.basis1,1+e/(0,K.l)(i.basis1)),(0,K.h)(i.basis2,i.basis2,1+e/(0,K.l)(i.basis2)),i}get _backgroundGraphicGeometry(){const t=this._displayPlane;if(!t)return null;const i=this.view.spatialReference;return this._updateDisplayPlaneConrers(t),new ft.A({spatialReference:i,rings:[[this._cornerA,this._cornerB,this._cornerC,this._cornerD,this._cornerA]]})}get _rotateGraphicGeometry(){const t=this._plane;if(!t)return null;const i=this._rotationHandleCache;return(0,K.n)(i,t.basis1),(0,K.h)(i,i,30*this.view.resolution),(0,K.g)(i,i,t.origin),(0,K.g)(i,i,t.basis1),new w.default({x:i[0],y:i[1],spatialReference:this.view.spatialReference})}get _scaleGraphicGeometries(){const t=this._displayPlane;if(!t)return[];const i=this.view.spatialReference;this._updateDisplayPlaneConrers(t);const{_cornerA:e,_cornerB:n,_cornerC:s,_cornerD:r}=this,o=(0,K.m)(this._avgAB,e,n,.5),h=(0,K.m)(this._avgBC,n,s,.5),a=(0,K.m)(this._avgCD,s,r,.5),u=(0,K.m)(this._avgDA,r,e,.5);return[new w.default({x:e[0],y:e[1],spatialReference:i}),new w.default({x:n[0],y:n[1],spatialReference:i}),new w.default({x:s[0],y:s[1],spatialReference:i}),new w.default({x:r[0],y:r[1],spatialReference:i}),new w.default({x:o[0],y:o[1],spatialReference:i}),new w.default({x:h[0],y:h[1],spatialReference:i}),new w.default({x:a[0],y:a[1],spatialReference:i}),new w.default({x:u[0],y:u[1],spatialReference:i})]}onActivate(){this.visible=!0}onDeactivate(){this.visible=!1}onShow(){this._graphicsLayer.visible=!0}onHide(){this._graphicsLayer.visible=!1}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this._editGeometryOperations.undo(),this.updateGraphics()}redo(){this._editGeometryOperations.redo(),this.updateGraphics()}refresh(){const{view:t,target:i}=this,e="georeference"in i?i.georeference.coords:i.geometry,n=this._editGeometryOperations,s=n.data.components[0].vertices,r=ut.ZE.fromGeometry((0,A.project)(e,t.spatialReference),I.RT.Local).components[0].vertices;s.forEach(((t,i)=>{n.setVertexPosition(t,r[i].pos)})),this.updateGraphics()}reset(){const{target:t}=this;if("georeference"in t){const i=t.georeference;"control-points"===i.type&&(i.controlPoints=this._initialControlPoints)}else t.geometry=this._initialGeometry;this.refresh(),this._sharedUndoStack.length=0,this._sharedRedoStack.length=0}updateGraphics(){const t=this._editGeometryOperations.data.geometry;"georeference"in this.target&&(this.target.georeference.coords=t),this._graphic.geometry=t,this._backgroundGraphic.geometry=this._backgroundGraphicGeometry,this._rotateGraphic.geometry=this._rotateGraphicGeometry,this._scaleGraphicGeometries.forEach(((t,i)=>{this._scaleGraphics[i].geometry=t}))}setSharedUndoStack(t){this._sharedUndoStack=t}setSharedRedoStack(t){this._sharedRedoStack=t}async _initialize(){const{view:t,target:i}=this;if("georeference"in i){const t=i.georeference;this._graphic=new s.default({geometry:t.coords}),this._initialControlPoints="control-points"===t.type?t.controlPoints:null}else this._graphic=i,this._initialGeometry=i.geometry;t.map.addMany([this._graphicsLayer]),t.focus(),this.visible=!1,this.finishToolCreation(),await this._loadProjectionEngine(),this._editGeometryOperations=D.p.fromGeometry((0,A.project)(this._graphic.geometry,t.spatialReference),I.RT.Local),this._backgroundGraphic=new s.default({symbol:new pt.A({color:"transparent",outline:{type:"simple-line",color:t.effectiveTheme.accentColor,width:2}}),geometry:this._backgroundGraphicGeometry}),this._rotateGraphic=new s.default({symbol:new f.A({color:(0,B.bJ)(t.effectiveTheme.accentColor),outline:{type:"simple-line",color:t.effectiveTheme.accentColor,width:1}}),geometry:this._rotateGraphicGeometry}),this._scaleGraphics=this._scaleGraphicGeometries.map((i=>new s.default({symbol:new f.A({size:6,style:"square",color:(0,B.bJ)(t.effectiveTheme.accentColor),outline:{type:"simple-line",color:t.effectiveTheme.accentColor,width:1}}),geometry:i}))),this._graphicsLayer.graphics.addMany([this._backgroundGraphic,this._rotateGraphic,...this._scaleGraphics]),this._dragManipulation=new R({tool:this,view:t,graphic:this._graphic}),this._rotateManipulation=new st({tool:this,view:t,graphic:this._rotateGraphic,snapRotation:this._snapRotation}),this._scaleManipulations=this._scaleGraphics.map(((i,e)=>new ht({tool:this,view:t,graphic:i,direction:dt[e],preserveAspectRatio:this._preserveAspectRatio}))),this.addHandles([this._dragManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),this._rotateManipulation.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)),...this._scaleManipulations.map((t=>t.createDragPipeline(this._getInfo.bind(this),this._updateGraphics.bind(this)))),(0,h.watch)((()=>this.view.scale),(()=>this.active?this.updateGraphics():null)),t.on("click",(async e=>{if(null!=t.activeTool&&t.activeTool!==this)return;const n=(0,lt.ZV)(e),s=[];t.map.allLayers.forEach((t=>{"vector-tile"!==t.type&&"imagery"!==t.type||s.push(t)}));const r=await this.view.hitTest(n,{exclude:s}),o=r.results;if(0===o.length)t.activeTool=null;else{const e=(0,ct.zF)(r.results),n="georeference"in i,s=o.map((t=>"media"===t.type?t.element:null)).filter(Boolean),h=new Set([...this._graphicsLayer.graphics,n?null:i].filter(Boolean));n&&s.includes(i)||null!=e&&h.has(e.graphic)?null==t.activeTool&&(t.activeTool=this):t.activeTool=null}}))]);const e=t=>{this.addHandles(t.events.on("grab-changed",(t=>{"georeference"in i&&("start"===t.action?i.opacity*=.5:"end"===t.action&&(i.opacity*=2))})))};this._dragManipulation.forEachManipulator(e),this._rotateManipulation.forEachManipulator(e),this._scaleManipulations.forEach((t=>t.forEachManipulator(e)));const n=new at.oe;n.addToggle(at.TU.preserveAspectRatio,(()=>{null==this.preserveAspectRatio&&(this._preserveAspectRatio.enabled=!this._preserveAspectRatio.enabled)})),n.addToggle(at.TU.rotateIncrements,(()=>{null==this.snapRotation&&(this._snapRotation.enabled=!this._snapRotation.enabled)})),n.add(at.TU.toggleOpacity,(()=>{"georeference"in i&&(i.opacity*=this._isOpacityToggled?2:.5,this._isOpacityToggled=!this._isOpacityToggled)})),n.addToggle(at.TU.factorModifier,(t=>this._factor="key-down"===t.type?10:1)),n.add(at.TU.scaleUp,(()=>this._scale(this._factor))),n.add(at.TU.scaleDown,(()=>this._scale(-this._factor))),n.add(at.TU.moveUp,(()=>this._move(0,this._factor))),n.add(at.TU.moveDown,(()=>this._move(0,-this._factor))),n.add(at.TU.moveLeft,(()=>this._move(-this._factor,0))),n.add(at.TU.moveRight,(()=>this._move(this._factor,0))),this.addHandles([t.on("key-down",(i=>{t.activeTool===this&&n.dispatch(t.inputManager,i)})),t.on("key-up",(i=>{t.activeTool===this&&n.dispatch(t.inputManager,i)}))])}async _loadProjectionEngine(){const t=this._graphic.geometry;return(0,A.initializeProjection)(t.spatialReference,this.view.spatialReference)}_updateDisplayPlaneConrers(t){const{basis1:i,basis2:e,origin:n}=t,s=this._cornerA;(0,K.g)(s,n,i),(0,K.g)(s,s,e);const r=this._cornerB;(0,K.g)(r,n,i),(0,K.d)(r,r,e);const o=this._cornerC;(0,K.d)(o,n,i),(0,K.d)(o,o,e);const h=this._cornerD;(0,K.d)(h,n,i),(0,K.g)(h,h,e)}_getInfo(){return{editGeometryOperations:this._editGeometryOperations,plane:this._plane,displayPlane:this._displayPlane}}_updateGraphics(t,i){"start"===t.action&&(this._sharedUndoStack.push({tool:this,operation:i}),this._sharedRedoStack.length=0),this.updateGraphics()}_scale(t){const i=this._editGeometryOperations,e=i.data.geometry.extent?.width,n=(e+t*this.view.resolution)/e,s=i.scale(this._plane.origin,U.Cw,n,n,S.Y.NEW_STEP,et.K.REPLACE);this._sharedUndoStack.push({tool:this,operation:s}),this._sharedRedoStack.length=0,this.updateGraphics()}_move(t,i){const e=this._editGeometryOperations.move(t*this.view.resolution,i*this.view.resolution,0,S.Y.NEW_STEP);this._sharedUndoStack.push({tool:this,operation:e}),this._sharedRedoStack.length=0,this.updateGraphics()}};(0,n._)([(0,a.MZ)()],vt.prototype,"_plane",null),(0,n._)([(0,a.MZ)()],vt.prototype,"_backgroundGraphicGeometry",null),(0,n._)([(0,a.MZ)()],vt.prototype,"_rotateGraphicGeometry",null),(0,n._)([(0,a.MZ)()],vt.prototype,"_scaleGraphicGeometries",null),(0,n._)([(0,a.MZ)()],vt.prototype,"preserveAspectRatio",void 0),(0,n._)([(0,a.MZ)()],vt.prototype,"snapRotation",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],vt.prototype,"target",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],vt.prototype,"type",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0})],vt.prototype,"view",void 0),vt=(0,n._)([(0,u.$)("esri.views.2d.interactive.editingTools.TransformTool")],vt);var yt=e(83525);let gt=class extends yt.A{constructor(t){super(t),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=[],this._sharedRedoStack=[],this._originalOpacity=null,this.activeHandle=0}initialize(){const{view:t,mediaElement:i,preserveAspectRatio:e,snapRotation:n,advancedMode:s}=this;this._originalOpacity=i.opacity,this._transformTool=new vt({target:i,view:t,preserveAspectRatio:e,snapRotation:n}),this._controlPointsTransformTool=new q({mediaElement:i,view:t}),this._advancedModeTransformTool=new q({mediaElement:s.mediaElement,view:s.view}),this._transformTool.setSharedUndoStack(this._sharedUndoStack),this._transformTool.setSharedRedoStack(this._sharedRedoStack),this._controlPointsTransformTool.setSharedUndoStack(this._sharedUndoStack),this._controlPointsTransformTool.setSharedRedoStack(this._sharedRedoStack),this._advancedModeTransformTool.setSharedUndoStack(this._sharedUndoStack),this._advancedModeTransformTool.setSharedRedoStack(this._sharedRedoStack);const r=i.georeference,o=s.mediaElement.georeference;s.view.tools.addMany([this._advancedModeTransformTool]),"controlPoints"in o&&"controlPoints"in r&&this.addHandles([s.view.on("key-down",(t=>{"z"===t.key&&this.canUndo()&&(this.undo(),t.stopPropagation()),"r"===t.key&&this.canRedo()&&(this.redo(),t.stopPropagation())})),s.view.on("focus",(async t=>{this._controlPointsTransformTool.removeHighlightActiveHandle(),this._advancedModeTransformTool.highlightActiveHandle()})),(0,h.watch)((()=>o.controlPoints),(t=>{r.controlPoints=t.map((({sourcePoint:t},i)=>({sourcePoint:t,mapPoint:r.controlPoints[i].mapPoint}))),this._activeTool?.refresh()})),(0,h.watch)((()=>this._controlPointsTransformTool.activeHandle),(t=>{this._advancedModeTransformTool.updateActiveHandle(t),this.activeHandle=t})),(0,h.watch)((()=>this._advancedModeTransformTool.activeHandle),(t=>{this._controlPointsTransformTool.updateActiveHandle(t),this.activeHandle=t}))]),this.addHandles([t.on("key-down",(t=>{"z"===t.key&&this.canUndo()&&(this.undo(),t.stopPropagation()),"r"===t.key&&this.canRedo()&&(this.redo(),t.stopPropagation())})),t.on("focus",(async t=>{this._advancedModeTransformTool.removeHighlightActiveHandle(),this._controlPointsTransformTool.highlightActiveHandle()}))]),t.tools.addMany([this._transformTool,this._controlPointsTransformTool]),t.activeTool=this._transformTool,this._activeTool=this._transformTool,t.focus()}destroy(){this._transformTool?.destroy(),this._controlPointsTransformTool?.destroy(),this._transformTool=null,this._controlPointsTransformTool=null,this._advancedModeTransformTool=null,this._activeTool=null,this._sharedUndoStack=null,this._sharedRedoStack=null}canUndo(){return this._sharedUndoStack.length>0}canRedo(){return this._sharedRedoStack.length>0}undo(){if(this._sharedUndoStack.length>0){const{tool:t,operation:i}=this._sharedUndoStack.pop();t!==this._activeTool&&t.refresh(),i.undo(),t.updateGraphics(),this._sharedRedoStack.push({tool:t,operation:i}),this._activeTool!==t&&this._activeTool?.refresh()}}redo(){if(this._sharedRedoStack.length>0){const{tool:t,operation:i}=this._sharedRedoStack.pop();t!==this._activeTool&&t.refresh(),i.apply(),t.updateGraphics(),this._sharedUndoStack.push({tool:t,operation:i}),this._activeTool!==t&&this._activeTool?.refresh()}}refresh(){this._activeTool.refresh()}reset(){this._activeTool.reset(),this._advancedModeTransformTool.reset()}async enableAdvancedMode(){this.view.activeTool=this._controlPointsTransformTool,this._activeTool=this._controlPointsTransformTool,this._activeTool.refresh(),await this.advancedMode.view.when(),this.advancedMode.view.activeTool=this._advancedModeTransformTool,this._originalOpacity=this._controlPointsTransformTool.mediaElement.opacity,this._controlPointsTransformTool.mediaElement.opacity=.25*this._originalOpacity}disableAdvancedMode(){this.view.activeTool=this._transformTool,this._activeTool=this._transformTool,this._activeTool.refresh(),this.advancedMode.view.activeTool=null,this._controlPointsTransformTool.mediaElement.opacity=this._originalOpacity}};(0,n._)([(0,a.MZ)()],gt.prototype,"activeHandle",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0})],gt.prototype,"advancedMode",void 0),(0,n._)([(0,a.MZ)()],gt.prototype,"preserveAspectRatio",void 0),(0,n._)([(0,a.MZ)()],gt.prototype,"snapRotation",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],gt.prototype,"mediaElement",void 0),(0,n._)([(0,a.MZ)({constructOnly:!0})],gt.prototype,"view",void 0),gt=(0,n._)([(0,u.$)("esri.views.2d.interactive.editingTools.MediaTransformToolsWrapper")],gt)},76185:function(t,i,e){e.d(i,{VV:function(){return h},hG:function(){return r},wp:function(){return o}}),e(15774);var n=e(20551),s=e(32501);function r(t){const i=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],e=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],n=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(i,e,n))}function o(t,i){const e=Math.sqrt(i[0]*i[0]+i[4]*i[4]+i[8]*i[8]),s=Math.sqrt(i[1]*i[1]+i[5]*i[5]+i[9]*i[9]),r=Math.sqrt(i[2]*i[2]+i[6]*i[6]+i[10]*i[10]);return(0,n.i)(t,e,s,r),t}function h(t,i,e){Math.abs(t[0])>Math.abs(t[1])?(0,n.i)(i,0,1,0):(0,n.i)(i,1,0,0),(0,n.e)(e,t,i),(0,n.e)(i,e,t),(0,n.n)(e,e),(0,n.n)(i,i)}(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)(),(0,s.vt)()},93336:function(t,i,e){e.d(i,{N:function(){return $t},l:function(){return ii}});var n,s,r=e(53804),o=e(59469),h=e(83525),a=e(78879),u=e(28181),c=e(23502),l=(e(58941),e(40633),e(13798),e(65953)),f=e(20248);!function(t){t[t.NeverApplied=0]="NeverApplied",t[t.Applied=1]="Applied",t[t.Undone=2]="Undone"}(n||(n={})),function(t){t.UndoRedoUpdating="UndoRedoUpdating",t.UndoInvalidError="UndoInvalidError",t.RedoInvalidError="RedoInvalidError",t.ApplyInvalidError="ApplyInvalidError"}(s||(s={}));const p={[s.UndoRedoUpdating]:"Cannot perform operation whilst undo redo is updating",[s.UndoInvalidError]:"There are no items to Undo",[s.RedoInvalidError]:"There are no items to Redo",[s.ApplyInvalidError]:"Cannot apply an item that is already applied"};class d extends Error{constructor(){super(p[s.UndoRedoUpdating]),this.type="undo-redo-updating-error"}}class v extends Error{constructor(){super(p[s.UndoInvalidError]),this.type="undo-redo-undo-error"}}class y extends Error{constructor(){super(p[s.RedoInvalidError]),this.type="undo-redo-redo-error"}}class g extends Error{constructor(){super(p[s.ApplyInvalidError]),this.type="undo-redo-apply-error"}}var b,w;(w=b||(b={}))[w.Apply=0]="Apply",w[w.Undo=1]="Undo",w[w.Redo=2]="Redo";let m=class extends h.A{constructor(){super(...arguments),this.name="",this.tag=Symbol(),this.status=n.NeverApplied}get canUndo(){return this.status===n.Applied}get canRedo(){return this.status===n.Undone}async executeUndoRedoOperation(t){switch(t){case b.Apply:if(this.status!==n.NeverApplied)throw new g;return await this.apply(),void(this.status=n.Applied);case b.Undo:if(this.status!==n.Applied)throw new v;return await this.undo(),void(this.status=n.Undone);case b.Redo:if(this.status!==n.Undone)throw new v;return await this.redo(),void(this.status=n.Applied)}}};(0,r._)([(0,c.MZ)()],m.prototype,"name",void 0),(0,r._)([(0,c.MZ)()],m.prototype,"tag",void 0),m=(0,r._)([(0,l.$)("esri.undoredo.UndoableOperation")],m);let x=class extends h.A{constructor(){super(...arguments),this._stack=new a.A,this._stackPosition=-1,this._updatingHandles=new f.U}get updating(){return this._updatingHandles.updating}get canUndo(){return this.hasUndo&&!this.updating}get hasUndo(){return this._stackPosition>=0}get canRedo(){return this.hasRedo&&!this.updating}get hasRedo(){return this._stackPosition<this._stack.length-1}_truncateForwardStack(){this._stack.splice(this._stackPosition+1,this._stack.length-this._stackPosition).forEach((t=>t.destroy()))}_drainStack(){this._stack.drain((t=>t.destroy())),this._stackPosition=-1}async undo(){if(!this.hasUndo)throw new v;if(this.updating)throw new d;const t=this._stack.getItemAt(this._stackPosition);t&&await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(b.Undo),--this._stackPosition,t.canRedo||this._truncateForwardStack()})())}async redo(){if(!this.hasRedo)throw new y;if(this.updating)throw new d;const t=this._stack.getItemAt(this._stackPosition+1);if(!t)throw new y;await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(b.Redo),++this._stackPosition})())}peekUndo(){if(this.canUndo)return this._stack.getItemAt(this._stackPosition)}peekRedo(){if(this.canRedo)return this._stack.getItemAt(this._stackPosition+1)}async inject(t){if(this.updating)throw new d;await this._updatingHandles.addPromise((async()=>{t.status===n.NeverApplied&&await t.executeUndoRedoOperation(b.Apply),t.canUndo?(this._stack.splice(this._stackPosition+1,0,t),this._stackPosition++):this._stackPosition>-1&&(this._stack.splice(0,this._stackPosition+1).forEach((t=>t.destroy())),this._stackPosition=-1)})())}async add(t){if(this.updating)throw new d;await this._updatingHandles.addPromise((async()=>{t.status===n.NeverApplied&&await t.executeUndoRedoOperation(b.Apply),this._stackPosition>=-1&&this._truncateForwardStack(),t.canUndo?(this._stack.push(t),this._stackPosition=this._stack.length-1):this._drainStack()})())}async removeTagged(t,i=!1){if(this.updating&&!i)return;await(0,u.C_)((()=>!this.updating));const e=new a.A;for(let i=0;i<this._stack.length;i++){const n=this._stack.getItemAt(i);n&&(n.tag===t?(n.destroy(),i===this._stackPosition&&(this._stackPosition=e.length-1)):e.push(n))}this._stack=e,this._stackPosition>e.length-1&&(this._stackPosition=e.length-1)}async clear(t=!1){if(this.updating&&!t)throw new d;await(0,u.C_)((()=>!this.updating)),this._drainStack()}};(0,r._)([(0,c.MZ)()],x.prototype,"_stack",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"_stackPosition",void 0),(0,r._)([(0,c.MZ)()],x.prototype,"updating",null),(0,r._)([(0,c.MZ)({readOnly:!0})],x.prototype,"canUndo",null),(0,r._)([(0,c.MZ)({readOnly:!0})],x.prototype,"hasUndo",null),(0,r._)([(0,c.MZ)({readOnly:!0})],x.prototype,"canRedo",null),(0,r._)([(0,c.MZ)({readOnly:!0})],x.prototype,"hasRedo",null),x=(0,r._)([(0,l.$)("esri.UndoRedo")],x);var M=e(77472),_=e(48996),k=e(61226),A=e(95929),T=e(6338),j=e(19702),P=e(42413);class I{constructor(){this.committedVertices=null,this.cursorVertex=null,this.full=null,this.outline=null,this.cursorEdge=null,this.circle=null,this.rectangle=null}}e(50917);var E,z=e(50659),C=e(21609),S=e(62938),N=e(20551),R=e(32501),O=e(61714),G=e(45532),D=e(44740),V=e(57165),L=e(57862),F=e(1644),q=e(94757);let B=E=class extends D.A{constructor(t){super(t),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const t=this.center,i=this.numberOfPoints;if(this.hasZ=t?.hasZ??!1,0!==this.rings.length||!t)return;const e=(0,S.oU)(this.radius,this.radiusUnit,"meters"),n=t.spatialReference;let s,r="geographic";if(n.isWebMercator?r="webMercator":(null!=(n.wkid&&q.A[n.wkid])||(n.wkt2||n.wkt)&&(0,S.x1)(n.wkt2||n.wkt))&&(r="projected"),this.geodesic){let n;switch(r){case"webMercator":n=(0,F.ci)(t);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":n=t}s=this._createGeodesicCircle(n,e,i),"webMercator"===r&&(s=(0,F.Gh)(s))}else{let n;"webMercator"===r||"projected"===r?n=e/(0,S.Ao)(t.spatialReference):"geographic"===r&&(n=(0,S.vl)(e,"meters",(0,O.tO)(t.spatialReference).radius)),s=this._createPlanarCircle(t,n,i)}this.spatialReference=s.spatialReference,this.addRing(s.rings[0])}clone(){const{center:t,numberOfPoints:i,radius:e,radiusUnit:n,geodesic:s}=this;return new E({center:t?.clone(),numberOfPoints:i,radius:e,radiusUnit:n,geodesic:s})}_createGeodesicCircle(t,i,e){let n=0;const s=[];for(;n<360;){const r=[0,0],o=[t.x,t.y];(0,L.vN)(r,o,n,i,V.A.WGS84),this.hasZ&&r.push(t.z),s.push(r),n+=360/e}return s.push(s[0]),new D.A({rings:[s]})}_createPlanarCircle(t,i,e){const n=[],s=2*Math.PI/e;for(let r=0;r<e;++r){const e=s*r,o=[t.x+Math.cos(-e)*i,t.y+Math.sin(-e)*i];this.hasZ&&o.push(t.z),n.push(o)}return n.push(n[0]),new D.A({spatialReference:t.spatialReference,rings:[n]})}};(0,r._)([(0,c.MZ)({type:G.default})],B.prototype,"center",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"geodesic",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"numberOfPoints",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"radius",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"radiusUnit",void 0),B=E=(0,r._)([(0,l.$)("esri.geometry.Circle")],B);const H=B;var Z=e(22162),U=e(38441),K=e(57652),J=e(67348),X=e(12978),W=e(32237),Y=e(61769),$=e(72485);function Q(t,i,e=null){return null!=e?[t,i,e]:[t,i]}function tt(t,i,e=null){return null!=e?{x:t,y:i,z:e}:{x:t,y:i}}class it{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return t.map((t=>this.mapToLocal(t))).filter(z.Ru)}get doUnnormalization(){return!1}}class et extends it{constructor(t,i,e=null){super(i),this._defaultZ=e,this.transform=(0,X.vt)(),this.transformInv=(0,X.vt)(),this.transform=(0,X.o8)(t),(0,J.B8)(this.transformInv,this.transform)}makeMapPoint(t,i){return Q(t,i,this._defaultZ)}mapToLocal(t){return tt(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return Q(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class nt extends it{constructor(t,i){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=(0,R.vt)(),this.tangentFrameUpWS=(0,R.vt)(),this.tangentFrameRightWS=(0,R.vt)(),this.tangentFrameForwardWS=(0,R.vt)(),this.localFrameRightWS=(0,R.vt)(),this.localFrameUpWS=(0,R.vt)(),this.worldToLocalTransform=(0,Y.vt)(),this.localToWorldTransform=(0,Y.vt)(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=i,this.defaultZ=i.hasZ?i.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,$._.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,$._.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,$._.Z,this.tangentFrameForwardWS);const n=(0,R.vt)();(0,N.h)(n,this.tangentFrameForwardWS,(0,N.f)(e,this.tangentFrameForwardWS)),(0,N.d)(this.localFrameRightWS,e,n),(0,N.n)(this.localFrameRightWS,this.localFrameRightWS),(0,N.e)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,W.Yc)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,W.B8)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(t,i){return Q(t,i,this.defaultZ)}mapToLocal(t){const i=(0,R.vt)();this.view.renderCoordsHelper.toRenderCoords(new G.default({x:t[0],y:t[1],spatialReference:this.spatialReference}),i),(0,N.w)(i,i,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(i,new G.default({spatialReference:this.view.spatialReference}));return null!=e?tt(e.x/this.scale,e.y/this.scale):null}localToMap(t){const i=(0,R.vt)();this.view.renderCoordsHelper.toRenderCoords(new G.default({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),i),(0,N.w)(i,i,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(i,new G.default({spatialReference:this.view.spatialReference}));return null!=e?Q(e.x,e.y,this.defaultZ):null}}var st=e(71673),rt=e(91508);function ot(t,i){const e=new G.default({x:t[0],y:t[1],spatialReference:i});return t.length>2&&(e.z=t[2]),e}function ht(t,i,e){const n=new rt.A({paths:t,spatialReference:i});return e&&(0,U._7)(n),n}function at(t,i,e,n=!0){const s=(0,C.o8)(t);s.forEach((t=>{const i=t[0],e=t[t.length-1];(0,z.aI)(i,e)&&1!==t.length||t.push(t[0])}));let r=new D.A({rings:s,spatialReference:i});return r.rings.forEach((t=>{(0,U.$3)(t)||t.reverse()})),e&&(0,U._7)(r),n&&r.isSelfIntersecting&&(0,K.fn)(i)&&(r=(0,Z.simplify)(r)),r}function ut(t,i,e){const n=i.mapToLocalMultiple(t),s=[],r={x:n[0].x,y:n[0].y},o=n[1].x,h=n[1].y,a=Math.round(o-r.x),u=Math.round(h-r.y),c=Math.max(Math.abs(a),Math.abs(u));if(e){const t={x:r.x+c,y:r.y+c},i={x:r.x-c,y:r.y-c};s.push(tt(t.x,i.y),tt(i.x,i.y),tt(i.x,t.y),tt(t.x,t.y))}else{const t={x:a>0?r.x+c:r.x-c,y:u>0?r.y+c:r.y-c};s.push(tt(r.x,r.y),tt(t.x,r.y),tt(t.x,t.y),tt(r.x,t.y))}return ct(at([s.map((t=>i.localToMap(t))).filter(z.Ru)],i.spatialReference,i.doUnnormalization,!0),s,i)}function ct(t,i,e){const n=lt(i[3],i[2],e),s=lt(i[1],i[2],e),r=lt(i[0],i[1],e),o=lt(i[0],i[3],e);return{geometry:t,midpoints:null!=n&&null!=s&&null!=r&&null!=o?{top:n,right:s,bottom:r,left:o}:null}}function lt(t,i,e){pt[0]=t.x,pt[1]=t.y,pt[2]=0,dt[0]=i.x,dt[1]=i.y,dt[2]=0,(0,N.m)(pt,pt,dt,.5),ft.x=pt[0],ft.y=dt[1],ft.z=dt[2];const n=e.localToMap(ft);return null!=n?ot(n,e.spatialReference):null}const ft=tt(0,0,0),pt=(0,R.vt)(),dt=(0,R.vt)();function vt(t,i,e,n){const s=i.mapToLocalMultiple(t);let r=null,o=null;if(e)r=s[0],o=s[1];else{const t=s[0],i=s[1],e=Math.round(i.x-t.x),n=Math.round(i.y-t.y),h=Math.max(Math.abs(e),Math.abs(n));r=tt(e>0?t.x+h/2:t.x-h/2,n>0?t.y+h/2:t.y-h/2),o=tt(Math.abs(e)>Math.abs(n)?r.x-h/2:r.x,Math.abs(e)>Math.abs(n)?r.y:r.y-h/2)}const h=i.localToMap(r),a=i.localToMap(o);if(null==h||null==a)return null;i.doUnnormalization&&(0,U.JM)([[h,a]],i.spatialReference);const u=ot(h,i.spatialReference),c=ot(a,i.spatialReference),l=(0,S.GA)(i.spatialReference);let f=0;if((0,K.fn)(i.spatialReference))f=l*(0,Z.distance)(u,c,null);else{const t=r.x-o.x,i=r.y-o.y;f=l*Math.sqrt(t*t+i*i)*(n||1)}const p=new H({center:u,radius:f,radiusUnit:"meters",spatialReference:i.spatialReference});return{geometry:at(p.rings,p.spatialReference,!1),center:u,edge:c}}var yt=e(56275),gt=e(68945);function bt(t,i){switch(t){case"point":case"multipoint":return"point";case"polyline":return function(t){return(null!=t&&"polyline"===t.type&&t.paths.length?t.paths[0].length:0)<2?"polylineZeroVertices":"polylineOneVertex"}(i);case"polygon":return function(t){const i=null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0;return i<3?"polylineZeroVertices":i<4?"polygonOneVertex":"polygonTwoVertices"}(i);default:return}}const wt=(0,R.vt)();var mt=e(7768),xt=e(24148),Mt=e(90858);let _t=class extends Mt.w{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=yt.iT}get allFields(){return[]}};(0,r._)([(0,c.MZ)()],_t.prototype,"type",void 0),(0,r._)([(0,c.MZ)()],_t.prototype,"radius",void 0),(0,r._)([(0,c.MZ)()],_t.prototype,"xSize",void 0),(0,r._)([(0,c.MZ)()],_t.prototype,"ySize",void 0),(0,r._)([(0,c.MZ)()],_t.prototype,"area",void 0),(0,r._)([(0,c.MZ)()],_t.prototype,"allFields",null),_t=(0,r._)([(0,l.$)("esri.views.interactive.tooltip.infos.DrawCircleTooltipInfo")],_t);var kt=e(87265),At=e(73919);let Tt=class extends((0,At.B)(Mt.w)){constructor(t){super(t),this.type="draw-mesh",this.orientation=(0,kt.LJ)({lockable:!1}),this.scale=(0,kt.dy)({lockable:!1})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,this.orientation,this.scale]}};(0,r._)([(0,c.MZ)()],Tt.prototype,"helpMessage",void 0),(0,r._)([(0,c.MZ)()],Tt.prototype,"allFields",null),Tt=(0,r._)([(0,l.$)("esri.views.interactive.tooltip.infos.DrawMeshTooltipInfo")],Tt);let jt=class extends((0,At.B)(Mt.w)){constructor(t){super(t),this.type="draw-point"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,c.MZ)()],jt.prototype,"helpMessage",void 0),(0,r._)([(0,c.MZ)()],jt.prototype,"allFields",null),jt=(0,r._)([(0,l.$)("esri.views.interactive.tooltip.infos.DrawPointTooltipInfo")],jt);let Pt=class extends((0,At.B)(Mt.w)){constructor(t){super(t),this.type="draw-polygon",this.direction=(0,kt.Gk)(),this.distance=(0,kt.Ku)(),this.area=(0,kt.Am)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.area]}};(0,r._)([(0,c.MZ)()],Pt.prototype,"xyMode",void 0),(0,r._)([(0,c.MZ)()],Pt.prototype,"helpMessage",void 0),(0,r._)([(0,c.MZ)()],Pt.prototype,"allFields",null),Pt=(0,r._)([(0,l.$)("esri.views.interactive.tooltip.infos.DrawPolygonTooltipInfo")],Pt);let It=class extends((0,At.B)(Mt.w)){constructor(t){super(t),this.type="draw-polyline",this.direction=(0,kt.Gk)(),this.distance=(0,kt.Ku)(),this.totalLength=(0,kt.fr)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.totalLength]}};(0,r._)([(0,c.MZ)()],It.prototype,"helpMessage",void 0),(0,r._)([(0,c.MZ)()],It.prototype,"xyMode",void 0),(0,r._)([(0,c.MZ)()],It.prototype,"allFields",null),It=(0,r._)([(0,l.$)("esri.views.interactive.tooltip.infos.DrawPolylineTooltipInfo")],It);let Et=class extends Mt.w{constructor(t){super(t),this.type="draw-rectangle",this.xSize=yt.r7,this.ySize=yt.r7,this.area=yt.iT}get allFields(){return[]}};(0,r._)([(0,c.MZ)()],Et.prototype,"type",void 0),(0,r._)([(0,c.MZ)()],Et.prototype,"xSize",void 0),(0,r._)([(0,c.MZ)()],Et.prototype,"ySize",void 0),(0,r._)([(0,c.MZ)()],Et.prototype,"area",void 0),(0,r._)([(0,c.MZ)()],Et.prototype,"allFields",null),Et=(0,r._)([(0,l.$)("esri.views.interactive.tooltip.infos.DrawRectangleTooltipInfo")],Et);var zt=e(99675),Ct=e(70474),St=e(9862),Nt=e(46517);function Rt(t){const{directionOptions:i,geometryType:e,sketchOptions:n,tooltipInfos:s}=t,r=i=>{const e=Zt(t).mode,n=s[i].elevation;"relative-to-ground"===e||"relative-to-scene"===e||"on-the-ground"===e?n.lock(Kt(t)):n.unlock()};switch(e){case"polygon":case"polyline":r(e),(t=>{if(i){const e=s[t].direction;e.committed=i.angle,e.unlockOnVertexPlacement=!1,n.values.directionMode=i.mode}})(e);break;case"point":case"mesh":r(e)}}function Ot(t){Gt(t)?.allFields.forEach((t=>{t.unlockOnVertexPlacement&&t.unlock()}))}function Gt({geometryType:t,graphic:i,tooltipInfos:e}){return"multipoint"===t||i?.geometry?.type!==Dt[t]?null:e[t]}const Dt={point:"point",mesh:"mesh",polyline:"polyline",polygon:"polygon",circle:"polygon",rectangle:"polygon"};function Vt(t,i,e){const{drawOperation:n,view:s,sketchOptions:r}=e,{cursorVertex:o}=n;if(t.sketchOptions=r,t.viewType=s.type,t.setLocationFromPoint(i,Ut(e)),Ft(t.elevation,e),!o)return void(n.constraints=void 0);const h=o;n.constraints={context:Jt(h,e),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:null,direction:null}}function Lt(t,i){const{drawOperation:e,sketchOptions:n,view:s}=i,{cursorVertex:r,lastVertex:o,secondToLastVertex:h}=e,a=n.values.effectiveDirectionMode;t.sketchOptions=n,t.viewType=s.type;const u=o&&r?(0,St.Kt)(o,r)??yt.r7:null;if(t.distance.actual=u,t.distance.readOnly=null==o,t.direction.actual=null,t.direction.readOnly=!0,o&&r&&("absolute"===a||h)){const i=(0,zt.uR)(h,o,r,a);t.direction.actual=i??yt.n0,t.direction.readOnly=!1}t.setLocationFromPoint(r,Ut(i)),Ft(t.elevation,i);const c=function(t,{sketchOptions:i}){const e=i.tooltips.xyMode;return"auto"===e?t?"direction-distance":"coordinates":e}(o,i);t.xyMode=c,t.direction.visible="direction-distance"===c,t.distance.visible="direction-distance"===c,t.effectiveX.visible="coordinates"===c,t.effectiveY.visible="coordinates"===c;const l=r??o;e.constraints=l?{context:Jt(l,i),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:t.distance.committed,direction:t.direction.committed}:void 0}function Ft(t,i){const{drawOperation:e}=i,n=e?.cursorVertex??e?.lastVertex;t.actual=(0,Nt.Of)(n)??Kt(i),t.visible=e.hasZ,t.readOnly=!1,t.showAsZ=!0}function qt(t){const i=t.createOperationGeometry?.full;return"polygon"!==i?.type?yt.iT:(0,Ct.n)(i)??yt.iT}function Bt(t){const i=t.createOperationGeometry?.rectangle?.midpoints;return(null!=i?(0,St.Kt)(i.left,i.right):null)??yt.r7}function Ht(t){const i=t.createOperationGeometry?.rectangle?.midpoints;return(null!=i?(0,St.Kt)(i.top,i.bottom):null)??yt.r7}function Zt(t){return t.drawOperation.elevationInfo??gt.qt}function Ut(t){return t.drawOperation.coordinateHelper.spatialReference}function Kt(t){const i=(0,S.G9)(Ut(t));return(0,yt.d_)(t.defaultZ*i,"meters")}function Jt(t,i){return(0,mt.hj)(t,i.view,Ut(i),Zt(i),i.drawOperation.coordinateHelper.hasZ(),i.sketchOptions.values.effectiveDirectionMode)}var Xt=e(83202),Wt=e(37102),Yt=e(25638);let $t=class extends(_.A.EventedMixin(Xt.g)){constructor(t){super(t),this._graphic=null,this._coordinateFormatterLoadTask=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new Wt.A}initialize(){const{view:t}=this;this.internalGraphicsLayer=new j.default({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer);const i=this.drawOperation=this.makeDrawOperation();this.tooltipInfos=function(t,i){return{point:new jt({sketchOptions:i,viewType:t}),polyline:new It({sketchOptions:i,viewType:t}),polygon:new Pt({sketchOptions:i,viewType:t}),mesh:new Tt({sketchOptions:i,viewType:t}),rectangle:new Et({sketchOptions:i}),circle:new _t({sketchOptions:i})}}(t.type,this.sketchOptions);const e=(0,xt.A)((()=>({view:t,options:this.sketchOptions.tooltips})));this.tooltip=e,Rt(this._tooltipsContext),this._coordinateFormatterLoadTask=(0,M.UT)((()=>(0,T.Hh)())),this.addHandles([i.on("vertex-add",(t=>this.onVertexAdd(t))),i.on("vertex-remove",(t=>this.onVertexRemove(t))),i.on("vertex-update",(t=>this.onVertexUpdate(t))),i.on("cursor-update",(t=>this.onCursorUpdate(t))),i.on("cursor-remove",(()=>this._updateGraphic())),i.on("complete",(t=>this.onComplete(t))),this._coordinateFormatterLoadTask,e.on("paste",(t=>(0,xt.HA)(t,this.activeTooltipInfo))),(0,u.watch)((()=>this.cursor),(t=>{i.cursor=t}),u.pc),(0,Yt.fm)((()=>{const{activeTooltipInfo:t,sketchOptions:i}=this;(function(t,i){switch(t?.type){case"draw-point":!function(t,i){const e=i.graphic?.geometry;"point"===e?.type&&(Vt(t,e,i),t.helpMessage=bt("point",e))}(t,i);break;case"draw-polyline":!function(t,i){const{createOperationGeometry:e,drawOperation:n}=i,s=null!=e?e.full:null;s&&"polyline"!==s.type||(Lt(t,i),t.totalLength.actual=n.lastVertex?(s?(0,St.ob)(s):null)??yt.r7:null,t.helpMessage=bt("polyline",s))}(t,i);break;case"draw-polygon":!function(t,i){const{createOperationGeometry:e,drawOperation:n}=i,s=null!=e?e.full:null;s&&"polygon"!==s.type||(Lt(t,i),t.area.actual=n.lastVertex?(s?(0,Ct.n)(s):null)??yt.iT:null,t.helpMessage=bt("polygon",s))}(t,i);break;case"draw-rectangle":!function(t,i){t.sketchOptions=i.sketchOptions,t.xSize=Bt(i),t.ySize=Ht(i),t.area=qt(i)}(t,i);break;case"draw-circle":!function(t,i){const{forceUniformSize:e,sketchOptions:n}=i;t.sketchOptions=n,t.radius=e?function({createOperationGeometry:t}){return(null!=t?.circle?.center&&null!=t.circle.edge?(0,St.Kt)(t.circle.center,t.circle.edge):null)??yt.r7}(i):null,t.xSize=e?null:Bt(i),t.ySize=e?null:Ht(i),t.area=qt(i)}(t,i);break;case"draw-mesh":!function(t,i){const{graphic:e,view:n}=i,s=e?.geometry;"3d"!==n.type||s&&"mesh"!==s.type||(Vt(t,s?.origin,i),s&&(0,xt.Ue)(t,s),t.helpMessage=function(t,i){const e=t?.geometry;if(!t||"mesh"!==e?.type||!i)return;const{renderCoordsHelper:n,elevationProvider:s}=i,{camera:r}=i.state,{extent:o}=e,{center:h,spatialReference:a}=o,u=(0,S.GA)(a),c=(0,S.G9)(a),l=(0,S.GA)(n.spatialReference),f=o.width*u,p=o.height*c,d=(o.zmax??0)*c,v=d-(o.zmin??0)*c,y=Math.max(f,p,v)/l,{x:g,y:b}=h,w=h.z??0;(0,N.i)(wt,g,b,w),n.toRenderCoords(wt,a,wt);const m=y/r.computeScreenPixelSizeAt(wt);if(m>1*r.width)return"meshTooClose";if(m<20)return"meshTooFar";const x=(0,gt.bh)(t),{absoluteZ:M}=(0,gt.Q5)(g,b,d,a,i,x);return M<(s.getElevation(g,b,w,a,"ground")??0)*c+.1*v?"meshUnderground":"mesh"}(e,n))}(t,i)}})(t,this._tooltipsContext),e.info=i.tooltips.effectiveEnabled?t:null})),(0,Yt.fm)((()=>{i.constraintZ=function(t){const{geometryType:i,tooltipInfos:e}=t;switch(i){case"point":case"mesh":case"polyline":case"polygon":{const n=e[i].elevation.committed;if(!n)return;return(0,yt.l3)(n,"meters")/(0,S.G9)(Ut(t))}default:return}}(this._tooltipsContext)}),u.OH)]),this.finishToolCreation()}destroy(){this.drawOperation=(0,A.pR)(this.drawOperation),this.tooltip=(0,A.pR)(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,A.pR)(this.internalGraphicsLayer),this._set("view",null)}get _drawSpatialReference(){return this.drawOperation.coordinateHelper.spatialReference}get _tooltipsContext(){return{createOperationGeometry:this._createOperationGeometry,defaultZ:this.defaultZ,directionOptions:this.directionOptions,drawOperation:this.drawOperation,forceUniformSize:this.forceUniformSize,geometryType:this.geometryType,graphic:this.graphic,sketchOptions:this.sketchOptions,tooltipInfos:this.tooltipInfos,view:this.view}}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}set mode(t){const i=this.drawOperation;i&&(i.drawingMode=t),this._set("mode",t)}get updating(){return this.drawOperation?.updating??!1}get undoRedo(){const{view:{type:t,map:i}}=this;return"2d"===t&&i&&"undoRedo"in i&&i.undoRedo instanceof x?i.undoRedo:null}set undoRedo(t){this._override("undoRedo",t)}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||(0,xt.wG)(t,this.tooltip)||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&Rt(this._tooltipsContext)}_destroyAllVisualizations(){this.removeHandles(ti.outline),this.removeHandles(ti.regularVertices),this.removeHandles(ti.activeVertex),this.removeHandles(ti.activeEdge),this.removeHandles(Qt)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const i=new o.default({...this.graphicProperties,symbol:this.graphicSymbol});return this._graphic=i,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(i),this.addHandles(this.initializeGraphic(i)),this.notifyChange("graphic"),this.addHandles((0,k.hA)((()=>{this.internalGraphicsLayer.remove(i),this._graphic===i&&(this._graphic=null)})),Qt),i}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(t={operationComplete:!1}){if(null==this.drawOperation)return;const{coordinateHelper:i,view:e,visualizationCursorVertex:n,lastVertex:s,committedVertices:r,geometryIncludingUncommittedVertices:o,numCommittedVertices:h}=this.drawOperation;if(!(h>0||null!=n))return;const a=t.operationComplete?r:o,u=a.length,c=null!=n?i.pointToArray(n):null,l=this._drawSpatialReference,f="3d"===e.type&&"global"===e.viewingMode,p=new I;p.committedVertices=r,p.cursorVertex=c;const{geometryType:d}=this;switch(d){case"point":case"mesh":p.full=i.arrayToPoint(a[0]);break;case"multipoint":p.full=u>0?function(t,i){return new st.A({points:t,spatialReference:i})}(a,l):null;break;case"polyline":case"polygon":u>0&&(p.full="polygon"===d?at([a],l,f,!0):ht([a],l,f),p.cursorEdge=null!=c&&s&&!(0,P.CI)(n,s)?ht([[c,i.pointToArray(s)]],l,f):null,p.outline=u>1?p.full:null);break;case"circle":case"rectangle":{if(p.committedVertices=p.cursorVertex=null,!u)break;const i=function(t,i){if("2d"===t.type)return new et(t.state.transform,t.spatialReference,i.length>2?i[2]:null);if("3d"===t.type){const e=i.length>2?new G.default({x:i[0],y:i[1],z:i[2],spatialReference:t.spatialReference}):new G.default({x:i[0],y:i[1],spatialReference:t.spatialReference});return new nt(t,e)}return null}(e,a[0]),n=a[0],s=i.makeMapPoint(n[0]+ei*e.resolution,n[1]);"circle"===d?1===u&&t.operationComplete?p.circle=vt([n,s],i,!0):2===u&&(this.forceUniformSize?p.circle=vt(a,i,this.centered):p.rectangle=function(t,i,e){const n=i.mapToLocalMultiple(t),s=n[0],r=n[1],o=Math.round(r.x-s.x),h=Math.round(r.y-s.y),a=tt(e?s.x:s.x+o/2,e?s.y:s.y+h/2),u=e?o:o/2,c=e?h:h/2,l=[],f=2*Math.PI/60;function p(t){const i=Math.cos(t),e=Math.sin(t);return tt(u*i+a.x,c*e+a.y)}for(let t=0;t<60;t++)l.push(p(t*f));l.push(l[0]);const{spatialReference:d,doUnnormalization:v}=i,y=at([l.map((t=>i.localToMap(t))).filter(z.Ru)],d,v,!1),g=i.localToMap(p(Math.PI/2)),b=i.localToMap(p(0)),w=i.localToMap(p(-Math.PI/2)),m=i.localToMap(p(Math.PI));return{geometry:y,midpoints:null!=g&&null!=b&&null!=w&&null!=m?{top:ot(g,d),right:ot(b,d),bottom:ot(w,d),left:ot(m,d)}:null}}(a,i,this.centered)):1===u&&t.operationComplete?p.rectangle=ut([n,s],i,!0):2===u&&(p.rectangle=this.forceUniformSize?ut(a,i,this.centered):function(t,i,e){let n=i.mapToLocalMultiple(t);if(1===n.length){const t=48,i=n[0];n=[tt(i.x-t,i.y+t),tt(i.x+t,i.y-t),tt(i.x+t,i.y-t),tt(i.x-t,i.y+t)]}const s=[],r={x:n[0].x,y:n[0].y},o={x:n[1].x,y:n[1].y};if(e){const t=Math.round(o.x-r.x),i=Math.round(o.y-r.y);s.push(tt(r.x-t,r.y-i),tt(o.x,r.y-i),tt(o.x,o.y),tt(r.x-t,o.y))}else s.push(tt(r.x,r.y),tt(o.x,r.y),tt(o.x,o.y),tt(r.x,o.y));return ct(at([s.map((t=>i.localToMap(t))).filter(z.Ru)],i.spatialReference,i.doUnnormalization,!0),s,i)}(a,i,this.centered)),p.full=null!=p.circle?p.circle.geometry:p.rectangle?.geometry,p.outline="polygon"===p.full?.type?p.full:null;break}default:return null}return p}initializeGraphic(t){return(0,k.hA)()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let i=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(i=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit("complete",{graphic:i,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return(0,k.hA)()}onCursorEdgeChanged(t){return(0,k.hA)()}onVertexAdd(t){Ot(this._tooltipsContext),this._updateGraphic(),function(t,i){const{drawOperation:e,view:n}=i,s=Gt(i),r=Zt(i);if("2d"===n.type||!t||"absolute-height"!==r.mode||1!==e?.numCommittedVertices||!s||"draw-polyline"!==s.type&&"draw-polygon"!==s.type||s.elevation.locked)return;const[o,h,a]=t,u=function(t,i,e,n,s){const{view:r,drawOperation:o}=s;if("3d"!==r.type||!o)return;e??=0;const h=Ut(s),a=Zt(s),u=(0,gt.Fo)(r,t,i,e,h,a,n);return(0,Nt.Qc)(u,h)??Kt(s)}(o,h,a,r,i);null!=u&&s.elevation.lock(u)}(t.vertices.at(0)?.coordinates,this._tooltipsContext),this.emit("vertex-add",t)}onVertexRemove(t){Ot(this._tooltipsContext),this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),ti.activeEdge):this.removeHandles(ti.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),ti.outline):this.removeHandles(ti.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),ti.regularVertices):this.removeHandles(ti.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),ti.activeVertex):this.removeHandles(ti.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(Qt)):this._destroyAllVisualizations()}get activeTooltipInfo(){return this._coordinateFormatterLoadTask?.finished?Gt(this._tooltipsContext):null}};(0,r._)([(0,c.MZ)()],$t.prototype,"_coordinateFormatterLoadTask",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"_createOperationGeometry",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"_tooltipsContext",null),(0,r._)([(0,c.MZ)({value:!0})],$t.prototype,"centered",null),(0,r._)([(0,c.MZ)()],$t.prototype,"cursor",null),(0,r._)([(0,c.MZ)({nonNullable:!0})],$t.prototype,"defaultZ",void 0),(0,r._)([(0,c.MZ)({constructOnly:!0})],$t.prototype,"directionOptions",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"drawOperation",void 0),(0,r._)([(0,c.MZ)({value:!0})],$t.prototype,"enabled",null),(0,r._)([(0,c.MZ)({value:!0})],$t.prototype,"forceUniformSize",null),(0,r._)([(0,c.MZ)({constructOnly:!0})],$t.prototype,"geometryType",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"graphic",null),(0,r._)([(0,c.MZ)({constructOnly:!0})],$t.prototype,"graphicProperties",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"graphicSymbol",null),(0,r._)([(0,c.MZ)({constructOnly:!0})],$t.prototype,"hasZ",void 0),(0,r._)([(0,c.MZ)({constructOnly:!0})],$t.prototype,"geometryToPlace",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"mode",null),(0,r._)([(0,c.MZ)()],$t.prototype,"snappingManager",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"snapToScene",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"tooltip",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"tooltipInfos",void 0),(0,r._)([(0,c.MZ)({constructOnly:!0,type:Wt.A})],$t.prototype,"sketchOptions",void 0),(0,r._)([(0,c.MZ)()],$t.prototype,"updating",null),(0,r._)([(0,c.MZ)({constructOnly:!0,nonNullable:!0})],$t.prototype,"view",void 0),(0,r._)([(0,c.MZ)({constructOnly:!0})],$t.prototype,"undoRedo",null),(0,r._)([(0,c.MZ)()],$t.prototype,"activeTooltipInfo",null),$t=(0,r._)([(0,l.$)("esri.views.draw.DrawGraphicTool")],$t);const Qt=Symbol("create-operation-graphic"),ti={outline:Symbol("outline-visual"),regularVertices:Symbol("regular-vertices-visual"),activeVertex:Symbol("active-vertex-visual"),activeEdge:Symbol("active-edge-visual")};function ii(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const ei=48},85499:function(t,i,e){e.d(i,{O0:function(){return O}});var n=e(53804),s=e(83525),r=e(48996),o=e(21609),h=e(95929),a=e(7213),u=e(60539),c=e(85876),l=e(28181),f=e(13520),p=e(23502),d=(e(58941),e(40633),e(65953)),v=e(72952),y=e(20248),g=e(42413),b=e(68945),w=e(65420);const m="click";class x{constructor({consumesClicks:t,grabbableForEvent:i}){this.events=new r.A,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=t,this.grabbableForEvent=i}destroy(){}intersectionDistance(t,i){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}var M=e(50517),_=e(2831),k=e(2623),A=e(7819),T=e(92100),j=e(7768),P=e(50822),I=e(58144),E=e(45908),z=(e(13798),e(48961));let C=class extends s.A{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=(0,u.sg)((async(t,i,e,n)=>{const s=this._frameTask;if(null==s)return;const r=await s.schedule((()=>i.snap({...t,context:e,signal:n})),n);r.valid&&await s.schedule((()=>{this.stagedPoint=r.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=i.update({...this._snapPoints,context:e}))}),n)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t="3d"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(z.W6.SNAPPING):z.nu}destroy(){this._abortController=(0,h.DC)(this._abortController),this._frameTask=(0,h.xt)(this._frameTask)}update(t,i,e){this._snapPoints=t;const{point:n,scenePoint:s}=t,r=i.update({point:n,scenePoint:s,context:e});return this.stagedPoint=r,r}async snap(t,i,e){const{point:n,scenePoint:s}=t;return this.stagedPoint=i.update({point:n,scenePoint:s,context:e}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,i,e,this._abortController.signal)}async snapAgainNearPreviousMapPoint(t,i){null!=this._snapPoints&&await this.snap(this._snapPoints,t,i)}abort(){this._abortController=(0,h.DC)(this._abortController),this._snapPoints=null}};(0,n._)([(0,p.MZ)({constructOnly:!0})],C.prototype,"view",void 0),(0,n._)([(0,p.MZ)()],C.prototype,"stagedPoint",null),(0,n._)([(0,p.MZ)()],C.prototype,"constrainResult",void 0),(0,n._)([(0,p.MZ)()],C.prototype,"_stagedPoint",void 0),C=(0,n._)([(0,d.$)("esri.views.interactive.snapping.SnappingOperation")],C);var S=e(44425);const N=Symbol(),R=Symbol();let O=class extends(r.A.EventedMixin(s.A)){constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new c.A,this._stagedScreenPoint=null,this._stagedPointerType=null,this._updatingHandles=new y.U,this._stagedPointerId=null,this.constraintsEnabled=!1,this.constraints=void 0,this._getPointConstraint=(0,a.B)(j.cx),this._getPolylineOrPolygonConstraint=(0,a.B)(j.lJ),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new P.A,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,null==t.elevationInfo&&(this.elevationInfo=(0,b.bK)(!!t.hasZ))}initialize(){const{geometryType:t,view:i}=this,e=i.spatialReference,n="viewingMode"in i.state?i.state.viewingMode:w.RT.Local,s="segment"===t||"multipoint"===t?"polyline":t;this.coordinateHelper=(0,M.BV)(this.hasZ,this.hasM,e),this._editGeometryOperations=new A.p(new k.ZE(s,this.coordinateHelper),n),this._snappingOperation=new C({view:i}),this.addHandles([(0,l.watch)((()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this._constraint})),(({stagedPoint:t,constraint:i},e)=>{const{snappingOptions:n}=this;if(n&&(n.forceDisabled=null!=i&&(0,T.fT)(i)),null!=e&&t===e.stagedPoint&&i!==e.constraint)return this._onKeyboardBasedChange();this._processCursor(t??this._screenToMap(this._stagedScreenPoint))}),{equals:(t,i)=>t.stagedPoint===i.stagedPoint&&(0,h.CM)(t.constraint,i.constraint)}),(0,l.watch)((()=>this.view.viewpoint),((t,i)=>{t&&i&&(0,v.Ui)(t,i)&&this._onKeyboardBasedChange()}))]),this._activeComponent=new k.uA(e,n),this._editGeometryOperations.data.components.push(this._activeComponent);const r=this.segmentLabels;null!=r&&(r.context={view:i,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles((0,l.watch)((()=>this.labelOptions.enabled),(t=>{r.visible=t}),l.pc))),this.addHandles(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],(t=>{const i=t.vertices.map((t=>({componentIndex:0,vertexIndex:t.index,coordinates:this.coordinateHelper.vectorToArray(t.pos)}))),e=i.map((t=>t.coordinates)),n=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getFirstVertex()?.pos)??null;(0,g.CI)(n,this.firstVertex)||(this.firstVertex=n);const s=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getLastVertex()?.pos)??null;(0,g.CI)(s,this.lastVertex)||(this.lastVertex=s);const r=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.edges.at(-1)?.leftVertex?.pos)??null;switch((0,g.CI)(r,this.secondToLastVertex)||(this.secondToLastVertex=r),this._processCursor(this.cursorVertex),t.type){case"vertex-add":this.emit(t.type,{...t,added:e,vertices:i});break;case"vertex-update":this.emit(t.type,{...t,updated:e,vertices:i});break;case"vertex-remove":this.emit(t.type,{...t,removed:e,vertices:i})}})));const o=this._manipulator=new x({consumesClicks:!1,grabbableForEvent:t=>"click"!==this.drawingMode||"touch"===t.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(o),o.grabbable="point"!==t,this.addHandles([o.events.on("immediate-click",(t=>this._onImmediateClick(t))),o.events.on("immediate-double-click",(t=>this._onImmediateDoubleClick(t))),(0,l.watch)((()=>this.drawingMode),(()=>{this.removeHandles(N),this.addHandles(this._createManipulatorDragPipeline(o),N)}),l.pc),(0,l.watch)((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:t})=>{o.cursor=t}),l.pc)]),(0,S.BY)(this,(()=>{const t=this.view.inputManager.latestPointerType??"mouse",i=this._getSnappingContext(t);if(null!=this.snappingManager){const t=this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,i);this._updatingHandles.addPromise((0,u.QZ)(t))}}))}destroy(){(0,h.pR)(this.segmentLabels),(0,h.pR)(this._snappingOperation),this._editGeometryOperations=(0,h.pR)(this._editGeometryOperations),this._updatingHandles.destroy()}get _isDragging(){const{_stagedPointerId:t,_manipulator:i}=this;return null!=t&&this._pointerDownStates.has(t)||i.grabbing||!i.interactive}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return"3d"===this.view.type&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((t=>this.coordinateHelper.vectorToArray(t.pos)))}get _constraint(){const{constraints:t,constraintsEnabled:i}=this;if(t&&i)switch(this.geometryType){case"point":return this._getPointConstraint(t);case"polygon":case"polyline":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t)}}set drawingMode(t){this._set("drawingMode",t??m)}get effectiveCursor(){return this.loading?"progress":this._hideDefaultCursor?null:this.cursor||"crosshair"}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get cursorVertex(){return this._get("cursorVertex")}get visualizationCursorVertex(){return"mouse"===this._stagedPointerType?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:i,firstVertex:e,geometryType:n}=this;return"polygon"===n&&(0,g.fk)(t,e)||(0,g.fk)(t,i)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:i,coordinateHelper:e}=this,n=t.slice();return null!=i&&n.push(e.pointToArray(i)),n}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;null!=t&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}complete(t){const i=t?.aborted||!1;this._snappingOperation.abort(),this.snappingManager?.doneSnapping();const{geometryType:e,numCommittedVertices:n}=this,s="multipoint"===e&&0===n||"polyline"===e&&n<2||"polygon"===e&&n<3;"segment"!==e&&"point"!==e||this.commitStagedVertex(),this._createOperationCompleted=!s,(this.isCompleted||i)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit("complete",{vertices:this.committedVertices.map(((t,i)=>({componentIndex:0,vertexIndex:i,coordinates:t}))),aborted:i,type:"complete"}))}onInputEvent(t){switch(t.type){case"pointer-down":this._pointerDownStates.add(t.pointerId);break;case"pointer-up":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case"pointer-move":return this._onPointerMove(t);case"hold":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){const i=(0,o.o8)(this.cursorVertex),e=(0,o.o8)(t),n=e&&(this._updateAndGetEffectiveDrawSurface()?.constrainZ(e)??e),s=this._snapToClosingVertex(n),r=this._applyConstraints(s);(0,g.fk)(i,r)||(this._set("cursorVertex",r),this.segmentLabels?.set("stagedVertex",null!=r?this.coordinateHelper.pointToVector(r):null),null==r||"mouse"!==this._stagedPointerType?this.emit("cursor-remove"):this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(r)}],operation:"apply",type:"vertex-update"}))}_snapToClosingVertex(t){if(null==t||this._isDragging||"polygon"!==this.geometryType||this.numCommittedVertices<=2)return t;const i=this._mapToScreen(t);if(!i)return t;const e=this._activeComponent;return this._vertexWithinPointerDistance(e.vertices[0].pos,i)?this.firstVertex:this._vertexWithinPointerDistance(e.vertices.at(-1).pos,i)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case"click":return this._createManipulatorDragPipelineClick(t);case"freehand":return this._createManipulatorDragPipelineFreehand(t);case"hybrid":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return(0,_.Xt)(t,((t,i,e,n)=>{const s="touch"===n&&this._snappingEnabled;if(this.isCompleted||!s)return;const{snappingStep:r,cancelSnapping:o}=(0,E.L)({predicate:()=>s,snappingManager:this.snappingManager,snappingContext:new I.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer,drawConstraints:this.constraints}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});e=e.next((t=>(s&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),t))).next(o),i.next(this._screenToMapDragEventStep()).next((t=>("start"===t.action&&(this._processCursor(t.mapStart),("segment"===this.geometryType||s&&!this.numCommittedVertices)&&this.commitStagedVertex()),t))).next((0,_.pg)(this.view,this.elevationInfo)).next(...r).next((t=>(s&&(this._processCursor(t.mapEnd),"end"===t.action&&this.commitStagedVertex()),t))).next((t=>("end"===t.action&&("mouse"!==this._stagedPointerType&&this._snappingOperation.abort(),"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()),t)))}))}_createManipulatorDragPipelineFreehand(t){return(0,_.Xt)(t,((t,i)=>{this.isCompleted||i.next(this._screenToMapDragEventStep()).next((t=>("start"===t.action&&(this._snappingOperation.abort(),null==this.committableVertex&&this._processCursor(t.mapStart),"segment"===this.geometryType&&this.commitStagedVertex()),t))).next((t=>{switch(t.action){case"start":case"update":this._processCursor(t.mapEnd),"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":this.complete()}return t}))}))}_createManipulatorDragPipelineHybrid(t){return(0,_.Xt)(t,((t,i)=>{this.isCompleted||i.next(this._screenToMapDragEventStep()).next((t=>("start"===t.action&&(this._snappingOperation.abort(),this.addHandles(this._editGeometryOperations.createUndoGroup(),R),this._processCursor(t.mapStart),this.commitStagedVertex()),t))).next((t=>{switch(t.action){case"start":case"update":this._processCursor(t.mapEnd),"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":"mouse"!==this._stagedPointerType&&this._snappingOperation.abort(),this.removeHandles(R),"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return t}))}))}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:i,geometryType:e,numCommittedVertices:n}=this;return t?null!=i||"segment"===e&&n>0:("segment"===e||"polygon"===e)&&n>0}_updateAndGetEffectiveDrawSurface(){const{constraintsEnabled:t,coordinateHelper:i,drawSurface:e,elevationDrawSurface:n,snapToSceneEnabled:s}=this;if(null==n)return e;if(!this.hasZ)return n.defaultZ=null,n;const r=this.elevationInfo?.mode;let o=this.defaultZ,h=t||"absolute-height"===r;return null!=s&&(h=s),"on-the-ground"===r&&(h=!1),this._drawAtFixedElevation&&(o=(t?this.constraintZ:null)??i.getZ(this._activeComponent.vertices[0].pos),h=!1),h?e:(n.defaultZ=o,n)}_mapToScreen(t){return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),"click"===this.drawingMode&&"touch"===t.pointerType&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!("mouse"===t.pointerType&&2===t.button||this._manipulator.dragging))try{const{drawingMode:i,geometryType:e}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const n=this._screenToMap(t.screenPoint);if(null==n)return;if(null==n||"freehand"===i&&"point"!==e)return;if(this._snappingEnabled&&null!=this.cursorVertex||this._processCursor(n),null==this.committableVertex)return void this.complete();this.commitStagedVertex(),"mouse"!==t.pointerType&&this._processCursor(null),("freehand"===i||"point"===e||"segment"===e&&2===this.numCommittedVertices||"segment"===e&&"hybrid"===i&&1===this.numCommittedVertices)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),t.stopPropagation())}_onPointerMove(t){const i=(0,f.tc)(t.x,t.y);this._stagedScreenPoint=i,this._stagedPointerType=t.pointerType,this._stagedPointerId=t.pointerId,this._isDragging?this._snappingOperation.abort():(t.stopPropagation(),this._processCursorMovementRelativeToSurface(i,t.pointerType))}_onKeyboardBasedChange(){"mouse"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._isDragging?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,i){const e=this._snappingOperation,n=this._screenToMap(t),s=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(null==n)return this._hideDefaultCursor=!0,this._processCursor(null),void e.abort();this._hideDefaultCursor=!1;const r=this.snappingManager;if(null==r)return this._processCursor(n),void e.abort();const o=this._getSnappingContext(i);this._updatingHandles.addPromise((0,u.QZ)(e.snap({point:n,scenePoint:s},r,o)))}_applyConstraints(t){const{_constraint:i,constraints:e}=this;if(!t||!e||!i)return t;const{context:n}=e,s=(0,j.dz)(t,n),r=s?i.closestTo(s):void 0;if(!r)return t;const o=(0,j.tC)(r,t,n),h="2d"===this.view.type||"absolute-height"!==n.elevationInfo.mode;return null!=o&&h&&null!=this.constraintZ&&this.hasZ&&(o.z=this.constraintZ),o}_screenToMap(t){return t?this._updateAndGetEffectiveDrawSurface()?.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return i=>{if("start"===i.action&&(t=this._screenToMap(i.screenStart)),null==t)return null;const e=this._screenToMap(i.screenEnd);return null!=e?{...i,mapStart:t,mapEnd:e}:null}}_vertexWithinPointerDistance(t,i){const e=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return null!=e&&function(t,i){const e=t.x-i.x,n=t.y-i.y;return e*e+n*n<=25}(e,i)}_getSnappingContext(t){const i=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new I.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=i?{value:i,elevationInfo:this.elevationInfo}:null,drawConstraints:this.constraints})}};(0,n._)([(0,p.MZ)()],O.prototype,"_hideDefaultCursor",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"_stagedPointerId",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"_isDragging",null),(0,n._)([(0,p.MZ)()],O.prototype,"_snappingOperation",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"_snappingEnabled",null),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"graphic",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"constraintsEnabled",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"constraints",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"_constraint",null),(0,n._)([(0,p.MZ)()],O.prototype,"constraintZ",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"defaultZ",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"isDraped",void 0),(0,n._)([(0,p.MZ)({value:m})],O.prototype,"drawingMode",null),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"elevationDrawSurface",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"elevationInfo",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0,type:P.A})],O.prototype,"labelOptions",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"geometryType",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"hasM",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"hasZ",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"cursor",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"effectiveCursor",null),(0,n._)([(0,p.MZ)()],O.prototype,"loading",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"manipulators",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"drawSurface",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"segmentLabels",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"snappingManager",void 0),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"snappingVisualizer",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"snapToSceneEnabled",void 0),(0,n._)([(0,p.MZ)({readOnly:!0})],O.prototype,"cursorVertex",null),(0,n._)([(0,p.MZ)({readOnly:!0})],O.prototype,"visualizationCursorVertex",null),(0,n._)([(0,p.MZ)()],O.prototype,"committableVertex",null),(0,n._)([(0,p.MZ)()],O.prototype,"firstVertex",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"lastVertex",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"secondToLastVertex",void 0),(0,n._)([(0,p.MZ)()],O.prototype,"updating",null),(0,n._)([(0,p.MZ)({constructOnly:!0})],O.prototype,"view",void 0),O=(0,n._)([(0,d.$)("esri.views.draw.DrawOperation")],O)},99113:function(t,i,e){e.d(i,{IX:function(){return c},rT:function(){return u},uF:function(){return l}}),e(50917);var n=e(13520),s=e(46460),r=e(45328),o=e(68945),h=e(57165),a=e(45532);class u{constructor(t,i,e,n=null){this._elevationInfo=t,this.defaultZ=i,this._view=e,this._excludeGraphics=n}screenToMap(t){const{defaultZ:i,_view:e}=this,s=e.sceneIntersectionHelper.intersectElevationFromScreen((0,n.gs)(t.x,t.y),this._elevationInfo,i??0,this._excludeGraphics);return null==i&&null!=s&&(s.z=void 0),s}mapToScreen(t){const i=(0,s.T)(t.x,t.y,(0,o.wS)(this._view,t,this._elevationInfo),t.spatialReference);return this._view.toScreen(i)}constrainZ(t){const{defaultZ:i}=this;return null!=i&&t.z!==i&&((t=(0,r.EL)(t)).z=i),t}}class c{constructor(t,i,e=[]){this.view=t,this.elevationInfo=i,this.exclude=e}screenToMap(t){const i=this.view.toMap(t,{exclude:this.exclude,excludeLabels:!0});return null!=i&&(i.z=(0,o.id)(i,this.view,this.elevationInfo)),i}mapToScreen(t){let i=t;return null!=this.elevationInfo&&(i=(0,s.T)(t.x,t.y,(0,o.wS)(this.view,t,this.elevationInfo),t.spatialReference)),this.view.toScreen(i)}constrainZ(t){return t}}class l{constructor(t,i=!1,e=0){this.view=t,this.hasZ=i,this.defaultZ=e,this.mapToScreen=i=>t.toScreen(i),this.screenToMap=i?i=>{const n=t.toMap(i);return n.z=e,n}:i=>t.toMap(i)}constrainZ(t){const{defaultZ:i}=this;return this.hasZ&&t.z!==i&&((t=(0,r.EL)(t)).z=i),t}}class f{screenToMap(t){const{x:i,y:e}=t;return new a.default({x:i,y:e,spatialReference:f.spatialReference})}mapToScreen(t){return(0,n.tc)(t.x,t.y)}constrainZ(t){return t}}f.spatialReference=new h.A},67060:function(t,i,e){e.d(i,{UT:function(){return l},hs:function(){return u},lR:function(){return a},wW:function(){return c}});var n=e(15774),s=e(87416),r=e(35068),o=e(38441);function h(t,i,e,n){if(null==n||t.hasZ||(n=void 0),"point"===t.type)return t.x+=i,t.y+=e,t.hasZ&&null!=n&&(t.z+=n),t;if("multipoint"===t.type){const s=t.points;for(let t=0;t<s.length;t++)s[t]=f(s[t],i,e,n);return t}if("extent"===t.type)return t.xmin+=i,t.xmax+=i,t.ymin+=e,t.ymax+=e,null!=n&&(t.zmin??=0,t.zmin+=n,t.zmax??=0,t.zmax+=n),t;const s=(0,o.$K)(t),r="polyline"===t.type?t.paths:t.rings;for(let t=0;t<s.length;t++){const r=s[t];for(let t=0;t<r.length;t++)r[t]=f(r[t],i,e,n)}return"paths"in t?t.paths=r:t.rings=r,t}function a(t,i,e,n,s){const r=t.clone(),a=n.resolution;if("point"===r.type){if(s)h(r,i*a,-e*a);else{const t=n.state.transform,s=n.state.inverseTransform,o=t[0]*r.x+t[2]*r.y+t[4],h=t[1]*r.x+t[3]*r.y+t[5];r.x=s[0]*(o+i)+s[2]*(h+e)+s[4],r.y=s[1]*(o+i)+s[3]*(h+e)+s[5]}return r}if("multipoint"===r.type){if(s)h(r,i*a,-e*a);else{const t=r.points,s=n.state.transform,o=n.state.inverseTransform;for(let n=0;n<t.length;n++){const r=t[n],h=s[0]*r[0]+s[2]*r[1]+s[4],a=s[1]*r[0]+s[3]*r[1]+s[5],u=o[0]*(h+i)+o[2]*(a+e)+o[4],c=o[1]*(h+i)+o[3]*(a+e)+o[5];t[n]=p(r,u,c,void 0)}}return r}if("extent"===r.type){if(s)h(r,i*a,-e*a);else{const t=n.state.transform,s=n.state.inverseTransform,o=t[0]*r.xmin+t[2]*r.ymin+t[4],h=t[1]*r.xmin+t[3]*r.ymin+t[5],a=t[0]*r.xmax+t[2]*r.ymax+t[4],u=t[1]*r.xmax+t[3]*r.ymax+t[5];r.xmin=s[0]*(o+i)+s[2]*(h+e)+s[4],r.ymin=s[1]*(o+i)+s[3]*(h+e)+s[5],r.xmax=s[0]*(a+i)+s[2]*(u+e)+s[4],r.ymax=s[1]*(a+i)+s[3]*(u+e)+s[5]}return r}if(s)h(r,i*a,-e*a);else{const t=(0,o.$K)(r),s="polyline"===r.type?r.paths:r.rings,h=n.state.transform,a=n.state.inverseTransform;for(let n=0;n<t.length;n++){const s=t[n];for(let t=0;t<s.length;t++){const n=s[t],r=h[0]*n[0]+h[2]*n[1]+h[4],o=h[1]*n[0]+h[3]*n[1]+h[5],u=a[0]*(r+i)+a[2]*(o+e)+a[4],c=a[1]*(r+i)+a[3]*(o+e)+a[5];s[t]=p(n,u,c,void 0)}}"paths"in r?r.paths=s:r.rings=s}return r}function u(t,i,e,n){if("point"===t.type){const{x:s,y:r}=t,o=n?n[0]:s,h=n?n[1]:r,a=t.clone(),u=(s-o)*i+o,c=(r-h)*e+h;return a.x=u,a.y=c,a}if("multipoint"===t.type){const h=(0,o.$K)(t),a=(0,s.vt)(),[u,c,l,f]=(0,r.Yz)(a,[h]),d=n?n[0]:(u+l)/2,v=n?n[1]:(f+c)/2,y=t.clone(),g=y.points;for(let t=0;t<g.length;t++){const n=g[t],[s,r]=n,o=(s-d)*i+d,h=(r-v)*e+v;g[t]=p(n,o,h,void 0)}return y}if("extent"===t.type){const{xmin:s,xmax:r,ymin:o,ymax:h}=t,a=n?n[0]:(s+r)/2,u=n?n[1]:(h+o)/2,c=t.clone();if(c.xmin=(s-a)*i+a,c.ymax=(h-u)*e+u,c.xmax=(r-a)*i+a,c.ymin=(o-u)*e+u,c.xmin>c.xmax){const t=c.xmin,i=c.xmax;c.xmin=i,c.xmax=t}if(c.ymin>c.ymax){const t=c.ymin,i=c.ymax;c.ymin=i,c.ymax=t}return c}const h=(0,o.$K)(t),a=(0,s.vt)(),[u,c,l,f]=(0,r.Yz)(a,h),d=n?n[0]:(u+l)/2,v=n?n[1]:(f+c)/2,y=t.clone(),g="polyline"===y.type?y.paths:y.rings;for(let t=0;t<h.length;t++){const n=h[t];for(let s=0;s<n.length;s++){const r=n[s],[o,h]=r,a=(o-d)*i+d,u=(h-v)*e+v;g[t][s]=p(r,a,u,void 0)}}return"paths"in y?y.paths=g:y.rings=g,y}function c(t,i,e,n,s,r){const o=Math.sqrt((e-t)*(e-t)+(n-i)*(n-i));return Math.sqrt((s-t)*(s-t)+(r-i)*(r-i))/o}function l(t,i,e,s=!1){const r=Math.atan2(i.y-e.y,i.x-e.x)-Math.atan2(t.y-e.y,t.x-e.x),o=Math.atan2(Math.sin(r),Math.cos(r));return s?o:(0,n.KJ)(o)}function f(t,i,e,n){return p(t,t[0]+i,t[1]+e,null!=t[2]&&null!=n?t[2]+n:void 0)}function p(t,i,e,n){const s=[i,e];return t.length>2&&s.push(null!=n?n:t[2]),t.length>3&&s.push(t[3]),s}},82067:function(t,i,e){e.d(i,{l:function(){return m}});var n=e(53804),s=e(83525),r=e(48996),o=e(28181),h=e(13520),a=e(23502),u=(e(58941),e(40633),e(13798),e(65953)),c=e(13786),l=e(20551),f=e(32501),p=e(46157),d=e(56763),v=e(68945),y=e(74661),g=e(6422),b=e(17921),w=e(33383);let m=class extends s.A{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set("graphic",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,i=t&&"elevationInfo"in t?t.elevationInfo:null,e=(0,v.ky)(this.graphic),n=i?i.offset:0;return new g.A({mode:e,offset:n})}set focusedSymbol(t){t!==this._get("focusedSymbol")&&(this._set("focusedSymbol",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get("grabbing")&&(this._set("grabbing",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get("hovering")&&(this._set("hovering",t),this._updateGraphicSymbol())}set selected(t){t!==this._get("selected")&&(this._set("selected",t),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:t?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new r.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(t){const i=this.graphic;if(!1===i.visible)return null;const e=i.geometry;if(null==e)return null;const n=this._get("focusedSymbol"),s=null!=n?n:i.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,t,e,s):this._intersectDistance3D(this.view,t,i)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,o.watch)((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),o.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,i,e,n){if(null==(n=n||(0,y.SF)(e)))return null;let s=this._circleCollisionCache;if("point"===e.type&&"cim"===n.type&&"CIMPointSymbol"===n.data.symbol?.type&&n.data.symbol.symbolLayers){const{offsetX:s,offsetY:r,size:o}=(0,b.T)(n),a=(0,h.WA)(i,M),u=o/2,l=t.toScreen(e),f=l.x+s,p=l.y+r;return(0,c.hG)(a,[f,p])<u*u?1:null}if("point"!==e.type||"simple-marker"!==n.type)return(0,w.t)(i,e,t)?1:null;if(null==s||!s.originalPoint.equals(e)){const i=e,r=t.spatialReference;if((0,p.canProjectWithoutEngine)(i.spatialReference,r)){const t=(0,p.project)(i,r);s={originalPoint:i.clone(),mapPoint:t,radiusPx:(0,h.Lz)(n.size)},this._circleCollisionCache=s}}if(null!=s){const e=(0,h.WA)(i,M),r=t.toScreen?.(s.mapPoint);if(!r)return null;const o=s.radiusPx,a=r.x+(0,h.Lz)(n.xoffset),u=r.y-(0,h.Lz)(n.yoffset);return(0,c.hG)(e,[a,u])<o*o?1:null}return null}_intersectDistance3D(t,i,e){const n=t.toMap(i,{include:[e]});return n&&(0,d.g)(n,x,t.renderSpatialReference)?(0,l.j)(x,t.state.camera.eye):null}};(0,n._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],m.prototype,"graphic",null),(0,n._)([(0,a.MZ)()],m.prototype,"elevationInfo",null),(0,n._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],m.prototype,"view",void 0),(0,n._)([(0,a.MZ)({value:null})],m.prototype,"focusedSymbol",null),(0,n._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"layer",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"interactive",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"selectable",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"grabbable",void 0),(0,n._)([(0,a.MZ)({value:!1})],m.prototype,"grabbing",null),(0,n._)([(0,a.MZ)()],m.prototype,"dragging",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"hovering",null),(0,n._)([(0,a.MZ)({value:!1})],m.prototype,"selected",null),(0,n._)([(0,a.MZ)()],m.prototype,"cursor",void 0),m=(0,n._)([(0,u.$)("esri.views.interactive.GraphicManipulator")],m);const x=(0,f.vt)(),M=(0,h.gs)()},83202:function(t,i,e){e.d(i,{g:function(){return p}});var n,s,r=e(53804),o=e(83525),h=(e(58941),e(40633),e(60539)),a=e(23502),u=(e(13798),e(65953)),c=e(53551),l=e(78879);(s=n||(n={}))[s.WhenToolEditable=0]="WhenToolEditable",s[s.WhenToolNotEditable=1]="WhenToolNotEditable",s[s.Always=2]="Always";class f{constructor(){this._isToolEditable=!0,this._manipulators=new l.A,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=n.WhenToolEditable){this.addMany([t],i)}addMany(t,i=n.WhenToolEditable){for(const e of t){const t={manipulator:e,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.at(i).manipulator===t){const t=this._manipulators.splice(i,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,i){return this._manipulators.on(t,(t=>{i(t)}))}forEach(t){for(const i of this._manipulators.items)t(i)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((i=>t.push(i.manipulator))),t}intersect(t,i){let e=null,n=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:s,attached:r})=>{if(!r||!s.interactive)return;const o=s.intersectionDistance(t,i);null!=o&&o<n&&(n=o,e=s)})),e}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const i=t.manipulator;i.grabbing=!1,i.dragging=!1,i.hovering=!1,i.selected=!1,i.detach&&i.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===n.Always||(this._isToolEditable?t.visibilityPredicate===n.WhenToolEditable:t.visibilityPredicate===n.WhenToolNotEditable)}}let p=class extends o.A{constructor(t){super(t),this.manipulators=new f,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[c.PK.MANAGER,!0],[c.PK.USER,!0]]),this._creationFinishedResolver=(0,h.Tw)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible())}get editable(){return this.getEditableFlag(c.PK.USER)}set editable(t){this.setEditableFlag(c.PK.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){null!=this.view&&(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,i){this._editableFlags.set(t,i),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===c.PK.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}endDrag(){const t=this.view.inputManager.latestPointerLocation;if(!t)return;let i=!1;this.manipulators.forEach((({manipulator:e})=>{e.dragging&&(i=!0,e.events.emit("drag",{action:"end",start:t,screenPoint:t}))})),i&&(this.view.toolViewManager.activeTool=null)}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(c.PK.USER)&&this.getEditableFlag(c.PK.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};(0,r._)([(0,a.MZ)({constructOnly:!0})],p.prototype,"view",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"active",null),(0,r._)([(0,a.MZ)({value:!0})],p.prototype,"visible",null),(0,r._)([(0,a.MZ)({value:!0})],p.prototype,"editable",null),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"manipulators",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"updating",null),(0,r._)([(0,a.MZ)()],p.prototype,"cursor",null),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"automaticManipulatorSelection",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"hasFocusedManipulators",null),(0,r._)([(0,a.MZ)()],p.prototype,"hasGrabbedManipulators",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"hasHoveredManipulators",void 0),(0,r._)([(0,a.MZ)()],p.prototype,"firstGrabbedManipulator",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"created",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],p.prototype,"removeIncompleteOnCancel",void 0),p=(0,r._)([(0,u.$)("esri.views.interactive.InteractiveToolBase")],p)},50517:function(t,i,e){e.d(i,{BV:function(){return v}});var n,s,r=e(13786),o=e(1932),h=e(20551),a=e(32501),u=e(33400),c=e(41546),l=e(45532);(s=n||(n={}))[s.Z=0]="Z",s[s.M=1]="M";class f{constructor(t){this.spatialReference=t}createVector(){return this._tag((0,o.vt)())}pointToVector(t){return this._tag((0,o.fA)(t.x,t.y))}arrayToVector(t){return this._tag((0,o.fA)(t[0],t[1]))}vectorToArray(t){return[t[0],t[1]]}pointToArray(t){return[t.x,t.y]}vectorToPoint(t,i=new l.default){return i.x=t[0],i.y=t[1],i.z=void 0,i.m=void 0,i.spatialReference=this.spatialReference,i}arrayToPoint(t,i=new l.default){return i.x=t[0],i.y=t[1],i.z=void 0,i.m=void 0,i.spatialReference=this.spatialReference,i}vectorToDehydratedPoint(t,i){if(t)return i??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"},i.x=t[0],i.y=t[1],i.z=void 0,i.m=void 0,i.hasZ=!1,i.hasM=!1,i.spatialReference=this.spatialReference,i}lerp(t,i,e,n){return(0,r.Cc)(n,t,i,e)}addDelta(t,i,e){t[0]+=i,t[1]+=e}distance(t,i){return(0,r.Io)(t,i)}getZ(t,i=void 0){return i}hasZ(){return!1}getM(t,i=void 0){return i}hasM(){return!1}clone(t){return this._tag((0,o.ci)(t))}copy(t,i){return(0,r.C)(i,t)}fromXYZ(t){return this._tag((0,o.fA)(t[0],t[1]))}toXYZ(t,i=(0,a.vt)()){return(0,h.i)(i,t[0],t[1],0)}pointToXYZ(t,i=(0,a.vt)()){return(0,h.i)(i,t.x,t.y,0)}equals(t,i){return(0,r.aI)(t,i)}_tag(t){return t}}class p{constructor(t,i){this._valueType=t,this.spatialReference=i}createVector(){return this._tag((0,a.vt)())}pointToVector(t){return this._tag((0,a.fA)(t.x,t.y,this._valueType===n.Z?t.z:t.m))}arrayToVector(t){return this._tag((0,a.fA)(t[0],t[1],t[2]||0))}vectorToArray(t){return[t[0],t[1],t[2]]}pointToArray(t){return this._valueType===n.Z?[t.x,t.y,t.z]:[t.x,t.y,t.m]}vectorToPoint(t,i=new l.default){return i.x=t[0],i.y=t[1],i.z=this._valueType===n.Z?t[2]:void 0,i.m=this._valueType===n.M?t[2]:void 0,i.spatialReference=this.spatialReference,i}arrayToPoint(t,i=new l.default){return i.x=t[0],i.y=t[1],i.z=this._valueType===n.Z?t[2]:void 0,i.m=this._valueType===n.M?t[2]:void 0,i.spatialReference=this.spatialReference,i}vectorToDehydratedPoint(t,i){if(!t)return;i??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"};const e=this._valueType===n.Z,s=this._valueType===n.M;return i.x=t[0],i.y=t[1],i.z=e?t[2]:void 0,i.m=s?t[2]:void 0,i.hasZ=e,i.hasM=s,i.spatialReference=this.spatialReference,i}lerp(t,i,e,n){return(0,h.m)(n,t,i,e)}addDelta(t,i,e,s){t[0]+=i,t[1]+=e,this._valueType===n.Z&&(t[2]+=s)}distance(t,i){return this._valueType===n.Z?(0,h.j)(t,i):(0,r.Io)(t,i)}getZ(t,i=void 0){return this._valueType===n.Z?t[2]:i}hasZ(){return this._valueType===n.Z}getM(t,i=void 0){return this._valueType===n.M?t[2]:i}hasM(){return this._valueType===n.M}clone(t){return this._tag((0,a.ci)(t))}copy(t,i){return(0,h.c)(i,t)}fromXYZ(t,i=0,e=0){return this._tag((0,a.fA)(t[0],t[1],this._valueType===n.Z?t.length>2?t[2]:i:e))}toXYZ(t,i=(0,a.vt)()){return(0,h.i)(i,t[0],t[1],this._valueType===n.Z?t[2]:0)}pointToXYZ(t,i=(0,a.vt)()){return(0,h.i)(i,t.x,t.y,this._valueType===n.Z?t.z??0:0)}equals(t,i){return(0,h.H)(t,i)}_tag(t){return t}}class d{constructor(t){this.spatialReference=t}createVector(){return this._tag((0,c.vt)())}pointToVector(t){return this._tag((0,c.fA)(t.x,t.y,t.z,t.m))}arrayToVector(t){return this._tag((0,c.fA)(t[0],t[1],t[2]||0,t[3]||0))}vectorToArray(t){return[t[0],t[1],t[2],t[3]]}pointToArray(t){return[t.x,t.y,t.z,t.m]}vectorToPoint(t,i=new l.default){return i.x=t[0],i.y=t[1],i.z=t[2],i.m=t[3],i.spatialReference=this.spatialReference,i}arrayToPoint(t,i=new l.default){return i.x=t[0],i.y=t[1],i.z=t[2],i.m=t[3],i.spatialReference=this.spatialReference,i}vectorToDehydratedPoint(t,i){if(t)return i??={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"},i.x=t[0],i.y=t[1],i.z=t[2],i.m=t[3],i.hasZ=!0,i.hasM=!0,i.spatialReference=this.spatialReference,i}lerp(t,i,e,n){return(0,u.l)(n,t,i,e)}addDelta(t,i,e,n){t[0]+=i,t[1]+=e,t[2]+=n}distance(t,i){return(0,h.j)(t,i)}getZ(t){return t[2]}hasZ(){return!0}getM(t){return t[3]}hasM(){return!0}clone(t){return this._tag((0,c.ci)(t))}copy(t,i){return(0,u.c)(i,t)}fromXYZ(t,i=0,e=0){return this._tag((0,c.fA)(t[0],t[1],t.length>2?t[2]:i,e))}toXYZ(t,i=(0,a.vt)()){return(0,h.i)(i,t[0],t[1],t[2])}pointToXYZ(t,i=(0,a.vt)()){return(0,h.i)(i,t.x,t.y,t.z??0)}equals(t,i){return(0,u.e)(t,i)}_tag(t){return t}}function v(t,i,e){return t&&i?new d(e):i?new p(n.M,e):t?new p(n.Z,e):new f(e)}},2831:function(t,i,e){e.d(i,{EX:function(){return m},RS:function(){return j},Tp:function(){return M},Wp:function(){return p},Xt:function(){return l},an:function(){return f},bl:function(){return g},dp:function(){return b},mc:function(){return w},pg:function(){return A},rh:function(){return k},sO:function(){return x},y$:function(){return y}});var n=e(50659),s=(e(58941),e(21609),e(15774)),r=e(13520),o=e(46157),h=e(67376),a=e(45328),u=e(68945),c=e(7819);function l(t,i){return t.events.on("drag",function(t,i){let e=null,n=null;return s=>{if("cancel"===s.action)return void(null!=n&&(n.execute({action:"cancel"}),e=null,n=null));const r={action:s.action,screenStart:s.start,screenEnd:s.screenPoint};"start"===s.action&&null==e&&(e=new k,n=new k,i(t,e,n,s.pointerType,r)),null!=e&&e.execute(r),"end"===s.action&&null!=e&&(e=null,n=null)}}(t,i))}function f(t,i){const e=[t.x,t.y,t.z??0],n=i,s=[Math.cos(n),Math.sin(n)],r=Math.sqrt(s[0]*s[0]+s[1]*s[1]);if(0===r)return null;s[0]/=r,s[1]/=r;const o=t=>{const i=(t.x-e[0])*s[0]+(t.y-e[1])*s[1];t.x=e[0]+i*s[0],t.y=e[1]+i*s[1]};return t=>(o(t.mapStart),o(t.mapEnd),{...t,axis:s})}function p(t){let i=null;return e=>{if("start"===e.action&&(i=function(t,i){const e=t.operations;if(!e)return null;const n=e.data.geometry,s=(0,a.RS)(i);if(n.spatialReference.equals(s))return v(t,e,(()=>{}));if("mesh"!==n.type){const i=d(n,s);if(null==i)return null;const r=n.spatialReference;return v(t,c.p.fromGeometry(i,e.viewingMode),(()=>{const t=(0,o.project)(n,r);e.trySetGeometry(t)}))}if((0,h.CK)(n)){const i=d(n.origin,s);if(!i)return null;const r=n.spatialReference,h=c.p.fromGeometry(i,e.viewingMode);return v(t,e,(()=>{const t=(0,o.project)(h.data.geometry,r),i=t.x-n.origin.x,s=t.y-n.origin.y,a=(t.z??0)-(n.origin.z??0);e.move(i,s,a)}))}return null}(t,e.mapStart.spatialReference)),null==i)return null;const n=e.mapEnd.x-e.mapStart.x,s=e.mapEnd.y-e.mapStart.y,r=(e.mapEnd.z??0)-(e.mapStart.z??0);return i.move(n,s,r,e.action),{...e,translationX:n,translationY:s,translationZ:r}}}function d(t,i){return null==t?null:t.spatialReference.equals(i)?t.clone():(0,o.project)(t,i)}function v(t,i,e){let n=0,s=0,r=0;return{move:(o,h,a,u)=>{"start"===u&&(n=0,s=0,r=0);const c=o-n,l=h-s,f=a-r;i.move(c,l,f),n+=c,s+=l,r+=f,e(),"end"===u&&t.endInteraction?.()}}}function y(t,i=null,e){let n=null;const s=null==i||t.spatialReference?.equals(i)?t=>t:t=>null!=t?(0,o.project)(t,i):t,r={exclude:[],...e};return i=>{if("start"===i.action&&(n=s(t.toMap(i.screenStart,r))),null==n)return null;const e=s(t.toMap(i.screenEnd,r));return null!=e?{...i,mapStart:n,mapEnd:e}:null}}function g(t){const i=t.map((t=>p(t))).filter(n.Ru);return t=>{const e=t.mapEnd.x-t.mapStart.x,n=t.mapEnd.y-t.mapStart.y,s=t.mapEnd.z-t.mapStart.z;return i.forEach((i=>i(t))),{...t,translationX:e,translationY:n,translationZ:s}}}function b(t){const i=t.operations?.createResetState();return t=>(i?.remove(),t)}function w(t){const i=t.map((t=>b(t))).filter((t=>null!=t));return t=>(i.forEach((i=>i(t))),t)}function m(){let t=0,i=0,e=0;return n=>{"start"===n.action&&(t=n.mapStart.x,i=n.mapStart.y,e=n.mapStart.z);const s=n.mapEnd.x-t,r=n.mapEnd.y-i,o=n.mapEnd.z-e;return t=n.mapEnd.x,i=n.mapEnd.y,e=n.mapEnd.z,{...n,mapDeltaX:s,mapDeltaY:r,mapDeltaZ:o,mapDeltaSpatialReference:n.mapStart.spatialReference}}}function x(){let t=0,i=0;return e=>{"start"===e.action&&(t=e.screenStart.x,i=e.screenStart.y);const n=e.screenEnd.x-t,s=e.screenEnd.y-i;return t=e.screenEnd.x,i=e.screenEnd.y,{...e,screenDeltaX:n,screenDeltaY:s}}}function M(t,i){let e=null,n=0,o=0;return h=>{if("start"===h.action&&(e=t.toScreen?.(i),null!=e&&(e.x<0||e.x>t.width||e.y<0||e.y>t.height?e=null:(n=h.screenStart.x-e.x,o=h.screenStart.y-e.y))),null==e)return null;const a=(0,s.qE)(h.screenEnd.x-n,0,t.width),u=(0,s.qE)(h.screenEnd.y-o,0,t.height),c=(0,r.tc)(a,u);return h.screenStart=e,h.screenEnd=c,h}}const _=()=>{};class k{constructor(){this.execute=_}next(t,i=new k){return null!=t&&(this.execute=e=>{const n=t(e);null!=n&&i.execute(n)}),i}}function A(t,i,e=[]){if("2d"===t.type)return t=>t;let n=null;return s=>{"start"===s.action&&(n=t.toMap(s.screenStart,{exclude:e}),null!=n&&(n.z=(0,u.id)(n,t,i)));const r=t.toMap(s.screenEnd,{exclude:e});null!=r&&(r.z=(0,u.id)(r,t,i));const o=null!=n&&null!=r?{sceneStart:n,sceneEnd:r}:null;return{...s,scenePoints:o}}}function T(t,i,e){const n=i.elevationProvider.getElevation(t.x,t.y,t.z??0,t.spatialReference,"scene")??0,s=(0,a.EL)(t);return s.z=n,s.hasZ=!0,s.z=(0,u.id)(s,i,e),s}function j(t,i){if("2d"===t.type)return t=>t;let e=null;return n=>{"start"===n.action&&(e=T(n.mapStart,t,i));const s=T(n.mapEnd,t,i),r=null!=e&&null!=s?{sceneStart:e,sceneEnd:s}:null;return{...n,scenePoints:r}}}},2623:function(t,i,e){e.d(i,{uA:function(){return p},oH:function(){return f},ZE:function(){return d},Li:function(){return l},oF:function(){return y}});var n=e(50659),s=e(82547),r=e(48996),o=e(44740),h=e(91508),a=e(50517),u=e(57652),c=e(65420);class l{constructor(t){this.component=t,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(t){this._pos=t,this.component.unnormalizeVertexPositions()}}class f{constructor(t,i,e){this.component=t,this.leftVertex=i,this.rightVertex=e,this.type="edge",i.rightEdge=this,e.leftEdge=this}}class p{constructor(t,i){this._spatialReference=t,this._viewingMode=i,this.vertices=[],this.edges=[],this.index=null}unnormalizeVertexPositions(){this.vertices.length<=1||function(t,i){if(!i.supported)return;let e=1/0,n=-1/0;const s=i.upperBoundX-i.lowerBoundX;t.forEach((t=>{let r=t.pos[0];for(;r<i.lowerBoundX;)r+=s;for(;r>i.upperBoundX;)r-=s;e=Math.min(e,r),n=Math.max(n,r),t.pos[0]=r}));const r=n-e;s-r<r&&t.forEach((t=>{t.pos[0]<0&&(t.pos[0]+=s)}))}(this.vertices,function(t,i){const e=(0,u.Vp)(t);return i===c.RT.Global&&e?{supported:!0,lowerBoundX:e.valid[0],upperBoundX:e.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}(this._spatialReference,this._viewingMode))}updateVertexIndex(t,i){if(0===this.vertices.length)return;const e=this.vertices[0];let n=null,s=t,r=i;do{n=s,n.index=r++,s=n.rightEdge?n.rightEdge.rightVertex:null}while(null!=s&&s!==e);n.leftEdge&&n!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(n),this.vertices.length-1)}getFirstVertex(){return this.vertices.at(0)}getLastVertex(){return this.vertices.at(-1)}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(t,i){const e=this.vertices[t];this.vertices[t]=this.vertices[i],this.vertices[i]=e}iterateVertices(t){if(0===this.vertices.length)return;const i=this.vertices[0];let e=i;do{t(e,e.index),e=null!=e.rightEdge?e.rightEdge.rightVertex:null}while(e!==i&&null!=e)}}class d extends r.A{constructor(t,i){super(),this.type=t,this.coordinateHelper=i,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case"point":this._geometry=this._toPoint();break;case"polyline":this._geometry=this._toPolyline();break;case"polygon":this._geometry=this._toPolygon();break;case"mesh":break;default:(0,s.Xb)(this.type)}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}get allVertices(){return Array.from(this.iterateVertices())}*iterateVertices(){for(const t of this.components)for(const i of t.vertices)yield i}notifyChanges(t){this._dirty=!0,this.emit("change",t)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const t=[],i=this.coordinateHelper.vectorToArray;for(const e of this.components){if(e.vertices.length<1)continue;const n=[];let s=e.vertices.find((t=>null==t.leftEdge));const r=s;do{n.push(i(s.pos)),s=s.rightEdge?s.rightEdge.rightVertex:null}while(s&&s!==r);t.push(n)}return new h.A({paths:t,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const t=[],i=this.coordinateHelper.vectorToArray;for(const e of this.components){if(e.vertices.length<1)continue;const n=[],s=e.vertices[0];let r=s;const o=r;do{n.push(i(r.pos)),r=null!=r.rightEdge?r.rightEdge.rightVertex:null}while(r&&r!==o);e.isClosed()&&n.push(i(s.pos)),t.push(n)}return new o.A({rings:t,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,i){const e=t.spatialReference,s=(0,a.BV)(t.hasZ,t.hasM,e),r=new d(t.type,s);switch(t.type){case"polygon":!function(t,i,e){const s=i.spatialReference,r=t.coordinateHelper,o=i.rings;for(let i=0;i<o.length;++i){const h=o[i],a=new p(s,e);a.index=i;const u=h.length>2&&(0,n.aI)(h[0],h[h.length-1]),c=u?h.length-1:h.length;for(let t=0;t<c;++t){const i=r.arrayToVector(h[t]),e=new l(a);a.vertices.push(e),e.pos=i,e.index=t}const d=a.vertices.length-1;for(let t=0;t<d;++t){const i=a.vertices[t],e=a.vertices[t+1],n=new f(a,i,e);a.edges.push(n)}if(u){const t=new f(a,a.vertices[a.vertices.length-1],a.vertices[0]);a.edges.push(t)}t.components.push(a)}}(r,t,i);break;case"polyline":!function(t,i,e){const n=i.spatialReference,s=t.coordinateHelper,r=i.paths;for(let i=0;i<r.length;++i){const o=r[i],h=new p(n,e);h.index=i;const a=o.length;for(let t=0;t<a;++t){const i=s.arrayToVector(o[t]),e=new l(h);h.vertices.push(e),e.pos=i,e.index=t}const u=h.vertices.length-1;for(let t=0;t<u;++t){const i=h.vertices[t],e=h.vertices[t+1],n=new f(h,i,e);h.edges.push(n)}t.components.push(h)}}(r,t,i);break;case"point":v(r,t,i);break;case"mesh":v(r,t.origin,i),r._geometry=t,r._dirty=!1}return r}}function v(t,i,e){const n=i.spatialReference,s=t.coordinateHelper,r=new p(n,e);r.index=0;const o=new l(r);o.index=0,o.pos=s.pointToVector(i),r.vertices.push(o),t.components.push(r)}function y(t){return"mesh"===t.type}},7819:function(t,i,e){e.d(i,{p:function(){return A}});var n=e(48996),s=e(61226),r=e(32501),o=e(38441),h=e(2623),a=e(34358);class u{constructor(t,i,e){this._editGeometry=t,this._component=i,this._pos=e,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let t="redo";null==this._addedVertex&&(t="apply",this._addedVertex=new h.Li(this._component));const i=this._component.getLastVertex();if(null==i)this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let t=null;i.rightEdge&&(this._originalEdge=i.rightEdge,t=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,null==this._left&&(this._left=new h.oH(this._component,i,this._addedVertex)),this._component.edges.push(this._left),i.rightEdge=this._left,null!=this._originalEdge&&null!=t&&(null==this._right&&(this._right=new h.oH(this._component,this._addedVertex,t)),this._component.edges.push(this._right),t.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,i.index+1)}this._editGeometry.notifyChanges({operation:t,addedVertices:[this._addedVertex]})}undo(){null!=this._addedVertex&&(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),null!=this._left&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),null!=this._right&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),null!=this._originalEdge&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),null!=this._left?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}var c=e(57665);class l{constructor(t,i,e=0){this._editGeometry=t,this._vertices=i,this._minNumberOfVertices=e,this.removedVertices=null}apply(){let t="redo";if(null==this.removedVertices){const i=this.removedVertices=[];this._vertices.forEach((t=>{const e=this._removeVertex(t);null!=e&&i.push(e)})),t="apply"}else this.removedVertices.forEach((t=>{this._removeVertex(t.removedVertex)}));this._editGeometry.notifyChanges({operation:t,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((t=>{this._undoRemoveVertex(t)})),this._editGeometry.notifyChanges({operation:"undo",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(t){const i=t.component;if(i.vertices.length<=this._minNumberOfVertices)return null;const e={removedVertex:t,createdEdge:null},n=t.leftEdge,s=t.rightEdge;return i.vertices.splice(i.vertices.indexOf(t),1),n&&(i.edges.splice(i.edges.indexOf(n),1),n.leftVertex.rightEdge=null),s&&(i.edges.splice(i.edges.indexOf(s),1),s.rightVertex.leftEdge=null),0===t.index&&s&&this._vertices.length>0&&i.swapVertices(i.vertices.indexOf(s.rightVertex),0),n&&s&&(e.createdEdge=new h.oH(i,n.leftVertex,s.rightVertex),i.edges.push(e.createdEdge)),s&&i.updateVertexIndex(s.rightVertex,s.rightVertex.index-1),e}_undoRemoveVertex(t){const i=t.removedVertex,e=t.removedVertex.component,n=i.leftEdge,s=i.rightEdge;t.createdEdge&&e.edges.splice(e.edges.indexOf(t.createdEdge),1),e.vertices.push(i),n&&(e.edges.push(n),n.leftVertex.rightEdge=n),s&&(e.edges.push(s),s.rightVertex.leftEdge=s),e.updateVertexIndex(i,i.index)}}class f{constructor(t,i,e){this._editGeometry=t,this._edge=i,this._t=e,this.createdVertex=null,this._left=null,this._right=null}apply(){let t="redo";const i=this._edge,e=i.component,n=i.leftVertex,s=i.rightVertex;e.edges.splice(e.edges.indexOf(i),1),null==this.createdVertex&&(t="apply",this.createdVertex=new h.Li(i.component)),e.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(i.leftVertex.pos,i.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),null==this._left&&(this._left=new h.oH(e,n,this.createdVertex)),this._left.leftVertex.leftEdge?e.edges.push(this._left):e.edges.unshift(this._left),n.rightEdge=this._left,null==this._right&&(this._right=new h.oH(e,this.createdVertex,s)),e.edges.push(this._right),s.leftEdge=this._right,e.updateVertexIndex(this.createdVertex,n.index+1),this._editGeometry.notifyChanges({operation:t,addedVertices:[this.createdVertex]})}undo(){if(null==this.createdVertex||null==this._left||null==this._right)return null;const t=this._edge,i=t.component,e=this.createdVertex.leftEdge,n=this.createdVertex.rightEdge,s=e?.leftVertex,r=n?.rightVertex;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this._left),1),i.edges.splice(i.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?i.edges.push(this._edge):i.edges.unshift(this._edge),s&&(s.rightEdge=t),r&&(r.leftEdge=t),s&&i.updateVertexIndex(s,s.index),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}}class p{constructor(t,i,e){this._editGeometry=t,this._vertex=i,this._pos=e}apply(){const t=null==this._originalPosition;t&&(this._originalPosition=this._vertex.pos),this._apply(t?"apply":"redo")}undo(){this._vertex.pos=this._originalPosition,this._editGeometry.notifyChanges({operation:"undo",updatedVertices:[this._vertex]})}accumulate(t){return t instanceof p&&t._vertex===this._vertex&&(this._pos=t._pos,this._apply("apply"),!0)}_apply(t){this._vertex.pos=this._pos,this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:t,updatedVertices:[this._vertex]})}}var d=e(50659);class v{constructor(t,i){this._editGeometry=t,this._component=i,this._createdEdge=null}apply(){let t="redo";if(null==this._createdEdge){t="apply";const i=this._component.getFirstVertex(),e=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||null==i||null==e)return;this._createdEdge=new h.oH(this._component,e,i)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:t})}undo(){null!=this._createdEdge&&((0,d.TF)(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}}class y{constructor(t,i,e,n){this._editGeometry=t,this.dx=i,this.dy=e,this.dz=n,this._firstTime=!0}apply(){const t=this._firstTime?"apply":"redo";this._firstTime=!1,this._apply(t,this.dx,this.dy,this.dz)}undo(){this._apply("undo",-this.dx,-this.dy,-this.dz)}accumulate(t){const i=this._editGeometry.geometry;return t instanceof y&&t._editGeometry.geometry===i&&(this._apply("apply",t.dx,t.dy,t.dz),this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz,!0)}_apply(t,i,e,n){const s=this._editGeometry.geometry;s.offset(i,e,n);const r=this._editGeometry.components[0].getFirstVertex();if(!r)return;const o=this._editGeometry.coordinateHelper;r.pos=o.pointToVector(s.origin),this._editGeometry.notifyChanges({operation:t,updatedVertices:[r]})}}var g,b=e(28080),w=e(63447),m=e(31966),x=e(76835);class M{constructor(t,i){this._editGeometry=t,this._newPositions=i}apply(){const t=null==this._originalPositions?"apply":"redo";if(!this._originalPositions){const t=this._editGeometry.coordinateHelper;this._originalPositions=this._editGeometry.allVertices.map((i=>t.clone(i.pos)))}this._apply(t,this._newPositions)}undo(){this._originalPositions&&this._apply("undo",this._originalPositions)}accumulate(t){return t instanceof M&&(this._newPositions=t._newPositions,this._apply("apply",this._newPositions),!0)}_apply(t,i){const e=this._editGeometry.coordinateHelper,n=this._editGeometry.allVertices;for(let t=0;t<n.length;t++)e.copy(i[t],n[t].pos);this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:t,updatedVertices:n})}}const _=Symbol();class k{constructor(t){this._operations=[],this._closed=!1,this[g]=!0,t&&(this._operations=t,this._closed=!0)}close(){this._closed=!0}apply(){for(const t of this._operations)t.apply()}undo(){for(let t=this._operations.length-1;t>=0;t--)this._operations[t].undo()}accumulate(t){if(this._closed)return!1;const i=this._operations.length?this._operations[this._operations.length-1]:null;return i&&i.accumulate(t)||(this._operations.push(t),t.apply()),!0}}g=_;class A extends n.A{constructor(t,i){super(),this.data=t,this.viewingMode=i,this._undoStack=[],this._redoStack=[],this._listener=this.data.on("change",(t=>{t.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:t.addedVertices,operation:t.operation}),t.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:t.removedVertices,operation:t.operation}),t.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:t.updatedVertices,operation:t.operation})}))}destroy(){this._listener.remove()}splitEdge(t,i){return this._apply(new f(this.data,t,i))}updateVertices(t,i,e=a.Y.ACCUMULATE_STEPS){return this._apply(new c.D(this.data,t,i),e)}move(t,i,e,n=a.Y.ACCUMULATE_STEPS){return(0,h.oF)(this.data)?this._apply(new y(this.data,t,i,e),n):this.moveVertices(this.data.allVertices,t,i,e,n)}moveVertices(t,i,e,n,s=a.Y.ACCUMULATE_STEPS){return(0,h.oF)(this.data)?this._apply(new y(this.data,i,e,n),s):this.updateVertices(t,new b.a(this.data.coordinateHelper,i,e,n),s)}scale(t,i,e,n,s=a.Y.ACCUMULATE_STEPS,r=c.K.CUMULATIVE){return this.scaleVertices(this.data.allVertices,t,i,e,n,s,r)}scaleVertices(t,i,e,n,s,r=a.Y.ACCUMULATE_STEPS,o=c.K.CUMULATIVE){return this.updateVertices(t,new x.j(i,e,n,s,o),r)}rotate(t,i,e=a.Y.ACCUMULATE_STEPS,n=c.K.CUMULATIVE){return this.rotateVertices(this.data.allVertices,t,i,e,n)}rotateVertices(t,i,e,n=a.Y.ACCUMULATE_STEPS,s=c.K.CUMULATIVE){return this.updateVertices(t,new m.m(i,e,s),n)}removeVertices(t){return this._apply(new l(this.data,t,this._minNumVerticesPerType))}appendVertex(t){return 0===this.data.components.length?null:this._apply(new u(this.data,this.data.components[0],t))}setVertexPosition(t,i){return this._apply(new p(this.data,t,i))}offsetEdge(t,i,e,n=a.Y.ACCUMULATE_STEPS){return this.updateVertices([i.leftVertex,i.rightVertex],new w.L(this.data.coordinateHelper,t,i,e),n)}trySetGeometry(t,i=a.Y.ACCUMULATE_STEPS){const{data:e}=this,{coordinateHelper:n}=e;if(e.type!==t.type||!e.spatialReference.equals(t.spatialReference)||n.hasZ()!==t.hasZ||n.hasM()!==t.hasM||!(0,o.It)(e.geometry,t)||(0,h.oF)(e))return;const s=Array.from(h.ZE.fromGeometry(t,this.viewingMode).iterateVertices(),(t=>t.pos));return this.setVertexPositions(s,i)}setVertexPositions(t,i=a.Y.ACCUMULATE_STEPS){return this._apply(new M(this.data,t),i)}createResetState(){if((0,h.oF)(this.data))return this._createResetStateMesh();const t=this.data.geometry.clone();return(0,s.hA)((()=>this.trySetGeometry(t)))}closeComponent(t){return this.data.components.includes(t)?this._apply(new v(this.data,t)):null}canRemoveVertex(t){return t.vertices.length>this._minNumVerticesPerType}createUndoGroup(){const t=new k;return this._apply(t),(0,s.hA)((()=>t.close()))}undo(){if(this._undoStack.length>0){const t=this._undoStack.pop();return t.undo(),this._redoStack.push(t),t}return null}redo(){if(this._redoStack.length>0){const t=this._redoStack.pop();return t.apply(),this._undoStack.push(t),t}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}_apply(t,i=a.Y.ACCUMULATE_STEPS){return i!==a.Y.NEW_STEP&&null!=this.lastOperation&&this.lastOperation.accumulate(t)||(t.apply(),this._undoStack.push(t),this._redoStack=[]),t}_createResetStateMesh(){if(!(0,h.oF)(this.data))return(0,s.hA)();const t=this.data.geometry,{vertexSpace:i}=t;if(i.origin){const e=(0,r.o8)(i.origin);return(0,s.hA)((()=>{t.vertexSpace.origin=e}))}const e=t.vertexAttributes.clonePositional();return(0,s.hA)((()=>{t.vertexAttributes=e,t.vertexAttributesChanged()}))}static fromGeometry(t,i){return new A(h.ZE.fromGeometry(t,i),i)}}},34358:function(t,i,e){var n;e.d(i,{Y:function(){return n}}),function(t){t[t.NEW_STEP=0]="NEW_STEP",t[t.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS"}(n||(n={}))},28080:function(t,i,e){e.d(i,{a:function(){return n}});class n{constructor(t,i,e,n){this._helper=t,this.dx=i,this.dy=e,this.dz=n}_move(t,i,e,n){this._helper.addDelta(t.pos,i,e,n)}apply(t){this._move(t,this.dx,this.dy,this.dz)}undo(t){this._move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(t){return t instanceof n}accumulate(t,i){this._move(t,i.dx,i.dy,i.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}},63447:function(t,i,e){e.d(i,{B:function(){return d},L:function(){return l}});var n=e(15774),s=e(13786),r=e(1932),o=e(20551),h=e(32501),a=e(5596),u=e(29531),c=e(77363);class l{get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}constructor(t,i,e,n=0,s=v.IMMEDIATE){this._helper=t,this._planeType=i,this._edge=e,this.distance=n,this._plane=(0,a.vt)(),this._offsetPlane=(0,a.vt)(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,s===v.IMMEDIATE&&this._initialize()}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){const t=this._toXYZ(this._edge.leftVertex.pos),i=this._toXYZ(this._edge.leftVertex.leftEdge?.leftVertex?.pos),e=this._toXYZ(this._edge.rightVertex.pos),n=this._toXYZ(this._edge.rightVertex.rightEdge?.rightVertex?.pos);this._edgeDirection=(0,o.o)((0,h.vt)(),t,e),i?(this._left=this._computeNeighbor(t,i,this._edgeDirection),this._right=this._computeNeighbor(e,n,this._edgeDirection,this._left)):(this._right=this._computeNeighbor(e,n,this._edgeDirection),this._left=this._computeNeighbor(t,i,this._edgeDirection,this._right))}_toXYZ(t){return null!=t?this._helper.toXYZ(t):null}_pointToXYZ(t){return this._toXYZ(this._helper.pointToVector(t))}_computeNeighbor(t,i,e,n){const s=(0,h.vt)();if(i){(0,o.o)(s,t,i);const n=!this._passesBisectingAngleThreshold(s,e);return{start:t,end:i,direction:n?this._bisectVectorsPerpendicular(e,s):s,isOriginalDirection:!n}}return this._helper.hasZ()?n&&((0,o.e)(s,e,n.direction),(0,o.e)(s,s,e),(0,o.n)(s,s),Math.sign(s[1])!==Math.sign(e[0])&&(0,o.h)(s,s,-1)):(0,o.i)(s,-e[1],e[0],0),{start:t,end:i,direction:s,isOriginalDirection:!0}}_passesBisectingAngleThreshold(t,i){const e=Math.abs((0,u.g7)(i,t));return e>=f&&e<=Math.PI-f}_bisectVectorsPerpendicular(t,i){const e=(0,o.f)(t,i)<0?t:(0,o.v)((0,h.vt)(),t),n=Math.abs((0,o.f)(e,i));if(!(n<p||n>1-p))return this._bisectDirection(e,i);const s=(0,o.e)((0,h.vt)(),e,[0,0,1]);return(0,o.n)(s,s)}_bisectDirection(t,i){const e=(0,o.g)((0,h.vt)(),t,i);return(0,o.n)(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);(0,o.f)(t,i)<0&&(0,o.v)(i,i),(0,a.O_)(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=(0,o.e)((0,h.vt)(),t.direction,this._edgeDirection);(0,o.n)(i,i);const e=(0,o.e)((0,h.vt)(),this._edgeDirection,i);return this._planeType===d.XY&&(e[2]=0),(0,o.n)(e,e)}_initializeDistanceConstraints(){null==this._left.end||this.requiresSplitEdgeLeft||this._updateDistanceConstraint((0,a.mN)(this._plane,this._left.end)),null==this._right.end||this.requiresSplitEdgeRight||this._updateDistanceConstraint((0,a.mN)(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=(0,a.Qj)(t),e=this._edgeDirection,n=(0,o.g)((0,h.vt)(),this._left.start,this._left.direction),u=(0,o.g)((0,h.vt)(),this._right.start,this._right.direction),l=this._pointInBasis2D((0,r.vt)(),i,e,this._left.start),f=this._pointInBasis2D((0,r.vt)(),i,e,n),p=this._pointInBasis2D((0,r.vt)(),i,e,this._right.start),d=this._pointInBasis2D((0,r.vt)(),i,e,u),[v]=(0,c.jI)({start:f,end:l,type:c.Vv.LINE},{start:d,end:p,type:c.Vv.LINE});if(!v)return;const y=(0,s.Re)((0,r.vt)(),l,f);(0,s.S8)(y,y);const g=(0,s.Re)((0,r.vt)(),v,f),b=(0,s.Om)(y,g),w=(0,o.g)((0,h.vt)(),n,(0,o.h)((0,h.vt)(),this._left.direction,-b)),m=(0,a.mN)(t,w);this._updateDistanceConstraint(m)}_pointInBasis2D(t,i,e,n){return t[0]=(0,u.gr)(i,n),t[1]=(0,u.gr)(e,n),t}_offset(t,i){Number.isFinite(this._minDistance)&&(i=Math.max(this._minDistance,i)),Number.isFinite(this._maxDistance)&&(i=Math.min(this._maxDistance,i)),(0,a.C)(this._offsetPlane,this._plane),this._offsetPlane[3]-=i;const e=(t,i,e)=>null!=i&&(0,a.U5)(this._offsetPlane,t,(0,o.g)((0,h.vt)(),t,i),e),n=(0,h.vt)();(t===this._edge.leftVertex?e(this._left.start,this._left.direction,n):e(this._right.start,this._right.direction,n))&&this._helper.copy(this._helper.fromXYZ(n,void 0,this._helper.getM(t.pos)),t.pos)}selectArrowFromStartPoint(t){this._selectedArrow=(0,a.Tj)(this.plane,this._pointToXYZ(t))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(t){return(0,a.mN)(this.plane,this._pointToXYZ(t))}clampedStartAndEnd(t){const i=this._helper.toXYZ(this._helper.pointToVector(t)),e=(0,a._I)(this._plane,i,(0,h.vt)()),s=(0,a.mN)(this._plane,i),r=(0,n.qE)(s,this._minDistance,this._maxDistance);return(0,o.m)(i,e,i,r/s),{start:e,end:i}}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof l&&this._edge.leftVertex.index===t._edge.leftVertex.index&&this._edge.rightVertex.index===t._edge.rightVertex.index&&this._edge.component===t._edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&(0,o.H)((0,a.Qj)(this._plane),(0,a.Qj)(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new l(this._helper,this._planeType,this._edge,this.distance,v.DEFERRED);return(0,a.C)(t._plane,this._plane),(0,a.C)(t._offsetPlane,this._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=(0,o.c)((0,h.vt)(),this._edgeDirection),t}_maybeEqualsVec3(t,i){return null==t&&null==i||null!=t&&null!=i&&(0,o.H)(t,i)}_cloneNeighbor({start:t,end:i,direction:e,isOriginalDirection:n}){return{start:(0,o.c)((0,h.vt)(),t),end:null!=i?(0,o.c)((0,h.vt)(),i):null,direction:(0,o.c)((0,h.vt)(),e),isOriginalDirection:n}}}const f=(0,n.kU)(15),p=.001;var d,v,y;(y=d||(d={}))[y.XYZ=0]="XYZ",y[y.XY=1]="XY",function(t){t[t.IMMEDIATE=0]="IMMEDIATE",t[t.DEFERRED=1]="DEFERRED"}(v||(v={}))},31966:function(t,i,e){e.d(i,{m:function(){return o}});var n=e(50659),s=e(13786),r=e(57665);class o{constructor(t,i,e=r.K.CUMULATIVE){this.origin=t,this.angle=i,this._accumulationType=e}_rotate(t,i){(0,s.e$)(t.pos,t.pos,this.origin,i)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(t){return t instanceof o&&(0,n.aI)(this.origin,t.origin)}accumulate(t,i){const e=i._accumulationType===r.K.REPLACE;this._rotate(t,e?i.angle-this.angle:i.angle)}accumulateParams(t){const i=t._accumulationType===r.K.REPLACE;this.angle=i?t.angle:this.angle+t.angle}}},76835:function(t,i,e){e.d(i,{j:function(){return h}});var n=e(50659),s=e(1932),r=e(13786),o=e(57665);class h{constructor(t,i,e,n,r=o.K.CUMULATIVE){this.origin=t,this.axis1=i,this.factor1=e,this.factor2=n,this._accumulationType=r,this.axis2=(0,s.fA)(i[1],-i[0])}_scale(t,i,e){(0,r.Vj)(t.pos,t.pos,this.origin,this.axis1,i),(0,r.Vj)(t.pos,t.pos,this.origin,this.axis2,e)}apply(t){this._scale(t,this.factor1,this.factor2)}undo(t){this._scale(t,1/this.factor1,1/this.factor2)}canAccumulate(t){return t instanceof h&&(0,n.aI)(this.origin,t.origin)&&(0,n.aI)(this.axis1,t.axis1)}accumulate(t,i){i._accumulationType===o.K.REPLACE?this._scale(t,i.factor1/this.factor1,i.factor2/this.factor2):this._scale(t,i.factor1,i.factor2)}accumulateParams(t){const i=t._accumulationType===o.K.REPLACE;this.factor1=i?t.factor1:this.factor1*t.factor1,this.factor2=i?t.factor2:this.factor2*t.factor2}}},57665:function(t,i,e){e.d(i,{D:function(){return n},K:function(){return s}});class n{constructor(t,i,e){this._editGeometry=t,this._vertices=i,this.operation=e,this._undone=!1}apply(){this._vertices.forEach((t=>this.operation.apply(t))),this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:this._undone?"redo":"apply",updatedVertices:this._vertices})}undo(){this._vertices.forEach((t=>this.operation.undo(t))),this._editGeometry.notifyChanges({operation:"undo",updatedVertices:this._vertices}),this._undone=!0}canAccumulate(t){if(this._undone||t._vertices.length!==this._vertices.length)return!1;for(let i=0;i<t._vertices.length;++i)if(t._vertices[i]!==this._vertices[i])return!1;return this.operation.canAccumulate(t.operation)}accumulate(t){return!!(t instanceof n&&this.canAccumulate(t))&&(this._vertices.forEach((i=>this.operation.accumulate(i,t.operation))),this.operation.accumulateParams(t.operation),this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:"apply",updatedVertices:this._vertices}),!0)}}var s;!function(t){t[t.CUMULATIVE=0]="CUMULATIVE",t[t.REPLACE=1]="REPLACE"}(s||(s={}))},41857:function(t,i,e){e.d(i,{Bb:function(){return f},G3:function(){return v},fJ:function(){return p}});var n=e(13786),s=e(20551),r=e(32501),o=e(2075),h=e(50973),a=e(28080),u=e(31966),c=e(76835),l=e(57665);function f(t,i){return d(t,i,!1)}function p(t,i){return d(t,i,!0)}function d(t,i,e){if(t instanceof l.D){if(t.operation instanceof a.a)return function(t,i,e=!1){const n=e?-1:1,h=(0,r.fA)(n*t.dx,n*t.dy,n*t.dz);(0,s.g)(i.origin,i.origin,h),(0,o.u)(i)}(t.operation,i,e),!0;if(t.operation instanceof u.m)return function(t,i,e=!1){const n=e?-t.angle:t.angle;(0,s.K)(i.basis1,i.basis1,r.uY,n),(0,s.K)(i.basis2,i.basis2,r.uY,n),(0,o.u)(i)}(t.operation,i,e),!0;if(t.operation instanceof c.j)return function(t,i,e=!1){const r=e?1/t.factor1:t.factor1,h=e?1/t.factor2:t.factor2;(0,s.h)(i.basis1,i.basis1,r),(0,s.h)(i.basis2,i.basis2,h),(0,n.Vj)(i.origin,i.origin,t.origin,t.axis1,r),(0,n.Vj)(i.origin,i.origin,t.origin,t.axis2,h),(0,o.u)(i)}(t.operation,i,e),!0}return!1}function v(t,i,e,s){s||(s=(0,o.a)());const r=(0,n.hZ)(h.oG.get(),t[1],-t[0]),a=(0,n.hZ)(h.oG.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),u=(0,n.hZ)(h.oG.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),c=h.oG.get();i.components.forEach((i=>i.vertices.forEach((({pos:i})=>{(0,n.hZ)(c,(0,n.Om)(t,i),(0,n.Om)(r,i)),(0,n.jk)(a,a,c),(0,n.T9)(u,u,c)}))));const l=1e-6,f=(0,n.hZ)(h.oG.get(),u[0]-a[0]<l?e/2:0,u[1]-a[1]<l?e/2:0);return(0,n.Re)(a,a,f),(0,n.WQ)(u,u,f),(0,n.hs)(s.basis1,t,(u[0]-a[0])/2),(0,n.hs)(s.basis2,r,(u[1]-a[1])/2),(0,n.hZ)(s.origin,a[0]*t[0]+a[1]*r[0],a[0]*t[1]+a[1]*r[1]),(0,n.WQ)(s.origin,s.origin,s.basis1),(0,n.WQ)(s.origin,s.origin,s.basis2),(0,o.u)(s),s}},37578:function(t,i,e){e.d(i,{NE:function(){return a},TU:function(){return l},ac:function(){return c},fn:function(){return u},oe:function(){return f}});var n=e(50659),s=e(61226),r=e(25738),o=e(87922),h=e(25179);const a={redo:"r",undo:"z",center:"Alt",constraint:"Shift",cancel:"Escape",delete:["Backspace","Delete"],complete:"Enter",vertexAdd:"f",pan:" "},u={toggle:"Control"},c={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},l={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:h.i,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0},undo:"z",redo:"r"};class f{constructor(){this._bindings=new Map}add(t,i){return this.addToggle(t,(t=>{"key-down"===t.type&&i(t)}))}addToggle(t,i){const e=p.fromDefinition(t,i),o=(0,r.tE)(this._bindings,e.key,(()=>[]));return o.push(e),(0,s.hA)((()=>(0,n.TF)(o,e)))}register(t,i=o.o.WIDGET){return(0,s.vE)([t.on("key-down",(i=>this.dispatch(t.inputManager,i)),i),t.on("key-up",(i=>this.dispatch(t.inputManager,i)),i)])}dispatch(t,i){const e=i.key,n=this._bindings.get(e);if(n)for(const e of n)e.process(t,i)}}class p{constructor(t,i,e,n,s){this.key=t,this.modifiers=i,this.repeats=e,this.continuePropagation=n,this.callback=s}process(t,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const i of this.modifiers)if(!t.isModifierKeyDown(i))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(t,i){if("string"==typeof t)return new p(t,[],!1,!1,i);const{key:e,modifier:n,repeats:s,continuePropagation:r}=t;return new p(e,n?Array.isArray(n)?n:[n]:[],!!s,!!r,i)}}},50822:function(t,i,e){e.d(i,{A:function(){return a}});var n=e(53804),s=e(83525),r=e(23502),o=(e(58941),e(40633),e(13798),e(65953));let h=class extends s.A{constructor(t){super(t),this.enabled=!1}};(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],h.prototype,"enabled",void 0),h=(0,n._)([(0,o.$)("esri.views.interactive.sketch.SketchLabelOptions")],h);const a=h},37102:function(t,i,e){e.d(i,{A:function(){return l}});var n=e(53804),s=e(83525),r=e(23502),o=(e(58941),e(40633),e(13798),e(65953)),h=e(50822),a=e(12637),u=e(44511);let c=class extends s.A{constructor(t){super(t),this.labels=new h.A,this.tooltips=new a.A,this.values=new u.A}};(0,n._)([(0,r.MZ)({nonNullable:!0,type:h.A})],c.prototype,"labels",void 0),(0,n._)([(0,r.MZ)({nonNullable:!0,type:a.A})],c.prototype,"tooltips",void 0),(0,n._)([(0,r.MZ)({nonNullable:!0,type:u.A})],c.prototype,"values",void 0),c=(0,n._)([(0,o.$)("esri.views.interactive.sketch.SketchOptions")],c);const l=c},12637:function(t,i,e){e.d(i,{A:function(){return l}});var n=e(53804),s=e(83525),r=e(23502),o=(e(58941),e(40633),e(13798),e(65953));let h=class extends s.A{constructor(t){super(t),this.mode="absolute-height"}toJSON(){return{mode:this.mode}}};(0,n._)([(0,r.MZ)({type:String,nonNullable:!0})],h.prototype,"mode",void 0),h=(0,n._)([(0,o.$)("esri.views.interactive.sketch.SketchTooltipElevationOptions")],h);let a=class extends s.A{constructor(t){super(t),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"area",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"coordinates",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"direction",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"distance",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"elevation",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"header",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"helpMessage",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"orientation",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"radius",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"rotation",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"scale",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"size",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],a.prototype,"totalLength",void 0),a=(0,n._)([(0,o.$)("esri.views.interactive.sketch.SketchTooltipVisibleElements")],a);const u=a;let c=class extends s.A{constructor(t){super(t),this.enabled=!1,this.forceEnabled=!1,this.helpMessage=null,this.helpMessageIcon=null,this.inputEnabled=!0,this.elevation=new h,this.placement="auto",this.offset=null,this.visibleElements=new u,this.visualVariables=null,this.xyMode="auto"}get effectiveEnabled(){return this.forceEnabled||this.enabled}};(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"enabled",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"forceEnabled",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"effectiveEnabled",null),(0,n._)([(0,r.MZ)()],c.prototype,"helpMessage",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"helpMessageIcon",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"inputEnabled",void 0),(0,n._)([(0,r.MZ)({type:h,nonNullable:!0})],c.prototype,"elevation",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"placement",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"offset",void 0),(0,n._)([(0,r.MZ)({type:u,nonNullable:!0})],c.prototype,"visibleElements",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"visualVariables",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"xyMode",void 0),c=(0,n._)([(0,o.$)("esri.views.interactive.sketch.SketchTooltipOptions")],c);const l=c},44511:function(t,i,e){e.d(i,{A:function(){return l}});var n=e(53804),s=e(83525),r=e(23502),o=(e(58941),e(40633),e(13798),e(65953));let h=class extends s.A{constructor(t){super(t),this.length=null,this.verticalLength=null,this.area=null}};(0,n._)([(0,r.MZ)()],h.prototype,"length",void 0),(0,n._)([(0,r.MZ)()],h.prototype,"verticalLength",void 0),(0,n._)([(0,r.MZ)()],h.prototype,"area",void 0),h=(0,n._)([(0,o.$)("esri.views.interactive.sketch.Units")],h);const a=h;var u=e(99675);let c=class extends s.A{constructor(t){super(t),this.directionMode="relative",this.relativeDirectionIsBilateral=!1}get effectiveDirectionMode(){switch(this.directionMode){case"relative":return this.relativeDirectionIsBilateral?u.rZ.RelativeBilateral:u.rZ.Relative;case"absolute":return u.rZ.Absolute}}get displayUnits(){return this._get("displayUnits")??new a}set displayUnits(t){this._set("displayUnits",t)}get inputUnits(){return this._get("inputUnits")??new a}set inputUnits(t){this._set("inputUnits",t)}};(0,n._)([(0,r.MZ)({type:String,nonNullable:!0})],c.prototype,"directionMode",void 0),(0,n._)([(0,r.MZ)({type:Boolean,nonNullable:!0})],c.prototype,"relativeDirectionIsBilateral",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"effectiveDirectionMode",null),(0,n._)([(0,r.MZ)({type:a,nonNullable:!0})],c.prototype,"displayUnits",null),(0,n._)([(0,r.MZ)({type:a,nonNullable:!0})],c.prototype,"inputUnits",null),c=(0,n._)([(0,o.$)("esri.views.interactive.sketch.SketchValueOptions")],c);const l=c},7768:function(t,i,e){e.d(i,{cx:function(){return w},dz:function(){return M},hj:function(){return d},lJ:function(){return m},tC:function(){return _}}),e(50917);var n=e(56275),s=e(62938),r=e(20551),o=e(68734),h=e(57862),a=e(46460),u=e(68945),c=e(92100),l=e(28397),f=e(99675),p=e(57165);function d(t,i,e,n,s,r){let a="geodesic",u=(0,h.Xn)(e);const c=(0,l.Hh)();return(0,l.vf)(t,i,n,c),c[2]=0,u&&(0,o.F)(c,e,c,u)||(a="euclidean",u=e),{mode:a,view:i,elevationInfo:n,hasZ:s,directionMode:r,spatialReference:t.spatialReference,measurementSR:u,origin:c}}function v(t,i,e){if(null==i||null==t)return;const r=(0,s._H)(e.measurementSR);if(null==r)return;const o=M(t,e);if(null==o)return;const h=(0,n.l3)(i,r);return new c.ej(o,h)}function y(t,i,e,s){if(null==e||null==t)return;const r=M(t,s);if(null==r)return;const o=(0,f.hF)(e),h=t=>{if(null==t)return;const i=(0,l.Hh)(),e=(0,n.Wq)(t,"degrees","geographic");return(0,f.rT)(i,r,s.measurementSR,10,e,s.mode)?new c.FX(r,i):void 0},a=()=>{if(null!=i&&null!=t)return(0,f.hF)((0,f.$h)(i,t))};switch(s.directionMode){case f.rZ.Absolute:return h(o);case f.rZ.Relative:{const t=a();if(null==t)return;return h(t+o)}case f.rZ.RelativeBilateral:{const t=a();if(null==t)return;return(0,c.xW)([h(t+o),h(t-o)])}}}function g(t,i){const e=k(t,i);return null!=e?new c.qR(e):void 0}function b(t,i,e){const{context:s,longitude:r,latitude:h,direction:a,distance:u,elevation:p}=e;if(null!=r||null!=h||null!=u||null!=p||null!=a){if(null!=r||null!=h){const t=(0,f.hF)(r),i=(0,f.hF)(h),e=k(p,s);return new c.QT(t,i,e)}return function(t,i,{context:e,direction:s,distance:r,elevation:h}){if(null==i)return g(h,e);const{view:a,elevationInfo:u,measurementSR:p}=e,d=(0,l.vf)(i,a,u);if(!p||!(0,o.F)(d,i.spatialReference,A,p))return;const[v,y]=A,b=null!=r?(0,n.l3)(r,"meters"):void 0,w=(0,f.hF)(s),m=k(h,e),x=t=>{const i=new c.jf([v,y],p,b,m,t);return null==b||null==t||null==m&&e.hasZ?i:new c.i7(i.closestTo(d))};if(null==w)return x(void 0);const M=()=>{if(null!=t&&null!=i)return(0,f.hF)((0,f.$h)(t,i))};switch(e.directionMode){case f.rZ.Absolute:return x(w);case f.rZ.Relative:{const t=M();if(null==t)return;return x(t+w)}case f.rZ.RelativeBilateral:{const t=M();if(null==t)return;return(0,c.xW)([x(t+w),x(t-w)])}}}(t,i,e)}}function w(t){return"geodesic"===t.context.mode?b(null,null,t):x(t)}function m(t,i,e){const{context:n,x:s,y:r,distance:o,direction:h,elevation:a}=e;return"geodesic"===n.mode?b(i,t,e):null!=s||null!=r?x(e):function(t){let i;for(const e of t)e&&(i=i?.intersect(e)??e);return i}([v(t,o,n),y(t,i,h,n),g(a,n)])}function x({x:t,y:i,elevation:e,context:n}){P.x=t?.value??0,P.y=i?.value??0,P.spatialReference=n.spatialReference;const s=M(P,n,T);return new c.QT(null!=t&&null!=s?s[0]:void 0,null!=i&&null!=s?s[1]:void 0,k(e,n))}function M(t,i,e=(0,l.Hh)()){const{view:n,elevationInfo:s,measurementSR:h,origin:a,mode:u}=i;if((0,l.vf)(t,n,s,e),(0,o.F)(e,t.spatialReference,e,h))return"geodesic"!==u&&(0,r.d)(e,e,a),e}function _(t,i,e,n){const{view:s,measurementSR:h,spatialReference:a,origin:u,mode:c}=e;if("geodesic"===c?(0,r.c)(j,t):(0,r.g)(j,t,u),(0,o.F)(j,h,j,a))return(0,l.xF)(j,s,i,e,n)}function k(t,i){return function(t,{view:i,origin:e,elevationInfo:r,hasZ:o,measurementSR:h}){if(null==t||!o)return;const a=(0,s.mq)(h);if(null==a)return;const[c,l]=e,f=(0,n.l3)(t,a),p="3d"===i?.type?(0,u.Fo)(i,c,l,f,h,r):f;return null!=p?(0,n.d_)(p,a):void 0}(t,i)?.value??void 0}const A=(0,l.Hh)(),T=(0,l.Hh)(),j=(0,l.Hh)(),P=(0,a.T)(0,0,0,p.A.WGS84)},92100:function(t,i,e){e.d(i,{FX:function(){return G},Mn:function(){return M},QT:function(){return F},WG:function(){return D},ej:function(){return A},en:function(){return L},fT:function(){return rt},i7:function(){return m},jf:function(){return q},qR:function(){return E},xW:function(){return nt}});var n=e(50659),s=e(15774),r=e(13786),o=e(1932),h=e(20551),a=e(32501),u=e(33400),c=e(41546),l=e(62046),f=e(57862),p=e(5596),d=e(13794),v=e(76185),y=e(28397),g=e(94652),b=e(77363);class w{intersect(t){return U(this,t)}closestPoints(t){return[this.closestTo(t)]}}class m extends w{constructor(t){super(),this.point=t}equals(t){return this===t||rt(t)&&(0,h.p)(this.point,t.point)}closestTo(){return(0,y.o8)(this.point)}}class x extends w{constructor(t,i,e){super(),this.start=t,this.end=i,this.lineLike={start:t,end:i,type:e}}equals(t){return this===t||ot(t)&&this.lineLike.type===t.lineLike.type&&(0,h.p)(this.start,t.start)&&(0,h.p)(this.end,t.end)}closestTo(t){const i=(0,y.Hh)();return(0,g.Yv)(t,this.lineLike,i),i}}class M extends x{constructor(t,i){super(t,i,b.Vv.LINE)}}class _ extends x{constructor(t,i){super(t,i,b.Vv.RAY)}}class k extends w{constructor(t){super(),this.constraints=t}equals(t){return this===t||st(t)&&(0,n.aI)(this.constraints,t.constraints,((t,i)=>t.equals(i)))}closestTo(t){let i,e=1/0;for(const n of this.constraints){const s=n.closestTo(t),r=(0,h.s)(t,s);r<e&&(e=r,i=s)}return(0,y.o8)(i??t)}closestPoints(t){return this.constraints.flatMap((i=>i===this?[]:i.closestPoints(t)))}}class A extends w{constructor(t,i){super(),this.center=t,this.radius=i}equals(t){return this===t||ut(t)&&this.center[0]===t.center[0]&&this.center[1]===t.center[1]&&this.radius===t.radius}closestTo(t){const i=(0,y.Hh)();return(0,g.Nm)(t,this.center,this.radius,i),i}}class T extends w{constructor(t,i){super(),this.center=t,this.radius=i}equals(t){return this===t||ct(t)&&(0,h.p)(this.center,t.center)&&this.radius===t.radius}closestTo(t){const i=(0,y.Hh)();return(0,g.Nm)(t,this.center,this.radius,i),i[2]=this.center[2],i}asCircle(){return new j((0,y.o8)(this.center),this.radius,(0,y.fA)(0,0,1))}}class j extends w{constructor(t,i,e,n=void 0){super(),this.center=t,this.radius=i,this.normal=e,this.slicePlane=n}equals(t){return this===t||lt(t)&&(0,h.p)(this.center,t.center)&&(0,h.p)(this.normal,t.normal)&&this.radius===t.radius}closestTo(t){const{center:i,radius:e}=this;(0,p._I)(this.getPlane(I),t,P);const n=(0,h.a)(P,P,i),s=(0,h.k)(n);if((0,g.Zj)(s,0))return(0,y.o8)(t);const r=e/Math.sqrt(s),o=(0,y.Hh)();(0,h.b)(o,i,n,r);const{slicePlane:a}=this;if(a&&!(0,g.F2)(a,o)){const i=J(a,this);return i?.closestTo(t)??(0,y.o8)(t)}return o}getPlane(t=(0,p.vt)()){return(0,p.O_)(this.center,this.normal,t)}}const P=(0,a.vt)(),I=(0,p.vt)();class E extends w{constructor(t){super(),this.z=t}equals(t){return this===t||ht(t)&&this.z===t.z}closestTo(t){return(0,y.fA)(t[0],t[1],this.z)}getPlane(t=(0,p.vt)()){return(0,h.i)(z,0,0,this.z),(0,p.O_)(z,a.Cb,t)}}const z=(0,a.vt)();class C extends w{constructor(t,i,e){super(),this.start=t,this.end=i,this.planeLike={start:(0,y.Xz)(t),end:(0,y.Xz)(i),type:e}}equals(t){return this===t||at(t)&&this.planeLike.type===t.planeLike.type&&(0,h.p)(this.start,t.start)&&(0,h.p)(this.end,t.end)}closestTo(t){const i=(0,y.Hh)();return(0,g.r2)(t,this.planeLike,i),i}closestEndTo(t){const{start:i,end:e}=this.planeLike;return Math.sign((0,r.Om)((0,r.Re)(S,e,i),(0,r.Re)(N,(0,y.Xz)(t),i)))>0?this.end:this.start}getPlane(t=(0,p.vt)()){const i=(0,h.c)(R,this.end);return i[2]+=1,(0,p.Cr)(this.start,this.end,i,t)}getSlicePlane(t=(0,p.vt)()){const{start:i,end:e,type:n}=this.planeLike;if(n===g.pJ.PLANE)return;const s=(0,h.i)(R,i[0],i[1],0),r=(0,h.i)(O,e[0],e[1],0),o=(0,h.d)(O,r,s);return(0,p.O_)(s,o,t),t}}const S=(0,o.vt)(),N=(0,o.vt)(),R=(0,a.vt)(),O=(0,a.vt)();class G extends C{constructor(t,i){super(t,i,g.pJ.HALF_PLANE)}}class D extends C{constructor(t,i){super(t,i,g.pJ.PLANE)}}class V extends w{constructor(t,i){super(),this.sphere=(0,d.l)(t,i)}equals(t){return this===t||ft(t)&&(0,d.m)(this.sphere,t.sphere)}closestTo(t){const i=(0,y.Hh)();return(0,d.p)(this.sphere,t,i),i}get center(){return(0,d.a)(this.sphere)}get radius(){return this.sphere[3]}}class L extends w{constructor(t,i,e){super(),this.start=t,this.end=i,this.getZ=e,this.planeLike={start:(0,y.Xz)(t),end:(0,y.Xz)(i),type:g.pJ.PLANE}}equals(t){return this===t||pt(t)&&(0,h.p)(this.start,t.start)&&(0,h.p)(this.end,t.end)&&this.getZ===t.getZ}closestTo(t){return function(t,i){const e=(0,y.Hh)();return(0,g.r2)(i,t.planeLike,e),e[2]=t.getZ(e[0],e[1])??dt,e}(this,t)}addIfOnTheGround(t,i){for(const e of i){const i=this.getZ(e[0],e[1])??0;(0,g.Zj)(e[2],i)&&(e[2]=i,t.push(e))}}}class F extends w{constructor(t,i,e){super(),this._x=t,this._y=i,this._z=e}equals(t){return this===t||function(t){return t instanceof F}(t)&&this._x===t._x&&this._y===t._y&&this._z===t._z}closestTo([t,i,e]){return(0,y.vt)(this._x??t,this._y??i,this._z??e)}}class q extends w{constructor(t,i,e,n,s){super(),this._origin=t,this._spatialReference=i,this._distanceMeters=e,this._z=n,this._directionDegrees=s}equals(t){return this===t||function(t){return t instanceof q}(t)&&(0,r.t2)(this._origin,t._origin)&&this._spatialReference===t._spatialReference&&this._distanceMeters===t._distanceMeters&&this._z===t._z&&this._directionDegrees===t._directionDegrees}closestTo([t,i,e]){return(0,r.hZ)(B,t,i),(0,r.t2)(B,this._origin)||this._applyDirectionAndDistance(B),(0,y.vt)(B[0],B[1],this._z??e)}_applyDirectionAndDistance(t){if(null!=this._directionDegrees&&null!=this._distanceMeters)(0,f.vN)(t,this._origin,this._directionDegrees,this._distanceMeters,this._spatialReference);else if(null!=this._directionDegrees)!function(t,i,e,n,s){let{azimuth:r,distance:o}=(0,f._3)(Z,i,n,s);r??=0;let h=o*Math.cos((r-e)*l.eh);h=Math.max(0,h),(0,f.vN)(t,i,e,h,s)}(t,this._origin,this._directionDegrees,t,this._spatialReference);else if(null!=this._distanceMeters){const{azimuth:i}=(0,f._3)(H,this._origin,t,this._spatialReference);(0,f.vN)(t,this._origin,i??0,this._distanceMeters,this._spatialReference)}}}const B=[0,0],H=new f.Zj,Z=new f.Zj;function U(t,i){if(st(t)){const e=[];for(const n of t.constraints){const t=n.intersect(i);t&&e.push(t)}return nt(e)}if(st(i))return U(i,t);if(pt(t))return Q(t,i);if(pt(i))return Q(i,t);if(rt(t)){const{point:e}=t;if(rt(i))return(0,h.p)(e,i.point)?t:void 0;const n=i.closestTo(e);return(0,h.H)(n,e)?t:void 0}if(ot(t)){if(rt(i))return U(i,t);if(ot(i))return it((0,g.SO)(t.lineLike,i.lineLike));if(ht(i))return K(t,i);if(at(i))return it((0,g.Mc)(i.planeLike,t.lineLike));if(ut(i))return it((0,g.K4)(t.lineLike,i.center,i.radius));if(lt(i))return it((0,g.IB)(t.lineLike,i));if(ct(i))return function({lineLike:t},{center:i,radius:e}){const n=i[2];return it((0,g.K4)(t,i,e).filter((t=>(0,g.Zj)(t[2],n))))}(t,i);if(ft(i))return function({lineLike:t},{sphere:i}){return it((0,d.n)(i,t.start,t.end))}(t,i)}else if(ht(t)){if(rt(i)||ot(i))return U(i,t);if(ht(i))return function(t,i){return(0,g.Zj)(t.z,i.z)?t:void 0}(t,i);if(at(i))return function({z:t},{planeLike:i}){const[e,n]=i.start,[s,r]=i.end,o=(0,y.fA)(e,n,t),h=(0,y.fA)(s,r,t);return i.type===g.pJ.PLANE?new M(o,h):new _(o,h)}(t,i);if(ut(i))return function(t,i){const[e,n]=i.center;return new T((0,y.fA)(e,n,t.z),i.radius)}(t,i);if(lt(i))return X(t,i);if(ct(i))return function(t,i){return(0,g.Zj)(i.center[2],t.z)?i:void 0}(t,i);if(ft(i))return function(t,{center:i,radius:e}){const n=Math.abs(i[2]-t.z);if(n>e&&!(0,g.Zj)(n,e))return;const s=(0,y.fA)(i[0],i[1],t.z),r=Math.sqrt(e**2-n**2);return(0,g.Zj)(r,0)?void 0:new T(s,r)}(t,i)}else if(at(t)){if(rt(i)||ot(i)||ht(i))return U(i,t);if(at(i))return tt((0,g.b_)(t.planeLike,i.planeLike));if(ut(i))return tt((0,g.Bn)(t.planeLike,i.center,i.radius));if(lt(i))return Y(t,i);if(ct(i))return W(t,i);if(ft(i))return $(t,i)}else if(ut(t)){if(rt(i)||ot(i)||ht(i)||at(i))return U(i,t);if(ut(i))return tt((0,g.t1)((0,y.Xz)(t.center),t.radius,(0,y.Xz)(i.center),i.radius));if(lt(i))return;if(ct(i))return function(t,i){const e=(0,r.hG)((0,y.Xz)(t.center),(0,y.Xz)(i.center));return(0,g.Zj)(e,0)&&(0,g.Zj)(t.radius,i.radius)?i:et((0,g.t1)((0,y.Xz)(t.center),t.radius,(0,y.Xz)(i.center),i.radius),i.center[2])}(t,i);if(ft(i))return}else if(lt(t)){if(rt(i)||ot(i)||ht(i)||at(i)||ut(i))return U(i,t);if(lt(i))return;if(ct(i))return void i.asCircle();if(ft(i))return}else if(ct(t)){if(rt(i)||ot(i)||ht(i)||at(i)||ut(i)||lt(i))return U(i,t);if(ct(i))return function(t,i){if(!(0,g.HG)(t.center,i.center))return;const e=(0,r.hG)((0,y.Xz)(t.center),(0,y.Xz)(i.center));return(0,g.Zj)(e,0)&&(0,g.Zj)(t.radius,i.radius)?t:et((0,g.t1)((0,y.Xz)(t.center),t.radius,(0,y.Xz)(i.center),i.radius),t.center[2])}(i,t);if(ft(i))return}else if(ft(t)){if(rt(i)||ot(i)||ht(i)||at(i)||ut(i)||ct(i))return U(i,t);if(ft(i))return}}const K=(()=>{const t=(0,p.vt)();return(i,e)=>{const{start:n,end:s}=i;if((0,g.HG)(n,s)&&(0,g.Zj)(n[2],e.z))return i;const r=(0,y.Hh)();return(0,p.U5)(e.getPlane(t),n,s,r)?new m(r):void 0}})(),J=(()=>{const t=(0,c.vt)(),i=(0,a.vt)(),e=(0,a.vt)();return(n,r,o)=>{const{normal:c,center:l,radius:f}=r;(0,v.VV)(c,i,e);const d=(0,p.Qj)(n),b=f*(0,h.f)(d,i),w=f*(0,h.f)(d,e);(0,u.s)(t,l[0],l[1],l[2],1);const x=(0,u.h)(n,t),M=Math.hypot(b,w),_=(0,g.Zj)(M,0);if((0,g.Zj)((0,p.Io)(n,l),0)){if(_)return r;if((0,g.Zj)(f,0))return!o||(0,g.F2)(o,l)?new m((0,y.o8)(l)):void 0;(0,h.e)(i,d,c),(0,h.n)(i,i);const t=new Array,e=(0,a.o8)(l);(0,h.b)(e,e,i,f),o&&!(0,g.F2)(o,e)||t.push(e);const n=(0,a.o8)(l);return(0,h.b)(n,n,i,-f),o&&!(0,g.F2)(o,n)||t.push(n),it(t)}if(_)return;const k=-x/M;if(Math.abs(k)>1||(0,g.Zj)(k,1))return;const A=Math.atan(b/w),T=(0,s.YN)(k)-A,j=Math.PI-T,P=new Array,I=(0,a.vt)();(0,h.b)(I,l,i,f*Math.cos(T)),(0,h.b)(I,I,e,f*Math.sin(T)),P.push(I);const E=(0,a.vt)();return(0,h.b)(E,l,i,f*Math.cos(j)),(0,h.b)(E,E,e,f*Math.sin(j)),P.push(E),it(o?(0,g.UL)(o,P):P)}})(),X=(()=>{const t=(0,p.vt)();return(i,e)=>J(i.getPlane(t),e,e.slicePlane)})(),W=(()=>{const t=(0,p.vt)();return(i,{center:e,radius:n})=>{const s=(0,g.Bn)(i.planeLike,e,n),r=e[2];i.getSlicePlane(t);const o=new Array;for(const[i,e]of s){const n=[i,e,r];(0,g.F2)(t,n)&&o.push(n)}return it(o)}})(),Y=(()=>{const t=(0,p.vt)(),i=(0,p.vt)();return(e,n)=>J(e.getPlane(t),n,e.getSlicePlane(i))})(),$=(()=>{const t=(0,p.vt)();return(i,{center:e,radius:n})=>{const s=i.getPlane(t),r=(0,p.mN)(s,e),o=Math.abs(r);if(o>n&&!(0,g.Zj)(o,n))return;const u=Math.sqrt(n**2-r**2);if((0,g.Zj)(u,0)){const t=(0,y.Hh)();return(0,p._I)(s,e,t),new m(t)}const c=(0,y.Hh)(),l=(0,a.o8)((0,p.Qj)(s));return(0,h.b)(c,e,l,r),new j(c,u,l,i.getSlicePlane())}})();function Q(t,i){const{planeLike:e,getZ:n}=t,s=new Array;if(rt(i))t.addIfOnTheGround(s,(0,g.VT)(e,i.point));else if(ot(i))t.addIfOnTheGround(s,(0,g.Mc)(e,i.lineLike));else if(ut(i))for(const[t,r]of(0,g.Bn)(e,i.center,i.radius)){const i=n(t,r);null!=i&&s.push((0,a.fA)(t,r,i))}else if(at(i)||pt(i))for(const[t,r]of(0,g.b_)(e,i.planeLike)){const i=n(t,r)??dt;s.push((0,a.fA)(t,r,i))}return it(s)}function tt(t){return nt(t.map((([t,i])=>{const e=(0,y.fA)(t,i,0),n=(0,y.fA)(t,i,1);return new M(e,n)})))}function it(t){return nt(t.map((t=>t?new m((0,y._7)(t)):void 0)))}function et(t,i){return it(t.map((([t,e])=>[t,e,i])))}function nt(t){if(0!==t.length)return 1===t.length?t[0]??void 0:new k(t.filter(n.Ru))}function st(t){return t instanceof k}function rt(t){return t instanceof m}function ot(t){return t instanceof x}function ht(t){return t instanceof E}function at(t){return t instanceof C}function ut(t){return t instanceof A}function ct(t){return t instanceof T}function lt(t){return t instanceof j}function ft(t){return t instanceof V}function pt(t){return t instanceof L}const dt=0},28397:function(t,i,e){e.d(i,{Ex:function(){return v},FH:function(){return m},Hh:function(){return u},Lp:function(){return y},Xz:function(){return l},_7:function(){return c},de:function(){return d},fA:function(){return f},io:function(){return b},o8:function(){return p},vf:function(){return g},vt:function(){return a},xF:function(){return w}});var n,s,r=e(32501),o=e(46460),h=e(68945);function a(t,i,e){return u(t,i,e)}function u(t=0,i=0,e=0){return(0,r.fA)(t,i,e)}function c(t){return t}function l(t){return t}function f(t,i,e){return(0,r.fA)(t,i,e)}function p(t){const[i,e,n]=t;return t.length>3?[i,e,n,t[3]]:[i,e,n]}function d(t){return t[3]=((t.length>3?t[3]:void 0)??n.NONE)|n.TARGET,t}function v(t){return Boolean(((t.length>3?t[3]:void 0)??n.NONE)&n.TARGET)}function y(t,i,{coordinateHelper:e,elevationInfo:n},s){return t?g(e.vectorToDehydratedPoint(t,x),i,n,s):null}function g(t,i,e,n=u()){return n[0]=t.x,n[1]=t.y,n[2]=t.z??0,null==i||("2d"===i.type?n[2]=0:n[2]=(0,h.wS)(i,t,e,h.qt)??0),n}function b(t,i,e){return e?((0,o.J)(e,t[0],t[1],t[2],i),e):(0,o.T)(t[0],t[1],t[2],i)}function w(t,i,{z:e,m:n},s,r){const{spatialReference:a,elevationInfo:u}=s;let c;c=null==e&&null==n?void 0:null==i||"2d"===i.type?e??void 0:(0,h.xS)(i,t,a,h.qt,u)??0;const[l,f]=t;return r?(0,o.J)(r,l,f,c,a):r=(0,o.T)(l,f,c,a),null!=n&&(r.m=n,r.hasM=!0),r}function m(t,i,e,s,r=u()){const[o,a]=t;return r[0]=o,r[1]=a,t.length>3&&(r[3]=t[3]??n.NONE),"3d"!==e?.type?(r[2]=i.value,r):(r[2]=(0,h.Fo)(e,o,a,i.value,s,i.elevationInfo,h.qt)??0,r)}(s=n||(n={}))[s.NONE=0]="NONE",s[s.TARGET=1]="TARGET";const x=(0,o.T)(0,0,0,null)},21267:function(t,i,e){e.d(i,{N:function(){return c}});var n=e(53804),s=e(52874),r=e(30905),o=e(23502),h=e(65953);let a=class extends r.oY{constructor(){super(...arguments),this.enabled=!0}};(0,n._)([(0,o.MZ)({type:Boolean})],a.prototype,"enabled",void 0),a=(0,n._)([(0,h.$)("esri.views.interactive.snapping.Settings.DefaultSnappingAlgorithm")],a);let u=class extends r.oY{constructor(t){super(t),this.lineSnapper=new a,this.parallelLineSnapper=new a,this.rightAngleSnapper=new a,this.rightAngleTriangleSnapper=new a,this.shortLineThreshold=15,this.distance=5,this.pointThreshold=1e-6,this.intersectionParallelLineThreshold=1e-6,this.parallelLineThreshold=1e-6,this.verticalLineThresholdMeters=.3,this.touchSensitivityMultiplier=1.5,this.pointOnLineThreshold=1e-6,this.orange=new s.A([255,127,0]),this.orangeTransparent=new s.A([255,127,0,.5]),this.lineHintWidthReference=3,this.lineHintWidthTarget=3,this.lineHintFadedExtensions=.3,this.parallelLineHintWidth=2,this.parallelLineHintLength=24,this.parallelLineHintOffset=1.5,this.rightAngleHintSize=24,this.rightAngleHintOutlineSize=1.5,this.satisfiesConstraintScreenThreshold=1}};(0,n._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"lineSnapper",void 0),(0,n._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"parallelLineSnapper",void 0),(0,n._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"rightAngleSnapper",void 0),(0,n._)([(0,o.MZ)({type:a,constructOnly:!0,nonNullable:!0,json:{write:!0}})],u.prototype,"rightAngleTriangleSnapper",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],u.prototype,"shortLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:-1,max:50,step:1},json:{write:!0}})],u.prototype,"distance",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"pointThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"intersectionParallelLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"parallelLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],u.prototype,"verticalLineThresholdMeters",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"touchSensitivityMultiplier",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1e-5},json:{write:!0}})],u.prototype,"pointOnLineThreshold",void 0),(0,n._)([(0,o.MZ)({type:s.A,nonNullable:!0})],u.prototype,"orange",void 0),(0,n._)([(0,o.MZ)({type:s.A,nonNullable:!0})],u.prototype,"orangeTransparent",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"lineHintWidthReference",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"lineHintWidthTarget",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],u.prototype,"lineHintFadedExtensions",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:10},json:{write:!0}})],u.prototype,"parallelLineHintWidth",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:50},json:{write:!0}})],u.prototype,"parallelLineHintLength",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],u.prototype,"parallelLineHintOffset",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:46},json:{write:!0}})],u.prototype,"rightAngleHintSize",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:6},json:{write:!0}})],u.prototype,"rightAngleHintOutlineSize",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:5},json:{write:!0}})],u.prototype,"satisfiesConstraintScreenThreshold",void 0),u=(0,n._)([(0,h.$)("esri.views.interactive.snapping.Settings.Defaults")],u);const c=new u},58144:function(t,i,e){e.d(i,{e:function(){return n}});class n{constructor(t){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.drawConstraints=null,this.editGeometryOperations=t.editGeometryOperations,this.elevationInfo=t.elevationInfo,this.pointer=t.pointer,this.vertexHandle=t.vertexHandle,this.excludeFeature=t.excludeFeature,this.feature=t.feature,this.visualizer=t.visualizer,this.selfSnappingZ=t.selfSnappingZ,this.drawConstraints=t.drawConstraints}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}},34618:function(t,i,e){var n;e.d(i,{n:function(){return n}}),function(t){t[t.FEATURE=1]="FEATURE",t[t.SELF=2]="SELF",t[t.ALL=3]="ALL"}(n||(n={}))},45908:function(t,i,e){e.d(i,{L:function(){return f}});var n=e(95929),s=e(60539),r=e(28181),o=e(42413),h=e(45328),a=e(68945),u=e(2831),c=e(58144),l=e(48961);function f({predicate:t=()=>!0,snappingManager:i,snappingContext:e,updatingHandles:h,useZ:f=!0}){const g=new u.rh;if(null==i)return{snappingStep:[y,g],cancelSnapping:y};let b,w=null,m=null,x=null;const M=()=>{w=(0,n.DC)(w),i.doneSnapping(),m?.frameTask.remove(),m=null,b=(0,n.xt)(b),x=null},_=(k=i,A=f,T=g,(0,s.sg)((async({frameTask:t,point:i,scenePoint:e,context:n,event:s,delta:r,getLastState:h},a)=>{const u=await t.schedule((()=>k.snap({point:i,scenePoint:e,context:n,signal:a})),a);if(u.valid){let e=await t.schedule((()=>u.apply()),a);const c=h();null!=c.point&&i!==c.point&&(e=k.update({point:c.point,scenePoint:c.scenePoint,context:n})),null!=c.updatePoint&&(0,o.CI)(e,c.updatePoint)||(v(s.mapEnd,e,r,A),T.execute(s))}})));var k,A,T;let j=null,P=null,I=null;return{snappingStep:[n=>{if(!t(n))return n;const{action:o}=n;if("start"===o){const{info:t}=n,s=function(t){return"3d"===t.type?t.resourceController.scheduler.registerTask(l.W6.SNAPPING):l.nu}(i.view);if(m=function(t,i,e){return{context:new c.e({editGeometryOperations:t.editGeometryOperations,elevationInfo:t.elevationInfo,pointer:t.pointer,vertexHandle:null!=i.info?i.info.handle:null,excludeFeature:t.excludeFeature,feature:t.feature,visualizer:t.visualizer}),originalPos:null!=i.snapOrigin?t.coordinateHelper.vectorToDehydratedPoint(i.snapOrigin):i.mapStart,originalScenePos:null!=i.scenePoints?i.scenePoints.sceneStart:null,frameTask:e}}(e,n,s),m.context.selfSnappingZ=null,!f&&null!=t){const i=function(t,i){if(!t.hasZ())return null;const e=i.vertices;let n=null;for(const i of e){const e=t.getZ(i.pos);if(null!=n&&null!=e&&Math.abs(e-n)>1e-6)return null;null==n&&(n=e)}return n}(e.coordinateHelper,t.handle.component);null!=i&&(m.context.selfSnappingZ={value:i,elevationInfo:e.elevationInfo??a.qt})}}if(null!=m){const{context:t,originalScenePos:e,originalPos:a}=m,{mapEnd:u,mapStart:c,scenePoints:l}=n,y=p(a,d(u,c)),g=d(c,a),M={...n,action:"update"},k=m.context,A=function(t,i){return null==t||null==i?null:p(t,d(i.sceneEnd,i.sceneStart))}(e,l),T=i.update({point:y,scenePoint:A,context:t});if(I=T,v(u,T,g,f),j=y,P=A,"end"!==o){const{frameTask:t}=m;null==w&&(w=new AbortController),x=i=>{h.addPromise((0,s.QZ)(_({frameTask:t,event:M,context:k,point:y,scenePoint:A,delta:g,getLastState:()=>({point:j,scenePoint:P,updatePoint:i.forceUpdate?null:I})},w.signal)))},x({forceUpdate:!1}),null==b&&(b=(0,r.watch)((()=>i.options.effectiveEnabled),(()=>x?.({forceUpdate:!0}))))}}return"end"===o&&M(),n},g],cancelSnapping:t=>(M(),t)}}function p(t,[i,e,n]){const s=(0,h.EL)(t);return s.x+=i,s.y+=e,s.hasZ&&(s.z+=n),s}function d(t,i){const e=t.hasZ&&i.hasZ?t.z-i.z:0;return[t.x-i.x,t.y-i.y,e]}function v(t,i,[e,n,s],r){t.x=i.x+e,t.y=i.y+n,r&&t.hasZ&&i.hasZ&&(t.z=i.z+s)}function y(t){return t}},21858:function(t,i,e){e.d(i,{b:function(){return u}});var n=e(61226),s=e(97441),r=e(64330),o=e(92535),h=e(96942),a=e(98245);class u{draw(t,i){const e=function(t){const i=[];for(const e of t){let t=!0;for(const n of i)if(e.equals(n)){t=!1;break}t&&i.push(e)}return i}(t),u=this.sortUniqueHints(e),c=[];for(const t of u)t instanceof s.v&&c.push(this.visualizeIntersectionPoint(t,i)),t instanceof r.c&&c.push(this.visualizeLine(t,i)),t instanceof o.r&&c.push(this.visualizeParallelSign(t,i)),t instanceof a.l&&c.push(this.visualizeRightAngleQuad(t,i)),t instanceof h._&&c.push(this.visualizePoint(t,i));return(0,n.vE)(c)}sortUniqueHints(t){return t}}},97441:function(t,i,e){e.d(i,{v:function(){return o}});var n=e(20551),s=e(34618),r=e(94612);class o extends r.m{constructor(t,i,e=s.n.ALL){super(i,e),this.intersectionPoint=t}equals(t){return t instanceof o&&(0,n.p)(this.intersectionPoint,t.intersectionPoint)}}},64330:function(t,i,e){e.d(i,{c:function(){return o}}),e(58941),e(40633);var n=e(20551),s=e(34618),r=e(94612);class o extends r.m{constructor(t,i,e,n,r=s.n.ALL,o=!0,h=!0){super(n,r),this.type=t,this.lineStart=i,this.lineEnd=e,this.fadeLeft=o,this.fadeRight=h}equals(t){return t instanceof o&&this.type===t.type&&(0,n.p)(this.lineStart,t.lineStart)&&(0,n.p)(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return(0,n.j)(this.lineStart,this.lineEnd)}}},92535:function(t,i,e){e.d(i,{r:function(){return o}}),e(58941),e(40633);var n=e(20551),s=e(34618),r=e(94612);class o extends r.m{constructor(t,i,e,n=s.n.ALL){super(e,n),this.lineStart=t,this.lineEnd=i}equals(t){return t instanceof o&&(0,n.p)(this.lineStart,t.lineStart)&&(0,n.p)(this.lineEnd,t.lineEnd)}}},96942:function(t,i,e){e.d(i,{_:function(){return r}});var n=e(20551),s=e(94612);class r extends s.m{constructor(t,i,e){super(i,e),this.point=t}equals(t){return t instanceof r&&(0,n.p)(this.point,t.point)}}},98245:function(t,i,e){e.d(i,{l:function(){return o}}),e(58941),e(40633);var n=e(20551),s=e(34618),r=e(94612);class o extends r.m{constructor(t,i,e,n,r=s.n.ALL){super(n,r),this.previousVertex=t,this.centerVertex=i,this.nextVertex=e}equals(t){return t instanceof o&&(0,n.p)(this.previousVertex,t.previousVertex)&&(0,n.p)(this.centerVertex,t.centerVertex)&&(0,n.p)(this.nextVertex,t.nextVertex)}}},94612:function(t,i,e){e.d(i,{m:function(){return n}});class n{constructor(t,i){this.isDraped=t,this.domain=i}}},44425:function(t,i,e){e.d(i,{BY:function(){return k},H3:function(){return b},HN:function(){return M},Mo:function(){return y},Tu:function(){return A},io:function(){return d},is:function(){return x},nf:function(){return m},pM:function(){return v},xX:function(){return g}});var n=e(28181),s=e(17660),r=e(98737),o=e(45139),h=e(20551),a=e(46460),u=e(7926),c=e(87922),l=e(37578),f=e(28397),p=e(51928);const d=Symbol("grid-placement-graphic");function v(t,i){const e=t.x-i.x,n=t.y-i.y;return e*e+n*n}function y(t,i){return Math.sqrt(v(t,i))}function g(t,i){i.sort(((i,e)=>(0,h.s)(i.targetPoint,t)-(0,h.s)(e.targetPoint,t)))}var b,w;function m({point:t,distance:i,returnEdge:e,vertexMode:n,coordinateHelper:{spatialReference:h},filter:c},l,f){return f=null!=f?f.clone():new u.A({where:"1=1"}),c&&(f.geometry=c.geometry,f.distance=c.distance,f.spatialRelationship=c.spatialRelationship,f.where=(0,r.m)(f.where,c.where),f.timeExtent=(0,o.pJ)(f.timeExtent,c.timeExtent),f.objectIds=function(t,i){return t||i?i?t?Array.from((0,s.E$)(new Set(t),new Set(i))):i:t:null}(f.objectIds,c.objectIds)),{point:(0,a.T)(t[0],t[1],t[2],h.toJSON()),mode:l,distance:i,returnEdge:e,vertexMode:n,query:f.toJSON()}}function x(t,i,e){return{left:(0,f.Lp)(t.leftVertex.pos,i,e),right:(0,f.Lp)(t.rightVertex.pos,i,e)}}function M(t){return t.createQuery()}(w=b||(b={}))[w.TARGET=0]="TARGET",w[w.REFERENCE=1]="REFERENCE",w[w.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION";const _=Symbol("snapping-toggle");function k(t,i=()=>{}){const e=(0,n.watch)((()=>({view:t.view,snappingOptions:t.snappingOptions})),(({view:e,snappingOptions:n})=>{if(t.removeHandles(_),!e||!n)return;const s=c.o.TOOL,r=[e.on("key-down",(t=>{t.key!==l.fn.toggle||t.repeat||(n.enabledToggled=!0,i())}),s),e.on("key-up",(t=>{t.key===l.fn.toggle&&(n.enabledToggled=!1,i())}),s),e.on("pointer-move",(t=>{const e=t.native.ctrlKey;n.enabledToggled!==e&&(n.enabledToggled=e,i())}),s)];t.addHandles(r,_)}),n.pc);t.addHandles(e)}function A(t){return(0,p.r)(t)&&"utilityNetworks"in t&&!!t.utilityNetworks?.length}},17921:function(t,i,e){e.d(i,{T:function(){return s}});var n=e(13520);function s(t){let i=0,e=0,s=0;return t?("cim"===t.type&&t.data.symbol&&"symbolLayers"in t.data.symbol&&t.data.symbol.symbolLayers&&t.data.symbol.symbolLayers.map((t=>{"CIMVectorMarker"===t.type&&t.anchorPoint&&(Math.abs(t.anchorPoint.x)>i&&(i=t.anchorPoint.x),Math.abs(t.anchorPoint.y)>e&&(e=t.anchorPoint.y),null!=t.size&&t.size>s&&(s=t.size))})),i=(0,n.Lz)(i),e=(0,n.Lz)(e),s=(0,n.Lz)(s),{offsetX:i,offsetY:e,size:s}):{offsetX:i,offsetY:e,size:s}}},87265:function(t,i,e){e.d(i,{Am:function(){return T},Gk:function(){return g},Ku:function(){return m},S3:function(){return M},fL:function(){return P},em:function(){return j},LJ:function(){return _},Y3:function(){return x},dy:function(){return A},qP:function(){return k},fr:function(){return w},Hw:function(){return I},uf:function(){return E}});var n=e(56275),s=e(49634),r=e(53804),o=e(83525),h=e(66110),a=e(23502),u=(e(58941),e(40633),e(13798),e(65953));let c=class extends o.A{constructor(t){super(t),this.actual=null,this.lockable=!0,this.id=(0,h.lk)(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(t){this.lockable&&this._set("committed",t)}get dirty(){return null!=this.inputValue}get locked(){return this.lockable&&null!=this.committed}onInput(t){this.inputValue=t}onCommit(t,i,e){this.lockable?this._onCommitLockable(t,e):this._onCommitNonLockable(e),this.invalid&&"commit-and-exit"===t||e.onCommit(i,t)}_onCommitLockable(t,i){const{inputValue:e,locked:n}=this;n&&l(e)?this.unlock():("commit-and-exit"===t&&!n||null!=e)&&this._parseInputAndLock(i)}_onCommitNonLockable(t){const{inputValue:i}=this;l(i)?this.setActual(null):null!=i&&this._parseInputAndSetActual(t)}applyValue(t){this.lockable?this.lock(t):this.setActual(t)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(t){this.actual=t,this.clearInputValue()}lock(t){this.lockable&&(this.committed=t??this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(t){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(t))}getSuffix(t){const{suffix:i}=this;return"function"==typeof i?i(t):i}getFormattedValue(t){const{actual:i,committed:e,format:n}=this;return null!=e?n(e,t):null!=i?n(i,t):null}getRawDisplayValue(t){const{actual:i,committed:e,inputValue:n}=this;return null!=n?n:this.lockable&&null!=e?this.formatForInputMode(e,t):null!=i?this.formatForInputMode(i,t):null}_parseInputAndSetActual(t){const{inputValue:i}=this;if(null==i||l(i))return this.setActual(null);const e=this.parse(i,t);null!=e?this.setActual(e):this.invalid=!0}_parseInputAndLock(t){const{inputValue:i,actual:e}=this;if(l(i))return this.unlock();if(null==i)return this.lock(e);const n=this.parse(i,t);null!=n?this.lock(n):this.invalid=!0}};function l(t){return null!=t&&""===t.trim()}(0,r._)([(0,a.MZ)()],c.prototype,"actual",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"committed",null),(0,r._)([(0,a.MZ)()],c.prototype,"dirty",null),(0,r._)([(0,a.MZ)()],c.prototype,"format",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"formatForInputMode",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"lockable",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"locked",null),(0,r._)([(0,a.MZ)()],c.prototype,"id",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"inputValue",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"name",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"parse",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"readOnly",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"suffix",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"title",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"visible",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"invalid",void 0),(0,r._)([(0,a.MZ)()],c.prototype,"unlockOnVertexPlacement",void 0),c=(0,r._)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipField")],c);let f=class extends c{constructor(t){super(t),this.showAsZ=!1}normalizeCtorArgs(t){const i=t=>t.inputUnitInfos.verticalLength.unit;return{name:"elevation",actual:n.r7,parse:(0,s.hw)({createQuantity:(t,e)=>(0,n.d_)(t,i(e))}),format:(t,i)=>i.formatters.verticalLength(t),formatForInputMode:(t,e)=>e.formatters.scalar((0,n.kM)(t,i(e))),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1,...t}}};(0,r._)([(0,a.MZ)()],f.prototype,"showAsZ",void 0),f=(0,r._)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],f);var p=e(88226),d=e(99675);let v=class extends c{constructor(t){super(t),this.precision=1}normalizeCtorArgs(t){return{name:"orientation",actual:null,parse:(0,s.hw)({createQuantity:(t,i)=>(0,n.Wq)(t,(t=>t.inputUnitInfos.angle.unit)(i),"geographic"),sanitize:s.D5}),format:t=>{const i=(0,d.P1)(t);return(0,p.Nk)(i,"geographic",this.precision)},formatForInputMode:(t,i)=>{const e=(0,d.P1)(t);return i.formatters.scalar(e)},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.orientation,...t}}};(0,r._)([(0,a.MZ)()],v.prototype,"precision",void 0),v=(0,r._)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],v);let y=class extends c{constructor(t){super(t),this.precision=null}normalizeCtorArgs(t){const i=t=>t.inputUnitInfos.length.unit;return{name:"size",actual:null,parse:(0,s.hw)({createQuantity:(t,e)=>(0,n.d_)(t,i(e))}),format:(t,i)=>i.formatters.length(t),formatForInputMode:(t,e)=>e.formatters.scalar((0,n.kM)(t,i(e))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.size,...t}}};function g(t){const i=t=>t.inputUnitInfos.angle.unit,e=t=>t.sketchOptions.values.effectiveDirectionMode;return new c({name:"direction",actual:n.IV,parse:(0,s.hw)({createQuantity:(t,e)=>(0,n.Wq)(t,i(e),"geographic"),sanitize:s.D5}),format:(t,i)=>{const n=e(i),s=(0,d.jQ)(t,n);switch(n){case d.rZ.Absolute:return i.formatters.direction(s);case d.rZ.Relative:return i.formatters.directionRelative(s);case d.rZ.RelativeBilateral:return i.formatters.directionRelativeBilateral(s)}},formatForInputMode:(t,s)=>{const r=(0,d.jQ)(t,e(s));return s.formatters.scalar((0,n.kM)(r,i(s)))},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>{const i=e(t),{absolute:n,relative:s}=t.messages.sketch.direction;switch(i){case d.rZ.Absolute:return n;case d.rZ.Relative:case d.rZ.RelativeBilateral:return s}},...t})}function b(t){const i=t=>t.inputUnitInfos.length.unit;return new c({name:"distance",actual:n.r7,parse:(0,s.hw)({createQuantity:(t,e)=>(0,n.d_)(Math.max(t,0),i(e))}),format:(t,i)=>i.formatters.length(t),formatForInputMode:(t,e)=>e.formatters.scalar((0,n.kM)(t,i(e))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance,...t})}function w(t){return b({format:(t,i)=>i.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0,...t})}function m(t){return b({...t})}function x(t){return b({...t,parse:(0,s.hw)({createQuantity:(t,i)=>(0,n.d_)(t,(t=>t.inputUnitInfos.length.unit)(i))}),format:(t,i)=>i.formatters.lengthRelative(t)})}function M(t){return new f(t)}function _(t){return new v(t)}function k(t){return new y(t)}function A(t){return z("scale",{name:"scale",actual:null,parse:(0,s.hw)({createQuantity:t=>(0,n.LF)(Math.abs(t))}),...t})}function T(t){const i=t=>t.inputUnitInfos.area.unit;return new c({name:"area",actual:n.iT,parse:(0,s.hw)({createQuantity:(t,e)=>(0,n.gT)(t,i(e))}),format:(t,i)=>i.formatters.area(t),formatForInputMode:(t,e)=>e.formatters.scalar((0,n.kM)(t,i(e))),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,readOnly:!0,...t})}function j(t){return new c({name:"x",actual:n.IV,parse:s.L5,format:(t,i)=>i.formatters.longitudeDecimalDegrees(t),formatForInputMode:t=>(0,s.zX)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.longitude,...t})}function P(t){return new c({name:"y",actual:n.IV,parse:s.A3,format:(t,i)=>i.formatters.latitudeDecimalDegrees(t),formatForInputMode:t=>(0,s.oZ)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.latitude,...t})}function I(t){return z("x",{name:"x",...t})}function E(t){return z("y",{name:"y",...t})}function z(t,i){return new c({actual:(0,n.LF)(0),parse:(0,s.hw)({createQuantity:t=>(0,n.LF)(t)}),format:(t,i)=>i.formatters.scalar(t),formatForInputMode:(t,i)=>i.formatters.scalar(t),title:i=>i.messages.sketch[t],...i})}(0,r._)([(0,a.MZ)()],y.prototype,"precision",void 0),y=(0,r._)([(0,u.$)("esri.views.interactive.tooltip.fields.TooltipFieldSize")],y)},49634:function(t,i,e){e.d(i,{A3:function(){return N},D5:function(){return j},GC:function(){return l},L5:function(){return S},Nr:function(){return E},X3:function(){return C},hw:function(){return T},m6:function(){return R},oZ:function(){return w},zX:function(){return b}});var n=e(16691),s=e(88226),r=e(56275),o=e(6338),h=e(2900),a=e(99675);const u=1,c=6;function l(t,i){return{angleRelative:f,direction:p,directionRelative:d,directionRelativeBilateral:v,latitudeDecimalDegrees:g,longitudeDecimalDegrees:y,area:(e,n)=>(0,s.Jd)(t,e,n??i.area),length:(e,n,r)=>(0,s.ix)(t,e,n??i.length,r),lengthRelative:(e,n)=>(0,s.yh)(t,e,n??i.length),totalLength:(e,n)=>(0,s.ix)(t,e,n??i.length),verticalLength:(e,n)=>(0,s.Oo)(t,e,n??i.verticalLength),verticalLengthRelative:(e,n)=>(0,s.OM)(t,e,n??i.verticalLength),percentage:M,scalar:k,scale:_}}function f(t){return(0,h.ZV)(t,{signDisplay:"exceptZero",...A(u)})}function p(t){return(0,s.Nk)(t,t.rotationType,u)}function d(t){const i=(0,a.hF)(t);return(0,h.ZV)(i,{style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:i>0?"never":"exceptZero",...A(u)})}function v(t){return(0,s.Nk)(t,t.rotationType,u)}function y(t){return m(t,O)}function g(t){return m(t,G)}function b(t){return x(t,O)}function w(t){return x(t,G)}function m(t,i){return(0,s.Nk)((0,r.kM)(t,"degrees"),"geographic",c,i,!1)}function x(t,i){const e=i.normalize((0,r.kM)(t,"degrees").value,void 0,!1);return k((0,r.LF)(e),c)}function M(t){return(0,h.ZV)(t.value,{style:"percent"})}function _(t){return(0,h.ZV)(t,{style:"percent",maximumFractionDigits:0})}function k(t,i){return(0,h.ZV)(t.value,A(i))}function A(t){return{minimumFractionDigits:t,maximumFractionDigits:t}}function T({createQuantity:t,sanitize:i}){return(e,n)=>{if(null==e)return null;i&&(e=i(e));const s=(0,h.$J)(e);return null==s?null:t(s,n)}}function j(t){return t.replaceAll(/[*^~]/g,"")}const P=t=>{let i=`[-+]?[0-9${t.thousands}]+`;return""!==t.decimal&&(i+=`${t.decimal}[0-9]+`),new RegExp(`^(${i}\\s*)${t.separator}(\\s*${i})$`,"i")},I=[];for(const t of[",","\\|","\\s+"])for(const i of["\\.",",",""])for(const e of["",",","\\.","","\\s+"])t!==i&&t!==e&&i!==e&&I.push({separator:t,decimal:i,thousands:e,pattern:P({decimal:i,thousands:e,separator:t})});function E(t){for(const{decimal:i,thousands:e,pattern:n}of I){n.lastIndex=0;const s=t.match(n);if(!s)continue;const o=(0,h.$J)(z(s[1],i,e)),a=(0,h.$J)(z(s[2],i,e));if(null!=o&&null!=a)return{x:(0,r.LF)(o),y:(0,r.LF)(a)}}return null}function z(t,i,e){let n=t.replaceAll(/[\s+]/g,"");return""!==e&&(n=n.replaceAll(e,"")),""!==i&&(n=n.replaceAll(i,".")),n}function C(t){if(!t||null!=(0,h.$J)(t)||!(0,o.s1)())return null;const i=(0,o.o6)(t),e=R(i?.latitude),n=R(i?.longitude);return null!=n&&null!=e?{latitude:e,longitude:n}:null}function S(t){return R((0,o.mT)(t))}function N(t){return R((0,o.ts)(t))}function R(t){return null!=t?(0,r.Wq)(t,"degrees","geographic"):null}const O=new n.hr(-180,180),G=new n.hr(-90,90)},90858:function(t,i,e){e.d(i,{w:function(){return h}});var n=e(53804),s=e(83525),r=e(23502),o=(e(58941),e(40633),e(13798),e(65953));let h=class extends s.A{constructor(t){super(t),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter((t=>t.visible&&!t.readOnly))}clearInputValues(){this.allFields.forEach((t=>t.clearInputValue()))}};(0,n._)([(0,r.MZ)()],h.prototype,"sketchOptions",void 0),(0,n._)([(0,r.MZ)()],h.prototype,"visibleElements",null),(0,n._)([(0,r.MZ)()],h.prototype,"helpMessage",void 0),(0,n._)([(0,r.MZ)()],h.prototype,"viewType",void 0),(0,n._)([(0,r.MZ)()],h.prototype,"allFields",null),(0,n._)([(0,r.MZ)()],h.prototype,"editableFields",null),h=(0,n._)([(0,o.$)("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],h)},73919:function(t,i,e){e.d(i,{B:function(){return l}});var n=e(53804),s=e(56275),r=e(23502),o=(e(58941),e(40633),e(13798),e(65953)),h=e(74471),a=e(87265),u=e(49634),c=e(99368);const l=t=>{let i=class extends t{constructor(){super(...arguments),this.longitude=(0,a.em)(),this.latitude=(0,a.fL)(),this.x=(0,a.Hw)(),this.y=(0,a.uf)(),this.elevation=(0,a.S3)(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(t,i=t?.spatialReference){if(this.geographic=!!i&&(0,c.yF)(i),null==t)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){const i=(0,h.QP)(t,f);this._setActualLonLat((0,u.m6)(i?.[0]),(0,u.m6)(i?.[1]))}else this._setActualXY((0,s.LF)(t.x),(0,s.LF)(t.y))}_setActualLonLat(t,i){this.longitude.actual=t,this.latitude.actual=i}_setActualXY(t,i){this.x.actual=t,this.y.actual=i}};return(0,n._)([(0,r.MZ)()],i.prototype,"geographic",void 0),(0,n._)([(0,r.MZ)()],i.prototype,"effectiveX",null),(0,n._)([(0,r.MZ)()],i.prototype,"effectiveY",null),(0,n._)([(0,r.MZ)()],i.prototype,"key",null),i=(0,n._)([(0,o.$)("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],i),i},f=[0,0]},24148:function(t,i,e){e.d(i,{sZ:function(){return Zt},wG:function(){return Ht},mu:function(){return Vt},A:function(){return Ot},HA:function(){return Ut},IA:function(){return Dt},Ue:function(){return Gt}});var n=e(77472),s=e(61226),r=e(15774),o=e(56275),h=e(28181),a=e(62938),u=e(20551),c=e(32501),l=e(6338),f=(e(45532),e(36405)),p=e(67376),d=e(57652),v=e(1644),y=e(37578),g=e(53804),b=e(48996),w=e(40212),m=e(95929),x=e(13520),M=e(23502),_=(e(58941),e(40633),e(13798),e(65953)),k=e(93839);const A="esri-tooltip",T=`${A}-content`,j=`${A}-content--input`,P=`${A}-content__header`,I=`${A}-content__header__spacer`,E=`${A}-content__header__actions`,z=`${A}-draw-header-actions`,C=`${A}-table`,S=`${A}-help-message`,N=`${A}-help-message__text`,R=`${A}-help-message__icon`;e(39819);var O=e(31267),G=e(10362),D=e(49146);const V=`${A}-field`,L={base:V,inputMode:`${V}--input`,title:`${V}__title`,value:`${V}__value`};let F=class extends O.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return(0,D.K)("div",{class:this.classes({[L.base]:!0,[L.inputMode]:"input"===this.mode})},(0,D.K)("div",{class:L.title,key:"title"},this.title),(0,D.K)("div",{class:L.value,key:"value"},this.value))}};(0,g._)([(0,M.MZ)()],F.prototype,"hidden",void 0),(0,g._)([(0,M.MZ)()],F.prototype,"mode",void 0),(0,g._)([(0,M.MZ)()],F.prototype,"title",void 0),(0,g._)([(0,M.MZ)()],F.prototype,"value",void 0),F=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.components.TooltipField")],F);const q={base:`${A}-value-by-value`};let B=class extends O.A{constructor(){super(...arguments),this.divider=""}render(){return(0,D.K)("div",{class:q.base},(0,D.K)("span",null,this.left),(0,D.K)("span",null,this.divider),(0,D.K)("span",null,this.right))}};(0,g._)([(0,M.MZ)()],B.prototype,"left",void 0),(0,g._)([(0,M.MZ)()],B.prototype,"divider",void 0),(0,g._)([(0,M.MZ)()],B.prototype,"right",void 0),B=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.components.ValueByValue")],B);var H=e(84016),Z=e(7213),U=e(60539),K=e(74087),J=e(15999),X=e(76722),W=e(49634),Y=e(28754),$=e(90357);const Q=Symbol("dragHandles");let tt=class extends O.A{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transitionInfo=null,this._mode="feedback",this._getFormatters=(0,Z.B)(W.GC),this._onHeaderPointerDown=t=>{const i=t.target;i instanceof HTMLElement&&"calcite-button"!==i?.tagName?.toLowerCase()&&(this.removeHandles(Q),i.setPointerCapture(t.pointerId),this.tooltip.onDragStart(t.clientX,t.clientY),this.addHandles([(0,w.on)(i,"pointermove",(({clientX:t,clientY:i})=>{this.tooltip.onDrag(t,i)})),(0,w.on)(i,["pointerup","pointercancel"],(e=>{this.removeHandles(Q),i.releasePointerCapture(t.pointerId),this.tooltip.onDragEnd()})),(0,w.on)(i,"touchstart",(t=>t.preventDefault()))],Q))},this._onDiscard=()=>{this.destroyed||(this.tooltip.emit("discard"),this.info.clearInputValues(),this.exitInputMode())},this._onCommit=(t,i)=>{if(this.destroyed)return;if(this.tooltip.emit("commit",{type:i}),"commit-and-exit"===i)return void this.exitInputMode();if("commit-on-blur"===i)return;const e=this._getFocusableElements(),n=e.length,s=e.indexOf(t);if(-1===s)return void this.exitInputMode();const r=((s+("commit-and-next"===i?1:-1))%n+n)%n;it(e.at(r))},this._onKeyDown=t=>{switch(t.code){case y.ac.next:return this._onNextKey(t);case y.ac.discard:return t.stopPropagation(),this._onDiscard()}}}get mode(){return this._mode}get _displayUnits(){const{displayUnits:t}=this.info.sketchOptions.values,i=(0,X.c)(this.tooltip.view);return{length:t.length??i,verticalLength:t.verticalLength??i,area:t.area??i}}get _inputUnitInfos(){const t=this._messagesUnits,i=i=>({unit:i,abbreviation:(0,J.Cq)(t,i,"abbr")}),{inputUnits:e}=this.info.sketchOptions.values,n=(0,X.c)(this.tooltip.view),s=e.length??n,r=e.verticalLength??n,o=e.area??n;return{length:i((0,a.wL)(s)),verticalLength:i((0,a.m5)(r)),area:i((0,a.tW)(o)),angle:i("degrees")}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){const{visibleElements:t}=this.info.sketchOptions.tooltips,i=this._renderedContent,e=this._renderedActions,n=this._renderedHelpMessage,s=i.length>0,r=s||!!n,o="input"===this.mode;return(0,D.K)("div",{class:(0,G.Ly)(T,o&&j),onkeydown:this._onKeyDown,tabIndex:-1},o&&r&&t.header?(0,D.K)("div",{class:P,"data-testid":"tooltip-header",key:"header",onpointerdown:this._onHeaderPointerDown},(0,D.K)("calcite-button",{appearance:"transparent","data-testid":"tooltip-back-button",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),e.length>0?(0,D.K)(D.w,null,(0,D.K)("div",{class:I,key:"spacer"}),(0,D.K)("div",{class:E,key:"actions"},e)):null):null,s?(0,D.K)("div",{class:C,key:"content"},...i):null,n)}destroy(){this._focusAbortController.abort(),this._transitionInfo?.transition.skipTransition()}_renderActions(){return null}loadDependencies(){return(0,Y.W)({button:()=>e.e(2974).then(e.bind(e,45399)),icon:()=>e.e(2525).then(e.bind(e,50855)),input:()=>e.e(2498).then(e.bind(e,21512))})}async enterInputMode(t,i){try{await this._transitionTo("input",i),await this._focusField(t)}catch(t){(0,U.jH)(t)}}async exitInputMode({focusOnView:t=!0}={}){try{const{container:i,info:e}=this;e.clearInputValues();const n=t?i?.closest(".esri-view")?.querySelector(".esri-view-surface"):null;await this._transitionTo("feedback"),n instanceof HTMLElement&&n.focus()}catch(t){(0,U.jH)(t)}}_onNextKey(t){const i=this._getFocusableElements(),e=i.at(0),n=i.at(-1);e&&n&&(t.shiftKey?document.activeElement===e&&(t.preventDefault(),t.stopPropagation(),it(n)):document.activeElement===n&&(t.preventDefault(),t.stopPropagation(),it(e)))}get _renderedContent(){return et(this._renderContent())}get _renderedActions(){return et(this._renderActions())}get _renderedHelpMessage(){const{sketchOptions:t,visibleElements:i}=this.info;if(!i.helpMessage)return null;const e=t.tooltips.helpMessage??this._defaultHelpMessage;if(!e)return null;const n=t.tooltips.helpMessageIcon??"information";return(0,D.K)("div",{class:S,key:"help-message"},n?(0,D.K)("calcite-icon",{class:R,icon:n,scale:"s"}):null,(0,D.K)("div",{class:N},e))}get _defaultHelpMessage(){const{helpMessage:t,viewType:i}=this.info;if(null==t)return null;const e="3d"===i?"helpMessages3d":"helpMessages2d";return this._messagesTooltip?.sketch?.[e]?.[t]}async _focusField(t){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;const{signal:i}=this._focusAbortController;await this._waitForInputs(),(0,U.Te)(i);const e=this._getFocusableInputs(),n=t?e.find((i=>i.getAttribute("data-field-name")===t)):e.at(0);await it(n)}async _transitionTo(t,i){if(this._mode===t&&!this._transitionInfo)return;if(this._transitionInfo?.mode===t)return this._transitionInfo.transition.finished;this._transitionInfo?.transition.skipTransition();const e=async()=>{this.destroyed||(this._mode=t,await(0,K.NO)(),this.destroyed||(this.renderNow(),await(0,K.NO)(),this.destroyed||i?.()))};if(!this.domNode?.firstChild||!document.startViewTransition||(0,H.O)())return void await e();this.autoRenderingEnabled=!1;const n=this._transitionInfo={transition:document.startViewTransition((async()=>{this.destroyed||n!==this._transitionInfo||(this.autoRenderingEnabled=!0,await e())})),mode:t};try{await n.transition.finished}finally{n===this._transitionInfo&&(this._transitionInfo=null)}}async _waitForInputs(){const t=()=>Array.from(this.domNode?.querySelectorAll("calcite-input")??[]);for(;0===t().length;)await(0,U.Pl)(nt);await(0,K.$m)()}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])")??[])}_getFocusableElements(){const t=this.domNode?.querySelector(`.${z}`);return[...Array.from(t?.querySelectorAll(`.${E} calcite-button:not([disabled])`)??[]),...this._getFocusableInputs()]}};async function it(t){await(t?.setFocus())}function et(t){return(Array.isArray(t)?t:[t]).flat(10).filter((t=>!!t))}(0,g._)([(0,$.G)("esri/core/t9n/Units"),(0,M.MZ)()],tt.prototype,"_messagesUnits",void 0),(0,g._)([(0,$.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,M.MZ)()],tt.prototype,"_messagesTooltip",void 0),(0,g._)([(0,M.MZ)()],tt.prototype,"info",void 0),(0,g._)([(0,M.MZ)()],tt.prototype,"tooltip",void 0),(0,g._)([(0,M.MZ)()],tt.prototype,"_mode",void 0),(0,g._)([(0,M.MZ)()],tt.prototype,"mode",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_displayUnits",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_inputUnitInfos",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_formatters",null),(0,g._)([(0,M.MZ)()],tt.prototype,"fieldContext",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_renderedContent",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_renderedActions",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_renderedHelpMessage",null),(0,g._)([(0,M.MZ)()],tt.prototype,"_defaultHelpMessage",null),tt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContent")],tt);const nt=20;let st=class extends tt{_renderContent(){const{area:t,radius:i,xSize:e,ySize:n,visibleElements:s}=this.info,r=this._messagesTooltip.sketch,o=this._formatters;return(0,D.K)(D.w,null,s.radius&&null!=i?(0,D.K)(F,{title:r.radius,value:o.length(i)}):null,s.size&&null!=e&&null!=n?(0,D.K)(F,{title:r.size,value:(0,D.K)(B,{left:o.length(e),right:o.length(n)})}):null,s.area?(0,D.K)(F,{title:r.area,value:o.area(t)}):null)}};st=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],st);const rt=`${A}-editable-field`,ot={base:rt,inputMode:`${rt}--input`,feedbackMode:`${rt}--feedback`,readOnly:`${rt}--read-only`,locked:`${rt}--locked`,title:`${rt}__title`,value:`${rt}__value`,valueContent:`${rt}__value__content`,valueContentReadOnly:`${rt}__value__content--read-only`,lockIcon:`${rt}__lock-icon`,input:`${rt}__input`,inputSuffix:`${rt}__input-suffix`,button:`${rt}__button`},ht="lock";let at=class extends O.A{constructor(){super(...arguments),this._input=null,this._lock=null,this._onLockClick=()=>{this.field.toggleLock(this.context)},this._onLockAfterCreate=t=>{this._lock=t},this._onLockAfterRemoved=()=>{this._lock=null},this._onKeyDown=t=>{t.key===y.ac.discard&&"input"===this.mode&&this._input&&this.context.onDiscard(this._input)},this._onInputKeyDown=t=>{const i=this._input;if(i)switch(t.key){case y.ac.commit:return this.field.onCommit("commit-and-exit",i,this.context);case y.ac.next:{t.preventDefault(),t.stopPropagation();const e=t.shiftKey?"commit-and-previous":"commit-and-next";return this.field.onCommit(e,i,this.context)}}},this._onInput=t=>{this.field.onInput(t.target.value)},this._onInputBlur=t=>{const i=this._input;i&&t.relatedTarget!==this._lock&&this.field.onCommit("commit-on-blur",i,this.context)},this._selectText=()=>{const t=()=>{this._input===document.activeElement&&this._input?.selectText()};t(),(0,K.$m)().then(t)},this._onAfterCreate=t=>{this._input=t,t.addEventListener("paste",this._onPaste),t.addEventListener("beforeinput",this._onBeforeInput)},this._onAfterRemoved=t=>{t.removeEventListener("paste",this._onPaste),t.removeEventListener("beforeinput",this._onBeforeInput)},this._onPaste=t=>{const i=t.clipboardData?.getData("text");i&&null!=this.field.parse(i,this.context)&&(t.stopPropagation(),this.field.onInput(i))},this._onBeforeInput=t=>{("historyUndo"===t.inputType||"historyRedo"===t.inputType)&&!this.field.dirty&&t.preventDefault()}}initialize(){this.addHandles((0,h.watch)((()=>this._rawDisplayValue),(()=>{const{committed:t,inputValue:i}=this.field;t||i||this._input!==document.activeElement||this._selectText()})))}loadDependencies(){return(0,Y.W)({button:()=>e.e(2974).then(e.bind(e,45399)),icon:()=>e.e(2525).then(e.bind(e,50855)),input:()=>e.e(2498).then(e.bind(e,21512))})}render(){const{field:t,mode:i}=this,e="input"===i,{locked:n,readOnly:s}=t;return(0,D.K)("div",{class:this.classes({[ot.base]:!0,[ot.feedbackMode]:"feedback"===i,[ot.inputMode]:"input"===i,[ot.locked]:n,[ot.readOnly]:s})},(0,D.K)("div",{class:ot.title,key:"title"},this._title),(0,D.K)("div",{class:ot.value,key:"value",onkeydown:this._onKeyDown},e?this._renderValueInputMode():this._renderValueFeedbackMode()))}get _formattedValue(){return this.field.getFormattedValue(this.context)||ut}get _rawDisplayValue(){return this.field.getRawDisplayValue(this.context)}get _suffix(){return this.field.getSuffix(this.context)}get _title(){const{title:t}=this.field;return"string"==typeof t?t:t(this.context)}_renderValueFeedbackMode(){return(0,D.K)(D.w,null,(0,D.K)("div",{class:ot.valueContent,key:"value-feedback"},this._formattedValue),this.field.locked&&"input"!==this.mode?(0,D.K)("calcite-icon",{class:ot.lockIcon,icon:ht,key:"icon",scale:"s"}):null)}_renderValueInputMode(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return(0,D.K)("div",{class:this.classes(ot.valueContent,ot.valueContentReadOnly),key:"value-read-only"},this._formattedValue)}_renderValueWritable(){const{field:t}=this,{name:i,invalid:e,locked:n}=t,s=this.context?.messages.sketch??{},r=n?s.unlockConstraint:s.lockConstraint;return(0,D.K)(D.w,null,(0,D.K)("calcite-input",{afterCreate:this._onAfterCreate,afterRemoved:this._onAfterRemoved,class:ot.input,"data-field-name":i,"data-testid":`tooltip-field-${i}`,key:"input",onblur:this._onInputBlur,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",status:e?"invalid":"idle",type:"text",value:this._rawDisplayValue??ut,onCalciteInputInput:this._onInput}),(0,D.K)("div",{class:ot.inputSuffix,key:"suffix"},this._suffix),t.lockable?(0,D.K)("calcite-button",{afterCreate:this._onLockAfterCreate,afterRemoved:this._onLockAfterRemoved,alignment:"center",appearance:"transparent",class:ot.button,"data-testid":`tooltip-field-${i}-lock`,iconStart:n?ht:"unlock",key:"lock",kind:"neutral",label:r,onclick:this._onLockClick,scale:"s",tabIndex:-1,title:r}):(0,D.K)("div",{key:"lock-empty"}))}};(0,g._)([(0,M.MZ)()],at.prototype,"field",void 0),(0,g._)([(0,M.MZ)()],at.prototype,"context",void 0),(0,g._)([(0,M.MZ)()],at.prototype,"mode",void 0),(0,g._)([(0,M.MZ)()],at.prototype,"_input",void 0),(0,g._)([(0,M.MZ)()],at.prototype,"_lock",void 0),(0,g._)([(0,M.MZ)()],at.prototype,"_formattedValue",null),(0,g._)([(0,M.MZ)()],at.prototype,"_rawDisplayValue",null),(0,g._)([(0,M.MZ)()],at.prototype,"_suffix",null),(0,g._)([(0,M.MZ)()],at.prototype,"_title",null),at=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.components.TooltipEditableField")],at);const ut="";function ct(t){const i=t.fields.filter((t=>!0===t?.visible));return 0===i.length?null:(0,D.K)(D.w,null,i.map((i=>(0,D.K)(at,{context:t.context,field:i,key:i.id,mode:t.mode}))))}let lt=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{visibleElements:n}=i;return(0,D.K)(ct,{context:t,fields:[n.coordinates?i.effectiveX:void 0,n.coordinates?i.effectiveY:void 0,n.elevation?i.elevation:void 0,n.orientation?i.orientation:void 0,n.scale?i.scale:void 0],mode:e})}};lt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],lt);let ft=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{elevation:n,visibleElements:s}=i;return(0,D.K)(ct,{context:t,fields:[s.coordinates?i.effectiveX:void 0,s.coordinates?i.effectiveY:void 0,s.elevation?n:void 0],mode:e})}};ft=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],ft);const pt={absolute:"absolute-direction",relative:"relative-direction"};let dt=class extends O.A{constructor(t){super(t),this.visibleElements={}}render(){return(0,D.K)("div",{class:z},this._isElementVisible("direction")?(0,D.K)(vt,{messages:this.messages,sketchOptions:this.sketchOptions}):null)}loadDependencies(){return(0,Y.W)({button:()=>e.e(2974).then(e.bind(e,45399)),dropdown:()=>e.e(7209).then(e.bind(e,94794)),"dropdown-item":()=>e.e(2547).then(e.bind(e,79383)),"dropdown-group":()=>e.e(951).then(e.bind(e,96361))})}_isElementVisible(t){return this.visibleElements?.[t]??this.sketchOptions.tooltips.visibleElements[t]}};function vt(t){const{directionMode:i}=t.sketchOptions.values,e=t.messages?.sketch,n=e?.directionModeSelect?.title,s="absolute",r="relative";return(0,D.K)("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:i=>{const e=i.target.selectedItems?.[0]?.getAttribute("data-mode");t.sketchOptions.values.directionMode=e??"absolute"}},(0,D.K)("calcite-button",{alignment:"end",appearance:"transparent",iconStart:pt[i],kind:"neutral",label:n,scale:"s",slot:"trigger",title:n}),(0,D.K)("calcite-dropdown-group",{selectionMode:"single"},(0,D.K)("calcite-dropdown-item",{"data-mode":r,"data-testid":"tooltip-direction-mode-relative",iconStart:pt.relative,key:"relative",selected:i===r},e?.directionModeSelect?.relative),(0,D.K)("calcite-dropdown-item",{"data-mode":s,"data-testid":"tooltip-direction-mode-absolute",iconStart:pt.absolute,key:"absolute",selected:i===s},e?.directionModeSelect?.absolute)))}(0,g._)([(0,$.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,M.MZ)()],dt.prototype,"messages",void 0),(0,g._)([(0,M.MZ)()],dt.prototype,"sketchOptions",void 0),(0,g._)([(0,M.MZ)()],dt.prototype,"visibleElements",void 0),dt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.components.DrawHeaderActions")],dt);let yt=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{xyMode:n,visibleElements:s}=i;return(0,D.K)(ct,{context:t,fields:[..."direction-distance"===n?[s.direction?i.direction:void 0,s.distance?i.distance:void 0]:[s.coordinates?i.effectiveX:void 0,s.coordinates?i.effectiveY:void 0],s.elevation?i.elevation:void 0,s.area?i.area:void 0],mode:e})}_renderActions(){const{xyMode:t,sketchOptions:i}=this.info;return(0,D.K)(dt,{sketchOptions:i,visibleElements:{direction:"direction-distance"===t}})}};yt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],yt);let gt=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{xyMode:n,visibleElements:s}=i;return(0,D.K)(ct,{context:t,fields:[..."direction-distance"===n?[s.direction?i.direction:void 0,s.distance?i.distance:void 0]:[s.coordinates?i.effectiveX:void 0,s.coordinates?i.effectiveY:void 0],s.elevation?i.elevation:void 0,s.totalLength?i.totalLength:void 0],mode:e})}_renderActions(){const{xyMode:t,sketchOptions:i}=this.info;return(0,D.K)(dt,{sketchOptions:i,visibleElements:{direction:"direction-distance"===t}})}};gt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],gt);let bt=class extends tt{_renderContent(){const{area:t,xSize:i,ySize:e,visibleElements:n}=this.info,s=this._messagesTooltip.sketch,r=this._formatters;return(0,D.K)(D.w,null,n.size&&null!=i&&null!=e?(0,D.K)(F,{title:s.size,value:(0,D.K)(B,{left:r.length(i),right:r.length(e)})}):null,n.area?(0,D.K)(F,{title:s.area,value:r.area(t)}):null)}};bt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],bt);let wt=class extends tt{_renderContent(){const{angle:t,visibleElements:i}=this.info,e=this._messagesTooltip.sketch;return(0,D.K)(D.w,null,i.rotation?(0,D.K)(F,{title:e.rotation,value:this._formatters.angleRelative(t)}):null)}};wt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],wt);let mt=class extends tt{_renderContent(){const t=this.info,{visibleElements:i}=t,e=this._messagesTooltip.sketch,n=this._formatters;return(0,D.K)(D.w,null,i.size?(0,D.K)(F,{title:e.size,value:(0,D.K)(B,{left:n.length(t.xSize),right:n.length(t.ySize)})}):null,i.scale?(0,D.K)(F,{title:e.scale,value:(0,D.K)(B,{left:n.scale(t.xScale),right:n.scale(t.yScale)})}):null)}};mt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],mt);let xt=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{visibleElements:n}=i;return(0,D.K)(ct,{context:t,fields:[n.coordinates?i.effectiveX:void 0,n.coordinates?i.effectiveY:void 0,n.elevation?i.elevation:void 0],mode:e})}};xt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentMovePoint")],xt);let Mt=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{visibleElements:n}=i;return(0,D.K)(ct,{context:t,fields:[n.distance?i.distance:void 0,n.area?i.area:void 0,n.totalLength?i.totalLength:void 0],mode:e})}};Mt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],Mt);let _t=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{visibleElements:n}=i;return(0,D.K)(ct,{context:t,fields:[n.coordinates?i.effectiveX:void 0,n.coordinates?i.effectiveY:void 0,n.elevation?i.elevation:void 0,n.area&&"polygon"===i.geometryType?i.area:null,n.totalLength&&"polyline"===i.geometryType?i.totalLength:null],mode:e})}};_t=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")],_t);let kt=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{visibleElements:n}=i;return(0,D.K)(ct,{context:t,fields:[n.coordinates?i.effectiveX:void 0,n.coordinates?i.effectiveY:void 0,n.elevation?i.elevation:void 0,n.orientation?i.orientation:void 0,n.scale?i.scale:void 0],mode:e})}};kt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")],kt);let At=class extends tt{_renderContent(){const{fieldContext:t,info:i,mode:e}=this,{visibleElements:n}=i;return(0,D.K)(ct,{context:t,fields:[n.coordinates?i.effectiveX:void 0,n.coordinates?i.effectiveY:void 0,n.elevation?i.elevation:void 0,n.orientation?i.orientation:void 0,n.size?i.size:void 0],mode:e})}};At=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")],At);let Tt=class extends tt{_renderContent(){const{info:t}=this,{visibleElements:i}=t,e=this._messagesTooltip.sketch,n=this._formatters;return(0,D.K)(D.w,null,i.distance?(0,D.K)(F,{title:e.distance,value:n.length(t.distance)}):null)}};Tt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentTranslate")],Tt);let jt=class extends tt{_renderContent(){const{distance:t,elevation:i,area:e,totalLength:n,visibleElements:s}=this.info,r=this._messagesTooltip.sketch,o=this._formatters;return(0,D.K)(D.w,null,s.distance?(0,D.K)(F,{title:r.distance,value:o.length(t)}):null,s.elevation&&null!=i?.actual?(0,D.K)(F,{title:r.elevation,value:o.verticalLength(i.actual)}):null,s.area&&null!=e?(0,D.K)(F,{title:r.area,value:o.area(e)}):null,s.totalLength&&null!=n?(0,D.K)(F,{title:r.totalLength,value:o.length(n)}):null)}};jt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],jt);let Pt=class extends tt{_renderContent(){const{info:t}=this,{visibleElements:i}=t,e=this._messagesTooltip.sketch,n=this._formatters;return(0,D.K)(D.w,null,i.distance?(0,D.K)(F,{title:e.distance,value:n.length(t.distance)}):null)}};Pt=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")],Pt);let It=class extends tt{_renderContent(){const{info:t}=this,{visibleElements:i}=t,e=this._messagesTooltip.sketch;return(0,D.K)(D.w,null,i.distance?(0,D.K)(F,{title:e.distance,value:this._formatters.verticalLengthRelative(t.distance)}):null)}};It=(0,g._)([(0,_.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],It);const Et={base:`${A}`,ltr:`${A}--ltr`,rtl:`${A}--rtl`,debug:`${A}--debug`};let zt=class extends b.A.EventedAccessor{constructor(t){super(t),this.info=null,this.options=null,this.position=null,this.content=null,this._focused=!1,this.outerContainer=document.createElement("div"),this.debug=!1,this._lastPosition=null,this._rtl=!1,this._prevXY=[0,0]}initialize(){const{outerContainer:t}=this;this.addHandles([(0,h.watch)((()=>this.view.overlay?.surface),(i=>{t.remove(),i?.appendChild(t),this._rtl=(0,G.V8)(i)}),h.pc),(0,h.watch)((()=>this.info),((i,e)=>{if(null!=this.content&&null!=i&&null!=e&&i.type===e.type)this.content.info=i;else{(0,m.pR)(this.content);const e=function(t,i){if(null==i)return null;const e=document.createElement("div");switch(i.type){case"draw-point":return new ft({tooltip:t,info:i,container:e});case"draw-polygon":return new yt({tooltip:t,info:i,container:e});case"draw-polyline":return new gt({tooltip:t,info:i,container:e});case"draw-mesh":return new lt({tooltip:t,info:i,container:e});case"draw-rectangle":return new bt({tooltip:t,info:i,container:e});case"draw-circle":return new st({tooltip:t,info:i,container:e});case"extent-rotate":return new wt({tooltip:t,info:i,container:e});case"extent-scale":return new mt({tooltip:t,info:i,container:e});case"move-point":return new xt({tooltip:t,info:i,container:e});case"selected-vertex":return new _t({tooltip:t,info:i,container:e});case"transform-point":return new At({tooltip:t,info:i,container:e});case"transform-mesh":return new kt({tooltip:t,info:i,container:e});case"translate":return new Tt({tooltip:t,info:i,container:e});case"translate-vertex":return new jt({tooltip:t,info:i,container:e});case"translate-z":return new It({tooltip:t,info:i,container:e});case"translate-xy":return new Pt({tooltip:t,info:i,container:e});case"reshape-edge-offset":return new Mt({tooltip:t,info:i,container:e})}}(this,i);e?(this.content=e,e.container&&t.appendChild(e.container),this.exitInputMode()):this.content=null}}),h.pc),(0,h.watch)((()=>({container:this.outerContainer,style:this._outerContainerStyle})),(({container:t,style:i})=>{Object.assign(t.style,i)}),h.Vh),(0,h.watch)((()=>({outerContainer:this.outerContainer,placement:this.effectivePlacement,effectiveOffset:this._effectiveOffset,rtl:this._rtl,debug:this.debug})),(({outerContainer:t,placement:i,effectiveOffset:e,rtl:n,debug:s})=>{const{classList:r}=t;r.add(Et.base),r.toggle(Et.rtl,n),r.toggle(Et.ltr,!n),r.toggle(Et.debug,s),this.outerContainer.style.setProperty("--offset",`${e}px`),(0,k.hY)(t),function({classList:t},i){Ct.forEach((i=>t.remove(i))),t.add(St(i))}(t,i)}),h.Vh),(0,h.when)((()=>"feedback"===this.mode),(()=>{this.position=null,this._clearOverride("effectivePlacement")}),h.OH),(0,w.on)(this.outerContainer,"paste",(t=>{this.emit("paste",t)})),(0,w.on)(this.outerContainer,["focusin","focusout"],(()=>{setTimeout((()=>{this._focused=this.content?.container?.contains(document.activeElement)??!1}))}))])}destroy(){this.info=null,this.content=(0,m.pR)(this.content),this.outerContainer.remove()}get mode(){return this.content?.mode??"feedback"}get focused(){return this._focused}get visible(){return"none"!==this._outerContainerStyle.display}get contentContainer(){return this.content?.container}get effectivePlacement(){const t=this.options?.placement;return"auto"===t?"bottom-end":t??"bottom-end"}get _screenPoint(){const{inputManager:t}=this.view;return t?.multiTouchActive?null:t?.latestPointerLocation}get _effectiveOffset(){return this.options?.offset??20}get _outerContainerStyle(){const t=this.position??this._screenPoint;return this._lastPosition=(0,x.y8)(t),null!=t&&null!=this.content?{display:"block",transform:`translate(${Math.round(t.x)}px, ${Math.round(t.y)}px)`}:{display:"none",transform:"none"}}clear(){this.info=null}async enterInputMode(t){const i=this.position??this._lastPosition??this._screenPoint,e=this.position=(0,x.y8)(i),{effectivePlacement:n}=this;this._override("effectivePlacement",n),await(this.content?.enterInputMode(t,(()=>{e&&(this.position=function(t,i,e,n){if(!t||!n.container)return i;const s=t.getBoundingClientRect(),{left:r,top:o}=n.container.getBoundingClientRect();let{x:h,y:a}=i;const u=s.left-r-e;u<0&&(h-=u);const c=s.right-r+e-n.width;c>0&&(h-=c);const l=s.top-o-e;l<0&&(a-=l);const f=s.bottom-o+e-n.height;return f>0&&(a-=f),(0,x.tc)(h,a)}(this.contentContainer,e,this._effectiveOffset,this.view),Object.assign(this.outerContainer.style,this._outerContainerStyle))})))}async exitInputMode(t){await(this.content?.exitInputMode(t))}onDragStart(t,i){this._prevXY=[t,i]}onDrag(t,i){const e=t-this._prevXY[0],n=i-this._prevXY[1];this._prevXY=[t,i];const{position:s}=this;if(s){const{view:r}=this,o=t-r.position[0],h=i-r.position[1];if(o<0||o>r.width||h<0||h>r.height-16)return;this.position=(0,x.tc)(s.x+e,s.y+n)}}onDragEnd(){this._prevXY=[0,0]}};(0,g._)([(0,M.MZ)({nonNullable:!0})],zt.prototype,"view",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"info",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"options",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"position",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"content",void 0),(0,g._)([(0,M.MZ)({readOnly:!0})],zt.prototype,"mode",null),(0,g._)([(0,M.MZ)()],zt.prototype,"_focused",void 0),(0,g._)([(0,M.MZ)({readOnly:!0})],zt.prototype,"focused",null),(0,g._)([(0,M.MZ)({readOnly:!0})],zt.prototype,"outerContainer",void 0),(0,g._)([(0,M.MZ)({readOnly:!0})],zt.prototype,"contentContainer",null),(0,g._)([(0,M.MZ)({readOnly:!0})],zt.prototype,"effectivePlacement",null),(0,g._)([(0,M.MZ)()],zt.prototype,"debug",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"_lastPosition",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"_screenPoint",null),(0,g._)([(0,M.MZ)()],zt.prototype,"_rtl",void 0),(0,g._)([(0,M.MZ)()],zt.prototype,"_effectiveOffset",null),(0,g._)([(0,M.MZ)()],zt.prototype,"_outerContainerStyle",null),zt=(0,g._)([(0,_.$)("esri.views.interactive.Tooltip")],zt);const Ct=["top","bottom","leading","trailing"].flatMap((t=>[St(`${t}-start`),St(t),St(`${t}-end`)]));function St(t){return`${Et.base}--${t}`}const Nt=zt;var Rt=e(99675);function Ot(t){const i=new Nt(t());return i.addHandles((0,h.watch)((()=>t()),(({view:t,options:e,info:n})=>{i.view=t,void 0!==e&&(i.options=e),void 0!==n&&(i.info=n)}))),i}function Gt(t,i){const e=(0,p.Hq)(i.vertexSpace),{scale:n,orientation:s}=t,{transform:r}=i,h=function(t){if(!t)return 0;const i=Ft(t.rotationAxis);return null!=i?i*t.rotationAngle:null}(r);e&&null!=h?(s.actual=(0,o.Wq)(h,"degrees","arithmetic"),s.visible=!0):(s.actual=null,s.visible=!1),e?(n.actual=(0,o.LF)(Bt(r)),n.visible=!0):(n.actual=null,n.visible=!1)}function Dt(t,i,e){if(!i||!(0,p.Hq)(i.vertexSpace))return;const n=i.transform??=new f.A;(function(t,i,e){const n=(0,Rt.Ef)(t.orientation.actual),s=Ft(i.rotationAxis);if(null==n||null==s)return;const r=i.rotationAngle,o=n*s,h=(n-r)*s;r!==o&&(e?.onRotateStart(0),i.rotationAngle=o,e?.onRotate(h),e?.onRotateStop(h))})(t,n,e),function(t,i,e){const n=t.scale.actual?.value,s=Bt(i);if(null==n||n===s)return;const{scale:r}=i;let o;if(0===s)o=(0,c.o8)(c.Un);else{const t=n/s;o=(0,u.h)((0,c.vt)(),r,t)}e?.onScaleStart(r[0],r[1],r[2]),i.scale=o,e?.onScale(o[0],o[1],o[2]),e?.onScaleStop(o[0],o[1],o[2])}(t,n,e)}function Vt(t,i){const{x:e,y:n,z:s}=i,{x:h,y:u,z:c}=function(t,i){let e,n;t.geographic?(e=(0,Rt.hF)(t.longitude.actual),n=(0,Rt.hF)(t.latitude.actual),(0,d.K8)(i)&&(null!=e&&null!=n?[e,n]=(0,v.je)(e,n,Lt):null!=e?e=(0,v.je)(e,0,Lt)[0]:null!=n&&(n=(0,v.je)(0,n,Lt)[1]))):(e=t.x.actual?.value,n=t.y.actual?.value);const s=t.elevation.actual,r=(0,a.mq)(i);return{x:e,y:n,z:null!=r&&null!=s?(0,o.l3)(s,r):void 0}}(t,i.spatialReference);return{dx:null==h||(0,r.Io)(h,e)?0:h-e,dy:null==u||(0,r.Io)(u,n)?0:u-n,dz:null==c||null==s||(0,r.Io)(c,s)?0:c-s}}const Lt=[0,0];function Ft(t){return(0,u.H)(t,c.Cb)?1:(0,u.H)(t,qt)?-1:null}const qt=(0,u.v)((0,c.vt)(),c.Cb);function Bt(t){return t?Math.max(...t.scale):1}function Ht(t,i){return!("key-down"!==t.type||t.key!==y.ac.enterInputMode||!i||!function(t){const i=t?.sketchOptions;if(!i)return!1;const{inputEnabled:e,visibleElements:n}=i.tooltips;return e&&!0===t.editableFields.some((({name:t})=>"x"===t||"y"===t?n.coordinates:n[t]))}(i.info)||(i.enterInputMode(),t.preventDefault(),t.stopPropagation(),0))}function Zt(t,i){let e=null;return(0,s.vE)([t.on("paste",(async s=>{e?.abort(),e=(0,n.UT)((async()=>{(0,l.s1)()||await(0,l.Hh)(),Ut(s,t.info,i)}))})),(0,n.UT)((()=>(0,l.Hh)())),(0,s.hA)((()=>e?.abort()))])}function Ut(t,i,e){if(!i||!("geographic"in i))return;const n=t.clipboardData?.getData("text");if(!n)return;const s=i=>{t.stopPropagation(),t.preventDefault(),e?.onBeforePaste(),i(),e?.onAfterPaste()};if(i.geographic){const t=(0,W.X3)(n);t&&s((()=>{i.longitude.applyValue(t.longitude),i.latitude.applyValue(t.latitude)}))}else{const t=(0,W.Nr)(n);t&&s((()=>{i.x.applyValue(t.x),i.y.applyValue(t.y)}))}}},99675:function(t,i,e){e.d(i,{$h:function(){return v},Ef:function(){return k},IP:function(){return g},P1:function(){return x},hF:function(){return _},jQ:function(){return m},rT:function(){return M},rZ:function(){return n},uR:function(){return b}});var n,s,r=e(16691),o=e(56275),h=e(62938),a=e(13786),u=e(1932),c=e(20551),l=e(32501),f=e(68734),p=e(57862),d=e(57652);function v(t,i){if(null==t||null==i)return;const e=y(t,i);return null!=e?(0,o.Wq)(e,"radians","geographic"):void 0}(s=n||(n={})).Absolute="absolute",s.Relative="relative",s.RelativeBilateral="relative-bilateral";const y=(()=>{const t=(0,l.vt)(),i=(0,l.vt)();return(e,n)=>((0,c.i)(t,e.x,e.y,e.z??0),(0,c.i)(i,n.x,n.y,n.z??0),g(t,i,e.spatialReference,n.spatialReference))})(),g=(()=>{const t=(0,u.vt)(),i=(0,l.vt)(),e=(0,l.vt)();return(n,s,r,o)=>{if((0,c.p)(n,s))return;const l=(0,p.Xn)(r),v=(0,p.Xn)(o);if(l&&v&&(0,d.aI)(l,v)&&(0,f.F)(n,r,i,l)&&(0,f.F)(s,o,e,v)){const{azimuth:t}=(0,p._3)(T,i,e,l);return null!=t?(0,h.oU)(t,"degrees","radians"):void 0}t[0]=s[0]-n[0],t[1]=s[1]-n[1];let y=(0,a.g7)(u.JP,t);return t[0]<0&&(y=j-y),y}})();function b(t,i,e,s=n.Absolute){if(i&&e)switch(s){case n.Absolute:return v(i,e);case n.Relative:return m(w(t,i,e),n.Relative);case n.RelativeBilateral:return m(w(t,i,e),n.RelativeBilateral)}}function w(t,i,e){if(!t||!i||!e)return;const n=y(t,i),s=y(i,e);return null!=n&&null!=s?(0,o.Wq)(s-n,"radians","geographic"):void 0}function m(t,i){if(null!=t)switch(i){case n.Absolute:return x(t);case n.Relative:{const i=_(t);let e=I.normalize(i,0,!0);return-180===e&&(e=180),(0,o.Wq)(e,"degrees","geographic")}case n.RelativeBilateral:{const i=_(t),e=Math.abs(I.normalize(i,0,!0));return(0,o.Wq)(e,"degrees","geographic")}}}function x(t){const i=_(t),e=P.normalize(i,0,!0);return(0,o.Wq)(e,"degrees","geographic")}const M=(()=>{const t=(0,l.vt)();return(i,e,n,s,r,a="geodesic")=>{(0,c.c)(t,e);const u=_(r);if("geodesic"===a){const r=(0,p.Xn)(n);if(r&&(0,f.F)(t,n,t,r))return(0,p.vN)(i,t,u,s,r),i[2]=e[2],!!(0,f.F)(i,r,i,n)}const l=(0,o.g2)(u,"geographic","arithmetic"),d=(0,h.oU)(l,"degrees","radians"),v=e[0]+s*Math.cos(d),y=e[1]+s*Math.sin(d),g=e[2];return(0,c.i)(i,v,y,g),!0}})();function _(t){if(null!=t)return(0,o.g2)(A(t),t.rotationType,"geographic")}function k(t){if(null!=t)return(0,o.g2)(A(t),t.rotationType,"arithmetic")}function A(t){return(0,h.oU)(t.value,t.unit,"degrees")}const T=new p.Zj,j=2*Math.PI,P=r.ie,I=new r.hr(-180,180)},70474:function(t,i,e){e.d(i,{n:function(){return M}});var n=e(56275),s=e(62938),r=e(59122),o=e(20551),h=e(32501),a=e(68734),u=e(5596),c=e(67496),l=e(19271);function f(t,i,e=t.hasZ){const r=(0,l.l)(t.spatialReference),f=(0,s.B5)(r);if(null==f)return null;const y=(t,i)=>!(i.length<2||((0,o.i)(t,i[0],i[1],e&&i[2]||0),0));let g=0;for(const e of t.rings){const n=e.length;if(n<3)continue;const{positionsWorldCoords:s}=i;for(;s.length<n;)s.push((0,h.vt)());const l=p,f=(0,o.i)(d,0,0,0),b=1/n;for(let i=0;i<n;i++){if(!y(l,e[i]))return null;if(!(0,a.F)(l,t.spatialReference,s[i],r))return null;(0,o.b)(f,f,s[i],b)}const w=(0,u.Cr)(s[0],s[1],f,(0,u.LV)());if(0===(0,o.k)((0,u.Qj)(w)))continue;for(let t=0;t<n;t++)(0,u.Z1)(w,f,s[t],s[t]);const m=v(s);for(let t=0;t<m.length;t+=3)g+=(0,c.Fm)(s[m[t]],s[m[t+1]],s[m[t+2]])}return(0,n.gT)(g,f)}const p=(0,h.vt)(),d=(0,h.vt)();function v(t){return(0,r.e)(function(t){const i=new Float64Array(2*t.length);for(let e=0;e<t.length;++e){const n=t[e],s=2*e;i[s]=n[0],i[s+1]=n[1]}return i}(t),[],2)}var y=e(22162),g=e(57862),b=e(99368);function w(t){const{spatialReference:i}=t;return(0,b.M0)(i,m,x,t)}function m(t){return(0,n.gT)(Math.abs((0,g.qy)([t],"square-meters")[0]),"square-meters")}function x(t){try{return(0,n.gT)(Math.abs((0,y.geodesicArea)(t,"square-meters")),"square-meters")}catch(t){return null}}function M(t,i={positionsWorldCoords:[]}){return function(t,i,e={positionsWorldCoords:[]}){if("on-the-ground"===i){const i=w(t);return null!=i?i:function(t,i={positionsWorldCoords:[]}){return f(t,i,!1)}(t,e)}return function(t,i={positionsWorldCoords:[]}){return f(t,i)}(t,e)}(t,"on-the-ground",i)}},9862:function(t,i,e){e.d(i,{Do:function(){return a},Kt:function(){return h},ob:function(){return o}});var n=e(32501),s=e(46517),r=e(1428);function o(t){return(0,r.mh)(t)??(0,s.Xg)(t)}function h(t,i){return(0,r.Og)(t,i)??(0,s.ll)(t,i)}function a(t,i,e){return u[0]=t[0],u[1]=t[1],u[2]=3===t.length?t[2]:0,c[0]=i[0],c[1]=i[1],c[2]=3===i.length?i[2]:0,(0,r.n3)(u,c,e)??(0,s.sT)(u,c,e)}const u=(0,n.vt)(),c=(0,n.vt)()},33383:function(t,i,e){e.d(i,{V:function(){return o},t:function(){return h}}),e(50917);var n=e(62938),s=e(82418),r=e(91484);function o(t,i,e,s=new r.default){let o=0;if("2d"===e.type)o=i*(e.resolution??0);else if("3d"===e.type){const s=e.overlayPixelSizeInMapUnits(t),r=e.basemapSpatialReference;o=null==r||r.equals(e.spatialReference)?i*s:(0,n.GA)(r)/(0,n.GA)(e.spatialReference)}const h=t.x-o,a=t.y-o,u=t.x+o,c=t.y+o,{spatialReference:l}=e;return s.xmin=Math.min(h,u),s.ymin=Math.min(a,c),s.xmax=Math.max(h,u),s.ymax=Math.max(a,c),s.spatialReference=l,s}function h(t,i,e){const n=e.toMap(t);return null!=n&&o(n,(0,s.o)(),e,a).intersects(i)}const a=new r.default},46517:function(t,i,e){e.d(i,{Of:function(){return v},Qc:function(){return y},Xg:function(){return f},cL:function(){return w},e5:function(){return d},ll:function(){return p},sT:function(){return b}});var n,s,r=e(56275),o=e(62938),h=e(20551),a=e(32501),u=e(68734),c=e(57652),l=e(19271);function f(t){return function(t,i){const{hasZ:e,spatialReference:s}=t,h=(0,l.l)(s);let a=0;const u=(0,o._H)(h);if(null==u)return null;const c=i===n.Direct?g:b;for(const i of t.paths){if(i.length<2)continue;const t=i.length-1;for(let n=0;n<t;++n){const t=i[n];x[0]=t[0],x[1]=t[1],x[2]=e?t[2]:0;const r=i[n+1];M[0]=r[0],M[1]=r[1],M[2]=e?r[2]:0;const o=c(x,M,s);if(null==o)return null;a+=o.value}}return(0,r.d_)(a,u)}(t,n.Horizontal)}function p(t,i){const{spatialReference:e}=t;return(0,c.aI)(e,i.spatialReference)?(x[0]=t.x,x[1]=t.y,x[2]=t.hasZ?t.z:0,M[0]=i.x,M[1]=i.y,M[2]=i.hasZ?i.z:0,b(x,M,e)):null}function d(t,i){const{spatialReference:e}=t;return(0,c.aI)(e,i.spatialReference)?(x[0]=t.x,x[1]=t.y,x[2]=t.hasZ?t.z:0,M[0]=i.x,M[1]=i.y,M[2]=i.hasZ?i.z:0,w(x,M,e)):null}function v(t){return null!=t?y(t.hasZ?t.z:0,t.spatialReference):null}function y(t,i){const e=(0,o.mq)(i);return null!=e?(0,r.d_)(t??0,e):null}function g(t,i,e){const s=m(t,i,e,n.Direct);return null!=s?(0,r.d_)(s.direct,s.unit):null}function b(t,i,e){const s=m(t,i,e,n.Horizontal);return null!=s?(0,r.d_)(s.horizontal,s.unit):null}function w(t,i,e){const s=m(t,i,e,n.Vertical);return null!=s?(0,r.d_)(s.verticalSigned,s.unit):null}function m(t,i,e,s){const r=(0,l.l)(e),a=(0,o._H)(r);if(null==a)return null;const c=i[2]-t[2];if(s===n.Vertical)return{verticalSigned:c,unit:a};if(!(0,u.F)(t,e,_,r)||!(0,u.F)(i,e,k,r))return null;if(s===n.Direct)return{direct:(0,h.j)(k,_),unit:a};if((0,h.i)(A,t[0],t[1],i[2]),!(0,u.F)(A,e,A,r))return null;const f=(0,h.j)(A,k);return s===n.Horizontal?{horizontal:f,unit:a}:{direct:(0,h.j)(k,_),horizontal:f,vertical:Math.abs(c),unit:a}}(s=n||(n={}))[s.Direct=0]="Direct",s[s.Horizontal=1]="Horizontal",s[s.Vertical=2]="Vertical";const x=(0,a.vt)(),M=(0,a.vt)(),_=(0,a.vt)(),k=(0,a.vt)(),A=(0,a.vt)()},1428:function(t,i,e){e.d(i,{Og:function(){return c},mh:function(){return u},n3:function(){return l}});var n=e(56275),s=e(32501),r=e(22162),o=e(57862),h=e(57652),a=e(99368);function u(t){const{spatialReference:i}=t;return(0,a.M0)(i,d,v,t)}function c(t,i){if(!(0,h.aI)(t.spatialReference,i.spatialReference))return null;const{spatialReference:e}=t;return g[0]=t.x,g[1]=t.y,g[2]=t.hasZ?t.z:0,b[0]=i.x,b[1]=i.y,b[2]=i.hasZ?i.z:0,l(g,b,e)}function l(t,i,e){return(0,a.M0)(e,f,p,t,i,e)}function f(t,i,e){return(0,n.d_)((0,o._3)(y,t,i,e).distance,"meters")}function p(t,i,e){return(0,n.d_)((0,r.geodesicLength)(function(t,i,e){return{type:"polyline",spatialReference:e,paths:[[[...t],[...i]]]}}(t,i,e),"meters"),"meters")}function d(t){return(0,n.d_)((0,o.l1)([t],"meters")[0],"meters")}function v(t){return(0,n.d_)((0,r.geodesicLength)(t,"meters"),"meters")}const y=new o.Zj,g=(0,s.vt)(),b=(0,s.vt)()},99368:function(t,i,e){e.d(i,{M0:function(){return o},yF:function(){return r}});var n=e(57862),s=e(57652);function r(t){return(0,n.TT)(t)||(0,s.K8)(t)}function o(t,i,e,...r){return(0,n.TT)(t)?i.apply(void 0,r):(0,s.K8)(t)?e.apply(void 0,r):null}},77363:function(t,i,e){e.d(i,{Dh:function(){return u},IB:function(){return l},Vv:function(){return n},fg:function(){return a},jI:function(){return c}}),e(15774);var n,s,r=e(13786),o=e(1932);function h(t,i){return t[0]*i[1]-t[1]*i[0]}function a(t,i,e,n,s=e){return(0,r.Re)(p,n,e),(0,r.Re)(v,i,s),function(t,i,e){const n=(0,r.Om)(e,i)/(0,r.m3)(e);(0,r.hs)(t,e,n)}(y,v,p),(0,r.WQ)(t,s,y)}function u(t,i,e,n){(0,r.Re)(p,i,e);const s=n/(0,r.Bw)(p);return(0,r.Ln)(t,e,p,s)}function c(t,i){const e=t.start,s=t.end,o=i.start,a=i.end,u=(0,r.Re)(p,s,e),c=(0,r.Re)(d,a,o),l=h(u,c);if(Math.abs(l)<=f)return[];const g=(0,r.Re)(v,e,o),b=h(c,g)/l,w=h(u,g)/l;if(b>=0){if(w>=0||i.type===n.LINE)return[(0,r.Ln)(y,e,u,b)]}else if(t.type===n.LINE&&(w>=0||i.type===n.LINE))return[(0,r.Ln)(y,e,u,b)];return[]}function l(t,i,e){const s=[],o=(0,r.Re)(p,t.end,t.start),h=(0,r.Re)(d,t.start,i),a=(0,r.m3)(o),u=2*(0,r.Om)(o,h),c=u*u-4*a*((0,r.m3)(h)-e*e);if(0===c){const i=-u/(2*a);(t.type===n.LINE||i>=0)&&s.push((0,r.Ln)(y,t.start,o,i))}else if(c>0){const i=Math.sqrt(c),e=(-u+i)/(2*a);(t.type===n.LINE||e>=0)&&s.push((0,r.Ln)(y,t.start,o,e));const h=(-u-i)/(2*a);(t.type===n.LINE||h>=0)&&s.push((0,r.Ln)(v,t.start,o,h))}return s}(s=n||(n={}))[s.RAY=0]="RAY",s[s.LINE=1]="LINE";const f=1e-6,p=(0,o.vt)(),d=(0,o.vt)(),v=(0,o.vt)(),y=(0,o.vt)()},94652:function(t,i,e){e.d(i,{Bn:function(){return f},F2:function(){return j},HG:function(){return k},IB:function(){return w},K4:function(){return m},Mc:function(){return p},Nm:function(){return g},SO:function(){return x},UL:function(){return T},VT:function(){return d},Yv:function(){return b},Zj:function(){return A},b_:function(){return v},pJ:function(){return P},r2:function(){return y},t1:function(){return M}});var n=e(15774),s=e(13786),r=e(1932),o=e(20551),h=e(32501),a=e(8527),u=e(5596),c=e(76185),l=e(77363);function f({start:t,end:i,type:e},n,o){const h=[],a=(0,s.Re)(z,i,t),u=(0,s.Re)(C,t,n),c=(0,s.m3)(a),l=2*(0,s.Om)(a,u),f=l*l-4*c*((0,s.m3)(u)-o*o);if(0===f){const i=-l/(2*c);(e===P.PLANE||i>=0)&&h.push((0,s.Ln)((0,r.vt)(),t,a,i))}else if(f>0){const i=Math.sqrt(f),n=(-l+i)/(2*c);(e===P.PLANE||n>=0)&&h.push((0,s.Ln)((0,r.vt)(),t,a,n));const o=(-l-i)/(2*c);(e===P.PLANE||o>=0)&&h.push((0,s.Ln)((0,r.vt)(),t,a,o))}return h}function p(t,i){const e=t.start,n=t.end,r=(0,s.Re)(z,n,e),u=(0,o.i)(N,-r[1],r[0],0),c=i.start,f=i.end,p=(0,o.a)(R,f,c),d=(0,o.f)(p,u),v=(0,o.i)(O,e[0],e[1],0),y=(0,o.a)(G,v,c),g=(0,o.f)(y,u),b=(0,a.FD)();if(Math.abs(d)<b)return Math.abs(g),[];const w=(0,o.b)(D,c,p,g/d);if(i.type===l.Vv.RAY){const t=(0,o.a)(V,w,c);if((0,o.f)(t,p)<-b)return[]}if(t.type===P.HALF_PLANE){const t=(0,s.jb)(C,w,e);if((0,s.Om)(t,r)<-b)return[]}return[(0,h.o8)(w)]}function d(t,i){return function({start:t,end:i,type:e},n){const s=(0,o.a)(S,n,t),r=(0,o.a)(N,i,t),u=(0,o.e)(R,r,s),c=(0,o.z)(u)/(0,o.z)(r),f=(0,a.FD)();if(c<f)switch(e){case l.Vv.LINE:return[(0,h.o8)(n)];case l.Vv.RAY:return(0,o.f)(r,s)<-f?[]:[(0,h.o8)(n)]}return[]}(_(F,i[2],t),i)}function v(t,i){return x(_(F,0,t),_(q,0,i)).map((([t,i])=>(0,r.fA)(t,i)))}function y(t,i,e){return b(t,_(F,t[2],i),e)}function g(t,i,e,n=(0,h.vt)()){const r=(0,s.Re)(z,t,i),o=(0,s.Bw)(r);return(0,s.Ln)(n,i,r,0===o?1:e/o),n[2]=t[2],n}function b(t,{start:i,end:e,type:n},s=(0,h.vt)()){const r=(0,o.a)(S,t,i),a=(0,o.a)(N,e,i),u=(0,o.f)(r,a)/(0,o.f)(a,a);return(0,o.b)(s,i,a,n===l.Vv.RAY?Math.max(u,0):u)}const w=(()=>{const t=(0,h.vt)(),i=(0,h.vt)(),e=(0,h.vt)();return({start:n,end:a},{center:f,radius:p,normal:d,slicePlane:v})=>{const y=(0,u.O_)(f,d,L);if(A((0,u.Io)(y,n),0)&&A((0,u.Io)(y,a),0)){(0,c.VV)(d,t,i);const u=(n,r)=>((0,o.d)(e,r,f),(0,s.hZ)(n,(0,o.f)(e,t),(0,o.f)(e,i)),n),y=(0,l.IB)({start:u(z,n),end:u(C,a),type:l.Vv.LINE},r.uY,p),g=[];for(const[e,n]of y){const s=(0,o.c)((0,h.vt)(),f);(0,o.b)(s,s,t,e),(0,o.b)(s,s,i,n),v&&!j(v,s)||g.push(s)}return g}const g=(0,h.vt)();return(0,u.U5)(y,n,a,g)?!A((0,o.j)(g,f),p)||v&&!j(v,g)?[]:[g]:[]}})();function m({start:t,end:i,type:e},n,r){const a=[],u=(0,o.d)(S,i,t),c=(0,s.Re)(C,t,n),f=(0,s.m3)(u),p=2*(0,s.Om)(u,c),d=p*p-4*f*((0,s.m3)(c)-r*r);if(0===d){const i=-p/(2*f);(e===l.Vv.LINE||i>=0)&&a.push((0,o.b)((0,h.vt)(),t,u,i))}else if(d>0){const i=Math.sqrt(d),n=(-p+i)/(2*f);(e===l.Vv.LINE||n>=0)&&a.push((0,o.b)((0,h.vt)(),t,u,n));const s=(-p-i)/(2*f);(e===l.Vv.LINE||s>=0)&&a.push((0,o.b)((0,h.vt)(),t,u,s))}return a}function x(t,i){const e=t.start,n=t.end,s=i.start,r=i.end,u=(0,o.a)(S,n,e),c=(0,o.a)(N,r,s),f=(0,o.a)(R,s,e),p=(0,o.e)(O,u,c);if(!A((0,o.f)(f,p),0))return[];const d=(0,o.z)(p);if(A(d,0))return[];const v=(0,o.e)(G,f,c),y=(0,o.f)(v,p)/d,g=(0,o.b)(D,e,u,y);if(t.type===l.Vv.RAY){const t=(0,o.a)(V,g,e);if((0,o.f)(u,t)<-(0,a.FD)())return[]}if(i.type===l.Vv.RAY){const t=(0,o.a)(V,g,s);if((0,o.f)(c,t)<-(0,a.FD)())return[]}return[(0,h.o8)(g)]}function M(t,i,e,n){const[o,h]=t,[a,u]=e,c=a-o,l=u-h,f=c*c+l*l,p=Math.sqrt(f);if(p>i+n)return[];if(p<Math.abs(i-n))return[];if(A(p,0)&&A(i,n))return[];const d=(i*i-n*n+f)/(2*p),v=Math.sqrt(i*i-d*d),y=v*l/p,g=v*c/p,[b,w]=(0,s.Cc)(z,t,e,d/p);return A(y,g)?[(0,r.fA)(b,w)]:[(0,r.fA)(b+y,w-g),(0,r.fA)(b-y,w+g)]}function _(t,i,{start:e,end:n,type:s}){return(0,o.i)(t.start,e[0],e[1],i),(0,o.i)(t.end,n[0],n[1],i),t.type=E[s],t}function k(t,i){return A(t[2],i[2])}function A(t,i){return(0,n.Sp)(Math.abs(t-i),0,(0,a.FD)())}function T(t,i){return i.filter((i=>j(t,i)))}function j(t,i){return(0,u.Tj)(t,i)}var P,I;(I=P||(P={}))[I.PLANE=0]="PLANE",I[I.HALF_PLANE=1]="HALF_PLANE";const E={[P.PLANE]:l.Vv.LINE,[P.HALF_PLANE]:l.Vv.RAY},z=(0,r.vt)(),C=(0,r.vt)(),S=(0,h.vt)(),N=(0,h.vt)(),R=(0,h.vt)(),O=(0,h.vt)(),G=(0,h.vt)(),D=(0,h.vt)(),V=(0,h.vt)(),L=(0,u.vt)(),F={start:(0,h.vt)(),end:(0,h.vt)(),type:l.Vv.LINE},q={start:(0,h.vt)(),end:(0,h.vt)(),type:l.Vv.LINE}},32992:function(t,i,e){function n(t){return"graphic"===t?.type}function s(t){return t.find(n)??null}e.d(i,{zF:function(){return s}})},19271:function(t,i,e){e.d(i,{l:function(){return o}});var n=e(61714),s=e(96611),r=e(57652);function o(t){return(0,r.B3)(t)?(0,r.oT)(t)||(0,r.K8)(t)||(0,r.x1)(t)||(0,n.jA)(t)?s.Y0:t:(0,s.lO)(t)}}}]);
//# sourceMappingURL=interactive-editingTools.js.map