"use strict";(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[3473],{59122:function(t,e,r){function n(t,e,r){r=r||2;var n,i,u,a,c,f,p,h=e&&e.length,y=h?e[0]*r:t.length,d=o(t,0,y,r,!0),g=[];if(!d||d.next===d.prev)return g;if(h&&(d=l(t,e,d,r)),t.length>80*r){n=u=t[0],i=a=t[1];for(var m=r;m<y;m+=r)(c=t[m])<n&&(n=c),(f=t[m+1])<i&&(i=f),c>u&&(u=c),f>a&&(a=f);p=0!==(p=Math.max(u-n,a-i))?1/p:0}return s(d,g,r,n,i,p),g}function o(t,e,r,n,o){var i,s;if(o===R(t,e,r,n)>0)for(i=e;i<r;i+=n)s=B(i,t[i],t[i+1],s);else for(i=r-n;i>=e;i-=n)s=B(i,t[i],t[i+1],s);if(s&&w(s,s.next)){var u=s.next;O(s),s=u}return s}function i(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!w(n,n.next)&&0!==T(n.prev,n,n.next))n=n.next;else{var o=n.prev;if(O(n),(n=e=o)===n.next)break;r=!0}}while(r||n!==e);return e}function s(t,e,r,n,o,l,p){if(t){!p&&l&&g(t,n,o,l);for(var h,y,d=t;t.prev!==t.next;)if(h=t.prev,y=t.next,l?a(t,n,o,l):u(t))e.push(h.i/r),e.push(t.i/r),e.push(y.i/r),O(t),t=y.next,d=y.next;else if((t=y)===d){p?1===p?s(t=c(i(t),e,r),e,r,n,o,l,2):2===p&&f(t,e,r,n,o,l):s(i(t),e,r,n,o,l,1);break}}}function u(t){var e=t.prev,r=t,n=t.next;if(T(e,r,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(v(e.x,e.y,r.x,r.y,n.x,n.y,o.x,o.y)&&T(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function a(t,e,r,n){var o=t.prev,i=t,s=t.next;if(T(o,i,s)>=0)return!1;for(var u=o.x<i.x?o.x<s.x?o.x:s.x:i.x<s.x?i.x:s.x,a=o.y<i.y?o.y<s.y?o.y:s.y:i.y<s.y?i.y:s.y,c=o.x>i.x?o.x>s.x?o.x:s.x:i.x>s.x?i.x:s.x,f=o.y>i.y?o.y>s.y?o.y:s.y:i.y>s.y?i.y:s.y,l=m(u,a,e,r,n),p=m(c,f,e,r,n),h=t.prevZ,y=t.nextZ;h&&h.z>=l&&y&&y.z<=p;){if(h!==t.prev&&h!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,h.x,h.y)&&T(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,y!==t.prev&&y!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)&&T(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,h.x,h.y)&&T(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;y&&y.z<=p;){if(y!==t.prev&&y!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)&&T(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function c(t,e,r){var n=t;do{var o=n.prev,s=n.next.next;!w(o,s)&&b(o,n,n.next,s)&&_(o,s)&&_(s,o)&&(e.push(o.i/r),e.push(n.i/r),e.push(s.i/r),O(n),O(n.next),n=t=s),n=n.next}while(n!==t);return i(n)}function f(t,e,r,n,o,u){var a=t;do{for(var c=a.next.next;c!==a.prev;){if(a.i!==c.i&&A(a,c)){var f=S(a,c);return a=i(a,a.next),f=i(f,f.next),s(a,e,r,n,o,u),void s(f,e,r,n,o,u)}c=c.next}a=a.next}while(a!==t)}function l(t,e,r,n){var s,u,a,c=[];for(s=0,u=e.length;s<u;s++)(a=o(t,e[s]*n,s<u-1?e[s+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),c.push(x(a));for(c.sort(p),s=0;s<c.length;s++)r=i(r=y(c[s],r),r.next);return r}function p(t,e){return t.x-e.x}function h(t){if(t.next.prev===t)return t;let e=t;for(;;){const r=e.next;if(r.prev===e||r===e||r===t)break;e=r}return e}function y(t,e){var r=function(t,e){var r,n=e,o=t.x,i=t.y,s=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=o&&u>s){if(s=u,u===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(o===s)return r;var a,c=r,f=r.x,l=r.y,p=1/0;n=r;do{o>=n.x&&n.x>=f&&o!==n.x&&v(i<l?o:s,i,f,l,i<l?s:o,i,n.x,n.y)&&(a=Math.abs(i-n.y)/(o-n.x),_(n,t)&&(a<p||a===p&&(n.x>r.x||n.x===r.x&&d(r,n)))&&(r=n,p=a)),n=n.next}while(n!==c);return r}(t,e);if(!r)return e;var n=S(r,t),o=i(r,r.next);let s=h(n);return i(s,s.next),o=h(o),h(e===r?o:e)}function d(t,e){return T(t.prev,t,e.prev)<0&&T(e.next,t,t.next)<0}function g(t,e,r,n){var o=t;do{null===o.z&&(o.z=m(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,s,u,a,c=1;do{for(r=t,t=null,i=null,s=0;r;){for(s++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ);e++);for(a=c;u>0||a>0&&n;)0!==u&&(0===a||!n||r.z<=n.z)?(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,a--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,c*=2}while(s>1)}(o)}function m(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function x(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,n,o,i,s,u){return(o-s)*(e-u)-(t-s)*(i-u)>=0&&(t-s)*(n-u)-(r-s)*(e-u)>=0&&(r-s)*(i-u)-(o-s)*(n-u)>=0}function A(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(_(t,e)&&_(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(T(t.prev,t,e.prev)||T(t,e.prev,e))||w(t,e)&&T(t.prev,t,t.next)>0&&T(e.prev,e,e.next)>0)}function T(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,r,n){var o=E(T(t,e,r)),i=E(T(t,e,n)),s=E(T(r,n,t)),u=E(T(r,n,e));return o!==i&&s!==u||!(0!==o||!M(t,r,e))||!(0!==i||!M(t,n,e))||!(0!==s||!M(r,t,n))||!(0!==u||!M(r,e,n))}function M(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function E(t){return t>0?1:t<0?-1:0}function _(t,e){return T(t.prev,t,t.next)<0?T(t,e,t.next)>=0&&T(t,t.prev,e)>=0:T(t,e,t.prev)<0||T(t,t.next,e)<0}function S(t,e){var r=new N(t.i,t.x,t.y),n=new N(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function B(t,e,r,n){var o=new N(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function N(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(t,e,r,n){for(var o=0,i=e,s=r-n;i<r;i+=n)o+=(t[s]-t[i])*(t[i+1]+t[s+1]),s=i;return o}r.d(e,{e:function(){return n}}),n.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,s=Math.abs(R(t,0,i,r));if(o)for(var u=0,a=e.length;u<a;u++){var c=e[u]*r,f=u<a-1?e[u+1]*r:t.length;s-=Math.abs(R(t,c,f,r))}var l=0;for(u=0;u<n.length;u+=3){var p=n[u]*r,h=n[u+1]*r,y=n[u+2]*r;l+=Math.abs((t[p]-t[y])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[y+1]-t[p+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var s=0;s<e;s++)r.vertices.push(t[o][i][s]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r}},62693:function(t,e,r){function n(t,e,r){o(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function o(t,e,r,n=3,o=n){if(t.length/n!==Math.ceil(e.length/o))return t;const i=t.length/n,s=r[0],u=r[1],a=r[2],c=r[4],f=r[5],l=r[6],p=r[8],h=r[9],y=r[10],d=r[12],g=r[13],m=r[14];let x=0,v=0;for(let r=0;r<i;r++){const r=e[x],i=e[x+1],A=e[x+2];t[v]=s*r+c*i+p*A+d,t[v+1]=u*r+f*i+h*A+g,t[v+2]=a*r+l*i+y*A+m,x+=o,v+=n}return t}function i(t,e,r){s(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function s(t,e,r,n=3,o=n){if(t.length/n!==Math.ceil(e.length/o))return;const i=t.length/n,s=r[0],u=r[1],a=r[2],c=r[3],f=r[4],l=r[5],p=r[6],h=r[7],y=r[8];let d=0,g=0;for(let r=0;r<i;r++){const r=e[d],i=e[d+1],m=e[d+2];t[g]=s*r+c*i+p*m,t[g+1]=u*r+f*i+h*m,t[g+2]=a*r+l*i+y*m,d+=o,g+=n}}function u(t,e,r){a(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function a(t,e,r,n=3,o=n){const i=Math.min(t.length/n,e.length/o);let s=0,u=0;for(let a=0;a<i;a++)t[u]=r*e[s],t[u+1]=r*e[s+1],t[u+2]=r*e[s+2],s+=o,u+=n;return t}function c(t,e,r,n=3,o=n){const i=t.length/n;if(i!==Math.ceil(e.length/o))return t;let s=0,u=0;for(let a=0;a<i;a++)t[u]=e[s]+r[0],t[u+1]=e[s+1]+r[1],t[u+2]=e[s+2]+r[2],s+=o,u+=n;return t}function f(t,e){l(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function l(t,e,r=3,n=r){const o=Math.min(t.length/r,e.length/n);let i=0,s=0;for(let u=0;u<o;u++){const o=e[i],u=e[i+1],a=e[i+2],c=o*o+u*u+a*a;if(c>0){const e=1/Math.sqrt(c);t[s]=e*o,t[s+1]=e*u,t[s+2]=e*a}i+=n,s+=r}}r.d(e,{a:function(){return c},b:function(){return s},c:function(){return i},d:function(){return n},e:function(){return f},f:function(){return a},n:function(){return l},s:function(){return u},t:function(){return o}}),r(58941),r(40633),Object.freeze(Object.defineProperty({__proto__:null,normalize:l,normalizeView:f,scale:a,scaleView:u,shiftRight:function(t,e,r){const n=Math.min(t.count,e.count),o=t.typedBuffer,i=t.typedBufferStride,s=e.typedBuffer,u=e.typedBufferStride;let a=0,c=0;for(let t=0;t<n;t++)o[c]=s[a]>>r,o[c+1]=s[a+1]>>r,o[c+2]=s[a+2]>>r,a+=u,c+=i},transformMat3:s,transformMat3View:i,transformMat4:o,transformMat4View:n,translate:c},Symbol.toStringTag,{value:"Module"}))},32003:function(t,e,r){r.d(e,{a:function(){return o},b:function(){return a},n:function(){return s},s:function(){return u},t:function(){return i}}),r(58941);var n=r(40633);function o(t,e,r){i(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function i(t,e,r,n=4,o=n){if(t.length/n!=e.length/o)return;const i=t.length/n,s=r[0],u=r[1],a=r[2],c=r[3],f=r[4],l=r[5],p=r[6],h=r[7],y=r[8];let d=0,g=0;for(let r=0;r<i;r++){const r=e[d],i=e[d+1],m=e[d+2],x=e[d+3];t[g]=s*r+c*i+p*m,t[g+1]=u*r+f*i+h*m,t[g+2]=a*r+l*i+y*m,t[g+3]=x,d+=o,g+=n}}function s(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,s=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*o,r=t*s,u=i[r],a=i[r+1],c=i[r+2],f=u*u+a*a+c*c;if(f>0){const t=1/Math.sqrt(f);n[e]=t*u,n[e+1]=t*a,n[e+2]=t*c}}}function u(t,e,r){a(t.typedBuffer,e,r,t.typedBufferStride)}function a(t,e,r,n=4){const o=Math.min(t.length/n,e.count),i=e.typedBuffer,s=e.typedBufferStride;let u=0,a=0;for(let e=0;e<o;e++)t[a]=r*i[u],t[a+1]=r*i[u+1],t[a+2]=r*i[u+2],t[a+3]=r*i[u+3],u+=s,a+=n}Object.freeze(Object.defineProperty({__proto__:null,normalize:s,scale:a,scaleView:u,transformMat3:i,transformMat3View:o,transformMat4:function(t,e,r,o=4,i=o){if(t.length/o!=e.length/i)return void n.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const s=t.length/o,u=r[0],a=r[1],c=r[2],f=r[3],l=r[4],p=r[5],h=r[6],y=r[7],d=r[8],g=r[9],m=r[10],x=r[11],v=r[12],A=r[13],T=r[14],w=r[15];let b=0,M=0;for(let r=0;r<s;r++){const r=e[b],n=e[b+1],s=e[b+2],E=e[b+3];t[M]=u*r+l*n+d*s+v*E,t[M+1]=a*r+p*n+g*s+A*E,t[M+2]=c*r+h*n+m*s+T*E,t[M+3]=f*r+y*n+x*s+w*E,b+=i,M+=o}},transformMat4View:function(t,e,r){if(t.count!==e.count)return;const n=t.count,o=r[0],i=r[1],s=r[2],u=r[3],a=r[4],c=r[5],f=r[6],l=r[7],p=r[8],h=r[9],y=r[10],d=r[11],g=r[12],m=r[13],x=r[14],v=r[15],A=t.typedBuffer,T=t.typedBufferStride,w=e.typedBuffer,b=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*T,r=t*b,n=w[r],M=w[r+1],E=w[r+2],_=w[r+3];A[e]=o*n+a*M+p*E+g*_,A[e+1]=i*n+c*M+h*E+m*_,A[e+2]=s*n+f*M+y*E+x*_,A[e+3]=u*n+l*M+d*E+v*_}}},Symbol.toStringTag,{value:"Module"}))},87847:function(t,e,r){r.d(e,{M5:function(){return h},eV:function(){return l},xR:function(){return f}});var n=r(93040),o=r(39819),i=r(60539),s=r(90683),u=r(40845);let a=null,c=!0;function f(t,e,r){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(t,e)}catch(t){c=!1}return p(t,e,r)}function l(t,e,r,n){if(!e||!r)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(t,e,r)}catch(t){c=!1}const o=p(e,r,n);return o.data.set(t,0),o}function p(t,e,r){return r||(a||(a=document.createElement("canvas"),a.width=1,a.height=1),r=a),r.getContext("2d").createImageData(t,e)}async function h(t,e){const{arrayBuffer:a,mediaType:c}=await async function(t,e){const r=(0,s.r$)(t);if(r?.isBase64)return{arrayBuffer:(0,u.M)(r.data),mediaType:r.mediaType};const o=await(0,n.A)(t,{responseType:"array-buffer",...e});return{arrayBuffer:o.data,mediaType:o.getHeader?.("Content-Type")??""}}(t,e),f="image/png"===c;if("image/gif"===c){const{isAnimatedGIF:t,parseGif:n}=await r.e(8627).then(r.bind(r,36089));if(t(a))return n(a,e)}if(f){const{isAnimatedPNG:t,parseApng:n}=await r.e(5297).then(r.bind(r,9073));if(t(a))return n(a,e)}return async function(t,e){const r=window.URL.createObjectURL(t);try{const{data:t}=await(0,n.A)(r,{...e,responseType:"image"});return t}catch(t){if(!(0,i.zf)(t))throw new o.A("invalid-image",`Could not fetch requested image at ${r}`);throw t}finally{window.URL.revokeObjectURL(r)}}(new Blob([a],{type:c}),e)}},87725:function(t,e,r){function n(){return[1,0,0,0,1,0,0,0,1]}function o(t,e,r,n,o,i,s,u,a){return[t,e,r,n,o,i,s,u,a]}r.d(e,{fA:function(){return o},vt:function(){return n},zK:function(){return i}});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:n,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:o},Symbol.toStringTag,{value:"Module"}))},39714:function(t,e,r){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function i(t,e,r,n,o,i,s,u,a,c,f,l,p,h,y,d){return[t,e,r,n,o,i,s,u,a,c,f,l,p,h,y,d]}r.d(e,{fA:function(){return i},o8:function(){return o},vt:function(){return n},zK:function(){return s}});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:o,create:n,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},61769:function(t,e,r){function n(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}r.d(e,{o8:function(){return o},vt:function(){return n},zK:function(){return i}});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:n,fromValues:function(t,e,r,n){return[t,e,r,n]}},Symbol.toStringTag,{value:"Module"}))},32237:function(t,e,r){r.d(e,{A6:function(){return g},B8:function(){return h},Xd:function(){return f},Xr:function(){return y},Yc:function(){return R},hZ:function(){return x},lw:function(){return l},t2:function(){return O},x8:function(){return c}});var n=r(87725),o=r(61769),i=r(32501),s=r(8527),u=r(20551),a=r(33400);function c(t,e,r){r*=.5;const n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function f(t,e){const r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>(0,s.FD)()?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function l(t,e,r){const n=e[0],o=e[1],i=e[2],s=e[3],u=r[0],a=r[1],c=r[2],f=r[3];return t[0]=n*f+s*u+o*c-i*a,t[1]=o*f+s*a+i*u-n*c,t[2]=i*f+s*c+n*a-o*u,t[3]=s*f-n*u-o*a-i*c,t}function p(t,e,r,n){const o=e[0],i=e[1],u=e[2],a=e[3];let c,f,l,p,h,y=r[0],d=r[1],g=r[2],m=r[3];return f=o*y+i*d+u*g+a*m,f<0&&(f=-f,y=-y,d=-d,g=-g,m=-m),1-f>(0,s.FD)()?(c=Math.acos(f),l=Math.sin(c),p=Math.sin((1-n)*c)/l,h=Math.sin(n*c)/l):(p=1-n,h=n),t[0]=p*o+h*y,t[1]=p*i+h*d,t[2]=p*u+h*g,t[3]=p*a+h*m,t}function h(t,e){const r=e[0],n=e[1],o=e[2],i=e[3],s=r*r+n*n+o*o+i*i,u=s?1/s:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-o*u,t[3]=i*u,t}function y(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function d(t,e){const r=e[0]+e[4]+e[8];let n;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);const o=(r+1)%3,i=(r+2)%3;n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*i+i]+1),t[r]=.5*n,n=.5/n,t[3]=(e[3*o+i]-e[3*i+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[i]=(e[3*i+r]+e[3*r+i])*n}return t}function g(t,e,r,n){const o=.5*Math.PI/180;e*=o,r*=o,n*=o;const i=Math.sin(e),s=Math.cos(e),u=Math.sin(r),a=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return t[0]=i*a*f-s*u*c,t[1]=s*u*f+i*a*c,t[2]=s*a*c-i*u*f,t[3]=s*a*f+i*u*c,t}const m=a.c,x=a.s,v=a.g,A=l,T=a.d,w=a.h,b=a.l,M=a.j,E=M,_=a.b,S=_,B=a.n,O=a.a,N=a.e;function R(t,e,r){const n=(0,u.f)(e,r);return n<-.999999?((0,u.e)(C,L,e),(0,u.G)(C)<1e-6&&(0,u.e)(C,I,e),(0,u.n)(C,C),c(t,C,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,u.e)(C,e,r),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+n,B(t,t))}const C=(0,i.vt)(),L=(0,i.fA)(1,0,0),I=(0,i.fA)(0,1,0),F=(0,o.vt)(),P=(0,o.vt)(),U=(0,n.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:v,calculateW:function(t,e){const r=e[0],n=e[1],o=e[2];return t[0]=r,t[1]=n,t[2]=o,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-o*o)),t},conjugate:y,copy:m,dot:w,equals:N,exactEquals:O,fromEuler:g,fromMat3:d,getAxisAngle:f,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:h,len:E,length:M,lerp:b,mul:A,multiply:l,normalize:B,random:function(t){const e=s.Ov,r=e(),n=e(),o=e(),i=Math.sqrt(1-r),u=Math.sqrt(r);return t[0]=i*Math.sin(2*Math.PI*n),t[1]=i*Math.cos(2*Math.PI*n),t[2]=u*Math.sin(2*Math.PI*o),t[3]=u*Math.cos(2*Math.PI*o),t},rotateX:function(t,e,r){r*=.5;const n=e[0],o=e[1],i=e[2],s=e[3],u=Math.sin(r),a=Math.cos(r);return t[0]=n*a+s*u,t[1]=o*a+i*u,t[2]=i*a-o*u,t[3]=s*a-n*u,t},rotateY:function(t,e,r){r*=.5;const n=e[0],o=e[1],i=e[2],s=e[3],u=Math.sin(r),a=Math.cos(r);return t[0]=n*a-i*u,t[1]=o*a+s*u,t[2]=i*a+n*u,t[3]=s*a-o*u,t},rotateZ:function(t,e,r){r*=.5;const n=e[0],o=e[1],i=e[2],s=e[3],u=Math.sin(r),a=Math.cos(r);return t[0]=n*a+o*u,t[1]=o*a-n*u,t[2]=i*a+s*u,t[3]=s*a-i*u,t},rotationTo:R,scale:T,set:x,setAxes:function(t,e,r,n){const o=U;return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=n[0],o[4]=n[1],o[7]=n[2],o[2]=-e[0],o[5]=-e[1],o[8]=-e[2],B(t,d(t,o))},setAxisAngle:c,slerp:p,sqlerp:function(t,e,r,n,o,i){return p(F,e,o,i),p(P,r,n,i),p(t,F,P,2*i*(1-i)),t},sqrLen:S,squaredLength:_,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},39762:function(t,e,r){r.d(e,{A:function(){return zt}});var n=r(53804),o=r(88022),i=r(39819),s=r(31609),u=r(40633),a=r(62560),c=r(60539),f=r(28181),l=r(23502),p=(r(58941),r(13798),r(65953)),h=r(32501),y=r(46556),d=r(45532),g=r(44740),m=r(24761),x=r(26133),v=r(54466);const A="Expected location to be a Point instance";class T extends i.A{constructor(){super("invalid-input:location",A)}}var w=r(65907),b=r(20460),M=r(36405),E=r(7186),_=r(67376),S=r(82588),B=r(20551),O=r(56763);function N(t,e,r,n){if(void 0!==n){(0,o.io)(t(),"option: geographic",{replacement:"Use mesh `vertexSpace` and spatial reference to control how operations are performed instead.",version:"4.30",warnOnce:!0});const i="local"===e.type;if(!(0,_.Hq)(e)||n===i)return r.isGeographic||r.isWebMercator&&n;t().warnOnce(`Specifying the 'geographic' parameter (${n}) for a Mesh vertex space of type "${e.type}" is not supported. This parameter will be ignored.`)}switch(e.type){case"georeferenced":return r.isGeographic;case"local":return r.isGeographic||r.isWebMercator}}var R=r(83614),C=r(20007);const L=()=>u.A.getLogger("esri.geometry.support.meshUtils.centerAt");const I=(0,h.vt)(),F=(0,h.vt)(),P=(0,h.vt)();var U=r(39714),Z=r(91484),D=r(46157),j=r(96611),z=r(7456),Y=r(57617),q=r(50240),V=r(62693);const G=(0,U.vt)(),W=(0,q.jh)(24);var $=r(90683);function H(t){const e=(0,$.nM)(t.url);return r=>{const n=(0,$.V1)(r,e,e),o=n?n.replace(/^ *\.\//,""):null;return(o?t.files.get(o):null)??r}}async function X(t,e){if(Array.isArray(t)){if(!t.length)throw new i.A("mesh-load-external:missing-assets","There must be at least one file to load");return t[0]instanceof File?rt(t.map((t=>({name:t.name,mimeType:t.type,source:k(t)})))):async function(t,e){const r=await(0,c.nA)(t.map((async t=>{const r=await async function(t,e){const{parts:r,assetMimeType:n,assetName:o}=t;if(1===r.length)return new nt(r[0].partUrl);const i=await t.toBlob(e);return(0,c.Te)(e),nt.fromBlob(i,ot(o,n))}(t);return(0,c.Te)(e),{name:t.assetName,mimeType:t.assetMimeType,source:r}})));if((0,c.G4)(e))throw r.forEach((t=>t.source.dispose())),(0,c.NK)();return rt(r)}(t,e)}return k(t)}function k(t){return nt.fromBlob(t,ot(t.name,t.type))}const K=/^model\/gltf\+json$/,J=/^model\/gltf-binary$/,Q=/\.gltf$/i,tt=/\.glb$/i;function et({mimeType:t,source:e,name:r}){return K.test(t)||Q.test(r)?{url:e.url,type:"gltf"}:J.test(t)||tt.test(r)?{url:e.url,type:"glb"}:null}function rt(t){const e=new Map;let r=null,n=null;for(const o of t){const{source:t,name:i}=o;r??=et(o),"ESRI3DO_NORM.glb"===i&&(n=et(o)),e.set(i,t.url),t.files.forEach(((t,r)=>e.set(r,t)))}const o=n??r;if(null==o)throw new i.A("mesh-load-external:missing-files","Missing files to load external mesh source");return new nt(o.url,(()=>t.forEach((({source:t})=>t.dispose()))),e,o.type)}class nt{constructor(t,e=()=>{},r=new Map,n){this.url=t,this.dispose=e,this.files=r,this.type=n}static fromBlob(t,e){const r=URL.createObjectURL(t);return new nt(r,(()=>URL.revokeObjectURL(r)),void 0,e)}}function ot(t,e){return K.test(e)||Q.test(t)?"gltf":J.test(e)||Q.test(t)?"glb":void 0}var it=r(75743),st=r(78879),ut=r(23572);let at=class extends it.P{constructor(t){super(t),this.externalSources=new st.A,this._explicitDisplaySource=null,this.georeferenced=!1,this.addHandles((0,f.on)((()=>this.externalSources),"after-remove",(({item:t})=>{t===this._explicitDisplaySource&&(this._explicitDisplaySource=null)}),{sync:!0,onListenerRemove:()=>this._explicitDisplaySource=null}))}get displaySource(){return this._explicitDisplaySource??this._implicitDisplaySource}set displaySource(t){if(null!=t&&!(0,ut.yr)(t))throw new Error("Cannot use this source for display: it is not in a supported format.");this._explicitDisplaySource=t,t&&this.externalSources.every((e=>!(0,ut.in)(e,t)))&&this.externalSources.add(t)}clearSources(){this.externalSources.removeAll()}getExternalSourcesOnService(t){return this.externalSources.items.filter((e=>(0,ut.eN)(e,t)))}get _implicitDisplaySource(){return this.externalSources.find(ut.yr)}};(0,n._)([(0,l.MZ)()],at.prototype,"externalSources",void 0),(0,n._)([(0,l.MZ)()],at.prototype,"displaySource",null),(0,n._)([(0,l.MZ)()],at.prototype,"_implicitDisplaySource",null),(0,n._)([(0,l.MZ)()],at.prototype,"_explicitDisplaySource",void 0),(0,n._)([(0,l.MZ)()],at.prototype,"georeferenced",void 0),at=(0,n._)([(0,p.$)("esri.geometry.support.meshUtils.Metadata")],at);var ct=r(87725);const ft={position:[-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};function lt(t,e,r){t.isPlane||function(t){for(let e=0;e<t.position.length;e+=3)t.position[e+2]+=.5}(t),function(t,e){if(null!=e){dt[0]=e[0],dt[4]=e[1],dt[8]=e[2];for(let e=0;e<t.position.length;e+=3){for(let r=0;r<3;r++)yt[r]=t.position[e+r];(0,B.q)(yt,yt,dt);for(let r=0;r<3;r++)t.position[e+r]=yt[r]}if(e[0]!==e[1]||e[1]!==e[2]){dt[0]=1/e[0],dt[4]=1/e[1],dt[8]=1/e[2];for(let e=0;e<t.normal.length;e+=3){for(let r=0;r<3;r++)yt[r]=t.normal[e+r];(0,B.q)(yt,yt,dt),(0,B.n)(yt,yt);for(let r=0;r<3;r++)t.normal[e+r]=yt[r]}}}}(t,function(t,e,r){const n=(0,C.xK)(e,r);if(null==t&&1===n)return null;if(null==t)return[n,n,n];if("number"==typeof t){const e=t*n;return[e,e,e]}return[null!=t.width?t.width*n:n,null!=t.depth?t.depth*n:n,null!=t.height?t.height*n:n]}(r?.size,r?.unit,e.spatialReference));const n=(0,_.TE)(e,r),o=e.spatialReference.isGeographic?(0,_.TE)(e):n,i=(0,C.UR)({vertexAttributes:t,vertexSpace:o,spatialReference:e.spatialReference},n,{allowBufferReuse:!0});return{vertexAttributes:new E.H({...i,uv:t.uv}),vertexSpace:n,components:[new v.A({faces:t.faces,material:r?.material||null})],spatialReference:e.spatialReference}}const pt={faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,1,2,0,2,3]},ht={south:0,east:1,north:2,west:3,up:4,down:5},yt=(0,h.vt)(),dt=(0,ct.vt)();var gt=r(44705),mt=r(73364),xt=r(32237),vt=r(61769);const At=()=>u.A.getLogger("esri.geometry.support.meshUtils.rotate");function Tt(t,e,r,n=h.uY){if(null!=t){(0,mt.$0)(Et,(0,x.$I)(e),(0,x.yo)(e));for(let e=0;e<t.length;e+=r){for(let r=0;r<3;r++)wt[r]=t[e+r]-n[r];(0,B.t)(wt,wt,Et);for(let r=0;r<3;r++)t[e+r]=wt[r]+n[r]}}}const wt=(0,h.vt)(),bt=(0,U.vt)(),Mt=(0,x.vt)(),Et=(0,U.vt)(),_t=(0,ct.vt)(),St=(0,h.vt)(),Bt=(0,vt.vt)(),Ot=()=>u.A.getLogger("esri.geometry.support.meshUtils.scale");function Nt(t,e,r=h.uY){if(t)for(let n=0;n<t.length;n+=3){for(let e=0;e<3;e++)Rt[e]=t[n+e]-r[e];(0,B.h)(Rt,Rt,e);for(let e=0;e<3;e++)t[n+e]=Rt[e]+r[e]}}const Rt=(0,h.vt)(),Ct=(0,h.vt)(),Lt=(0,U.vt)(),It=(0,h.vt)();var Ft;const Pt="esri.geometry.Mesh";function Ut(){return u.A.getLogger(Pt)}const Zt={base:null,key:"type",defaultKeyValue:"georeferenced",typeMap:{georeferenced:w.A,local:b.A}};let Dt=Ft=class extends(s.A.LoadableMixin((0,a.g)(y.A))){constructor(t){super(t),this.components=null,this.vertexSpace=new w.A,this.transform=null,this.metadata=new at,this.hasZ=!0,this.hasM=!1,this.vertexAttributes=new E.H,this.type="mesh"}initialize(){(0===this.metadata.externalSources.length||this.vertexAttributes.position.length)&&(this.loadStatus="loaded"),this.when((()=>{this.addHandles((0,f.watch)((()=>({vertexAttributes:this.vertexAttributes,components:this.components?.map((t=>t.clone()))})),(()=>this._clearSources()),{once:!0,sync:!0}))}))}get hasExtent(){return this.loaded?this.vertexAttributes.position.length>0&&(!this.components||this.components.length>0):null!=this.metadata.displaySource?.extent}get _transformedExtent(){const{spatialReference:t,vertexSpace:e}=this,r=this;return function(t){const{spatialReference:e,vertexSpace:r,untransformedBounds:n}=t,o=(0,m.gE)(n,W);if((0,_.Hq)(r)&&t.transform&&(0,V.t)(o,o,t.transform.localMatrix),"georeferenced"===r.type){const t=r.origin;return t&&(0,V.a)(o,o,t),(0,m.w1)((0,m.vY)(o),e)}const i=(0,j.lO)(e),s=r.origin;if(!(0,D.canProjectWithoutEngine)(i,e)){const[t,r,n]=s;return new Z.default({xmin:t,ymin:r,zmin:n,xmax:t,ymax:r,zmax:n,spatialReference:e})}return(0,z.l)(e,s,G,i),(0,V.t)(o,o,G),(0,Y.projectBuffer)(o,i,0,o,e,0),(0,m.w1)((0,m.vY)(o),e)}({get transform(){return r.transform},vertexSpace:e,spatialReference:t,untransformedBounds:this._untransformedBounds})}get _untransformedBounds(){const{vertexAttributes:{position:t},components:e}=this;return 0===t.length||0===e?.length?(0,m.vt)(m.v_):(0,m.vY)(t)}get origin(){const t=(0,_.MW)(this.vertexSpace,this.spatialReference);if(null!=t)return t;const{center:e,zmin:r}=this._transformedExtent;return new d.default({x:e.x,y:e.y,z:r,spatialReference:this.spatialReference})}get extent(){return this.loaded||null==this.metadata?.displaySource?.extent?this._transformedExtent:this.metadata.displaySource.extent.clone()}addComponent(t){this._checkIfLoaded("addComponent()")&&(this.components||(this.components=[]),this.components.push(v.A.from(t)),this.notifyChange("components"))}removeComponent(t){if(this._checkIfLoaded("removeComponent()")){if(this.components){const e=this.components.indexOf(t);if(-1!==e)return this.components.splice(e,1),void this.notifyChange("components")}Ut().error("removeComponent()","Provided component is not part of the list of components")}}rotate(t,e,r,n){return(0,x.AU)(t,e,r,jt),function(t,e,r){if(!t.vertexAttributes?.position||0===e[3])return;const{spatialReference:n,vertexSpace:o}=t,i=r?.origin??t.origin,s=r?.geographic,u=N(At,o,n,s);(0,_.CK)(t)?function(t,e,r){t.transform??=new M.A;const{vertexSpace:n,transform:o,spatialReference:i}=t,[s,u,a]=n.origin,c=new d.default({x:s,y:u,z:a,spatialReference:i}),f=wt;if(c.equals(r))(0,B.i)(f,0,0,0);else if(!(0,C.p5)(f,r,t))return void(0,R.CN)(At(),r.spatialReference,i,R.JP);(0,xt.x8)(Bt,(0,x.yo)(e),(0,x.$I)(e));const l=(0,mt.O7)(bt,Bt,h.uY,h.Un,f),{localMatrix:p}=o,y=(0,mt.lw)(bt,l,p);o.scale=(0,mt.IL)((0,h.vt)(),y),(0,mt.hs)(y,y,(0,B.u)(wt,o.scale));const g=o.rotationAxis;o.rotation=(0,x.ui)(y),0===o.rotationAngle&&(o.rotationAxis=g),o.translation=(0,mt.sC)((0,h.vt)(),y)}(t,e,i):u?function(t,e,r){const n=t.spatialReference,o=(0,j.lO)(n),i=St;if(!(0,O.g)(r,i,o)&&((0,R.CN)(At(),r.spatialReference,o,"Falling back to mesh origin"),!(0,O.g)(t.origin,i,o)))return void(0,R.CN)(At(),t.origin.spatialReference,o);const s=t.vertexAttributes.position,u=t.vertexAttributes.normal,a=t.vertexAttributes.tangent,c=new Float64Array(s.length),f=null!=u?new Float32Array(u.length):null,l=null!=a?new Float32Array(a.length):null;(0,z.l)(o,i,Et,o),(0,gt.z0)(_t,Et);const p=Mt;(0,B.q)((0,x.yo)(Mt),(0,x.yo)(e),_t),p[3]=e[3],!(0,R.gr)(s,n,c,o)||null!=u&&null!=f&&!(0,R.X4)(u,s,n,c,o,f)||null!=a&&null!=l&&!(0,R.xA)(a,s,n,c,o,l)?(0,R.CN)(At(),n,o):(Tt(c,p,3,i),!(0,R.$5)(c,o,s,n)||null!=u&&null!=f&&(Tt(f,p,3),!(0,R.si)(f,s,n,c,o,u))||null!=a&&null!=l&&(Tt(l,p,4),!(0,R.Mv)(l,s,n,c,o,a))?(0,R.CN)(At(),o,n):t.vertexAttributesChanged())}(t,e,i):function(t,e,r){const n=St;if(!(0,O.g)(r,n,t.spatialReference)){const e=t.origin;return n[0]=e.x,n[1]=e.y,n[2]=e.z,void(0,R.CN)(At(),r.spatialReference,t.spatialReference,R.JP)}Tt(t.vertexAttributes.position,e,3,n),Tt(t.vertexAttributes.normal,e,3),Tt(t.vertexAttributes.tangent,e,4),t.vertexAttributesChanged()}(t,e,i)}(this,jt,n),this}offset(t,e,r){if(!this._checkIfLoaded("offset()"))return this;const{vertexSpace:n,vertexAttributes:o}=this,i=o?.position;if(!i)return this;if((0,_.Hq)(n)){const[o,i,s]=n.origin;n.origin=(0,h.fA)(o+t,i+e,s+r)}else{for(let n=0;n<i.length;n+=3)i[n]+=t,i[n+1]+=e,i[n+2]+=r;this.vertexAttributesChanged()}return this}scale(t,e){return this._checkIfLoaded("scale()")?(function(t,e,r){if(!t.vertexAttributes?.position)return;const{vertexSpace:n,spatialReference:o}=t,i=r?.origin??t.origin,s=r?.geographic,u=N(Ot,n,o,s);(0,_.CK)(t)?function(t,e,r){t.transform??=new M.A;const{vertexSpace:n,transform:o,spatialReference:i}=t,[s,u,a]=n.origin,c=new d.default({x:s,y:u,z:a,spatialReference:i}),f=Rt;if(c.equals(r))(0,B.i)(f,0,0,0);else if(!(0,C.p5)(f,r,t))return void(0,R.CN)(Ot(),r.spatialReference,i,R.JP);const l=(0,B.i)(Ct,e,e,e),p=(0,mt.O7)(Lt,vt.zK,h.uY,l,f),{localMatrix:y}=o,g=(0,mt.lw)(Lt,p,y);o.scale=(0,mt.IL)((0,h.vt)(),g),(0,mt.hs)(g,g,(0,B.u)(Rt,o.scale));const m=o.rotationAxis;o.rotation=(0,x.ui)(g),0===o.rotationAngle&&(o.rotationAxis=m),o.translation=(0,mt.sC)((0,h.vt)(),g)}(t,e,i):u?function(t,e,r){const n=t.spatialReference,o=(0,j.lO)(n),i=It;if(!(0,O.g)(r,i,o)&&((0,R.CN)(Ot(),r.spatialReference,o,"Falling back to mesh origin"),!(0,O.g)(t.origin,i,o)))return void(0,R.CN)(Ot(),t.origin.spatialReference,o);const s=t.vertexAttributes.position,u=t.vertexAttributes.normal,a=t.vertexAttributes.tangent,c=new Float64Array(s.length),f=null!=u?new Float32Array(u.length):null,l=null!=a?new Float32Array(a.length):null;!(0,R.gr)(s,n,c,o)||null!=u&&null!=f&&!(0,R.X4)(u,s,n,c,o,f)||null!=a&&null!=l&&!(0,R.xA)(a,s,n,c,o,l)?(0,R.CN)(Ot(),n,o):(Nt(c,e,i),!(0,R.$5)(c,o,s,n)||null!=u&&null!=f&&!(0,R.si)(f,s,n,c,o,u)||null!=a&&null!=l&&!(0,R.Mv)(l,s,n,c,o,a)?(0,R.CN)(Ot(),o,n):t.vertexAttributesChanged())}(t,e,i):function(t,e,r){const n=It;if(!(0,O.g)(r,n,t.spatialReference)){const e=t.origin;return n[0]=e.x,n[1]=e.y,n[2]=e.z,void(0,R.CN)(Ot(),r.spatialReference,t.spatialReference,R.JP)}Nt(t.vertexAttributes.position,e,n),t.vertexAttributesChanged()}(t,e,i)}(this,t,e),this):this}centerAt(t,e){return this._checkIfLoaded("centerAt()")?(function(t,e,r){if(!t.vertexAttributes?.position)return;const{vertexSpace:n}=t,o=r?.origin??t.origin,i=N(L,n,o.spatialReference,r?.geographic);(0,_.Hq)(n)?function(t,e,r){const{vertexSpace:n}=t;if(!(0,_.Hq)(n))return;const o=F,i=I;if(!(0,O.g)(e,i,t.spatialReference))return void(0,R.CN)(L(),e.spatialReference,t.spatialReference,R.JP);if(!(0,O.g)(r,o,t.spatialReference)){const e=t.origin;return o[0]=e.x,o[1]=e.y,o[2]=e.z,void(0,R.CN)(L(),r.spatialReference,t.spatialReference,R.JP)}const s=(0,B.d)(P,i,o);n.origin=(0,B.g)((0,h.vt)(),n.origin,s)}(t,e,o):i?function(t,e,r){const n=(0,h.fA)(r.x,r.y,r.z??0),o=(0,C.UR)(t,new b.A({origin:n}));if(!o)return;const i=(0,h.fA)(e.x,e.y,e.z??0),s=(0,C.UR)({vertexAttributes:o,spatialReference:t.spatialReference,vertexSpace:new b.A({origin:i})},w.A.absolute);if(!s)return;const{position:u,normal:a,tangent:c}=s;t.vertexAttributes.position=u,t.vertexAttributes.normal=a,t.vertexAttributes.tangent=c,t.vertexAttributesChanged()}(t,e,o):function(t,e,r){const n=F,o=I;if((0,O.g)(e,o,t.spatialReference)){if(!(0,O.g)(r,n,t.spatialReference)){const e=t.origin;return n[0]=e.x,n[1]=e.y,n[2]=e.z,void(0,R.CN)(L(),r.spatialReference,t.spatialReference,R.JP)}(function(t,e,r){if(t)for(let n=0;n<t.length;n+=3)for(let o=0;o<3;o++)t[n+o]+=e[o]-r[o]})(t.vertexAttributes.position,o,n),t.vertexAttributesChanged()}else(0,R.CN)(L(),e.spatialReference,t.spatialReference,R.JP)}(t,e,o)}(this,t,e),this):this}load(t){const{metadata:{displaySource:e}}=this;return e&&this.addResolvingPromise(async function(t,e,n){const{source:o}=e,{loadGLTFMesh:i}=await(0,c.qr)(r.e(8019).then(r.bind(r,90519)),n),s=await X(o,n);(0,c.Te)(n);const u=i(new d.default({x:0,y:0,z:0,spatialReference:t.spatialReference}),s.url,{resolveFile:H(s),signal:n?.signal,expectedType:s.type,unitConversionDisabled:e.unitConversionDisabled});u.then((()=>s.dispose()),(()=>s.dispose()));const{vertexAttributes:a,components:f}=await u;t.vertexAttributes=a,t.components=f}(this,e,t)),Promise.resolve(this)}addExternalSources(t){this.metadata.externalSources.addMany(t)}updateDisplaySource(t){this.metadata.displaySource=t}clone(){return this.cloneAndModifyVertexAttributes(this.vertexAttributes.clone(),this.vertexSpace.clone(),{preserveMetadata:!0})}cloneAndModifyVertexAttributes(t,e,r){let n=null;if(this.components){const t=new Map,e=new Map;n=this.components.map((r=>r.cloneWithDeduplication(t,e)))}const o={components:n,spatialReference:this.spatialReference,vertexAttributes:t,vertexSpace:e,transform:this.transform?.clone()??null,metadata:r?.preserveMetadata?this.metadata.clone():new at};return new Ft(o)}cloneShallow(){return new Ft({components:this.components,spatialReference:this.spatialReference,vertexAttributes:this.vertexAttributes,vertexSpace:this.vertexSpace.clone(),transform:this.transform,metadata:this.metadata})}vertexAttributesChanged(){this.notifyChange("vertexAttributes")}async toBinaryGLTF(t){const[{toBinaryGLTF:e}]=await Promise.all([r.e(1146).then(r.bind(r,5136)),this.load(t)]);return(0,c.Te)(t),await e(this,t)}get memoryUsage(){let t=0;if(t+=this.vertexAttributes.memoryUsage,null!=this.components)for(const e of this.components)t+=e.memoryUsage;return t}_clearSources(){this.metadata.clearSources()}_checkIfLoaded(t){return!!this.loaded||(Ut().error(t,"Mesh must be loaded before applying operations"),!1)}static createBox(t,e){if(!(t instanceof d.default))return Ut().error(".createBox()",A),null;const r=new Ft(lt(function(){const{faceDescriptions:t,faceVertexOffsets:e,uvScales:r}=pt,n=4*t.length,o=new Float64Array(3*n),i=new Float32Array(3*n),s=new Float32Array(2*n),u=new Uint32Array(2*t.length*3);let a=0,c=0,f=0,l=0;for(let n=0;n<t.length;n++){const p=t[n],h=a/3;for(const t of e)u[l++]=h+t;const y=p.corners;for(let t=0;t<4;t++){const e=y[t];let n=0;s[f++]=.25*r[t][0]+p.uvOrigin[0],s[f++]=p.uvOrigin[1]-.25*r[t][1];for(let t=0;t<3;t++)0!==p.axis[t]?(o[a++]=.5*p.axis[t],i[c++]=p.axis[t]):(o[a++]=.5*e[n++],i[c++]=0)}}return{position:o,normal:i,uv:s,faces:u}}(),t,e));return e?.imageFace&&"all"!==e.imageFace?function(t,e){const r=t.components[0],n=r.faces,o=ht[e],i=6*o,s=new Array(6),u=new Array(n.length-6);let a=0,c=0;for(let t=0;t<n.length;t++)t>=i&&t<i+6?s[a++]=n[t]:u[c++]=n[t];if(null!=t.vertexAttributes.uv){const e=new Float32Array(t.vertexAttributes.uv),r=4*o*2,n=[0,1,1,1,1,0,0,0];for(let t=0;t<n.length;t++)e[r+t]=n[t];t.vertexAttributes.uv=e}return t.components=[new v.A({faces:s,material:r.material}),new v.A({faces:u})],t}(r,e.imageFace):r}static createSphere(t,e){return t instanceof d.default?new Ft(lt(function(t=0){const e=Math.round(8*2**t),r=2*e,n=(e-1)*(r+1)+2*r,o=new Float64Array(3*n),i=new Float32Array(3*n),s=new Float32Array(2*n),u=new Uint32Array((e-1)*r*2*3);let a=0,c=0,f=0,l=0;for(let t=0;t<=e;t++){const n=t/e*Math.PI+.5*Math.PI,p=Math.cos(n),h=Math.sin(n);yt[2]=h;const y=0===t||t===e,d=y?r-1:r;for(let n=0;n<=d;n++){const h=n/d*2*Math.PI;yt[0]=-Math.sin(h)*p,yt[1]=Math.cos(h)*p;for(let t=0;t<3;t++)o[a]=.5*yt[t],i[a]=yt[t],++a;s[c++]=(n+(y?.5:0))/r,s[c++]=t/e,0!==t&&n!==r&&(t!==e&&(u[f++]=l,u[f++]=l+1,u[f++]=l-r),1!==t&&(u[f++]=l,u[f++]=l-r,u[f++]=l-r-1)),l++}}return{position:o,normal:i,uv:s,faces:u}}(e?.densificationFactor||0),t,e)):(Ut().error(".createSphere()",A),null)}static createCylinder(t,e){return t instanceof d.default?new Ft(lt(function(t=0){const e=Math.round(16*2**t),r=4*(e+1)+2*e,n=new Float64Array(3*r),o=new Float32Array(3*r),i=new Float32Array(2*r),s=new Uint32Array(4*e*3);let u=0,a=0,c=0,f=0,l=0;for(let t=0;t<=5;t++){const r=0===t||5===t,p=t<=1||t>=4,h=2===t||4===t,y=r?e-1:e;for(let d=0;d<=y;d++){const g=d/y*2*Math.PI,m=r?0:.5;yt[0]=m*Math.sin(g),yt[1]=m*-Math.cos(g),yt[2]=t<=2?.5:-.5;for(let e=0;e<3;e++)n[u++]=yt[e],o[a++]=p?2===e?t<=1?1:-1:0:2===e?0:yt[e]/m;i[c++]=(d+(r?.5:0))/e,i[c++]=t<=1?1*t/3:t<=3?1*(t-2)/3+1/3:1*(t-4)/3+2/3,h||0===t||d===e||(5!==t&&(s[f++]=l,s[f++]=l+1,s[f++]=l-e),1!==t&&(s[f++]=l,s[f++]=l-e,s[f++]=l-e-1)),l++}}return{position:n,normal:o,uv:i,faces:s}}(e?.densificationFactor||0),t,e)):(Ut().error(".createCylinder()",A),null)}static createPlane(t,e){if(!(t instanceof d.default))return Ut().error(".createPlane()",A),null;const r=e?.facing??"up",n=function(t,e){const r="number"==typeof e?e:null!=e?e.width:1,n="number"==typeof e?e:null!=e?e.height:1;switch(t){case"up":case"down":return{width:r,depth:n};case"north":case"south":return{width:r,height:n};case"east":case"west":return{depth:r,height:n}}}(r,e?.size);return new Ft(lt(function(t){const e=ft.facingAxisOrderSwap[t],r=ft.position,n=ft.normal,o=new Float64Array(r.length),i=new Float32Array(n.length);let s=0;for(let t=0;t<4;t++){const t=s;for(let u=0;u<3;u++){const a=e[u],c=Math.abs(a)-1,f=a>=0?1:-1;o[s]=r[t+c]*f,i[s]=n[t+c]*f,s++}}return{position:o,normal:i,uv:new Float32Array(ft.uv),faces:new Uint32Array(ft.faces),isPlane:!0}}(r),t,{...e,size:n}))}static createFromPolygon(t,e){if(!(t instanceof g.A))return Ut().error(".createFromPolygon()","Expected polygon to be a Polygon instance"),null;const r=(0,S.lO)(t);return new Ft({vertexAttributes:new E.H({position:r.position}),components:[new v.A({faces:r.faces,shading:"flat",material:e?.material??null})],spatialReference:t.spatialReference,vertexSpace:new w.A})}static async createFromGLTF(t,e,n){if(!(t instanceof d.default)){const t=new T;throw Ut().error(".createfromGLTF()",t.message),t}const{loadGLTFMesh:o}=await(0,c.qr)(r.e(8019).then(r.bind(r,90519)),n);return new Ft(await o(t,e,n))}static async createFromFiles(t,e,r){if((0,o.eO)(Ut(),"`Mesh.createFromFiles` is deprecated in favor of 'SceneLayer.convertMesh'",{replacement:"SceneLayer.convertMesh",version:"4.29"}),!(t instanceof d.default)){const t=new T;throw(t=>{Ut().error(".createFromFiles()",t.message)})(t),t}if(!r?.layer)throw new i.A("invalid:no-layer","SceneLayer required for file to mesh conversion.");return r.layer.convertMesh(e,{location:t,...r})}static createWithExternalSource(t,e,r){const n=r?.extent??null,{spatialReference:o}=t,i=r?.transform?.clone()??new M.A,s=(0,_.TE)(t,r),u=r?.unitConversionDisabled,a={source:e,extent:n,unitConversionDisabled:u},c=new at;return c.externalSources.push(a),new Ft({metadata:c,transform:i,vertexSpace:s,spatialReference:o})}static createIncomplete(t,e){const{spatialReference:r}=t,n=e?.transform?.clone()??new M.A,o=(0,_.TE)(t,e),s=new Ft({transform:n,vertexSpace:o,spatialReference:r});return s.addResolvingPromise(Promise.reject(new i.A("mesh-incomplete","Mesh resources are not complete"))),s}};(0,n._)([(0,l.MZ)({type:[v.A],json:{write:!0}})],Dt.prototype,"components",void 0),(0,n._)([(0,l.MZ)({nonNullable:!0,types:Zt,constructOnly:!0,json:{write:!0}})],Dt.prototype,"vertexSpace",void 0),(0,n._)([(0,l.MZ)({type:M.A,json:{write:!0}})],Dt.prototype,"transform",void 0),(0,n._)([(0,l.MZ)({constructOnly:!0})],Dt.prototype,"metadata",void 0),(0,n._)([(0,l.MZ)()],Dt.prototype,"hasExtent",null),(0,n._)([(0,l.MZ)()],Dt.prototype,"_transformedExtent",null),(0,n._)([(0,l.MZ)()],Dt.prototype,"_untransformedBounds",null),(0,n._)([(0,l.MZ)()],Dt.prototype,"origin",null),(0,n._)([(0,l.MZ)({readOnly:!0,json:{read:!1}})],Dt.prototype,"extent",null),(0,n._)([(0,l.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!0}})],Dt.prototype,"hasZ",void 0),(0,n._)([(0,l.MZ)({readOnly:!0,json:{read:!1,write:!0,default:!1}})],Dt.prototype,"hasM",void 0),(0,n._)([(0,l.MZ)({type:E.H,nonNullable:!0,json:{write:!0}})],Dt.prototype,"vertexAttributes",void 0),Dt=Ft=(0,n._)([(0,p.$)(Pt)],Dt);const jt=(0,x.vt)(),zt=Dt},7456:function(t,e,r){r.d(e,{l:function(){return c}});var n=r(15774),o=r(73364),i=r(32501),s=r(46098),u=r(61441),a=r(57652);function c(t,e,r,n){if(null==t||null==n)return!1;const i=(0,u.Qk)(t,u.Wv),c=(0,u.Qk)(n,u.zp);if(i===c&&!f(c)&&(i!==u.rz.UNKNOWN||(0,a.aI)(t,n)))return(0,o.kN)(r,e),!0;if(f(c)){const t=u.w5[i][u.rz.LON_LAT],n=u.w5[u.rz.LON_LAT][c];return null!=t&&null!=n&&(t(e,0,p,0),n(p,0,h,0),(0,s.z)(l*p[0],l*p[1],r),r[12]=h[0],r[13]=h[1],r[14]=h[2],!0)}const y=f(i);if((c===u.rz.WEB_MERCATOR||c===u.rz.PLATE_CARREE||c===u.rz.WGS84||c===u.rz.CGCS2000)&&(i===u.rz.WGS84||y||i===u.rz.WEB_MERCATOR||i===u.rz.CGCS2000)){const t=u.w5[i][u.rz.LON_LAT],n=u.w5[u.rz.LON_LAT][c];return null!=t&&null!=n&&(t(e,0,p,0),n(p,0,h,0),y?(0,s.Z)(l*p[0],l*p[1],r):(0,o.D_)(r),r[12]=h[0],r[13]=h[1],r[14]=h[2],!0)}return!1}function f(t){return t===u.rz.SPHERICAL_ECEF||t===u.rz.SPHERICAL_MARS_PCPF||t===u.rz.SPHERICAL_MOON_PCPF||t===u.rz.WGS84_ECEF}const l=(0,n.kU)(1),p=(0,i.vt)(),h=(0,i.vt)()},46098:function(t,e,r){r.d(e,{Z:function(){return i},z:function(){return o}});var n=r(73364);function o(t,e,r){const n=Math.sin(t),o=Math.cos(t),i=Math.sin(e),s=Math.cos(e),u=r;return u[0]=-n,u[4]=-i*o,u[8]=s*o,u[12]=0,u[1]=o,u[5]=-i*n,u[9]=s*n,u[13]=0,u[2]=0,u[6]=s,u[10]=i,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}function i(t,e,r){return o(t,e,r),(0,n.mg)(r,r),r}},56763:function(t,e,r){r.d(e,{W:function(){return u},g:function(){return s}});var n=r(32501),o=r(46157),i=r(57617);function s(t,e,r,n){if((0,o.canProjectWithoutEngine)(t.spatialReference,r)){a[0]=t.x,a[1]=t.y;const o=t.z;return a[2]=o??n??0,(0,i.projectBuffer)(a,t.spatialReference,0,e,r,0)}const s=(0,o.tryProjectWithZConversion)(t,r);return!!s&&(e[0]=s?.x,e[1]=s?.y,e[2]=s?.z??n??0,!0)}async function u(t,e,r,n,i){return await(0,o.initializeProjection)(t.spatialReference,r,null,i),s(t,e,r,n)}const a=(0,n.vt)()},96611:function(t,e,r){r.d(e,{Y0:function(){return c},lO:function(){return f}});var n=r(61714),o=r(57165),i=r(57652);const s=new o.A(n.fv),u=new o.A(n.FY),a=new o.A(n.LJ),c=new o.A(n.Ro);function f(t){const e=l.get(t);if(e)return e;let r=s;if(t)if(t===u)r=u;else if(t===a)r=a;else{const e=t.wkid,n=t.latestWkid;if(null!=e||null!=n)(0,i.tl)(e)||(0,i.tl)(n)?r=u:((0,i.ZL)(e)||(0,i.ZL)(n))&&(r=a);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===p?r=u:t===h&&(r=a)}}}return l.set(t,r),r}const l=new Map,p=u.wkt.toUpperCase(),h=a.wkt.toUpperCase()},37819:function(t,e,r){r.d(e,{Dg:function(){return o},EH:function(){return p},JH:function(){return s},my:function(){return i},tM:function(){return f}});var n=r(24540);function o(t){if((0,n.cy)(t)){if(t.length<n.y9)return t}else if(t.length<n.y9)return Array.from(t);let e=!0,r=!0;return t.some(((t,n)=>(e=e&&0===t,r=r&&t===n,!e&&!r))),e?p(t.length):r?f(t.length):(0,n.cy)(t)||t.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(t){let e=!0;for(const r of t){if(r>=65536)return(0,n.cy)(t)?new Uint32Array(t):t;r>=256&&(e=!1)}return e?new Uint8Array(t):new Uint16Array(t)}(t):t}function i(t){return t<=n.y9?new Array(t):t<=65536?new Uint16Array(t):new Uint32Array(t)}function s(t){return t<=n.y9?new Array(t):new Uint32Array(t)}let u=(()=>{const t=new Uint32Array(131072);for(let e=0;e<t.length;++e)t[e]=e;return t})();const a=[0],c=(()=>{const t=new Uint16Array(65536);for(let e=0;e<t.length;++e)t[e]=e;return t})();function f(t){if(1===t)return a;if(t<n.y9)return Array.from(new Uint16Array(c.buffer,0,t));if(t<c.length)return new Uint16Array(c.buffer,0,t);if(t>u.length){const e=Math.max(2*u.length,t);u=new Uint32Array(e);for(let t=0;t<u.length;t++)u[t]=t}return new Uint32Array(u.buffer,0,t)}let l=new Uint8Array(65536);function p(t){if(1===t)return a;if(t<n.y9)return new Array(t).fill(0);if(t>l.length){const e=Math.max(2*l.length,t);l=new Uint8Array(e)}return new Uint8Array(l.buffer,0,t)}},54466:function(t,e,r){r.d(e,{A:function(){return g}});var n,o=r(53804),i=r(30905),s=r(21609),u=r(40633),a=r(23502),c=r(77560),f=r(65953),l=r(67888),p=r(94332),h=r(95123),y=r(6164);let d=n=class extends i.oY{static from(t){return(0,l.PZ)(n,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return(0,y.b)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},u.A.getLogger(this))}castMaterial(t){return(0,l.PZ)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?h.A:p.A,t)}clone(){return new n({faces:(0,s.o8)(this.faces),shading:this.shading,material:(0,s.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,e){const r={faces:(0,s.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,e):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new n(r)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,o._)([(0,a.MZ)({json:{write:y.B}})],d.prototype,"faces",void 0),(0,o._)([(0,c.w)("faces")],d.prototype,"castFaces",null),(0,o._)([(0,a.MZ)({type:p.A,json:{write:!0}})],d.prototype,"material",void 0),(0,o._)([(0,c.w)("material")],d.prototype,"castMaterial",null),(0,o._)([(0,a.MZ)({json:{write:!0}})],d.prototype,"name",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],d.prototype,"shading",void 0),(0,o._)([(0,a.MZ)({type:Boolean})],d.prototype,"trustSourceNormals",void 0),d=n=(0,o._)([(0,f.$)("esri.geometry.support.MeshComponent")],d);const g=d},65907:function(t,e,r){r.d(e,{A:function(){return l}});var n,o=r(53804),i=r(75743),s=r(30905),u=r(23502),a=(r(58941),r(40633),r(13798),r(74376)),c=r(65953);let f=n=class extends((0,i.O)(s.oY)){constructor(t){super(t),this.type="georeferenced",this.origin=null}};f.absolute=new n,(0,o._)([(0,a.e)({georeferenced:"georeferenced"},{readOnly:!0})],f.prototype,"type",void 0),(0,o._)([(0,u.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],f.prototype,"origin",void 0),f=n=(0,o._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],f);const l=f},20460:function(t,e,r){r.d(e,{A:function(){return l}});var n=r(53804),o=r(75743),i=r(30905),s=r(23502),u=(r(58941),r(40633),r(13798),r(74376)),a=r(65953),c=r(32501);let f=class extends((0,o.O)(i.oY)){constructor(t){super(t),this.type="local",this.origin=(0,c.vt)()}};(0,n._)([(0,u.e)({local:"local"},{readOnly:!0})],f.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"origin",void 0),f=(0,n._)([(0,a.$)("esri.geometry.support.MeshLocalVertexSpace")],f);const l=f},94332:function(t,e,r){r.d(e,{A:function(){return p}});var n,o=r(53804),i=r(52874),s=r(30905),u=r(23502),a=(r(58941),r(40633),r(13798),r(65953)),c=r(29646),f=r(16824);let l=n=class extends s.oY{constructor(t){super(t),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const r=null!=t?t.get(this):null;if(r)return r;const o=new n(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}clonePropertiesWithDeduplication(t){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(t),normalTexture:this.normalTexture?.cloneWithDeduplication(t),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let t=0;return t+=null!=this.color?16:0,null!=this.colorTexture&&(t+=this.colorTexture.memoryUsage),t+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(t+=this.normalTexture.memoryUsage),t+=null!=this.normalTextureTransform?20:0,t}};(0,o._)([(0,u.MZ)({type:i.A,json:{write:!0}})],l.prototype,"color",void 0),(0,o._)([(0,u.MZ)({type:c.A,json:{write:!0}})],l.prototype,"colorTexture",void 0),(0,o._)([(0,u.MZ)({type:f.A,json:{write:!0}})],l.prototype,"colorTextureTransform",void 0),(0,o._)([(0,u.MZ)({type:c.A,json:{write:!0}})],l.prototype,"normalTexture",void 0),(0,o._)([(0,u.MZ)({type:f.A,json:{write:!0}})],l.prototype,"normalTextureTransform",void 0),(0,o._)([(0,u.MZ)({nonNullable:!0,json:{write:!0}})],l.prototype,"alphaMode",void 0),(0,o._)([(0,u.MZ)({nonNullable:!0,json:{write:!0}})],l.prototype,"alphaCutoff",void 0),(0,o._)([(0,u.MZ)({nonNullable:!0,json:{write:!0}})],l.prototype,"doubleSided",void 0),l=n=(0,o._)([(0,a.$)("esri.geometry.support.MeshMaterial")],l);const p=l},95123:function(t,e,r){r.d(e,{A:function(){return p}});var n,o=r(53804),i=r(52874),s=r(23502),u=(r(58941),r(40633),r(13798),r(65953)),a=r(94332),c=r(29646),f=r(16824);let l=n=class extends a.A{constructor(t){super(t),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const r=null!=t?t.get(this):null;if(r)return r;const o=new n(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}getMemoryUsage(){let t=super.getMemoryUsage();return t+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(t+=this.emissiveTexture.memoryUsage),t+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(t+=this.occlusionTexture.memoryUsage),t+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(t+=this.metallicRoughnessTexture.memoryUsage),t+=null!=this.metallicRoughnessTextureTransform?20:0,t}clonePropertiesWithDeduplication(t){return{...super.clonePropertiesWithDeduplication(t),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(t),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(t),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(t),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,o._)([(0,s.MZ)({type:i.A,json:{write:!0}})],l.prototype,"emissiveColor",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],l.prototype,"emissiveTexture",void 0),(0,o._)([(0,s.MZ)({type:f.A,json:{write:!0}})],l.prototype,"emissiveTextureTransform",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],l.prototype,"occlusionTexture",void 0),(0,o._)([(0,s.MZ)({type:f.A,json:{write:!0}})],l.prototype,"occlusionTextureTransform",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],l.prototype,"metallic",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],l.prototype,"roughness",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],l.prototype,"metallicRoughnessTexture",void 0),(0,o._)([(0,s.MZ)({type:f.A,json:{write:!0}})],l.prototype,"metallicRoughnessTextureTransform",void 0),l=n=(0,o._)([(0,u.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],l);const p=l},29646:function(t,e,r){r.d(e,{A:function(){return v}});var n,o=r(53804),i=(r(58941),r(87847)),s=r(30905),u=r(23502),a=r(67888),c=(r(13798),r(47332)),f=r(65953),l=r(81392),p=r(60534);const h=new WeakMap;let y=0,d=n=class extends s.oY{constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,r,n){if(t instanceof HTMLImageElement){const o={type:"image-element",src:(0,p.t)(t.src,n),crossOrigin:t.crossOrigin};e[r]=o}else if(t instanceof HTMLCanvasElement){const n={type:"canvas-element",imageData:g(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[r]=n}else if(t instanceof HTMLVideoElement){const o={type:"video-element",src:(0,p.t)(t.src,n),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[r]=o}else if(t instanceof ImageData){const n={type:"image-data",imageData:g(t)};e[r]=n}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=m(t.imageData),r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r}case"image-data":return m(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this;return t instanceof HTMLCanvasElement?x(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?x(t):!(!e?.toLowerCase().endsWith(".png")&&!e?.toLocaleLowerCase().startsWith("data:image/png;"))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){const t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",e=(e="")=>`d:${e},t:${this.transparent},w:${t}`;return null!=this.url?e(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?e(this.data.src):(h.has(this.data)||h.set(this.data,++y),e(h.get(this.data))):e()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,wrap:this._cloneWrap()};return new n(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const r=this.clone();return t.set(this,r),r}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new n({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new n({data:t}):(0,a.PZ)(n,t)}};function g(t){let e="";for(let r=0;r<t.data.length;r++)e+=String.fromCharCode(t.data[r]);return{data:btoa(e),width:t.width,height:t.height}}function m(t){const e=atob(t.data),r=new Uint8ClampedArray(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return(0,i.eV)(r,t.width,t.height)}function x(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,o._)([(0,u.MZ)({type:String,json:{write:p.w}})],d.prototype,"url",null),(0,o._)([(0,u.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,u.MZ)()],d.prototype,"data",null),(0,o._)([(0,l.K)("data")],d.prototype,"writeData",null),(0,o._)([(0,c.w)("data")],d.prototype,"readData",null),(0,o._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],d.prototype,"transparent",null),(0,o._)([(0,u.MZ)({json:{write:!0}})],d.prototype,"wrap",void 0),(0,o._)([(0,u.MZ)({readOnly:!0})],d.prototype,"contentHash",null),d=n=(0,o._)([(0,f.$)("esri.geometry.support.MeshTexture")],d);const v=d},16824:function(t,e,r){r.d(e,{A:function(){return c}});var n=r(53804),o=r(75743),i=r(30905),s=r(23502),u=(r(58941),r(40633),r(13798),r(65953));let a=class extends((0,o.O)(i.oY)){constructor(t){super(t),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"offset",void 0),(0,n._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"rotation",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"scale",void 0),a=(0,n._)([(0,u.$)("esri.geometry.support.MeshTextureTransform")],a);const c=a},36405:function(t,e,r){r.d(e,{A:function(){return g}});var n,o=r(53804),i=r(30905),s=r(23502),u=(r(58941),r(40633),r(13798),r(65953)),a=r(73364),c=r(39714),f=r(32237),l=r(61769),p=r(32501),h=r(26133);let y=n=class extends i.oY{constructor(t){super(t),this.translation=(0,p.vt)(),this.rotationAxis=(0,p.ci)(h.up),this.rotationAngle=0,this.scale=(0,p.fA)(1,1,1)}get rotation(){return(0,h.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,p.o8)((0,h.yo)(t)),this.rotationAngle=(0,h.g7)(t)}get localMatrix(){const t=(0,c.vt)();return(0,f.x8)(d,(0,h.yo)(this.rotation),(0,h.$I)(this.rotation)),(0,a.o1)(t,d,this.translation,this.scale),t}get localMatrixInverse(){return(0,a.B8)((0,c.vt)(),this.localMatrix)}equals(t){return this===t||null!=t&&(0,a.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,p.o8)(this.translation),rotationAxis:(0,p.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.o8)(this.scale)};return new n(t)}};(0,o._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"translation",void 0),(0,o._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"rotationAxis",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],y.prototype,"rotationAngle",void 0),(0,o._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],y.prototype,"scale",void 0),(0,o._)([(0,s.MZ)()],y.prototype,"rotation",null),(0,o._)([(0,s.MZ)()],y.prototype,"localMatrix",null),(0,o._)([(0,s.MZ)()],y.prototype,"localMatrixInverse",null),y=n=(0,o._)([(0,u.$)("esri.geometry.support.MeshTransform")],y);const d=(0,l.vt)(),g=y},7186:function(t,e,r){r.d(e,{H:function(){return p}});var n,o=r(53804),i=r(30905),s=r(21609),u=r(40633),a=r(23502),c=r(77560),f=r(65953),l=r(6164);let p=n=class extends i.oY{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return(0,l.b)(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},u.A.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&u.A.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),(0,l.b)(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},u.A.getLogger(this))}castUv(t){return(0,l.b)(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},u.A.getLogger(this))}castNormal(t){return(0,l.b)(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},u.A.getLogger(this))}castTangent(t){return(0,l.b)(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},u.A.getLogger(this))}clone(){const t={position:(0,s.o8)(this.position),uv:(0,s.o8)(this.uv),normal:(0,s.o8)(this.normal),tangent:(0,s.o8)(this.tangent),color:(0,s.o8)(this.color)};return new n(t)}clonePositional(){const t={position:(0,s.o8)(this.position),normal:(0,s.o8)(this.normal),tangent:(0,s.o8)(this.tangent),uv:this.uv,color:this.color};return new n(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};(0,o._)([(0,a.MZ)({json:{write:l.B}})],p.prototype,"color",void 0),(0,o._)([(0,c.w)("color")],p.prototype,"castColor",null),(0,o._)([(0,a.MZ)({nonNullable:!0,json:{write:l.B}})],p.prototype,"position",void 0),(0,o._)([(0,c.w)("position")],p.prototype,"castPosition",null),(0,o._)([(0,a.MZ)({json:{write:l.B}})],p.prototype,"uv",void 0),(0,o._)([(0,c.w)("uv")],p.prototype,"castUv",null),(0,o._)([(0,a.MZ)({json:{write:l.B}})],p.prototype,"normal",void 0),(0,o._)([(0,c.w)("normal")],p.prototype,"castNormal",null),(0,o._)([(0,a.MZ)({json:{write:l.B}})],p.prototype,"tangent",void 0),(0,o._)([(0,c.w)("tangent")],p.prototype,"castTangent",null),p=n=(0,o._)([(0,f.$)("esri.geometry.support.MeshVertexAttributes")],p)},26133:function(t,e,r){r.d(e,{$I:function(){return m},AU:function(){return y},Cr:function(){return l},g7:function(){return g},i4:function(){return f},ui:function(){return p},up:function(){return v},vt:function(){return c},yo:function(){return d}});var n=r(15774),o=r(73364),i=r(32237),s=r(61769),u=r(20551),a=r(32501);function c(t=v){return[t[0],t[1],t[2],t[3]]}function f(t,e,r=c()){return(0,u.c)(r,t),r[3]=e,r}function l(t,e,r){return(0,u.e)(r,t,e),(0,u.n)(r,r),r[3]=-(0,u.r)(t,e),r}function p(t,e=c()){const r=(0,o.l)(A,t);return x(e,(0,n.KJ)((0,i.Xd)(e,r))),e}function h(t,e,r=c()){return(0,i.x8)(A,t,m(t)),(0,i.x8)(T,e,m(e)),(0,i.lw)(A,T,A),x(r,(0,n.KJ)((0,i.Xd)(r,A)))}function y(t,e,r,n=c()){return f(a.Cw,t,w),f(a.JP,e,b),f(a.Cb,r,M),h(w,b,w),h(w,M,n),n}function d(t){return t}function g(t){return t[3]}function m(t){return(0,n.kU)(t[3])}function x(t,e){return t[3]=e,t}const v=[0,0,1,0],A=(0,s.vt)(),T=(0,s.vt)(),w=(c(),c()),b=c(),M=c()},92754:function(t,e,r){r.d(e,{Y$:function(){return p},qB:function(){return A},Qt:function(){return j},My:function(){return V},bf:function(){return P},jZ:function(){return g},j0:function(){return m},Sx:function(){return x},E$:function(){return v},h:function(){return B},P:function(){return C},SL:function(){return M},gH:function(){return h},si:function(){return T},mJ:function(){return z},UL:function(){return G},D6:function(){return U},Yi:function(){return O},An:function(){return L},LC:function(){return E},xs:function(){return y},Xm:function(){return w},Vp:function(){return Y},zD:function(){return W},m8:function(){return Z},nS:function(){return N},H$:function(){return I},eI:function(){return _},Eq:function(){return d},Aj:function(){return b},E7:function(){return q},Y4:function(){return $},TX:function(){return D},Uz:function(){return R},ml:function(){return F},XP:function(){return S}});class n{constructor(t,e,r=0,n,o){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;void 0===n&&(n=9*i.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==o?new i(e,s):new i(e,s,(o-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,o=e.typedBuffer;let i=t*this.typedBufferStride,s=r*e.typedBufferStride;for(let t=0;t<9;++t)n[i++]=o[s++]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=9;class o{constructor(t,e,r=0,n,o){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;void 0===n&&(n=16*i.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==o?new i(e,s):new i(e,s,(o-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const n=this.typedBuffer;let o=t*this.typedBufferStride;for(let t=0;t<16;++t)n[o++]=e[r++]}get buffer(){return this.typedBuffer.buffer}}o.ElementCount=16;class i{constructor(t,e,r=0,n,o){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;void 0===n&&(n=i.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==o?new i(e,s):new i(e,s,(o-r)/i.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=1;var s=r(13786);class u{constructor(t,e,r=0,n,o){this.TypedArrayConstructor=t,this.elementCount=2;const i=this.TypedArrayConstructor;void 0===n&&(n=2*i.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==o?new i(e,s):new i(e,s,(o-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,s.hZ)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const n=this.typedBuffer,o=e.typedBuffer;let i=t*this.typedBufferStride,s=r*e.typedBufferStride;n[i++]=o[s++],n[i]=o[s]}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=2;var a=r(20551);class c{constructor(t,e,r=0,n,o){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;void 0===n&&(n=3*i.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==o?new i(e,s):new i(e,s,(o-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,a.i)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=n}copyFrom(t,e,r){const n=this.typedBuffer,o=e.typedBuffer;let i=t*this.typedBufferStride,s=r*e.typedBufferStride;n[i++]=o[s++],n[i++]=o[s++],n[i]=o[s]}get buffer(){return this.typedBuffer.buffer}}c.ElementCount=3;var f=r(33400);class l{constructor(t,e,r=0,n,o){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;void 0===n&&(n=4*i.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==o?new i(e,s):new i(e,s,(o-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,f.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n,o){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=n,this.typedBuffer[t]=o}copyFrom(t,e,r){const n=this.typedBuffer,o=e.typedBuffer;let i=t*this.typedBufferStride,s=r*e.typedBufferStride;n[i++]=o[s++],n[i++]=o[s++],n[i++]=o[s++],n[i]=o[s]}get buffer(){return this.typedBuffer.buffer}}l.ElementCount=4;class p extends i{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}static fromTypedArray(t,e){return new p(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}p.ElementType="f32";class h extends u{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(h,t,e)}static fromTypedArray(t,e){return new h(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}h.ElementType="f32";class y extends c{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(y,t,e)}static fromTypedArray(t,e){return new y(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}y.ElementType="f32";class d extends l{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(d,t,e)}static fromTypedArray(t,e){return new d(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}d.ElementType="f32";class g extends n{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(g,t,e)}static fromTypedArray(t,e){return new g(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}g.ElementType="f32";class m extends n{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}m.ElementType="f64";class x extends o{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(x,t,e)}static fromTypedArray(t,e){return new x(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}x.ElementType="f32";class v extends o{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(v,t,e)}static fromTypedArray(t,e){return new v(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}v.ElementType="f64";class A extends i{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}A.ElementType="f64";class T extends u{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(T,t,e)}static fromTypedArray(t,e){return new T(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}T.ElementType="f64";class w extends c{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(w,t,e)}static fromTypedArray(t,e){return new w(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}w.ElementType="f64";class b extends l{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(b,t,e)}static fromTypedArray(t,e){return new b(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}b.ElementType="f64";class M extends i{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(M,t,e)}static fromTypedArray(t,e){return new M(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}M.ElementType="u8";class E extends u{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(E,t,e)}static fromTypedArray(t,e){return new E(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}E.ElementType="u8";class _ extends c{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(_,t,e)}static fromTypedArray(t,e){return new _(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}_.ElementType="u8";class S extends l{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}S.ElementType="u8";class B extends i{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(B,t,e)}static fromTypedArray(t,e){return new B(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}B.ElementType="u16";class O extends u{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(O,t,e)}static fromTypedArray(t,e){return new O(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}O.ElementType="u16";class N extends c{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(N,t,e)}static fromTypedArray(t,e){return new N(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}N.ElementType="u16";class R extends l{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(R,t,e)}static fromTypedArray(t,e){return new R(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}R.ElementType="u16";class C extends i{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(C,t,e)}static fromTypedArray(t,e){return new C(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}C.ElementType="u32";class L extends u{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(L,t,e)}static fromTypedArray(t,e){return new L(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}L.ElementType="u32";class I extends c{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static fromTypedArray(t,e){return new I(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}I.ElementType="u32";class F extends l{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(F,t,e)}static fromTypedArray(t,e){return new F(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}F.ElementType="u32";class P extends i{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(P,t,e)}static fromTypedArray(t,e){return new P(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}P.ElementType="i8";class U extends u{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(U,t,e)}static fromTypedArray(t,e){return new U(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}U.ElementType="i8";class Z extends c{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Z,t,e)}static fromTypedArray(t,e){return new Z(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}Z.ElementType="i8";class D extends l{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(D,t,e)}static fromTypedArray(t,e){return new D(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}D.ElementType="i8";class j extends i{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(j,t,e)}static fromTypedArray(t,e){return new j(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}j.ElementType="i16";class z extends u{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(z,t,e)}static fromTypedArray(t,e){return new z(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}z.ElementType="i16";class Y extends c{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Y,t,e)}static fromTypedArray(t,e){return new Y(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}Y.ElementType="i16";class q extends l{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(q,t,e)}static fromTypedArray(t,e){return new q(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}q.ElementType="i16";class V extends i{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(V,t,e)}static fromTypedArray(t,e){return new V(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}V.ElementType="i32";class G extends u{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(G,t,e)}static fromTypedArray(t,e){return new G(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}G.ElementType="i32";class W extends c{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(W,t,e)}static fromTypedArray(t,e){return new W(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}W.ElementType="i32";class $ extends l{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer($,t,e)}static fromTypedArray(t,e){return new $(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}$.ElementType="i32"},6164:function(t,e,r){function n(t,e,r,n){const{loggerTag:o,stride:i}=e;return t.length%i!=0?(n.error(o,`Invalid array length, expected a multiple of ${i}`),new r([])):t}function o(t,e,r,o,i){if(!t)return t;if(t instanceof e)return n(t,o,e,i);for(const s of r)if(t instanceof s)return n(new e(t),o,e,i);if(Array.isArray(t))return n(new e(t),o,e,i);{const n=r.map((t=>`'${t.name}'`));return i.error(`Failed to set property, expected one of ${n}, but got ${t.constructor.name}`),new e([])}}function i(t,e,r){e[r]=function(t){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e}(t)}r.d(e,{B:function(){return i},b:function(){return o}})},23572:function(t,e,r){r.d(e,{Bq:function(){return a},Qp:function(){return u},WN:function(){return x},dK:function(){return v},eN:function(){return y},fH:function(){return m},in:function(){return d},yr:function(){return c}});var n=r(93040),o=r(50659),i=r(60539),s=r(66228);class u{constructor(t,e,r){this.assetName=t,this.assetMimeType=e,this.parts=r}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&(0,o.aI)(this.parts,t.parts,((t,e)=>t.equals(e)))}isOnService(t){return this.parts.every((e=>e.isOnService(t)))}makeHash(){let t="";for(const e of this.parts)t+=e.partHash;return t}async toBlob(t){const{parts:e}=this;if(1===e.length)return e[0].toBlob(t);const r=await Promise.all(e.map((e=>e.toBlob(t))));return(0,i.Te)(t),new Blob(r)}}class a{constructor(t,e){this.partUrl=t,this.partHash=e}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith(`${t.path}/assets/`)}async toBlob(t){const{data:e}=await(0,n.A)(this.partUrl,{responseType:"blob"});return(0,i.Te)(t),e}}function c(t){return function(t){return!!t&&(Array.isArray(t)?t.some(h):h(t))}(t?.source)}function f(t){return!!Array.isArray(t)&&t.every((t=>t instanceof u))}const l=/^(model\/gltf\+json)|(model\/gltf-binary)$/,p=/\.(gltf|glb)/i;function h(t){if(t instanceof File){const{type:e,name:r}=t;return l.test(e)||p.test(r)}return l.test(t.assetMimeType)||p.test(t.assetName)}function y(t,e){if(!t)return!1;const{source:r}=t;return function(t,e){if(Array.isArray(t)){const r=t;return r.length>0&&r.every((t=>g(t,e)))}return g(t,e)}(r,e)}function d(t,e){if(t===e)return!0;const{source:r}=t,{source:n}=e;if(r===n)return!0;if(f(r)&&f(n)){if(r.length!==n.length)return!1;const t=(t,e)=>t.assetName<e.assetName?-1:t.assetName>e.assetName?1:0,e=[...r].sort(t),o=[...n].sort(t);for(let t=0;t<e.length;++t)if(!e[t].equals(o[t]))return!1;return!0}return!1}function g(t,e){return t instanceof u&&t.isOnService(e)}function m(t,e){return t instanceof File?(0,s.rq)(t,e):(0,s.z$)(t.assetMimeType,t.assetName,e)}function x(t){return Array.isArray(t)?t:[t]}function v(t){return!!t.original}},61003:function(t,e,r){r.d(e,{b:function(){return i}});var n=r(15774),o=r(37819);function i(t,e,r){const i=Array.isArray(t),f=i?t.length/e:t.byteLength/(4*e),l=i?t:new Uint32Array(t,0,f*e),p=r?.minReduction??0,h=r?.originalIndices||null,y=h?h.length:0,d=r?.componentOffsets||null;let g=0;if(d)for(let t=0;t<d.length-1;t++){const e=d[t+1]-d[t];e>g&&(g=e)}else g=f;const m=Math.floor(1.1*g)+1;(null==c||c.length<2*m)&&(c=new Uint32Array((0,n.cU)(2*m)));for(let t=0;t<2*m;t++)c[t]=0;let x=0;const v=!!d&&!!h,A=v?y:f;let T=(0,o.my)(f);const w=new Uint32Array(y),b=1.96;let M=0!==p?Math.ceil(4*b*b/(p*p)*p*(1-p)):A,E=1,_=d?d[1]:A;for(let t=0;t<A;t++){if(t===M){const e=1-x/t;if(e+b*Math.sqrt(e*(1-e)/t)<p)return null;M*=2}if(t===_){for(let t=0;t<2*m;t++)c[t]=0;if(h)for(let t=d[E-1];t<d[E];t++)w[t]=T[h[t]];_=d[++E]}const r=v?h[t]:t,n=r*e,o=a(l,n,e);let i=o%m,u=x;for(;0!==c[2*i+1];){if(c[2*i]===o){const t=c[2*i+1]-1;if(s(l,n,t*e,e)){u=T[t];break}}i++,i>=m&&(i-=m)}u===x&&(c[2*i]=o,c[2*i+1]=r+1,x++),T[r]=u}if(0!==p&&1-x/f<p)return null;if(v){for(let t=d[E-1];t<w.length;t++)w[t]=T[h[t]];T=(0,o.Dg)(w)}const S=i?new Array(x):new Uint32Array(x*e);x=0;for(let t=0;t<A;t++)T[t]===x&&(u(l,(v?h[t]:t)*e,S,x*e,e),x++);if(h&&!v){const t=new Uint32Array(y);for(let e=0;e<t.length;e++)t[e]=T[h[e]];T=(0,o.Dg)(t)}return{buffer:Array.isArray(S)?S:S.buffer,indices:T,uniqueCount:x}}function s(t,e,r,n){for(let o=0;o<n;o++)if(t[e+o]!==t[r+o])return!1;return!0}function u(t,e,r,n,o){for(let i=0;i<o;i++)r[n+i]=t[e+i]}function a(t,e,r){let n=0;for(let o=0;o<r;o++)n=t[e+o]+n|0,n=n+(n<<11)+(n>>>2)|0;return n>>>0}let c=null},83614:function(t,e,r){r.d(e,{$5:function(){return b},CN:function(){return v},GN:function(){return S},JP:function(){return x},KM:function(){return E},Mv:function(){return N},OD:function(){return R},X4:function(){return A},gZ:function(){return _},gr:function(){return w},qs:function(){return M},si:function(){return T},xA:function(){return O}});var n=r(15774),o=r(44705),i=r(87725),s=r(73364),u=r(39714),a=r(20551),c=r(32501),f=r(7456),l=r(57617),p=r(43587),h=r(57652),y=r(1644),d=r(92754),g=r(62693),m=r(32003);const x="Projection may be possible after calling projection.load().";function v(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function A(t,e,r,n,o,i){return F(C.TO_PCPF,d.xs.fromTypedArray(t),R.NORMAL,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(n),o,d.xs.fromTypedArray(i))?i:null}function T(t,e,r,n,o,i){return F(C.FROM_PCPF,d.xs.fromTypedArray(t),R.NORMAL,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(n),o,d.xs.fromTypedArray(i))?i:null}function w(t,e,r,n){return(0,l.projectBuffer)(t,e,0,r,n,0)?r:null}function b(t,e,r,n){return(0,l.projectBuffer)(t,e,0,r,n,0)?r:null}function M(t,e,r){return(0,o.Ge)(D,r),(0,g.b)(e,t,D),(0,n.or)(D)&&(0,g.n)(e,e),e}function E(t,e,r){return(0,o.z0)(D,r),(0,m.t)(e,t,D),(0,n.or)(D)&&(0,g.n)(e,e,4),e}function _(t,e,r,o){const i=e===R.NORMAL;return B(t,e,r,((t,e)=>{const r=Math.cos((0,n.kU)(t));e[0]=i?r:1/r,e[1]=1}),o)}function S(t,e,r,n){const o=e===R.NORMAL;return B(t,e,r,((t,e)=>{const r=Math.cosh(-t/p.$O.radius);e[0]=1,e[1]=o?r:1/r}),n)}function B(t,e,r,n,o){const i=e===R.NORMAL?3:4,s=[0,0];for(let e=0,u=1;e<t.length;e+=i,u+=3){n(r[u],s);const a=t[e]*s[0],c=t[e+1]*s[1],f=t[e+2],l=1/Math.sqrt(a*a+c*c+f*f);o[e]=a*l,o[e+1]=c*l,o[e+2]=f*l,4===i&&(o[e+3]=t[e+3])}return o}function O(t,e,r,n,o,i){if(!F(C.TO_PCPF,d.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),R.TANGENT,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(n),o,d.xs.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)i[e]=t[e];return i}function N(t,e,r,n,o,i){if(!F(C.FROM_PCPF,d.xs.fromTypedArray(t,16),R.TANGENT,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(n),o,d.xs.fromTypedArray(i,16)))return null;for(let e=3;e<t.length;e+=4)i[e]=t[e];return i}var R,C,L;function I(t,e,r,n,i){switch((0,f.l)(n,r,Z,n),t===C.FROM_PCPF&&(0,s.B8)(Z,Z),e){case R.NORMAL:return(0,o.Ge)(i,Z);case R.TANGENT:return(0,o.z0)(i,Z)}}function F(t,e,r,n,o,i,s,u){if(!e)return;const c=n.count;if(function(t){return t.isWGS84||(0,h.x1)(t)||(0,h.q8)(t)||(0,h.KQ)(t)}(o))for(let n=0;n<c;n++)i.getVec(n,P),e.getVec(n,U),(0,a.q)(U,U,I(t,r,P,s,D)),u.setVec(n,U);else for(let o=0;o<c;o++){i.getVec(o,P),e.getVec(o,U);const c=(0,y.jg)(n.get(o,1));let f=Math.cos(c);r===R.TANGENT!=(t===C.TO_PCPF)&&(f=1/f),I(t,r,P,s,D),t===C.TO_PCPF?(D[0]*=f,D[1]*=f,D[2]*=f,D[3]*=f,D[4]*=f,D[5]*=f):(D[0]*=f,D[3]*=f,D[6]*=f,D[1]*=f,D[4]*=f,D[7]*=f),(0,a.q)(U,U,D),(0,a.n)(U,U),u.setVec(o,U)}return u}(L=R||(R={}))[L.NORMAL=0]="NORMAL",L[L.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(C||(C={}));const P=(0,c.vt)(),U=(0,c.vt)(),Z=(0,u.vt)(),D=(0,i.vt)()},20007:function(t,e,r){r.d(e,{UR:function(){return T},p5:function(){return A},xK:function(){return S}});var n=r(40633),o=r(15774),i=r(62938),s=r(44705),u=r(87725),a=r(73364),c=r(39714),f=r(20551),l=r(32501),p=r(96611),h=r(7456),y=r(56763),d=r(67376),g=r(57652),m=r(62693),x=r(83614);const v=()=>n.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function A(t,e,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){const o=t;if(!(0,y.g)(e,o,n))return!1;const{origin:i}=r;return(0,f.d)(t,o,i),!0}const o=(0,p.lO)(n),i=t;if(!(0,y.g)(e,i,o))return!1;const{origin:s}=r,u=C;if(!(0,h.l)(n,s,u,o))return!1;const c=(0,a.B8)(C,u);return null!=c&&((0,f.t)(t,i,c),!0)}function T(t,e,r){const{vertexSpace:n,transform:o,vertexAttributes:i}=t,u=(0,d.Hq)(n)?o:null,l=E(t.spatialReference,r,L.SOURCE_AND_TARGET);if((0,d.yJ)(n,e)&&(!u||(0,a.t2)(u.localMatrix,c.zK))&&_(l)){const{position:t,normal:e,tangent:n}=i,o=r?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?e:e?.slice(),tangent:o?n:n?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},o,i){const s=w(e,i);if(!(0,h.l)(e,n,B,s))return(0,x.CN)(v(),e,s),null;if(r&&(0,a.lw)(B,B,r.localMatrix),!(0,h.l)(e,o,O,s))return(0,x.CN)(v(),s,e),null;(0,a.B8)(O,O);const u=(0,a.lw)(B,O,B);return M(u,e,i,L.SOURCE_AND_TARGET),b(t,u)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:n},o,i){const s=w(t,i);if(!(0,h.l)(t,n,B,s))return(0,x.CN)(v(),t,s),null;r&&(0,a.lw)(B,B,r.localMatrix),M(B,t,i,L.SOURCE);const u=new Float64Array(e.position.length),c=function(t,e,r,n,o){(0,m.t)(n,t,e);const i=new Float64Array(t.length);return(0,x.$5)(n,o,i,r)?i:((0,x.CN)(v(),o,r),null)}(e.position,B,t,u,s);if(!c)return null;const l=function(t,e,r,n,o,i){if(null==o)return null;const s=new Float32Array(o.length);return(0,x.qs)(o,s,i),(0,x.si)(s,t,e,r,n,s)?s:((0,x.CN)(v(),n,e),null)}(c,t,u,s,e.normal,B);if(e.normal&&!l)return null;const p=function(t,e,r,n,o,i){if(null==o)return null;const s=new Float32Array(o.length);return(0,x.KM)(o,s,i),(0,x.Mv)(s,t,e,r,n,s)?s:((0,x.CN)(v(),n,e),null)}(c,t,u,s,e.tangent,B);if(e.tangent&&!p)return null;if(o){const t=(0,f.v)(R,o);(0,m.a)(c,c,t)}return{position:c,normal:l,tangent:p}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},o,i){const u=w(e,i);if(!(0,h.l)(e,o,B,u))return(0,x.CN)(v(),e,u),null;const c=1/E(e,i,L.TARGET);(0,a.hs)(B,B,[c,c,c]);const f=(0,a.B8)(O,B),{position:l,normal:p,tangent:y}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:n,tangent:o}=t;return{position:(0,m.a)(new Float64Array(r.length),r,e),tangent:o,normal:n}}const n=b(t,r.localMatrix);return(0,m.a)(n.position,n.position,e),n}(t,n,r),d=new Float64Array(l.length),g=function(t,e,r,n,o){const i=(0,x.gr)(t,e,n,o);if(!i)return(0,x.CN)(v(),e,o),null;const s=new Float64Array(i.length);return(0,m.t)(s,i,r),s}(l,e,f,d,u);if(!g)return null;const A=(0,s.Ge)(N,f),T=function(t,e,r,n,o,i,s){if(null==t)return null;const u=s??new Float32Array(t.length);return(0,x.X4)(t,e,r,n,o,u)?((0,m.b)(u,u,i),u):((0,x.CN)(v(),r,o),null)}(p,l,e,d,u,A,p!==t.normal?p:void 0);if(!T&&p)return null;const M=function(t,e,r,n,o,i,s){if(null==t)return null;const u=s??new Float32Array(t.length);return(0,x.xA)(t,e,r,n,o,u)?((0,m.b)(u,u,i,4),u):((0,x.CN)(v(),r,o),null)}(y,l,e,d,u,A,y!==t.tangent?y:void 0);return!M&&y?null:{position:g,normal:T,tangent:M}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:n},o,i){const s=E(r,i,L.SOURCE_AND_TARGET),u=n||!_(s)?(0,a.C)(B,e?.localMatrix??c.zK):null;u&&M(u,r,i,L.SOURCE_AND_TARGET);const{position:l,normal:p,tangent:h}=u?b(t,u):t,y=i?.allowBufferReuse,d=y?l:new Float64Array(l.length);let g=l;if(n&&(g=(0,m.a)(d,g,n)),o){const t=(0,f.v)(R,o);g=(0,m.a)(d,g,t)}return{position:g!==t.position||y?g:g.slice(),normal:p!==t.normal||y?p:p?.slice(),tangent:h!==t.tangent||y?h:h?.slice()}}(t,t.vertexSpace,e.origin,r)}}function w(t,e){return e?.useEllipsoid&&(0,g.B3)(t)?p.Y0:(0,p.lO)(t)}function b(t,e){const r=new Float64Array(t.position.length);(0,m.t)(r,t.position,e);const n=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return n&&t.normal&&(0,x.qs)(t.normal,n,e),o&&t.tangent&&(0,x.KM)(t.tangent,o,e),{position:r,normal:n,tangent:o}}function M(t,e,r,n){const o=E(e,r,n);_(o)||(0,a.hs)(t,t,[o,o,o])}function E(t,e,r){const n=!!(r&L.SOURCE),o=!!(r&L.TARGET),i=e?.sourceUnit,s=e?.targetUnit;if(!i&&!s)return 1;let u=S(i,t);n||!i||_(u)||(v().warn("source unit conversion not supported"),u=1);let a=1/S(s,t);return o||!s||_(a)||(v().warn("target unit conversion not supported"),a=1),u*a}function _(t){return(0,o.Io)(t,1)}function S(t,e){if(null==t)return 1;const r=(0,i.KX)(e);return 1/(0,i.oU)(r,"meters",t)}const B=(0,c.vt)(),O=(0,c.vt)(),N=(0,u.vt)(),R=(0,l.vt)(),C=(0,c.vt)();var L,I;(I=L||(L={}))[I.NONE=0]="NONE",I[I.SOURCE=1]="SOURCE",I[I.TARGET=2]="TARGET",I[I.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},67376:function(t,e,r){r.d(e,{CK:function(){return p},E9:function(){return f},Hq:function(){return l},MW:function(){return h},TE:function(){return y},yJ:function(){return d}});var n=r(88022),o=r(40633),i=r(20551),s=r(45532),u=r(65907),a=r(20460);function c(){return o.A.getLogger("esri.geometry.Mesh")}function f(t){return!l(t)}function l(t){return null!=t.origin}function p(t){return l(t.vertexSpace)}function h(t,e){if(!l(t))return null;const[r,n,o]=t.origin;return new s.default({x:r,y:n,z:o,spatialReference:e})}function y(t,e){const{x:r,y:o,z:i,spatialReference:s}=t,f=[r,o,i??0];return void 0!==e?.geographic&&((0,n.io)(c(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),e.vertexSpace&&c().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(e?.vertexSpace??(l=e?.geographic,null==l?void 0:l?"local":"georeferenced")??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(s))?new a.A({origin:f}):new u.A({origin:f});var l}function d(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,i.p)(t.origin,e.origin))}},5596:function(t,e,r){r.d(e,{C:function(){return l},Cr:function(){return d},Io:function(){return F},LV:function(){return f},O_:function(){return y},Qj:function(){return p},T7:function(){return O},Tj:function(){return R},U5:function(){return S},Ui:function(){return B},Z1:function(){return I},_I:function(){return L},b6:function(){return C},ci:function(){return m},fA:function(){return h},gv:function(){return N},lU:function(){return g},mN:function(){return P},mP:function(){return M},mR:function(){return _},vt:function(){return c},ze:function(){return E}});var n=r(15774),o=r(20551),i=r(32501),s=(r(33400),r(29531)),u=r(50973),a=r(76185);function c(t=z){return[t[0],t[1],t[2],t[3]]}function f(t=z[0],e=z[1],r=z[2],n=z[3]){return h(t,e,r,n,u.Km.get())}function l(t,e){return h(e[0],e[1],e[2],e[3],t)}function p(t){return t}function h(t,e,r,n,o=c()){return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o}function y(t,e,r){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return r[0]=e[0]*o,r[1]=e[1]*o,r[2]=e[2]*o,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function d(t,e,r,n=c()){const o=r[0]-e[0],i=r[1]-e[1],s=r[2]-e[2],u=t[0]-e[0],a=t[1]-e[1],f=t[2]-e[2],l=i*f-s*a,p=s*u-o*f,h=o*a-i*u,y=l*l+p*p+h*h,d=Math.abs(y-1)>1e-5&&y>1e-12?1/Math.sqrt(y):1;return n[0]=l*d,n[1]=p*d,n[2]=h*d,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function g(t,e,r,n=0,i=Math.floor(r*(1/3)),s=Math.floor(r*(2/3))){if(r<3)return!1;e(v,n);let u=i,a=!1;for(;u<r-1&&!a;)e(A,u),u++,a=!(0,o.p)(v,A);if(!a)return!1;for(u=Math.max(u,s),a=!1;u<r&&!a;)e(T,u),u++,(0,o.d)(w,v,A),(0,o.n)(w,w),(0,o.d)(b,A,T),(0,o.n)(b,b),a=!(0,o.p)(v,T)&&!(0,o.p)(A,T)&&Math.abs((0,o.f)(w,b))<x;return a?(d(v,A,T,t),!0):(0!==n||1!==i||2!==s)&&g(t,e,r,0,1,2)}function m(t,e,r=!0){const n=e.length/3;return g(t,((t,r)=>(0,o.i)(t,e[3*r+0],e[3*r+1],e[3*r+2])),r?n-1:n)}const x=.99619469809,v=(0,i.vt)(),A=(0,i.vt)(),T=(0,i.vt)(),w=(0,i.vt)(),b=(0,i.vt)();function M(t,e,r){return e!==t&&l(t,e),t[3]=-(0,o.f)(t,r),t}function E(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function _(t,e,r,n){return(0,o.e)(T,e,t),y(r,T,n)}function S(t,e,r,n){return D(j(t,e,(0,o.d)(u.rq.get(),r,e),q,n))}function B(t,e,r){return null!=e&&D(j(t,e.origin,e.direction,V,r))}function O(t,e,r){return D(j(t,e.origin,e.vector,Y.NONE,r))}function N(t,e,r){return D(j(t,e.origin,e.vector,Y.CLAMP,r))}function R(t,e){return P(t,e)>=0}function C(t,e){const r=(0,o.f)(t,e.ray.direction),n=-P(t,e.ray.origin);if(r>-1e-6&&r<1e-6)return n>0;const i=n/r;return r>0?i<e.c1&&(e.c1=i):i>e.c0&&(e.c0=i),e.c0<=e.c1}function L(t,e,r){const n=(0,o.h)(u.rq.get(),t,-t[3]),i=function(t,e,r){const n=(0,o.h)(u.rq.get(),t,(0,o.f)(t,e));return(0,o.d)(r,e,n),r}(t,(0,o.d)(u.rq.get(),e,n),u.rq.get());return(0,o.g)(r,i,n),r}function I(t,e,r,n){const i=t,c=u.rq.get(),f=u.rq.get();(0,a.VV)(i,c,f);const l=(0,o.d)(u.rq.get(),r,e),p=(0,s.gr)(c,l),h=(0,s.gr)(f,l),y=(0,s.gr)(i,l);return(0,o.i)(n,p,h,y)}function F(t,e){return Math.abs(P(t,e))}function P(t,e){return(0,o.f)(t,e)+t[3]}var U,Z;function D(t){return t===U.INTERSECTS_INSIDE_OUT||t===U.INTERSECTS_OUTSIDE_IN}function j(t,e,r,i,s){const u=(0,o.f)(t,r),a=P(t,e);if(0===u)return a>=0?U.INSIDE:U.OUTSIDE;let c=-a/u;return i&Y.CLAMP&&(c=(0,n.qE)(c,0,1)),!(i&Y.INFINITE_MIN)&&c<0||!(i&Y.INFINITE_MAX)&&c>1?a>=0?U.INSIDE:U.OUTSIDE:((0,o.g)(s,e,(0,o.h)(s,r,c)),a>=0?U.INTERSECTS_INSIDE_OUT:U.INTERSECTS_OUTSIDE_IN)}(Z=U||(U={}))[Z.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",Z[Z.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",Z[Z.INSIDE=2]="INSIDE",Z[Z.OUTSIDE=3]="OUTSIDE";const z=[0,0,1,0];var Y;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(Y||(Y={}));const q=Y.INFINITE_MIN|Y.INFINITE_MAX,V=Y.INFINITE_MAX},6527:function(t,e,r){r.d(e,{S:function(){return a}});var n=r(15774),o=r(62938),i=r(20551),s=r(72485),u=r(5596);function a(t,e,r){const a=function(t,e,r,n){const s=(t=>!Array.isArray(t[0]))(e)?(t,r)=>e[3*t+r]:(t,r)=>e[t][r],a=n?(0,o.GA)(n)/(0,o.G9)(n):1;return(0,u.lU)(t,((t,e)=>(0,i.i)(t,s(e,0)*a,s(e,1)*a,s(e,2))),r)}(c,t,e,r)?(0,u.Qj)(c):[0,0,1];return Math.abs(a[2])>Math.cos((0,n.kU)(80))?s._.Z:Math.abs(a[1])>Math.abs(a[0])?s._.Y:s._.X}const c=(0,u.vt)()},82588:function(t,e,r){r.d(e,{Wq:function(){return n},lO:function(){return p},oR:function(){return h}});var n,o,i=r(59122),s=r(72485),u=r(38441),a=r(50240),c=r(37819),f=r(6527),l=r(61003);function p(t){const e=h(t.rings,t.hasZ,n.CCW_IS_HOLE,t.spatialReference),r=new Array;let o=0,s=0;for(const t of e.polygons){const n=t.count,u=t.index,f=(0,a.l5)(e.position,3*u,3*n),l=t.holeIndices.map((t=>t-u)),p=(0,c.Dg)((0,i.e)(f,l,3));r.push({position:f,faces:p}),o+=f.length,s+=p.length}const u=function(t,e,r){if(1===t.length)return t[0];const n=(0,a.jh)(e),o=new Array(r);let i=0,s=0,u=0;for(const e of t){for(let t=0;t<e.position.length;t++)n[i++]=e.position[t];for(const t of e.faces)o[s++]=t+u;u=i/3}return{position:n,faces:(0,c.Dg)(o)}}(r,o,s),f=Array.isArray(u.position)?(0,l.b)(u.position,3,{originalIndices:u.faces}):(0,l.b)(u.position.buffer,6,{originalIndices:u.faces});return u.position=(0,a.xm)(new Float64Array(f.buffer)),u.faces=f.indices,u}function h(t,e,r,o){const i=t.length,s=new Array(i),u=new Array(i),c=new Array(i);let f=0;for(let e=0;e<i;++e)f+=t[e].length;let l=0,p=0,h=0;const g=(0,a.jh)(3*f);let m=0;for(let a=i-1;a>=0;a--){const f=t[a],x=r===n.CCW_IS_HOLE&&d(f,e,o);if(x&&1!==i)s[l++]=f;else{let t=f.length;for(let e=0;e<l;++e)t+=s[e].length;const r={index:m,pathLengths:new Array(l+1),count:t,holeIndices:new Array(l)};r.pathLengths[0]=f.length,f.length>0&&(c[h++]={index:m,count:f.length}),m=x?y(f,f.length-1,-1,g,m,f.length,e):y(f,0,1,g,m,f.length,e);for(let t=0;t<l;++t){const n=s[t];r.holeIndices[t]=m,r.pathLengths[t+1]=n.length,n.length>0&&(c[h++]={index:m,count:n.length}),m=y(n,0,1,g,m,n.length,e)}l=0,r.count>0&&(u[p++]=r)}}for(let t=0;t<l;++t){const r=s[t];r.length>0&&(c[h++]={index:m,count:r.length}),m=y(r,0,1,g,m,r.length,e)}return u.length=p,c.length=h,{position:g,polygons:u,outlines:c}}function y(t,e,r,n,o,i,s){o*=3;for(let u=0;u<i;++u){const i=t[e];n[o++]=i[0],n[o++]=i[1],n[o++]=s&&i[2]?i[2]:0,e+=r}return o/3}function d(t,e,r){if(!e)return!(0,u.$3)(t);const n=t.length-1;switch((0,f.S)(t,n,r)){case s._.X:return!(0,u.$3)(t,s._.Y,s._.Z);case s._.Y:return!(0,u.$3)(t,s._.X,s._.Z);case s._.Z:return!(0,u.$3)(t,s._.X,s._.Y)}}(o=n||(n={}))[o.NONE=0]="NONE",o[o.CCW_IS_HOLE=1]="CCW_IS_HOLE"},29531:function(t,e,r){r.d(e,{EJ:function(){return c},_I:function(){return s},g7:function(){return a},gr:function(){return u}});var n=r(15774),o=r(20551),i=r(32501);function s(t,e,r){const n=(0,o.f)(t,e)/(0,o.f)(t,t);return(0,o.h)(r,t,n)}function u(t,e){return(0,o.f)(t,e)/(0,o.l)(t)}function a(t,e){const r=(0,o.f)(t,e)/((0,o.l)(t)*(0,o.l)(e));return-(0,n.XM)(r)}function c(t,e,r){(0,o.n)(f,t),(0,o.n)(l,e);const i=(0,o.f)(f,l),s=(0,n.XM)(i),u=(0,o.e)(f,f,l);return(0,o.f)(u,r)<0?2*Math.PI-s:s}const f=(0,i.vt)(),l=(0,i.vt)()},50973:function(t,e,r){r.d(e,{Rc:function(){return y},J8:function(){return d},oG:function(){return l},rq:function(){return p},Km:function(){return h}}),r(58941);var n=r(29601),o=r(87725),i=r(39714),s=r(61769),u=r(1932),a=r(32501),c=r(41546);class f{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,n.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new f(u.vt)}static createVec3f64(){return new f(a.vt)}static createVec4f64(){return new f(c.vt)}static createMat3f64(){return new f(o.vt)}static createMat4f64(){return new f(i.vt)}static createQuatf64(){return new f(s.vt)}get test(){}}const l=f.createVec2f64(),p=f.createVec3f64(),h=f.createVec4f64(),y=(f.createMat3f64(),f.createMat4f64()),d=f.createQuatf64()},24328:function(t,e,r){r.d(e,{V:function(){return i},f:function(){return s}}),r(50917);var n=r(36405),o=r(45532);function i(t,e,r=u){return new o.default({x:t[r.originX],y:t[r.originY],z:t[r.originZ],spatialReference:e})}function s(t,e=u){return new n.A({translation:[t[e.translationX],-t[e.translationZ],t[e.translationY]],rotationAxis:[t[e.rotationX],-t[e.rotationZ],t[e.rotationY]],rotationAngle:t[e.rotationDeg],scale:[t[e.scaleX],t[e.scaleZ],t[e.scaleY]]})}const u={originX:"originX",originY:"originY",originZ:"originZ",translationX:"translationX",translationY:"translationY",translationZ:"translationZ",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ",rotationX:"rotationX",rotationY:"rotationY",rotationZ:"rotationZ",rotationDeg:"rotationDeg"}},79289:function(t,e,r){r.r(e),r.d(e,{assetMapFromAssetMapsJSON:function(){return x},extractMesh:function(){return d},meshFeatureSetFromJSON:function(){return y}});var n=r(59469),o=r(40633),i=r(25738),s=r(91484),u=r(39762),a=r(57165),c=r(23572),f=r(66228),l=r(51084),p=r(24328);const h=()=>o.A.getLogger("esri.rest.support.meshFeatureSet");function y(t,e,r){const o=r.features;r.features=[],delete r.geometryType;const i=l.A.fromJSON(r);if(i.geometryType="mesh",!r.assetMaps)return i;const s=x(e,r.assetMaps),u=t.sourceSpatialReference??a.A.WGS84,c=r.globalIdFieldName,{outFields:f}=t,p=null!=f&&f.length>0?(h=f.includes("*")?null:new Set(f),({attributes:t})=>{if(!t)return{};if(!h)return t;for(const e in t)h.has(e)||delete t[e];return t}):()=>({});var h;for(const t of o){const r=d(t,c,u,e,s);i.features.push(new n.default({geometry:r,attributes:p(t)}))}return i}function d(t,e,r,n,o){const i=t.attributes[e],a=o.get(i);if(null==a||!t.geometry)return null;const f=(0,p.V)(t.attributes,r,n.transformFieldRoles),l=s.default.fromJSON(t.geometry);l.spatialReference=r;const h=(0,p.f)(t.attributes,n.transformFieldRoles),y=r.isGeographic?"local":"georeferenced",d=function(t){const e=Array.from(t.files.values()),r=new Array;for(const t of e){if(t.status!==g.COMPLETED)return null;const e=new Array;for(const r of t.parts){if(!r)return null;e.push(new c.Bq(r.url,r.hash))}r.push(new c.Qp(t.name,t.mimeType,e))}return r}(a);return d?u.A.createWithExternalSource(f,d,{extent:l,transform:h,vertexSpace:y,unitConversionDisabled:!0}):u.A.createIncomplete(f,{extent:l,transform:h,vertexSpace:y})}var g,m;function x(t,e){const r=new Map;for(const n of e){const e=n.parentGlobalId;if(null==e)continue;const o=n.assetName,s=n.assetType,u=n.assetHash,a=n.assetURL,c=n.conversionStatus,l=n.seqNo,p=(0,f.Fm)(s,t.supportedFormats);if(!p){h().error("mesh-feature-set:unknown-format",`Service returned an asset of type ${s}, but it does not list it as a supported type`);continue}const y=(0,i.tE)(r,e,(()=>({files:new Map})));(0,i.tE)(y.files,o,(()=>({name:o,type:s,mimeType:p,status:v(c),parts:[]}))).parts[l]={hash:u,url:a}}return r}function v(t){switch(t){case"COMPLETED":case"SUBMITTED":return g.COMPLETED;case"INPROGRESS":return g.PENDING;default:return g.FAILED}}(m=g||(g={}))[m.FAILED=0]="FAILED",m[m.PENDING=1]="PENDING",m[m.COMPLETED=2]="COMPLETED"},76185:function(t,e,r){r.d(e,{VV:function(){return u},hG:function(){return i},wp:function(){return s}}),r(15774);var n=r(20551),o=r(32501);function i(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],r=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],n=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}function s(t,e){const r=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),o=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),i=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,n.i)(t,r,o,i),t}function u(t,e,r){Math.abs(t[0])>Math.abs(t[1])?(0,n.i)(e,0,1,0):(0,n.i)(e,1,0,0),(0,n.e)(r,t,e),(0,n.e)(e,r,t),(0,n.n)(r,r),(0,n.n)(e,e)}(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,o.vt)()}}]);
//# sourceMappingURL=rest-support-meshFeatureSet.js.map