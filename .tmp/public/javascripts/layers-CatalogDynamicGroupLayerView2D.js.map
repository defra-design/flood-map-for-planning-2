{"version":3,"file":"layers-CatalogDynamicGroupLayerView2D.js","mappings":"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","sources":["webpack://defra/./node_modules/@arcgis/core/layers/effects/EffectView.js","webpack://defra/./node_modules/@arcgis/core/linkChart/utils.js","webpack://defra/./node_modules/@arcgis/core/views/2d/engine/Container.js","webpack://defra/./node_modules/@arcgis/core/views/2d/engine/DisplayObject.js","webpack://defra/./node_modules/@arcgis/core/views/2d/engine/transitions/FadeTransition.js","webpack://defra/./node_modules/@arcgis/core/views/2d/layers/CatalogDynamicGroupLayerView2D.js","webpack://defra/./node_modules/@arcgis/core/views/2d/layers/LayerView2D.js","webpack://defra/./node_modules/@arcgis/core/views/layers/CatalogDynamicGroupLayerView.js","webpack://defra/./node_modules/@arcgis/core/views/layers/LayerView.js","webpack://defra/./node_modules/@arcgis/core/views/layers/support/ClipArea.js","webpack://defra/./node_modules/@arcgis/core/views/layers/support/ClipRect.js","webpack://defra/./node_modules/@arcgis/core/views/layers/support/Geometry.js","webpack://defra/./node_modules/@arcgis/core/views/layers/support/Path.js","webpack://defra/./node_modules/@arcgis/core/views/support/layerViewUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{clone as s}from\"../../core/lang.js\";import r from\"../../core/Logger.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as c}from\"./parser.js\";import{canInterpolateEffects as o,normalizeEffects as f}from\"./utils.js\";const l=-1;let a=class extends e{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=has(\"mapview-transitions-duration\"),this.effects=[]}set effect(t){if(this._get(\"effect\")!==(t=t||\"\")){this._set(\"effect\",t);try{this._transitionTo(h(t))}catch(e){this._transitionTo([]),r.getLogger(this).warn(\"Invalid Effect\",{effect:t,error:e})}}}get final(){return this._final}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&u(this._current,h(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransition(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&u(this._current,t,this.scale)?(this._final=t,this._to=s(t),_(this._current,this._to,this.scale),this._from=s(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set(\"effects\",this._current[0]?s(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let s=0;s<this._current.length;s++){const t=this._current[s],r=this._from[s],i=this._to[s];t.scale=p(r.scale,i.scale,e);for(let s=0;s<t.effects.length;s++){const n=t.effects[s],c=r.effects[s],o=i.effects[s];n.interpolate(c,o,e)}}1===e&&(this._current=this._final,this._set(\"effects\",this._current[0]?s(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set(\"scale\",t),0===this._current.length)return;const e=this._current,s=this._current.length-1;let r,i,n=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[s].scale)i=r=e[s].effects;else for(let c=0;c<s;c++){const s=e[c],o=e[c+1];if(s.scale>=t&&o.scale<=t){n=(t-s.scale)/(o.scale-s.scale),r=s.effects,i=o.effects;break}}for(let c=0;c<this.effects.length;c++){this.effects[c].interpolate(r[c],i[c],n)}}};function h(t){const e=c(t)||[];return m(e)?[{scale:l,effects:e}]:e}function u(t,e,s){if(!t[0]?.effects||!e[0]?.effects)return!0;return!((t[0]?.scale===l||e[0]?.scale===l)&&(t.length>1||e.length>1)&&s<=0)&&o(t[0].effects,e[0].effects)}function _(t,e,s){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,n=i[i.length-1],c=n?.scale??s,o=n?.effects??[];for(let f=i.length;f<r.length;f++)i.push({scale:c,effects:[...o]});for(let a=0;a<r.length;a++)i[a].scale=i[a].scale===l?s:i[a].scale,r[a].scale=r[a].scale===l?s:r[a].scale,f(i[a].effects,r[a].effects)}function p(t,e,s){return t+(e-t)*s}function m(t){const e=t[0];return!!e&&\"type\"in e}t([i()],a.prototype,\"_to\",void 0),t([i()],a.prototype,\"duration\",void 0),t([i({value:\"\"})],a.prototype,\"effect\",null),t([i({readOnly:!0})],a.prototype,\"effects\",void 0),t([i({readOnly:!0})],a.prototype,\"final\",null),t([i({readOnly:!0})],a.prototype,\"hasEffects\",null),t([i({value:0})],a.prototype,\"scale\",null),t([i({readOnly:!0})],a.prototype,\"transitioning\",null),a=t([n(\"esri.layers.effects.EffectView\")],a);export{a as EffectView,u as canInterpolateEffectStops,h as convertEffectToStops,_ as normalizeEffectStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction e(e){return null!=e&&\"object\"==typeof e&&\"2d\"===e.type&&\"linkchart\"===e.view2dType}export{e as isLinkChartView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{trackAccess as e}from\"../../../core/accessorSupport/tracking.js\";import{SimpleObservable as t}from\"../../../core/accessorSupport/tracking/SimpleObservable.js\";import{create as i}from\"../../../core/libs/gl-matrix-2/factories/mat3f32.js\";import{EffectView as r}from\"../../../layers/effects/EffectView.js\";import{DisplayObject as s}from\"./DisplayObject.js\";class n extends s{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this._children=[],this._childrenObservable=new t,this._effectView=null,this._highlightGradient=null}get blendMode(){return this._blendMode}set blendMode(e){this._blendMode=e,this.requestRender()}get children(){return e(this._childrenObservable),this._children}get clips(){return this._clips}set clips(e){this._clips=e,this.children.forEach((t=>t.clips=e))}get computedEffects(){return this._effectView?.effects??null}get effect(){return this._effectView?.effect??\"\"}set effect(e){(this._effectView||e)&&(this._effectView||(this._effectView=new r,this.addTransitionable(this._effectView)),this._effectView.effect=e,this.requestRender())}get highlightGradient(){return this._highlightGradient}set highlightGradient(e){this._highlightGradient=e,this.requestRender()}get hasBlending(){return!!this.blendMode}get hasHighlight(){return this.children.some((e=>e.hasHighlight))}get hasLabels(){return this.children.some((e=>e.hasLabels))}get requiresDedicatedFBO(){return this.children.some((e=>\"blendMode\"in e&&e.blendMode&&\"normal\"!==e.blendMode))}get isReady(){return this.children.every((e=>e.isReady))}get sortFunction(){return this._sortFunction}set sortFunction(e){this._sortFunction=e,e&&(this._needsSort=!0)}doRender(e){const t=this.createRenderParams(e),{painter:i}=t;i.beforeRenderLayer(t,this._clips?.length?255:0,this.computedOpacity),this.renderChildren(t),i.afterRenderLayer(t,this.computedOpacity)}addChild(e){return this.addChildAt(e,this.children.length)}addChildAt(e,t=this.children.length){if(!e)return e;if(this.contains(e))return e;this._needsSort=!0;const i=e.parent;return i&&i!==this&&i.removeChild(e),t>=this.children.length?this.children.push(e):this.children.splice(t,0,e),this._childrenSet.add(e),e.parent=this,e.stage=this.stage,this!==this.stage&&(e.clips=this.clips),this.requestRender(),this._childrenObservable.notify(),e}contains(t){return e(this._childrenObservable),this._childrenSet.has(t)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const e of this.children)this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null;this.children.length=0,this._childrenObservable.notify()}removeChild(e){return this.contains(e)?this.removeChildAt(this.children.indexOf(e)):e}removeChildAt(e){if(e<0||e>=this.children.length)return null;this._needsSort=!0;const t=this.children.splice(e,1)[0];return this._childrenSet.delete(t),this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null,this._childrenObservable.notify(),t}beforeRender(e){super.beforeRender(e),this.sortFunction&&this._needsSort&&(this.children.sort(this.sortFunction),this._needsSort=!1,this._childrenObservable.notify());for(const t of this.children)t.beforeRender(e)}afterRender(e){super.afterRender(e);for(const t of this.children)t.afterRender(e)}_createTransforms(){return{displayViewScreenMat3:i()}}onAttach(){super.onAttach();const e=this.stage;for(const t of this.children)t.stage=e}onDetach(){super.onDetach();for(const e of this.children)e.stage=null}renderChildren(e){for(const t of this.children)t.processRender(e)}createRenderParams(e){return{...e,requireFBO:this.requiresDedicatedFBO,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||e.highlightGradient}}isTransitioning(){return super.isTransitioning()||this.children.some((e=>e.transitioning))}}export{n as Container};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{remove as t}from\"../../../core/arrayUtils.js\";import i from\"../../../core/Evented.js\";import{FadeTransition as s}from\"./transitions/FadeTransition.js\";class e extends i{constructor(){super(...arguments),this._transitionables=null,this._clips=null,this._fadeTransition=null,this._isReady=!1,this._opacity=1,this.parent=null,this._stage=null,this._visible=!0}get computedOpacity(){return this._fadeTransition?.computedOpacity??this.opacity}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get fadeTransitionEnabled(){return null!==this._fadeTransition}set fadeTransitionEnabled(t){!this._fadeTransition&&t?(this._fadeTransition=new s({opacity:this.opacity,visible:this.visible}),this.addTransitionable(this._fadeTransition)):this._fadeTransition&&!t&&(this.removeTransitionable(this._fadeTransition),this._fadeTransition=null)}get inFadeTransition(){return this._fadeTransition?.transitioning??!1}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this._fadeTransition&&(this._fadeTransition.opacity=this._opacity),this.requestRender())}get stage(){return this._stage}set stage(t){if(this._stage===t)return;const i=this._stage;this._stage=t,t?this._stage?.untrashDisplayObject(this)||(this.onAttach(),this.emit(\"attach\")):i?.trashDisplayObject(this)}get transforms(){return null==this._transforms&&(this._transforms=this._createTransforms()),this._transforms}get transitioning(){return this.isTransitioning()}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this._fadeTransition&&(this._fadeTransition.visible=this._visible),this.requestRender())}get hasLabels(){return!1}get hasHighlight(){return!1}get hasBlending(){return!1}addTransitionable(t){this._transitionables??=[],this._transitionables.push(t),this.requestRender()}removeTransitionable(i){i.endTransition(),this._transitionables&&t(this._transitionables,i),this.requestRender()}fadeIn(){this.fadeTransitionEnabled=!0;const t=this._fadeTransition.fadeIn();return this.opacity=1,this.requestRender(),t}fadeOut(){this.fadeTransitionEnabled=!0;const t=this._fadeTransition.fadeOut();return this.opacity=0,this.requestRender(),t}endTransitions(){if(this._transitionables){for(const t of this._transitionables)t.endTransition();this.requestRender()}}beforeRender(t){this.transitionStep(t.deltaTime,t.state.scale),this.setTransform(t.state)}afterRender(t){this.transitioning&&this.requestRender()}remove(){this.parent?.removeChild(this)}setTransform(t){}processRender(t){this.stage&&(this._fadeTransition?.computedVisible??this.visible)&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this.endTransitions(),this.onDetach(),this.emit(\"detach\")}isTransitioning(){return this._transitionables?.some((t=>t.transitioning))??!1}transitionStep(t,i){if(this._transitionables)for(const s of this._transitionables)s.transitionStep(t,i)}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit(\"isReady\"),this.requestRender())}}export{e as DisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import has from\"../../../../core/has.js\";import{createResolver as i}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";let r=class extends e{constructor(t){super(t),this.computedOpacity=1,this.computedVisible=!0,this.opacity=1,this.visible=!0,this._fadeOutResolver=null,this._fadeInResolver=null}get transitioning(){return(this._fadeOutResolver||!this.visible?0:this.opacity)!==this.computedOpacity}endTransition(){this._fadeInResolver?.(),this._fadeOutResolver?.(),this._fadeInResolver=this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0}fadeIn(){return this._fadeInResolver||(this.opacity=1,this.computedOpacity=0,this._fadeOutResolver?.(),this._fadeOutResolver=null,this._fadeInResolver=i()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver=i()),this._fadeOutResolver.promise}transitionStep(t,e){const i=has(\"mapview-transitions-duration\"),s=i?1/i:0;if(0===s)this.computedOpacity=this.opacity,this.computedVisible=this.visible;else{const e=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===e)this.computedVisible=this.visible;else{const o=t*s;this.computedOpacity=i>e?Math.max(e,i-o):Math.min(e,i+o),this.computedVisible=this.computedOpacity>0}}this.transitioning||(this._fadeInResolver?.(),this._fadeOutResolver?.(),this._fadeOutResolver=this._fadeInResolver=null)}};t([s()],r.prototype,\"computedOpacity\",void 0),t([s()],r.prototype,\"computedVisible\",void 0),t([s()],r.prototype,\"opacity\",void 0),t([s()],r.prototype,\"visible\",void 0),t([s()],r.prototype,\"transitioning\",null),t([s()],r.prototype,\"_fadeOutResolver\",void 0),t([s()],r.prototype,\"_fadeInResolver\",void 0),r=t([o(\"esri.views.2d.engine.transitions.FadeTransition\")],r);export{r as FadeTransition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Collection.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as t}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView2DMixin as s}from\"./LayerView2D.js\";import a from\"../../layers/CatalogDynamicGroupLayerView.js\";import o from\"../../layers/LayerView.js\";let i=class extends(a(s(o))){constructor(){super(...arguments),this.unsupportedItemTypes=[\"Scene Service\"],this.layerViews=new r}attach(){this.addAttachHandles([this.layerViews.on(\"after-changes\",(()=>this._updateStageChildren())),this.enableLayerUpdates()])}detach(){this.container.removeAllChildren()}update(e){this.updateLayers()}viewChange(){}moveEnd(){this.requestUpdate()}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,r)=>this.container.addChildAt(e.container,r)))}};i=e([t(\"esri.views.2d.layers.CatalogDynamicGroupLayerView2D\")],i);const c=i;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import{referenceSetter as i}from\"../../../core/collectionUtils.js\";import s from\"../../../core/Error.js\";import r from\"../../../core/Logger.js\";import{watch as o,syncAndInitial as h,on as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isLinkChartView as l}from\"../../../linkChart/utils.js\";import{Container as c}from\"../engine/Container.js\";import{createOrReuseHighlightGradient as d}from\"./support/util.js\";import{HighlightGroup as u}from\"../support/HighlightGroup.js\";import{getDefaultHighlightOptions as g,setDefaultHighlightOptions as m}from\"../support/highlightGroupUtils.js\";import f from\"../support/HighlightOptions.js\";import y from\"../../layers/support/ClipRect.js\";import v from\"../../layers/support/Geometry.js\";import w from\"../../layers/support/Path.js\";import{isInEffectiveScaleRange as R}from\"../../support/layerViewUtils.js\";const S=t.ofType({key:\"type\",base:null,typeMap:{rect:y,path:w,geometry:v}}),b=new(t.ofType(u)),j=y=>{let v=class extends y{constructor(){super(...arguments),this.attached=!1,this.clips=new S,this.highlights=null,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this._visibleAtCurrentScale=!0}initialize(){const e=this.view?.spatialReferenceLocked??!0,t=this.view?.spatialReference;t&&e&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new s(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this layer does not meet the requirements of the view\",{layer:this.layer}))):(this.container||(this.container=new c),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([o((()=>this.suspended),(e=>{this.container&&(this.container.visible=!e)}),h),o((()=>this.updateSuspended),(e=>{this.view&&!e&&this.updateRequested&&this.view.requestUpdate()}),h),o((()=>this.layer?.opacity??1),(e=>{this.container&&(this.container.opacity=e)}),h),o((()=>this.layer&&\"blendMode\"in this.layer?this.layer.blendMode:\"normal\"),(e=>{this.container&&(this.container.blendMode=e)}),h),o((()=>this.layer&&\"effect\"in this.layer?this.layer.effect:null),(e=>{this.container&&(this.container.effect=e)}),h),o((()=>this._mergedHighlights.items.map((e=>({name:e.name,options:{fillColor:e.options.color,haloColor:e.options.haloColor,fillOpacity:e.options.fillOpacity,haloOpacity:e.options.haloOpacity,haloWidth:e.options.haloWidth,haloBlur:e.options.haloBlur}})))),(()=>{this.container.highlightGradient=d(this.container.highlightGradient,this._mergedHighlights.items)}),h),o((()=>this._mergedHighlights.items.map((e=>e.name))),(()=>{this._updateHighlights()})),a((()=>this.clips),\"change\",(()=>{this.container&&(this.container.clips=this.clips)}),h),o((()=>({scale:this.view?.scale,scaleRange:this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null})),(({scale:e,scaleRange:t})=>{const i=R(t,e);i!==this._visibleAtCurrentScale&&(this._visibleAtCurrentScale=i)}),h)],\"constructor\"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then((e=>{e===this&&this.processAttach()}),(()=>{})):this.when().then((()=>{this.processAttach()}),(()=>{})))}_updateHighlights(){}destroy(){this.processDetach(),this.updateRequested=!1}get highlightOptions(){return g(this)}set highlightOptions(e){m(this,e)}get _mergedHighlights(){if(!this.view)return b;if(!this.highlights)return this.view.highlights;const e=this.view.highlights.clone();for(const t of this.highlights){const i=e.find((e=>e.name===t.name));i&&(i.options=t.options)}return e}get scheduler(){return this.view.scheduler}get spatialReferenceSupported(){const e=this.view?.spatialReference;return null==e||this.supportsSpatialReference(e)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this._updatingHandles?.updating||this.container.transitioning)}get visibleAtCurrentScale(){return this._visibleAtCurrentScale}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles(\"attach\"),this.detach(),this.updateRequested=!1)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(e){!this.isFulfilled()||this.isResolved()?(this._set(\"updateParameters\",e),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(e))):this.updateRequested=!1}hitTest(e,t){return Promise.resolve(null)}supportsSpatialReference(e){return!0}canResume(){if(!this.spatialReferenceSupported)return!1;switch(this.layer?.type){case\"link-chart\":case\"knowledge-graph-sublayer\":break;default:if(l(this.view)&&!this.view.inGeographicLayout)return!1}return!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const e=super.getSuspendInfo(),t=!this.spatialReferenceSupported;return t&&(e.spatialReferenceNotSupported=t),e}addAttachHandles(e){this.addHandles(e,\"attach\")}_getHighlightBits(e){e=new Set(e);let t=1,i=0;if(!this.view)return 0;const s=this._mergedHighlights;for(const{name:r}of s)e.delete(r)&&(i=t),t<<=1;for(const o of e)r.getLogger(this).error(\"#highlights\",`${o} was not found. Features in this group will not be highlighted.`);return i}};return e([n()],v.prototype,\"attached\",void 0),e([n({type:S,set(e){const t=i(e,this._get(\"clips\"),S);this._set(\"clips\",t)}})],v.prototype,\"clips\",void 0),e([n()],v.prototype,\"container\",void 0),e([n({type:f})],v.prototype,\"highlightOptions\",null),e([n({type:t.ofType(u)})],v.prototype,\"highlights\",void 0),e([n()],v.prototype,\"_mergedHighlights\",null),e([n()],v.prototype,\"moving\",void 0),e([n({readOnly:!0})],v.prototype,\"spatialReferenceSupported\",null),e([n({readOnly:!0})],v.prototype,\"updateParameters\",void 0),e([n()],v.prototype,\"updateRequested\",void 0),e([n()],v.prototype,\"updating\",null),e([n()],v.prototype,\"view\",void 0),e([n()],v.prototype,\"_visibleAtCurrentScale\",void 0),e([n({readOnly:!0})],v.prototype,\"visibleAtCurrentScale\",null),v=e([p(\"esri.views.2d.layers.LayerView2D\")],v),v};export{j as LayerView2DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{handlesGroup as t,makeHandle as s}from\"../../core/handleUtils.js\";import i from\"../../core/Logger.js\";import{debounce as a,ignoreAbortErrors as o}from\"../../core/promiseUtils.js\";import{sqlAnd as n}from\"../../core/sql.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";const l=Symbol(),u=u=>{let y=class extends u{constructor(){super(...arguments),this.layerViews=new r,this._debouncedUpdate=a((async()=>{const{layer:e,parent:r}=this,t=r?.footprintLayerView;let s=[];const i=this._createQuery();if(i&&t){const{features:r}=await t.queryFeatures(i);this.suspended||(s=r.map((r=>e.acquireLayer(r))))}this.removeHandles(l),this.addHandles(s,l)}))}get creatingLayerViews(){return this.view?.layerViewManager.isCreatingLayerViewsForLayer(this.layer)??!1}isUpdating(){return this.creatingLayerViews||this.layer.updating||this.layerViews.some((e=>e.updating))}enableLayerUpdates(){return t([this._updatingHandles.addWhen((()=>!1===this.parent?.footprintLayerView?.dataUpdating),(()=>this.updateLayers())),this._updatingHandles.add((()=>[this.layer.maximumVisibleSublayers,this.layer.parent?.orderBy,this.parent?.footprintLayerView?.filter,this.parent?.footprintLayerView?.timeExtent,this.suspended]),(()=>this.updateLayers())),s((()=>this.removeHandles(l)))])}updateLayers(){this.suspended?this.removeHandles(l):this._updatingHandles.addPromise(o(this._debouncedUpdate()).catch((e=>{i.getLogger(this).error(e)})))}_createQuery(){const e=this.parent?.footprintLayerView,r=this.layer?.parent;if(!e||!r||r.destroyed)return null;const{layer:{maximumVisibleSublayers:t},view:{scale:s}}=this;if(!t)return null;const{itemTypeField:i,itemSourceField:a,itemNameField:o,minScaleField:d,maxScaleField:p,objectIdField:l,orderBy:u}=r,y=n(`${d} IS NULL OR ${s} <= ${d} OR ${d} = 0`,`${p} IS NULL OR ${s} >= ${p}`),c=u?.find((e=>e.field&&!e.valueExpression)),m=e.createQuery();if(m.returnGeometry=!1,m.num=t,m.outFields=[l,a,o],m.where=n(m.where,y),null!=this.unsupportedItemTypes){const e=`${i} NOT IN (${this.unsupportedItemTypes.map((e=>`'${e}'`))})`;m.where=n(m.where,e)}return c?.field&&(m.orderByFields=[`${c.field} ${\"descending\"===c.order?\"DESC\":\"ASC\"}`],m.outFields.push(c.field)),m}};return e([d({readOnly:!0})],y.prototype,\"creatingLayerViews\",null),e([d()],y.prototype,\"layer\",void 0),e([d()],y.prototype,\"layerViews\",void 0),e([d({readOnly:!0})],y.prototype,\"unsupportedItemTypes\",void 0),e([d()],y.prototype,\"parent\",void 0),e([d({readOnly:!0})],y.prototype,\"isUpdating\",null),y=e([p(\"esri.views.layers.CatalogDynamicGroupLayerView\")],y),y};export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import{IdentifiableMixin as i}from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import{EsriPromiseMixin as l}from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i(l(r.EventedMixin(t)))){constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../../core/JSONSupport.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{get version(){return this.commitVersionProperties(),(this._get(\"version\")||0)+1}};r([s({readOnly:!0})],t.prototype,\"version\",null),t=r([e(\"esri.views.layers.support.ClipArea\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import e from\"./ClipArea.js\";var s;let i=s=class extends e{constructor(t){super(t),this.type=\"rect\",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new s({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty(\"left\"),this.commitProperty(\"right\"),this.commitProperty(\"top\"),this.commitProperty(\"bottom\")}};t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"left\",void 0),t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"right\",void 0),t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"top\",void 0),t([o({type:[Number,String],json:{write:!0}})],i.prototype,\"bottom\",void 0),i=s=t([r(\"esri.views.layers.support.ClipRect\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../../geometry/Geometry.js\";import{fromJSON as s}from\"../../../geometry/support/jsonUtils.js\";import m from\"./ClipArea.js\";import p from\"../../../geometry/Extent.js\";import i from\"../../../geometry/Polygon.js\";var y;const c={base:t,key:\"type\",typeMap:{extent:p,polygon:i}};let n=y=class extends m{constructor(o){super(o),this.type=\"geometry\",this.geometry=null}clone(){return new y({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty(\"geometry\")}};o([r({types:c,json:{read:s,write:!0}})],n.prototype,\"geometry\",void 0),n=y=o([e(\"esri.views.layers.support.Geometry\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./ClipArea.js\";let e=class extends t{constructor(r){super(r),this.type=\"path\",this.path=[]}commitVersionProperties(){this.commitProperty(\"path\")}};r([o({type:[[[Number]]],json:{write:!0}})],e.prototype,\"path\",void 0),e=r([s(\"esri.views.layers.support.Path\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";function n(e){return e&&\"function\"==typeof e.highlight}function t(e){return e&&\"function\"==typeof e.maskOccludee}function i(e,n,t){return null==e||e>=t&&(0===n||e<=n)}function r(e,n){if(n&&e){const{minScale:t,maxScale:r}=e;if(c(t,r))return i(n,t,r)}return!0}function c(e,n){return null!=e&&e>0||null!=n&&n>0}function a(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}function u(e){const n=e.effectiveScaleRange;return{minScale:n?.minScale??0,maxScale:n?.maxScale??0}}function l(e){return null!=e&&\"object\"==typeof e&&\"createQuery\"in e&&\"queryFeatures\"in e&&\"layer\"in e&&\"view\"in e}function o(n,t,i){return new e(\"layerview:spatial-reference-incompatible\",`The spatial reference of this ${n}${t?`(wkid:${t})`:\"\"} is incompatible with the spatial reference of the view${i?`(wkid:${i})`:\"\"}.`,{})}export{u as extractSafeScaleBounds,n as highlightsSupported,r as isInEffectiveScaleRange,c as isScaleRangeActive,l as isSelectableLayerView2D,t as occludeesSupported,i as scaleBoundsPredicate,o as spatialReferenceIncompatibleError,a as validateScaleRange};\n"],"names":[],"sourceRoot":""}