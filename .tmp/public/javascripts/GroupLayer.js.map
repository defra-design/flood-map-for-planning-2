{"version":3,"file":"GroupLayer.js","mappings":"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","sources":["webpack://defra/./node_modules/@arcgis/core/core/CollectionFlattener.js","webpack://defra/./node_modules/@arcgis/core/core/accessorSupport/MultiOriginStore.js","webpack://defra/./node_modules/@arcgis/core/core/ReadOnlyMultiOriginJSONSupport.js","webpack://defra/./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js","webpack://defra/./node_modules/@arcgis/core/core/accessorSupport/layerContainerType.js","webpack://defra/./node_modules/@arcgis/core/core/loadAll.js","webpack://defra/./node_modules/@arcgis/core/layers/GroupLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/operationalLayers.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack://defra/./node_modules/@arcgis/core/layers/support/commonProperties.js","webpack://defra/./node_modules/@arcgis/core/portal/support/portalItemUtils.js","webpack://defra/./node_modules/@arcgis/core/support/LayersMixin.js","webpack://defra/./node_modules/@arcgis/core/support/TablesMixin.js","webpack://defra/./node_modules/@arcgis/core/support/collectionUtils.js","webpack://defra/./node_modules/@arcgis/core/support/tagSymbols.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableAttachmentElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableFieldElement.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableRelationshipElement.js","webpack://defra/./node_modules/@arcgis/core/tables/support/elements.js","webpack://defra/./node_modules/@arcgis/core/tables/elements/AttributeTableGroupElement.js","webpack://defra/./node_modules/@arcgis/core/tables/AttributeTableTemplate.js","webpack://defra/./node_modules/@arcgis/core/webdoc/interfaces.js","webpack://defra/./node_modules/@arcgis/core/webdoc/support/saveUtils.js","webpack://defra/./node_modules/@arcgis/core/webdoc/support/writeUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import o from\"./Collection.js\";import{sync as e}from\"./reactiveUtils.js\";import{property as s}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";import{autorun as r}from\"./accessorSupport/trackingUtils.js\";let l=class extends o{constructor(t){super(t),this.getCollections=null}initialize(){this.addHandles(r((()=>this._refresh()),e))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const e of t)null!=e&&(o=this._processCollection(o,e));this.splice(o,this.length)}_createNewInstance(t){return new o(t)}_processCollection(t,o){if(!o)return t;const e=this.itemFilterFunction??(t=>!!t);for(const s of o)if(s){if(e(s)){const o=this.indexOf(s,t);o>=0?o!==t&&this.reorder(s,t):this.add(s,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(s);if(Array.isArray(o))for(const e of o)t=this._processCollection(t,e);else t=this._processCollection(t,o)}}return t}};t([s()],l.prototype,\"getCollections\",void 0),t([s()],l.prototype,\"getChildrenFunction\",void 0),t([s()],l.prototype,\"itemFilterFunction\",void 0),l=t([i(\"esri.core.CollectionFlattener\")],l);const n=l;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../lang.js\";import{originIdNum as s,OriginId as e}from\"./PropertyOrigin.js\";class r{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(s),this._values=new Map,this.multipleOriginsSupported=!0}clone(i){const o=new r,n=this._originStores[e.DEFAULTS];n&&n.forEach(((s,r)=>{o.set(r,t(s),e.DEFAULTS)}));for(let r=e.SERVICE;r<s;r++){const s=this._originStores[r];s&&s.forEach(((s,e)=>{i&&i.has(e)||o.set(e,t(s),r)}))}return o}get(t,s){const e=void 0===s?this._values:this._originStores[s];return e?e.get(t):void 0}keys(t){const s=null==t?this._values:this._originStores[t];return s?[...s.keys()]:[]}set(t,s,r=e.USER){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(t,s),!this._values.has(t)||this._propertyOriginMap.get(t)<=r){const e=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,r),e!==s}return!1}delete(t,s=e.USER){const r=this._originStores[s];if(!r)return;const i=r.get(t);if(r.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===s){this._values.delete(t);for(let e=s-1;e>=0;e--){const s=this._originStores[e];if(s&&s.has(t)){this._values.set(t,s.get(t)),this._propertyOriginMap.set(t,e);break}}}return i}has(t,s){const e=void 0===s?this._values:this._originStores[s];return!!e&&e.has(t)}revert(t,s){for(;s>0&&!this.has(t,s);)--s;const e=this._originStores[s],r=e?.get(t),i=this._values.get(t);return this._values.set(t,r),this._propertyOriginMap.set(t,s),i!==r}originOf(t){return this._propertyOriginMap.get(t)||e.DEFAULTS}forEach(t){this._values.forEach(t)}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{setupConstructedDefaults as s}from\"./accessorSupport/defaultsStoreUtils.js\";import o from\"./accessorSupport/MultiOriginStore.js\";import{nameToId as e,idToName as i}from\"./accessorSupport/PropertyOrigin.js\";import{read as c}from\"./accessorSupport/read.js\";import{getProperties as n}from\"./accessorSupport/utils.js\";import{subclass as p}from\"./accessorSupport/decorators/subclass.js\";const u=t=>{let u=class extends t{constructor(...r){super(...r);const t=n(this),e=t.store,i=new o;t.store=i,s(t,e,i)}read(r,t){c(this,r,t)}getAtOrigin(r,t){const s=a(this),o=e(t);if(\"string\"==typeof r)return s.get(r,o);const i={};return r.forEach((r=>{i[r]=s.get(r,o)})),i}originOf(r){return i(this.originIdOf(r))}originIdOf(r){return a(this).originOf(r)}revert(r,t){const s=a(this),o=e(t),i=n(this);let c;c=\"string\"==typeof r?\"*\"===r?s.keys(o):[r]:r,c.forEach((r=>{i.invalidate(r),s.revert(r,o),i.commit(r)}))}};return u=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],u),u};function a(r){return n(r).store}let f=class extends(u(t)){};f=r([p(\"esri.core.ReadOnlyMultiOriginJSONSupport\")],f);export{u as ReadOnlyMultiOriginJSONMixin,f as ReadOnlyMultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{ReadOnlyMultiOriginJSONMixin as s}from\"./ReadOnlyMultiOriginJSONSupport.js\";import{get as e}from\"./accessorSupport/get.js\";import{nameToId as o,OriginId as i,originIdNum as p}from\"./accessorSupport/PropertyOrigin.js\";import{getProperties as c}from\"./accessorSupport/utils.js\";import{write as u}from\"./accessorSupport/write.js\";import{subclass as n}from\"./accessorSupport/decorators/subclass.js\";const l=t=>{let s=class extends t{constructor(...r){super(...r)}clear(r,t=\"user\"){return O(this).delete(r,o(t))}write(r,t){return u(this,r=r||{},t),r}setAtOrigin(r,t,s){c(this).setAtOrigin(r,t,o(s))}removeOrigin(r){const t=O(this),s=o(r),e=t.keys(s);for(const o of e)t.originOf(o)===s&&t.set(o,t.get(o,s),i.USER)}updateOrigin(r,t){const s=O(this),i=o(t),c=e(this,r);for(let e=i+1;e<p;++e)s.delete(r,e);s.set(r,c,i)}toJSON(r){return this.write({},r)}};return s=r([n(\"esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport\")],s),s.prototype.toJSON.isDefaultToJSON=!0,s};function O(r){return c(r).store}const S=t=>{let e=class extends(l(s(t))){constructor(...r){super(...r)}};return e=r([n(\"esri.core.MultiOriginJSONSupport\")],e),e};let m=class extends(S(t)){};m=r([n(\"esri.core.MultiOriginJSONSupport\")],m);export{S as MultiOriginJSONMixin,m as MultiOriginJSONSupport};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst a=(a=>a)([\"operational-layers\",\"basemap\",\"ground\"]);export{a as excludeTables};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{map as o,result as l}from\"./asyncUtils.js\";import n from\"./Collection.js\";import r from\"./Loadable.js\";async function t(o,l){return await o.load(),a(o,l)}async function a(t,a){const s=[],c=(...o)=>{for(const l of o)null!=l&&(Array.isArray(l)?c(...l):n.isCollection(l)?l.forEach((o=>c(o))):r.isLoadable(l)&&s.push(l))};a(c);let f=null;if(await o(s,(async o=>{const n=await l(i(o)?o.loadAll():o.load());!1!==n.ok||f||(f=n)})),f)throw f.error;return t}function i(o){return\"loadAll\"in o&&\"function\"==typeof o.loadAll}export{t as loadAll,a as loadAllChildren};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import i from\"../core/CollectionFlattener.js\";import{loadAll as t}from\"../core/loadAll.js\";import r from\"../core/Logger.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{debounce as o,throwIfAbortError as a}from\"../core/promiseUtils.js\";import{watch as l,syncAndInitial as n,on as p,sync as d}from\"../core/reactiveUtils.js\";import{property as y}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{getProperties as c}from\"../core/accessorSupport/utils.js\";import{reader as h}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as u}from\"../core/accessorSupport/decorators/writer.js\";import{OriginId as b}from\"../core/accessorSupport/PropertyOrigin.js\";import v from\"./Layer.js\";import{BlendLayer as f}from\"./mixins/BlendLayer.js\";import{OperationalLayer as j}from\"./mixins/OperationalLayer.js\";import{PortalLayer as L}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as g}from\"./mixins/ScaleRangeLayer.js\";import{layerLookupMap as w}from\"./support/lazyLayerLoader.js\";import S from\"../portal/PortalItem.js\";import{createFlattenedTablesCollection as _}from\"../support/collectionUtils.js\";import{LayersMixin as I}from\"../support/LayersMixin.js\";import{TablesMixin as O}from\"../support/TablesMixin.js\";import{WebSceneTag as M}from\"../support/tagSymbols.js\";import{SaveOperationType as x}from\"../webdoc/interfaces.js\";import{beforeSave as P}from\"../webdoc/support/saveUtils.js\";import{getLayerJSON as A}from\"../webdoc/support/writeUtils.js\";let V=class extends(f(g(j(L(O(I(s(v)))))))){constructor(e){super(e),this.allLayers=new i({getCollections:()=>[this.layers],getChildrenFunction:e=>\"layers\"in e?e.layers:null}),this.allTables=_(this),this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._debouncedSaveOperations=o((async(e,i,t)=>{const{save:r,saveAs:s}=await import(/* webpackChunkName: \"save-groupLayerUtils\" */ \"./save/groupLayerUtils.js\");switch(e){case x.SAVE:return r(this,i);case x.SAVE_AS:return s(this,t,i)}}))}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.addHandles([l((()=>{let e=this.parent;for(;e&&\"parent\"in e&&e.parent;)e=e.parent;return e&&M in e}),(e=>{const i=\"prevent-adding-tables\";this.removeHandles(i),e&&(this.tables.removeAll(),this.addHandles(p((()=>this.tables),\"before-add\",(e=>{e.preventDefault(),r.getLogger(this).errorOnce(\"tables\",\"tables in group layers in a webscene are not supported. Please move the tables from the group layer to the webscene if you want to persist them.\")})),i))}),n),l((()=>this.visible),this._onVisibilityChange.bind(this),d)])}destroy(){this.allLayers.destroy(),this.allTables.destroy()}get sourceIsPortalItem(){return this.portalItem&&this.originIdOf(\"portalItem\")===b.USER}_writeLayers(e,i,t,r){const s=[];if(!e)return s;e.forEach((e=>{const i=A(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);i?.layerType&&s.push(i)})),i.layers=s}set portalItem(e){this._set(\"portalItem\",e)}readPortalItem(e,i,t){const{itemId:r,layerType:s}=i;if(\"GroupLayer\"===s&&r)return new S({id:r,portal:t?.portal})}writePortalItem(e,i){e?.id&&(i.itemId=e.id)}set visibilityMode(e){const i=this._get(\"visibilityMode\")!==e;this._set(\"visibilityMode\",e),i&&this._enforceVisibility(e,this.visible)}async beforeSave(){return P(this)}load(e){const i=this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Group Layer\",\"Scene Service\"],layerModuleTypeMap:w},e).catch((e=>{if(a(e),this.sourceIsPortalItem)throw e}));return this.addResolvingPromise(i),Promise.resolve(this)}async loadAll(){return t(this,(e=>{e(this.layers,this.tables)}))}async save(e){return this._debouncedSaveOperations(x.SAVE,e)}async saveAs(e,i){return this._debouncedSaveOperations(x.SAVE_AS,i,e)}layerAdded(e){e.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(e):\"inherited\"===this.visibilityMode&&(e.visible=this.visible),this.hasHandles(e.uid)?console.error(`Layer read to Grouplayer: uid=${e.uid}`):this.addHandles(l((()=>e.visible),(i=>this._onChildVisibilityChange(e,i)),d),e.uid)}layerRemoved(e){this.removeHandles(e.uid),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((i=>{i!==e&&(i.visible=!1)}))}_enforceVisibility(e,i){if(!c(this).initialized)return;const t=this.layers;let r=t.find((e=>e.visible));switch(e){case\"exclusive\":t.length&&!r&&(r=t.at(0),r.visible=!0),this._turnOffOtherLayers(r);break;case\"inherited\":t.forEach((e=>{e.visible=i}))}}_onVisibilityChange(e){\"inherited\"===this.visibilityMode&&this.layers.forEach((i=>{i.visible=e}))}_onChildVisibilityChange(e,i){switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(e):this._isAnyLayerVisible()||(e.visible=!0);break;case\"inherited\":e.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};e([y({readOnly:!0,dependsOn:[]})],V.prototype,\"allLayers\",void 0),e([y({readOnly:!0})],V.prototype,\"allTables\",void 0),e([y({json:{read:!0,write:!0}})],V.prototype,\"blendMode\",void 0),e([y()],V.prototype,\"fullExtent\",void 0),e([y({readOnly:!0})],V.prototype,\"sourceIsPortalItem\",null),e([y({json:{read:!1,write:{ignoreOrigin:!0}}})],V.prototype,\"layers\",void 0),e([u(\"layers\")],V.prototype,\"_writeLayers\",null),e([y({type:[\"GroupLayer\"]})],V.prototype,\"operationalLayerType\",void 0),e([y({json:{origins:{\"web-map\":{read:!1,write:{overridePolicy(e,i,t){return{enabled:\"Group Layer\"===e?.type&&t?.initiator!==this}}}},\"web-scene\":{read:!1,write:!1}}}})],V.prototype,\"portalItem\",null),e([h(\"web-map\",\"portalItem\",[\"itemId\"])],V.prototype,\"readPortalItem\",null),e([u(\"web-map\",\"portalItem\",{itemId:{type:String}})],V.prototype,\"writePortalItem\",null),e([y()],V.prototype,\"spatialReference\",void 0),e([y({json:{read:!1},readOnly:!0,value:\"group\"})],V.prototype,\"type\",void 0),e([y({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{type:[\"independent\",\"exclusive\"],write:(e,i,t)=>{\"inherited\"!==e&&(i[t]=e)}}}}})],V.prototype,\"visibilityMode\",null),V=e([m(\"esri.layers.GroupLayer\")],V);const C=V;export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},r={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},a={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},i={\"web-scene/operational-layers\":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/basemap\":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-scene/tables\":{ArcGISFeatureLayer:!0},\"web-map/operational-layers\":e,\"web-map/basemap\":r,\"web-map/tables\":a,\"link-chart/operational-layers\":{...e,LinkChartLayer:!0},\"link-chart/basemap\":r,\"link-chart/tables\":a,\"portal-item/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};export{i as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isBlobProtocol as t}from\"../../core/urlUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as o,Null as s}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{excludeTables as l}from\"../../core/accessorSupport/layerContainerType.js\";import{readLoadable as y}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as m}from\"../../core/accessorSupport/write.js\";import{supportedTypes as c}from\"./operationalLayers.js\";import{listMode as d,opacity as u}from\"../support/commonProperties.js\";import w from\"../../time/TimeExtent.js\";const b=b=>{let T=class extends b{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,r,t){return\"Group Layer\"===t?.portalItem?.type?void 0:e}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&m(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){e&&\"tables\"!==i?.layerContainerType&&(r.layerType=e)}writeTitle(e,r){r.title=e??\"Layer\"}readTimeExtent(e){return e?w.fromArray(e):null}writeTimeExtent(e,t,i,o){e&&\"tables\"!==o.layerContainerType&&(e.isEmpty?o?.messages&&o.messages.push(new r(\"layer:invalid-visibilityTimeExtent\",\"visibilityTimeExtent cannot be empty\")):t[i]=e.toArray())}read(e,r){r&&(r.layer=this),y(this,e,(r=>super.read(e,r)),r)}write(e,i){if(!this.persistenceEnabled&&!i?.ignorePersistenceEnabled)return null;if(i?.origin){const e=`${i.origin}/${i.layerContainerType||\"operational-layers\"}`,t=c[e];let o=!!t?.[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(o=!1),\"ArcGISDimensionLayer\"===this.operationalLayerType&&\"web-map/operational-layers\"===e&&(o=!1),!o)return i.messages?.push(new r(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const o=super.write(e,{...i,layer:this}),s=!!i&&!!i.messages&&!!i.messages.filter((e=>e instanceof r&&\"web-document-write:property-required\"===e.name)).length;return t(o?.url)?(i?.messages?.push(new r(\"layer:invalid-url\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:o}beforeSave(){}};return e([i({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],T.prototype,\"id\",void 0),e([n(\"id\",[\"id\"])],T.prototype,\"readId\",null),e([i(d)],T.prototype,\"listMode\",void 0),e([p(\"listMode\")],T.prototype,\"writeListMode\",null),e([i({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1},\"web-scene\":{name:\"layerType\",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:l}}}}})],T.prototype,\"operationalLayerType\",void 0),e([p(\"operationalLayerType\")],T.prototype,\"writeOperationalLayerType\",null),e([i(u)],T.prototype,\"opacity\",void 0),e([i({type:Boolean,readOnly:!1})],T.prototype,\"persistenceEnabled\",void 0),e([i({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],T.prototype,\"title\",void 0),e([p(\"title\"),p([\"web-scene\"],\"title\")],T.prototype,\"writeTitle\",null),e([i({type:w,json:{origins:{\"web-scene\":{write:{layerContainerTypes:l}}}}})],T.prototype,\"visibilityTimeExtent\",void 0),e([n(\"visibilityTimeExtent\")],T.prototype,\"readTimeExtent\",null),e([p([\"portal-item\",\"web-map\",\"web-scene\"],\"visibilityTimeExtent\",{visibilityTimeExtent:{type:[[o,s]]}})],T.prototype,\"writeTimeExtent\",null),e([i({type:Boolean,json:{origins:{\"web-scene\":{name:\"visibility\",write:{enabled:!0,layerContainerTypes:l}}},name:\"visibility\",write:!0}})],T.prototype,\"visible\",void 0),T=e([a(\"esri.layers.mixins.OperationalLayer\")],T),T};function T(e){return\"operationalLayerType\"in e}export{b as OperationalLayer,T as isOperationalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../config.js\";import{id as r}from\"../../kernel.js\";import s from\"../../request.js\";import{result as i}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{destroyMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as u}from\"../../core/promiseUtils.js\";import{hasSameCanonicalPortal as c,normalize as d,hasSamePortal as m}from\"../../core/urlUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as f}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import{getOwningPortalUrl as I}from\"../support/layerUtils.js\";import v from\"../../portal/Portal.js\";import P from\"../../portal/PortalItem.js\";import w from\"../../portal/PortalUser.js\";import{getUserPrivileges as U}from\"../../portal/support/portalItemUtils.js\";const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=l(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new P({id:e.itemId,portal:r?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:r}=await import(/* webpackChunkName: \"portal-support-layersLoader\" */ \"../../portal/support/layersLoader.js\");return n(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw p(r)||a.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(t).catch((t=>(u(t),!0))))}async setUserPrivileges(t,r){if(!e.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set(\"userHasEditingPrivileges\",e),this._set(\"userHasFullEditingPrivileges\",s),this._set(\"userHasUpdateItemPrivileges\",i)}catch(s){u(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return U(s);let o,a;if(i)o=s.portal.url;else try{o=await I(this.url,e)}catch(d){u(d)}if(!o||!c(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(r?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(d){u(d)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new P({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return U(s)}catch(d){u(d)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){u(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?r?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s?.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=r?.findServerInfo(this.url??\"\");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=v.getDefault();if(l&&l.loaded&&d(l.restUrl)===d(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await i(s(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:p}));return u.ok?w.fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e?.portal,s=this.portalItem?.id&&(this.portalItem.portal||v.getDefault());return r&&s&&!m(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([h({type:P})],_.prototype,\"portalItem\",null),t([f(\"web-document\",\"portalItem\",[\"itemId\"])],_.prototype,\"readPortalItem\",null),t([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],_.prototype,\"writePortalItem\",null),t([h({clonable:!1})],_.prototype,\"resourceReferences\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasFullEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasUpdateItemPrivileges\",void 0),_=t([g(\"esri.layers.mixins.PortalLayer\")],_),_},E={credential:null,user:null};export{j as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{excludeTables as e}from\"../../core/accessorSupport/layerContainerType.js\";import r from\"../../geometry/Extent.js\";import n from\"../../geometry/SpatialReference.js\";import{w as i}from\"../../chunks/persistableUrlUtils.js\";import a from\"../../symbols/support/ElevationInfo.js\";import t from\"../../tables/AttributeTableTemplate.js\";import{transparencyToOpacity as o}from\"../../webdoc/support/opacityUtils.js\";const s={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},\"web-map\":{read:!1,write:!1}},name:\"screenSizePerspective\",write:{enabled:!0,layerContainerTypes:e}}},l={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,n){r[n]=!e}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:\"showLabels\",write:{enabled:!0,layerContainerTypes:e}}},y={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:i}}},d={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:{enabled:!0,layerContainerTypes:e}}},c={value:null,type:a,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:{enabled:!0,layerContainerTypes:e}}};function m(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={write:{enabled:!0,layerContainerTypes:e},read:!0},f={type:Number,json:{origins:{\"web-document\":w,\"portal-item\":{write:!0}}}},b={...f,json:{...f.json,origins:{\"web-document\":{...w,write:{enabled:!0,layerContainerTypes:e,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,n)=>n&&\"service\"!==n.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition?.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?o(r.layerDefinition.drawingInfo.transparency):void 0:o(r.drawingInfo.transparency)}}},g={type:r,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,i)=>{const a=r.fromJSON(e);return null!=i.spatialReference&&\"object\"==typeof i.spatialReference&&(a.spatialReference=n.fromJSON(i.spatialReference)),a}}}},read:!1}},u={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},j={type:Number,json:{origins:{service:{write:{enabled:!1}},\"web-scene\":{name:\"layerDefinition.minScale\",write:{enabled:!0,layerContainerTypes:e}}},name:\"layerDefinition.minScale\",write:!0}},v={type:Number,json:{origins:{service:{write:{enabled:!1}},\"web-scene\":{name:\"layerDefinition.maxScale\",write:{enabled:!0,layerContainerTypes:e}}},name:\"layerDefinition.maxScale\",write:!0}},I={json:{write:{ignoreOrigin:!0,layerContainerTypes:e},origins:{\"web-map\":{read:!1,write:!1}}}},T={type:t,json:{name:\"attributeTableInfo\",write:!0,origins:{\"web-scene\":{read:!1,write:!1}}}};export{T as attributeTableTemplate,c as elevationInfo,u as id,p as labelsVisible,d as legendEnabled,I as listMode,v as maxScale,j as minScale,f as opacity,b as opacityDrawingInfo,l as popupEnabled,m as readOnlyService,g as sceneLayerFullExtent,s as screenSizePerspectiveEnabled,y as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as n}from\"../../geometry/support/webMercatorUtils.js\";async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return n(o);const s=r.WGS84;return await e(i,s),t(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,f.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function u(e,t,r){r?i(e,t):a(e,t)}async function l(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\",HOSTED_SERVICE:\"Hosted Service\",LOCAL_SCENE:\"ViewingMode-Local\",TILED_IMAGERY:\"Tiled Imagery\",GROUP_LAYER_MAP:\"Map\",ORIENTED_IMAGERY_LAYER:\"OrientedImageryLayer\"};function E(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes(\"features:user:edit\"),s=!!r&&!!o?.includes(\"features:user:fullEdit\");const c=\"update\"===n||\"admin\"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}export{i as addTypeKeyword,E as getUserPrivileges,l as getWGS84ExtentForItem,s as hasTypeKeyword,c as isHostedLayer,a as removeTypeKeyword,u as toggleTypeKeyword,f as typeKeyword};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function d(e,r,t){let s,o;if(e)for(let a=0,i=e.length;a<i;a++){if(s=e.at(a),s?.[r]===t)return s;if(\"group\"===s?.type&&(o=d(s.layers,r,t),o))return o}}const l=l=>{let y=class extends l{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},o=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on(\"before-add\",(e=>{if(e.item===this)return e.preventDefault(),void s.getLogger(this).error(\"#add()\",\"Cannot add layer to itself.\");t(e.item)})),this.layers.on(\"after-add\",(e=>o(e.item))),this.layers.on(\"after-remove\",(e=>a(e.item)))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):s.getLogger(this).error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;let s=t.getNextIndex(r);e.slice().forEach((e=>{e.parent!==this?(t.add(e,s),s+=1):this.reorder(e,s)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([a()],y.prototype,\"layers\",null),y=e([i(\"esri.support.LayersMixin\")],y),y};export{l as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";function a(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.at(s);if(o[e]===r)return o;if(\"group\"===o?.type){const t=a(o.tables,e,r);if(t)return t}}}const n=n=>{let l=class extends n{constructor(...t){super(...t),this.tables=new e,this.addHandles([this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))])}destroy(){const t=this.tables.toArray();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return a(this.tables,\"id\",t)}findTableByUid(t){return a(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(\"esri.support.TablesMixin\")],l),l};export{n as TablesMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../core/CollectionFlattener.js\";function t(t){return new e({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return\"tables\"in e&&t.push(e.tables),\"layers\"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&\"tables\"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}export{t as createFlattenedTablesCollection,n as destroyMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=Symbol(\"WebScene\");export{e as WebSceneTag};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as o}from\"../../core/JSONSupport.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";let s=class extends o{constructor(t){super(t),this.description=null,this.label=null,this.type=null}};t([e({type:String,json:{write:!0}})],s.prototype,\"description\",void 0),t([e({type:String,json:{write:!0}})],s.prototype,\"label\",void 0),t([e()],s.prototype,\"type\",void 0),s=t([r(\"esri.tables.elements.AttributeTableElement\")],s);const p=s;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./AttributeTableElement.js\";var s;let p=s=class extends o{constructor(t){super(t),this.displayType=\"auto\",this.type=\"attachment\"}clone(){return new s({description:this.description,displayType:this.displayType,label:this.label})}};t([e({type:[\"auto\"],json:{write:!0}})],p.prototype,\"displayType\",void 0),t([e({type:[\"attachment\"],readOnly:!0,json:{read:!1,write:!0}})],p.prototype,\"type\",void 0),p=s=t([r(\"esri.tables.elements.AttributeTableAttachmentElement\")],p);const a=p;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./AttributeTableElement.js\";var s;let i=s=class extends o{constructor(e){super(e),this.fieldName=null,this.type=\"field\"}clone(){return new s({description:this.description,fieldName:this.fieldName,label:this.label})}};e([t({type:String,json:{write:!0}})],i.prototype,\"fieldName\",void 0),e([t({type:String,json:{read:!1,write:!0}})],i.prototype,\"type\",void 0),i=s=e([r(\"esri.tables.elements.AttributeTableFieldElement\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import o from\"./AttributeTableElement.js\";var s;let i=s=class extends o{constructor(e){super(e),this.relationshipId=null,this.type=\"relationship\"}clone(){return new s({description:this.description,label:this.label,relationshipId:this.relationshipId})}};e([t({type:Number,json:{write:!0}})],i.prototype,\"relationshipId\",void 0),e([t({type:[\"relationship\"],json:{read:!1,write:!0}})],i.prototype,\"type\",void 0),i=s=e([r(\"esri.tables.elements.AttributeTableRelationshipElement\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ensureOneOfType as t}from\"../../core/accessorSupport/ensureType.js\";import e from\"../elements/AttributeTableAttachmentElement.js\";import p from\"../elements/AttributeTableElement.js\";import r from\"../elements/AttributeTableFieldElement.js\";import o from\"../elements/AttributeTableRelationshipElement.js\";function i(t){return{typesWithGroup:{base:p,key:\"type\",typeMap:{attachment:e,field:r,group:t,relationship:o}},typesWithoutGroup:{base:p,key:\"type\",typeMap:{attachment:e,field:r,relationship:o}}}}function n(t,e,p=!0){if(!t)return null;const r=p?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter((t=>r[t.type])).map((t=>r[t.type].fromJSON(t)))}function u(t,e,p=!0){if(!t)return null;const r=p?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter((t=>r[t.type])).map((t=>t.toJSON()))}function s(e,p,r=!0){return e?e.map((e=>t(r?p.typesWithGroup:p.typesWithoutGroup,e))):null}export{i as buildTypeMaps,s as ensureType,n as fromJSON,u as toJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{clone as t}from\"../../core/lang.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"./AttributeTableElement.js\";import{ensureType as m,fromJSON as a,toJSON as c,buildTypeMaps as i}from\"../support/elements.js\";var u;let b=u=class extends n{constructor(e){super(e),this.elements=null,this.type=\"group\"}castElements(e){return m(e,d,!1)}readElements(e,t){return a(t.attributeTableElements,d,!1)}writeElements(e,t){t.attributeTableElements=c(e,d,!1)}clone(){return new u({description:this.description,elements:t(this.elements),label:this.label})}};e([r({json:{write:!0}})],b.prototype,\"elements\",void 0),e([s(\"elements\")],b.prototype,\"castElements\",null),e([o(\"elements\",[\"attributeTableElements\"])],b.prototype,\"readElements\",null),e([p(\"elements\")],b.prototype,\"writeElements\",null),e([r({type:String,json:{read:!1,write:!0}})],b.prototype,\"type\",void 0),b=u=e([l(\"esri.tables.elements.AttributeTableGroupElement\")],b);const d=i(b),j=b;export{j as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{JSONSupport as t}from\"../core/JSONSupport.js\";import{clone as r}from\"../core/lang.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../core/accessorSupport/decorators/cast.js\";import{reader as l}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as m}from\"../core/accessorSupport/decorators/writer.js\";import n from\"./elements/AttributeTableGroupElement.js\";import{ensureType as c,fromJSON as a,toJSON as i,buildTypeMaps as u}from\"./support/elements.js\";var d;const b=u(n);let j=d=class extends t{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return c(e,b)}readElements(e,t){return a(t.attributeTableElements,b)}writeElements(e,t){t.attributeTableElements=i(e,b)}clone(){return new d({elements:r(this.elements),orderByFields:this.orderByFields})}};e([o({json:{write:!0}})],j.prototype,\"elements\",void 0),e([s(\"elements\")],j.prototype,\"castElements\",null),e([l(\"elements\",[\"attributeTableElements\"])],j.prototype,\"readElements\",null),e([m(\"elements\")],j.prototype,\"writeElements\",null),e([o({type:[Object],json:{write:!0}})],j.prototype,\"orderByFields\",void 0),j=d=e([p(\"esri.tables.AttributeTableTemplate\")],j);const f=j;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar A;!function(A){A[A.SAVE=0]=\"SAVE\",A[A.SAVE_AS=1]=\"SAVE_AS\"}(A||(A={}));export{A as SaveOperationType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{clone as t}from\"../../core/lang.js\";import{getDeepValue as n}from\"../../core/object.js\";import{numberToJSON as r}from\"../../core/accessorSupport/extensions/serializableProperty/writer.js\";import{isFeatureCollectionLayer as i}from\"../../layers/support/layerUtils.js\";const o=new Set([\"bing-maps\",\"imagery\",\"imagery-tile\",\"map-image\",\"open-street-map\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wms\",\"wmts\"]),l=new Set([\"catalog\",\"csv\",\"feature\",\"geo-rss\",\"geojson\",\"group\",\"imagery\",\"imagery-tile\",\"kml\",\"knowledge-graph\",\"map-image\",\"map-notes\",\"media\",\"ogc-feature\",\"oriented-imagery\",\"route\",\"stream\",\"subtype-group\",\"tile\",\"unknown\",\"unsupported\",\"vector-tile\",\"web-tile\",\"wfs\",\"wms\",\"wmts\"]);function a(e){o.delete(e),l.delete(e)}function s(e){o.add(e),l.add(e)}function d(e){return\"basemap\"===e.layerContainerType?o:\"operational-layers\"===e.layerContainerType?l:null}function p(e,t){if(t.restrictedWebMapWriting){const n=d(t);return null==n||n.has(e.type)&&!i(e)}return!0}function u(e,t){if(t)if(i(e)){const r=n(\"featureCollection.layers\",t),i=r?.[0]?.layerDefinition;i&&c(e,i)}else\"group\"!==e.type&&c(e,t)}function c(e,t){\"maxScale\"in e&&(t.maxScale=r(e.maxScale)??void 0),\"minScale\"in e&&(t.minScale=r(e.minScale)??void 0)}function m(e,t){if(u(e,t),t&&(t.id=e.id,\"blendMode\"in e&&(t.blendMode=e.blendMode,\"normal\"===t.blendMode&&delete t.blendMode),t.opacity=r(e.opacity)??void 0,t.title=e.title||\"Layer\",t.visibility=e.visible,\"legendEnabled\"in e&&\"wmts\"!==e.type))if(i(e)){const n=t.featureCollection;n&&(n.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(n,r,o){if(!n.persistenceEnabled)return null;if(!(\"write\"in n)||!n.write)return o?.messages&&o.messages.push(new e(\"layer:unsupported\",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted`,{layer:n})),null;if(i(n)&&!n.isTable)r=n.resourceInfo;else if(p(n,o)){const e={};return n.write(e,o)?e:null}return null!=r&&m(n,r=t(r)),r}export{s as disableRestrictedWriting,a as enableRestrictedWriting,f as getLayerJSON};\n"],"names":["l","constructor","t","super","this","getCollections","initialize","addHandles","_refresh","destroy","removeAll","o","e","_processCollection","splice","length","_createNewInstance","itemFilterFunction","s","indexOf","reorder","add","getChildrenFunction","Array","isArray","prototype","n","_propertyOriginMap","Map","_originStores","_values","multipleOriginsSupported","clone","i","DEFAULTS","forEach","r","set","SERVICE","has","get","keys","USER","delete","revert","originOf","u","store","read","getAtOrigin","a","originIdOf","c","invalidate","commit","f","clear","O","write","setAtOrigin","removeOrigin","updateOrigin","toJSON","isDefaultToJSON","S","m","async","load","isCollection","isLoadable","push","loadAll","ok","error","V","allLayers","layers","allTables","fullExtent","operationalLayerType","spatialReference","type","_debouncedSaveOperations","save","saveAs","SAVE","SAVE_AS","_enforceVisibility","visibilityMode","visible","parent","removeHandles","tables","preventDefault","getLogger","errorOnce","_onVisibilityChange","bind","sourceIsPortalItem","portalItem","_writeLayers","webmap","getLayerJSONFromResourceInfo","layerType","_set","readPortalItem","itemId","id","portal","writePortalItem","_get","beforeSave","loadFromPortal","supportedTypes","layerModuleTypeMap","catch","addResolvingPromise","Promise","resolve","layerAdded","_turnOffOtherLayers","hasHandles","uid","console","_onChildVisibilityChange","layerRemoved","initialized","find","at","_isAnyLayerVisible","some","readOnly","dependsOn","json","ignoreOrigin","origins","overridePolicy","enabled","initiator","String","value","C","ArcGISAnnotationLayer","ArcGISDimensionLayer","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISImageServiceVectorLayer","ArcGISMapServiceLayer","ArcGISStreamLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","BingMapsAerial","BingMapsHybrid","BingMapsRoad","CatalogLayer","CSV","GeoJSON","GeoRSS","GroupLayer","KML","KnowledgeGraphLayer","MediaLayer","OGCFeatureLayer","OrientedImageryLayer","SubtypeGroupLayer","VectorTileLayer","WFS","WMS","WebTiledLayer","OpenStreetMap","SubtypeGroupTable","ArcGISSceneServiceLayer","ArcGISTiledElevationServiceLayer","BuildingSceneLayer","IntegratedMesh3DTilesLayer","IntegratedMeshLayer","LineOfSightLayer","PointCloudLayer","RasterDataLayer","ViewshedLayer","Voxel","RasterDataElevationLayer","LinkChartLayer","b","T","arguments","persistenceEnabled","title","readId","writeListMode","layerContainerType","writeOperationalLayerType","writeTitle","readTimeExtent","fromArray","writeTimeExtent","isEmpty","messages","toArray","layer","ignorePersistenceEnabled","origin","declaredClass","filter","name","url","isRequired","target","layerContainerTypes","Boolean","writerEnsuresNonNull","visibilityTimeExtent","j","_","resourceReferences","paths","userHasEditingPrivileges","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","instance","validateItem","supportsData","warn","finishLoadEditablePortalLayer","_fetchUserHasEditingPrivileges","setUserPrivileges","userPrivilegesApplied","features","edit","fullEdit","content","updateItem","_fetchUserPrivileges","loaded","sourceUrl","_fetchFallbackUserPrivileges","user","d","signal","getCredential","prompt","p","reload","findCredential","E","credential","_fetchEditingUser","privileges","includes","findServerInfo","owningSystemUrl","getDefault","restUrl","authMode","query","fromJSON","data","clonable","service","reader","disablePopup","writer","nonNullable","y","w","Number","opacity","source","drawingInfo","transparency","layerDefinition","g","v","I","typeKeywords","HOSTED_SERVICE","normalize","width","isWGS84","isWebMercator","WGS84","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","LOCAL_SCENE","TILED_IMAGERY","GROUP_LAYER_MAP","ORIENTED_IMAGERY_LAYER","isOrgItem","itemControl","on","item","remove","getNextIndex","then","destroyed","addMany","slice","findLayerById","findLayerByUid","removeMany","findTableById","findTableByUid","values","Symbol","description","label","displayType","fieldName","relationshipId","typesWithGroup","base","key","typeMap","attachment","field","group","relationship","typesWithoutGroup","map","elements","castElements","readElements","attributeTableElements","writeElements","orderByFields","Object","A","allSettled","Set","message","details","blockedRelativeUrls","concat","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","errorName","errors","restrictedWebMapWriting","maxScale","minScale","isTable","resourceInfo","blendMode","visibility","featureCollection","showLegend","legendEnabled"],"sourceRoot":""}