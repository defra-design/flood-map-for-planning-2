"use strict";
(self["webpackChunkdefra"] = self["webpackChunkdefra"] || []).push([["Graphics3DSymbolLayerFactory"],{

/***/ "./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: function() { return /* binding */ u; },
/* harmony export */   b: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function m(m){const u=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_11__.ShaderBuilder,{vertex:p,fragment:w,attributes:f,varyings:h}=u;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addProjViewLocalOrigin)(p,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.VertexColor,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_6__.VisualVariables,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ObjectAndLayerIdColor,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,m),u.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_13__.outputColorHighlightOID,m),f.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,"vec3"),m.vvColor&&f.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLORFEATUREATTRIBUTE,"float"),h.add("vColor","vec4"),h.add("vpos","vec3");const C=m.terrainDepthTest&&m.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color;return C&&h.add("depth","float"),p.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4PassUniform("eColor",(e=>e.color))),p.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.glsl)`
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${m.hasVertexColors?"vColor *= eColor;":m.vvColor?"vColor = eColor * interpolateVVColor(colorFeatureAttribute);":"vColor = eColor;"}
      ${C?"depth = (view * vec4(vpos, 1.0)).z;":""}
      gl_Position = transformPosition(proj, view, vpos);`),u.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,m),C&&u.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__.terrainDepthTest,m),w.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__.ColorConversion),w.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__.glsl)`
    discardBySlice(vpos);
    ${C?"terrainDepthTest(depth);":""}
    vec4 fColor = vColor;
    outputColorHighlightOID(fColor, vpos);`),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ H; },
/* harmony export */   b: function() { return /* binding */ T; },
/* harmony export */   c: function() { return /* binding */ E; },
/* harmony export */   s: function() { return /* binding */ L; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const L={occludedFadeFactor:.6};function T(o){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_23__.ShaderBuilder,T=o.signedDistanceFieldEnabled;if(r.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_8__.HUD,o),r.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_5__.SliceDraw,o),o.occlusionPass)return r.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_9__.HUDOcclusionPass,o),r;const{vertex:M,fragment:H}=r;r.include(_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__.ScreenSizePerspective),r.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_12__.VisualVariables,o),r.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_6__.ObjectAndLayerIdColor,o),r.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_10__.HUDVisibility),H.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_15__.RgbaFloatEncoding),H.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_14__.ColorConversion),r.varyings.add("vcolor","vec4"),r.varyings.add("vtc","vec2"),r.varyings.add("vsize","vec2"),r.varyings.add("voccluded","float"),M.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("viewport",((e,o)=>o.camera.fullViewport)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float2PassUniform("screenOffset",((o,r)=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(R,2*o.screenOffset[0]*r.camera.pixelRatio,2*o.screenOffset[1]*r.camera.pixelRatio))),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float2PassUniform("anchorPosition",(e=>E(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("materialColor",(e=>e.color)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__.FloatPassUniform("materialRotation",(e=>e.rotation))),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__.addPixelRatio)(M),T&&(M.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("outlineColor",(e=>e.outlineColor))),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_20__.Float4PassUniform("outlineColor",(e=>B(e)?e.outlineColor:_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.ZEROS)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__.FloatPassUniform("outlineSize",(e=>B(e)?e.outlineSize:0)))),o.horizonCullingEnabled&&M.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_19__.Float4DrawUniform("pointDistanceSphere",((e,o)=>{const r=o.camera.eye,i=e.origin;return (0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(i[0]-r[0],i[1]-r[1],i[2]-r[2],_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_3__.earth.radius)}))),o.pixelSnappingEnabled&&M.include(_views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_7__.AlignPixel),o.hasScreenSizePerspective&&((0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addScreenSizePerspective)(M),(0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addScreenSizePerspectiveAlignment)(M)),o.debugDrawLabelBorder&&r.varyings.add("debugBorderCoords","vec4"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.UV0,"vec2"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.COLOR,"vec4"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.SIZE,"vec2"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.ROTATION,"float"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_26__.VertexAttribute.FEATUREATTRIBUTE,"vec4"),M.code.add(o.horizonCullingEnabled?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`bool behindHorizon(vec3 posModel) {
vec3 camToEarthCenter = pointDistanceSphere.xyz - localOrigin;
vec3 camToPos = pointDistanceSphere.xyz + posModel;
float earthRadius = pointDistanceSphere.w;
float a = dot(camToPos, camToPos);
float b = dot(camToPos, camToEarthCenter);
float c = dot(camToEarthCenter, camToEarthCenter) - earthRadius * earthRadius;
return  b > 0.0 && b < a && b * b  > a * c;
}`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`bool behindHorizon(vec3 posModel) { return false; }`),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      forwardObjectAndLayerIdColor();

      if (rejectBySlice(projectAux.posModel)) {
        // Project outside of clip plane
        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
        return;
      }

      if (behindHorizon(projectAux.posModel)) {
        // Project outside of clip plane
        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
        return;
      }

      vec2 inputSize;
      ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.hasScreenSizePerspective,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);
          vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);`,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          inputSize = size;
          vec2 screenOffsetScaled = screenOffset;`)}
      ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.vvSize,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`inputSize *= vvScale(featureAttribute).xx;`)}

      vec2 combinedSize = inputSize * pixelRatio;
      vec4 quadOffset = vec4(0.0);
      bool visible = testHUDVisibility(posProj);
      voccluded = visible ? 0.0 : 1.0;
    `);const U=(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      vec2 uv01 = floor(uv0);
      vec2 uv = uv0 - uv01;
      quadOffset.xy = (uv01 - anchorPosition) * 2.0 * combinedSize;

      ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.hasRotation,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          float angle = radians(materialRotation + rotation);
          float cosAngle = cos(angle);
          float sinAngle = sin(angle);
          mat2 rotate = mat2(cosAngle, -sinAngle, sinAngle,  cosAngle);

          quadOffset.xy = rotate * quadOffset.xy;
        `)}

      quadOffset.xy = (quadOffset.xy + screenOffsetScaled) / viewport.zw * posProj.w;
  `,V=o.pixelSnappingEnabled?T?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`posProj += quadOffset;
if (inputSize.x == size.x) {
posProj = alignToPixelOrigin(posProj, viewport.zw);
}`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`posProj += quadOffset;`;M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.occlusionTestEnabled,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      if (!visible) {
        vtc = vec2(0.0);
        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.debugDrawLabelBorder,"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);")}
        return;
      }`)}
    ${U}
    ${o.vvColor?"vcolor = interpolateVVColor(featureAttribute.y) * materialColor;":"vcolor = color / 255.0 * materialColor;"}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.ObjectAndLayerIdColor,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`vcolor.a = 1.0;`)}

    bool alphaDiscard = vcolor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)};
    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(T,`alphaDiscard = alphaDiscard && outlineColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)};`)}
    if (alphaDiscard) {
      // "early discard" if both symbol color (= fill) and outline color (if applicable) are transparent
      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
      return;
    } else {
      ${V}
      gl_Position = posProj;
    }

    vtc = uv;

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.debugDrawLabelBorder,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`debugBorderCoords = vec4(uv01, 1.5 / combinedSize);`)}
    vsize = inputSize;
  `),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_24__.Texture2DPassUniform("tex",(e=>e.texture))),o.occludedFragmentFade&&(H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_24__.Texture2DPassUniform("depthMap",((e,o)=>o.mainDepth))),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_21__.FloatPassUniform("fadeFactor",(()=>L.occludedFadeFactor))));const _=o.debugDrawLabelBorder?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`(isBorder > 0.0 ? 0.0 : ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)})`:_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff),I=o.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight,q=(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.debugDrawLabelBorder,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`)}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.sampleSignedDistanceFieldTexelCenter,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      float txSize = float(textureSize(tex, 0).x);
      float texelSize = 1.0 / txSize;

      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel
      vec2 scaleFactor = (vsize - txSize) * texelSize;
      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;`,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`vec2 samplePos = vtc;`)}

    ${T?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
      vec4 fillPixelColor = vcolor;

      // Get distance and map it into [-0.5, 0.5]
      float d = rgba2float(texture(tex, samplePos)) - 0.5;

      // Distance in output units (i.e. pixels)
      float dist = d * vsize.x;

      // Create smooth transition from the icon into its outline
      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);
      fillPixelColor.a *= fillAlphaFactor;

      if (outlineSize > 0.25) {
        vec4 outlinePixelColor = outlineColor;
        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);

        // Create smooth transition around outline
        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);
        outlinePixelColor.a *= outlineAlphaFactor;

        if (
          outlineAlphaFactor + fillAlphaFactor < ${_} ||
          fillPixelColor.a + outlinePixelColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_13__.alphaCutoff)}
        ) {
          discard;
        }

        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)
        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);
        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +
          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);

        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = vec4(compositeColor, compositeAlpha);`)}
      } else {
        if (fillAlphaFactor < ${_}) {
          discard;
        }

        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = premultiplyAlpha(fillPixelColor);`)}
      }

      // visualize SDF:
      // fragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);
      `:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
          vec4 texColor = texture(tex, vtc, -0.5);
          if (texColor.a < ${_}) {
            discard;
          }
          ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = texColor * premultiplyAlpha(vcolor);`)}
          `}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.occludedFragmentFade&&!I,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        float zSample = texelFetch(depthMap, ivec2(gl_FragCoord.xy), 0).x;
        if (zSample < gl_FragCoord.z) {
          fragColor *= fadeFactor;
        }
        `)}

    ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(!I&&o.debugDrawLabelBorder,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);`)}
  `;switch(o.output){case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Color:o.oitPass===_views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__.OITPass.ColorAlpha&&(r.outputs.add("fragColor","vec4",0),r.outputs.add("fragAlpha","float",1)),H.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        ${q}
        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.oitPass===_views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__.OITPass.FrontFace,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragColor.rgb /= fragColor.a;`)}
        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.If)(o.oitPass===_views_3d_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_25__.OITPass.ColorAlpha,(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`fragAlpha = fragColor.a;`)}`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.ObjectAndLayerIdColor:H.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        ${q}
        outputObjectAndLayerIdColor();`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_4__.ShaderOutput.Highlight:r.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_11__.OutputHighlight,o),H.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_22__.glsl)`
        ${q}
        outputHighlight(voccluded == 1.0);`)}return r}function B(e){return e.outlineColor[3]>0&&e.outlineSize>0}function E(e,r=R){return e.textureIsSignedDistanceField?M(e.anchorPosition,e.distanceFieldBoundingBox,r):(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.copy)(r,e.anchorPosition),r}function M(o,r,i){null!=r?(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(i,o[0]*(r[2]-r[0])+r[0],o[1]*(r[3]-r[1])+r[1]):(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(i,0,0)}const R=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),H=Object.freeze(Object.defineProperty({__proto__:null,build:T,calculateAnchorPosForRendering:E,shaderSettings:L},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HighlightApply.glsl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HighlightApply.glsl.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ c; },
/* harmony export */   b: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__.ShaderBuilder;r.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.HighlightCellGridScreenSpacePass);const{fragment:c}=r;return c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("highlightTexture",(e=>e.highlightTexture)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("highlightOptionsTexture",(e=>e.highlightOptionsTexture)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("pixelRatio",(e=>e.pixelRatio)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("occludedIntensityFactor",(e=>e.occludedFactor)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.IntegerPassUniform("maxHighlightLevel",(e=>e.maxHighlightLevel))),c.constants.add("pixelSampleScale","float",1),r.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap),c.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`const float pascal17[9] = float[9](12870.0, 11440.0, 8008.0, 4368.0, 1820.0, 560.0, 120.0, 16.0, 1.0);
const float denom17 =  65536.0;
float colorWeight[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
float colorOcclusion[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
float weights[16] = float[16](0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
void applyTexel(vec2 texel, float weight) {
if (texel != vec2(0.0)){
int maxChannel = (maxHighlightLevel >> 2) & 1;
for (int channelIndex = 0; channelIndex <= maxChannel; ++channelIndex){
uint channel = readChannel(texel, channelIndex << 2);
int firstIndex = channelIndex << 2;
int maxIndex  = min(firstIndex + 3, maxHighlightLevel);
for (int highlightIndex = firstIndex; highlightIndex <= maxIndex; ++highlightIndex ) {
uint v = readChannelBits(channel, highlightIndex);
if ((v & 1u) == 1u){
colorWeight[highlightIndex] += weight;
if ((v & 2u) == 2u){
colorOcclusion[highlightIndex] += weight;
}
}
}
}
}
}
vec2 readTexel(ivec2 iuv, int du, int dv) {
return texelFetch(highlightTexture, iuv + ivec2(du, dv), 0).rg;
}
void readAndApplyTexel(ivec2 iuv, int du, int dv, float weight) {
vec2 texel = readTexel(iuv, du, dv);
applyTexel(texel, weight);
}
void readAndApply2TexelsU(ivec2 iuv, int du, int dv, float weight) {
readAndApplyTexel(iuv, -du, dv, weight);
readAndApplyTexel(iuv, +du, dv, weight);
}
float getWeight(int pixelDistance) {
float scaledDistance = float(pixelDistance) * pixelSampleScale / pixelRatio;
float d0f = floor(scaledDistance);
int d0 = int(d0f);
if (d0 >= 8){
return 0.0;
}
float w0 = pascal17[d0];
float w1 = pascal17[d0+1];
float f =  scaledDistance - d0f;
return mix(w0, w1, f);
}`),c.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));
ivec2 iuv = ivec2(sUV * highlightTextureSize);
vec2 centerTexel = texelFetch(highlightTexture, iuv, 0).rg;
bool outlinePossible = false;
if (vOutlinePossible > 0.0){
for (int highlightLevel=0; highlightLevel<= maxHighlightLevel; ++highlightLevel) {
if ((readLevelBits(centerTexel,highlightLevel) & 1u) == 0u) {
outlinePossible = true;
break;
}
}
}
if (outlinePossible) {
int maxPixelDistance = clamp(int(8.0 * pixelRatio / pixelSampleScale), 2, 16);
float weightSum = 0.0;
for(int y = 0; y <= maxPixelDistance; ++y) {
float w = getWeight(y);
weights[y] = w;
weightSum += w * (y == 0 ? 1.0 : 2.0);
}
for(int y = 0; y <= maxPixelDistance; ++y) {
weights[y] = weights[y] / weightSum;
}
float weight0 = weights[0];
applyTexel(centerTexel, weight0 * weight0);
for(int y = 0; y <= maxPixelDistance; y += 1) {
float yFactor = weights[y];
if (y != 0) {
float xFactor = weight0;
float weight = xFactor * yFactor;
if (weight > 0.0) {
readAndApplyTexel(iuv, 0, +y, weight);
readAndApplyTexel(iuv, 0, -y, weight);
}
}
for(int x = 1; x <= maxPixelDistance; x += 1) {
float xFactor = weights[x];
float weight = xFactor * yFactor;
if (weight > 0.0) {
readAndApply2TexelsU(iuv, x, +y, weight);
if (y != 0){
readAndApply2TexelsU(iuv, x, -y, weight);
}
}
}
}
} else {
applyTexel(centerTexel, 1.0);
}
int frontColorIndex = 999;
int maxColorIndex = 0;
for (int i = 0; i <= maxHighlightLevel; ++i) {
if (colorWeight[i] > 0.0){
frontColorIndex = min(frontColorIndex, i);
maxColorIndex = max(maxColorIndex, i);
}
}
if (frontColorIndex == 999){
fragColor = vec4(0.0);
return;
}
vec4 accumulatedColor = vec4(0.0);
for (int curColorIndex = frontColorIndex; curColorIndex <= maxColorIndex; ++curColorIndex) {
float curColorWeight = colorWeight[curColorIndex];
if (curColorWeight <= 0.01){
continue;
}
uint vc = readLevelBits(centerTexel, curColorIndex);
bool centerFilled = (vc & 1u) == 1u;
bool centerOccluded = (vc & 3u) == 3u;
float curColorOcclusion = colorOcclusion[curColorIndex];
bool occluded = centerFilled ? centerOccluded : curColorOcclusion > 0.5 * curColorWeight;
int colorChannel = centerFilled ? 0 : 1;
vec4 colorBase = texelFetch(highlightOptionsTexture, ivec2(curColorIndex, colorChannel), 0);
float occlusionFactor = occluded ? occludedIntensityFactor : 1.0;
float outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, 0.03, curColorWeight);
float intensity = colorBase.a * occlusionFactor * outlineFactor;
vec3 currentColor = colorBase.rgb;
float a0 = accumulatedColor.a;
float a1 = intensity;
float alpha = clamp(a0 + a1 - a0 * a1, 0.0, 1.0);
if (alpha > 0.001){
vec3 blendedColor = ((1.0 - a1) * a0 * accumulatedColor.rgb + a1 * currentColor) / alpha;
accumulatedColor = vec4(blendedColor, alpha);
}
}
fragColor = accumulatedColor;`),r}const c=Object.freeze(Object.defineProperty({__proto__:null,build:r},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ o; },
/* harmony export */   a: function() { return /* binding */ d; },
/* harmony export */   b: function() { return /* binding */ u; },
/* harmony export */   c: function() { return /* binding */ a; },
/* harmony export */   g: function() { return /* binding */ l; },
/* harmony export */   o: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.NoParameters{}function a(){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_2__.ShaderBuilder,{outputs:o,fragment:a}=r;return r.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ScreenSpacePass),a.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_3__.Texture2DDrawUniform("textureInput",(e=>e.input))),a.constants.add("outlineWidth","int",Math.ceil(c)),a.constants.add("cellSize","int",l),o.add("fragGrid","vec2"),a.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`vec2 inputTextureSize = vec2(textureSize(textureInput, 0));
vec2 cellBottomLeftCornerInput = floor(gl_FragCoord.xy) * vec2(cellSize);
vec2 coordMid =  (cellBottomLeftCornerInput + 0.5 * vec2(cellSize)) / inputTextureSize;
vec2 commonValue = texture(textureInput, coordMid).rg;
int margin = outlineWidth;
float marginSquare = float(margin*margin);
for(int y = -margin; y <= cellSize + margin; y+=2) {
int dy = y < 0 ? -y : y > cellSize ? y-cellSize : 0;
int xMargin = dy > 0 ? int(ceil(sqrt(marginSquare - float(dy*dy)))) : margin;
for(int x = -xMargin; x <= cellSize + xMargin; x+=2) {
vec2 coord = (cellBottomLeftCornerInput + vec2(x, y)) / inputTextureSize;
vec2 value = texture(textureInput, coord).rg;
if (value != commonValue){
fragGrid = vec2(1.0, 1.0);
return;
}
}
}
bool hasAny = commonValue != vec2(0.0);
fragGrid = vec2(hasAny ? 1.0 : 0.0, 0.0);`),r}const l=32,c=9,u=.4,d=Object.freeze(Object.defineProperty({__proto__:null,HighlightDownsampleDrawParameters:o,blurSize:u,build:a,gridCellPixelSize:l,outlineSize:c},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: function() { return /* binding */ s; },
/* harmony export */   b: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function h(){const h=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;h.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.HighlightCellGridScreenSpacePass),h.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap);const{fragment:s}=h;return h.outputs.add("fragSingleHighlight","vec2",0),s.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("highlightTexture",(e=>e.highlightTexture)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.IntegerPassUniform("maxHighlightLevel",(e=>e.maxHighlightLevel)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.IntegerPassUniform("highlightLevel",(e=>e.highlightLevel))),h.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap),s.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`ivec2 iuv = ivec2(gl_FragCoord.xy);
vec2 inputTexel = texelFetch(highlightTexture, iuv, 0).rg;
uint bits = readLevelBits(inputTexel, highlightLevel);
bool hasHighlight = (bits & 1u) == 1u;
bool hasOccluded  = (bits & 2u) == 2u;
fragSingleHighlight = vec2(hasHighlight ? 1.0 : 0.0, hasOccluded ? 1.0 : 0.0);`),h}const s=Object.freeze(Object.defineProperty({__proto__:null,build:h},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/LineMarker.glsl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/LineMarker.glsl.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: function() { return /* binding */ L; },
/* harmony export */   b: function() { return /* binding */ j; }
/* harmony export */ });
/* harmony import */ var _views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/support/engineContent/marker.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/marker.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function j(j){const L=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_15__.ShaderBuilder,k=j.terrainDepthTest&&j.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,M=j.space===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LineMarkerSpace.World;L.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_3__.RibbonVertexPosition,j),L.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_5__.MarkerSizing,j);const{vertex:N,fragment:C}=L;return C.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_8__.RgbaFloatEncoding),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_9__.addProjViewLocalOrigin)(N,j),L.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.POSITION,"vec3"),L.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.PREVPOSITION,"vec3"),L.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.UV0,"vec2"),L.varyings.add("vColor","vec4"),L.varyings.add("vpos","vec3"),L.varyings.add("vUV","vec2"),L.varyings.add("vSize","float"),k&&L.varyings.add("depth","float"),j.hasTip&&L.varyings.add("vLineWidth","float"),N.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Float2PassUniform("nearFar",((e,r)=>r.camera.nearFar)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_11__.Float4PassUniform("viewport",((e,r)=>r.camera.fullViewport))),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec4 projectAndScale(vec4 pos) {
vec4 posNdc = proj * pos;
posNdc.xy *= viewport.zw / posNdc.w;
return posNdc;
}`),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`void clip(vec4 pos, inout vec4 prev) {
float vnp = nearFar[0] * 0.99;
if (prev.z > -nearFar[0]) {
float interpolation = (-vnp - pos.z) / (prev.z - pos.z);
prev = mix(pos, prev, interpolation);
}
}`),M?(L.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_17__.VertexAttribute.NORMAL,"vec3"),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_9__.addViewNormal)(N),N.constants.add("tiltThreshold","float",.7),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec3 perpendicular(vec3 v) {
vec3 n = (viewNormal * vec4(normal.xyz, 1.0)).xyz;
vec3 n2 = cross(v, n);
vec3 forward = vec3(0.0, 0.0, 1.0);
float tiltDot = dot(forward, n);
return abs(tiltDot) < tiltThreshold ? n : n2;
}`)):N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec2 perpendicular(vec2 v) {
return vec2(v.y, -v.x);
}`),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
      #define vecN ${M?"vec3":"vec2"}

      vecN normalizedSegment(vecN pos, vecN prev) {
        vecN segment = pos - prev;
        float segmentLen = length(segment);

        // normalize or zero if too short
        return (segmentLen > 0.001) ? segment / segmentLen : ${M?"vec3(0.0, 0.0, 0.0)":"vec2(0.0, 0.0)"};
      }

      vecN displace(vecN pos, vecN prev, float displacementLen) {
        vecN segment = normalizedSegment(pos, prev);

        vecN displacementDirU = perpendicular(segment);
        vecN displacementDirV = segment;

        ${j.anchor===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LineMarkerAnchor.Tip?"pos -= 0.5 * displacementLen * displacementDirV;":""}

        return pos + displacementLen * (uv0.x * displacementDirU + uv0.y * displacementDirV);
      }
    `),j.space===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LineMarkerSpace.Screen&&(N.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__.Matrix4PassUniform("inverseProjectionMatrix",((e,r)=>r.camera.inverseProjectionMatrix))),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`vec3 inverseProject(vec4 posScreen) {
posScreen.xy = (posScreen.xy / viewport.zw) * posScreen.w;
return (inverseProjectionMatrix * posScreen).xyz;
}`),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`bool rayIntersectPlane(vec3 rayDir, vec3 planeOrigin, vec3 planeNormal, out vec3 intersection) {
float cos = dot(rayDir, planeNormal);
float t = dot(planeOrigin, planeNormal) / cos;
intersection = t * rayDir;
return abs(cos) > 0.001 && t > 0.0;
}`),N.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.FloatPassUniform("perScreenPixelRatio",((e,r)=>r.camera.perScreenPixelRatio))),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
      vec4 toFront(vec4 displacedPosScreen, vec3 posLeft, vec3 posRight, vec3 prev, float lineWidth) {
        // Project displaced position back to camera space
        vec3 displacedPos = inverseProject(displacedPosScreen);

        // Calculate the plane that we want the marker to lie in. Note that this will always be an approximation since ribbon lines are generally
        // not planar and we do not know the actual position of the displaced prev vertices (they are offset in screen space, too).
        vec3 planeNormal = normalize(cross(posLeft - posRight, posLeft - prev));
        vec3 planeOrigin = posLeft;

        ${j.hasCap?"\n                if(prev.z > posLeft.z) {\n                  vec2 diff = posLeft.xy - posRight.xy;\n                  planeOrigin.xy += perpendicular(diff) / 2.0;\n                }\n              ":""};

        // Move the plane towards the camera by a margin dependent on the line width (approximated in world space). This tolerance corrects for the
        // non-planarity in most cases, but sharp joins can place the prev vertices at arbitrary positions so markers can still clip.
        float offset = lineWidth * perScreenPixelRatio;
        planeOrigin *= (1.0 - offset);

        // Intersect camera ray with the plane and make sure it is within clip space
        vec3 rayDir = normalize(displacedPos);
        vec3 intersection;
        if (rayIntersectPlane(rayDir, planeOrigin, planeNormal, intersection) && intersection.z < -nearFar[0] && intersection.z > -nearFar[1]) {
          return vec4(intersection.xyz, 1.0);
        }

        // Fallback: use depth of pos or prev, whichever is closer to the camera
        float minDepth = planeOrigin.z > prev.z ? length(planeOrigin) : length(prev);
        displacedPos *= minDepth / length(displacedPos);
        return vec4(displacedPos.xyz, 1.0);
      }
  `)),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_9__.addPixelRatio)(N),N.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
    // Check for special value of uv0.y which is used by the Renderer when graphics
    // are removed before the VBO is recompacted. If this is the case, then we just
    // project outside of clip space.
    if (uv0.y == 0.0) {
      // Project out of clip space
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
    }
    else {
      float lineWidth = getLineWidth();
      float screenMarkerSize = getScreenMarkerSize();

      vec4 pos  = view * vec4(position, 1.0);
      vec4 prev = view * vec4(prevPosition, 1.0);
      clip(pos, prev);

      ${M?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`${j.hideOnShortSegments?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
                  if (areWorldMarkersHidden(pos, prev)) {
                    // Project out of clip space
                    gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
                    return;
                  }`:""}
            pos.xyz = displace(pos.xyz, prev.xyz, getWorldMarkerSize(pos));
            vec4 displacedPosScreen = projectAndScale(pos);`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
            vec4 posScreen = projectAndScale(pos);
            vec4 prevScreen = projectAndScale(prev);
            vec4 displacedPosScreen = posScreen;

            displacedPosScreen.xy = displace(posScreen.xy, prevScreen.xy, screenMarkerSize);
            ${j.space===_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.LineMarkerSpace.Screen?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
                vec2 displacementDirU = perpendicular(normalizedSegment(posScreen.xy, prevScreen.xy));

                // We need three points of the ribbon line in camera space to calculate the plane it lies in
                // Note that we approximate the third point, since we have no information about the join around prev
                vec3 lineRight = inverseProject(posScreen + lineWidth * vec4(displacementDirU.xy, 0.0, 0.0));
                vec3 lineLeft = pos.xyz + (pos.xyz - lineRight);

                pos = toFront(displacedPosScreen, lineLeft, lineRight, prev.xyz, lineWidth);
                displacedPosScreen = projectAndScale(pos);`:""}`}

      ${k?"depth = pos.z;":""}

      // Convert back into NDC
      displacedPosScreen.xy = (displacedPosScreen.xy / viewport.zw) * displacedPosScreen.w;

      // Convert texture coordinate into [0,1]
      vUV = (uv0 + 1.0) / 2.0;
      ${M?"":"vUV *= displacedPosScreen.w;"}
      ${j.hasTip?"vLineWidth = lineWidth;":""}

      vSize = screenMarkerSize;
      vColor = getColor();

      // Use camera space for slicing
      vpos = pos.xyz;

      gl_Position = displacedPosScreen;
    }`),k&&L.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_6__.terrainDepthTest,j),L.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,j),L.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_19__.outputColorHighlightOID,j),C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_11__.Float4PassUniform("intrinsicColor",(e=>e.color)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_16__.Texture2DPassUniform("tex",(e=>e.markerTexture))),C.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__.ColorConversion),C.constants.add("texelSize","float",1/_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerTextureSize),C.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`float markerAlpha(vec2 samplePos) {
samplePos += vec2(0.5, -0.5) * texelSize;
float sdf = rgba2float(texture(tex, samplePos)) - 0.5;
float distance = sdf * vSize;
distance -= 0.5;
return clamp(0.5 - distance, 0.0, 1.0);
}`),j.hasTip&&C.constants.add("relativeMarkerSize","float",_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerSymbolSize/_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerTextureSize).constants.add("relativeTipLineWidth","float",_views_3d_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__.markerTipThicknessFactor).code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
    float tipAlpha(vec2 samplePos) {
      // Convert coordinates s.t. they are in pixels and relative to the tip of an arrow marker
      samplePos -= vec2(0.5, 0.5 + 0.5 * relativeMarkerSize);
      samplePos *= vSize;

      float halfMarkerSize = 0.5 * relativeMarkerSize * vSize;
      float halfTipLineWidth = 0.5 * max(1.0, relativeTipLineWidth * vLineWidth);

      ${M?"halfTipLineWidth *= fwidth(samplePos.y);":""}

      float distance = max(abs(samplePos.x) - halfMarkerSize, abs(samplePos.y) - halfTipLineWidth);
      return clamp(0.5 - distance, 0.0, 1.0);
    }
  `),L.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_4__.OutputHighlight,j),C.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__.glsl)`
    discardBySlice(vpos);
    ${k?"terrainDepthTest(depth);":""}

    vec4 finalColor = intrinsicColor * vColor;
    ${M?"vec2 samplePos = vUV;":"vec2 samplePos = vUV * gl_FragCoord.w;"}
    ${j.hasTip?"finalColor.a *= max(markerAlpha(samplePos), tipAlpha(samplePos));":"finalColor.a *= markerAlpha(samplePos);"}
    outputColorHighlightOID(finalColor, vpos);`),L}const L=Object.freeze(Object.defineProperty({__proto__:null,build:j},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/NativeLine.glsl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/NativeLine.glsl.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: function() { return /* binding */ u; },
/* harmony export */   b: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function m(m){const u=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_10__.ShaderBuilder,{vertex:p,fragment:w}=u;return u.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__.VertexColor,m),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addProjViewLocalOrigin)(p,m),u.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION,"vec3"),u.varyings.add("vpos","vec3"),p.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vpos = position;
forwardNormalizedVertexColor();
gl_Position = transformPosition(proj, view, vpos);`),u.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_4__.OutputHighlight,m),u.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,m),w.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("alphaCoverage",((e,r)=>Math.min(1,e.width*r.camera.pixelRatio)))),m.hasVertexColors||w.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float4PassUniform("constantColor",(e=>e.color))),w.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`
    discardBySlice(vpos);

    vec4 color = ${m.hasVertexColors?"vColor":"constantColor"};

    ${m.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.ObjectAndLayerIdColor?"color.a = 1.0;":""}

    if (color.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_5__.alphaCutoff)}) {
      discard;
    }

    ${m.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`fragColor = highlightSlice(color, vpos);`:""}
    calculateOcclusionAndOutputHighlight();
  `),u}const u=Object.freeze(Object.defineProperty({__proto__:null,build:m},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: function() { return /* binding */ d; },
/* harmony export */   a: function() { return /* binding */ m; },
/* harmony export */   b: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/terrain/interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class d extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.NoParameters{constructor(){super(...arguments),this.overlayIndex=_views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.OverlayIndex.INNER,this.opacity=1}}function l(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__.ShaderBuilder;return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Texture2DPassUniform("tex",(e=>e.texture))),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.IntegerPassUniform("overlayIdx",(e=>e.overlayIndex))),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("opacity",(e=>e.opacity))),e.fragment.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__.glsl)`vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);
fragColor = texture(tex, overlayUV) * opacity;`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Path.glsl.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Path.glsl.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   P: function() { return /* binding */ _; },
/* harmony export */   b: function() { return /* binding */ B; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_PathVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/PathVertexPosition.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PathVertexPosition.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputDepth.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientOcclusion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateSceneLighting.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function B(B){const _=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_21__.ShaderBuilder,{vertex:M,fragment:V}=_;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__.addProjViewLocalOrigin)(M,B),_.varyings.add("vpos","vec3"),_.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_PathVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_5__.PathVertexPosition,B);const{output:z,spherical:T,pbrMode:x,receiveShadows:H}=B,N=(0,_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.isColorOrColorEmission)(z);switch((N||z===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor)&&(_.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_14__.ReadShadowMapDraw,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ForwardLinearDepth,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.ObjectAndLayerIdColor,B),_.varyings.add("vnormal","vec3"),_.varyings.add("vcolor","vec4"),B.terrainDepthTest&&_.varyings.add("depth","float"),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`
      vpos = calculateVPos();
      vnormal = normalize(localNormal());

      ${B.terrainDepthTest?"depth = (view * vec4(vpos, 1.0)).z;":""}
      gl_Position = transformPosition(proj, view, vpos);

      ${N?"forwardLinearDepth();":""}
      forwardObjectAndLayerIdColor();

      vcolor = getColor();`)),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_15__.terrainDepthTest,B),z){case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ColorEmission:case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color:_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_13__.PhysicallyBasedRenderingParameters,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_9__.EvaluateSceneLighting,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientOcclusion_glsl_js__WEBPACK_IMPORTED_MODULE_8__.EvaluateAmbientOcclusion,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_14__.ReadShadowMapDraw,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_11__.Normals,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,B),_.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_22__.outputColorHighlightOID,B),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__.addCameraPosition)(V,B),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_9__.addAmbientBoostFactor)(V),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateSceneLighting_glsl_js__WEBPACK_IMPORTED_MODULE_9__.addLightingGlobalFactor)(V),V.uniforms.add(M.uniforms.get("localOrigin"),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float3PassUniform("ambient",(e=>e.ambient)),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float3PassUniform("diffuse",(e=>e.diffuse)),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_18__.Float3PassUniform("specular",(e=>e.specular)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_19__.FloatPassUniform("opacity",(e=>e.opacity))),V.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_16__.ColorConversion),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_10__.addMainLightIntensity)(V),V.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`
        discardBySlice(vpos);
        ${B.terrainDepthTest?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`terrainDepthTest(depth);`:""}

        shadingParams.viewDirection = normalize(vpos - cameraPosition);
        shadingParams.normalView = vnormal;
        vec3 normal = shadingNormal(shadingParams);
        float ssao = evaluateAmbientOcclusionInverse();

        vec3 posWorld = vpos + localOrigin;
        vec3 normalGround = ${T?"normalize(posWorld);":"vec3(0.0, 0.0, 1.0);"}

        float additionalAmbientScale = additionalDirectedAmbientLight(posWorld);
        vec3 additionalLight = ssao * mainLightIntensity * additionalAmbientScale * ambientBoostFactor * lightingGlobalFactor;
        float shadow = ${H?"max(lightingGlobalFactor * (1.0 - additionalAmbientScale), readShadowMap(vpos, linearDepth));":T?"lightingGlobalFactor * (1.0 - additionalAmbientScale);":"0.0;"}
        vec3 albedo = vcolor.rgb * max(ambient, diffuse); // combine the old material parameters into a single one
        float combinedOpacity = vcolor.a * opacity;
        albedo += 0.25 * specular; // don't completely ignore specular for now

        ${(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.If)(x===_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_13__.PBRMode.Schematic,"float additionalAmbientIrradiance = additionalAmbientIrradianceFactor * mainLightIntensity[2];\n           vec4 emission = getEmissions();")}

        vec3 shadedColor = ${x===_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_13__.PBRMode.Schematic?"evaluateSceneLightingPBR(normal, albedo, shadow, 1.0 - ssao, additionalLight, shadingParams.viewDirection, normalGround, mrr, emission, additionalAmbientIrradiance);":"evaluateSceneLighting(normal, albedo, shadow, 1.0 - ssao, additionalLight);"}
        vec4 finalColor = vec4(shadedColor, combinedOpacity);
        outputColorHighlightOID(finalColor, vpos);`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth:_.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform,B),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`vpos = calculateVPos();
gl_Position = transformPosition(proj, view, vpos);`),_.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,B),V.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`discardBySlice(vpos);`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Shadow:case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ShadowHighlight:case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ShadowExcludeHighlight:case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ViewshedShadow:_.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform,B),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.addNearFar)(_),_.varyings.add("depth","float"),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`vpos = calculateVPos();
gl_Position = transformPositionWithDepth(proj, view, vpos, nearFar, depth);`),_.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_6__.OutputDepth,B),V.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`discardBySlice(vpos);
outputDepth(depth);`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor:_.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,B),V.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`discardBySlice(vpos);
outputObjectAndLayerIdColor();`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Normal:_.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_12__.NormalUtils,B),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_17__.addViewNormal)(M),_.varyings.add("vnormal","vec3"),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`vpos = calculateVPos();
vnormal = normalize((viewNormal * vec4(localNormal(), 1.0)).xyz);
gl_Position = transformPosition(proj, view, vpos);`),_.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,B),V.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`discardBySlice(vpos);
vec3 normal = normalize(vnormal);
if (gl_FrontFacing == false) normal = -normal;
fragColor = vec4(vec3(0.5) + 0.5 * normal, 1.0);`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight:_.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_12__.NormalUtils,B),_.varyings.add("vnormal","vec3"),M.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`vpos = calculateVPos();
gl_Position = transformPosition(proj, view, vpos);`),_.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,B),_.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_7__.OutputHighlight,B),V.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_20__.glsl)`discardBySlice(vpos);
calculateOcclusionAndOutputHighlight();`)}return _}const _=Object.freeze(Object.defineProperty({__proto__:null,build:B},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/Pattern.glsl.js":
/*!**********************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Pattern.glsl.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   P: function() { return /* binding */ C; },
/* harmony export */   b: function() { return /* binding */ j; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/materials/PatternStyle.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternStyle.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const w=.70710678118,h=w,b=.08715574274,y=10,S=1;function j(j){const C=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_12__.ShaderBuilder,{vertex:T,fragment:P,attributes:R,varyings:V}=C,D=j.terrainDepthTest&&j.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color,$=j.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Highlight;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addProjViewLocalOrigin)(T,j),C.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Transform,j),C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.VertexColor,j),C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_6__.VisualVariables,j),C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__.ObjectAndLayerIdColor,j),C.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.SliceDraw,j),C.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_15__.outputColorHighlightOID,j),j.draped?T.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.FloatPassUniform("worldToScreenRatio",((e,o)=>1/o.screenToPCSRatio))):R.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.BOUNDINGRECT,"mat3"),R.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.POSITION,"vec3"),R.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.UVMAPSPACE,"vec4"),j.vvColor&&R.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__.VertexAttribute.COLORFEATUREATTRIBUTE,"float"),V.add("vColor","vec4"),V.add("vpos","vec3"),V.add("vuv","vec2"),D&&V.add("depth","float"),T.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4PassUniform("uColor",(e=>e.color)));const O=j.style===_views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.ForwardDiagonal||j.style===_views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.BackwardDiagonal||j.style===_views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.DiagonalCross;return O&&T.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
      const mat2 rotate45 = mat2(${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(w)}, ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(-h)},
                                 ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(h)}, ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(w)});
    `),j.draped||((0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__.addCameraPosition)(T,j),T.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.FloatPassUniform("worldToScreenPerDistanceRatio",((e,o)=>1/o.camera.perScreenPixelRatio))),T.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec3 projectPointToLineSegment(vec3 center, vec3 halfVector, vec3 point) {
float projectedLength = dot(halfVector, point - center) / dot(halfVector, halfVector);
return center + halfVector * clamp(projectedLength, -1.0, 1.0);
}`),T.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec3 intersectRayPlane(vec3 rayDir, vec3 rayOrigin, vec3 planeNormal, vec3 planePoint) {
float d = dot(planeNormal, planePoint);
float t = (d - dot(planeNormal, rayOrigin)) / dot(planeNormal, rayDir);
return rayOrigin + t * rayDir;
}`),T.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
      float boundingRectDistanceToCamera() {
        vec3 center = vec3(boundingRect[0][0], boundingRect[0][1], boundingRect[0][2]);
        vec3 halfU = vec3(boundingRect[1][0], boundingRect[1][1], boundingRect[1][2]);
        vec3 halfV = vec3(boundingRect[2][0], boundingRect[2][1], boundingRect[2][2]);
        vec3 n = normalize(cross(halfU, halfV));

        vec3 viewDir = - vec3(view[0][2], view[1][2], view[2][2]);

        float viewAngle = dot(viewDir, n);
        float minViewAngle = ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(b)};

        if (abs(viewAngle) < minViewAngle) {
          // view direction is (almost) parallel to plane -> clamp it to min angle
          float normalComponent = sign(viewAngle) * minViewAngle - viewAngle;
          viewDir = normalize(viewDir + normalComponent * n);
        }

        // intersect view direction with infinite plane that contains bounding rect
        vec3 planeProjected = intersectRayPlane(viewDir, cameraPosition, n, center);

        // clip to bounds by projecting to u and v line segments individually
        vec3 uProjected = projectPointToLineSegment(center, halfU, planeProjected);
        vec3 vProjected = projectPointToLineSegment(center, halfV, planeProjected);

        // use to calculate the closest point to camera on bounding rect
        vec3 closestPoint = uProjected + vProjected - center;

        return length(closestPoint - cameraPosition);
      }
    `)),T.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
    vec2 scaledUV() {
      vec2 uv = uvMapSpace.xy ${O?" * rotate45":""};
      vec2 uvCellOrigin = uvMapSpace.zw ${O?" * rotate45":""};

      ${j.draped?"":(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
            float distanceToCamera = boundingRectDistanceToCamera();
            float worldToScreenRatio = worldToScreenPerDistanceRatio / distanceToCamera;
          `}

      // Logarithmically discretize ratio to avoid jittering
      float step = 0.1;
      float discreteWorldToScreenRatio = log(worldToScreenRatio);
      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;
      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);

      vec2 uvOffset = mod(uvCellOrigin * discreteWorldToScreenRatio, ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(y)});
      return uvOffset + (uv * discreteWorldToScreenRatio);
    }
  `),T.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
    vuv = scaledUV();
    vpos = position;
    ${D?"depth = (view * vec4(vpos, 1.0)).z;":""}
    forwardNormalizedVertexColor();
    forwardObjectAndLayerIdColor();
    ${j.hasVertexColors?"vColor *= uColor;":j.vvColor?"vColor = uColor * interpolateVVColor(colorFeatureAttribute);":"vColor = uColor;"}
    gl_Position = transformPosition(proj, view, vpos);
  `),P.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_7__.ColorConversion),j.draped&&P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.FloatPassUniform("texelSize",((e,o)=>1/o.camera.pixelRatio))),D&&C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__.terrainDepthTest,j),$||(P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
      const float lineWidth = ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(S)};
      const float spacing = ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(y)};
      const float spacingINV = ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl.float(1/y)};

      float coverage(float p, float txlSize) {
        p = mod(p, spacing);

        float halfTxlSize = txlSize / 2.0;

        float start = p - halfTxlSize;
        float end = p + halfTxlSize;

        float coverage = (ceil(end * spacingINV) - floor(start * spacingINV)) * lineWidth;
        coverage -= min(lineWidth, mod(start, spacing));
        coverage -= max(lineWidth - mod(end, spacing), 0.0);

        return coverage / txlSize;
      }
    `),j.draped||P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`const int maxSamples = 5;
float sampleAA(float p) {
vec2 dxdy = abs(vec2(dFdx(p), dFdy(p)));
float fwidth = dxdy.x + dxdy.y;
ivec2 samples = 1 + ivec2(clamp(dxdy, 0.0, float(maxSamples - 1)));
vec2 invSamples = 1.0 / vec2(samples);
float accumulator = 0.0;
for (int j = 0; j < maxSamples; j++) {
if(j >= samples.y) {
break;
}
for (int i = 0; i < maxSamples; i++) {
if(i >= samples.x) {
break;
}
vec2 step = vec2(i,j) * invSamples - 0.5;
accumulator += coverage(p + step.x * dxdy.x + step.y * dxdy.y, fwidth);
}
}
accumulator /= float(samples.x * samples.y);
return accumulator;
}`)),P.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`
    discardBySlice(vpos);
    ${D?"terrainDepthTest(depth);":""}
    vec4 color = vColor;
    ${$?"":(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`color.a *= ${x(j)};`}
    outputColorHighlightOID(color, vpos);
  `),C}function x(e){function o(o){return e.draped?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`coverage(vuv.${o}, texelSize)`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`sampleAA(vuv.${o})`}switch(e.style){case _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.ForwardDiagonal:case _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.Horizontal:return o("y");case _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.BackwardDiagonal:case _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.Vertical:return o("x");case _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.DiagonalCross:case _views_3d_webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_14__.Style.Cross:return (0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`1.0 - (1.0 - ${o("x")}) * (1.0 - ${o("y")})`;default:return"0.0"}}const C=Object.freeze(Object.defineProperty({__proto__:null,build:j},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: function() { return /* binding */ c; },
/* harmony export */   b: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function s(){const s=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_6__.ShaderBuilder;s.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_0__.HighlightCellGridScreenSpacePass);const{fragment:c}=s;return c.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("blurInput",(e=>e.singleHighlightBlurTexture)),new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2DrawUniform("blurSize",(e=>e.blurSize)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("highlightTexture",(e=>e.highlightTexture)),new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Texture2DPassUniform("highlightOptionsTexture",(e=>e.highlightOptionsTexture)),new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.IntegerPassUniform("highlightLevel",(e=>e.highlightLevel)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__.FloatPassUniform("occludedIntensityFactor",(e=>e.occludedFactor))),c.constants.add("inner","float",1-(_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__.o-_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__.b)/_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_8__.o),s.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightReadBitmap_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightReadBitmap),c.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__.glsl)`vec2 highlightTextureSize = vec2(textureSize(highlightTexture,0));
vec2 uv = sUV;
vec2 center = texture(blurInput, uv).rg;
vec2 blurredHighlightValue = (vOutlinePossible == 0.0)
? center
: center * 0.204164
+ texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005
+ texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005
+ texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913
+ texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;
float highlightIntensity = blurredHighlightValue.r;
float occlusionWeight = blurredHighlightValue.g;
if (highlightIntensity <= 0.01) {
discard;
}
vec4 fillColor    = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 0), 0);
vec4 outlineColor = texelFetch(highlightOptionsTexture, ivec2(highlightLevel, 1), 0);
vec2 centerTexel = texelFetch(highlightTexture, ivec2(uv * highlightTextureSize), 0).rg;
uint centerBits = readLevelBits(centerTexel, highlightLevel);
bool centerFilled = (centerBits & 1u) == 1u;
bool centerOccluded = (centerBits & 3u) == 3u;
bool occluded = centerOccluded || (0.5 * highlightIntensity < occlusionWeight);
float occlusionFactor = occluded ? occludedIntensityFactor : 1.0;
float outlineFactor = centerFilled ? 1.0 : smoothstep(0.0, inner, highlightIntensity);
float fillFactor = centerFilled ? 1.0 : 0.0;
vec4 baseColor = mix(outlineColor, fillColor, fillFactor);
float intensity = baseColor.a * occlusionFactor * outlineFactor;
fragColor = vec4(baseColor.rgb, intensity);`),s}const c=Object.freeze(Object.defineProperty({__proto__:null,build:s},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: function() { return /* binding */ n; },
/* harmony export */   a: function() { return /* binding */ g; },
/* harmony export */   b: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DDrawUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters{constructor(){super(...arguments),this.blurSize=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}function o(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;return e.include(_views_3d_webgl_engine_core_shaderLibrary_HighlightCellGridScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.HighlightCellGridScreenSpacePass),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2DrawUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2DrawUniform("blurSize",(e=>e.blurSize)),new _views_3d_webgl_engine_core_shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DDrawUniform("blurInput",(e=>e.blurInput))),e.outputs.add("fragSingleHighlight","vec2",0),e.fragment.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`vec2 highlightTextureSize = vec2(textureSize(blurInput,0));
vec2 uv = sUV;
vec2 center = texture(blurInput, uv).rg;
if (vOutlinePossible == 0.0) {
fragSingleHighlight = center;
} else {
vec2 sum = center * 0.204164;
sum += texture(blurInput, uv + blurSize * 1.407333).rg * 0.304005;
sum += texture(blurInput, uv - blurSize * 1.407333).rg * 0.304005;
sum += texture(blurInput, uv + blurSize * 3.294215).rg * 0.093913;
sum += texture(blurInput, uv - blurSize * 3.294215).rg * 0.093913;
fragSingleHighlight = sum;
}`),e}const g=Object.freeze(Object.defineProperty({__proto__:null,SingleHighlightBlurDrawParameters:n,build:o},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: function() { return /* binding */ a; },
/* harmony export */   a: function() { return /* binding */ d; },
/* harmony export */   b: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.NoParameters{constructor(){super(...arguments),this.color=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(1,1,1)}}function l(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__.ShaderBuilder;return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__.ScreenSpacePass),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float3PassUniform("uColor",(e=>e.color))),e.fragment.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`vec4 texColor = texture(tex, uv);
fragColor = texColor * vec4(uColor, 1.0);`),e}const d=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:a,build:l},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/WaterSurface.glsl.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/WaterSurface.glsl.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: function() { return /* binding */ x; },
/* harmony export */   b: function() { return /* binding */ O; }
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../views/3d/webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function O(O){const x=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__.ShaderBuilder,{vertex:D,fragment:S}=x;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addProjViewLocalOrigin)(D,O),x.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__.Transform,O),x.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_21__.VertexAttribute.POSITION,"vec3"),x.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_21__.VertexAttribute.UV0,"vec2");const M=new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__.Float4PassUniform("waterColor",(e=>e.color));if(O.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&O.draped)return x.varyings.add("vpos","vec3"),D.uniforms.add(M),D.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`
      if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.alphaCutoff)}) {
        // Discard this vertex
        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
        return;
      }

      vpos = position;
      gl_Position = transformPosition(proj, view, vpos);`),S.uniforms.add(M),S.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`fragColor = waterColor;`),x;switch(O.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&(x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_8__.NormalUtils,O),x.include(_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ForwardLinearDepth,O),x.varyings.add("vuv","vec2"),x.varyings.add("vpos","vec3"),x.varyings.add("vnormal","vec3"),x.varyings.add("vtbnMatrix","mat3"),O.terrainDepthTest&&x.varyings.add("depth","float"),D.uniforms.add(M),D.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`
      if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.alphaCutoff)}) {
        // Discard this vertex
        gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
        return;
      }

      vuv = uv0;
      vpos = position;

      vnormal = getLocalUp(vpos, localOrigin);
      vtbnMatrix = getTBNMatrix(vnormal);

      ${O.terrainDepthTest?"depth = (view * vec4(vpos, 1.0)).z;":""}

      gl_Position = transformPosition(proj, view, vpos);
      ${O.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color?"forwardLinearDepth();":""}`)),x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_11__.terrainDepthTest,O),O.output){case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color:x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.EvaluateAmbientLighting,{pbrMode:_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_9__.PBRMode.Disabled,lightingSphericalHarmonicsOrder:2}),x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__.WaterDistortion),x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_10__.ReadShadowMapDraw,O),x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_12__.Water,O),x.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,O),x.include(_views_3d_webgl_engine_shaders_OutputColorHighlightOID_glsl_js__WEBPACK_IMPORTED_MODULE_22__.outputColorHighlightOID,O),S.uniforms.add(M,new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__.FloatPassUniform("timeElapsed",(e=>e.timeElapsed)),D.uniforms.get("view"),D.uniforms.get("localOrigin")),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_16__.addCameraPosition)(S,O),S.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_15__.ColorConversion),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__.addMainLightDirection)(S),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__.addMainLightIntensity)(S),S.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`
        discardBySlice(vpos);
        ${O.terrainDepthTest?"terrainDepthTest(depth);":""}
        vec3 localUp = vnormal;
        // the created normal is in tangent space
        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);

        // we rotate the normal according to the tangent-bitangent-normal-Matrix
        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);
        vec3 v = -normalize(vpos - cameraPosition);
        float shadow = ${O.receiveShadows?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`1.0 - readShadowMap(vpos, linearDepth)`:"1.0"};
        vec4 vPosView = view * vec4(vpos, 1.0);
        vec4 final = vec4(getSeaColor(n, v, mainLightDirection, waterColor.rgb, mainLightIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz, vpos + localOrigin), waterColor.w);

        // gamma correction
        fragColor = delinearizeGamma(final);
        outputColorHighlightOID(fragColor, vpos);`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Normal:x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_8__.NormalUtils,O),x.include(_views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__.WaterDistortion,O),x.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,O),x.varyings.add("vpos","vec3"),x.varyings.add("vuv","vec2"),D.uniforms.add(M),D.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.alphaCutoff)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vuv = uv0;
        vpos = position;

        gl_Position = transformPosition(proj, view, vpos);`),S.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__.FloatPassUniform("timeElapsed",(e=>e.timeElapsed))),S.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`discardBySlice(vpos);
vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);
tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);
fragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Highlight:x.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_5__.OutputHighlight,O),x.varyings.add("vpos","vec3"),D.uniforms.add(M),D.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.alphaCutoff)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vpos = position;
        gl_Position = transformPosition(proj, view, vpos);`),x.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,O),S.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`discardBySlice(vpos);
calculateOcclusionAndOutputHighlight();`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.ObjectAndLayerIdColor:x.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__.ObjectAndLayerIdColor,O),x.varyings.add("vpos","vec3"),D.uniforms.add(M),D.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__.alphaCutoff)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vpos = position;
        gl_Position = transformPosition(proj, view, vpos);
        forwardObjectAndLayerIdColor();`),x.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__.SliceDraw,O),S.main.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__.glsl)`discardBySlice(vpos);
outputObjectAndLayerIdColor();`)}return x}const x=Object.freeze(Object.defineProperty({__proto__:null,build:O},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/earcut.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/earcut.js ***!
  \****************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e,t,x){x=x||2;var i,u,v,y,o,p,a,l=t&&t.length,h=l?t[0]*x:e.length,c=n(e,0,h,x,!0),s=[];if(!c||c.next===c.prev)return s;if(l&&(c=f(e,t,c,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);a=0!==(a=Math.max(v-i,y-u))?1/a:0}return r(c,s,x,i,u,a),s}function n(e,n,t,r,x){var i,u;if(x===E(e,n,t,r)>0)for(i=n;i<t;i+=r)u=B(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=B(i,e[i],e[i+1],u);if(u&&M(u,u.next)){var v=u.next;C(u),u=v}return u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!M(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{var x=r.prev;if(C(r),(r=n=x)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&h(e,y,o,p);for(var l,c,s=e;e.prev!==e.next;)if(l=e.prev,c=e.next,p?i(e,y,o,p):x(e))n.push(l.i/f),n.push(e.i/f),n.push(c.i/f),C(e),e=c.next,s=c.next;else if((e=c)===s){a?1===a?r(e=u(t(e),n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(w(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(g(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=s(v,f,n,t,r),a=s(y,o,n,t,r),l=e.prevZ,h=e.nextZ;l&&l.z>=p&&h&&h.z<=a;){if(l!==e.prev&&l!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&w(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,h!==e.prev&&h!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;l&&l.z>=p;){if(l!==e.prev&&l!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&w(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;h&&h.z<=a;){if(h!==e.prev&&h!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function u(e,n,r){var x=e;do{var i=x.prev,u=x.next.next;!M(i,u)&&z(i,x,x.next,u)&&j(i,u)&&j(u,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(u.i/r),C(x),C(x.next),x=e=u),x=x.next}while(x!==e);return t(x)}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&d(f,y)){var o=A(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,o=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),o.push(Z(f));for(o.sort(y),u=0;u<o.length;u++)x=t(x=p(o[u],x),x.next);return x}function y(e,n){return e.x-n.x}function o(e){if(e.next.prev===e)return e;let n=e;for(;;){const t=n.next;if(t.prev===n||t===n||t===e)break;n=t}return n}function p(e,n){var r=a(e,n);if(!r)return n;var x=A(r,e),i=t(r,r.next);let u=o(x);return t(u,u.next),i=o(i),o(n===r?i:n)}function a(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t;var f,y=t,o=t.x,p=t.y,a=1/0;r=t;do{x>=r.x&&r.x>=o&&x!==r.x&&g(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),j(r,e)&&(f<a||f===a&&(r.x>t.x||r.x===t.x&&l(t,r)))&&(t=r,a=f)),r=r.next}while(r!==y);return t}function l(e,n){return w(e.prev,e,n.prev)<0&&w(n.next,e,e.next)<0}function h(e,n,t,r){var x=e;do{null===x.z&&(x.z=s(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,c(x)}function c(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function s(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Z(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function g(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function d(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!k(e,n)&&(j(e,n)&&j(n,e)&&q(e,n)&&(w(e.prev,e,n.prev)||w(e,n.prev,n))||M(e,n)&&w(e.prev,e,e.next)>0&&w(n.prev,n,n.next)>0)}function w(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function M(e,n){return e.x===n.x&&e.y===n.y}function z(e,n,t,r){var x=m(w(e,n,t)),i=m(w(e,n,r)),u=m(w(t,r,e)),v=m(w(t,r,n));return x!==i&&u!==v||(!(0!==x||!b(e,t,n))||(!(0!==i||!b(e,r,n))||(!(0!==u||!b(t,e,r))||!(0!==v||!b(t,n,r)))))}function b(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function m(e){return e>0?1:e<0?-1:0}function k(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&z(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function j(e,n){return w(e.prev,e,e.next)<0?w(e,n,e.next)>=0&&w(e,e.prev,n)>=0:w(e,n,e.prev)<0||w(e,e.next,n)<0}function q(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function A(e,n){var t=new D(e.i,e.x,e.y),r=new D(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function B(e,n,t,r){var x=new D(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function D(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(E(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var y=n[v]*t,o=v<f-1?n[v+1]*t:e.length;u-=Math.abs(E(e,y,o,t))}var p=0;for(v=0;v<r.length;v+=3){var a=r[v]*t,l=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[a]-e[h])*(e[l+1]-e[a+1])-(e[a]-e[l])*(e[h+1]-e[a+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t};


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec2.js":
/*!**************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec2.js ***!
  \**************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: function() { return /* binding */ n; },
/* harmony export */   f: function() { return /* binding */ l; },
/* harmony export */   n: function() { return /* binding */ o; },
/* harmony export */   v: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(e,t){n(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function n(o,n,l=2,u=l){const i=n.length/2;let a=0,d=0;if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isArray)(n)||(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isFloat)(n)){for(let e=0;e<i;++e)o[a]=n[d],o[a+1]=n[d+1],a+=l,d+=u;return}const c=(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.maximumValue)(n);if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isSigned)(n))for(let e=0;e<i;++e)o[a]=Math.max(n[d]/c,-1),o[a+1]=Math.max(n[d+1]/c,-1),a+=l,d+=u;else for(let e=0;e<i;++e)o[a]=n[d]/c,o[a+1]=n[d+1]/c,a+=l,d+=u}function l(e,t,r,f){const o=e.typedBuffer,n=e.typedBufferStride,l=f?.count??e.count;let u=(f?.dstIndex??0)*n;for(let i=0;i<l;++i)o[u]=t,o[u+1]=r,u+=n}const u=Object.freeze(Object.defineProperty({__proto__:null,fill:l,normalizeIntegerBuffer:n,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec3.js":
/*!**************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec3.js ***!
  \**************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: function() { return /* binding */ i; },
/* harmony export */   b: function() { return /* binding */ f; },
/* harmony export */   c: function() { return /* binding */ r; },
/* harmony export */   d: function() { return /* binding */ t; },
/* harmony export */   e: function() { return /* binding */ u; },
/* harmony export */   f: function() { return /* binding */ o; },
/* harmony export */   g: function() { return /* binding */ a; },
/* harmony export */   n: function() { return /* binding */ l; },
/* harmony export */   s: function() { return /* binding */ n; },
/* harmony export */   t: function() { return /* binding */ e; },
/* harmony export */   v: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t,r,f){e(t.typedBuffer,r.typedBuffer,f,t.typedBufferStride,r.typedBufferStride)}function e(t,e,r,f=3,n=f){if(t.length/f!==Math.ceil(e.length/n))return t;const o=t.length/f,i=r[0],u=r[1],l=r[2],a=r[4],s=r[5],c=r[6],d=r[8],p=r[9],h=r[10],y=r[12],B=r[13],g=r[14];let m=0,M=0;for(let S=0;S<o;S++){const r=e[m],o=e[m+1],S=e[m+2];t[M]=i*r+a*o+d*S+y,t[M+1]=u*r+s*o+p*S+B,t[M+2]=l*r+c*o+h*S+g,m+=n,M+=f}return t}function r(t,e,r){f(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function f(t,e,r,f=3,n=f){if(t.length/f!==Math.ceil(e.length/n))return;const o=t.length/f,i=r[0],u=r[1],l=r[2],a=r[3],s=r[4],c=r[5],d=r[6],p=r[7],h=r[8];let y=0,B=0;for(let g=0;g<o;g++){const r=e[y],o=e[y+1],g=e[y+2];t[B]=i*r+a*o+d*g,t[B+1]=u*r+s*o+p*g,t[B+2]=l*r+c*o+h*g,y+=n,B+=f}}function n(t,e,r){o(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function o(t,e,r,f=3,n=f){const o=Math.min(t.length/f,e.length/n);let i=0,u=0;for(let l=0;l<o;l++)t[u]=r*e[i],t[u+1]=r*e[i+1],t[u+2]=r*e[i+2],i+=n,u+=f;return t}function i(t,e,r,f=3,n=f){const o=t.length/f;if(o!==Math.ceil(e.length/n))return t;let i=0,u=0;for(let l=0;l<o;l++)t[u]=e[i]+r[0],t[u+1]=e[i+1]+r[1],t[u+2]=e[i+2]+r[2],i+=n,u+=f;return t}function u(t,e){l(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function l(t,e,r=3,f=r){const n=Math.min(t.length/r,e.length/f);let o=0,i=0;for(let u=0;u<n;u++){const n=e[o],u=e[o+1],l=e[o+2],a=n*n+u*u+l*l;if(a>0){const e=1/Math.sqrt(a);t[i]=e*n,t[i+1]=e*u,t[i+2]=e*l}o+=f,i+=r}}function a(t,e,r){const f=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,u=e.typedBufferStride;let l=0,a=0;for(let s=0;s<f;s++)n[a]=i[l]>>r,n[a+1]=i[l+1]>>r,n[a+2]=i[l+2]>>r,l+=u,a+=o}const s=Object.freeze(Object.defineProperty({__proto__:null,normalize:l,normalizeView:u,scale:o,scaleView:n,shiftRight:a,transformMat3:f,transformMat3View:r,transformMat4:e,transformMat4View:t,translate:i},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec33.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec33.js ***!
  \***************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: function() { return /* binding */ e; },
/* harmony export */   c: function() { return /* binding */ t; },
/* harmony export */   f: function() { return /* binding */ f; },
/* harmony export */   v: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e,f){t(e.typedBuffer,f.typedBuffer,e.typedBufferStride,f.typedBufferStride)}function t(e,t,f=3,o=f){const r=t.length/o;let n=0,u=0;for(let c=0;c<r;++c)e[n]=t[u],e[n+1]=t[u+1],e[n+2]=t[u+2],n+=f,u+=o}function f(e,t,f,o,r){const n=e.typedBuffer,u=e.typedBufferStride,c=r?.count??e.count;let d=(r?.dstIndex??0)*u;for(let l=0;l<c;++l)n[d]=t,n[d+1]=f,n[d+2]=o,d+=u}const o=Object.freeze(Object.defineProperty({__proto__:null,copy:t,copyView:e,fill:f},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec4.js":
/*!**************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec4.js ***!
  \**************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: function() { return /* binding */ f; },
/* harmony export */   b: function() { return /* binding */ s; },
/* harmony export */   c: function() { return /* binding */ e; },
/* harmony export */   d: function() { return /* binding */ r; },
/* harmony export */   n: function() { return /* binding */ o; },
/* harmony export */   s: function() { return /* binding */ u; },
/* harmony export */   t: function() { return /* binding */ n; },
/* harmony export */   v: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../geometry/support/buffer/math/common.js */ "./node_modules/@arcgis/core/geometry/support/buffer/math/common.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(t,e,r){if(t.count!==e.count)return;const f=t.count,n=r[0],o=r[1],u=r[2],s=r[3],c=r[4],i=r[5],a=r[6],d=r[7],l=r[8],p=r[9],y=r[10],m=r[11],B=r[12],h=r[13],g=r[14],S=r[15],M=t.typedBuffer,b=t.typedBufferStride,j=e.typedBuffer,v=e.typedBufferStride;for(let _=0;_<f;_++){const t=_*b,e=_*v,r=j[e],f=j[e+1],w=j[e+2],V=j[e+3];M[t]=n*r+c*f+l*w+B*V,M[t+1]=o*r+i*f+p*w+h*V,M[t+2]=u*r+a*f+y*w+g*V,M[t+3]=s*r+d*f+m*w+S*V}}function r(e,r,f,n=4,o=n){if(e.length/n!=r.length/o)return void (0,_geometry_support_buffer_math_common_js__WEBPACK_IMPORTED_MODULE_1__.getMathLogger)().error("source and destination buffers need to have the same number of elements");const u=e.length/n,s=f[0],c=f[1],i=f[2],a=f[3],d=f[4],l=f[5],p=f[6],y=f[7],m=f[8],B=f[9],h=f[10],g=f[11],S=f[12],M=f[13],b=f[14],j=f[15];let v=0,_=0;for(let t=0;t<u;t++){const t=r[v],f=r[v+1],u=r[v+2],w=r[v+3];e[_]=s*t+d*f+m*u+S*w,e[_+1]=c*t+l*f+B*u+M*w,e[_+2]=i*t+p*f+h*u+b*w,e[_+3]=a*t+y*f+g*u+j*w,v+=o,_+=n}}function f(t,e,r){n(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function n(t,e,r,f=4,n=f){if(t.length/f!=e.length/n)return;const o=t.length/f,u=r[0],s=r[1],c=r[2],i=r[3],a=r[4],d=r[5],l=r[6],p=r[7],y=r[8];let m=0,B=0;for(let h=0;h<o;h++){const r=e[m],o=e[m+1],h=e[m+2],g=e[m+3];t[B]=u*r+i*o+l*h,t[B+1]=s*r+a*o+p*h,t[B+2]=c*r+d*o+y*h,t[B+3]=g,m+=n,B+=f}}function o(t,e){const r=Math.min(t.count,e.count),f=t.typedBuffer,n=t.typedBufferStride,o=e.typedBuffer,u=e.typedBufferStride;for(let s=0;s<r;s++){const t=s*n,e=s*u,r=o[e],c=o[e+1],i=o[e+2],a=r*r+c*c+i*i;if(a>0){const e=1/Math.sqrt(a);f[t]=e*r,f[t+1]=e*c,f[t+2]=e*i}}}function u(t,e,r){s(t.typedBuffer,e,r,t.typedBufferStride)}function s(t,e,r,f=4){const n=Math.min(t.length/f,e.count),o=e.typedBuffer,u=e.typedBufferStride;let s=0,c=0;for(let i=0;i<n;i++)t[c]=r*o[s],t[c+1]=r*o[s+1],t[c+2]=r*o[s+2],t[c+3]=r*o[s+3],s+=u,c+=f}const c=Object.freeze(Object.defineProperty({__proto__:null,normalize:o,scale:s,scaleView:u,transformMat3:n,transformMat3View:f,transformMat4:r,transformMat4View:e},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/chunks/vec43.js":
/*!***************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec43.js ***!
  \***************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: function() { return /* binding */ t; },
/* harmony export */   c: function() { return /* binding */ e; },
/* harmony export */   f: function() { return /* binding */ f; },
/* harmony export */   v: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e,f){t(e.typedBuffer,f,e.typedBufferStride)}function t(e,t,f=4){const o=t.typedBuffer,r=t.typedBufferStride,n=t.count;let u=0,c=0;for(let d=0;d<n;++d)e[u]=o[c],e[u+1]=o[c+1],e[u+2]=o[c+2],e[u+3]=o[c+3],u+=f,c+=r}function f(e,t,f,o,r,n){const u=e.typedBuffer,c=e.typedBufferStride,d=n?.count??e.count;let l=(n?.dstIndex??0)*c;for(let p=0;p<d;++p)u[l]=t,u[l+1]=f,u[l+2]=o,u[l+3]=r,l+=c}const o=Object.freeze(Object.defineProperty({__proto__:null,copy:t,copyView:e,fill:f},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/BidiEngine.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/BidiEngine.js ***!
  \******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ C; }
/* harmony export */ });
/* harmony import */ var _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bidiEngineTables.js */ "./node_modules/@arcgis/core/core/bidiEngineTables.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class C{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(t,r,e){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(ot(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(r,e))return t;r=this.inputFormat,e=this.outputFormat;let n=t;const o=ft,i=rt(r.charAt(1)),a=rt(e.charAt(1)),u=("I"===r.charAt(0)?"L":r.charAt(0))+i,s=("I"===e.charAt(0)?"L":e.charAt(0))+a,c=r.charAt(2)+e.charAt(2);o.defInFormat=u,o.defOutFormat=s,o.defSwap=c;const f=V(t,u,s,c,o);let l=!1;return"R"===e.charAt(1)?l=!0:"C"!==e.charAt(1)&&"D"!==e.charAt(1)||(l="rtl"===this.checkContextual(f)),this.sourceToTarget=ut,this.targetToSource=it(this.sourceToTarget),st=this.targetToSource,n=r.charAt(3)===e.charAt(3)?f:"S"===e.charAt(3)?I(l,f):k(f,l,!0),this.sourceToTarget=ut,this.targetToSource=st,this.levels=ct,n}_inputFormatSetter(t){if(!At.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t}_outputFormatSetter(t){if(!At.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t}checkParameters(t,r){return t?this._inputFormatSetter(t):t=this.inputFormat,r?this._outputFormatSetter(r):r=this.outputFormat,t!==r}checkContextual(t){let r=x(t);if("ltr"!==r&&"rtl"!==r){try{r=document.dir.toLowerCase()}catch(e){}"ltr"!==r&&"rtl"!==r&&(r="ltr")}return r}hasBidiChar(t){return dt.test(t)}}function V(t,r,e,n,o){const i=E(t,{inFormat:r,outFormat:e,swap:n},o);if(i.inFormat===i.outFormat)return t;r=i.inFormat,e=i.outFormat,n=i.swap;const a=r.slice(0,1),u=r.slice(1,4),s=e.slice(0,1),c=e.slice(1,4);if(o.inFormat=r,o.outFormat=e,o.swap=n,"L"===a&&"VLTR"===e){if("LTR"===u)return o.dir=Tt,y(t,o);if("RTL"===u)return o.dir=Lt,y(t,o)}if("V"===a&&"V"===s)return o.dir="RTL"===u?Lt:Tt,M(t,o);if("L"===a&&"VRTL"===e)return"LTR"===u?(o.dir=Tt,t=y(t,o)):(o.dir=Lt,t=y(t,o)),M(t);if("VLTR"===r&&"LLTR"===e)return o.dir=Tt,y(t,o);if("V"===a&&"L"===s&&u!==c)return t=M(t),"RTL"===u?V(t,"LLTR","VLTR",n,o):V(t,"LRTL","VRTL",n,o);if("VRTL"===r&&"LRTL"===e)return V(t,"LRTL","VRTL",n,o);if("L"===a&&"L"===s){const r=o.swap;return o.swap=r.slice(0,1)+"N","RTL"===u?(o.dir=Lt,t=y(t,o),o.swap="N"+r.slice(1,3),o.dir=Tt,t=y(t,o)):(o.dir=Tt,t=y(t,o),o.swap="N"+r.slice(1,3),t=V(t,"VLTR","LRTL",o.swap,o)),t}return t}function E(t,r,e){if(void 0===r.inFormat&&(r.inFormat=e.defInFormat),void 0===r.outFormat&&(r.outFormat=e.defOutFormat),void 0===r.swap&&(r.swap=e.defSwap),r.inFormat===r.outFormat)return r;const n=r.inFormat.slice(0,1),o=r.outFormat.slice(0,1);let i,a=r.inFormat.slice(1,4),u=r.outFormat.slice(1,4);return"C"===a.charAt(0)&&(i=x(t),a="ltr"===i||"rtl"===i?i.toUpperCase():"L"===r.inFormat.charAt(2)?"LTR":"RTL",r.inFormat=n+a),"C"===u.charAt(0)&&(i=x(t),"rtl"===i?u="RTL":"ltr"===i?(i=O(t),u=i.toUpperCase()):u="L"===r.outFormat.charAt(2)?"LTR":"RTL",r.outFormat=o+u),r}function I(t,r,e){if(0===r.length)return"";void 0===t&&(t=!0);const n=(r=String(r)).split("");let o=0,i=1,a=n.length;t||(o=n.length-1,i=-1,a=1);const u=j(n,o,i,a);let s="";for(let c=0;c<n.length;c++)W(u,u.length,c)>-1?(at(st,c,!t,-1),ut.splice(c,1)):s+=n[c];return s}function j(t,r,e,n,o){let i=0;const a=[];let u=0;for(let s=r;s*e<n;s+=e)if(Z(t[s])||tt(t[s])){if("ل"===t[s]&&q(t,s+e,e,n)){t[s]=nt(t[s+e],0===i?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.lamAlefInialTableFE:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.lamAlefMedialTableFE),s+=e,et(t,s,e,n),a[u]=s,u++,i=0;continue}const r=t[s];1===i?t[s]=$(t,s+e,e,n)?Q(t[s]):X(t[s],_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.finalForm):!0===$(t,s+e,e,n)?t[s]=X(t[s],_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.initialForm):t[s]=X(t[s],_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.isolatedForm),tt(r)||(i=1),!0===K(r)&&(i=0)}else i=0;return a}function x(t){const r=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return r?r[0]<="z"?"ltr":"rtl":""}function O(t){const r=t.split("");return r.reverse(),x(r.join(""))}function k(e,n,o){if(0===e.length)return"";void 0===n&&(n=!0);let i="";const a=(e=String(e)).split("");for(let u=0;u<e.length;u++){let s=!1;if(a[u]>="ﹰ"&&a[u]<"\ufeff"){const c=e.charCodeAt(u);a[u]>="ﻵ"&&a[u]<="ﻼ"?(n?(u>0&&o&&" "===a[u-1]?i=i.slice(0,-1)+"ل":(i+="ل",s=!0),i+=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.aLefTable[(c-65269)/2]):(i+=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.aLefTable[(c-65269)/2],i+="ل",u+1<e.length&&o&&" "===a[u+1]?u++:s=!0),s&&(at(st,u,!0,1),ut.splice(u,0,ut[u]))):i+=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.feTo06Table[c-65136]}else i+=a[u]}return i}function y(t,r){const e=t.split(""),n=[];return D(e,n,r),P(e,n,r),G(2,e,n,r),G(1,e,n,r),ct=n,e.join("")}function D(t,r,i){const a=t.length,u=i.dir?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.impTabRtl:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.impTabLtr;let s=0,c=-1;const f=[],l=[];i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1;for(let e=0;e<a;e++)f[e]=z(t[e]);for(let e=0;e<a;e++){const n=s,a=H(t,f,l,e,i);l[e]=a,s=u[n][a];const h=240&s;s&=15;const T=u[s][lt];if(r[e]=T,h>0)if(16===h){for(let t=c;t<e;t++)r[t]=1;c=-1}else c=-1;if(u[s][ht])-1===c&&(c=e);else if(c>-1){for(let t=c;t<e;t++)r[t]=T;c=-1}f[e]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatB&&(r[e]=0),i.hiLevel|=T}i.hasUbatS&&Y(f,r,a,i)}function Y(t,r,e,n){for(let o=0;o<e;o++)if(t[o]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatS){r[o]=n.dir;for(let e=o-1;e>=0&&t[e]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatWs;e--)r[e]=n.dir}}function P(t,r,e){if(0!==e.hiLevel&&e.swap[0]!==e.swap[1])for(let n=0;n<t.length;n++)1===r[n]&&(t[n]=J(t[n]))}function z(t){const r=t.charCodeAt(0),e=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.primaryTable[r>>8];return e<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.tbbase?e:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.unicodeTable[e-_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.tbbase][255&r]}function M(t,r){const e=t.split("");if(r){const t=[];D(e,t,r),ct=t}return e.reverse(),ut.reverse(),e.join("")}function W(t,r,e){for(let n=0;n<r;n++)if(t[n]===e)return n;return-1}function Z(t){for(let r=0;r<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.arabicAlefBetIntervalsBegine.length;r++)if(t>=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.arabicAlefBetIntervalsBegine[r]&&t<=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.arabicAlefBetIntervalsEnd[r])return!0;return!1}function $(t,r,e,n){for(;r*e<n&&tt(t[r]);)r+=e;return!!(r*e<n&&Z(t[r]))}function q(r,e,n,o){for(;e*n<o&&tt(r[e]);)e+=n;let i=" ";if(!(e*n<o))return!1;i=r[e];for(let a=0;a<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.aLefTable.length;a++)if(_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.aLefTable[a]===i)return!0;return!1}function G(t,r,e,n){if(n.hiLevel<t)return;if(1===t&&n.dir===Lt&&!n.hasUbatB)return r.reverse(),void ut.reverse();const o=r.length;let i,a,u,s,c,f=0;for(;f<o;){if(e[f]>=t){for(i=f+1;i<o&&e[i]>=t;)i++;for(a=f,u=i-1;a<u;a++,u--)s=r[a],r[a]=r[u],r[u]=s,c=ut[a],ut[a]=ut[u],ut[u]=c;f=i}f++}}function H(t,r,e,n,i){const a=r[n];return{UBAT_L:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatL),UBAT_R:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatR),UBAT_ON:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn,UBAT_AN:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatAn,UBAT_EN:()=>i.lastArabic?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatAn:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn,UBAT_AL:()=>(i.lastArabic=!0,i.hasUbatAl=!0,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatR),UBAT_WS:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn,UBAT_CS:()=>{let t,o;return n<1||n+1>=r.length||(t=e[n-1])!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn&&t!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatAn||(o=r[n+1])!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn&&o!==_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatAn?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn:(i.lastArabic&&(o=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatAn),o===t?o:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn)},UBAT_ES:()=>(n>0?e[n-1]:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatB)===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn&&n+1<r.length&&r[n+1]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn,UBAT_ET:()=>{if(n>0&&e[n-1]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn)return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn;if(i.lastArabic)return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn;let t=n+1;const o=r.length;for(;t<o&&r[t]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEt;)t++;return t<o&&r[t]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatEn:_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn},UBAT_NSM:()=>{if("VLTR"===i.inFormat){const e=r.length;let o=n+1;for(;o<e&&r[o]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatNsm;)o++;if(o<e){const e=t[n].charCodeAt(0),i=e>=1425&&e<=2303||64286===e,a=r[o];if(i&&(a===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatR||a===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatAl))return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatR}}return n<1||r[n-1]===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatB?_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn:e[n-1]},UBAT_B:()=>(i.lastArabic=!0,i.hasUbatB=!0,i.dir),UBAT_S:()=>(i.hasUbatS=!0,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn),UBAT_LRE:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn),UBAT_RLE:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn),UBAT_LRO:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn),UBAT_RLO:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn),UBAT_PDF:()=>(i.lastArabic=!1,_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn),UBAT_BN:()=>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.ubatOn}[_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.typesNames[a]]()}function J(t){let r,e=0,n=_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.swapTable.length-1;for(;e<=n;)if(r=Math.floor((e+n)/2),t<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.swapTable[r][0])n=r-1;else{if(!(t>_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.swapTable[r][0]))return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.swapTable[r][1];e=r+1}return t}function K(t){for(let r=0;r<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.standAlonForm.length;r++)if(_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.standAlonForm[r]===t)return!0;return!1}function Q(t){for(let r=0;r<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.baseForm.length;r++)if(t===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.baseForm[r])return _bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.medialForm[r];return t}function X(t,r){for(let e=0;e<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.baseForm.length;e++)if(t===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.baseForm[e])return r[e];return t}function tt(t){return t>="ً"&&t<="ٕ"}function rt(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":""}function et(t,r,e,n){for(;r*e<n&&tt(t[r]);)r+=e;return r*e<n&&(t[r]=" ",!0)}function nt(r,e){for(let n=0;n<_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.aLefTable.length;n++)if(r===_bidiEngineTables_js__WEBPACK_IMPORTED_MODULE_0__.aLefTable[n])return e[n];return r}function ot(t,r,e){ut=[],ct=[];for(let n=0;n<e;n++)t[n]=n,r[n]=n,ut[n]=n}function it(t){const r=new Array(t.length);for(let e=0;e<t.length;e++)r[t[e]]=e;return r}function at(t,r,e,n){for(let o=0;o<t.length;o++)(t[o]>r||!e&&t[o]===r)&&(t[o]+=n)}let ut=[],st=[],ct=[];const ft={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},lt=5,ht=6,Tt=0,Lt=1,At=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,dt=/[\u0591-\u06ff\ufb1d-\ufefc]/;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/BidiText.js":
/*!****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/BidiText.js ***!
  \****************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   bidiText: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _BidiEngine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BidiEngine.js */ "./node_modules/@arcgis/core/core/BidiEngine.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=new _BidiEngine_js__WEBPACK_IMPORTED_MODULE_0__["default"];function i(r){if(null==r)return["",!1];if(!n.hasBidiChar(r))return[r,!1];let i;return i="rtl"===n.checkContextual(r)?"IDNNN":"ICNNN",[n.bidiTransform(r,i,"VLYSN"),!0]}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/NestedMap.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/NestedMap.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NestedMap: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){for(const e of this._outer.values())for(const r of e.values())t(r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/PriorityQueue.js":
/*!*********************************************************!*\
  !*** ./node_modules/@arcgis/core/core/PriorityQueue.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t=e){this._data=[],this._compare=t}get size(){return this._data.length}enqueue(t){if(null==t)return;const{_data:e,_compare:n}=this;e.push(t);let l=e.length-1>>>0;const r=e[l];for(;l>0;){const t=l-1>>1,s=e[t];if(!(n(s,r)<=0))break;e[t]=r,e[l]=s,l=t}}dequeue(){const{_data:t,_compare:e}=this,n=t[0],l=t.pop();if(0===t.length)return n;t[0]=l;let r=0;const s=t.length,u=t[0];let a,o,c=null;for(;;){const n=2*r+1,l=2*r+2;if(c=null,n<s&&(a=t[n],e(a,u)>0&&(c=n)),l<s&&(o=t[l],(null===c&&e(o,u)<=0||null!==c&&e(o,a)<=0)&&(c=l)),null===c)break;t[r]=t[c],t[c]=u,r=c}return n}}const e=(t,e)=>t<e?-1:t>e?1:0;


/***/ }),

/***/ "./node_modules/@arcgis/core/core/bidiEngineTables.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/bidiEngineTables.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   aLefTable: function() { return /* binding */ B; },
/* harmony export */   arabicAlefBetIntervalsBegine: function() { return /* binding */ o; },
/* harmony export */   arabicAlefBetIntervalsEnd: function() { return /* binding */ t; },
/* harmony export */   baseForm: function() { return /* binding */ _; },
/* harmony export */   feTo06Table: function() { return /* binding */ O; },
/* harmony export */   finalForm: function() { return /* binding */ E; },
/* harmony export */   impTabLtr: function() { return /* binding */ c; },
/* harmony export */   impTabRtl: function() { return /* binding */ e; },
/* harmony export */   initialForm: function() { return /* binding */ R; },
/* harmony export */   isolatedForm: function() { return /* binding */ L; },
/* harmony export */   lamAlefInialTableFE: function() { return /* binding */ T; },
/* harmony export */   lamAlefMedialTableFE: function() { return /* binding */ U; },
/* harmony export */   medialForm: function() { return /* binding */ N; },
/* harmony export */   primaryTable: function() { return /* binding */ m; },
/* harmony export */   standAlonForm: function() { return /* binding */ S; },
/* harmony export */   swapTable: function() { return /* binding */ A; },
/* harmony export */   tbbase: function() { return /* binding */ l; },
/* harmony export */   typesNames: function() { return /* binding */ k; },
/* harmony export */   ubatAl: function() { return /* binding */ F; },
/* harmony export */   ubatAn: function() { return /* binding */ s; },
/* harmony export */   ubatB: function() { return /* binding */ C; },
/* harmony export */   ubatBn: function() { return /* binding */ j; },
/* harmony export */   ubatCs: function() { return /* binding */ P; },
/* harmony export */   ubatEn: function() { return /* binding */ r; },
/* harmony export */   ubatEs: function() { return /* binding */ W; },
/* harmony export */   ubatEt: function() { return /* binding */ a; },
/* harmony export */   ubatL: function() { return /* binding */ n; },
/* harmony export */   ubatLre: function() { return /* binding */ d; },
/* harmony export */   ubatLro: function() { return /* binding */ h; },
/* harmony export */   ubatNsm: function() { return /* binding */ b; },
/* harmony export */   ubatOn: function() { return /* binding */ x; },
/* harmony export */   ubatPdf: function() { return /* binding */ g; },
/* harmony export */   ubatR: function() { return /* binding */ p; },
/* harmony export */   ubatRle: function() { return /* binding */ f; },
/* harmony export */   ubatRlo: function() { return /* binding */ i; },
/* harmony export */   ubatS: function() { return /* binding */ D; },
/* harmony export */   ubatWs: function() { return /* binding */ M; },
/* harmony export */   unicodeTable: function() { return /* binding */ q; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const A=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],B=["آ","أ","إ","ا"],T=["ﻵ","ﻷ","ﻹ","ﻻ"],U=["ﻶ","ﻸ","ﻺ","ﻼ"],_=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],L=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],E=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],N=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],R=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],S=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],O=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],o=["ء","ف"],t=["غ","ي"],c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],n=0,p=1,r=2,s=3,x=4,C=5,D=6,F=7,M=8,P=9,W=10,a=11,b=12,d=13,f=14,g=15,h=16,i=17,j=18,k=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],l=100,m=[l+0,n,n,n,n,l+1,l+2,l+3,p,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,l+4,x,x,x,n,x,n,x,n,x,x,x,n,n,x,x,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,x,x,n,n,x,x,n,n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,l+5,F,F,l+6,l+7],q=[[j,j,j,j,j,j,j,j,j,D,C,D,M,C,j,j,j,j,j,j,j,j,j,j,j,j,j,j,C,C,C,D,M,x,x,a,a,a,x,x,x,x,x,W,P,W,P,P,r,r,r,r,r,r,r,r,r,r,P,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,j,j,j,j,j,j,C,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,P,x,a,a,a,a,x,x,x,x,n,x,x,j,x,x,a,a,r,r,x,n,x,x,x,r,n,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,n,n,n,n,n,n,n,n],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,n,n,n,n,n,n,n,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,n,x,x,x,x,x,x,x,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,p,b,p,b,b,p,b,b,p,b,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x],[s,s,s,s,x,x,x,x,F,a,a,F,P,F,x,x,b,b,b,b,b,b,b,b,b,b,b,F,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,s,s,s,s,s,s,s,s,s,s,a,s,s,F,F,F,b,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,s,x,b,b,b,b,b,b,F,F,b,b,x,b,b,b,b,F,F,r,r,r,r,r,r,r,r,r,r,F,F,F,F,F,F],[F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,F,F,b,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,F,x,x,x,x,x,x,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,b,b,b,b,b,p,p,x,x,x,x,p,x,x,x,x,x],[M,M,M,M,M,M,M,M,M,M,M,j,j,j,n,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,M,C,d,f,g,h,i,P,a,a,a,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,P,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,M,j,j,j,j,j,x,x,x,x,x,j,j,j,j,j,j,r,n,x,x,r,r,r,r,r,r,W,W,x,x,x,n,r,r,r,r,r,r,r,r,r,r,W,W,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,x,x,x,x,x,p,b,p,p,p,p,p,p,p,p,p,p,W,p,p,p,p,p,p,p,p,p,p,p,p,p,x,p,p,p,p,p,x,p,x,p,p,x,p,p,x,p,p,p,p,p,p,p,p,p,p,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,P,x,P,x,x,P,x,x,x,x,x,x,x,x,x,a,x,x,W,W,x,x,x,x,x,a,a,x,x,x,x,x,F,F,F,F,F,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,x,j],[x,x,x,a,a,a,x,x,x,x,x,W,P,W,P,P,r,r,r,r,r,r,r,r,r,r,P,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,x,x,x,x,x,x,x,x,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,x,x,x,n,n,n,n,n,n,x,x,n,n,n,n,n,n,x,x,n,n,n,n,n,n,x,x,n,n,n,x,x,x,a,a,x,x,x,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];


/***/ }),

/***/ "./node_modules/@arcgis/core/core/devEnvironmentUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/devEnvironmentUtils.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   adjustStaticAGOUrl: function() { return /* binding */ a; },
/* harmony export */   devHostnames: function() { return /* binding */ i; },
/* harmony export */   isDevEnvironment: function() { return /* binding */ c; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function c(c){return c=c||globalThis.location.hostname,i.some((a=>null!=c?.match(a)))}function a(c,a){return c?(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(s)?c.replace("static.arcgis.com","staticdev.arcgis.com"):null!=a.match(o)||null!=a.match(l)?c.replace("static.arcgis.com","staticqa.arcgis.com"):c:c:null}const t=/^devext\.arcgis\.com$/,o=/^qaext\.arcgis\.com$/,s=/^[\w-]*\.mapsdevext\.arcgis\.com$/,l=/^[\w-]*\.mapsqa\.arcgis\.com$/,i=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,t,o,/^jsapps\.esri\.com$/,s,l];


/***/ }),

/***/ "./node_modules/@arcgis/core/core/fontUtils.js":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/core/fontUtils.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearFonts: function() { return /* binding */ a; },
/* harmony export */   defaultFontFamily: function() { return /* binding */ t; },
/* harmony export */   getFontFamily: function() { return /* binding */ u; },
/* harmony export */   getFullyQualifiedFontName: function() { return /* binding */ f; },
/* harmony export */   isCachedFontFace: function() { return /* binding */ i; },
/* harmony export */   loadFont: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config.js */ "./node_modules/@arcgis/core/config.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t="arial-unicode-ms",n="woff2",r=new Map,o=new Set;class s{constructor(e,t){this.fontFace=e,this.promise=t}}async function c(t){const c=l(t),a=f(t),i=r.get(c);if(i)return i.promise;const u=new FontFace(t.family,`url('${_config_js__WEBPACK_IMPORTED_MODULE_0__["default"].fontsUrl}/woff2/${a}.${n}') format('${n}')`,{style:t.style,weight:t.weight}),d=document.fonts;if(d.has(u)&&"loading"===u.status)return u.loaded;const h=u.load().then((()=>(d.add(u),u)));return r.set(c,new s(u,h)),o.add(u),h}function a(){const e=document.fonts;r.forEach((t=>{e.delete(t.fontFace)})),r.clear(),o.clear()}function i(e){return o.has(e)}function u(e){if(!e)return t;const n=e.toLowerCase().split(" ").join("-");switch(n){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return n}}function f(e){const t=d(e)+h(e);return u(e.family)+(t.length>0?t:"-regular")}function l(e){const n=d(e)+h(e);return(e.family||t)+(n.length>0?n:"-regular")}function d(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function h(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/imageUtils.js":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/imageUtils.js ***!
  \******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createEmptyImageData: function() { return /* binding */ s; },
/* harmony export */   getImageData: function() { return /* binding */ p; },
/* harmony export */   wrapImageData: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _support_base64Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../support/base64Utils.js */ "./node_modules/@arcgis/core/support/base64Utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let i=null,o=!0;function s(t,e,r){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(o)try{return new ImageData(t,e)}catch(a){o=!1}return m(t,e,r)}function c(t,e,r,a){if(!e||!r)throw new Error("Cannot construct image data without dimensions");if(o)try{return new ImageData(t,e,r)}catch(i){o=!1}const n=m(e,r,a);return n.data.set(t,0),n}function f(){return i||(i=document.createElement("canvas"),i.width=1,i.height=1),i}function m(t,e,r){return r||(r=f()),r.getContext("2d").createImageData(t,e)}async function u(a,n){const i=window.URL.createObjectURL(a);try{const{data:e}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(i,{...n,responseType:"image"});return e}catch(o){if(!(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.isAbortError)(o))throw new _Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("invalid-image",`Could not fetch requested image at ${i}`);throw o}finally{window.URL.revokeObjectURL(i)}}async function p(t,e){const{arrayBuffer:r,mediaType:a}=await d(t,e),n="image/png"===a;if("image/gif"===a){const{isAnimatedGIF:t,parseGif:a}=await __webpack_require__.e(/*! import() | image-gif */ "image-gif").then(__webpack_require__.bind(__webpack_require__, /*! ./image/gif.js */ "./node_modules/@arcgis/core/core/image/gif.js"));if(t(r))return a(r,e)}if(n){const{isAnimatedPNG:t,parseApng:a}=await __webpack_require__.e(/*! import() | image-apng */ "image-apng").then(__webpack_require__.bind(__webpack_require__, /*! ./image/apng.js */ "./node_modules/@arcgis/core/core/image/apng.js"));if(t(r))return a(r,e)}return u(new Blob([r],{type:a}),e)}async function d(e,r){const i=(0,_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.dataComponents)(e);if(i?.isBase64)return{arrayBuffer:(0,_support_base64Utils_js__WEBPACK_IMPORTED_MODULE_4__.base64ToArrayBuffer)(i.data),mediaType:i.mediaType};const o=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(e,{responseType:"array-buffer",...r});return{arrayBuffer:o.data,mediaType:o.getHeader?.("Content-Type")??""}}


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df32.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df32.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clone: function() { return /* binding */ t; },
/* harmony export */   create: function() { return /* binding */ n; },
/* harmony export */   createView: function() { return /* binding */ e; },
/* harmony export */   fromValues: function() { return /* binding */ r; },
/* harmony export */   m: function() { return /* binding */ c; },
/* harmony export */   transform: function() { return /* binding */ o; },
/* harmony export */   transformMany: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(){const n=new Float32Array(6);return n[0]=1,n[3]=1,n}function t(n){const t=new Float32Array(6);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function r(n,t,r,e,o,a){const c=new Float32Array(6);return c[0]=n,c[1]=t,c[2]=r,c[3]=e,c[4]=o,c[5]=a,c}function e(n,t){return new Float32Array(n,t,6)}function o(n,t,r,e){const o=t[e],a=t[e+1];n[e]=r[0]*o+r[2]*a+r[4],n[e+1]=r[1]*o+r[3]*a+r[5]}function a(n,t,r,e=0,a=0,c=2){const u=a||t.length/c;for(let l=e;l<u;l++){o(n,t,r,l*c)}}const c=Object.freeze(Object.defineProperty({__proto__:null,clone:t,create:n,createView:e,fromValues:r,transform:o,transformMany:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clone: function() { return /* binding */ r; },
/* harmony export */   create: function() { return /* binding */ e; },
/* harmony export */   createView: function() { return /* binding */ n; },
/* harmony export */   fromValues: function() { return /* binding */ t; },
/* harmony export */   m: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(){return[1,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function t(e,r,t,n){return[e,r,t,n]}function n(e,r){return new Float64Array(e,r,4)}const o=Object.freeze(Object.defineProperty({__proto__:null,clone:r,create:e,createView:n,fromValues:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LDU: function() { return /* binding */ m; },
/* harmony export */   add: function() { return /* binding */ d; },
/* harmony export */   adjoint: function() { return /* binding */ e; },
/* harmony export */   copy: function() { return /* binding */ n; },
/* harmony export */   determinant: function() { return /* binding */ c; },
/* harmony export */   equals: function() { return /* binding */ x; },
/* harmony export */   exactEquals: function() { return /* binding */ y; },
/* harmony export */   frob: function() { return /* binding */ b; },
/* harmony export */   fromRotation: function() { return /* binding */ l; },
/* harmony export */   fromScaling: function() { return /* binding */ M; },
/* harmony export */   identity: function() { return /* binding */ r; },
/* harmony export */   invert: function() { return /* binding */ o; },
/* harmony export */   m: function() { return /* binding */ q; },
/* harmony export */   mul: function() { return /* binding */ _; },
/* harmony export */   multiply: function() { return /* binding */ s; },
/* harmony export */   multiplyScalar: function() { return /* binding */ S; },
/* harmony export */   multiplyScalarAndAdd: function() { return /* binding */ j; },
/* harmony export */   rotate: function() { return /* binding */ i; },
/* harmony export */   scale: function() { return /* binding */ f; },
/* harmony export */   set: function() { return /* binding */ a; },
/* harmony export */   str: function() { return /* binding */ h; },
/* harmony export */   sub: function() { return /* binding */ g; },
/* harmony export */   subtract: function() { return /* binding */ p; },
/* harmony export */   transpose: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/common.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function a(t,n,r,a,u){return t[0]=n,t[1]=r,t[2]=a,t[3]=u,t}function u(t,n){if(t===n){const r=n[1];t[1]=n[2],t[2]=r}else t[0]=n[0],t[1]=n[2],t[2]=n[1],t[3]=n[3];return t}function o(t,n){const r=n[0],a=n[1],u=n[2],o=n[3];let e=r*o-u*a;return e?(e=1/e,t[0]=o*e,t[1]=-a*e,t[2]=-u*e,t[3]=r*e,t):null}function e(t,n){const r=n[0];return t[0]=n[3],t[1]=-n[1],t[2]=-n[2],t[3]=r,t}function c(t){return t[0]*t[3]-t[2]*t[1]}function s(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3];return t[0]=a*c+o*s,t[1]=u*c+e*s,t[2]=a*i+o*f,t[3]=u*i+e*f,t}function i(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=Math.sin(r),s=Math.cos(r);return t[0]=a*s+o*c,t[1]=u*s+e*c,t[2]=a*-c+o*s,t[3]=u*-c+e*s,t}function f(t,n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1];return t[0]=a*c,t[1]=u*c,t[2]=o*s,t[3]=e*s,t}function l(t,n){const r=Math.sin(n),a=Math.cos(n);return t[0]=a,t[1]=r,t[2]=-r,t[3]=a,t}function M(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t}function h(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function b(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2)}function m(t,n,r,a){return t[2]=a[2]/a[0],r[0]=a[0],r[1]=a[1],r[3]=a[3]-t[2]*r[1],[t,n,r]}function d(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t[3]=n[3]+r[3],t}function p(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t[3]=n[3]-r[3],t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(n,r){const a=n[0],u=n[1],o=n[2],e=n[3],c=r[0],s=r[1],i=r[2],f=r[3],l=(0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getEpsilon)();return Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(u-s)<=l*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(o-i)<=l*Math.max(1,Math.abs(o),Math.abs(i))&&Math.abs(e-f)<=l*Math.max(1,Math.abs(e),Math.abs(f))}function S(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t}function j(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t[3]=n[3]+r[3]*a,t}const _=s,g=p,q=Object.freeze(Object.defineProperty({__proto__:null,LDU:m,add:d,adjoint:e,copy:n,determinant:c,equals:x,exactEquals:y,frob:b,fromRotation:l,fromScaling:M,identity:r,invert:o,mul:_,multiply:s,multiplyScalar:S,multiplyScalarAndAdd:j,rotate:i,scale:f,set:a,str:h,sub:g,subtract:p,transpose:u},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2d.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2d.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   add: function() { return /* binding */ m; },
/* harmony export */   copy: function() { return /* binding */ n; },
/* harmony export */   determinant: function() { return /* binding */ o; },
/* harmony export */   equals: function() { return /* binding */ S; },
/* harmony export */   exactEquals: function() { return /* binding */ y; },
/* harmony export */   frob: function() { return /* binding */ l; },
/* harmony export */   fromRotation: function() { return /* binding */ M; },
/* harmony export */   fromScaling: function() { return /* binding */ h; },
/* harmony export */   fromTranslation: function() { return /* binding */ f; },
/* harmony export */   identity: function() { return /* binding */ a; },
/* harmony export */   invert: function() { return /* binding */ u; },
/* harmony export */   m: function() { return /* binding */ j; },
/* harmony export */   mul: function() { return /* binding */ _; },
/* harmony export */   multiply: function() { return /* binding */ e; },
/* harmony export */   multiplyScalar: function() { return /* binding */ p; },
/* harmony export */   multiplyScalarAndAdd: function() { return /* binding */ x; },
/* harmony export */   rotate: function() { return /* binding */ s; },
/* harmony export */   scale: function() { return /* binding */ c; },
/* harmony export */   set: function() { return /* binding */ r; },
/* harmony export */   str: function() { return /* binding */ b; },
/* harmony export */   sub: function() { return /* binding */ g; },
/* harmony export */   subtract: function() { return /* binding */ d; },
/* harmony export */   translate: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _common_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/common.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function a(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function r(t,n,a,r,u,o,e){return t[0]=n,t[1]=a,t[2]=r,t[3]=u,t[4]=o,t[5]=e,t}function u(t,n){const a=n[0],r=n[1],u=n[2],o=n[3],e=n[4],s=n[5];let c=a*o-r*u;return c?(c=1/c,t[0]=o*c,t[1]=-r*c,t[2]=-u*c,t[3]=a*c,t[4]=(u*s-o*e)*c,t[5]=(r*e-a*s)*c,t):null}function o(t){return t[0]*t[3]-t[1]*t[2]}function e(t,n,a){const r=n[0],u=n[1],o=n[2],e=n[3],s=n[4],c=n[5],i=a[0],M=a[1],h=a[2],f=a[3],b=a[4],l=a[5];return t[0]=r*i+o*M,t[1]=u*i+e*M,t[2]=r*h+o*f,t[3]=u*h+e*f,t[4]=r*b+o*l+s,t[5]=u*b+e*l+c,t}function s(t,n,a){const r=n[0],u=n[1],o=n[2],e=n[3],s=n[4],c=n[5],i=Math.sin(a),M=Math.cos(a);return t[0]=r*M+o*i,t[1]=u*M+e*i,t[2]=r*-i+o*M,t[3]=u*-i+e*M,t[4]=s,t[5]=c,t}function c(t,n,a){const r=n[0],u=n[1],o=n[2],e=n[3],s=n[4],c=n[5],i=a[0],M=a[1];return t[0]=r*i,t[1]=u*i,t[2]=o*M,t[3]=e*M,t[4]=s,t[5]=c,t}function i(t,n,a){const r=n[0],u=n[1],o=n[2],e=n[3],s=n[4],c=n[5],i=a[0],M=a[1];return t[0]=r,t[1]=u,t[2]=o,t[3]=e,t[4]=r*i+o*M+s,t[5]=u*i+e*M+c,t}function M(t,n){const a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=-a,t[3]=r,t[4]=0,t[5]=0,t}function h(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=n[1],t[4]=0,t[5]=0,t}function f(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=n[0],t[5]=n[1],t}function b(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function l(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function m(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t}function d(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t}function p(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t}function x(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t[4]=n[4]+a[4]*r,t[5]=n[5]+a[5]*r,t}function y(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]}function S(n,a){const r=n[0],u=n[1],o=n[2],e=n[3],s=n[4],c=n[5],i=a[0],M=a[1],h=a[2],f=a[3],b=a[4],l=a[5],m=(0,_common_js__WEBPACK_IMPORTED_MODULE_0__.getEpsilon)();return Math.abs(r-i)<=m*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(u-M)<=m*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(o-h)<=m*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(e-f)<=m*Math.max(1,Math.abs(e),Math.abs(f))&&Math.abs(s-b)<=m*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-l)<=m*Math.max(1,Math.abs(c),Math.abs(l))}const _=e,g=d,j=Object.freeze(Object.defineProperty({__proto__:null,add:m,copy:n,determinant:o,equals:S,exactEquals:y,frob:l,fromRotation:M,fromScaling:h,fromTranslation:f,identity:a,invert:u,mul:_,multiply:e,multiplyScalar:p,multiplyScalarAndAdd:x,rotate:s,scale:c,set:r,str:b,sub:g,subtract:d,translate:i},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isMat4: function() { return /* binding */ t; },
/* harmony export */   isMat4f32: function() { return /* binding */ n; },
/* harmony export */   isMat4f64: function() { return /* binding */ r; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/GeometryCursor.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/GeometryCursor.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeometryCursor: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./geometryCursorCollectUtils.js */ "./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js");
/* harmony import */ var _support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layers/graphics/OptimizedGeometry.js */ "./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{static fromOptimized(t,e,s=!1,i=!1,h=1){return(new p).initialize(t,e,s,i,h)}static fromJSON(t,e=!1,s=!1){const[i,h]=u(t);return(new c).initialize(i,h,e,s,1)}static fromOptimizedCIM(t,e,s=!1,i=!1,h=1){return(new y).initialize(t,e,s,i,h)}static fromJSONCIM(t,e=!1,s=!1,i=1){const[h,r]=u(t);return(new m).initialize(h,r,e,s,i)}static fromFeatureSetReader(t){const e=t.readGeometryForDisplay(),s=t.geometryType;return e&&s?this.fromOptimized(e,s):null}static fromFeatureSetReaderCIM(t){const e=t.readGeometryForDisplay(),s=t.geometryType;return e&&s?this.fromOptimizedCIM(e,s):null}static createEmptyOptimized(t,e=!1,s=!1,i=1){return(new p).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],t,e,s,i)}static createEmptyJSON(t,e=!1,s=!1){return(new c).initialize([],t,e,s,1)}static createEmptyOptimizedCIM(t,e=!1,s=!1,i=1){return(new y).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"],t,e,s,i)}static createEmptyJSONCIM(t,e=!1,s=!1,i=1){return(new m).initialize([],t,e,s,i)}asJSON(){const t=(0,_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectMultipath)(this);return"esriGeometryEnvelope"===this.geometryType?{xmin:t[0][0][0],ymin:t[0][0][1],xmax:t[0][2][0],ymax:t[0][2][1]}:"esriGeometryMultipoint"===this.geometryType?{points:t.flat()}:"esriGeometryPoint"===this.geometryType?{x:t[0][0][0],y:t[0][0][1]}:"esriGeometryPolygon"===this.geometryType?{rings:t}:{paths:t}}getCurrentRingArea(){if(this.pathSize<3)return 0;let t,e,s=0;if(this.seekPathStart(),!this.nextPoint())return 0;t=this.x,e=this.y;const i=t,h=e;for(;this.nextPoint();)s+=(t-this.x)*(e+this.y),t=this.x,e=this.y;return s+=(t-i)*(e+h),-.5*s}invertY(){this.yFactor*=-1}}class p extends a{constructor(){super(...arguments),this._end=-1}initialize(t,e,s,i,h){return this.hasZ=s,this.hasM=i,this.geometryType=e,this._stride=2+Number(s)+Number(i),this._geometry=t,this._pathIndex=-1,this._pathOffset=0,this._pointOffset=-this._stride,this._end=-1,this.yFactor=h,this}reset(){this.initialize(this._geometry,this.geometryType,this.hasZ,this.hasM,this.yFactor)}seekPath(t){if(t>=0&&t<this.totalSize){if(this._pathIndex<t)for(;this._pathIndex<t&&this.nextPath(););else if(this._pathIndex>t)for(;this._pathIndex>t&&this.prevPath(););return!0}return!1}seekPathStart(){this._pointOffset=this._pathOffset-this._stride}seekPathEnd(){this._pointOffset=this._end}seekInPath(t){const e=this._pathOffset+t*this._stride;return e>=0&&e<this._end&&(this._pointOffset=e,!0)}nextPoint(){return(this._pointOffset+=this._stride)<this._end}prevPoint(){return(this._pointOffset-=this._stride)>=this._pathOffset}nextPath(){return!(this.pathIndex>=this.totalSize-1)&&(this._pathIndex>=0&&(this._pathOffset+=this._stride*this.pathSize),this._pathIndex++,this._pointOffset=this._pathOffset-this._stride,this._end=this._pointOffset+this._stride+this._stride*this.pathSize,!0)}prevPath(){return!(this.pathIndex<=0)&&(this._pathIndex--,this._end=this._pathOffset,this._pathOffset-=this._stride*this.pathSize,this._pointOffset=this._pathOffset-this._stride,!0)}getCurrentPath(){const t=this._end,e=this._geometry.coords,s=this._pathOffset;return(new p).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"]([this.pathSize],e.slice(s,t)),this.geometryType,this.hasZ,this.hasM,this.yFactor)}pathLength(){const t=this._end,e=this._stride,s=this._geometry.coords;let i=0;for(let h=this._pathOffset+e;h<t;h+=e){const t=s[h-e],r=s[h-e+1],n=s[h]-t,o=s[h+1]-r;i+=Math.sqrt(n*n+o*o)}return i}startPath(){this._geometry.lengths.push(0)}pushPath(t){this.startPath(),this.pushPoints(t)}pushPoint(t){for(let e=0;e<this._stride;++e)this._geometry.coords.push(t[e]);this._geometry.lengths[this.totalSize-1]++}pushXY(t,e){this._geometry.coords.push(t,e),this._geometry.lengths[this.totalSize-1]++}pushPoints(t){for(const e of t)for(let t=0;t<this._stride;++t)this._geometry.coords.push(e[t]);this._geometry.lengths[this.totalSize-1]+=t.length}pushCursor(t){const e=t.asOptimized();this._geometry.coords.push(...e.coords),this._geometry.lengths.push(...e.lengths)}asOptimized(){const t=this._geometry.clone();if(1!==this.yFactor)for(let e=1;e<t.coords.length;e+=this._stride)t.coords[e]*=this.yFactor;return"esriGeometryPoint"===this.geometryType&&(t.lengths.length=0),t}isClosed(){const t=this._geometry.coords,e=this._pathOffset,s=this._end-this._stride;for(let i=0;i<this._stride;i++)if(t[e+i]!==t[s+i])return!1;return!0}clone(){return(new p).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._geometry.isPoint?1:this._geometry.lengths.reduce(((t,e)=>t+e))}get pathSize(){const{lengths:t}=this._geometry;return this._geometry.isPoint?1:this._pathIndex<0||this._pathIndex>t.length-1?0:t[this._pathIndex]}get totalSize(){return this._geometry.isPoint?1:this._geometry.lengths.length}get x(){return this._geometry.coords[this._pointOffset]}set x(t){this._geometry.coords[this._pointOffset]=t}get y(){return this.yFactor*this._geometry.coords[this._pointOffset+1]}set y(t){this._geometry.coords[this._pointOffset+1]=this.yFactor*t}get z(){return this._geometry.coords[this._pointOffset+2]}set z(t){this._geometry.coords[this._pointOffset+2]=t}get m(){const t=this.hasZ?3:2;return this._geometry.coords[this._pointOffset+t]}set m(t){this._geometry.coords[this._pointOffset+3]=t}get pathIndex(){return this._pathIndex}get _coordIndex(){return this._pointOffset/this._stride}}function _(t){const e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e}function u(t){return (0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPolygon)(t)?[t.rings,"esriGeometryPolygon"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPolyline)(t)?[t.paths,"esriGeometryPolyline"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isMultipoint)(t)?[[t.points],"esriGeometryMultipoint"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isExtent)(t)?[[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]],"esriGeometryEnvelope"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_2__.isPoint)(t)?[[[_(t)]],"esriGeometryPoint"]:[[],"esriGeometryPolyline"]}class c extends a{initialize(t,e,s,i,h){return this._paths=t,this.geometryType=e,this.hasZ=s,this.hasM=i,this._pathIndex=this._pointIndex=-1,this.yFactor=h,this._mIndex=this.hasZ?3:2,this}reset(){this._pathIndex=this._pointIndex=-1}seekPath(t){return this._pathIndex=t,this._pointIndex=-1,t>=0&&t<this.totalSize&&(this._currentPath=this._paths[t],!0)}seekPathStart(){this._pointIndex=-1}seekPathEnd(){this._pointIndex=this._currentPath.length}seekInPath(t){return t>=0&&t<this._currentPath.length&&(this._pointIndex=t,this._currentPoint=this._currentPath[this._pointIndex],!0)}nextPoint(){return this._currentPoint=this._currentPath[++this._pointIndex],this._pointIndex<this._currentPath.length}prevPoint(){return this._currentPoint=this._currentPath[--this._pointIndex],this._pointIndex>=0}nextPath(){return this._pointIndex=-1,this._currentPath=this._paths[++this._pathIndex],this._pathIndex<this.totalSize}prevPath(){return this.pathIndex>0&&(this._pointIndex=-1,this._pathIndex--,this._currentPath=this._paths[this._pathIndex],!0)}pathLength(){const t=this._currentPath.length,e=this._currentPath;let s=0;for(let i=1;i<t;i++){const t=e[i-1],h=e[i],r=t[0],n=t[1],o=h[0]-r,a=h[1]-n;s+=Math.sqrt(o*o+a*a)}return s}startPath(){this._paths.push([])}getCurrentPath(){return(new c).initialize([this._currentPath],this.geometryType,this.hasZ,this.hasM,this.yFactor)}pushPath(t){this._paths.push(t)}pushPoint(t){this._paths[this.totalSize-1].push(t)}pushXY(t,e){this._paths[this.totalSize-1].push([t,e])}pushPoints(t){this._paths[this.totalSize-1].push(...t)}pushCursor(t){const s=(0,_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectMultipath)(t);for(const e of s)this.pushPath(e)}asOptimized(){const t=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_3__["default"];if("esriGeometryPoint"===this.geometryType)t.coords.push(...this._paths[0][0]),t.lengths.length=0;else for(const e of this._paths){for(const s of e)t.coords.push(s[0]),t.coords.push(s[1]*this.yFactor),this.hasZ&&t.coords.push(s[2]),this.hasM&&t.coords.push(s[this._mIndex]);t.lengths.push(e.length)}return t}isClosed(){const t=this._currentPath[0],e=this._currentPath[this._currentPath.length-1];for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}clone(){return(new c).initialize((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._paths.map((t=>t.length)).reduce(((t,e)=>t+e))}get pathSize(){return this._pathIndex<0||this._pathIndex>this.totalSize-1?-1:this._paths[this._pathIndex].length}get totalSize(){return this._paths.length}get x(){return this._currentPoint[0]}set x(t){this._currentPoint[0]=t}get y(){return this.yFactor*this._currentPoint[1]}set y(t){this._currentPoint[1]=this.yFactor*t}get z(){return this._currentPoint[2]}set z(t){this._currentPoint[2]=t}get m(){return this._currentPoint[this._mIndex]}set m(t){this._currentPoint[this._mIndex]=t}get pathIndex(){return this._pathIndex}}const d=4,l=1;class y extends p{initialize(t,e,s,i,h){return super.initialize(t,e,s,i,h),this._controlPoints||(this._controlPoints=this._controlPoints=new Array(this.totalSize).fill(void 0).map((t=>new Set))),this}startPath(){super.startPath(),this._controlPoints.push(new Set)}clone(){const t=(new y).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor);return t._controlPoints=this._controlPoints,t}setControlPoint(){this._controlPoints[this.pathIndex].add(this._coordIndex)}getControlPoint(){return this._controlPoints[this.pathIndex].has(this._coordIndex)}setControlPointAt(t){this._controlPoints[this.pathIndex].add(t)}getControlPointAt(t){return this._controlPoints[this.pathIndex].has(t)}}class m extends c{initialize(t,e,s,i,h){return super.initialize(t,e,s,i,h)}clone(){return(new m).initialize((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__.clone)(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}setControlPoint(){this._paths[this.pathIndex][this._pointIndex][d]=l}getControlPoint(){return this._paths[this.pathIndex][this._pointIndex][d]===l}setControlPointAt(t){this._paths[this.pathIndex][t][d]=l}getControlPointAt(t){return this._paths[this.pathIndex][t][d]===l}}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   projectVectorToPoint: function() { return /* binding */ t; },
/* harmony export */   projectVectorToPointAsync: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _projection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./projectVectorToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(r,e,t){return!!(0,_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_2__.projectVectorToVector)(r,e,i,t.spatialReference)&&(t.x=i[0],t.y=i[1],t.z=i[2],!0)}async function c(r,o,c,i){return await (0,_projection_js__WEBPACK_IMPORTED_MODULE_1__.initializeProjection)(o,c.spatialReference,null,i),t(r,o,c)}const i=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/MeshComponent.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshComponent.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _MeshMaterial_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MeshMaterial.js */ "./node_modules/@arcgis/core/geometry/support/MeshMaterial.js");
/* harmony import */ var _MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MeshMaterialMetallicRoughness.js */ "./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js");
/* harmony import */ var _meshProperties_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./meshProperties.js */ "./node_modules/@arcgis/core/geometry/support/meshProperties.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var u;let h=u=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{static from(t){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__.ensureClass)(u,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return (0,_meshProperties_js__WEBPACK_IMPORTED_MODULE_10__.castArray)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger(this))}castMaterial(t){return (0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__.ensureClass)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?_MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_9__["default"]:_MeshMaterial_js__WEBPACK_IMPORTED_MODULE_8__["default"],t)}clone(){return new u({faces:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(this.faces),shading:this.shading,material:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,r){const s={faces:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,r):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new u(s)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({json:{write:_meshProperties_js__WEBPACK_IMPORTED_MODULE_10__.writeTypedArray}})],h.prototype,"faces",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__.cast)("faces")],h.prototype,"castFaces",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:_MeshMaterial_js__WEBPACK_IMPORTED_MODULE_8__["default"],json:{write:!0}})],h.prototype,"material",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__.cast)("material")],h.prototype,"castMaterial",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({json:{write:!0}})],h.prototype,"name",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:!0}})],h.prototype,"shading",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean})],h.prototype,"trustSourceNormals",void 0),h=u=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.geometry.support.MeshComponent")],h);const f=h;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/MeshMaterial.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshMaterial.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MeshTexture.js */ "./node_modules/@arcgis/core/geometry/support/MeshTexture.js");
/* harmony import */ var _MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MeshTextureTransform.js */ "./node_modules/@arcgis/core/geometry/support/MeshTextureTransform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var n;let u=n=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport{constructor(o){super(o),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(o,r){const e=null!=o?o.get(this):null;if(e)return e;const t=new n(this.clonePropertiesWithDeduplication(r));return null!=o&&o.set(this,t),t}clonePropertiesWithDeduplication(o){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(o),normalTexture:this.normalTexture?.cloneWithDeduplication(o),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let o=0;return o+=null!=this.color?16:0,null!=this.colorTexture&&(o+=this.colorTexture.memoryUsage),o+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(o+=this.normalTexture.memoryUsage),o+=null!=this.normalTextureTransform?20:0,o}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{write:!0}})],u.prototype,"color",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:_MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__["default"],json:{write:!0}})],u.prototype,"colorTexture",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__["default"],json:{write:!0}})],u.prototype,"colorTextureTransform",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:_MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__["default"],json:{write:!0}})],u.prototype,"normalTexture",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__["default"],json:{write:!0}})],u.prototype,"normalTextureTransform",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({nonNullable:!0,json:{write:!0}})],u.prototype,"alphaMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({nonNullable:!0,json:{write:!0}})],u.prototype,"alphaCutoff",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({nonNullable:!0,json:{write:!0}})],u.prototype,"doubleSided",void 0),u=n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.geometry.support.MeshMaterial")],u);const a=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _MeshMaterial_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MeshMaterial.js */ "./node_modules/@arcgis/core/geometry/support/MeshMaterial.js");
/* harmony import */ var _MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MeshTexture.js */ "./node_modules/@arcgis/core/geometry/support/MeshTexture.js");
/* harmony import */ var _MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MeshTextureTransform.js */ "./node_modules/@arcgis/core/geometry/support/MeshTextureTransform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var n;let u=n=class extends _MeshMaterial_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(e){super(e),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,s){const o=null!=e?e.get(this):null;if(o)return o;const t=new n(this.clonePropertiesWithDeduplication(s));return null!=e&&e.set(this,t),t}getMemoryUsage(){let e=super.getMemoryUsage();return e+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(e+=this.emissiveTexture.memoryUsage),e+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(e+=this.occlusionTexture.memoryUsage),e+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(e+=this.metallicRoughnessTexture.memoryUsage),e+=null!=this.metallicRoughnessTextureTransform?20:0,e}clonePropertiesWithDeduplication(e){return{...super.clonePropertiesWithDeduplication(e),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(e),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(e),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(e),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_Color_js__WEBPACK_IMPORTED_MODULE_1__["default"],json:{write:!0}})],u.prototype,"emissiveColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__["default"],json:{write:!0}})],u.prototype,"emissiveTexture",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__["default"],json:{write:!0}})],u.prototype,"emissiveTextureTransform",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__["default"],json:{write:!0}})],u.prototype,"occlusionTexture",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__["default"],json:{write:!0}})],u.prototype,"occlusionTextureTransform",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],u.prototype,"metallic",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],u.prototype,"roughness",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_MeshTexture_js__WEBPACK_IMPORTED_MODULE_8__["default"],json:{write:!0}})],u.prototype,"metallicRoughnessTexture",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_9__["default"],json:{write:!0}})],u.prototype,"metallicRoughnessTextureTransform",void 0),u=n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__.subclass)("esri.geometry.support.MeshMaterialMetallicRoughness")],u);const m=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/MeshTexture.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshTexture.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ w; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_imageUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/imageUtils.js */ "./node_modules/@arcgis/core/core/imageUtils.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "./node_modules/@arcgis/core/core/accessorSupport/ensureType.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/reader.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/writer.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js");
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../chunks/persistableUrlUtils.js */ "./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var p;const h=new WeakMap;let d=0,u=p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.JSONSupport{constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,a,r){if(t instanceof HTMLImageElement){const s={type:"image-element",src:(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_10__.t)(t.src,r),crossOrigin:t.crossOrigin};e[a]=s}else if(t instanceof HTMLCanvasElement){const r={type:"canvas-element",imageData:m(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[a]=r}else if(t instanceof HTMLVideoElement){const s={type:"video-element",src:(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_10__.t)(t.src,r),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[a]=s}else if(t instanceof ImageData){const r={type:"image-data",imageData:m(t)};e[a]=r}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=g(t.imageData),a=document.createElement("canvas");return a.width=e.width,a.height=e.height,a.getContext("2d").putImageData(e,0,0),a}case"image-data":return g(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this;return t instanceof HTMLCanvasElement?f(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?f(t):!(!e?.toLowerCase().endsWith(".png")&&!e?.toLocaleLowerCase().startsWith("data:image/png;"))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){const t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",e=(e="")=>`d:${e},t:${this.transparent},w:${t}`;return null!=this.url?e(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?e(this.data.src):(h.has(this.data)||h.set(this.data,++d),e(h.get(this.data))):e()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,wrap:this._cloneWrap()};return new p(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const a=this.clone();return t.set(this,a),a}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new p({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new p({data:t}):(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__.ensureClass)(p,t)}};function m(t){let e="";for(let a=0;a<t.data.length;a++)e+=String.fromCharCode(t.data[a]);return{data:btoa(e),width:t.width,height:t.height}}function g(t){const a=atob(t.data),r=new Uint8ClampedArray(a.length);for(let e=0;e<a.length;e++)r[e]=a.charCodeAt(e);return (0,_core_imageUtils_js__WEBPACK_IMPORTED_MODULE_2__.wrapImageData)(r,t.width,t.height)}function f(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:String,json:{write:_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_10__.w}})],u.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],u.prototype,"data",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_9__.writer)("data")],u.prototype,"writeData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.reader)("data")],u.prototype,"readData",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],u.prototype,"transparent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({json:{write:!0}})],u.prototype,"wrap",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],u.prototype,"contentHash",null),u=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.geometry.support.MeshTexture")],u);const w=u;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/MeshTextureTransform.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/MeshTextureTransform.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Clonable.js */ "./node_modules/@arcgis/core/core/Clonable.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let p=class extends((0,_core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__.ClonableMixin)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.JSONSupport)){constructor(o){super(o),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"offset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,"rotation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.property)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"scale",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.geometry.support.MeshTextureTransform")],p);const c=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/TileClipper.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/TileClipper.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GeometryType: function() { return /* binding */ i; },
/* harmony export */   Point: function() { return /* binding */ h; },
/* harmony export */   SimpleBuilder: function() { return /* binding */ _; },
/* harmony export */   TileClipper: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t=512;var i,s;!function(t){t[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon"}(i||(i={}));class h{constructor(t,i){this.x=t,this.y=i}clone(){return new h(this.x,this.y)}equals(t,i){return t===this.x&&i===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,i){return this.x=t,this.y=i,this}normalize(){const t=this.x,i=this.y,s=Math.sqrt(t*t+i*i);return this.x/=s,this.y/=s,this}rightPerpendicular(){const t=this.x;return this.x=this.y,this.y=-t,this}leftPerpendicular(){const t=this.x;return this.x=-this.y,this.y=t,this}move(t,i){return this.x+=t,this.y+=i,this}assign(t){return this.x=t.x,this.y=t.y,this}assignAdd(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this}assignSub(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}rotate(t,i){const s=this.x,h=this.y;return this.x=s*t-h*i,this.y=s*i+h*t,this}scale(t){return this.x*=t,this.y*=t,this}length(){const t=this.x,i=this.y;return Math.sqrt(t*t+i*i)}sub(t){return this.x-=t.x,this.y-=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}static distance(t,i){const s=i.x-t.x,h=i.y-t.y;return Math.sqrt(s*s+h*h)}static add(t,i){return new h(t.x+i.x,t.y+i.y)}static sub(t,i){return new h(t.x-i.x,t.y-i.y)}}class n{constructor(t,i,s){this.ratio=t,this.x=i,this.y=s}}class e{constructor(i,s,h,n=8,e=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=n,this._pixelMargin=e,this._tileSize=t*n,this._dz=i,this._yPos=s,this._xPos=h}setPixelMargin(t){t!==this._pixelMargin&&(this._pixelMargin=t,this.setExtent(this._extent))}setExtent(t){this._extent=t,this._finalRatio=this._tileSize/t*(1<<this._dz);let i=this._pixelRatio*this._pixelMargin;i/=this._finalRatio;const s=t>>this._dz;i>s&&(i=s),this._margin=i,this._xmin=s*this._xPos-i,this._ymin=s*this._yPos-i,this._xmax=this._xmin+s+2*i,this._ymax=this._ymin+s+2*i}reset(t){this._type=t,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(t,i){this._pushLine(),this._prevIsIn=this._isIn(t,i),this._moveTo(t,i,this._prevIsIn),this._prevPt=new h(t,i),this._firstPt=new h(t,i),this._dist=0}lineTo(t,i){const s=this._isIn(t,i),e=new h(t,i),_=h.distance(this._prevPt,e);let x,l,y,a,r,o,u,m;if(s)this._prevIsIn?this._lineTo(t,i,!0):(x=this._prevPt,l=e,y=this._intersect(l,x),this._start=this._dist+_*(1-this._r),this._lineTo(y.x,y.y,!0),this._lineTo(l.x,l.y,!0));else if(this._prevIsIn)l=this._prevPt,x=e,y=this._intersect(l,x),this._lineTo(y.x,y.y,!0),this._lineTo(x.x,x.y,!1);else{const t=this._prevPt,i=e;if(t.x<=this._xmin&&i.x<=this._xmin||t.x>=this._xmax&&i.x>=this._xmax||t.y<=this._ymin&&i.y<=this._ymin||t.y>=this._ymax&&i.y>=this._ymax)this._lineTo(i.x,i.y,!1);else{const s=[];if((t.x<this._xmin&&i.x>this._xmin||t.x>this._xmin&&i.x<this._xmin)&&(a=(this._xmin-t.x)/(i.x-t.x),m=t.y+a*(i.y-t.y),m<=this._ymin?o=!1:m>=this._ymax?o=!0:s.push(new n(a,this._xmin,m))),(t.x<this._xmax&&i.x>this._xmax||t.x>this._xmax&&i.x<this._xmax)&&(a=(this._xmax-t.x)/(i.x-t.x),m=t.y+a*(i.y-t.y),m<=this._ymin?o=!1:m>=this._ymax?o=!0:s.push(new n(a,this._xmax,m))),(t.y<this._ymin&&i.y>this._ymin||t.y>this._ymin&&i.y<this._ymin)&&(a=(this._ymin-t.y)/(i.y-t.y),u=t.x+a*(i.x-t.x),u<=this._xmin?r=!1:u>=this._xmax?r=!0:s.push(new n(a,u,this._ymin))),(t.y<this._ymax&&i.y>this._ymax||t.y>this._ymax&&i.y<this._ymax)&&(a=(this._ymax-t.y)/(i.y-t.y),u=t.x+a*(i.x-t.x),u<=this._xmin?r=!1:u>=this._xmax?r=!0:s.push(new n(a,u,this._ymax))),0===s.length)r?o?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):o?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(s.length>1&&s[0].ratio>s[1].ratio)this._start=this._dist+_*s[1].ratio,this._lineTo(s[1].x,s[1].y,!0),this._lineTo(s[0].x,s[0].y,!0);else{this._start=this._dist+_*s[0].ratio;for(let t=0;t<s.length;t++)this._lineTo(s[t].x,s[t].y,!0)}this._lineTo(i.x,i.y,!1)}}this._dist+=_,this._prevIsIn=s,this._prevPt=e}close(){if(this._line.length>2){const t=this._firstPt,i=this._prevPt;t.x===i.x&&t.y===i.y||this.lineTo(t.x,t.y);const s=this._line;let h=s.length;for(;h>=4&&(s[0].x===s[1].x&&s[0].x===s[h-2].x||s[0].y===s[1].y&&s[0].y===s[h-2].y);)s.pop(),s[0].x=s[h-2].x,s[0].y=s[h-2].y,--h}}result(t=!0){return this._pushLine(),0===this._lines.length?null:(this._type===i.Polygon&&t&&x.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==i.LineString)throw new Error("Only valid for lines");this._pushLine();const t=this._lines,s=t.length;if(0===s)return null;const h=[];for(let i=0;i<s;i++)h.push({line:t[i],start:this._starts[i]||0});return h}_isIn(t,i){return t>=this._xmin&&t<=this._xmax&&i>=this._ymin&&i<=this._ymax}_intersect(t,i){let s,n,e;if(i.x>=this._xmin&&i.x<=this._xmax)n=i.y<=this._ymin?this._ymin:this._ymax,e=(n-t.y)/(i.y-t.y),s=t.x+e*(i.x-t.x);else if(i.y>=this._ymin&&i.y<=this._ymax)s=i.x<=this._xmin?this._xmin:this._xmax,e=(s-t.x)/(i.x-t.x),n=t.y+e*(i.y-t.y);else{n=i.y<=this._ymin?this._ymin:this._ymax,s=i.x<=this._xmin?this._xmin:this._xmax;const h=(s-t.x)/(i.x-t.x),_=(n-t.y)/(i.y-t.y);h<_?(e=h,n=t.y+h*(i.y-t.y)):(e=_,s=t.x+_*(i.x-t.x))}return this._r=e,new h(s,n)}_pushLine(){this._line&&(this._type===i.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===i.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===i.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(t,s,n){this._type!==i.Polygon?n&&(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),s=Math.round((s-(this._ymin+this._margin))*this._finalRatio),this._line.push(new h(t,s))):(n||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),s<this._ymin&&(s=this._ymin),s>this._ymax&&(s=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),s=Math.round((s-(this._ymin+this._margin))*this._finalRatio),this._line.push(new h(t,s)),this._isH=!1,this._isV=!1)}_lineTo(t,s,n){let e,_;if(this._type!==i.Polygon)if(n){if(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),s=Math.round((s-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(e=this._line[this._line.length-1],e.equals(t,s)))return;this._line.push(new h(t,s))}else this._line&&this._line.length>0&&this._pushLine();else if(n||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),s<this._ymin&&(s=this._ymin),s>this._ymax&&(s=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),s=Math.round((s-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){e=this._line[this._line.length-1];const i=e.x===t,n=e.y===s;if(i&&n)return;this._isH&&i||this._isV&&n?(e.x=t,e.y=s,_=this._line[this._line.length-2],_.x===t&&_.y===s?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(_=this._line[this._line.length-2],this._isH=_.x===t,this._isV=_.y===s)):(this._isH=_.x===t,this._isV=_.y===s)):(this._line.push(new h(t,s)),this._isH=i,this._isV=n)}else this._line.push(new h(t,s))}}class _{setExtent(t){this._ratio=4096===t?1:4096/t}get validateTessellation(){return this._ratio<1}reset(t){this._lines=[],this._line=null}moveTo(t,i){this._line&&this._lines.push(this._line),this._line=[];const s=this._ratio;this._line.push(new h(t*s,i*s))}lineTo(t,i){const s=this._ratio;this._line.push(new h(t*s,i*s))}close(){const t=this._line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}}!function(t){t[t.sideLeft=0]="sideLeft",t[t.sideRight=1]="sideRight",t[t.sideTop=2]="sideTop",t[t.sideBottom=3]="sideBottom"}(s||(s={}));class x{static simplify(t,i,h){if(!h)return;const n=-i,e=t+i,_=-i,l=t+i,y=[],a=[],r=h.length;for(let x=0;x<r;++x){const t=h[x];if(!t||t.length<2)continue;let i,r=t[0];const o=t.length;for(let h=1;h<o;++h)i=t[h],r.x===i.x&&(r.x<=n&&(r.y>i.y?(y.push(x),y.push(h),y.push(s.sideLeft),y.push(-1)):(a.push(x),a.push(h),a.push(s.sideLeft),a.push(-1))),r.x>=e&&(r.y<i.y?(y.push(x),y.push(h),y.push(s.sideRight),y.push(-1)):(a.push(x),a.push(h),a.push(s.sideRight),a.push(-1)))),r.y===i.y&&(r.y<=_&&(r.x<i.x?(y.push(x),y.push(h),y.push(s.sideTop),y.push(-1)):(a.push(x),a.push(h),a.push(s.sideTop),a.push(-1))),r.y>=l&&(r.x>i.x?(y.push(x),y.push(h),y.push(s.sideBottom),y.push(-1)):(a.push(x),a.push(h),a.push(s.sideBottom),a.push(-1)))),r=i}if(0===y.length||0===a.length)return;x.fillParent(h,a,y),x.fillParent(h,y,a);const o=[];x.calcDeltas(o,a,y),x.calcDeltas(o,y,a),x.addDeltas(o,h)}static fillParent(t,i,h){const n=h.length,e=i.length;for(let _=0;_<e;_+=4){const e=i[_],x=i[_+1],y=i[_+2],a=t[e][x-1],r=t[e][x];let o=8092,u=-1;for(let i=0;i<n;i+=4){if(h[i+2]!==y)continue;const n=h[i],e=h[i+1],_=t[n][e-1],x=t[n][e];switch(y){case s.sideLeft:case s.sideRight:if(l(a.y,_.y,x.y)&&l(r.y,_.y,x.y)){const t=Math.abs(x.y-_.y);t<o&&(o=t,u=i)}break;case s.sideTop:case s.sideBottom:if(l(a.x,_.x,x.x)&&l(r.x,_.x,x.x)){const t=Math.abs(x.x-_.x);t<o&&(o=t,u=i)}}}i[_+3]=u}}static calcDeltas(t,i,s){const h=i.length;for(let n=0;n<h;n+=4){const h=[],e=x.calcDelta(n,i,s,h);t.push(i[n]),t.push(i[n+1]),t.push(i[n+2]),t.push(e)}}static calcDelta(t,i,s,h){const n=i[t+3];if(-1===n)return 0;const e=h.length;return e>1&&h[e-2]===n?0:(h.push(n),x.calcDelta(n,s,i,h)+1)}static addDeltas(t,i){const h=t.length;let n=0;for(let s=0;s<h;s+=4){const i=t[s+3];i>n&&(n=i)}for(let e=0;e<h;e+=4){const h=i[t[e]],_=t[e+1],x=n-t[e+3];switch(t[e+2]){case s.sideLeft:h[_-1].x-=x,h[_].x-=x,1===_&&(h[h.length-1].x-=x),_===h.length-1&&(h[0].x-=x);break;case s.sideRight:h[_-1].x+=x,h[_].x+=x,1===_&&(h[h.length-1].x+=x),_===h.length-1&&(h[0].x+=x);break;case s.sideTop:h[_-1].y-=x,h[_].y-=x,1===_&&(h[h.length-1].y-=x),_===h.length-1&&(h[0].y-=x);break;case s.sideBottom:h[_-1].y+=x,h[_].y+=x,1===_&&(h[h.length-1].y+=x),_===h.length-1&&(h[0].y+=x)}}}}const l=(t,i,s)=>t>=i&&t<=s||t>=s&&t<=i;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   angle: function() { return /* binding */ y; },
/* harmony export */   angleRad: function() { return /* binding */ z; },
/* harmony export */   axis: function() { return /* binding */ w; },
/* harmony export */   compose: function() { return /* binding */ U; },
/* harmony export */   composeAxes: function() { return /* binding */ d; },
/* harmony export */   copy: function() { return /* binding */ g; },
/* harmony export */   create: function() { return /* binding */ j; },
/* harmony export */   fromAxisAndAngle: function() { return /* binding */ q; },
/* harmony export */   fromMatrix: function() { return /* binding */ k; },
/* harmony export */   fromPoints: function() { return /* binding */ v; },
/* harmony export */   fromValues: function() { return /* binding */ h; },
/* harmony export */   setAngle: function() { return /* binding */ A; },
/* harmony export */   up: function() { return /* binding */ B; },
/* harmony export */   wrap: function() { return /* binding */ x; },
/* harmony export */   wrapAxisAngle: function() { return /* binding */ b; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/math/quat.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/quat.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/quatf64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/quatf64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function j(r=B){return[r[0],r[1],r[2],r[3]]}function x(r,t,n,o){return h(r,t,n,o,E)}function b(r,t){return h(r[0],r[1],r[2],t,E)}function g(r,t=j()){return h(r[0],r[1],r[2],r[3],t)}function h(r,t,n,o,i=j()){return i[0]=r,i[1]=t,i[2]=n,i[3]=o,i}function q(r,t,n=j()){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(w(n),r),n[3]=t,n}function v(r,t,n){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.e)(n,r,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.n)(n,n),n[3]=-(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.r)(r,t),n}function k(t,i=j()){const u=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.getRotation)(C,t);return A(i,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.rad2deg)((0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__.getAxisAngle)(i,u))),i}function U(t,n,c=j()){return (0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__.setAxisAngle)(C,w(t),z(t)),(0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__.setAxisAngle)(D,w(n),z(n)),(0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__.multiply)(C,D,C),A(c,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.rad2deg)((0,_core_libs_gl_matrix_2_math_quat_js__WEBPACK_IMPORTED_MODULE_2__.getAxisAngle)(w(c),C)))}function d(r,t,n,o=j()){return q(_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.UNIT_X,r,F),q(_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.UNIT_Y,t,G),q(_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.UNIT_Z,n,H),U(F,G,F),U(F,H,o),o}function w(r){return r}function y(r){return r[3]}function z(r){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(r[3])}function A(r,t){return r[3]=t,r}const B=[0,0,1,0],C=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),D=(0,_core_libs_gl_matrix_2_factories_quatf64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),E=j(),F=j(),G=j(),H=j();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/buffer/math/common.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/buffer/math/common.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getMathLogger: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.support.buffer.math");


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/labelPoint.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/labelPoint.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getLabelPoint: function() { return /* binding */ l; },
/* harmony export */   getPolylabelPoint: function() { return /* binding */ g; }
/* harmony export */ });
/* harmony import */ var _core_PriorityQueue_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/PriorityQueue.js */ "./node_modules/@arcgis/core/core/PriorityQueue.js");
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _centroid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _intersectsBase_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./intersectsBase.js */ "./node_modules/@arcgis/core/geometry/support/intersectsBase.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const N=100*222045e-21;function l(t){if(0===t.totalSize)return null;const a=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getCursorBoundsXY)(t);if(!a)return null;const o=4*(Math.abs(a[0])+Math.abs(a[2])+Math.abs(a[1])+Math.abs(a[3])+1)*N;let s=0,c=0;t.reset();for(let e=0;t.nextPath();e++){const n=t.getCurrentRingArea();n>c&&(c=n,s=e)}if(t.seekPath(s),0===t.pathSize)return null;t.seekPathStart();const l=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getCursorPathBounds)(t);if(Math.abs(c)<=2*o*o)return[(l[0]+l[2])/2,(l[1]+l[3])/2];t.seekPathStart();const x=(0,_centroid_js__WEBPACK_IMPORTED_MODULE_3__.ringCentroidCursorXY)(t,(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)());if(null===x)return null;if(t.totalPoints<4)return x;const m=[[NaN,NaN],[NaN,NaN],[NaN,NaN],[NaN,NaN]],d=[NaN,NaN,NaN,NaN],P=[NaN,NaN,NaN,NaN];let y=!1,M=f(x,t,!0);0===M.distance&&(y=!0,m[0][0]=x[0],m[0][1]=x[1],M=f(x,t,!1)),d[0]=M.distance,P[0]=0;const b=[NaN,NaN];let S=!1,k=.25,z=-1,g=NaN;do{if(g=NaN,m[1]=h(t,w(l[0],l[2],k),o,a),isNaN(m[1][0])||isNaN(m[1][1])||(M=f(m[1],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[1],t))S=!0,d[1]=g,P[1]=p(m[1],x);else if(!isNaN(g)&&g>z&&(z=g,b[0]=m[1][0],b[1]=m[1][1]),k-=.01,k<.1){if(!(z>=0))break;S=!0,d[1]=z,m[1][0]=b[0],m[1][1]=b[1],P[1]=p(m[1],x)}}while(!S);S=!1,k=.5,z=-1;let q=.01,j=1;do{if(g=NaN,m[2]=h(t,w(l[0],l[2],k),o,a),isNaN(m[2][0])||isNaN(m[2][1])||(M=f(m[2],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[2],t))S=!0,d[2]=g,P[2]=p(m[2],x);else if(!isNaN(g)&&g>z)z=g,b[0]=m[2][0],b[1]=m[2][1];else if(g>z&&(z=g,b[0]=m[2][0],b[1]=m[2][1]),k=.5+q*j,q+=.01,j*=-1,k<.3||k>.7){if(!(z>=0))break;S=!0,d[2]=z,m[2][0]=b[0],m[2][1]=b[1],P[2]=p(m[2],x)}}while(!S);S=!1,k=.75,z=-1;do{if(g=NaN,m[3]=h(t,w(l[0],l[2],k),o,a),isNaN(m[3][0])||isNaN(m[3][1])||(M=f(m[3],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[3],t))S=!0,d[3]=g,P[3]=p(m[3],x);else if(g>z&&(z=g,b[0]=m[3][0],b[1]=m[3][1]),k+=.01,k>.9){if(!(z>=0))break;S=!0,d[3]=z,m[3][0]=b[0],m[3][1]=b[1],P[3]=p(m[3],x)}}while(!S);const T=[0,1,2,3],D=y?0:1;let R;for(let e=D;e<4;e++)for(let t=D;t<3;t++){const e=P[t],n=P[t+1];C(e,n)>0&&(R=T[t],T[t]=T[t+1],T[t+1]=R,P[t]=n,P[t+1]=e)}let B=D,Q=0,U=0;for(let e=D;e<4;e++){switch(e){case 0:U=2*d[T[e]];break;case 1:U=1.66666666*d[T[e]];break;case 2:U=1.33333333*d[T[e]];break;case 3:U=d[T[e]]}U>Q&&(Q=U,B=T[e])}return m[B]}function u(t,e){let n,i,r,a,o=0;for(e.reset();e.nextPath()&&e.nextPoint();)for(n=e.x,i=e.y;e.nextPoint();n=r,i=a){if(r=e.x,a=e.y,i>t[1]==a>t[1])continue;(r-n)*(t[1]-i)-(a-i)*(t[0]-n)>0?o++:o--}return 0!==o}function f(t,e,n){if(n&&u(t,e))return{coord:t,distance:0};let i=1/0,r=0,a=0,s=[0,0],c=[0,0];const N=[0,0];for(e.reset();e.nextPath()&&e.nextPoint();)if(!(e.pathSize<2))for(s[0]=e.x,s[1]=e.y;e.nextPoint();s=c){c=[e.x,e.y],(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_4__.projectPointOnLineSeg)(N,t,s,c);const n=p(t,N);n<i&&(i=n,r=N[0],a=N[1])}return{coord:[r,a],distance:Math.sqrt(i)}}function h(t,n,i,r){const a=[n,0];let o=1/0,s=1/0,N=!1,l=!1;const u=[[n,r[1]-1],[n,r[3]+1]],f=[0,0],h=[0,0],m=[0,0],d=[[0,0],[0,0]],P=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)();for(t.reset();t.nextPath()&&t.nextPoint();)if(!(t.pathSize<2))for(d[0][0]=t.x,d[0][1]=t.y;t.nextPoint();d[0][0]=d[1][0],d[0][1]=d[1][1]){if(d[1][0]=t.x,d[1][1]=t.y,null===x(P,d))continue;if(h[0]=u[0][0],h[1]=u[0][1],m[0]=u[1][0],m[1]=u[1][1],0===M(P,h,m))continue;if(!(0,_intersectsBase_js__WEBPACK_IMPORTED_MODULE_5__.segmentIntersects)(u[0],u[1],d[0],d[1],f))continue;const e=f[1];o>s?e<o&&(o=e,N=!0):e<s&&(s=e,l=!0)}return N&&l?a[1]=(o+s)/2:a[0]=a[1]=NaN,a}function x(t,n){if(n.length<2)return null;t||(t=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)());const[i,r]=n[0],[a,o]=n[1];return t[0]=Math.min(i,a),t[1]=Math.min(r,o),t[2]=Math.max(i,a),t[3]=Math.max(r,o),t}const m=1,d=4,P=3,y=12;function M(t,e,n){let i=b(e,t),r=b(n,t);const a=t[0],o=t[1],s=t[2],c=t[3];if(i&r)return 0;if(!(i|r))return 4;const N=(i?1:0)|(r?2:0);do{const N=n[0]-e[0],l=n[1]-e[1];if(N>l)i&P?(i&m?(e[1]+=l*(a-e[0])/N,e[0]=a):(e[1]+=l*(s-e[0])/N,e[0]=s),i=b(e,t)):r&P?(r&m?(n[1]+=l*(a-n[0])/N,n[0]=a):(n[1]+=l*(s-n[0])/N,n[0]=s),r=b(n,t)):i?(i&d?(e[0]+=N*(o-e[1])/l,e[1]=o):(e[0]+=N*(c-e[1])/l,e[1]=c),i=b(e,t)):(r&d?(n[0]+=N*(o-n[1])/l,n[1]=o):(n[0]+=N*(c-n[1])/l,n[1]=c),r=b(n,t));else if(i&y?(i&d?(e[0]+=N*(o-e[1])/l,e[1]=o):(e[0]+=N*(c-e[1])/l,e[1]=c),i=b(e,t)):r&y?(r&d?(n[0]+=N*(o-n[1])/l,n[1]=o):(n[0]+=N*(c-n[1])/l,n[1]=c),r=b(n,t)):i?(i&m?(e[1]+=l*(a-e[0])/N,e[0]=a):(e[1]+=l*(s-e[0])/N,e[0]=s),i=b(e,t)):(r&m?(n[1]+=l*(a-n[0])/N,n[0]=a):(n[1]+=l*(s-n[0])/N,n[0]=s),r=b(n,t)),i&r)return 0}while(i|r);return N}function b(t,e){return(t[0]<e[0]?1:0)|(t[0]>e[2]?1:0)<<1|(t[1]<e[1]?1:0)<<2|(t[1]>e[3]?1:0)<<3}function w(t,e,n){return t+(e-t)*n}function p(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function C(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;const n=isNaN(t),i=isNaN(e);return n<i?-1:n>i?1:0}class S{constructor(t,e,n,i){this.x=t,this.y=e,this.cellSize=n,this.distancefromCellCenter=(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_4__.distanceFromPointToPolygon)(t,e,i),this.maxDistanceToPolygon=this.distancefromCellCenter+this.cellSize*Math.SQRT2}}const k=1,z=100;function g(e){if(!e.nextPath()||!e.pathSize)return null;const n=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getCursorPathBounds)(e),r=n[2]-n[0],o=n[3]-n[1];if(0===r||0===o)return[n[0]+r/2,n[1]+o/2];const s=Math.max(Math.min(r,o)/z,k),c=new _core_PriorityQueue_js__WEBPACK_IMPORTED_MODULE_0__["default"](((t,e)=>e.maxDistanceToPolygon-t.maxDistanceToPolygon)),N=Math.min(r,o);let l=N/2,u=0,f=0;for(u=n[0];u<n[2];u+=N)for(f=n[1];f<n[3];f+=N)c.enqueue(new S(u+l,f+l,l,e));e.reset(),e.nextPath();const h=(0,_centroid_js__WEBPACK_IMPORTED_MODULE_3__.ringsCentroidCursor)(e);if(null===h)return null;let x,m=new S(h[0],h[1],0,e);for(;c.size>0;)x=c.dequeue(),x.distancefromCellCenter>m.distancefromCellCenter&&(m=x),x.maxDistanceToPolygon-m.distancefromCellCenter<=s||(l=x.cellSize/2,c.enqueue(new S(x.x-l,x.y-l,l,e)),c.enqueue(new S(x.x+l,x.y-l,l,e)),c.enqueue(new S(x.x-l,x.y+l,l,e)),c.enqueue(new S(x.x+l,x.y+l,l,e)));return[m.x,m.y]}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshProperties.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshProperties.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   castArray: function() { return /* binding */ n; },
/* harmony export */   writeTypedArray: function() { return /* binding */ r; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e,n,r,t){const{loggerTag:o,stride:f}=n;return e.length%f!=0?(t.error(o,`Invalid array length, expected a multiple of ${f}`),new r([])):e}function n(n,r,t,o,f){if(!n)return n;if(n instanceof r)return e(n,o,r,f);for(const i of t)if(n instanceof i)return e(new r(n),o,r,f);if(Array.isArray(n))return e(new r(n),o,r,f);{const e=t.map((e=>`'${e.name}'`));return f.error(`Failed to set property, expected one of ${e}, but got ${n.constructor.name}`),new r([])}}function r(e,n,r){n[r]=t(e)}function t(e){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deduplicate: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _Indices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e,s,u){const c=Array.isArray(e),a=c?e.length/s:e.byteLength/(4*s),h=c?e:new Uint32Array(e,0,a*s),y=u?.minReduction??0,A=u?.originalIndices||null,g=A?A.length:0,m=u?.componentOffsets||null;let w=0;if(m)for(let t=0;t<m.length-1;t++){const n=m[t+1]-m[t];n>w&&(w=n)}else w=a;const U=Math.floor(1.1*w)+1;(null==i||i.length<2*U)&&(i=new Uint32Array((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.nextHighestPowerOfTwo)(2*U)));for(let t=0;t<2*U;t++)i[t]=0;let b=0;const d=!!m&&!!A,p=d?g:a;let M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.newIndexArray)(a);const j=new Uint32Array(g),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,x=m?m[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-b/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===x){for(let t=0;t<2*U;t++)i[t]=0;if(A)for(let t=m[k-1];t<m[k];t++)j[t]=M[A[t]];x=m[++k]}const n=d?A[t]:t,r=n*s,e=f(h,r,s);let o=e%U,u=b;for(;0!==i[2*o+1];){if(i[2*o]===e){const t=i[2*o+1]-1;if(l(h,r,t*s,s)){u=M[t];break}}o++,o>=U&&(o-=U)}u===b&&(i[2*o]=e,i[2*o+1]=n+1,b++),M[n]=u}if(0!==y&&1-b/a<y)return null;if(d){for(let t=m[k-1];t<j.length;t++)j[t]=M[A[t]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.compactIndices)(j)}const C=c?new Array(b):new Uint32Array(b*s);b=0;for(let t=0;t<p;t++)if(M[t]===b){o(h,(d?A[t]:t)*s,C,b*s,s),b++}if(A&&!d){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=M[A[n]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__.compactIndices)(t)}return{buffer:Array.isArray(C)?C:C.buffer,indices:M,uniqueCount:b}}function l(t,n,r,e){for(let l=0;l<e;l++)if(t[n+l]!==t[r+l])return!1;return!0}function o(t,n,r,e,l){for(let o=0;o<l;o++)r[e+o]=t[n+o]}function f(t,n,r){let e=0;for(let l=0;l<r;l++)e=t[n+l]+e|0,e=e+(e<<11)+(e>>>2)|0;return e>>>0}let i=null;


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/projectMeshVertexPositions.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/projectMeshVertexPositions.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   projectMeshVertexPositions: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MeshGeoreferencedVertexSpace.js */ "./node_modules/@arcgis/core/geometry/support/MeshGeoreferencedVertexSpace.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _vertexSpaceConversion_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vertexSpaceConversion.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/vertexSpaceConversion.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(n,i){const p=(0,_vertexSpaceConversion_js__WEBPACK_IMPORTED_MODULE_3__.convertVertexSpace)(n,_MeshGeoreferencedVertexSpace_js__WEBPACK_IMPORTED_MODULE_1__["default"].absolute);if(!p)return null;let s=p.position;return (0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_2__.equals)(n.spatialReference,i)||(s=new Float64Array(p.position.length),(0,_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__.projectBuffer)(p.position,n.spatialReference,0,s,i,0))?s:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/projection.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/projection.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VectorType: function() { return /* binding */ V; },
/* harmony export */   loadProjectErrorMessage: function() { return /* binding */ O; },
/* harmony export */   logProjectionError: function() { return /* binding */ F; },
/* harmony export */   projectFromPCPF: function() { return /* binding */ h; },
/* harmony export */   projectNormalFromPCPF: function() { return /* binding */ R; },
/* harmony export */   projectNormalToPCPF: function() { return /* binding */ E; },
/* harmony export */   projectTangentFromPCPF: function() { return /* binding */ G; },
/* harmony export */   projectTangentToPCPF: function() { return /* binding */ w; },
/* harmony export */   projectToPCPF: function() { return /* binding */ g; },
/* harmony export */   transformNormal: function() { return /* binding */ _; },
/* harmony export */   transformTangent: function() { return /* binding */ C; },
/* harmony export */   transformVectorENUPlateCarree: function() { return /* binding */ b; },
/* harmony export */   transformVectorWMPlateCarree: function() { return /* binding */ L; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../webMercatorUtils.js */ "./node_modules/@arcgis/core/geometry/support/webMercatorUtils.js");
/* harmony import */ var _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const O="Projection may be possible after calling projection.load().";function F(r,t,o,e){r.error(`Failed to project from (wkid:${t.wkid}) to (wkid:${o.wkid}).${e?" ":""}${e}`)}function E(r,t,o,e,n,i){return B(x.TO_PCPF,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(r),V.NORMAL,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(t),o,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(e),n,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(i))?i:null}function R(r,t,o,e,n,i){return B(x.FROM_PCPF,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(r),V.NORMAL,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(t),o,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(e),n,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(i))?i:null}function g(r,t,o,e){return (0,_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_8__.projectBuffer)(r,t,0,o,e,0)?o:null}function h(r,t,o,e){return (0,_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_8__.projectBuffer)(r,t,0,o,e,0)?o:null}function _(t,e,n){return (0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.normalFromMat4)(Y,n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.b)(e,t,Y),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.hasScaling)(Y)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.n)(e,e),e}function C(t,o,n){return (0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.fromMat4)(Y,n),(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_14__.t)(o,t,Y),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.hasScaling)(Y)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__.n)(o,o,4),o}function b(r,o,e,n){const i=o===V.NORMAL;return k(r,o,e,((r,o)=>{const e=Math.cos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(r));o[0]=i?e:1/e,o[1]=1}),n)}function L(r,t,o,e){const n=t===V.NORMAL;return k(r,t,o,((r,t)=>{const o=Math.cosh(-r/_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_9__.earth.radius);t[0]=1,t[1]=n?o:1/o}),e)}function k(r,t,o,e,n){const i=t===V.NORMAL?3:4,f=[0,0];for(let c=0,a=1;c<r.length;c+=i,a+=3){e(o[a],f);const t=r[c]*f[0],s=r[c+1]*f[1],m=r[c+2],u=1/Math.sqrt(t*t+s*s+m*m);n[c]=t*u,n[c+1]=s*u,n[c+2]=m*u,4===i&&(n[c+3]=r[c+3])}return n}function w(r,t,o,e,n,i){if(!B(x.TO_PCPF,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT),V.TANGENT,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(t),o,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(e),n,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let f=3;f<r.length;f+=4)i[f]=r[f];return i}function G(r,t,o,e,n,i){if(!B(x.FROM_PCPF,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(r,16),V.TANGENT,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(t),o,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f64.fromTypedArray(e),n,_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec3f.fromTypedArray(i,16)))return null;for(let f=3;f<r.length;f+=4)i[f]=r[f];return i}var V,x;function v(r,t,n,f,c){switch((0,_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_7__.computeTranslationToOriginAndRotation)(f,n,q,f),r===x.FROM_PCPF&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.invert)(q,q),t){case V.NORMAL:return (0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.normalFromMat4)(c,q);case V.TANGENT:return (0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.fromMat4)(c,q)}}function B(r,t,o,e,n,i,f,s){if(!t)return;const m=e.count;if($(n))for(let a=0;a<m;a++)i.getVec(a,S),t.getVec(a,U),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.q)(U,U,v(r,o,S,f,Y)),s.setVec(a,U);else for(let u=0;u<m;u++){i.getVec(u,S),t.getVec(u,U);const n=(0,_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_11__.y2lat)(e.get(u,1));let m=Math.cos(n);o===V.TANGENT!=(r===x.TO_PCPF)&&(m=1/m),v(r,o,S,f,Y),r===x.TO_PCPF?(Y[0]*=m,Y[1]*=m,Y[2]*=m,Y[3]*=m,Y[4]*=m,Y[5]*=m):(Y[0]*=m,Y[3]*=m,Y[6]*=m,Y[1]*=m,Y[4]*=m,Y[7]*=m),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.q)(U,U,Y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(U,U),s.setVec(u,U)}return s}function $(r){return r.isWGS84||(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__.isCGCS2000)(r)||(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__.isMars)(r)||(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__.isMoon)(r)}!function(r){r[r.NORMAL=0]="NORMAL",r[r.TANGENT=1]="TANGENT"}(V||(V={})),function(r){r[r.TO_PCPF=0]="TO_PCPF",r[r.FROM_PCPF=1]="FROM_PCPF"}(x||(x={}));const S=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),U=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),q=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),Y=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/vertexSpaceConversion.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/vertexSpaceConversion.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertVertexSpace: function() { return /* binding */ B; },
/* harmony export */   getUnitToSpatialReferenceScaleConversion: function() { return /* binding */ nt; },
/* harmony export */   projectPointToVertexSpace: function() { return /* binding */ k; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../spatialReferenceEllipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/spatialReferenceEllipsoidUtils.js");
/* harmony import */ var _projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../meshVertexSpaceUtils.js */ "./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js");
/* harmony import */ var _spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _projection_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./projection.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/projection.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const M=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function k(t,n,{vertexSpace:r,spatialReference:e}){if("georeferenced"===r.type){const o=t;if(!(0,_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_11__.projectPointToVector)(n,o,e))return!1;const{origin:i}=r;return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.d)(t,o,i),!0}const o=(0,_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__.getSphericalPCPF)(e),i=t;if(!(0,_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_11__.projectPointToVector)(n,i,o))return!1;const{origin:a}=r,s=lt;if(!(0,_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__.computeTranslationToOriginAndRotation)(e,a,s,o))return!1;const c=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.invert)(lt,s);return null!=c&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(t,i,c),!0)}function B(t,n,r){const{vertexSpace:e,transform:o,vertexAttributes:i}=t,l=(0,_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_12__.isRelativeVertexSpace)(e)?o:null,s=X(t.spatialReference,r,at.SOURCE_AND_TARGET);if((0,_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_12__.vertexSpaceEquals)(e,n)&&(!l||(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.exactEquals)(l.localMatrix,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.IDENTITY))&&Y(s)){const{position:t,normal:n,tangent:e}=i,o=r?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?n:n?.slice(),tangent:o?e:e?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===n.type?H(t,t.vertexSpace,n.origin,r):P(t,t.vertexSpace,n.origin,r);case"georeferenced":return"local"===n.type?q(t,t.vertexSpace,n.origin,r):L(t,t.vertexSpace,n.origin,r)}}function L({vertexAttributes:t,transform:n,spatialReference:r},{origin:e},o,i){const l=X(r,i,at.SOURCE_AND_TARGET),a=e||!Y(l)?(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.copy)(rt,n?.localMatrix??_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.IDENTITY):null;a&&W(a,r,i,at.SOURCE_AND_TARGET);const{position:c,normal:u,tangent:m}=a?I(t,a):t,p=i?.allowBufferReuse,g=p?c:new Float64Array(c.length);let R=c;if(e&&(R=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.a)(g,R,e)),o){const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.v)(it,o);R=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.a)(g,R,t)}return{position:R!==t.position||p?R:R.slice(),normal:u!==t.normal||p?u:u?.slice(),tangent:m!==t.tangent||p?m:m?.slice()}}function V(t,n){return n?.useEllipsoid&&(0,_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__.isEarth)(t)?_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__.WGS84ECEFSpatialReference:(0,_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__.getSphericalPCPF)(t)}function P({spatialReference:t,vertexAttributes:n,transform:r},{origin:e},o,i){const l=V(t,i);if(!(0,_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__.computeTranslationToOriginAndRotation)(t,e,rt,l))return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),t,l),null;r&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.multiply)(rt,rt,r.localMatrix),W(rt,t,i,at.SOURCE);const a=new Float64Array(n.position.length),s=J(n.position,rt,t,a,l);if(!s)return null;const u=K(s,t,a,l,n.normal,rt);if(n.normal&&!u)return null;const f=Q(s,t,a,l,n.tangent,rt);if(n.tangent&&!f)return null;if(o){const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.v)(it,o);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.a)(s,s,t)}return{position:s,normal:u,tangent:f}}function q({vertexAttributes:t,spatialReference:n,transform:r},{origin:e},i,a){const s=V(n,a);if(!(0,_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__.computeTranslationToOriginAndRotation)(n,i,rt,s))return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),n,s),null;const c=1/X(n,a,at.TARGET);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.scale)(rt,rt,[c,c,c]);const f=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.invert)(et,rt),{position:m,normal:p,tangent:g}=z(t,e,r),A=new Float64Array(m.length),R=Z(m,n,f,A,s);if(!R)return null;const x=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_3__.normalFromMat4)(ot,f),E=$(p,m,n,A,s,x,p!==t.normal?p:void 0);if(!E&&p)return null;const T=tt(g,m,n,A,s,x,g!==t.tangent?g:void 0);return!T&&g?null:{position:R,normal:E,tangent:T}}function z(t,n,r){if(!n)return t;if(!r){const{position:r,normal:e,tangent:o}=t;return{position:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.a)(new Float64Array(r.length),r,n),tangent:o,normal:e}}const e=I(t,r.localMatrix);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.a)(e.position,e.position,n),e}function H({vertexAttributes:t,spatialReference:n,transform:r},{origin:e},o,i){const a=V(n,i);if(!(0,_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__.computeTranslationToOriginAndRotation)(n,e,rt,a))return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),n,a),null;if(r&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.multiply)(rt,rt,r.localMatrix),!(0,_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_10__.computeTranslationToOriginAndRotation)(n,o,et,a))return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),a,n),null;(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.invert)(et,et);const s=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.multiply)(rt,et,rt);return W(s,n,i,at.SOURCE_AND_TARGET),I(t,s)}function I(t,n){const r=new Float64Array(t.position.length);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.t)(r,t.position,n);const e=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return e&&t.normal&&(0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.transformNormal)(t.normal,e,n),o&&t.tangent&&(0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.transformTangent)(t.tangent,o,n),{position:r,normal:e,tangent:o}}function J(t,n,r,e,o){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.t)(e,t,n);const i=new Float64Array(t.length);return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectFromPCPF)(e,o,i,r)?i:((0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),o,r),null)}function K(t,n,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.transformNormal)(o,l,i),(0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectNormalFromPCPF)(l,t,n,r,e,l)?l:((0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),e,n),null)}function Q(t,n,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.transformTangent)(o,l,i),(0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectTangentFromPCPF)(l,t,n,r,e,l)?l:((0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),e,n),null)}function W(t,n,r,e){const o=X(n,r,e);Y(o)||(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.scale)(t,t,[o,o,o])}function X(t,n,r){const e=!!(r&at.SOURCE),o=!!(r&at.TARGET),i=n?.sourceUnit,l=n?.targetUnit;if(!i&&!l)return 1;let a=nt(i,t);e||!i||Y(a)||(M().warn("source unit conversion not supported"),a=1);let s=1/nt(l,t);return o||!l||Y(s)||(M().warn("target unit conversion not supported"),s=1),a*s}function Y(t){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.floatEqualUlp)(t,1)}function Z(t,n,r,e,o){const i=(0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectToPCPF)(t,n,e,o);if(!i)return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),n,o),null;const l=new Float64Array(i.length);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.t)(l,i,r),l}function $(t,n,r,e,o,i,l){if(null==t)return null;const a=l??new Float32Array(t.length);return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectNormalToPCPF)(t,n,r,e,o,a)?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.b)(a,a,i),a):((0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),r,o),null)}function tt(t,n,r,e,o,i,l){if(null==t)return null;const a=l??new Float32Array(t.length);return (0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.projectTangentToPCPF)(t,n,r,e,o,a)?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_14__.b)(a,a,i,4),a):((0,_projection_js__WEBPACK_IMPORTED_MODULE_15__.logProjectionError)(M(),r,o),null)}function nt(t,n){if(null==t)return 1;const o=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.getMetersPerCartesianUnitForSR)(n);return 1/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__.convertUnit)(o,"meters",t)}const rt=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),et=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),ot=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),it=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),lt=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();var at;!function(t){t[t.NONE=0]="NONE",t[t.SOURCE=1]="SOURCE",t[t.TARGET=2]="TARGET",t[t.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}(at||(at={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/polygonUtils.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/polygonUtils.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fitPlane: function() { return /* binding */ e; },
/* harmony export */   leastSignificantAxis: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _Axis_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Axis.js */ "./node_modules/@arcgis/core/geometry/support/Axis.js");
/* harmony import */ var _plane_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function c(t,o,s){const a=e(f,t,o,s)?(0,_plane_js__WEBPACK_IMPORTED_MODULE_4__.getNormal)(f):[0,0,1];return Math.abs(a[2])>Math.cos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(80))?_Axis_js__WEBPACK_IMPORTED_MODULE_3__.Axis.Z:Math.abs(a[1])>Math.abs(a[0])?_Axis_js__WEBPACK_IMPORTED_MODULE_3__.Axis.Y:_Axis_js__WEBPACK_IMPORTED_MODULE_3__.Axis.X}function e(r,i,a,n){const c=(r=>!Array.isArray(r[0]))(i)?(r,t)=>i[3*r+t]:(r,t)=>i[r][t],e=n?(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(n)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerVerticalUnitForSR)(n):1;return (0,_plane_js__WEBPACK_IMPORTED_MODULE_4__.fromManyPoints)(r,((r,t)=>(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.i)(r,c(t,0)*e,c(t,1)*e,c(t,2))),a)}const f=(0,_plane_js__WEBPACK_IMPORTED_MODULE_4__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/geometry/support/triangulationUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/triangulationUtils.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CounterClockwiseMode: function() { return /* binding */ p; },
/* harmony export */   isCounterClockwise: function() { return /* binding */ u; },
/* harmony export */   ringsToTriangulationInfo: function() { return /* binding */ a; },
/* harmony export */   triangulate: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _Axis_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Axis.js */ "./node_modules/@arcgis/core/geometry/support/Axis.js");
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _Indices_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _polygonUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./polygonUtils.js */ "./node_modules/@arcgis/core/geometry/support/polygonUtils.js");
/* harmony import */ var _meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./meshUtils/deduplicate.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/deduplicate.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function f(t){const e=a(t.rings,t.hasZ,p.CCW_IS_HOLE,t.spatialReference),s=new Array;let l=0,f=0;for(const r of e.polygons){const t=r.count,c=r.index,h=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__.doubleSubArray)(e.position,3*c,3*t),a=r.holeIndices.map((n=>n-c)),g=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_4__.compactIndices)((0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_0__.e)(h,a,3));s.push({position:h,faces:g}),l+=h.length,f+=g.length}const g=h(s,l,f),u=Array.isArray(g.position)?(0,_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_6__.deduplicate)(g.position,3,{originalIndices:g.faces}):(0,_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_6__.deduplicate)(g.position.buffer,6,{originalIndices:g.faces});return g.position=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__.doubleArrayFrom)(new Float64Array(u.buffer)),g.faces=u.indices,g}function h(n,t,e){if(1===n.length)return n[0];const o=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__.newDoubleArray)(t),r=new Array(e);let l=0,c=0,f=0;for(const s of n){for(let n=0;n<s.position.length;n++)o[l++]=s.position[n];for(const n of s.faces)r[c++]=n+f;f=l/3}return{position:o,faces:(0,_Indices_js__WEBPACK_IMPORTED_MODULE_4__.compactIndices)(r)}}function a(n,t,e,o){const r=n.length,i=new Array(r),l=new Array(r),c=new Array(r);let f=0;for(let s=0;s<r;++s)f+=n[s].length;let h=0,a=0,m=0;const d=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__.newDoubleArray)(3*f);let y=0;for(let s=r-1;s>=0;s--){const f=n[s],A=e===p.CCW_IS_HOLE&&u(f,t,o);if(A&&1!==r)i[h++]=f;else{let n=f.length;for(let t=0;t<h;++t)n+=i[t].length;const e={index:y,pathLengths:new Array(h+1),count:n,holeIndices:new Array(h)};e.pathLengths[0]=f.length,f.length>0&&(c[m++]={index:y,count:f.length}),y=A?g(f,f.length-1,-1,d,y,f.length,t):g(f,0,1,d,y,f.length,t);for(let o=0;o<h;++o){const n=i[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(c[m++]={index:y,count:n.length}),y=g(n,0,1,d,y,n.length,t)}h=0,e.count>0&&(l[a++]=e)}}for(let s=0;s<h;++s){const n=i[s];n.length>0&&(c[m++]={index:y,count:n.length}),y=g(n,0,1,d,y,n.length,t)}return l.length=a,c.length=m,{position:d,polygons:l,outlines:c}}function g(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i&&s[2]?s[2]:0,t+=e}return r/3}function u(n,o,r){if(!o)return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.isClockwise)(n);const s=n.length-1;switch((0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_5__.leastSignificantAxis)(n,s,r)){case _Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.X:return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.isClockwise)(n,_Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.Y,_Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.Z);case _Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.Y:return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.isClockwise)(n,_Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.X,_Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.Z);case _Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.Z:return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.isClockwise)(n,_Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.X,_Axis_js__WEBPACK_IMPORTED_MODULE_1__.Axis.Y)}}var p;!function(n){n[n.NONE=0]="NONE",n[n.CCW_IS_HOLE=1]="CCW_IS_HOLE"}(p||(p={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeEdgeCandidate: function() { return /* binding */ e; },
/* harmony export */   makeVertexCandidate: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t,e,r){return{objectId:t,target:e,distance:r,type:"vertex"}}function e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:"edge",start:n,end:d,draped:a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/interfaces.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/interfaces.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MeshTransformUpdateAction: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var a;!function(a){a[a.EnableFastUpdates=0]="EnableFastUpdates",a[a.DisableFastUpdates=1]="DisableFastUpdates",a[a.UpdateFastLocalOrigin=2]="UpdateFastLocalOrigin"}(a||(a={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMCursor.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathEffectCursor: function() { return /* binding */ s; },
/* harmony export */   PathTransformationCursor: function() { return /* binding */ r; },
/* harmony export */   getId: function() { return /* binding */ e; },
/* harmony export */   setId: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(t){return t[4]}function i(t,e){t[4]=e}class r{constructor(e,i=!0,r=!0,s=0){this.isClosed=!1,this.geometryCursor=null,this.geometryCursor=!i&&"esriGeometryPolygon"===e.geometryType||!r&&"esriGeometryPolyline"===e.geometryType?null:e,this.geomUnitsPerPoint=s,this.iterateMultiPath=!1,this.iteratePath=!1,this.internalPlacement=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_0__.Placement}next(){if(!this.geometryCursor)return null;const t=this.processMultiPath(this.geometryCursor);return this.iterateMultiPath&&t||(this.geometryCursor=null),t}processMultiPath(t){for(;this.iteratePath||t.pathIndex<t.totalSize-1;){this.iteratePath||t.nextPath(),this.iterateMultiPath=!0;const e=this.processPath(t);if(e)return e}return this.iterateMultiPath=!1,null}}class s{constructor(t,e,i,r=0){this.isClosed=!1,this.inputGeometries=t,this.acceptPolygon=e,this.acceptPolyline=i,this.geomUnitsPerPoint=r,this.iteratePath=!1,this.multiPathCursor=null}next(){for(;;){if(!this.multiPathCursor){let t=this.inputGeometries.next();for(;t&&(this.isClosed=this.acceptPolygon&&"esriGeometryPolygon"===t.geometryType||"esriGeometryEnvelope"===t.geometryType,this.multiPathCursor=t,!this.multiPathCursor);)t=this.inputGeometries.next();if(!this.multiPathCursor)return null}for(;this.iteratePath||this.multiPathCursor.nextPath();){this.multiPathCursor.seekPathStart();const t=this.processPath(this.multiPathCursor);if(t)return t}this.multiPathCursor=null}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMEffects.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SimpleEffectCursor: function() { return /* binding */ s; },
/* harmony export */   clipCursorToTileExtent: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry/support/TileClipper.js */ "./node_modules/@arcgis/core/geometry/support/TileClipper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const r=512;let n;class s{constructor(t){this._geometry=t}next(){const t=this._geometry;return this._geometry=null,t}}function i(s,i){n||(n=new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.TileClipper(0,0,0,1));const y="esriGeometryPolygon"===s.geometryType,m=y?_geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.GeometryType.Polygon:_geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.GeometryType.LineString,l=y?3:2;let c,p;for(n.reset(m),n.setPixelMargin(i+1),n.setExtent(r);s.nextPath();)if(!(s.pathSize<l)){for(s.nextPoint(),c=s.x,p=-s.y,n.moveTo(c,p);s.nextPoint();)c=s.x,p=-s.y,n.lineTo(c,p);y&&n.close()}const f=n.result(!1);if(f){const e=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM(s.geometryType);for(const t of f){e.startPath();for(const o of t)e.pushXY(o.x,-o.y)}return e.reset(),e}return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMImageColorSubstitutionHelper.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMImageColorSubstitutionHelper.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{applyColorSubstitution(t,a){if(!a)return t;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:e,height:n}=t,o=this._rasterizationCanvas,r=o.getContext("2d",{willReadFrequently:!0});t!==o&&(o.width=e,o.height=n,r.drawImage(t,0,0,e,n));const i=r.getImageData(0,0,e,n).data;if(a)for(const l of a)if(l&&l.oldColor&&4===l.oldColor.length&&l.newColor&&4===l.newColor.length){const[t,a,e,n]=l.oldColor,[o,r,s,h]=l.newColor;if(t===o&&a===r&&e===s&&n===h)continue;for(let l=0;l<i.length;l+=4)t===i[l]&&a===i[l+1]&&e===i[l+2]&&n===i[l+3]&&(i[l]=o,i[l+1]=r,i[l+2]=s,i[l+3]=h)}const s=new ImageData(i,e,n);return r.putImageData(s,0,0),o}tintImageData(t,a){if(!a||a.length<4)return t;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:e,height:n}=t,o=this._rasterizationCanvas,r=o.getContext("2d",{willReadFrequently:!0});t!==o&&(o.width=e,o.height=n,r.drawImage(t,0,0,e,n));const i=r.getImageData(0,0,e,n),s=new Uint8Array(i.data),l=[a[0]/255,a[1]/255,a[2]/255,a[3]/255];for(let g=0;g<s.length;g+=4)s[g]*=l[0],s[g+1]*=l[1],s[g+2]*=l[2],s[g+3]*=l[3];const h=new ImageData(new Uint8ClampedArray(s.buffer),e,n);return r.putImageData(h,0,0),o}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMOperators.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMOperators.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getEffectOperator: function() { return /* binding */ A; },
/* harmony export */   getPlacementOperator: function() { return /* binding */ g; }
/* harmony export */ });
/* harmony import */ var _effects_EffectAddControlPoints_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./effects/EffectAddControlPoints.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js");
/* harmony import */ var _effects_EffectArrow_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./effects/EffectArrow.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js");
/* harmony import */ var _effects_EffectBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./effects/EffectBuffer.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js");
/* harmony import */ var _effects_EffectControlMeasureLine_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./effects/EffectControlMeasureLine.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js");
/* harmony import */ var _effects_EffectCut_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./effects/EffectCut.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js");
/* harmony import */ var _effects_EffectDashes_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./effects/EffectDashes.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js");
/* harmony import */ var _effects_EffectDonut_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./effects/EffectDonut.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js");
/* harmony import */ var _effects_EffectJog_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./effects/EffectJog.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js");
/* harmony import */ var _effects_EffectMove_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./effects/EffectMove.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js");
/* harmony import */ var _effects_EffectOffset_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./effects/EffectOffset.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js");
/* harmony import */ var _effects_EffectReverse_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./effects/EffectReverse.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js");
/* harmony import */ var _effects_EffectRotate_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./effects/EffectRotate.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js");
/* harmony import */ var _effects_EffectScale_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./effects/EffectScale.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js");
/* harmony import */ var _effects_EffectWave_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./effects/EffectWave.js */ "./node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js");
/* harmony import */ var _placements_PlacementAlongLineSameSize_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./placements/PlacementAlongLineSameSize.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js");
/* harmony import */ var _placements_PlacementAtExtremities_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./placements/PlacementAtExtremities.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js");
/* harmony import */ var _placements_PlacementAtRatioPositions_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./placements/PlacementAtRatioPositions.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js");
/* harmony import */ var _placements_PlacementInsidePolygon_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./placements/PlacementInsidePolygon.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js");
/* harmony import */ var _placements_PlacementOnLine_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./placements/PlacementOnLine.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js");
/* harmony import */ var _placements_PlacementOnVertices_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./placements/PlacementOnVertices.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js");
/* harmony import */ var _placements_PlacementPolygonCenter_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./placements/PlacementPolygonCenter.js */ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function A(p){if(!p)return null;switch(p.type){case"CIMGeometricEffectAddControlPoints":return _effects_EffectAddControlPoints_js__WEBPACK_IMPORTED_MODULE_0__.EffectAddControlPoints.local();case"CIMGeometricEffectArrow":return _effects_EffectArrow_js__WEBPACK_IMPORTED_MODULE_1__.EffectArrow.local();case"CIMGeometricEffectBuffer":return _effects_EffectBuffer_js__WEBPACK_IMPORTED_MODULE_2__.EffectBuffer.local();case"CIMGeometricEffectControlMeasureLine":return _effects_EffectControlMeasureLine_js__WEBPACK_IMPORTED_MODULE_3__.EffectControlMeasureLine.local();case"CIMGeometricEffectCut":return _effects_EffectCut_js__WEBPACK_IMPORTED_MODULE_4__.EffectCut.local();case"CIMGeometricEffectDashes":return _effects_EffectDashes_js__WEBPACK_IMPORTED_MODULE_5__.EffectDashes.local();case"CIMGeometricEffectDonut":return _effects_EffectDonut_js__WEBPACK_IMPORTED_MODULE_6__.EffectDonut.local();case"CIMGeometricEffectJog":return _effects_EffectJog_js__WEBPACK_IMPORTED_MODULE_7__.EffectJog.local();case"CIMGeometricEffectMove":return _effects_EffectMove_js__WEBPACK_IMPORTED_MODULE_8__.EffectMove.local();case"CIMGeometricEffectOffset":return _effects_EffectOffset_js__WEBPACK_IMPORTED_MODULE_9__.EffectOffset.local();case"CIMGeometricEffectReverse":return _effects_EffectReverse_js__WEBPACK_IMPORTED_MODULE_10__.EffectReverse.local();case"CIMGeometricEffectRotate":return _effects_EffectRotate_js__WEBPACK_IMPORTED_MODULE_11__.EffectRotate.local();case"CIMGeometricEffectScale":return _effects_EffectScale_js__WEBPACK_IMPORTED_MODULE_12__.EffectScale.local();case"CIMGeometricEffectWave":return _effects_EffectWave_js__WEBPACK_IMPORTED_MODULE_13__.EffectWave.local()}return null}function g(e){if(!e)return null;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":return _placements_PlacementAlongLineSameSize_js__WEBPACK_IMPORTED_MODULE_14__.PlacementAlongLineSameSize.local();case"CIMMarkerPlacementAtExtremities":return _placements_PlacementAtExtremities_js__WEBPACK_IMPORTED_MODULE_15__.PlacementAtExtremities.local();case"CIMMarkerPlacementAtRatioPositions":return _placements_PlacementAtRatioPositions_js__WEBPACK_IMPORTED_MODULE_16__.PlacementAtRatioPositions.local();case"CIMMarkerPlacementInsidePolygon":return _placements_PlacementInsidePolygon_js__WEBPACK_IMPORTED_MODULE_17__.PlacementInsidePolygon.local();case"CIMMarkerPlacementOnLine":return _placements_PlacementOnLine_js__WEBPACK_IMPORTED_MODULE_18__.PlacementOnLine.local();case"CIMMarkerPlacementOnVertices":return _placements_PlacementOnVertices_js__WEBPACK_IMPORTED_MODULE_19__.PlacementOnVertices.local();case"CIMMarkerPlacementPolygonCenter":return _placements_PlacementPolygonCenter_js__WEBPACK_IMPORTED_MODULE_20__.PlacementPolygonCenter.local()}return null}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EmptyPlacementCursor: function() { return /* binding */ s; },
/* harmony export */   Placement: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this.setIdentity()}getAngle(){return(null==this.rz||0===this.rz&&1!==this.rzCos&&0!==this.rzSin)&&(this.rz=Math.atan2(this.rzSin,this.rzCos)),this.rz}setIdentity(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rzCos=1,this.rzSin=0}setTranslate(t,s){this.tx=t,this.ty=s}setTranslateZ(t){this.tz=t}setRotateCS(t,s){this.rz=void 0,this.rzCos=t,this.rzSin=s}setRotate(t){this.rz=t,this.rzCos=void 0,this.rzSin=void 0}setRotateY(t){this.ry=t}setScale(t){this.s=t}setMeasure(t){this.m=t}}class s{next(){return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CIMSymbolDrawHelper: function() { return /* binding */ tt; },
/* harmony export */   CanvasDrawHelper: function() { return /* binding */ st; },
/* harmony export */   EnvDrawHelper: function() { return /* binding */ et; },
/* harmony export */   HittestDrawHelper: function() { return /* binding */ rt; },
/* harmony export */   Transformation: function() { return /* binding */ $; },
/* harmony export */   cDegToRad: function() { return /* binding */ K; },
/* harmony export */   lineGapType2LineHeight: function() { return /* binding */ ht; }
/* harmony export */ });
/* harmony import */ var _core_fontUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/fontUtils.js */ "./node_modules/@arcgis/core/core/fontUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/ObjectPool.js */ "./node_modules/@arcgis/core/core/ObjectPool.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../geometry/support/centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CIMEffects.js */ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js");
/* harmony import */ var _CIMImageColorSubstitutionHelper_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./CIMImageColorSubstitutionHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMImageColorSubstitutionHelper.js");
/* harmony import */ var _CIMOperators_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./CIMOperators.js */ "./node_modules/@arcgis/core/symbols/cim/CIMOperators.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/* harmony import */ var _defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./defaultCIMValues.js */ "./node_modules/@arcgis/core/symbols/cim/defaultCIMValues.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _imageUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./imageUtils.js */ "./node_modules/@arcgis/core/symbols/cim/imageUtils.js");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Rect.js */ "./node_modules/@arcgis/core/symbols/cim/Rect.js");
/* harmony import */ var _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./TextRasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _views_2d_engine_svgUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../views/2d/engine/svgUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/svgUtils.js");
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../views/2d/engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../views/2d/engine/webgl/mesh/templates/shapingUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js");
/* harmony import */ var _views_2d_layers_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../views/2d/layers/graphics/graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const K=Math.PI/180,Q=.5,Z=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.symbols.cim.CIMSymbolDrawHelper");class ${constructor(t){this._t=t}static createIdentity(){return new $([1,0,0,0,1,0])}clone(){const t=this._t;return new $(t.slice())}transform(t){const e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]}static createScale(t,e){return new $([t,0,0,0,e,0])}scale(t,e){const r=this._t;return r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=e,r[4]*=e,r[5]*=e,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(t,e){return new $([0,0,t,0,0,e])}translate(t,e){const r=this._t;return r[2]+=t,r[5]+=e,this}static createRotate(t){const e=Math.cos(t),r=Math.sin(t);return new $([e,-r,0,r,e,0])}rotate(t){return $.multiply(this,$.createRotate(t),this)}angle(){const t=this._t[0],e=this._t[3],r=Math.sqrt(t*t+e*e);return[t/r,e/r]}static multiply(t,e,r){const s=t._t,i=e._t,o=s[0]*i[0]+s[3]*i[1],n=s[1]*i[0]+s[4]*i[1],a=s[2]*i[0]+s[5]*i[1]+i[2],l=s[0]*i[3]+s[3]*i[4],h=s[1]*i[3]+s[4]*i[4],c=s[2]*i[3]+s[5]*i[4]+i[5],m=r._t;return m[0]=o,m[1]=n,m[2]=a,m[3]=l,m[4]=h,m[5]=c,r}invert(){const t=this._t;let e=t[0]*t[4]-t[1]*t[3];if(0===e)return new $([0,0,0,0,0,0]);e=1/e;const r=(t[1]*t[5]-t[2]*t[4])*e,s=(t[2]*t[3]-t[0]*t[5])*e,i=t[4]*e,o=-t[1]*e,n=-t[3]*e,a=t[0]*e;return new $([i,o,r,n,a,s])}}class tt{constructor(t,e){this._resourceManager=t,this._transfos=[],this._sizeTransfos=[],this._geomUnitsPerPoint=1,this._placementPool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_4__["default"](_CIMPlacements_js__WEBPACK_IMPORTED_MODULE_14__.Placement,void 0,void 0,100),this._earlyReturn=!1,this._mapRotation=0,this._transfos.push(e||$.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}setTransform(t,e){this._transfos=[t||$.createIdentity()],this._sizeTransfos=[e||(t?t.scaleRatio():1)]}setGeomUnitsPerPoint(t){this._geomUnitsPerPoint=t}transformPt(t){return this._transfos[this._transfos.length-1].transform(t)}transformSize(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(t){return this._transfos[this._transfos.length-1].invert().transform(t)}reverseTransformSize(t){return t/this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformScalar(t){return t/this._transfos[this._transfos.length-1].scaleRatio()}getTransformAngle(){return this._transfos[this._transfos.length-1].angle()}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}prevGeomUnitsPerPoint(){return this._transfos.length>2?1:this._geomUnitsPerPoint}isEmbedded(){return this._transfos.length>1}back(){return this._transfos[this._transfos.length-1]}push(t,e){const r=e?t.scaleRatio():1;$.multiply(t,this.back(),t),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*r)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(t,e,r){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(t,e);break;case"CIMTextSymbol":this.drawTextSymbol(t,e,r)}}drawMultiLayerSymbol(t,e){if(!t||!e)return;const r=t.symbolLayers;if(!r)return;const s=t.effects;if(s&&s.length>0){const t=this.executeEffects(s,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayers(r,e.asJSON()),e=t.next()}}else this.drawSymbolLayers(r,e)}executeEffects(t,e){const r=this._resourceManager.geometryEngine;let s=new _CIMEffects_js__WEBPACK_IMPORTED_MODULE_11__.SimpleEffectCursor(_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_6__.GeometryCursor.fromJSONCIM(e));for(const i of t){const t=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_13__.getEffectOperator)(i);t&&(s=t.execute(s,i,this.geomUnitsPerPoint(),null,r))}return s}drawSymbolLayers(t,e){let r=t.length;for(;r--;){const s=t[r];if(!s||!1===s.enable)continue;const i=s.effects;if(i&&i.length>0){const t=this.executeEffects(i,e);if(t){let e=null;for(;(e=t.next())&&(this.drawSymbolLayer(s,e.asJSON()),!this._earlyReturn););}}else this.drawSymbolLayer(s,e);if(this._earlyReturn)return}}drawSymbolLayer(t,e){switch(t.type){case"CIMSolidFill":this.drawSolidFill(e,t.color,t.path);break;case"CIMHatchFill":this.drawHatchFill(e,t);break;case"CIMPictureFill":this.drawPictureFill(e,t);break;case"CIMGradientFill":this.drawGradientFill(e,t);break;case"CIMSolidStroke":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit,t.path);break;case"CIMPictureStroke":this.drawPictureStroke(e,t);break;case"CIMGradientStroke":this.drawGradientStroke(e,t);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(t,e)}}drawHatchFill(t,e){const r=it(e,t,this.geomUnitsPerPoint());r&&(this.pushClipPath(t),this.drawMultiLayerSymbol(e.lineSymbol,r),this.popClipPath())}drawPictureFill(t,e){}drawGradientFill(t,e){}drawPictureStroke(t,e){}drawGradientStroke(t,e){}drawMarkerLayer(t,e){const r=t.markerPlacement;if(r){const s=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_13__.getPlacementOperator)(r);if(s){const i="CIMMarkerPlacementInsidePolygon"===r.type||"CIMMarkerPlacementPolygonCenter"===r.type&&r.clipAtBoundary;i&&this.pushClipPath(e);const o=s.execute(_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_6__.GeometryCursor.fromJSONCIM(e),r,this.geomUnitsPerPoint(),null,this._resourceManager.geometryEngine);if(o){let e=null;for(;(e=o.next())&&(this.drawMarker(t,e),!this._earlyReturn););}i&&this.popClipPath()}}else{const r=this._placementPool.acquire();if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPoint)(e))r.tx=e.x,r.ty=e.y,this.drawMarker(t,r);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(e)){const s=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__.polygonCentroid)(e);s&&([r.tx,r.ty]=s,this.drawMarker(t,r))}else for(const s of e.points)if(r.tx=s[0],r.ty=s[1],this.drawMarker(t,r),this._earlyReturn)break;this._placementPool.release(r)}}drawMarker(t,e){switch(t.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(t,e);break;case"CIMVectorMarker":this.drawVectorMarker(t,e)}}drawPictureMarker(t,e){if(!t)return;const r=this._resourceManager.getResource(t.url),s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.size,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMPictureMarker.size);if(null==r||s<=0)return;const i=r.width,o=r.height;if(!i||!o)return;const n=i/o,a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.scaleX,1),l=$.createIdentity(),h=t.anchorPoint;if(h){let e=h.x,r=h.y;"Absolute"!==t.anchorPointUnits&&(e*=s*n*a,r*=s),l.translate(-e,-r)}let c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.rotation);t.rotateClockwise&&(c=-c),this._mapRotation&&(c+=this._mapRotation),c&&l.rotate(c*K);let m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetX),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetY);if(m||f){if(this._mapRotation){const t=K*this._mapRotation,e=Math.cos(t),r=Math.sin(t),s=m*r+f*e;m=m*e-f*r,f=s}l.translate(m,f)}const u=this.geomUnitsPerPoint();1!==u&&l.scale(u,u);const d=e.getAngle();d&&l.rotate(d),l.translate(e.tx,e.ty),this.push(l,!1),this.drawImage(t,s),this.pop()}drawVectorMarker(t,e){if(!t)return;const r=t.markerGraphics;if(!r)return;const s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.size,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMVectorMarker.size),i=t.frame,o=i?i.ymax-i.ymin:0,n=s&&o?s/o:1,a=$.createIdentity();i&&a.translate(.5*-(i.xmax+i.xmin),.5*-(i.ymax+i.ymin));const l=t.anchorPoint;if(l){let e=l.x,r=l.y;"Absolute"!==t.anchorPointUnits?i&&(e*=i.xmax-i.xmin,r*=i.ymax-i.ymin):(e/=n,r/=n),a.translate(-e,-r)}1!==n&&a.scale(n,n);let h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.rotation);t.rotateClockwise&&(h=-h),this._mapRotation&&(h+=this._mapRotation),h&&a.rotate(h*K);let c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetX),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetY);if(c||m){if(this._mapRotation){const t=K*this._mapRotation,e=Math.cos(t),r=Math.sin(t),s=c*r+m*e;c=c*e-m*r,m=s}a.translate(c,m)}const f=this.geomUnitsPerPoint();1!==f&&a.scale(f,f);const u=e.getAngle();u&&a.rotate(u),a.translate(e.tx,e.ty),this.push(a,t.scaleSymbolsProportionally);for(const d of r){d?.symbol&&d.geometry||Z().error("Invalid marker graphic",d);let t=d.textString;if("number"==typeof t&&(t=t.toString()),this.drawSymbol(d.symbol,d.geometry,t),this._earlyReturn)break}this.pop()}drawTextSymbol(t,e,r){if(!t)return;if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPoint)(e))return;if((0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.height,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMTextSymbol.height)<=0)return;const s=$.createIdentity();let i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.angle);i=-i,i&&s.rotate(i*K);const o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetX),n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetY);(o||n)&&s.translate(o,n);const a=this.geomUnitsPerPoint();1!==a&&s.scale(a,a),s.translate(e.x,e.y),this.push(s,!1),this.drawText(t,r),this.pop()}}class et extends tt{constructor(t,e){super(t,e),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new _Rect_js__WEBPACK_IMPORTED_MODULE_18__["default"](this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__.fromValues)(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(t){if(t&&!(this._clipCount>0))if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))this._processPath(t.rings,0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))this._processPath(t.paths,0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t)){const e=lt(t);e&&this._processPath(e.rings,0)}else console.error("drawSolidFill Unexpected geometry type!")}drawSolidStroke(t,e,r){if(!t||this._clipCount>0||null==r||r<=0)return;const s=Math.max(.5*this.transformSize((0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(r,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMSolidStroke.width)),.5*Q);if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))this._processPath(t.rings,s);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))this._processPath(t.paths,s);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t)){const e=lt(t);e&&this._processPath(e.rings,s)}else console.error("drawSolidStroke unexpected geometry type!")}drawMarkerLayer(t,e){(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(e)&&t.markerPlacement&&("CIMMarkerPlacementInsidePolygon"===t.markerPlacement.type||"CIMMarkerPlacementPolygonCenter"===t.markerPlacement.type&&t.markerPlacement.clipAtBoundary)?this._processPath(e.rings,0):super.drawMarkerLayer(t,e)}drawHatchFill(t,e){this.drawSolidFill(t)}drawPictureFill(t,e){this.drawSolidFill(t)}drawGradientFill(t,e){this.drawSolidFill(t)}drawPictureStroke(t,e){this.drawSolidStroke(t,null,e.width)}drawGradientStroke(t,e){this.drawSolidStroke(t,null,e.width)}pushClipPath(t){this.drawSolidFill(t),this._clipCount++}popClipPath(){this._clipCount--}drawImage(t,e){const{url:r}=t,s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.scaleX,1);let i=s*e,o=e;const n=this._resourceManager.getResource(r);if(null!=n){const t=n.height/n.width;i=s*(e?t>1?e:e/t:n.width),o=e?t>1?e*t:e:n.height}this._merge(this.transformPt([-i/2,-o/2]),0),this._merge(this.transformPt([-i/2,o/2]),0),this._merge(this.transformPt([i/2,-o/2]),0),this._merge(this.transformPt([i/2,o/2]),0)}drawText(t,e){if(!e||0===e.length)return;this._textRasterizer||(this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_19__["default"]);const r=ct(t);let[s,o]=this._textRasterizer.computeTextSize(e,r);s=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(s),o=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(o);const n=this.transformSize(1)*this.reverseTransformScalar(1);s*=n,o*=n;let a=0;switch(t.horizontalAlignment){case"Left":a=s/2;break;case"Right":a=-s/2}let l=0;switch(t.verticalAlignment){case"Bottom":l=o/2;break;case"Top":l=-o/2;break;case"Baseline":l=o/6}this._merge(this.transformPt([-s/2+a,-o/2+l]),0),this._merge(this.transformPt([-s/2+a,o/2+l]),0),this._merge(this.transformPt([s/2+a,-o/2+l]),0),this._merge(this.transformPt([s/2+a,o/2+l]),0)}_processPath(t,e){if(t)for(const r of t){const t=r?r.length:0;if(t>1){this._merge(this.transformPt(r[0]),e);for(let s=1;s<t;s++)this._merge(this.transformPt(r[s]),e)}}}_merge(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)}}class rt extends tt{constructor(){super(...arguments),this._searchPoint=[0,0],this._searchDistPoint=0,this._textInfo=null,this._svg=null,this._path=null,this._canvas=null}destroy(){this._svg=(0,_views_2d_engine_svgUtils_js__WEBPACK_IMPORTED_MODULE_21__.destroyHiddenSvg)(this._svg),this._path=null,this._canvas=null}hitTest(t,e,r,s,n,a){const l=a*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.pt2px)(1);this.setTransform(),this.setGeomUnitsPerPoint(l),this._searchPoint=[(t[0]+t[2])/2,(t[1]+t[3])/2],this._searchDistPoint=(t[2]-t[0])/2/l,this._textInfo=s;const h=e&&("CIMPointSymbol"===e.type&&"Map"!==e.angleAlignment||"CIMTextSymbol"===e.type);if(this._mapRotation=h?n:0,!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("esri-mobile")){const t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__.hittestToleranceSmallSymbol*window.devicePixelRatio),r=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__.hittestSmallSymbolThreshold);!(("CIMLineSymbol"===e?.type||"CIMPolygonSymbol"===e?.type)&&e.symbolLayers?.some(_utils_js__WEBPACK_IMPORTED_MODULE_20__.isCIMFill))&&"CIMMeshSymbol"!==e?.type&&((0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getSize)(e)??0)<r&&(this._searchDistPoint=t)}return this._earlyReturn=!1,this.drawSymbol(e,r),this._earlyReturn}executeEffects(t,e){return"CIMGeometricEffectDashes"===t.at(-1)?.type&&(t=t.slice(0,-1)),super.executeEffects(t,e)}drawSolidFill(t,e,r){null!=r?this._hittestSvgPath(t,r,!0):this._hitTestFill(t)}drawHatchFill(t,e){this._hitTestFill(t)}drawPictureFill(t,e){this._hitTestFill(t)}drawGradientFill(t,e){this._hitTestFill(t)}drawSolidStroke(t,e,r,s,i,o,n){null!=n?this._hittestSvgPath(t,n,!1,r):this._hitTestStroke(t,r)}drawPictureStroke(t,e){this._hitTestStroke(t,e.width)}drawGradientStroke(t,e){this._hitTestStroke(t,e.width)}drawMarkerLayer(t,e){t.markerPlacement&&("CIMMarkerPlacementInsidePolygon"===t.markerPlacement.type||"CIMMarkerPlacementPolygonCenter"===t.markerPlacement.type&&t.markerPlacement.clipAtBoundary)?this._hitTestFill(e):super.drawMarkerLayer(t,e)}pushClipPath(t){}popClipPath(){}drawImage(t,e){const{url:r}=t,s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.scaleX,1),i=this._resourceManager.getResource(r);if(null==i||0===i.height||0===e)return;const o=e*this.geomUnitsPerPoint(),n=o*s*(i.width/i.height),a=this.reverseTransformPt(this._searchPoint),l=this._searchDistPoint;Math.abs(a[0])<n/2+l&&Math.abs(a[1])<o/2+l&&(this._earlyReturn=!0)}drawText(t,e){const r=this._textInfo;if(!r)return;const s=r.get(t);if(!s)return;if(!s.glyphMosaicItems.glyphs.length)return;const i=(0,_views_2d_layers_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_24__.roundPtToWholePixel)((0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.height,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMTextSymbol.height)),{lineGapType:o,lineGap:n}=t,a=o?ht(o,(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(n),i):0,l="CIMBackgroundCallout"===t.callout?.type,h=(0,_views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_23__.shapeGlyphs)(s.glyphMosaicItems,{scale:i/_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__.glyphSize,angle:0,xOffset:0,yOffset:0,horizontalAlignment:t.horizontalAlignment,verticalAlignment:t.verticalAlignment,maxLineWidth:(0,_views_2d_layers_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_24__.getLineWidth)(t.lineWidth),lineHeight:_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_22__.magicLabelLineHeight*Math.max(.25,Math.min(a||1,4)),decoration:t.font.decoration||"none",useCIMAngleBehavior:!0,hasBackground:l}),c=this.reverseTransformPt(this._searchPoint),m=c[0],f=c[1];for(const u of h.glyphs)if(m>u.xTopLeft&&m<u.xBottomRight&&f>-u.yBottomRight&&f<-u.yTopLeft){this._earlyReturn=!0;break}}_hitTestFill(t){let e=null;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t)){const r=t;e=[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))e=t.rings;else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))return;e=t.paths}const r=this.reverseTransformPt(this._searchPoint);if(ot(r,e)&&(this._earlyReturn=!0),!this._earlyReturn){nt(r,e,this.reverseTransformScalar(this._searchDistPoint)*this.prevGeomUnitsPerPoint())&&(this._earlyReturn=!0)}}_getSvgPath(){return null!=this._svg&&null!=this._path||(this._svg??=(0,_views_2d_engine_svgUtils_js__WEBPACK_IMPORTED_MODULE_21__.createHiddenSvg)(),this._path??=(0,_views_2d_engine_svgUtils_js__WEBPACK_IMPORTED_MODULE_21__.createSvgElement)("path"),this._svg.appendChild(this._path)),this._path}_getCanvas(){return this._canvas??=document.createElement("canvas"),this._canvas}_hittestSvgPath(t,e,r,s){const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__.create)();(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_8__.getBoundsXY)(i,t);const o={x:i[0],y:i[1],width:i[2]-i[0],height:i[3]-i[1]},n=this._getSvgPath();n.setAttribute("d",e);const a=n.getBBox(),c=a.width/o.width,m=a.height/o.height,f=this._getCanvas();f.width=a.width,f.height=a.height;const u=f.getContext("2d",{willReadFrequently:!0});u.setTransform(1,0,0,1,a.x,-a.y);const d=new Path2D(e);r?u.fill(d):(u.lineWidth=s*c,u.stroke(d));const p=this.reverseTransformScalar(this._searchDistPoint)*this.prevGeomUnitsPerPoint(),_=this.reverseTransformPt(this._searchPoint),g=(_[0]-o.x-p)*c,y=(o.height-(_[1]-o.y)-p)*m,P=2*p*c,w=2*p*m,x=u.getImageData(g,y,P,w).data;for(let l=3;l<x.length;l+=4)if(x[l]>127.5)return void(this._earlyReturn=!0)}_hitTestStroke(t,e){let r=null;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t)){const e=t;r=[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))r=t.rings;else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))return;r=t.paths}nt(this.reverseTransformPt(this._searchPoint),r,(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(e,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMSolidStroke.width)*this.geomUnitsPerPoint()/2+this.reverseTransformScalar(this._searchDistPoint)*this.prevGeomUnitsPerPoint())&&(this._earlyReturn=!0)}}class st extends tt{constructor(t,e,r,s){super(e,r),this._applyAdditionalRenderProps=s,this._colorSubstitutionHelper=new _CIMImageColorSubstitutionHelper_js__WEBPACK_IMPORTED_MODULE_12__["default"],this._ctx=t}drawSolidFill(t,e){if(!t)return;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))this._buildPath(t.paths,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t))this._buildPath(lt(t).rings,!0);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isMultipoint)(t))return;console.log("CanvasDrawHelper.drawSolidFill - No implementation!")}const r=this._ctx;r.fillStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+(e[3]??255)/255+")",r.fill("evenodd")}drawSolidStroke(t,e,r,s,i,o){if(!t||!e||0===r)return;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))this._buildPath(t.paths,!1);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t))return void console.log("CanvasDrawHelper.drawSolidStroke isn't implemented!");this._buildPath(lt(t).rings,!0)}const n=this._ctx;n.strokeStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+(e[3]??255)/255+")",n.lineWidth=Math.max(this.transformSize(r),Q),this._setCapStyle(s),this._setJoinStyle(i),n.miterLimit=o,n.stroke()}pushClipPath(t){if(this._ctx.save(),(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))this._buildPath(t.paths,!0);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t))return;this._buildPath(lt(t).rings,!0)}this._ctx.clip("evenodd")}popClipPath(){this._ctx.restore()}drawImage(t,e){const{colorSubstitutions:r,url:s,tintColor:i}=t,o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.scaleX,1),n=this._resourceManager.getResource(s);if(null==n)return;let a=e*(n.width/n.height),l=e;e||(a=n.width,l=n.height);const h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.isSVGImage)(s)||"src"in n&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.isSVGImage)(n.src);let c="getFrame"in n?(0,_imageUtils_js__WEBPACK_IMPORTED_MODULE_17__.getFirstFrame)(n):n;r&&(c=this._colorSubstitutionHelper.applyColorSubstitution(c,r)),this._applyAdditionalRenderProps&&!h&&i&&(c=this._colorSubstitutionHelper.tintImageData(c,i));const m=this.transformPt([0,0]),[f,u]=this.getTransformAngle(),d=this.transformSize(1),p=this._ctx;p.save(),p.setTransform({m11:o*d*f,m12:o*d*u,m21:-d*u,m22:d*f,m41:m[0],m42:m[1]}),p.drawImage(c,-a/2,-l/2,a,l),p.restore()}drawText(t,e){if(!e||0===e.length)return;this._textRasterizer||(this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_19__["default"]);const r=ct(t,this.transformSize((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(1))),s=this._textRasterizer.rasterizeText(e,r);if(!s)return;const{size:o,anchorX:n,anchorY:a,canvas:l}=s,h=o[0]*(n+.5),c=o[1]*(a-.5),m=this._ctx,f=this.transformPt([0,0]),[u,d]=this.getTransformAngle(),p=1;m.save(),m.setTransform({m11:p*u,m12:p*d,m21:-p*d,m22:p*u,m41:f[0]-p*h,m42:f[1]+p*c}),m.drawImage(l,0,0),m.restore()}drawPictureFill(t,e){if(!t)return;let{colorSubstitutions:r,height:s,offsetX:i,offsetY:o,rotation:n,scaleX:a,tintColor:l,url:h}=e;const c=this._resourceManager.getResource(h);if(null==c)return;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))this._buildPath(t.rings,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))this._buildPath(t.paths,!0);else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t))this._buildPath(lt(t).rings,!0);else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isMultipoint)(t))return;console.log("CanvasDrawHelper.drawPictureFill - No implementation!")}const m=this._ctx,_=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.isSVGImage)(h)||"src"in c&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.isSVGImage)(c.src);let g,y="getFrame"in c?(0,_imageUtils_js__WEBPACK_IMPORTED_MODULE_17__.getFirstFrame)(c):c;if(r&&(y=this._colorSubstitutionHelper.applyColorSubstitution(y,r)),this._applyAdditionalRenderProps){_||l&&(y=this._colorSubstitutionHelper.tintImageData(y,l)),g=m.createPattern(y,"repeat");const t=this.transformSize(1);n||(n=0),i?i*=t:i=0,o?o*=t:o=0,s&&(s*=t);const e=s?s/c.height:1,r=a&&s?a*s/c.width:1;if(0!==n||1!==e||1!==r||0!==i||0!==o){const t=new DOMMatrix;t.rotateSelf(0,0,-n).translateSelf(i,o).scaleSelf(r,e,1),g.setTransform(t)}}else g=m.createPattern(y,"repeat");m.save(),m.fillStyle=g,m.fill("evenodd"),m.restore()}drawPictureStroke(t,r){if(!t)return;let{colorSubstitutions:s,capStyle:i,joinStyle:n,miterLimit:a,tintColor:l,url:h,width:c}=r;const m=this._resourceManager.getResource(h);if(null==m)return;let _;if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolygon)(t))_=t.rings;else if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isPolyline)(t))_=t.paths;else{if(!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isExtent)(t))return (0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__.isMultipoint)(t)?void console.log("CanvasDrawHelper.drawPictureStroke - No implementation!"):void 0;_=lt(t).rings}c||(c=m.width);const g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.isSVGImage)(h)||"src"in m&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.isSVGImage)(m.src);let y="getFrame"in m?(0,_imageUtils_js__WEBPACK_IMPORTED_MODULE_17__.getFirstFrame)(m):m;s&&(y=this._colorSubstitutionHelper.applyColorSubstitution(y,s)),this._applyAdditionalRenderProps&&(g||l&&(y=this._colorSubstitutionHelper.tintImageData(y,l)));const P=Math.max(this.transformSize((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.pt2px)(c)),.5),w=P/y.width,x=this._ctx,S=x.createPattern(y,"repeat-y");let M,k;x.save(),this._setCapStyle(i),this._setJoinStyle(n),void 0!==a&&(x.miterLimit=a),x.lineWidth=P;for(let o of _)if(o=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(o),ft(o),o&&!(o.length<=1)){M=this.transformPt(o[0]);for(let t=1;t<o.length;t++){k=this.transformPt(o[t]);const e=at(M,k),r=new DOMMatrix;r.translateSelf(0,M[1]-P/2).scaleSelf(w,w,1).rotateSelf(0,0,90-e),S.setTransform(r),x.strokeStyle=S,x.beginPath(),x.moveTo(M[0],M[1]),x.lineTo(k[0],k[1]),x.stroke(),M=k}}x.restore()}_buildPath(t,e){const r=this._ctx;if(r.beginPath(),t)for(const s of t){const t=s?s.length:0;if(t>1){let i=this.transformPt(s[0]);r.moveTo(i[0],i[1]);for(let e=1;e<t;e++)i=this.transformPt(s[e]),r.lineTo(i[0],i[1]);e&&r.closePath()}}}_setCapStyle(t){switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_16__.LineCapStyle.Butt:this._ctx.lineCap="butt";break;case _enums_js__WEBPACK_IMPORTED_MODULE_16__.LineCapStyle.Round:this._ctx.lineCap="round";break;case _enums_js__WEBPACK_IMPORTED_MODULE_16__.LineCapStyle.Square:this._ctx.lineCap="square"}}_setJoinStyle(t){switch(t){case _enums_js__WEBPACK_IMPORTED_MODULE_16__.LineJoinStyle.Bevel:this._ctx.lineJoin="bevel";break;case _enums_js__WEBPACK_IMPORTED_MODULE_16__.LineJoinStyle.Round:this._ctx.lineJoin="round";break;case _enums_js__WEBPACK_IMPORTED_MODULE_16__.LineJoinStyle.Miter:this._ctx.lineJoin="miter"}}}function it(t,e,r){let s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.separation,_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_15__.defaultCIMValues.CIMHatchFill.separation)*r,i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.rotation);if(0===s)return null;s<0&&(s=-s);let o=0;const n=.5*s;for(;o>n;)o-=s;for(;o<-n;)o+=s;const a=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_7__.create)();(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_8__.getBoundsXY)(a,e),a[0]-=n,a[1]-=n,a[2]+=n,a[3]+=n;const c=[[a[0],a[1]],[a[0],a[3]],[a[2],a[3]],[a[2],a[1]]];for(;i>180;)i-=180;for(;i<0;)i+=180;const m=Math.cos(i*K),f=Math.sin(i*K),u=-s*f,d=s*m;let p,_,g,y;o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetX)*r*f-(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getNumericValue)(t.offsetY)*r*m,p=g=Number.MAX_VALUE,_=y=-Number.MAX_VALUE;for(const l of c){const t=l[0],e=l[1],r=m*t+f*e,s=-f*t+m*e;p=Math.min(p,r),g=Math.min(g,s),_=Math.max(_,r),y=Math.max(y,s)}g=Math.floor(g/s)*s;let P=m*p-f*g-u*o/s,w=f*p+m*g-d*o/s,S=m*_-f*g-u*o/s,M=f*_+m*g-d*o/s;const b=1+Math.round((y-g)/s),k=[];for(let l=0;l<b;l++)P+=u,w+=d,S+=u,M+=d,k.push([[P,w],[S,M]]);return{paths:k}}function ot(t,e){let r=0;for(const s of e){const e=s.length;for(let i=1;i<e;i++){const e=s[i-1],o=s[i];if(e[1]>t[1]==o[1]>t[1])continue;(o[0]-e[0])*(t[1]-e[1])-(o[1]-e[1])*(t[0]-e[0])>0?r++:r--}}return 0!==r}function nt(t,e,r){for(const s of e){const e=s.length;for(let i=1;i<e;i++){const e=s[i-1],o=s[i];let n=(o[0]-e[0])*(o[0]-e[0])+(o[1]-e[1])*(o[1]-e[1]);if(0===n)continue;n=Math.sqrt(n);const a=((o[0]-e[0])*(t[1]-e[1])-(o[1]-e[1])*(t[0]-e[0]))/n;if(Math.abs(a)<r){const s=((o[0]-e[0])*(t[0]-e[0])+(o[1]-e[1])*(t[1]-e[1]))/n;if(s>-r&&s<n+r)return!0}}}return!1}function at(t,e){const r=e[0]-t[0],s=e[1]-t[1];return 180/Math.PI*Math.atan2(s,r)}const lt=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null,ht=(t,e,r)=>{switch(t){case"ExtraLeading":return 1+e/r;case"Multiple":return e;case"Exact":return e/r}};function ct(e,r=1){const s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.fromCIMFontDecoration)(e),i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.fromCIMFontStyle)(e.fontStyleName),o=e.fontFamilyName??_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_0__.defaultFontFamily,{weight:n,style:a}=i,l=r*(e.height||5),h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.fromCIMHorizontalAlignment)(e.horizontalAlignment),c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.fromCIMVerticalAlignment)(e.verticalAlignment),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getFillColor)(e),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getFillColor)(e.haloSymbol),u=null!=f?r*(e.haloSize??0):0,d=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getStrokeColor)(e.symbol),p=r*((0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getStrokeWidth)(e.symbol)||0),_="CIMBackgroundCallout"===e.callout?.type?e.callout.backgroundSymbol:null,g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getFillColor)(_),y=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getStrokeWidth)(_),P=(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getStrokeColor)(_);return{color:m,size:l,horizontalAlignment:h,verticalAlignment:c,font:{family:o,style:(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getFontStyle)(a),weight:(0,_utils_js__WEBPACK_IMPORTED_MODULE_20__.getFontWeight)(n),decoration:s},outline:{size:p||0,color:d},halo:{size:u||0,color:f,style:a},backgroundColor:g,borderLine:null!=y&&null!=P?{size:y,color:P}:null,pixelRatio:1,premultiplyColors:!0}}const mt=1e-4;function ft(t){let e,r,s,i,o,n=t[0],a=1;for(;a<t.length;)e=t[a][0]-n[0],r=t[a][1]-n[1],i=0!==e?r/e:Math.PI/2,void 0!==s&&i-s<=mt?(t.splice(a-1,1),n=o):(o=n,n=t[a],a++),s=i}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CIMSymbolHelper: function() { return /* binding */ ee; },
/* harmony export */   CIMSymbolInflatedSizeHelper: function() { return /* binding */ Z; },
/* harmony export */   capTypeToEnum: function() { return /* binding */ re; },
/* harmony export */   getEffectsInflateSize: function() { return /* binding */ Q; },
/* harmony export */   slsDashToTemplateArray: function() { return /* binding */ me; },
/* harmony export */   symbolToCIM: function() { return /* binding */ W; }
/* harmony export */ });
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/BidiText.js */ "./node_modules/@arcgis/core/core/BidiText.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _Font_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Font.js */ "./node_modules/@arcgis/core/symbols/Font.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/* harmony import */ var _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CIMSymbolDrawHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js");
/* harmony import */ var _defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./defaultCIMValues.js */ "./node_modules/@arcgis/core/symbols/cim/defaultCIMValues.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _support_defaults_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/defaults.js */ "./node_modules/@arcgis/core/symbols/support/defaults.js");
/* harmony import */ var _views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../views/2d/engine/vectorTiles/GeometryUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js");
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../views/2d/engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/* harmony import */ var _views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../views/2d/engine/webgl/mesh/templates/shapingUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js");
/* harmony import */ var _views_2d_layers_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../views/2d/layers/graphics/graphicsUtils.js */ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const N=Math.PI,Y=N/2,_=Math.PI/180,U=96/72,q=1.4142135623730951,H=4,O=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__["default"].getLogger("esri.symbols.cim.CIMSymbolHelper");function W(e){let t;switch(e.type){case"cim":return e.data;case"web-style":return e;case"simple-marker":{const r=ee.fromSimpleMarker(e);if(!r)throw new Error("InternalError: Cannot convert symbol to CIM");t=r;break}case"picture-marker":t=ee.fromPictureMarker(e);break;case"simple-line":t=ee.fromSimpleLineSymbol(e);break;case"simple-fill":t=ee.fromSimpleFillSymbol(e);break;case"picture-fill":t=ee.fromPictureFillSymbol(e);break;case"text":t=ee.fromTextSymbol(e)}return{type:"CIMSymbolReference",symbol:t}}function $(e,t,r){switch(t.type){case"CIMSymbolReference":return $(e,t.symbol,r);case"CIMPointSymbol":null==r&&(r={x:0,y:0}),e.drawSymbol(t,r);break;case"CIMLineSymbol":null==r&&(r={paths:[[[0,0],[10,0]]]}),e.drawSymbol(t,r);break;case"CIMPolygonSymbol":null==r&&(r={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]}),e.drawSymbol(t,r);break;case"CIMTextSymbol":{const r={x:0,y:0};e.drawSymbol(t,r);break}case"CIMVectorMarker":{const r=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_9__.Placement;e.drawMarker(t,r);break}}return e.envelope()}function J(e){if(!e)return 0;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAtExtremities":case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementAtRatioPositions":case"CIMMarkerPlacementOnLine":case"CIMMarkerPlacementOnVertices":return Math.abs(e.offset);default:return 0}}function K(e){if(!e)return 0;switch(e.type){case"CIMGeometricEffectArrow":return Math.abs(.5*e.width);case"CIMGeometricEffectBuffer":return Math.abs(e.size);case"CIMGeometricEffectControlMeasureLine":return 500;case"CIMGeometricEffectExtension":case"CIMGeometricEffectRadial":return Math.abs(e.length);case"CIMGeometricEffectJog":return Math.abs(.5*e.length);case"CIMGeometricEffectMove":return Math.max(Math.abs((0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.offsetX)),Math.abs((0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.offsetY)));case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":return Math.abs(e.offset);case"CIMGeometricEffectRegularPolygon":return Math.abs(e.radius);case"CIMGeometricEffectRotate":case"CIMGeometricEffectScale":default:return 0;case"CIMGeometricEffectTaperedPolygon":return.5*Math.max(Math.abs(e.fromWidth),Math.abs(e.toWidth));case"CIMGeometricEffectWave":return Math.abs(e.amplitude);case"CIMGeometricEffectDonut":return Math.abs(e.width)}}function Q(e){if(!e)return 0;let t=0;for(const r of e)t+=K(r);return t}class Z{static getSymbolInflateSize(e,t,r,o,a){return e||(e=[0,0,0,0]),t?this._getInflateSize(e,t,r,o,a):e}static safeSize(e){const t=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(t*t+r*r)}static _vectorMarkerBounds(e,t,r,o){let a=!0;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.create)();if(t?.markerGraphics)for(const s of t.markerGraphics){const t=[0,0,0,0];s.geometry&&((0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_7__.getBoundsXY)(i,s.geometry),t[0]=0,t[1]=0,t[2]=0,t[3]=0,this.getSymbolInflateSize(t,s.symbol,r,0,o),i[0]+=t[0],i[1]+=t[1],i[2]+=t[2],i[3]+=t[3],a?(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],a=!1):(e[0]=Math.min(e[0],i[0]),e[1]=Math.min(e[1],i[1]),e[2]=Math.max(e[2],i[2]),e[3]=Math.max(e[3],i[3])))}return e}static _getInflateSize(e,t,r,o,a){if(fe(t)){const s=this._getLayersInflateSize(e,t.symbolLayers,r,o,a),i=Q(t.effects);return i>0&&(s[0]-=i,s[1]-=i,s[2]+=i,s[3]+=i),s}return this._getTextInflatedSize(e,t,a)}static _getLayersInflateSize(e,t,r,o,a){let n=!0;if(!t)return e;for(const l of t){if(!l)continue;let t=[0,0,0,0];switch(l.type){case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=l;let r=e.width;null!=r&&(e.capStyle===_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Square||e.joinStyle===_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineJoinStyle.Miter?r/=q:r/=2,t[0]=-r,t[1]=-r,t[2]=r,t[3]=r);break}case"CIMCharacterMarker":case"CIMVectorMarker":case"CIMPictureMarker":{const e=l;if("CIMVectorMarker"===l.type){const e=l;if(t=this._vectorMarkerBounds(t,e,r,a),e.frame){const r=(e.frame.xmin+e.frame.xmax)/2,o=(e.frame.ymin+e.frame.ymax)/2;if(t[0]-=r,t[1]-=o,t[2]-=r,t[3]-=o,null!=e.size){const r=e.size/(e.frame.ymax-e.frame.ymin);t[0]*=r,t[1]*=r,t[2]*=r,t[3]*=r}}}else if("CIMPictureMarker"===l.type){const o=l,a=r.getResource(o.url);let s=1;if(null!=a&&a.height&&(s=a.width/a.height),null!=e.size){const r=e.size/2,a=e.size*s*o.scaleX/2;t=[-a,-r,a,r]}}else if(null!=e.size){const r=e.size/2;t=[-r,-r,r,r]}if(e.anchorPoint){let r,o;"Absolute"===e.anchorPointUnits?(r=e.anchorPoint.x,o=e.anchorPoint.y):(r=e.anchorPoint.x*(t[2]-t[0]),o=e.anchorPoint.y*(t[3]-t[1]));const a=1.25*Math.sqrt(r*r+o*o);t[0]-=a,t[1]-=a,t[2]+=a,t[3]+=a}let n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.rotation);if(e.rotateClockwise&&(n=-n),o&&(n-=o),n){const e=_*n,r=Math.cos(e),o=Math.sin(e),a=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.create)([_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_15__.cInfinity,_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_15__.cInfinity,-_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_15__.cInfinity,-_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_15__.cInfinity]);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.expandPointInPlace)(a,[t[0]*r-t[1]*o,t[0]*o+t[1]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.expandPointInPlace)(a,[t[0]*r-t[3]*o,t[0]*o+t[3]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.expandPointInPlace)(a,[t[2]*r-t[1]*o,t[2]*o+t[1]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__.expandPointInPlace)(a,[t[2]*r-t[3]*o,t[2]*o+t[3]*r]),t=a}let c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.offsetX),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.offsetY);if(o){const e=_*o,t=Math.cos(e),r=Math.sin(e),a=c*r+m*t;c=c*t-m*r,m=a}t[0]+=c,t[1]+=m,t[2]+=c,t[3]+=m;const f=J(e.markerPlacement);f>0&&(t[0]-=f,t[1]-=f,t[2]+=f,t[3]+=f);break}}const c=Q(l.effects);c>0&&(t[0]-=c,t[1]-=c,t[2]+=c,t[3]+=c),n?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],n=!1):(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}return e}static _getTextInflatedSize(e,t,r){const o=(0,_views_2d_layers_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_18__.roundPtToWholePixel)(t.height??_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_11__.defaultCIMValues.CIMTextSymbol.height);if(e[0]=-o/2,e[1]=-o/2,e[2]=o/2,e[3]=o/2,!r)return e;const a=r.get(t);if(!a)return e;if(!a.glyphMosaicItems.glyphs.length)return e;const{lineGapType:s,lineGap:i}=t,n=s?(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__.lineGapType2LineHeight)(s,i??0,o):0,l="CIMBackgroundCallout"===t.callout?.type,c=(0,_views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_17__.shapeGlyphs)(a.glyphMosaicItems,{scale:o/_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_16__.glyphSize,angle:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(t.angle),xOffset:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(t.offsetX),yOffset:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(t.offsetY),horizontalAlignment:t.horizontalAlignment,verticalAlignment:t.verticalAlignment,maxLineWidth:(0,_views_2d_layers_graphics_graphicsUtils_js__WEBPACK_IMPORTED_MODULE_18__.getLineWidth)(t.lineWidth),lineHeight:_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_16__.magicLabelLineHeight*Math.max(.25,Math.min(n||1,4)),decoration:t.font.decoration||"none",useCIMAngleBehavior:!0,hasBackground:l}).boundsT,m=Math.sqrt(c.width*c.width+c.height*c.height);return e[0]-=c.x+m,e[1]-=c.y-m,e[2]+=c.x+m,e[3]+=-c.y+m,e}}class ee{static getEnvelope(e,t,r){if(!e)return null;const o=new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__.EnvDrawHelper(r);if(Array.isArray(e)){let r;for(const a of e)r?r.union($(o,a,t)):r=$(o,a,t);return r}return $(o,e,t)}static getTextureAnchor(e,t){const r=this.getEnvelope(e,null,t);if(!r)return[0,0,0];const o=(r.x+.5*r.width)*U,a=(r.y+.5*r.height)*U,s=r.width*U+2,i=r.height*U+2;return[-o/s,-a/i,i]}static rasterize(e,t,r,o,a=!0,s){const i=r||this.getEnvelope(t,null,o);if(!i)return[null,0,0,0,0];const n=Math.max(i.width,i.height)*U;let l=null!=s?Math.max(s/n,1):1;l*=U;const m=(i.x+.5*i.width)*l,h=(i.y+.5*i.height)*l;e.width=i.width*l,e.height=i.height*l,r||(e.width+=2,e.height+=2);const u=e.getContext("2d",{willReadFrequently:!0}),p=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__.Transformation.createScale(l,-l);p.translate(.5*e.width-m,.5*e.height+h);const M=new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__.CanvasDrawHelper(u,o,p);switch(t.type){case"CIMPointSymbol":{const e={type:"point",x:0,y:0};M.drawSymbol(t,e);break}case"CIMVectorMarker":{const e=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_9__.Placement;M.drawMarker(t,e);break}}const S=u.getImageData(0,0,e.width,e.height),d=new Uint8Array(S.data);if(a){let e;for(let t=0;t<d.length;t+=4)e=d[t+3]/255,d[t]=d[t]*e,d[t+1]=d[t+1]*e,d[t+2]=d[t+2]*e}return[d,e.width,e.height,-m/e.width,-h/e.height]}static fromTextSymbol(e){const{text:t}=e;return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:ee.createCIMTextSymbolfromTextSymbol(e),textString:t}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:"Display"}}static fromPictureFillSymbol(e){const{height:t,outline:r,width:o,xoffset:a,xscale:s,yoffset:i,yscale:n}=e,l=[],c={type:"CIMPolygonSymbol",symbolLayers:l};if(r){const e=pe(r);e&&l.push(e)}let m=e.url;"esriPFS"===e.type&&e.imageData&&(m=e.imageData);const f="angle"in e?e.angle??0:0,y=(o??0)*(s||1),h=(t??0)*(n||1);return l.push({type:"CIMPictureFill",invertBackfaceTexture:!1,scaleX:1,textureFilter:_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureFilter.Picture,tintColor:null,url:m,height:h,width:y,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(i),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(-f),colorSubstitutions:null}),c}static fromSimpleFillSymbol(e){const{color:r,style:o,outline:s}=e,i=[],n={type:"CIMPolygonSymbol",symbolLayers:i};if(s){const e=pe(s);e&&i.push(e)}if(o&&"solid"!==o&&"none"!==o&&"esriSFSSolid"!==o&&"esriSFSNull"!==o){const e={type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",color:ie(r),capStyle:_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Butt,joinStyle:_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineJoinStyle.Miter,width:.75}]};let s=0;const n=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(he(o)?8:10);switch(o){case"vertical":case"esriSFSVertical":s=90;break;case"forward-diagonal":case"esriSFSForwardDiagonal":case"diagonal-cross":case"esriSFSDiagonalCross":s=-45;break;case"backward-diagonal":case"esriSFSBackwardDiagonal":s=45;break;case"cross":case"esriSFSCross":s=0}i.push({type:"CIMHatchFill",lineSymbol:e,offsetX:0,offsetY:0,rotation:s,separation:n}),"cross"===o||"esriSFSCross"===o?i.push({type:"CIMHatchFill",lineSymbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(e),offsetX:0,offsetY:0,rotation:90,separation:n}):"diagonal-cross"!==o&&"esriSFSDiagonalCross"!==o||i.push({type:"CIMHatchFill",lineSymbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(e),offsetX:0,offsetY:0,rotation:45,separation:n})}else!o||"solid"!==o&&"esriSFSSolid"!==o||i.push({type:"CIMSolidFill",enable:!0,color:ie(r)});return n}static fromSimpleLineSymbol(e){const{cap:t,color:r,join:o,marker:a,miterLimit:s,style:i,width:n}=e;let l=null;"solid"!==i&&"none"!==i&&"esriSLSSolid"!==i&&"esriSLSNull"!==i&&(l=[{type:"CIMGeometricEffectDashes",dashTemplate:me(i,t),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]);const c=[];if(a){let e;switch(a.placement){case"begin-end":e=_enums_js__WEBPACK_IMPORTED_MODULE_12__.ExtremityPlacement.Both;break;case"begin":e=_enums_js__WEBPACK_IMPORTED_MODULE_12__.ExtremityPlacement.JustBegin;break;case"end":e=_enums_js__WEBPACK_IMPORTED_MODULE_12__.ExtremityPlacement.JustEnd;break;default:e=_enums_js__WEBPACK_IMPORTED_MODULE_12__.ExtremityPlacement.None}const t=ee.fromSimpleMarker(a,n,r).symbolLayers[0];t.markerPlacement={type:"CIMMarkerPlacementAtExtremities",placePerPart:!1,angleToLine:!0,offset:0,extremityPlacement:e,offsetAlongLine:0},c.push(t)}return c.push({type:"CIMSolidStroke",color:"none"!==i&&"esriSLSNull"!==i?ie(r):[0,0,0,0],capStyle:re(t),joinStyle:oe(o),miterLimit:s,width:n,effects:l}),{type:"CIMLineSymbol",symbolLayers:c}}static fromPictureMarker(e){const{angle:t,height:r,width:o,xoffset:a,yoffset:s}=e;let i=e.url;return"esriPMS"===e.type&&e.imageData&&(i=e.imageData),{type:"CIMPointSymbol",symbolLayers:[{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureFilter.Picture,tintColor:null,url:i,size:r,width:o,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(s),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(-t)}]}}static createCIMTextSymbolfromTextSymbol(t){const{angle:r,color:o,font:a,haloColor:s,haloSize:i,horizontalAlignment:n,kerning:l,lineWidth:c,text:m,verticalAlignment:f,xoffset:y,yoffset:h,backgroundColor:u,borderLineColor:p,borderLineSize:M}=t;let S,d,L,z,D,E;a&&(S=a.family,d=a.style,L=a.weight,z=a.size,D=a.decoration);let G=!1;if(m){G=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_0__.bidiText)(m)[1]}return(u||M)&&(E={type:"CIMBackgroundCallout",margin:null,backgroundSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",color:ie(u)},{type:"CIMSolidStroke",color:ie(p),width:M}]},accentBarSymbol:null,gap:null,leaderLineSymbol:null,lineStyle:null}),{type:"CIMTextSymbol",angle:r,blockProgression:_enums_js__WEBPACK_IMPORTED_MODULE_12__.BlockProgression.BTT,depth3D:1,extrapolateBaselines:!0,fontEffects:_enums_js__WEBPACK_IMPORTED_MODULE_12__.FontEffects.Normal,fontEncoding:_enums_js__WEBPACK_IMPORTED_MODULE_12__.FontEncoding.Unicode,fontFamilyName:S||"Arial",fontStyleName:ne(d,L),fontType:_enums_js__WEBPACK_IMPORTED_MODULE_12__.FontType.Unspecified,haloSize:i,height:z,hinting:_enums_js__WEBPACK_IMPORTED_MODULE_12__.GlyphHinting.Default,horizontalAlignment:ae(n??"center"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:"Multiple",lineWidth:c,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(y),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(h),strikethrough:"line-through"===D,underline:"underline"===D,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:ie(o)}]},haloSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:ie(s)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:"Normal",textDirection:G?_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextReadingDirection.RTL:_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextReadingDirection.LTR,verticalAlignment:se(f??"baseline"),verticalGlyphOrientation:_enums_js__WEBPACK_IMPORTED_MODULE_12__.VerticalGlyphOrientation.Right,wordSpacing:100,billboardMode3D:_enums_js__WEBPACK_IMPORTED_MODULE_12__.BillBoardMode.FaceNearPlane,callout:E}}static createPictureMarkerRasterizationParam(e){const{angle:t,height:r,width:o,xoffset:a,yoffset:s}=e,i=e.url??e.source?.url??e.source?.imageData;return i?{type:"sprite-rasterization-param",overrides:[],resource:{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureFilter.Picture,tintColor:null,url:i,size:r,width:o,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(s),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(-t)}}:null}static createPictureFillRasterizationParam(e){const{width:t,height:r,xoffset:o,yoffset:a,url:s}=e;return s?{type:"sprite-rasterization-param",overrides:[],resource:{type:"CIMPictureFill",scaleX:1,textureFilter:_enums_js__WEBPACK_IMPORTED_MODULE_12__.TextureFilter.Picture,tintColor:null,url:s,width:t,height:r,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(o),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(a),rotation:0}}:null}static fromSimpleMarker(e,t,r){const{style:o}=e,a=e.color??r;if("path"===o||"esriSMSPath"===o){const t=[];if("outline"in e&&e.outline){const r=e.outline;t.push({type:"CIMSolidStroke",enable:!0,width:r.width,color:ie(r.color),path:e.path})}t.push({type:"CIMSolidFill",enable:!0,color:ie(a),path:e.path});const[r,o]=ye("square");return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:-(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.angle),size:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.size||6),offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.xoffset),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.yoffset),scaleSymbolsProportionally:!1,frame:r,markerGraphics:[{type:"CIMMarkerGraphic",geometry:o,symbol:{type:"CIMPolygonSymbol",symbolLayers:t}}]}]}}const s=[];let i,n,l=e.size;if("outline"in e&&e.outline&&"none"!==e.outline.style&&"esriSLSNull"!==e.outline.style){const t=e.outline,r="solid"!==t.style&&"esriSLSSolid"!==t.style;[i,n]=r?ye(o,e.size):ye(o);const a=t.width??_support_defaults_js__WEBPACK_IMPORTED_MODULE_14__.defaultPolylineSymbol2D.width;if(r){const t=a/e.size,r=(i.xmax-i.xmin)*t/2,o=(i.ymax-i.ymin)*t/2;i.xmin-=r,i.xmax+=r,i.ymin-=o,i.ymax+=o,l&&(l+=a)}const c="cross"!==e.style&&"x"!==e.style||"dot"===e?.outline.style||"short-dot"===e?.outline.style?_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineDashEnding.HalfGap:_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineDashEnding.FullPattern,m=r?[{type:"CIMGeometricEffectAddControlPoints"},{type:"CIMGeometricEffectDashes",dashTemplate:me(t.style,null).map((e=>t.width&&t.width>0?e*t.width:e)),lineDashEnding:c,controlPointEnding:_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineDashEnding.FullPattern}]:void 0;s.push({type:"CIMSolidStroke",capStyle:r?_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Round:_enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Butt,enable:!0,width:a,color:ie(t.color),effects:m})}else!t||"line-marker"!==e.type||"cross"!==e.style&&"x"!==e.style?[i,n]=ye(o):([i,n]=ye(o),s.push({type:"CIMSolidStroke",enable:!0,width:t,color:ie(a)}));s.push({type:"CIMSolidFill",enable:!0,color:ie(a)});const c={type:"CIMPolygonSymbol",symbolLayers:s};return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(-e.angle),size:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(l||6*t),offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.xoffset),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.getNumericValue)(e.yoffset),scaleSymbolsProportionally:!1,frame:i,markerGraphics:[{type:"CIMMarkerGraphic",geometry:n,symbol:c}]}]}}static fromCIMHatchFill(e,r){const o=r*(e.separation??_defaultCIMValues_js__WEBPACK_IMPORTED_MODULE_11__.defaultCIMValues.CIMHatchFill.separation),a=o/2,s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(e.lineSymbol);s.symbolLayers?.forEach((e=>{switch(e.type){case"CIMSolidStroke":null!=e.width&&(e.width*=r),e.effects?.forEach((e=>{if("CIMGeometricEffectDashes"===e.type){const t=e.dashTemplate;e.dashTemplate=t?.map((e=>e*r))}}));break;case"CIMVectorMarker":{null!=e.size&&(e.size*=r);const t=e.markerPlacement;null!=t&&"placementTemplate"in t&&(t.placementTemplate=t.placementTemplate.map((e=>e*r)));break}}}));let i=this._getLineSymbolPeriod(s)||H;for(;i<H;)i*=2;const n=i/2;return{type:"CIMVectorMarker",frame:{xmin:-n,xmax:n,ymin:-a,ymax:a},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-n,0],[n,0]]]},symbol:s}],size:o}}static fetchResources(e,t,r,o=null){return e&&t?(te(e,(e=>{ue(e,t,r),"url"in e&&e.url&&r.push(t.fetchResource(e.url,{signal:o}))})),r):r}static fetchFonts(e,t,r){if(e&&t)if("symbolLayers"in e&&e.symbolLayers){for(const o of e.symbolLayers)if("CIMVectorMarker"===o.type&&o.markerGraphics)for(const e of o.markerGraphics)e?.symbol&&ee.fetchFonts(e.symbol,t,r)}else if("CIMTextSymbol"===e.type){const{fontFamilyName:o,fontStyleName:a}=e;if(!o||"calcitewebcoreicons"===o.toLowerCase())return;const{style:s,weight:i}=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.fromCIMFontStyle)(a),n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.fromCIMFontDecoration)(e),c=new _Font_js__WEBPACK_IMPORTED_MODULE_8__["default"]({family:o,style:s,weight:i,decoration:n});r.push(t.loadFont(c).catch((()=>{O().error(`Unsupported font ${o} in CIM symbol`)})))}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers)if(r){const e=this._getEffectsRepeat(r.effects);if(e)return e;switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case"CIMGeometricEffectDashes":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case"CIMGeometricEffectWave":return t.period;default:O().error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=+r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={...e};r.markerPlacement=null,r.anchorPoint=null;const s=Math.abs(t.stepX),i=Math.abs(t.stepY),n=(t.randomness??100)/100;let l,c,m,f;if("Random"===t.gridType){const e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__.px2pt)(_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_16__.randomInsidePolygonTextureSize),r=Math.max(Math.floor(e/s),1),y=Math.max(Math.floor(e/i),1);l=r*s/2,c=y*i/2,m=2*c;const h=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__["default"](t.seed),u=n*s/1.5,p=n*i/1.5;f=[];for(let t=0;t<r;t++)for(let e=0;e<y;e++){const r=t*s-l+u*(.5-h.getFloat()),o=e*i-c+p*(.5-h.getFloat());f.push({x:r,y:o}),0===t&&f.push({x:r+2*l,y:o}),0===e&&f.push({x:r,y:o+2*c})}}else!0===t.shiftOddRows?(l=s/2,c=i,m=2*i,f=[{x:-l,y:0},{x:l,y:0},{x:0,y:c},{x:0,y:-c}]):(l=s/2,c=i/2,m=i,f=[{x:-s,y:0},{x:0,y:-i},{x:-s,y:-i},{x:0,y:0},{x:s,y:0},{x:0,y:i},{x:s,y:i},{x:-s,y:i},{x:s,y:-i}]);return{type:"CIMVectorMarker",frame:{xmin:-l,xmax:l,ymin:-c,ymax:c},markerGraphics:f.map((e=>({type:"CIMMarkerGraphic",geometry:e,symbol:{type:"CIMPointSymbol",symbolLayers:[r]}}))),size:m}}}function te(e,t){if(e)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const r=e.symbolLayers;if(!r)return;for(const e of r)if(t(e),"CIMVectorMarker"===e.type){const r=e.markerGraphics;if(!r)continue;for(const e of r)if(e){const r=e.symbol;r&&te(r,t)}}break}}}const re=e=>{if(!e)return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Butt;switch(e){case"butt":return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Butt;case"square":return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Square;case"round":return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineCapStyle.Round}},oe=e=>{if(!e)return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineJoinStyle.Miter;switch(e){case"miter":return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineJoinStyle.Miter;case"round":return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineJoinStyle.Round;case"bevel":return _enums_js__WEBPACK_IMPORTED_MODULE_12__.LineJoinStyle.Bevel}},ae=e=>{if(null==e)return"Center";switch(e){case"left":return"Left";case"right":return"Right";case"center":return"Center"}},se=e=>{if(null==e)return"Center";switch(e){case"baseline":return"Baseline";case"top":return"Top";case"middle":return"Center";case"bottom":return"Bottom"}},ie=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:o,a}=e;return[t,r,o,255*a]},ne=(e,t)=>{const r=le(t),o=ce(e);return r&&o?`${r}-${o}`:`${r}${o}`},le=e=>{if(!e)return"";switch(e.toLowerCase()){case"bold":case"bolder":return"bold"}return""},ce=e=>{if(!e)return"";switch(e.toLowerCase()){case"italic":case"oblique":return"italic"}return""},me=(e,t)=>{const r=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("safari")?.001:0,o="butt"===t;switch(e){case"dash":case"esriSLSDash":return o?[4,3]:[3,4];case"dash-dot":case"esriSLSDashDot":return o?[4,3,1,3]:[3,4,r,4];case"dot":case"esriSLSDot":return o?[1,3]:[r,4];case"long-dash":case"esriSLSLongDash":return o?[8,3]:[7,4];case"long-dash-dot":case"esriSLSLongDashDot":return o?[8,3,1,3]:[7,4,r,4];case"long-dash-dot-dot":case"esriSLSDashDotDot":return o?[8,3,1,3,1,3]:[7,4,r,4,r,4];case"short-dash":case"esriSLSShortDash":return o?[4,1]:[3,2];case"short-dash-dot":case"esriSLSShortDashDot":return o?[4,1,1,1]:[3,2,r,2];case"short-dash-dot-dot":case"esriSLSShortDashDotDot":return o?[4,1,1,1,1,1]:[3,2,r,2,r,2];case"short-dot":case"esriSLSShortDot":return o?[1,1]:[r,2];case"solid":case"esriSLSSolid":case"none":return O().error("Unexpected: style does not require rasterization"),[0,0];default:return O().error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),[0,0]}};function fe(e){return void 0!==e.symbolLayers}const ye=(e,t=100)=>{const r=t/2;let o,a;const s=e;if("circle"===s||"esriSMSCircle"===s){const e=.25;let t=Math.acos(1-e/r),s=Math.ceil(N/t/4);0===s&&(s=1),t=Y/s,s*=4;const i=[];i.push([r,0]);for(let o=1;o<s;o++)i.push([r*Math.cos(o*t),-r*Math.sin(o*t)]);i.push([r,0]),o={rings:[i]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("cross"===s||"esriSMSCross"===s){const e=0;o={paths:[[[e,r],[e,-r]],[[r,e],[-r,e]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("diamond"===s||"esriSMSDiamond"===s)o={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("square"===s||"esriSMSSquare"===s)o={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("x"===s||"esriSMSX"===s)o={paths:[[[r,r],[-r,-r]],[[r,-r],[-r,r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("triangle"===s||"esriSMSTriangle"===s){const e=t*.5773502691896257,r=-e,s=2/3*t,i=s-t;o={rings:[[[r,i],[0,s],[e,i],[r,i]]]},a={xmin:r,ymin:i,xmax:e,ymax:s}}else"arrow"===s&&(o={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r});return[a,o]},he=e=>"vertical"===e||"horizontal"===e||"cross"===e||"esriSFSCross"===e||"esriSFSVertical"===e||"esriSFSHorizontal"===e;function ue(e,t,r){if(!e.effects||null!=t.geometryEngine)return;if(t.geometryEnginePromise)return void r.push(t.geometryEnginePromise);(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.isGeometryEngineRequired)(e.effects)&&(t.geometryEnginePromise=(0,_utils_js__WEBPACK_IMPORTED_MODULE_13__.importGeometryEngine)(),r.push(t.geometryEnginePromise),t.geometryEnginePromise.then((e=>t.geometryEngine=e)))}function pe(e){if(!e)return null;let t=null;const{cap:r,color:o,join:a,miterLimit:s,style:i,width:n}=e;return"solid"!==i&&"none"!==i&&"esriSLSSolid"!==i&&"esriSLSNull"!==i&&(t=[{type:"CIMGeometricEffectDashes",dashTemplate:me(i,r),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]),{type:"CIMSolidStroke",color:"esriSLSNull"!==i&&"none"!==i?ie(o):[0,0,0,0],capStyle:re(r),joinStyle:oe(a),miterLimit:s,width:n,effects:t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/CurveHelper.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CurveHelper: function() { return /* binding */ s; },
/* harmony export */   pixelTolerance: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=.03;class s{constructor(t=0,e=!1){}isEmpty(t){if(!t.nextPoint())return!0;let e,n,s,r;for(e=t.x,n=t.y;t.nextPoint();e=n,n=r)if(s=t.x,r=t.y,s!==e||r!==n)return t.seekPathStart(),!1;return t.seekPathStart(),!0}normalize(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);0!==e&&(t[0]/=e,t[1]/=e)}getLength(t,e,n,s){const r=n-t,o=s-e;return Math.sqrt(r*r+o*o)}getSegLength(t){const[[e,n],[s,r]]=t;return this.getLength(e,n,s,r)}getCoord2D(t,e,n,s,r){return[t+(n-t)*r,e+(s-e)*r]}getSegCoord2D(t,e){const[[n,s],[r,o]]=t;return this.getCoord2D(n,s,r,o,e)}getAngle(t,e,n,s,r){const o=n-t,i=s-e;return Math.atan2(i,o)}getAngleCS(t,e,n,s,r){const o=n-t,i=s-e,u=Math.sqrt(o*o+i*i);return u>0?[o/u,i/u]:[1,0]}getSegAngleCS(t,e){const[[n,s],[r,o]]=t;return this.getAngleCS(n,s,r,o,e)}cut(t,e,n,s,r,o){return[r<=0?[t,e]:this.getCoord2D(t,e,n,s,r),o>=1?[n,s]:this.getCoord2D(t,e,n,s,o)]}getSubCurve(e,n,s){const r=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");return this.appendSubCurve(r,e,n,s)?r:null}appendSubCurve(t,e,n,s){t.startPath(),e.seekPathStart();let r=0,o=!0;if(!e.nextPoint())return!1;let i=e.x,u=e.y;for(;e.nextPoint();){const h=this.getLength(i,u,e.x,e.y);if(0!==h){if(o){if(r+h>n){const l=(n-r)/h;let a=1,c=!1;r+h>=s&&(a=(s-r)/h,c=!0);const f=this.cut(i,u,e.x,e.y,l,a);if(f&&t.pushPoints(f),c)break;o=!1}}else{if(r+h>s){const n=this.cut(i,u,e.x,e.y,0,(s-r)/h);n&&t.pushPoint(n[1]);break}t.pushXY(e.x,e.y)}r+=h,i=e.x,u=e.y}else i=e.x,u=e.y}return!0}getCIMPointAlong(t,e){if(!t.nextPoint())return null;let n,s,r,o,i=0;for(n=t.x,s=t.y;t.nextPoint();n=r,s=o){r=t.x,o=t.y;const u=this.getLength(n,s,r,o);if(0!==u){if(i+u>e){const t=(e-i)/u;return this.getCoord2D(n,s,r,o,t)}i+=u}}return null}offset(t,n,s,r,o){if(!t||t.length<2)return null;let i=0,u=t[i++],h=i;for(;i<t.length;){const e=t[i];e[0]===u[0]&&e[1]===u[1]||(i!==h&&(t[h]=t[i]),u=t[h++]),i++}const l=t[0][0]===t[h-1][0]&&t[0][1]===t[h-1][1];if(l&&--h,h<(l?3:2))return null;const a=[];u=l?t[h-1]:null;let c=t[0];for(let f=0;f<h;f++){const o=f===h-1?l?t[0]:null:t[f+1];if(u)if(o){const t=[o[0]-c[0],o[1]-c[1]];this.normalize(t);const i=[c[0]-u[0],c[1]-u[1]];this.normalize(i);const h=i[0]*t[1]-i[1]*t[0],l=i[0]*t[0]+i[1]*t[1];if(0===h&&1===l){c=o;continue}if(h>=0==n<=0){if(l<1){const e=[t[0]-i[0],t[1]-i[1]];this.normalize(e);const s=Math.sqrt((1+l)/2);if(s>1/r){const t=-Math.abs(n)/s;a.push([c[0]-e[0]*t,c[1]-e[1]*t])}}}else switch(s){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectOffsetMethod.Mitered:{const e=Math.sqrt((1+l)/2);if(e>0&&1/e<r){const s=[t[0]-i[0],t[1]-i[1]];this.normalize(s);const r=Math.abs(n)/e;a.push([c[0]-s[0]*r,c[1]-s[1]*r]);break}}case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectOffsetMethod.Bevelled:a.push([c[0]+i[1]*n,c[1]-i[0]*n]),a.push([c[0]+t[1]*n,c[1]-t[0]*n]);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectOffsetMethod.Rounded:if(l<1){a.push([c[0]+i[1]*n,c[1]-i[0]*n]);const e=Math.floor(2.5*(1-l));if(e>0){const s=1/e;let r=s;for(let o=1;o<e;o++,r+=s){const e=[i[1]*(1-r)+t[1]*r,-i[0]*(1-r)-t[0]*r];this.normalize(e),a.push([c[0]+e[0]*n,c[1]+e[1]*n])}}a.push([c[0]+t[1]*n,c[1]-t[0]*n])}break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectOffsetMethod.Square:default:if(h<0)a.push([c[0]+(i[1]+i[0])*n,c[1]+(i[1]-i[0])*n]),a.push([c[0]+(t[1]-t[0])*n,c[1]-(t[0]+t[1])*n]);else{const e=Math.sqrt((1+Math.abs(l))/2),s=[t[0]-i[0],t[1]-i[1]];this.normalize(s);const r=n/e;a.push([c[0]-s[0]*r,c[1]-s[1]*r])}}}else{const t=[c[0]-u[0],c[1]-u[1]];this.normalize(t),a.push([c[0]+t[1]*n,c[1]-t[0]*n])}else{const t=[o[0]-c[0],o[1]-c[1]];this.normalize(t),a.push([c[0]+t[1]*n,c[1]-t[0]*n])}u=c,c=o}return a.length<(l?3:2)?null:(l&&a.push([a[0][0],a[0][1]]),a)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DashPattern: function() { return /* binding */ i; },
/* harmony export */   EndType: function() { return /* binding */ r; },
/* harmony export */   GeometryWalker: function() { return /* binding */ o; },
/* harmony export */   Pos: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=1e-7;class i{constructor(){this._values=[],this.extPtGap=0,this.ctrlPtGap=0,this._length=0,this._currentValue=0}isEmpty(){return 0===this._values.length}size(){return this._values.length}init(t,e,s=!0){if(this._setEmpty(),!t||0===t.length)return!1;for(let i=0;i<t.length;i++){let e=Math.abs(t[i]);s&&e<n&&(e=n),this._values.push(e),this._length+=e}return e&&1&t.length&&(this._length*=2),0!==this._length&&(this.ctrlPtGap=this.extPtGap=0,this._currentValue=-1,!0)}scale(t){const e=this._values?this._values.length:0;for(let s=0;s<e;++s)this._values[s]*=t;this._length*=t,this.extPtGap*=t,this.ctrlPtGap*=t}addValue(t){this._length+=t,this._values.push(t)}firstValue(){return this._values[0]}lastValue(){return this._values[this._values.length-1]}nextValue(){return this._currentValue++,this._currentValue===this._values.length&&(this._currentValue=0),this._values[this._currentValue]}reset(){this._currentValue=-1}length(){return this._length}_setEmpty(){this.extPtGap=this.ctrlPtGap=this._length=0,this._currentValue=-1,this._values.length=0}}class h{constructor(){this.pt=null,this.ca=0,this.sa=0}}var r;!function(t){t[t.FAIL=0]="FAIL",t[t.END=1]="END",t[t.CONTINUE=2]="CONTINUE"}(r||(r={}));class a{constructor(){this.reset()}reset(){this.segment=null,this.segmentLength=0,this.abscissa=0,this.isPathEnd=!1,this.isPartEnd=!1}isValid(){return null!==this.segment}copyTo(t){t.segment=this.segment,t.segmentLength=this.segmentLength,t.abscissa=this.abscissa,t.isPathEnd=this.isPathEnd,t.isPartEnd=this.isPartEnd}}class o extends _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper{constructor(t=0,e=!1){super(t,e),this._tolerance=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.pixelTolerance,this._currentPosition=new a}updateTolerance(t){this._tolerance=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.pixelTolerance*t}init(t,e,s=!0){return s?(this._patternLength=e.length(),this._partExtPtGap=e.extPtGap,this._partCtrlPtGap=e.ctrlPtGap):(this._patternLength=0,this._partExtPtGap=0,this._partCtrlPtGap=0),this._currentPosition.reset(),this._partSegCount=0,this._pathCursor=t,this._seg=-1,this._setPosAtNextPart()}curPositionIsValid(){return this._currentPosition.isValid()}nextPosition(t,e=r.FAIL){const s=new a;return!!this._nextPosition(t,s,null,e)&&(s.copyTo(this._currentPosition),!0)}curPointAndAngle(t){t.pt=this._getPoint(this._currentPosition);const[e,s]=this._getAngleCS(this._currentPosition);t.ca=e,t.sa=s}nextPointAndAngle(t,e,s=r.FAIL){const n=new a;if(!this._nextPosition(t,n,null,s))return!1;n.copyTo(this._currentPosition),e.pt=this._getPoint(n);const[i,h]=this._getAngleCS(n);return e.ca=i,e.sa=h,!0}nextCurve(e){if(0===e)return null;const s=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");s.startPath(),s.nextPath();const n=new a;return this._nextPosition(e,n,s,r.END)?(n.copyTo(this._currentPosition),s):null}isPathEnd(){return this._currentPosition.isPathEnd}getPathEnd(){return this._currentPosition.segment[1]}getPt(t){return this._pathCursor.seekInPath(t),[this._pathCursor.x,this._pathCursor.y]}getSeg(t){return[this.getPt(t),this.getPt(t+1)]}_nextPosition(t,e,s,n){if(this._currentPosition.isPathEnd)return!1;let i=this._currentPosition.abscissa;for(this._currentPosition.segmentLength>0&&(i/=this._currentPosition.segmentLength),this._currentPosition.copyTo(e);e.abscissa+t*this._partLengthRatio>e.segmentLength+this._tolerance;){if(s){if(0===s.pathSize)if(0===i){const t=e.segment[0];s.pushXY(t[0],t[1])}else s.pushPoint(this.getSegCoord2D(e.segment,i));const t=e.segment[1];s.pushXY(t[0],t[1])}if(i=0,t-=(e.segmentLength-e.abscissa)/this._partLengthRatio,this._partSegCount)e.segment=this._nextSegment(),e.segmentLength=this.getSegLength(e.segment),e.abscissa=0,this._partSegCount--;else{if(!this._setPosAtNextPart())return n!==r.FAIL&&(e.segmentLength=this.getSegLength(e.segment),e.isPartEnd=!0,n===r.END?(e.abscissa=e.segmentLength,e.isPathEnd=!0):e.abscissa=e.segmentLength+t,!0);this._currentPosition.copyTo(e)}}if(e.abscissa+=t*this._partLengthRatio,s){0===s.pathSize&&(0===i?s.pushPoint(e.segment[0]):s.pushPoint(this.getSegCoord2D(e.segment,i)));const t=e.abscissa/e.segmentLength;1===t?s.pushPoint(e.segment[1]):s.pushPoint(this.getSegCoord2D(e.segment,t))}return this._partSegCount||Math.abs(e.abscissa-e.segmentLength)<this._tolerance&&(e.isPathEnd=this._partIsLast,e.isPartEnd=!0),!0}_getPoint(t){const e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegCoord2D(this._currentPosition.segment,e)}_getAngleCS(t){const e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegAngleCS(this._currentPosition.segment,e)}_setPosAtNextPart(){for(;this._partSegCount;)this._hasNextSegment()&&this._nextSegment(),this._partSegCount--;if(!this._hasNextSegment())return!1;for(this._partLength=0,this._partIsLast=!0,this._partSegCount=0;this._hasNextSegment();)if(this._partLength+=this.getSegLength(this._nextSegment()),this._partSegCount++,this._pathCursor.getControlPointAt(this._getEndPointIndex())){this._partIsLast=!this._hasNextSegment();break}let t=this._partSegCount;for(;t;)this._previousSegment(),--t;this._currentPosition.segment=this._nextSegment(),this._currentPosition.segmentLength=this.getSegLength(this._currentPosition.segment),this._currentPosition.abscissa=0,this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1,--this._partSegCount;const e=this._getStartPointIndex();this._ctrlPtBegin=this._pathCursor.getControlPointAt(e);let s=e+this._partSegCount+1;if(s>=this._pathCursor.pathSize&&(s=0),this._ctrlPtEnd=this._pathCursor.getControlPointAt(s),this._patternLength>0){const t=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap,e=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap;let s=Math.round((this._partLength-(t+e))/this._patternLength);s<=0&&(s=t+e>0?0:1),this._partLengthRatio=this._partLength/(t+e+s*this._patternLength),this._partLengthRatio<.01&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0}_hasNextSegment(){return this._seg<this._pathCursor.pathSize-2}_previousSegment(){return this.getSeg(--this._seg)}_nextSegment(){return this.getSeg(++this._seg)}_getStartPointIndex(){return this._seg}_getEndPointIndex(){return this._seg+1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/Rect.js":
/*!*******************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/Rect.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}static fromExtent(h){return new t(h.xmin,-h.ymax,h.xmax-h.xmin,h.ymax-h.ymin)}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/TextRasterizer.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _support_textUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../support/textUtils.js */ "./node_modules/@arcgis/core/symbols/support/textUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function i(e){return`rgb(${e.slice(0,3).toString()})`}function n(e){return`rgba(${e.slice(0,3).toString()},${e[3]})`}class s{constructor(e){e&&(this._textRasterizationCanvas=e)}rasterizeText(e,s){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const a=this._textRasterizationCanvas,h=a.getContext("2d",{willReadFrequently:!0});r(h,s),this._parameters=s,this._textLines=e.split(/\r?\n/),this._lineHeight=this._computeLineHeight();const{decoration:l,weight:d}=s.font;this._lineThroughWidthOffset=l&&"line-through"===l?.1*this._lineHeight:0;const c=null!=s.backgroundColor||null!=s.borderLine,_=c?_support_textUtils_js__WEBPACK_IMPORTED_MODULE_1__.backgroundPadding:0,u=this._computeTextWidth(h,s)+2*_,g=this._lineHeight*this._textLines.length+2*_;if(a.width=u+2*this._lineThroughWidthOffset,a.height=g,0===a.width||0===a.height)return a.width=a.height=1,{size:[0,0],image:new Uint32Array(0),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0,canvas:a};this._renderedLineHeight=Math.round(this._lineHeight),this._renderedOutlineSize=(s.outline.size||0)*s.pixelRatio,this._renderedHaloSize=(s.halo.size||0)*s.pixelRatio,this._renderedWidth=u,this._renderedHeight=g,this._lineThroughWidthOffset*=s.pixelRatio;const f=(s.outline&&s.outline.color)??[0,0,0,0],m=s.color??[0,0,0,0],p=s.halo&&s.halo.color?s.halo.color:[0,0,0,0];this._fillStyle=n(m),this._outlineStyle=n(f),this._haloStyle=i(p);const x=this._renderedLineHeight,z=this._renderedOutlineSize,b=this._renderedHaloSize;h.save(),h.clearRect(0,0,a.width,a.height),r(h,s);const w=_*s.pixelRatio,v=o(h.textAlign,this._renderedWidth-2*w,this._renderedHaloSize+this._renderedOutlineSize)+w,S=b+z+w,y=b>0;let R=this._lineThroughWidthOffset,C=0;if(c){h.save();const e=s.backgroundColor??[0,0,0,0],t=s.borderLine?.color??[0,0,0,0],i=2*(s.borderLine?.size??0);h.fillStyle=n(e),h.strokeStyle=n(t),h.lineWidth=i,h.fillRect(0,0,a.width,a.height),h.strokeRect(0,0,a.width,a.height),h.restore()}y&&this._renderHalo(h,v,S,R,C,s),z>0&&this._renderOutline(h,v,S,R,C,s),C+=S,R+=v;for(const t of this._textLines)y?(h.globalCompositeOperation="destination-out",h.fillStyle="rgb(0, 0, 0)",h.fillText(t,R,C),h.globalCompositeOperation="source-over",h.fillStyle=this._fillStyle,h.fillText(t,R,C)):(h.fillStyle=this._fillStyle,h.fillText(t,R,C)),l&&"none"!==l&&this._renderDecoration(h,R,C,l,d),C+=x;h.restore();const H=this._renderedWidth+2*this._lineThroughWidthOffset,W=this._renderedHeight,T=h.getImageData(0,0,H,W),k=new Uint8Array(T.data);if(s.premultiplyColors){let e;for(let t=0;t<k.length;t+=4)e=k[t+3]/255,k[t]=k[t]*e,k[t+1]=k[t+1]*e,k[t+2]=k[t+2]*e}let L,O;switch(s.horizontalAlignment){case"left":L=-.5;break;case"right":L=.5;break;default:L=0}switch(s.verticalAlignment){case"bottom":O=-.5;break;case"top":O=.5;break;case"baseline":O=-1/6;break;default:O=0}return{size:[H,W],image:new Uint32Array(k.buffer),sdf:!1,simplePattern:!1,anchorX:L,anchorY:O,canvas:a}}_renderHalo(e,t,i,n,s,o){const a=this._renderedWidth,h=this._renderedHeight;this._outlineRasterizationCanvas||(this._outlineRasterizationCanvas=document.createElement("canvas")),this._outlineRasterizationCanvas.width=a,this._outlineRasterizationCanvas.height=h;const l=this._outlineRasterizationCanvas,d=l.getContext("2d");d.clearRect(0,0,a,h),r(d,o);const{decoration:c,weight:_}=o.font;d.fillStyle=this._haloStyle,d.strokeStyle=this._haloStyle,d.lineJoin="round",this._renderOutlineNative(d,t,i,c,_,this._renderedHaloSize+this._renderedOutlineSize),e.globalAlpha=this._parameters.halo.color[3],e.drawImage(l,0,0,a,h,n,s,a,h),e.globalAlpha=1}_renderOutline(e,t,i,n,s,o){const a=this._renderedWidth,h=this._renderedHeight;this._outlineRasterizationCanvas||(this._outlineRasterizationCanvas=document.createElement("canvas")),this._outlineRasterizationCanvas.width=a,this._outlineRasterizationCanvas.height=h;const l=this._outlineRasterizationCanvas,d=l.getContext("2d");d.clearRect(0,0,a,h),r(d,o);const{decoration:c,weight:_}=o.font;d.fillStyle=this._outlineStyle,d.strokeStyle=this._outlineStyle,d.lineJoin="round",this._renderOutlineNative(d,t,i,c,_,this._renderedOutlineSize),e.globalAlpha=this._parameters.outline.color[3],e.drawImage(l,0,0,a,h,n,s,a,h),e.globalAlpha=1}_renderOutlineNative(e,t,i,n,s,r){const o=this._renderedLineHeight;for(const a of this._textLines){const h=2*r,l=5,d=.1;for(let r=0;r<l;r++){const o=(1-(l-1)*d+r*d)*h;e.lineWidth=o,e.strokeText(a,t,i),n&&"none"!==n&&this._renderDecoration(e,t,i,n,s,o)}i+=o}}computeTextSize(e,t){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const i=this._textRasterizationCanvas,n=i.getContext("2d");r(n,t),this._parameters=t,this._textLines=e.split(/\r?\n/),this._lineHeight=this._computeLineHeight();const s=this._computeTextWidth(n,t),o=this._lineHeight*this._textLines.length;return i.width=s,i.height=o,[s*t.pixelRatio,o*t.pixelRatio]}_computeTextWidth(t,i){let n=0;for(const e of this._textLines)n=Math.max(n,t.measureText(e).width);const s=i.font;return("italic"===s.style||"oblique"===s.style||"string"==typeof s.weight&&("bold"===s.weight||"bolder"===s.weight)||"number"==typeof s.weight&&s.weight>600)&&(n+=.3*t.measureText("w").width),n+=2*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(this._parameters.halo.size),Math.round(n)}_computeLineHeightBase(){return 1.275*this._parameters.size}_computeLineHeight(){let t=this._computeLineHeightBase();const i=this._parameters.font.decoration;return i&&"underline"===i&&(t*=1.3),Math.round(t+2*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(this._parameters.halo.size))}_renderDecoration(e,t,i,n,s,r){let o=.9*this._lineHeight;const a="bold"===s?.06:"bolder"===s?.09:.04;switch(e.textAlign){case"center":t-=this._renderedWidth/2;break;case"right":t-=this._renderedWidth}const h=e.textBaseline;if("underline"===n)switch(o=.9*this._computeLineHeightBase(),h){case"top":i+=o;break;case"middle":i+=o/2}else if("line-through"===n)switch(h){case"top":i+=o/1.5;break;case"middle":i+=o/3}const l=r?1.5*r:Math.ceil(o*a);e.save(),e.beginPath(),e.strokeStyle=e.fillStyle,e.lineWidth=l,e.moveTo(t-this._lineThroughWidthOffset,i),e.lineTo(t+this._renderedWidth+2*this._lineThroughWidthOffset,i),e.stroke(),e.restore()}}function r(t,i){const n=Math.max(i.size,.5),s=i.font,r=`${s.style} ${s.weight} ${(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(n).toFixed(1)}px ${s.family}, sans-serif`;let o;switch(t.font=r,t.textBaseline="top",i.horizontalAlignment){case"left":default:o="left";break;case"right":o="right";break;case"center":o="center"}t.textAlign=o}function o(e,t,i){return"center"===e?.5*t:"right"===e?t-i:i}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectAddControlPoints: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(e,s,n,i,o){return new t(e,s,n)}}e.instance=null;class t{constructor(e,t,s){this._inputGeometries=e,this._angleTolerance=void 0!==t.angleTolerance?t.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let e=this._inputGeometries.next();for(;e;){if("esriGeometryPolygon"===e.geometryType)this._isClosed=!0;else if("esriGeometryPolyline"===e.geometryType)this._isClosed=!1;else{if("esriGeometryEnvelope"!==e.geometryType){e=this._inputGeometries.next();continue}if(this._maxCosAngle)return e;this._isClosed=!0}for(;e.nextPath();)this._processPath(e);return e.reset(),e}return null}_processPath(e){if(e.nextPoint()){const t=e.x,s=e.y;let n=t,i=s,o=e.pathSize,l=0,r=0,a=0,h=0,c=0,_=0;this._isClosed&&++o;for(let u=1;e.nextPoint()||u<o;++u){let x,m;this._isClosed&&u===o-1?(x=t,m=s):(x=e.x,m=e.y);const y=x-n,g=m-i,C=Math.sqrt(y*y+g*g);if(u>1&&C>0&&a>0){(l*y+r*g)/C/a<=this._maxCosAngle&&e.setControlPointAt(u-1)}1===u&&(h=y,c=g,_=C),C>0&&(n=x,i=m,l=y,r=g,a=C)}if(this._isClosed&&a>0&&_>0){(l*h+r*c)/_/a<=this._maxCosAngle&&e.setControlPointAt(0)}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectArrow: function() { return /* binding */ p; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/geometryCursorCollectUtils.js */ "./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const c=1.7320508075688772,u=5,h=_enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectArrowType.OpenEnded;class p{static local(){return null===p.instance&&(p.instance=new p),p.instance}execute(t,e,r,n,o){return new P(t,e,r)}}p.instance=null;class P extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__.PathEffectCursor{constructor(t,e,r){super(t,!1,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_3__.CurveHelper,this._width=(void 0!==e.width?e.width:u)*r,this._arrowType=void 0!==e.geometricEffectArrowType?e.geometricEffectArrowType:void 0!==e.arrowType?e.arrowType:h,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_3__.pixelTolerance*r}processPath(e){const r=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM(e.geometryType);switch(this._arrowType){case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectArrowType.OpenEnded:default:this._constructSimpleArrow(r,e,!0);break;case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectArrowType.Block:this._constructSimpleArrow(r,e,!1);break;case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectArrowType.Crossed:this._constructCrossedArrow(r,e)}return r}_constructSimpleArrow(t,r,n){const o=r.pathLength();let s=this._width;o<2*s&&(s=o/2);const i=this._curveHelper.getSubCurve(r,0,o-s);if(!i||!i.nextPath())return;i.seekPathStart();const c=s/2;if(this._curveHelper.isEmpty(i))return;const u=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectPath)(i),h=this._constructOffset(u,-c);if(!h)return;const p=this._constructOffset(u,c);if(!p)return;const P=this._constructArrowBasePoint(h,-c/2);if(!P)return;const l=this._constructArrowBasePoint(p,c/2);if(!l)return;r.seekInPath(r.pathSize-1);const f=[r.x,r.y];t.pushPath(p),t.nextPath(),t.nextPoint(),t.setControlPoint(),t.pushPoint(l),t.nextPoint(),t.setControlPoint(),t.pushPoint(f),t.nextPoint(),t.setControlPoint(),t.pushPoint(P),t.nextPoint(),t.setControlPoint(),t.pushPoints(h.reverse()),t.setControlPoint(),n||(t.setControlPointAt(0),t.setControlPointAt(t.pathSize-1),t.pushPoint(p[0])),t.reset()}_constructCrossedArrow(t,r){const n=r.pathLength();let o=this._width;n<o*(1+c+1)&&(o=n/(1+c+1)),r.seekPathStart();const s=this._curveHelper.getSubCurve(r,0,n-o*(1+c));if(!s)return;s.nextPath();const i=o/2;if(this._curveHelper.isEmpty(s))return;const u=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectPath)(s),h=this._constructOffset(u,i);if(!h)return;const p=this._constructOffset(u,-i);if(!p)return;const P=this._curveHelper.getSubCurve(r,0,n-o);if(!P)return;if(P.nextPath(),this._curveHelper.isEmpty(P))return;const l=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectPath)(P),f=this._constructOffset(l,i);if(!f)return;const a=this._constructOffset(l,-i);if(!a)return;const _=f[f.length-1],m=this._constructArrowBasePoint(f,i/2);if(!m)return;const C=a[a.length-1],w=this._constructArrowBasePoint(a,-i/2);if(!w)return;r.seekInPath(r.pathSize-1);const x=[r.x,r.y];t.pushPath(h),t.nextPath(),t.nextPoint(),t.setControlPoint(),t.pushPoint(C),t.nextPoint(),t.setControlPoint(),t.pushPoint(w),t.nextPoint(),t.setControlPoint(),t.pushPoint(x),t.nextPoint(),t.setControlPoint(),t.pushPoint(m),t.nextPoint(),t.setControlPoint(),t.pushPoint(_),t.nextPoint(),t.setControlPoint(),t.pushPoints(p.reverse()),t.nextPoint(),t.setControlPoint(),t.reset()}_constructOffset(t,e){return this._curveHelper.offset(t,e,_enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectOffsetMethod.Rounded,4,this._offsetFlattenError)}_constructArrowBasePoint(t,e){if(!t||t.length<2)return null;const r=t[t.length-2],n=t[t.length-1],o=[n[0]-r[0],n[1]-r[1]];return this._curveHelper.normalize(o),[n[0]+o[1]*e,n[1]-o[0]*e]}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectBuffer: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/geometryCursorCollectUtils.js */ "./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js");
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CIMEffects.js */ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class m{static local(){return null===m.instance&&(m.instance=new m),m.instance}execute(e,t,i,s,r,n){return new l(e,t,i,s,r,n)}}m.instance=null;class l{constructor(e,t,i,n,o,m){this._inputGeometries=e,this._tileKey=n,this._geometryEngine=o,this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_4__.CurveHelper,this._size=(void 0!==t.size?t.size:1)*i,this._maxInflateSize=m*i,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_4__.pixelTolerance*i}next(){let s;for(;s=this._inputGeometries.next();){if(0===this._size)return s;if("esriGeometryEnvelope"===s.geometryType)if(this._size>0){const i=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.createEmptyOptimizedCIM(s.geometryType),r=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_2__.collectMultipath)(s)[0],o=this._curveHelper.offset(r,this._size,_enums_js__WEBPACK_IMPORTED_MODULE_5__.GeometricEffectOffsetMethod.Rounded,4,this._offsetFlattenError);if(o)return i.pushPath(o),i}else if(this._size<0){const t=s.asJSON();if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)+2*this._size>0)return _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.fromJSONCIM({xmin:t.xmin-this._size,xmax:t.xmax+this._size,ymin:t.ymin-this._size,ymax:t.ymax+this._size})}const r=this._geometryEngine;if(null==r)return null;const m=this._tileKey?(0,_CIMEffects_js__WEBPACK_IMPORTED_MODULE_3__.clipCursorToTileExtent)(s,this._maxInflateSize):s;if(!m)continue;const l=r.buffer(_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__["default"].WebMercator,m.asJSON(),this._size,1);return l?_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.fromJSONCIM(l):null}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectControlMeasureLine: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/geometryCursorCollectUtils.js */ "./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js");
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r{static local(){return null===r.instance&&(r.instance=new r),r.instance}execute(s,t,i,h,e){return new _(s,t,i)}}r.instance=null;class _{constructor(s,t,i){this._defaultPointSize=20,this._inputGeometries=s,this._geomUnitsPerPoint=i,this._rule=t.rule??_enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.FullGeometry,this._defaultSize=this._defaultPointSize*i}next(){let i;for(;i=this._inputGeometries.next();){const h=this._processGeom((0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectMultipath)(i));if(h?.length)return _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.fromJSONCIM({paths:h})}return null}_clone(s){return[s[0],s[1]]}_mid(s,t){return[(s[0]+t[0])/2,(s[1]+t[1])/2]}_mix(s,t,i,h){return[s[0]*t+i[0]*h,s[1]*t+i[1]*h]}_add(s,t){return[s[0]+t[0],s[1]+t[1]]}_add2(s,t,i){return[s[0]+t,s[1]+i]}_sub(s,t){return[s[0]-t[0],s[1]-t[1]]}_dist(s,t){return Math.sqrt((s[0]-t[0])*(s[0]-t[0])+(s[1]-t[1])*(s[1]-t[1]))}_norm(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}_normalize(s,t=1){const i=t/this._norm(s);s[0]*=i,s[1]*=i}_leftPerpendicular(s){const t=-s[1],i=s[0];s[0]=t,s[1]=i}_leftPerp(s){return[-s[1],s[0]]}_rightPerpendicular(s){const t=s[1],i=-s[0];s[0]=t,s[1]=i}_rightPerp(s){return[s[1],-s[0]]}_dotProduct(s,t){return s[0]*t[0]+s[1]*t[1]}_crossProduct(s,t){return s[0]*t[1]-s[1]*t[0]}_rotateDirect(s,t,i){const h=s[0]*t-s[1]*i,e=s[0]*i+s[1]*t;s[0]=h,s[1]=e}_makeCtrlPt(s){const t=[s[0],s[1]];return (0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_3__.setId)(t,1),t}_addAngledTicks(s,t,i,h){const e=this._sub(i,t);this._normalize(e);const r=this._crossProduct(e,this._sub(h,t));let _;_=r>0?this._rightPerp(e):this._leftPerp(e);const c=Math.abs(r)/2,u=[];u.push([t[0]+(_[0]-e[0])*c,t[1]+(_[1]-e[1])*c]),u.push(t),u.push(i),u.push([i[0]+(_[0]+e[0])*c,i[1]+(_[1]+e[1])*c]),s.push(u)}_addBezier2(s,t,i,h,e){if(0==e--)return void s.push(h);const r=this._mid(t,i),_=this._mid(i,h),c=this._mid(r,_);this._addBezier2(s,t,r,c,e),this._addBezier2(s,c,_,h,e)}_addBezier3(s,t,i,h,e,r){if(0==r--)return void s.push(e);const _=this._mid(t,i),c=this._mid(i,h),u=this._mid(h,e),o=this._mid(_,c),a=this._mid(c,u),n=this._mid(o,a);this._addBezier3(s,t,_,o,n,r),this._addBezier3(s,n,a,u,e,r)}_add90DegArc(s,t,i,h,e){const r=e??this._crossProduct(this._sub(i,t),this._sub(h,t))>0,_=this._mid(t,i),c=this._sub(_,t);r?this._leftPerpendicular(c):this._rightPerpendicular(c),_[0]+=c[0],_[1]+=c[1],this._addBezier3(s,t,this._mix(t,.33333,_,.66667),this._mix(i,.33333,_,.66667),i,4)}_addArrow(s,t,i){const h=t[0],e=t[1],r=t[t.length-1],_=this._sub(h,e),c=this._norm(_);this._normalize(_);const u=Math.abs(this._crossProduct(_,this._sub(r,e)));let o=this._dotProduct(_,this._sub(r,e));o<.05*c?o=.05*c:o>.95*c&&(o=.95*c);const a=.5*u,n=this._leftPerp(_),p=[e[0]+_[0]*o,e[1]+_[1]*o],d=t.length-1,l=[];l.push(i?[-n[0],-n[1]]:n);let b=[-_[0],-_[1]];for(let P=1;P<d-1;P++){const s=this._sub(t[P+1],t[P]);this._normalize(s);const i=this._dotProduct(s,b),h=this._crossProduct(s,b),e=Math.sqrt((1+i)/2),r=this._sub(s,b);this._normalize(r),r[0]/=e,r[1]/=e,l.push(h<0?[-r[0],-r[1]]:r),b=s}l.push(this._rightPerp(b));for(let P=l.length-1;P>0;P--)s.push([t[P][0]+l[P][0]*a,t[P][1]+l[P][1]*a]);s.push([p[0]+l[0][0]*a,p[1]+l[0][1]*a]),s.push([p[0]+l[0][0]*u,p[1]+l[0][1]*u]),s.push(h),s.push([p[0]-l[0][0]*u,p[1]-l[0][1]*u]),s.push([p[0]-l[0][0]*a,p[1]-l[0][1]*a]);for(let P=1;P<l.length;P++)s.push([t[P][0]-l[P][0]*a,t[P][1]-l[P][1]*a])}_addDash(s,t,i){const h=this._norm(i)/7;this._normalize(i);let e=[];for(let r=0;r<=7;r++)e.push([t[0]+i[0]*r*h,t[1]+i[1]*r*h]),1&r&&(s.push(e),e=[])}_cp2(s,t,i){return s.length>=2?s[1]:this._add2(s[0],t*this._defaultSize,i*this._defaultSize)}_cp3(s,t,i,h){if(s.length>=3)return s[2];const e=this._mix(s[0],1-i,t,i),r=this._sub(t,s[0]);return this._normalize(r),this._rightPerpendicular(r),[e[0]+r[0]*h*this._defaultSize,e[1]+r[1]*h*this._defaultSize]}_arrowPath(s){if(s.length>2)return s;const t=s[0],i=this._cp2(s,-4,0),h=this._sub(t,i);this._normalize(h);const e=this._rightPerp(h);return[t,i,[t[0]+(e[0]-h[0])*this._defaultSize,t[1]+(e[1]-h[1])*this._defaultSize]]}_arrowLastSeg(s){const t=s[0],i=this._cp2(s,-4,0);let h;if(s.length>=3)h=s[s.length-1];else{const s=this._sub(t,i);this._normalize(s);const e=this._rightPerp(s);h=[t[0]+(e[0]-s[0])*this._defaultSize,t[1]+(e[1]-s[1])*this._defaultSize]}return[i,h]}_processGeom(s){if(!s)return null;const t=[];for(const r of s){const s=r.length>1&&(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__.getPathLength)(r)<this._defaultSize;if(!r||0===r.length||s)continue;const _=r.length;let c=r[0];switch(this._rule){case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.PerpendicularFromFirstSegment:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,4),h=[];h.push(i),h.push(this._mid(c,s)),t.push(h);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ReversedFirstSegment:{const s=this._cp2(r,0,-1);t.push([s,c]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.PerpendicularToSecondSegment:{if(r.length<3)return[];const s=this._cp2(r,-4,1),i=this._cp3(r,s,.882353,-1.94),h=[];h.push(this._mid(s,i)),h.push(c),t.push(h);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.SecondSegmentWithTicks:{if(r.length<3)return[];const s=this._cp2(r,-4,1),i=this._cp3(r,s,.882353,-1.94),h=this._sub(i,s);let e;e=this._crossProduct(h,this._sub(c,s))>0?this._rightPerp(h):this._leftPerp(h);const _=[];_.push([s[0]+(e[0]-h[0])/3,s[1]+(e[1]-h[1])/3]),_.push(s),_.push(i),_.push([i[0]+(e[0]+h[0])/3,i[1]+(e[1]+h[1])/3]),t.push(_);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.DoublePerpendicular:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,3),h=this._mid(c,s),e=this._sub(h,i);this._normalize(e);const _=this._crossProduct(e,this._sub(c,i));this._leftPerpendicular(e);const u=[];u.push(c),u.push([i[0]+e[0]*_,i[1]+e[1]*_]),t.push(u);const o=[];o.push([i[0]-e[0]*_,i[1]-e[1]*_]),o.push(s),t.push(o);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.OppositeToFirstSegment:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,3),h=this._mid(c,s),e=this._sub(h,i);this._normalize(e);const _=this._crossProduct(e,this._sub(c,i));this._leftPerpendicular(e);const u=[];u.push([i[0]+e[0]*_,i[1]+e[1]*_]),u.push([i[0]-e[0]*_,i[1]-e[1]*_]),t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.TriplePerpendicular:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,4),h=this._mid(c,s),e=this._sub(h,i);this._normalize(e);const _=this._crossProduct(e,this._sub(c,i));this._leftPerpendicular(e);const u=[];u.push([i[0]+e[0]*_*.8,i[1]+e[1]*_*.8]),u.push([h[0]+.8*(c[0]-h[0]),h[1]+.8*(c[1]-h[1])]),t.push(u),t.push([i,h]);const o=[];o.push([i[0]-e[0]*_*.8,i[1]-e[1]*_*.8]),o.push([h[0]+.8*(s[0]-h[0]),h[1]+.8*(s[1]-h[1])]),t.push(o);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.HalfCircleFirstSegment:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,4),h=this._mid(c,s);let e=this._sub(s,c);const _=Math.cos(Math.PI/18),u=Math.sin(Math.PI/18),o=Math.sqrt((1+_)/2),a=Math.sqrt((1-_)/2),n=[];let p;this._crossProduct(e,this._sub(i,c))>0?(n.push(c),e=this._sub(c,h),p=s):(n.push(s),e=this._sub(s,h),p=c),this._rotateDirect(e,o,a),e[0]/=o,e[1]/=o;for(let t=1;t<=18;t++)n.push(this._add(h,e)),this._rotateDirect(e,_,u);n.push(p),t.push(n);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.HalfCircleSecondSegment:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,1,-1);let h=this._sub(c,s);this._normalize(h);const e=this._crossProduct(h,this._sub(i,s))/2;this._leftPerpendicular(h);const _=[s[0]+h[0]*e,s[1]+h[1]*e];h=this._sub(s,_);const u=Math.cos(Math.PI/18);let o=Math.sin(Math.PI/18);e>0&&(o=-o);const a=[s];for(let t=1;t<=18;t++)this._rotateDirect(h,u,o),a.push(this._add(_,h));t.push(a);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.HalfCircleExtended:{const s=this._cp2(r,0,-2),i=this._cp3(r,s,1,-1);let h;if(_>=4)h=r[3];else{const t=this._sub(c,s);h=this._add(i,t)}const e=this._dist(s,i)/2/.75,u=this._sub(s,c);this._normalize(u,e);const o=this._sub(i,h);this._normalize(o,e);const a=[h,i];t.push(a);const n=[this._clone(i)];this._addBezier3(n,i,this._add(i,o),this._add(s,u),s,4),n.push(c),t.push(n);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.OpenCircle:{const s=this._cp2(r,-2,0),i=this._sub(s,c),h=Math.cos(Math.PI/18),e=-Math.sin(Math.PI/18),_=[s];for(let t=1;t<=33;t++)this._rotateDirect(i,h,e),_.push(this._add(c,i));t.push(_);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.CoverageEdgesWithTicks:{const s=this._cp2(r,0,-1);let i,h;if(_>=3)i=r[2];else{const t=this._sub(s,c),h=this._leftPerp(t);i=[c[0]+h[0]-.25*t[0],c[1]+h[1]-.25*t[1]]}if(_>=4)h=r[3];else{const t=this._mid(c,s),e=this._sub(c,s);this._normalize(e),this._leftPerpendicular(e);const r=this._crossProduct(e,this._sub(i,t));this._rightPerpendicular(e),h=[i[0]+e[0]*r*2,i[1]+e[1]*r*2]}const e=this._sub(s,c);let u,o;u=this._crossProduct(e,this._sub(i,c))>0?this._rightPerp(e):this._leftPerp(e),o=[],o.push(i),o.push(c),o.push([c[0]+(u[0]-e[0])/3,c[1]+(u[1]-e[1])/3]),t.push(o),u=this._crossProduct(e,this._sub(h,s))>0?this._rightPerp(e):this._leftPerp(e),o=[],o.push([s[0]+(u[0]+e[0])/3,s[1]+(u[1]+e[1])/3]),o.push(s),o.push(h),t.push(o);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.GapExtentWithDoubleTicks:{const s=this._cp2(r,0,2),i=this._cp3(r,s,0,1);let h;if(_>=4)h=r[3];else{const t=this._sub(s,c);h=this._add(i,t)}this._addAngledTicks(t,c,s,this._mid(i,h)),this._addAngledTicks(t,i,h,this._mid(c,s));break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.GapExtentMidline:{const s=this._cp2(r,2,0),i=this._cp3(r,s,0,1);let h;if(_>=4)h=r[3];else{const t=this._sub(s,c);h=this._add(i,t)}const e=[];e.push(this._mid(c,i)),e.push(this._mid(s,h)),t.push(e);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.Chevron:{const s=this._cp2(r,-1,-1);let i;if(_>=3)i=r[2];else{const t=this._sub(s,c);this._leftPerpendicular(t),i=this._add(c,t)}t.push([s,this._makeCtrlPt(c),i]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.PerpendicularWithArc:{const s=this._cp2(r,0,-2),i=this._cp3(r,s,.5,-1),h=this._sub(s,c),e=this._norm(h);h[0]/=e,h[1]/=e;const u=this._crossProduct(h,this._sub(i,c));let o=this._dotProduct(h,this._sub(i,c));o<.05*e?o=.05*e:o>.95*e&&(o=.95*e);const a=[c[0]+h[0]*o,c[1]+h[1]*o];let n=this._leftPerp(h),p=[];if(p.push([a[0]-n[0]*u,a[1]-n[1]*u]),p.push([a[0]+n[0]*u,a[1]+n[1]*u]),t.push(p),_>=4){const s=r[3];let i=this._dotProduct(h,this._sub(s,c));i<.1*e?i=.1*e:i>.9*e&&(i=.9*e);const _=[c[0]+h[0]*i,c[1]+h[1]*i],u=this._crossProduct(h,this._sub(s,c)),o=[];o.push([_[0]-n[0]*u,_[1]-n[1]*u]),o.push([_[0]+n[0]*u,_[1]+n[1]*u]),t.push(o)}const d=[s[0]+n[0]*u,s[1]+n[1]*u];n=this._sub(s,d);const l=Math.cos(Math.PI/18);let b=Math.sin(Math.PI/18);u<0&&(b=-b),p=[c,s];for(let t=1;t<=9;t++)this._rotateDirect(n,l,b),p.push(this._add(d,n));t.push(p);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ClosedHalfCircle:{const s=this._cp2(r,2,0),i=this._mid(c,s),h=this._sub(s,i),e=Math.cos(Math.PI/18),_=Math.sin(Math.PI/18),u=[c,s];for(let t=1;t<=18;t++)this._rotateDirect(h,e,_),u.push(this._add(i,h));t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.TripleParallelExtended:{const s=this._cp2(r,0,-2),i=this._cp3(r,s,1,-2),e=this._mid(c,s),_=this._sub(i,s);this._normalize(_);const u=Math.abs(this._crossProduct(_,this._sub(e,s)))/2,o=this._dist(s,i),a=[s,c];a.push([c[0]+_[0]*o*.5,c[1]+_[1]*o*.5]),t.push(a);const n=[];n.push([e[0]-_[0]*u,e[1]-_[1]*u]),n.push([e[0]+_[0]*o*.375,e[1]+_[1]*o*.375]),(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_3__.setId)(n[n.length-1],1),n.push([e[0]+_[0]*o*.75,e[1]+_[1]*o*.75]),t.push(n);const p=[s,i];t.push(p);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ParallelWithTicks:{const s=this._cp2(r,3,0),i=this._cp3(r,s,.5,-1),h=this._sub(i,s);this._normalize(h);const e=this._crossProduct(h,this._sub(i,c));this._leftPerpendicular(h),this._addAngledTicks(t,c,s,i),this._addAngledTicks(t,this._mix(c,1,h,e),this._mix(s,1,h,e),this._mid(c,s));break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.Parallel:{const s=this._cp2(r,3,0),i=this._cp3(r,s,.5,-1),h=this._sub(s,c);this._normalize(h);const e=this._leftPerp(h),_=this._crossProduct(h,this._sub(i,c));let u=[c,s];t.push(u),u=[],u.push([c[0]+e[0]*_,c[1]+e[1]*_]),u.push([s[0]+e[0]*_,s[1]+e[1]*_]),t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.PerpendicularToFirstSegment:{const s=this._cp2(r,3,0),i=this._cp3(r,s,.5,-1),h=this._mid(c,s),e=this._sub(s,c);this._normalize(e);const _=this._crossProduct(e,this._sub(i,c));this._leftPerpendicular(e);const u=[];u.push([h[0]-e[0]*_*.25,h[1]-e[1]*_*.25]),u.push([h[0]+e[0]*_*1.25,h[1]+e[1]*_*1.25]),t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ParallelOffset:{const s=this._cp2(r,3,0),i=this._cp3(r,s,.5,-1),h=this._sub(s,c);this._normalize(h);const e=this._crossProduct(h,this._sub(i,c));this._leftPerpendicular(h);const _=[];_.push([c[0]-h[0]*e,c[1]-h[1]*e]),_.push([s[0]-h[0]*e,s[1]-h[1]*e]),t.push(_);const u=[];u.push([c[0]+h[0]*e,c[1]+h[1]*e]),u.push([s[0]+h[0]*e,s[1]+h[1]*e]),t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.OffsetOpposite:{const s=this._cp2(r,3,0),i=this._cp3(r,s,.5,-1),h=this._sub(s,c);this._normalize(h);const e=this._crossProduct(h,this._sub(i,c));this._leftPerpendicular(h);const _=[];_.push([c[0]-h[0]*e,c[1]-h[1]*e]),_.push([s[0]-h[0]*e,s[1]-h[1]*e]),t.push(_);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.OffsetSame:{const s=this._cp2(r,3,0),i=this._cp3(r,s,.5,-1),h=this._sub(s,c);this._normalize(h);const e=this._crossProduct(h,this._sub(i,c));this._leftPerpendicular(h);const _=[];_.push([c[0]+h[0]*e,c[1]+h[1]*e]),_.push([s[0]+h[0]*e,s[1]+h[1]*e]),t.push(_);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.CircleWithArc:{let s=this._cp2(r,3,0);const i=this._cp3(r,s,.5,-1);let e,u;if(_>=4)e=r[3],u=this._crossProduct(this._sub(e,s),this._sub(i,s))>0;else{e=s,u=this._crossProduct(this._sub(e,c),this._sub(i,c))>0;const t=24*this._geomUnitsPerPoint,h=this._sub(e,c);this._normalize(h,t);const r=Math.sqrt(2)/2;this._rotateDirect(h,r,u?r:-r),s=this._add(c,h)}const o=this._sub(s,c),a=Math.cos(Math.PI/18),n=Math.sin(Math.PI/18),p=[s];for(let t=1;t<=36;t++)this._rotateDirect(o,a,n),p.push(this._add(c,o));this._add90DegArc(p,s,e,i,u),(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_3__.setId)(p[p.length-8],1),t.push(p);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.DoubleJog:{let s,i=this._cp2(r,-3,1),h=this._cp3(r,i,-1,-.5);if(_>=4)s=r[3];else{const t=c;c=i,s=h;const e=this._dist(c,t),r=this._dist(s,t);let _=30*this._geomUnitsPerPoint;.5*e<_&&(_=.5*e),.5*r<_&&(_=.5*r),i=this._mix(c,_/e,t,(e-_)/e),h=this._mix(s,_/r,t,(r-_)/r)}const e=this._mid(c,i),u=this._mid(s,h),o=this._dist(c,i),a=this._dist(h,s);let n=Math.min(o,a)/8;n=Math.min(n,24*this._geomUnitsPerPoint);const p=Math.cos(Math.PI/4);let d=this._sub(c,i);this._normalize(d,n),this._crossProduct(d,this._sub(s,i))>0?this._rotateDirect(d,p,-p):this._rotateDirect(d,p,p);let l=[];l.push(i),l.push(this._add(e,d)),l.push(this._sub(e,d)),l.push(c),t.push(l),d=this._sub(s,h),this._normalize(d,n),this._crossProduct(d,this._sub(c,h))<0?this._rotateDirect(d,p,p):this._rotateDirect(d,p,-p),l=[],l.push(h),l.push(this._add(u,d)),l.push(this._sub(u,d)),l.push(s),t.push(l);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.PerpendicularOffset:{const s=this._cp2(r,-4,1),i=this._cp3(r,s,.882353,-1.94),h=this._sub(i,s);this._crossProduct(h,this._sub(c,s))>0?this._rightPerpendicular(h):this._leftPerpendicular(h);const e=[h[0]/8,h[1]/8],_=this._sub(this._mid(s,i),e);t.push([_,c]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.LineExcludingLastSegment:{const s=this._arrowPath(r),i=[];let h=s.length-2;for(;h--;)i.push(s[h]);t.push(i);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.MultivertexArrow:{const s=this._arrowPath(r),i=[];this._addArrow(i,s,!1),t.push(i);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.CrossedArrow:{const s=this._arrowPath(r),i=[];this._addArrow(i,s,!0),t.push(i);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ChevronArrow:{const[s,i]=this._arrowLastSeg(r),h=10*this._geomUnitsPerPoint,e=this._sub(c,s),_=this._norm(e);this._normalize(e);const u=this._crossProduct(e,this._sub(i,s));let o=this._dotProduct(e,this._sub(i,s));o<.05*_?o=.05*_:o>.95*_-h&&(o=.95*_-h);const a=[s[0]+e[0]*o,s[1]+e[1]*o],n=this._leftPerp(e),p=[];p.push([a[0]+n[0]*u+e[0]*h,a[1]+n[1]*u+e[1]*h]),p.push(c),p.push([a[0]-n[0]*u+e[0]*h,a[1]-n[1]*u+e[1]*h]),t.push(p);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ChevronArrowOffset:{const[s,i]=this._arrowLastSeg(r),h=this._sub(c,s),e=this._norm(h);this._normalize(h);const _=this._crossProduct(h,this._sub(i,s));let u=this._dotProduct(h,this._sub(i,s));u<.05*e?u=.05*e:u>.95*e&&(u=.95*e);const o=[s[0]+h[0]*u,s[1]+h[1]*u];this._leftPerpendicular(h);const a=[];a.push([o[0]+h[0]*_*.5,o[1]+h[1]*_*.5]),a.push(this._mid(o,c)),a.push([o[0]-h[0]*_*.5,o[1]-h[1]*_*.5]),t.push(a);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.PartialFirstSegment:{const[s,i]=this._arrowLastSeg(r),h=this._sub(c,s),e=this._norm(h);this._normalize(h);let _=this._dotProduct(h,this._sub(i,s));_<.05*e?_=.05*e:_>.95*e&&(_=.95*e);const u=[s[0]+h[0]*_,s[1]+h[1]*_];t.push([s,u]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.Arch:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,1),h=this._sub(c,s),e=this._mix(i,1,h,.55),_=this._mix(i,1,h,-.55),u=[c];this._addBezier2(u,c,e,i,4),this._addBezier2(u,i,_,s,4),t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.CurvedParallelTicks:{const s=this._cp2(r,-4,1),i=this._cp3(r,s,.882353,-1.94),h=this._sub(i,s);this._crossProduct(h,this._sub(c,s))>0?this._rightPerpendicular(h):this._leftPerpendicular(h);const e=[h[0]/8,h[1]/8],_=this._sub(this._mid(s,i),e),u=this._sub(this._mix(s,.75,i,.25),e),o=this._sub(this._mix(s,.25,i,.75),e),a=[s];this._addBezier2(a,s,u,_,3),this._addBezier2(a,_,o,i,3),t.push(a);for(let r=0;r<8;r++){const s=a[2*r+1],i=[this._clone(s)];i.push(this._add(s,[h[0]/4,h[1]/4])),t.push(i)}break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.Arc90Degrees:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,1),h=[s];this._add90DegArc(h,s,c,i),t.push(h);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.TipWithPerpendicularAndTicks:{const[s,i]=this._arrowLastSeg(r),h=10*this._geomUnitsPerPoint,e=this._sub(c,s),_=this._norm(e);this._normalize(e);let u=this._crossProduct(e,this._sub(i,s)),o=this._dotProduct(e,this._sub(i,s));o<.05*_?o=.05*_:o>.95*_-h&&(o=.95*_-h);const a=this._leftPerp(e),n=[c[0]-e[0]*h,c[1]-e[1]*h],p=.5*Math.max(_-o-h,h);u=Math.abs(u);const d=[];d.push([n[0]+a[0]*(u+p)-e[0]*p,n[1]+a[1]*(u+p)-e[1]*p]),d.push([n[0]+a[0]*u,n[1]+a[1]*u]),d.push([n[0]-a[0]*u,n[1]-a[1]*u]),d.push([n[0]-a[0]*(u+p)-e[0]*p,n[1]-a[1]*(u+p)-e[1]*p]),t.push(d),t.push([n,c]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ConcentricCircles:{const s=this._cp2(r,1,0),i=this._cp3(r,s,2,0),e=Math.cos(Math.PI/18),u=Math.sin(Math.PI/18);let o=this._dist(s,c),a=[o,0],n=[];for(let t=0;t<=36;t++)n.push(this._add(c,a)),this._rotateDirect(a,e,u);if(t.push(n),_>=4){n=[];const s=r[3];o=this._dist(s,c),a=[o,0];for(let t=0;t<=36;t++)n.push(this._add(c,a)),0===t&&(n.push(this._add(c,a)),(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_3__.setId)(n[1],1)),this._rotateDirect(a,e,u);t.push(n)}n=[],o=this._dist(i,c),a=[o,0];for(let t=0;t<=36;t++)n.push(this._add(c,a)),this._rotateDirect(a,e,u);t.push(n);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.DoubleJogArrow:{c=this._arrowPath(r)[0];const[s,i]=this._arrowLastSeg(r),h=this._sub(c,s),e=this._norm(h);this._normalize(h);const _=Math.abs(this._crossProduct(h,this._sub(i,c)));let u=Math.abs(this._dotProduct(h,this._sub(i,c)));u<.05*e?u=.05*e:u>.95*e&&(u=.95*e);const o=Math.max(_,u),a=this._leftPerp(h);let n=[];const p=[c[0]-h[0]*u*.5+a[0]*_*.5,c[1]-h[1]*u*.5+a[1]*_*.5];n.push([p[0],p[1]]),p[0]+=h[0]*o*.5+a[0]*o*.4,p[1]+=h[1]*o*.5+a[1]*o*.4,n.push([p[0],p[1]]),p[0]-=a[0]*o*.25,p[1]-=a[1]*o*.25,n.push([p[0],p[1]]),p[0]+=h[0]*o*.5+a[0]*o*.4,p[1]+=h[1]*o*.5+a[1]*o*.4,n.push([p[0],p[1]]),t.push(n),n=[],p[0]=c[0]-h[0]*u*.5-a[0]*_*.5,p[1]=c[1]-h[1]*u*.5-a[1]*_*.5,n.push([p[0],p[1]]),p[0]+=h[0]*o*.5-a[0]*o*.4,p[1]+=h[1]*o*.5-a[1]*o*.4,n.push([p[0],p[1]]),p[0]+=a[0]*o*.25,p[1]+=a[1]*o*.25,n.push([p[0],p[1]]),p[0]+=h[0]*o*.5-a[0]*o*.4,p[1]+=h[1]*o*.5-a[1]*o*.4,n.push([p[0],p[1]]),t.push(n);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.LinkedChevrons:{const s=this._cp2(r,-5,0),i=this._cp3(r,s,-.2,1),h=this._sub(c,s);this._normalize(h);const e=this._leftPerp(h),_=Math.abs(this._crossProduct(h,this._sub(i,s)));t.push([s,c]);const u=[];u.push([c[0]-h[0]*_+e[0]*_,c[1]-h[1]*_+e[1]*_]),u.push(c),u.push([c[0]-h[0]*_-e[0]*_,c[1]-h[1]*_-e[1]*_]),t.push(u),this._addDash(t,s,[-h[0]*_+e[0]*_,-h[1]*_+e[1]*_]),this._addDash(t,s,[-h[0]*_-e[0]*_,-h[1]*_-e[1]*_]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.SegmentThenHalfCircle:{const s=this._cp2(r,2,0),i=this._cp3(r,s,1.5,0);let h;h=_>=4?r[3]:this._cp3(r,s,1.25,-.5);const e=this._sub(s,c);this._normalize(e);const u=.5*this._dist(s,i),o=this._crossProduct(e,this._sub(h,c))>0,a=Math.cos(Math.PI/18);let n=Math.sin(Math.PI/18);o&&(n=-n);const p=[c,s];e[0]*=u,e[1]*=u;const d=this._add(s,e);e[0]=-e[0],e[1]=-e[1];for(let t=1;t<=18;t++)this._rotateDirect(e,a,n),p.push(this._add(d,e));t.push(p);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.LineWithStraightTicks:{const s=this._cp2(r,-2,1),i=this._cp3(r,s,-1,-.5),h=this._sub(i,s);this._normalize(h);const e=this._dotProduct(h,this._sub(s,c)),_=this._dotProduct(h,this._sub(i,c));let u=[c];u.push([c[0]+h[0]*e,c[1]+h[1]*e]),u.push(s),t.push(u),u=[c],u.push([c[0]+h[0]*_,c[1]+h[1]*_]),u.push(i),t.push(u);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.DoubleCurve:{const s=this._cp2(r,-5,-1),i=this._cp3(r,s,2,0),e=Math.atan2(1,5),_=Math.cos(e),u=Math.sin(e),o=this._sub(s,c),a=this._dist(c,s);this._normalize(o),this._rotateDirect(o,_,-u);const n=[c];n.push([c[0]+o[0]*a*.5,c[1]+o[1]*a*.5]),(0,_CIMCursor_js__WEBPACK_IMPORTED_MODULE_3__.setId)(n[1],1),n.push([c[0]+o[0]*a*.8,c[1]+o[1]*a*.8]),this._addBezier2(n,n[2],[c[0]+o[0]*a,c[1]+o[1]*a],s,3);const p=this._sub(i,s),d=this._dist(s,i);this._normalize(p),this._rotateDirect(p,_,-u),this._addBezier2(n,s,[i[0]-p[0]*d,i[1]-p[1]*d],[i[0]-p[0]*d*.8,i[1]-p[1]*d*.8],3),n.push(i),t.push(n);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.ParallelWithTicksByWidth:{const s=this._cp2(r,0,-1),i=this._cp3(r,s,.5,3),h=this._sub(s,c);this._normalize(h);const e=this._crossProduct(h,this._sub(i,c));this._leftPerpendicular(h),e>0?(this._addAngledTicks(t,c,[c[0]+h[0]*e,c[1]+h[1]*e],s),this._addAngledTicks(t,s,[s[0]+h[0]*e,s[1]+h[1]*e],c)):(this._addAngledTicks(t,[c[0]+h[0]*e,c[1]+h[1]*e],c,s),this._addAngledTicks(t,[s[0]+h[0]*e,s[1]+h[1]*e],c,s));break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.EnclosingRoundedRectangle:{const s=this._cp2(r,3,-2),t=[Math.min(c[0],s[0]),Math.max(c[1],s[1])],i=[Math.max(c[0],s[0]),Math.min(c[1],s[1])],h=i[0]-t[0],e=t[1]-i[1],_=Math.min(h,e)/10,u=[];u.push([t[0]+_+.75*(h-2*_),t[1]]),u.push([i[0]-_,t[1]]),this._add90DegArc(u,[i[0]-_,t[1]],[i[0],t[1]-_],[i[0],t[1]]),u.push([i[0],i[1]+_]),this._add90DegArc(u,[i[0],i[1]+_],[i[0]-_,i[1]],i),u.push([t[0]+_,i[1]]),this._add90DegArc(u,[t[0]+_,i[1]],[t[0],i[1]+_],[t[0],i[1]]),u.push([t[0],t[1]-_]),this._add90DegArc(u,[t[0],t[1]-_],[t[0]+_,t[1]],t),u.push([t[0]+_+.75*(h-2*_),t[1]]);break}case _enums_js__WEBPACK_IMPORTED_MODULE_4__.GeometricEffectControlMeasureLineRule.FullGeometry:default:t.push(r)}}return t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectCut: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r{static local(){return null===r.instance&&(r.instance=new r),r.instance}execute(e,t,i,r,n){return new u(e,t,i)}}r.instance=null;class u extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.PathEffectCursor{constructor(e,t,r){super(e,!0,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_2__.CurveHelper,this._beginCut=(void 0!==t.beginCut?t.beginCut:1)*r,this._endCut=(void 0!==t.endCut?t.endCut:1)*r,this._middleCut=(void 0!==t.middleCut?t.middleCut:0)*r,this._invert=void 0!==t.invert&&t.invert,this._beginCut<0&&(this._beginCut=0),this._endCut<0&&(this._endCut=0),this._middleCut<0&&(this._middleCut=0)}processPath(t){const{_beginCut:i,_endCut:r,_middleCut:u}=this,n=t.pathLength(),s=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._invert){if(0!==i||0!==r||0!==u)if(i+r+u>=n)for(s.startPath();t.nextPoint();)s.pushXY(t.x,t.y);else this._curveHelper.appendSubCurve(s,t,0,i),this._curveHelper.appendSubCurve(s,t,.5*(n-u),.5*(n+u)),this._curveHelper.appendSubCurve(s,t,n-r,r)}else if(0===i&&0===r&&0===u)for(s.startPath();t.nextPoint();)s.pushXY(t.x,t.y);else i+r+u<n&&(0===u?this._curveHelper.appendSubCurve(s,t,i,n-r):(this._curveHelper.appendSubCurve(s,t,i,.5*(n-u)),this._curveHelper.appendSubCurve(s,t,.5*(n+u),n-r)));return 0===s.totalSize?null:s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectDashes: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/geometryCursorCollectUtils.js */ "./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,e,s,i,r){return new l(t,e,s)}}h.instance=null;class l extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_2__.PathEffectCursor{constructor(t,e,s){super(t,!0,!0),this._firstCurve=null,this._walker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_4__.GeometryWalker,this._walker.updateTolerance(s),this._endings=e.lineDashEnding,this._customDashPos=-(e.offsetAlongLine??0)*s,this._offsetAtEnd=(e.customEndingOffset??0)*s;let i=(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.normalizeDashEffectTemplate)(e).dashTemplate;null==i&&(i=[]),i.length%2&&(i=[...i,...i]),this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_4__.DashPattern,this._pattern.init(i,!0),this._pattern.scale(s)}processPath(s){if(0===this._pattern.length()){this.iteratePath=!1;const i=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectPath)(s);return _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.fromJSONCIM({paths:[i]})}if(!this.iteratePath){let r=!0;switch(this._endings){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.HalfPattern:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.HalfGap:default:this._pattern.extPtGap=0;break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.FullPattern:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.FullGap:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.NoConstraint:this.isClosed||(r=!1);break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.Custom:this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}const a=s.pathLength();if(this._pattern.isEmpty()||a<.1*this._pattern.length()){const i=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectPath)(s);return _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.fromJSONCIM({paths:[i]})}if(!this._walker.init(s,this._pattern,r)){const i=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_1__.collectPath)(s);return _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.fromJSONCIM({paths:[i]})}}let r;if(this.iteratePath)r=this._pattern.nextValue();else{let t;switch(this._endings){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.HalfPattern:default:t=.5*this._pattern.firstValue();break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.HalfGap:t=.5*-this._pattern.lastValue();break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.FullGap:t=-this._pattern.lastValue();break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.FullPattern:t=0;break;case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.NoConstraint:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.LineDashEnding.Custom:t=-this._customDashPos}let e=t/this._pattern.length();e-=Math.floor(e),t=e*this._pattern.length(),this._pattern.reset(),r=this._pattern.nextValue();let s=!1;for(;t>=r;)t-=r,r=this._pattern.nextValue(),s=!s;r-=t,s?(this._walker.nextPosition(r),r=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(r),r=this._pattern.nextValue(),this._walker.nextPosition(r),r=this._pattern.nextValue())}let a=this._walker.nextCurve(r);if(a)if(this._walker.isPathEnd()){if(this.iteratePath=!1,this._firstCurve){for(this._firstCurve.nextPath();this._firstCurve.nextPoint();)a.pushXY(this._firstCurve.x,this._firstCurve.y);this._firstCurve=null}}else r=this._pattern.nextValue(),!this._walker.nextPosition(r)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(a.pushCursor(this._firstCurve),this._firstCurve=null)):this.iteratePath=!0;else this.iteratePath=!1,a=this._firstCurve,this._firstCurve=null;return a?.reset(),a}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectDonut: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CIMEffects.js */ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{static local(){return null===s.instance&&(s.instance=new s),s.instance}execute(t,i,e,n,s,o){return new r(t,i,e,n,s,o)}}s.instance=null;class r{constructor(t,i,n,s,r,o){switch(this._inputGeometries=t,this._tileKey=s,this._geometryEngine=r,this._maxInflateSize=o*n,this._width=(void 0!==i.width?i.width:2)*n,i.method){case _enums_js__WEBPACK_IMPORTED_MODULE_3__.GeometricEffectDonutMethod.Mitered:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.GeometricEffectDonutMethod.Bevelled:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.GeometricEffectDonutMethod.Rounded:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.GeometricEffectDonutMethod.TrueBuffer:case _enums_js__WEBPACK_IMPORTED_MODULE_3__.GeometricEffectDonutMethod.Square:}this._option=i.option}next(){let e;for(;e=this._inputGeometries.next();){if("esriGeometryEnvelope"===e.geometryType&&this._width>0){const i=e.asJSON();return Math.min(i.xmax-i.xmin,i.ymax-i.ymin)-2*this._width<0?e:_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.fromJSONCIM({paths:[[[i.xmin+this._width,i.ymin+this._width],[i.xmax-this._width,i.ymin+this._width],[i.xmax-this._width,i.ymax-this._width],[i.xmin+this._width,i.ymax-this._width],[i.xmin+this._width,i.ymin+this._width]],[[i.xmin,i.ymin],[i.xmin,i.ymax],[i.xmax,i.ymax],[i.xmax,i.ymin],[i.xmin,i.ymin]]]})}if("esriGeometryPolygon"===e.geometryType){if(0===this._width)return e.clone();const t=this._geometryEngine;if(null==t)return null;const s=this._tileKey?(0,_CIMEffects_js__WEBPACK_IMPORTED_MODULE_2__.clipCursorToTileExtent)(e,this._maxInflateSize):e.clone();if(!s)continue;const r=t.buffer(_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"].WebMercator,s.asJSON(),-this._width,1);if(r)for(const i of r.rings)if(i){s.startPath();for(const t of i.reverse())s.pushXY(t[0],s.yFactor*t[1])}return s}}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectJog: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(t,i,s,e,o){return new n(t,i,s)}}e.instance=null;class n extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_1__.PathEffectCursor{constructor(t,i,e){super(t,!1,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_2__.CurveHelper,this._length=(void 0!==i.length?i.length:20)*e,this._angle=void 0!==i.angle?i.angle:225,this._position=void 0!==i.position?i.position:50,this._length<0&&(this._length=-this._length),this._position<20&&(this._position=20),this._position>80&&(this._position=80),this._mirror=!1}processPath(i){const s=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._curveHelper.isEmpty(i))return null;i.seekInPath(0);const e=i.x,n=i.y;i.seekInPath(i.pathSize-1);const o=i.x,r=i.y,h=[o-e,r-n];this._curveHelper.normalize(h);const l=e+(o-e)*this._position/100,_=n+(r-n)*this._position/100,a=Math.cos((90-this._angle)/180*Math.PI);let p=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(p=-p),this._mirror=!this._mirror;const c=[l-this._length/2*a,_-this._length/2*p],m=[l+this._length/2*a,_+this._length/2*p];return s.pushPath([[e,n],c,m,[o,r]]),s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectMove: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{static local(){return null===t.instance&&(t.instance=new t),t.instance}execute(t,s,n,o,i){return new e(t,s,n)}}t.instance=null;class e{constructor(t,e,s){this._inputGeometries=t,this._offsetX=void 0!==e.offsetX?e.offsetX*s:0,this._offsetY=void 0!==e.offsetY?e.offsetY*s:0}next(){let t=this._inputGeometries.next();for(;t;){if(t.totalSize>0)return this._move(t.clone(),this._offsetX,this._offsetY);t=this._inputGeometries.next()}return null}_move(t,e,s){for(;t.nextPath();)for(;t.nextPoint();)t.x=t.x+e,t.y=t.y+s;return t.reset(),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectOffset: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/geometryCursorCollectUtils.js */ "./node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js");
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../geometry/support/jsonUtils.js */ "./node_modules/@arcgis/core/geometry/support/jsonUtils.js");
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../CIMEffects.js */ "./node_modules/@arcgis/core/symbols/cim/CIMEffects.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "./node_modules/@arcgis/core/geometry/SpatialReference.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const f=10;class h{static local(){return null===h.instance&&(h.instance=new h),h.instance}execute(t,e,s,o,r,i){return new l(t,e,s,o,r,i)}}h.instance=null;class l{constructor(t,e,s,o,n,m){this._inputGeometries=t,this._tileKey=o,this._geometryEngine=n,this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_5__.CurveHelper,this._offset=(e.offset??1)*s,this._method=e.method,this._maxInflateSize=Math.max(Math.abs(m*s),f),this._option=e.option,this._offsetFlattenError=_CurveHelper_js__WEBPACK_IMPORTED_MODULE_5__.pixelTolerance*s}next(){let r;for(;r=this._inputGeometries.next();){if(0===this._offset)return r.clone();if("esriGeometryEnvelope"===r.geometryType){if(this._method===_enums_js__WEBPACK_IMPORTED_MODULE_6__.GeometricEffectOffsetMethod.Rounded&&this._offset>0){const s=(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_2__.collectPath)(r),o=this._curveHelper.offset(s,-this._offset,this._method,4,this._offsetFlattenError);if(o){const e=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.createEmptyOptimizedCIM(r.geometryType);return e.pushPath(o),e}return null}const o=r.asJSON();if((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__.isExtent)(o)&&Math.min(o.xmax-o.xmin,o.ymax-o.ymin)+2*this._offset>0)return _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.fromJSONCIM({xmin:o.xmin-this._offset,xmax:o.xmax+this._offset,ymin:o.ymin-this._offset,ymax:o.ymax+this._offset})}const i=this._geometryEngine;if(null==i)continue;const f=this._tileKey?(0,_CIMEffects_js__WEBPACK_IMPORTED_MODULE_4__.clipCursorToTileExtent)(r,this._maxInflateSize):r.clone();if(!f)continue;const h=i.offset(_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_7__["default"].WebMercator,f.asJSON(),-this._offset,1,this._method,4,this._offsetFlattenError);return h?_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_1__.GeometryCursor.fromJSONCIM(h):null}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectReverse: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(e,n,r,s,i){return new t(e,n,r)}}e.instance=null;class t{constructor(e,t,n){this._inputGeometries=e,this._reverse=void 0===t.reverse||t.reverse}next(){let e=this._inputGeometries.next();for(;e;){if(!this._reverse)return e;if("esriGeometryPolyline"===e.geometryType)return n(e.clone());e=this._inputGeometries.next()}return null}}function n(e){for(;e.nextPath();)for(let t=0;t<e.pathSize/2;t++){e.seekInPath(t);const n=e.x,r=e.y;e.seekInPath(e.pathSize-t-1);const s=e.x,i=e.y;e.x=n,e.y=r,e.seekInPath(t),e.x=s,e.y=i}return e.reset(),e}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectRotate: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(t,e,r,s,o){return new n(t,e,r)}}e.instance=null;class n{constructor(t,e,n){this._inputGeometries=t,this._rotateAngle=void 0!==e.angle?e.angle*Math.PI/180:0}next(){let e=this._inputGeometries.next();for(;e;){if(0===this._rotateAngle||"esriGeometryPoint"===e.geometryType)return e;if(e.totalSize>0){const n=(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_0__.getCursorBoundsXY)(e),r=(n[2]+n[0])/2,s=(n[3]+n[1])/2;return e.reset(),this._rotate(e.clone(),r,s)}e=this._inputGeometries.next()}return null}_rotate(t,e,n){const r=Math.cos(this._rotateAngle),s=Math.sin(this._rotateAngle);for(;t.nextPath();)for(;t.nextPoint();){const o=t.x-e,i=t.y-n;t.x=e+o*r-i*s,t.y=n+o*s+i*r}return t.reset(),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectScale: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(t,e,o,s,n){return new r(t,e,o)}}e.instance=null;class r{constructor(t,e,r){this._inputGeometries=t,this._xFactor=void 0!==e.xScaleFactor?e.xScaleFactor:1.15,this._yFactor=void 0!==e.yScaleFactor?e.yScaleFactor:1.15}next(){const e=this._inputGeometries.next();if(e){if(1===this._xFactor&&1===this._yFactor)return e;if("esriGeometryPoint"===e.geometryType)return e;if(e.totalSize>0){const r=(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_0__.getCursorBoundsXY)(e),o=(r[2]+r[0])/2,s=(r[3]+r[1])/2;return e.reset(),this._scaleCursor(e.clone(),o,s)}}return null}_scaleCursor(t,e,r){for(;t.nextPath();)for(;t.nextPoint();)t.x=e+(t.x-e)*this._xFactor,t.y=r+(t.y-r)*this._yFactor;return t.reset(),t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectWave: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/GeometryCursor.js */ "./node_modules/@arcgis/core/geometry/GeometryCursor.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{static local(){return null===n.instance&&(n.instance=new n),n.instance}execute(t,e,i,s,h){return new r(t,e,i)}}n.instance=null;class r{constructor(t,e,h){this._inputGeometries=t,this._height=(void 0!==e.amplitude?e.amplitude:2)*h,this._period=(void 0!==e.period?e.period:3)*h,this._style=e.waveform,this._height<=0&&(this._height=Math.abs(this._height)),this._period<=0&&(this._period=Math.abs(this._period)),this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.DashPattern,this._pattern.addValue(this._period),this._pattern.addValue(this._period),this._walker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.GeometryWalker,this._walker.updateTolerance(h)}next(){let t=this._inputGeometries.next();for(;t;){if(0===this._height||0===this._period)return t;const e=this._processGeom(t);if(e)return e;t=this._inputGeometries.next()}return null}_processGeom(i){const s=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.GeometryCursor.createEmptyOptimizedCIM(i.geometryType);for(;i.nextPath();){s.startPath();const t=i.pathLength();if(this._walker.init(i,this._pattern))switch(this._style){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectWaveform.Sinus:default:this._constructCurve(s,t,!1);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectWaveform.Square:this._constructSquare(s,t);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectWaveform.Triangle:this._constructTriangle(s,t);break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.GeometricEffectWaveform.Random:this._constructCurve(s,t,!0)}else for(;i.nextPoint();)s.pushXY(i.x,i.y)}return s}_constructCurve(t,e,i){let s=Math.round(e/this._period);0===s&&(s=1);const n=s*16+1,r=e/s,a=this._period/16,o=1/n,p=2*Math.PI*e/r,_=2*Math.PI*Math.random(),u=2*Math.PI*Math.random(),l=2*Math.PI*Math.random(),c=.75-Math.random()/2,d=.75-Math.random()/2,g=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;this._walker.curPointAndAngle(g),t.pushPoint(g.pt);let w=0;for(;;){if(!this._walker.nextPointAndAngle(a,g)){t.pushPoint(this._walker.getPathEnd());break}{const e=w;let s;if(w+=o,i){const t=this._height/2*(1+.3*Math.sin(c*p*e+_));s=t*Math.sin(p*e+u),s+=t*Math.sin(d*p*e+l),s/=2}else s=.5*this._height*Math.sin(.5*p*e);t.pushXY(g.pt[0]-s*g.sa,g.pt[1]+s*g.ca)}}}_constructSquare(t,e){Math.round(e/this._period);let i=!0;for(;;){let e=!1;if(this._walker.curPositionIsValid()){const s=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;this._walker.curPointAndAngle(s);const n=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;if(this._walker.nextPointAndAngle(this._period,n)){const r=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;this._walker.nextPointAndAngle(this._period,r)&&(i?(t.pushPoint(s.pt),i=!1):t.pushPoint(s.pt),t.pushXY(s.pt[0]-this._height/2*s.sa,s.pt[1]+this._height/2*s.ca),t.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),t.pushXY(n.pt[0]+this._height/2*n.sa,n.pt[1]-this._height/2*n.ca),t.pushXY(r.pt[0]+this._height/2*r.sa,r.pt[1]-this._height/2*r.ca),e=!0)}}if(!e){t.pushPoint(this._walker.getPathEnd());break}}}_constructTriangle(t,e){Math.round(e/this._period);let i=!0;for(;;){let e=!1;if(this._walker.curPositionIsValid()){const s=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;this._walker.curPointAndAngle(s);const n=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;if(this._walker.nextPointAndAngle(this._period/2,n)){const r=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;this._walker.nextPointAndAngle(this._period,r)&&(this._walker.nextPosition(this._period/2)&&(i?(t.pushPoint(s.pt),i=!1):t.pushPoint(s.pt),t.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),t.pushXY(r.pt[0]+this._height/2*r.sa,r.pt[1]-this._height/2*r.ca)),e=!0)}}if(!e){t.pushPoint(this._walker.getPathEnd());break}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/imageUtils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/imageUtils.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFirstFrame: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t){const e=t.getFrame(0);if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement)return e;const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const a=n.getContext("2d");return e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0),n}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementAlongLineSameSize: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{static local(){return null===a.instance&&(a.instance=new a),a.instance}execute(t,e,s,i,n){return new r(t,e,s)}}a.instance=null;class r extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,e,n){super(t),this._geometryWalker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.GeometryWalker,this._geometryWalker.updateTolerance(n),this._angleToLine=e.angleToLine??!0,this._offset=(e.offset?e.offset:0)*n,this._originalEndings=e.endings,this._offsetAtEnd=(e.customEndingOffset?e.customEndingOffset:0)*n,this._position=-(e.offsetAlongLine?e.offsetAlongLine:0)*n,this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.DashPattern,this._pattern.init(e.placementTemplate,!1),this._pattern.scale(n),this._endings=this._originalEndings}processPath(t){if(this._pattern.isEmpty())return null;let s;if(this.iteratePath)s=this._pattern.nextValue();else{this._originalEndings===_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithFullGap&&this.isClosed?this._endings=_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;let i,n=!0;switch(this._endings){case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.NoConstraint:i=-this._position,i=this._adjustPosition(i),n=!1;break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithHalfGap:default:i=-this._pattern.lastValue()/2;break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithFullGap:i=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithMarkers:i=0;break;case _enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.Custom:i=-this._position,i=this._adjustPosition(i),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._geometryWalker.init(t,this._pattern,n))return null;this._pattern.reset();let a=0;for(;i>a;)i-=a,a=this._pattern.nextValue();a-=i,s=a,this.iteratePath=!0}const i=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_2__.Pos;return this._geometryWalker.nextPointAndAngle(s,i)?this._endings===_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithFullGap&&this._geometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===_enums_js__WEBPACK_IMPORTED_MODULE_1__.PlacementEndings.WithMarkers&&this._geometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(i.pt[0]-this._offset*i.sa,i.pt[1]+this._offset*i.ca),this._angleToLine&&this.internalPlacement.setRotateCS(i.ca,i.sa),this.internalPlacement):(this.iteratePath=!1,null)}_adjustPosition(t){let e=t/this._pattern.length();return e-=Math.floor(e),e*this._pattern.length()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementAtExtremities: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i{static local(){return null===i.instance&&(i.instance=new i),i.instance}execute(t,e,s,i,n){return new r(t,e,s)}}i.instance=null;class r extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,s,i){super(t,!1,!0),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._placePerPart=s.placePerPart??!1,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*i:0,this._type=s.extremityPlacement,this._position=void 0!==s.offsetAlongLine?s.offsetAlongLine*i:0,this._beginProcessed=!1}processMultiPath(t){return this._placePerPart?super.processMultiPath(t):this.processPath(t)}processPath(t){let e;switch(this._type){case _enums_js__WEBPACK_IMPORTED_MODULE_2__.ExtremityPlacement.Both:default:this._beginProcessed?(e=this._atExtremities(t,this._position,!1),this._beginProcessed=!1,this.iterateMultiPath=!1,this.iteratePath=!1):(e=this._atExtremities(t,this._position,!0),this._beginProcessed=!0,this.iterateMultiPath=!0,this.iteratePath=!0);break;case _enums_js__WEBPACK_IMPORTED_MODULE_2__.ExtremityPlacement.JustBegin:e=this._atExtremities(t,this._position,!0);break;case _enums_js__WEBPACK_IMPORTED_MODULE_2__.ExtremityPlacement.JustEnd:e=this._atExtremities(t,this._position,!1);case _enums_js__WEBPACK_IMPORTED_MODULE_2__.ExtremityPlacement.None:}return e}_atExtremities(t,e,s){if(this._placePerPart||(s?t.seekPath(0):t.seekPath(t.totalSize-1)),s||t.seekPathEnd(),s?t.nextPoint():t.prevPoint()){let i=0,[r,n]=[0,0],[a,o]=[t.x,t.y];for(;s?t.nextPoint():t.prevPoint();){r=a,n=o,a=t.x,o=t.y;const s=this._curveHelper.getLength(r,n,a,o);if(i+s>e){const t=(e-i)/s,[h,l]=this._curveHelper.getAngleCS(r,n,a,o,t),c=this._curveHelper.getCoord2D(r,n,a,o,t);return this.internalPlacement.setTranslate(c[0]-this._offset*l,c[1]+this._offset*h),this._angleToLine&&this.internalPlacement.setRotateCS(-h,-l),this.internalPlacement}i+=s}}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementAtRatioPositions: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GeometryWalker.js */ "./node_modules/@arcgis/core/symbols/cim/GeometryWalker.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{static local(){return null===a.instance&&(a.instance=new a),a.instance}execute(t,i,s,e,n){return new r(t,i,s)}}a.instance=null;class r extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,e,n){super(t),this._walker=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__.GeometryWalker,this._walker.updateTolerance(n),this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*n:0,this._beginGap=void 0!==e.beginPosition?e.beginPosition*n:0,this._endGap=void 0!==e.endPosition?e.endPosition*n:0,this._flipFirst=void 0===e.flipFirst||e.flipFirst,this._pattern=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__.DashPattern,this._pattern.init(e.positionArray,!1,!1),this._subPathLen=0,this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0}processPath(t){if(this._pattern.isEmpty())return null;let i;if(this.iteratePath){const t=this._pattern.nextValue()*this._subPathLen,s=this._beginGap+t;i=s-this._prevPos,this._prevPos=s}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=t.pathLength()-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(t,this._pattern,!1))return null;this._pattern.reset();const s=this._pattern.nextValue()*this._subPathLen,e=this._beginGap+s;i=e-this._prevPos,this._prevPos=e,this.iteratePath=!0}const s=new _GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__.Pos;if(!this._walker.nextPointAndAngle(i,s,_GeometryWalker_js__WEBPACK_IMPORTED_MODULE_1__.EndType.END))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(s.pt[0]-this._offset*s.sa,s.pt[1]+this._offset*s.ca);const a=this._isFirst&&this._flipFirst;let r,h;return this._angleToLine?(r=s.ca,h=s.sa):(r=1,h=0),a&&(r=-r,h=-h),this.internalPlacement.setRotateCS(r,h),this._isFirst=!1,this._posCount--,0===this._posCount&&(this.iteratePath=!1),this.internalPlacement}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementInsidePolygon: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e=512,h=10,n=24,_=1e-6;class r{static local(){return null===r.instance&&(r.instance=new r),r.instance}execute(t,s,i,e,h){return new a(t,s,i,e,h)}}r.instance=null;class a{constructor(h,n,_,r,a){if(this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,this._currentX=0,this._currentY=0,this._accelerationMap=null,this._testInsidePolygon=!1,this._verticalSubdivision=!0,this._stepX=Math.abs(n.stepX??16)*_,this._stepY=Math.abs(n.stepY??16)*_,this._stepX=Math.round(128*this._stepX)/128,this._stepY=Math.round(128*this._stepY)/128,0!==this._stepX&&0!==this._stepY){if(this._gridType=n.gridType??_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementGridType.Fixed,this._gridType===_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementGridType.Random){const s=n.seed??13,i=1;this._randomLCG=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_0__["default"](s*i),this._randomness=(n.randomness??100)/100,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._sinAngle=0,this._offsetX=0,this._offsetY=0,this._buildRandomValues()}else{if(this._randomness=0,this._gridAngle=n.gridAngle??0,this._shiftOddRows=n.shiftOddRows??!1,this._offsetX=(n.offsetX??0)*_,this._offsetY=(n.offsetY??0)*_,this._cosAngle=Math.cos(this._gridAngle/180*Math.PI),this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI),this._stepX)if(this._offsetX<0)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(this._offsetY<0)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}if(this._graphicOriginX=0,this._graphicOriginY=0,null!=r){const[t,s,i,h]=r.split("/"),n=parseFloat(t),_=parseFloat(s),a=parseFloat(i),o=parseFloat(h);this._graphicOriginX=-(o*2**n+a)*e,this._graphicOriginY=_*e,this._testInsidePolygon=!0}this._internalPlacement=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_1__.Placement,this._calculateMinMax(h),this._geometryCursor=h}}next(){return this._geometryCursor?this._nextInside():null}_buildRandomValues(){if(!a._randValues){a._randValues=[];for(let t=0;t<n;t++)for(let s=0;s<n;s++)a._randValues.push(this._randomLCG.getFloat()),a._randValues.push(this._randomLCG.getFloat())}}_calculateMinMax(t){let s,i,h,n,_,r,a,o,l,f,c,u,p,M;this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,a=o=p=c=Number.MAX_VALUE,l=f=M=u=-Number.MAX_VALUE;const g=1!==this._cosAngle;for(t.reset();t.nextPath();)for(;t.nextPoint();)r=t.x,_=t.y,s=r-this._graphicOriginX-this._offsetX,i=_-this._graphicOriginY-this._offsetY,g?(h=this._cosAngle*s-this._sinAngle*i,n=this._sinAngle*s+this._cosAngle*i):(h=s,n=i),a=Math.min(a,h),l=Math.max(l,h),o=Math.min(o,n),f=Math.max(f,n),c=Math.min(c,_),u=Math.max(u,_),p=Math.min(p,r),M=Math.max(M,r);c=c!==Number.MAX_VALUE?c:-e-this._stepY,u=u!==-Number.MAX_VALUE?u:this._stepY,p=p!==Number.MAX_VALUE?p:-this._stepX,M=M!==-Number.MAX_VALUE?M:e+this._stepX;const d=u-c,X=M-p;if(this._verticalSubdivision=d>=X,this._polygonMin=this._verticalSubdivision?c:p,this._testInsidePolygon){let t=0-this._graphicOriginX-this._offsetX-this._stepX,s=e-this._graphicOriginX-this._offsetX+this._stepX,i=-e-this._graphicOriginY-this._offsetY-this._stepY,h=0-this._graphicOriginY-this._offsetY+this._stepY;if(g){const e=[[t,i],[t,h],[s,i],[s,h]];t=i=Number.MAX_VALUE,s=h=-Number.MAX_VALUE;for(const n of e){const e=this._cosAngle*n[0]-this._sinAngle*n[1],_=this._sinAngle*n[0]+this._cosAngle*n[1];t=Math.min(t,e),s=Math.max(s,e),i=Math.min(i,_),h=Math.max(h,_)}}a=a!==Number.MAX_VALUE?Math.max(a,t):t,o=o!==Number.MAX_VALUE?Math.max(o,i):i,l=l!==-Number.MAX_VALUE?Math.min(l,s):s,f=f!==-Number.MAX_VALUE?Math.min(f,h):h}this._xMin=Math.round(a/this._stepX),this._xMax=Math.round(l/this._stepX),this._yMin=Math.round(o/this._stepY),this._yMax=Math.round(f/this._stepY),this._currentX=this._xMax+1,this._currentY=this._yMin-1,this._buildAccelerationMap(t,p,M,c,u)}_buildAccelerationMap(t,s,i,n,_){t.reset();const r=new Map,a=this._verticalSubdivision,o=a?_-n:i-s;let f=Math.ceil(o/h);if(f<=1)return;const c=Math.floor(o/f);let u,p,M,g,d,X,m,x,A,Y,y;for(f++,this._delta=c,a?(A=-e-2*this._stepY,Y=2*this._stepY,y=n):(A=-2*this._stepX,Y=e+2*this._stepX,y=s);t.nextPath();)if(!(t.pathSize<2)&&t.nextPoint())for(u=t.x,p=t.y;t.nextPoint();u=M,p=g){if(M=t.x,g=t.y,a){if(p===g||p<A&&g<A||p>Y&&g>Y)continue;d=Math.min(p,g),X=Math.max(p,g)}else{if(u===M||u<A&&M<A||u>Y&&M>Y)continue;d=Math.min(u,M),X=Math.max(u,M)}for(;d<X;)m=Math.floor((d-y)/c),l(m,u,p,M,g,r),d+=c;x=Math.floor((X-y)/c),x>m&&l(x,u,p,M,g,r)}this._accelerationMap=r}_nextInside(){for(;;){if(this._currentX>this._xMax){if(this._currentY++,this._currentY>this._yMax)return null;this._currentX=this._xMin,this._shiftOddRows&&this._currentY%2&&this._currentX--}let t=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(t+=.5*this._stepX);const s=this._currentY*this._stepY+this._offsetY;let e,h;if(this._currentX++,this._gridType===_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementGridType.Random){const i=(this._currentX%n+n)%n,_=(this._currentY%n+n)%n;e=this._graphicOriginX+t+this._stepX*this._randomness*(.5-a._randValues[_*n+i])*2/3,h=this._graphicOriginY+s+this._stepY*this._randomness*(.5-a._randValues[_*n+i+1])*2/3}else e=this._graphicOriginX+this._cosAngle*t+this._sinAngle*s,h=this._graphicOriginY-this._sinAngle*t+this._cosAngle*s;if(!this._testInsidePolygon||this._isInsidePolygon(e,h,this._geometryCursor))return this._internalPlacement.setTranslate(e,h),this._internalPlacement}}_isInsidePolygon(t,s,i){if(null==this._accelerationMap)return o(t,s,i);t+=_,s+=_;const e=this._verticalSubdivision,h=e?s:t,n=Math.floor((h-this._polygonMin)/this._delta),r=this._accelerationMap.get(n);if(!r)return!1;let a,l,f,c=0;for(const _ of r){if(a=_[0],l=_[1],e){if(a[1]>s==l[1]>s)continue;f=(l[0]-a[0])*(s-a[1])-(l[1]-a[1])*(t-a[0])}else{if(a[0]>t==l[0]>t)continue;f=(l[1]-a[1])*(t-a[0])-(l[0]-a[0])*(s-a[1])}f>0?c++:c--}return 0!==c}}function o(t,s,i){let e,h,n,r,a=0;for(t+=_,s+=_,i.reset();i.nextPath();)if(i.nextPoint())for(e=i.x,h=i.y;i.nextPoint();e=n,h=r){if(n=i.x,r=i.y,h>s==r>s)continue;(n-e)*(s-h)-(r-h)*(t-e)>0?a++:a--}return 0!==a}function l(t,s,i,e,h,n){let _=n.get(t);_||(_=[],n.set(t,_)),_.push([[s,i],[e,h]])}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementOnLine: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const i=.001;class s{static local(){return null===s.instance&&(s.instance=new s),s.instance}execute(e,t,n,i,s){return new r(e,t,n)}}s.instance=null;class r extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(e,n,s){super(e),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._angleToLine=void 0===n.angleToLine||n.angleToLine,this._offset=void 0!==n.offset?n.offset*s:0,this._relativeTo=n.relativeTo,this._position=void 0!==n.startPointOffset?n.startPointOffset*s:0,this._epsilon=i*s}processPath(e){const t=this._position;if(this._relativeTo===_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementOnLineRelativeTo.SegmentMidpoint){if(this.iteratePath||(this.iteratePath=!0),e.nextPoint()){let[t,n]=[e.x,e.y],[i,s]=[0,0];for(;e.nextPoint();){i=e.x,s=e.y;const r=this._curveHelper.getLength(t,n,i,s);if(r<this._epsilon){t=i,n=s;continue}const o=.5+this._position/r,[a,l]=this._curveHelper.getAngleCS(t,n,i,s,o),h=this._curveHelper.getCoord2D(t,n,i,s,o);return this.internalPlacement.setTranslate(h[0]-this._offset*l,h[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(a,l),this.internalPlacement}}return this.iteratePath=!1,null}const i=this._relativeTo===_enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementOnLineRelativeTo.LineEnd;return this.onLine(e,t,i)}onLine(e,t,i){let s,r=!1;switch(this._relativeTo){case _enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementOnLineRelativeTo.LineMiddle:default:e.seekPathStart(),s=e.pathLength()/2+t;break;case _enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementOnLineRelativeTo.LineBeginning:s=t;break;case _enums_js__WEBPACK_IMPORTED_MODULE_2__.PlacementOnLineRelativeTo.LineEnd:s=t,r=!0}i?e.seekPathEnd():e.seekPathStart();let o=0;if(i?e.prevPoint():e.nextPoint()){let[t,n]=[e.x,e.y],[a,l]=[0,0];for(;i?e.prevPoint():e.nextPoint();){a=e.x,l=e.y;const i=this._curveHelper.getLength(t,n,a,l);if(o+i>s){const e=(s-o)/i,[h,c]=this._curveHelper.getAngleCS(t,n,a,l,e),f=this._curveHelper.getCoord2D(t,n,a,l,e),u=r?-this._offset:this._offset;return this.internalPlacement.setTranslate(f[0]-u*c,f[1]+u*h),this._angleToLine&&(r?this.internalPlacement.setRotateCS(-h,-c):this.internalPlacement.setRotateCS(h,c)),this.internalPlacement}t=a,n=l,o+=i}}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementOnVertices: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CIMCursor.js */ "./node_modules/@arcgis/core/symbols/cim/CIMCursor.js");
/* harmony import */ var _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../CurveHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CurveHelper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s=1e-15;class i{static local(){return null===i.instance&&(i.instance=new i),i.instance}execute(t,e,s,i,o){return new n(t,e,s)}}i.instance=null;class n extends _CIMCursor_js__WEBPACK_IMPORTED_MODULE_0__.PathTransformationCursor{constructor(t,s,i){super(t),this._curveHelper=new _CurveHelper_js__WEBPACK_IMPORTED_MODULE_1__.CurveHelper,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*i:0,this._endPoints=void 0===s.placeOnEndPoints||s.placeOnEndPoints,this._controlPoints=void 0===s.placeOnControlPoints||s.placeOnControlPoints,this._regularVertices=void 0===s.placeOnRegularVertices||s.placeOnRegularVertices,this._tags=[],this._tagIterator=0}processPath(t){if(this.iteratePath||(this._preparePath(t),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;const e=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(e[2]);let s=e[0],i=e[1];if(0!==this._offset){const t=Math.cos(e[2]),n=Math.sin(e[2]);s-=this._offset*n,i+=this._offset*t}return this.internalPlacement.setTranslate(s,i),this._tagIterator++,this.internalPlacement}_preparePath(t){this._tags.length=0,this._tagIterator=0,t.seekPathStart();const e=t.isClosed();let s=0,i=!1,n=0,r=0;if(t.seekPathStart(),t.nextPoint()){let a=t.x,h=t.y,l=t.getControlPoint(),_=!0,c=t.nextPoint();for(;c;){const g=t.x,P=t.y,u=t.getControlPoint();(this._angleToLine||0!==this._offset)&&(n=this._curveHelper.getAngle(a,h,g,P,0)),_?(_=!1,e?(s=n,i=l):(this._endPoints||this._controlPoints&&l)&&this._tags.push([a,h,n])):l?this._controlPoints&&this._tags.push([a,h,o(r,n)]):this._regularVertices&&this._tags.push([a,h,o(r,n)]),(this._angleToLine||0!==this._offset)&&(r=this._curveHelper.getAngle(a,h,g,P,1)),c=t.nextPoint(),c||(e?u||i?this._controlPoints&&this._tags.push([g,P,o(r,s)]):this._regularVertices&&this._tags.push([g,P,o(r,s)]):(this._endPoints||this._controlPoints&&u)&&this._tags.push([g,P,r])),a=g,h=P,l=u}}this._tagIterator=0}}function o(t,e){const i=Math.PI;for(;Math.abs(e-t)>i+2*s;)e-t>i?e-=2*i:e+=2*i;return(t+e)/2}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PlacementPolygonCenter: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/boundsUtils.js */ "./node_modules/@arcgis/core/geometry/support/boundsUtils.js");
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../geometry/support/centroid.js */ "./node_modules/@arcgis/core/geometry/support/centroid.js");
/* harmony import */ var _geometry_support_labelPoint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/labelPoint.js */ "./node_modules/@arcgis/core/geometry/support/labelPoint.js");
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CIMPlacements.js */ "./node_modules/@arcgis/core/symbols/cim/CIMPlacements.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enums.js */ "./node_modules/@arcgis/core/symbols/cim/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o{static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(t,e,s,n,r){return new i(t,e,s)}}o.instance=null;class i{constructor(t,e,s){this._geometryCursor=t,this._offsetX=void 0!==e.offsetX?e.offsetX*s:0,this._offsetY=void 0!==e.offsetY?e.offsetY*s:0,this._method=void 0!==e.method?e.method:_enums_js__WEBPACK_IMPORTED_MODULE_4__.PlacementPolygonCenterMethod.OnPolygon,this._placementPerPart=void 0!==e.placePerPart&&e.placePerPart,this._internalPlacement=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_3__.Placement}next(){const t=this._geometryCursor;if(!t)return null;if(!this._placementPerPart)return this._geometryCursor=null,this._polygonCenter(t);for(;t.nextPath();)if(!(t.getCurrentRingArea()<0))return this._polygonCenter(t.getCurrentPath());return this._geometryCursor=null,null}_polygonCenter(n){let o=!1;switch(this._method){case _enums_js__WEBPACK_IMPORTED_MODULE_4__.PlacementPolygonCenterMethod.CenterOfMass:{const t=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_1__.weightedAreaCentroid)(n);t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),o=!0)}break;case _enums_js__WEBPACK_IMPORTED_MODULE_4__.PlacementPolygonCenterMethod.BoundingBoxCenter:{const e=(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_0__.getCursorBoundsXY)(n);e&&(this._internalPlacement.setTranslate((e[2]+e[0])/2+this._offsetX,(e[3]+e[1])/2+this._offsetY),o=!0)}break;case _enums_js__WEBPACK_IMPORTED_MODULE_4__.PlacementPolygonCenterMethod.OnPolygon:default:{const t=(0,_geometry_support_labelPoint_js__WEBPACK_IMPORTED_MODULE_2__.getLabelPoint)(n);null!==t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),o=!0)}}return o?this._internalPlacement:null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   applyCIMSymbolColor: function() { return /* binding */ I; },
/* harmony export */   applyCIMSymbolRotation: function() { return /* binding */ h; },
/* harmony export */   getCIMSymbolColor: function() { return /* binding */ C; },
/* harmony export */   getCIMSymbolRotation: function() { return /* binding */ p; },
/* harmony export */   getCIMSymbolSize: function() { return /* binding */ i; },
/* harmony export */   getCIMSymbolType: function() { return /* binding */ P; },
/* harmony export */   scaleCIMMarker: function() { return /* binding */ m; },
/* harmony export */   scaleCIMSymbol: function() { return /* binding */ l; },
/* harmony export */   scaleCIMSymbolTo: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _cim_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cim/utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function i(e){const s=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(e);if("CIMTextSymbol"===s?.type)return s.height??0;let a=0;if(s?.symbolLayers)for(const t of s.symbolLayers)(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarker)(t)&&null!=t.size&&t.size>a?a=t.size:(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMStroke)(t)&&null!=t.width&&t.width>a?a=t.width:(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMFill)(t);return a}function c(e,o,r){if(!e)return;const n=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(e),s=i(e);if(0===s)return void f(n,o);l(n,o/s,!1,r)}function f(e,t){if(e)if("CIMTextSymbol"!==e.type){if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":o.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":o.width=t}}else e.height=t}function l(e,t,o,r){if(e)if("CIMTextSymbol"!==e.type){if(o&&e.effects)for(const o of e.effects)y(o,t);if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":m(o,t,r);break;case"CIMPictureStroke":case"CIMSolidStroke":!r?.preserveOutlineWidth&&o.width&&(o.width*=t);break;case"CIMPictureFill":o.height&&(o.height*=t),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t);break;case"CIMHatchFill":l(o.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t),o.separation&&(o.separation*=t)}}else null!=e.height&&(e.height*=t)}function m(e,t,o){if(e&&(e.markerPlacement&&M(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||l(r.symbol,t,!0,o)}function M(e,t){switch((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarkerStrokePlacement)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function y(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function C(o){const r=[];return u((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(o),r),r.length?new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.normalizeAlpha)(r[0])):null}function u(e,t){if(!e)return;let n;n="CIMTextSymbol"===e.type?e.symbol:e;const a="CIMPolygonSymbol"===e.type;if(n?.symbolLayers)for(const i of n.symbolLayers)if(!(i.colorLocked||a&&((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMStroke)(i)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarker)(i)&&i.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarkerStrokePlacement)(i.markerPlacement))))switch(i.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":i.tintColor&&b(t,i.tintColor);break;case"CIMVectorMarker":i.markerGraphics?.forEach((e=>{u(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":b(t,i.color);break;case"CIMHatchFill":u(i.lineSymbol,t)}}function b(e,t){for(const o of e)if(o.join(".")===t.join("."))return;e.push(t)}function I(o,r,n){r instanceof _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]||(r=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](r));const s=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(o);s&&k(s,r,n)}function k(e,t,a){if(!e)return;let i;i="CIMTextSymbol"===e.type?e.symbol:e;const c="CIMPolygonSymbol"===i?.type;if(i?.symbolLayers)for(const f of i.symbolLayers){if(f.colorLocked)continue;if(c)if(a){const{layersToColor:e}=a;if(((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMStroke)(f)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarker)(f)&&f.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarkerStrokePlacement)(f.markerPlacement))&&"fill"===e||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMFill)(f)&&"outline"===e)continue}else if((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMStroke)(f)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarker)(f)&&f.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarkerStrokePlacement)(f.markerPlacement))continue;const e=t.toArray();switch(f.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":f.tintColor=e;break;case"CIMVectorMarker":f.markerGraphics?.forEach((e=>{k(e.symbol,t,a)}));break;case"CIMSolidStroke":case"CIMSolidFill":f.color=e;break;case"CIMHatchFill":k(f.lineSymbol,t,a)}}}function p(e,o=!1){const r=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(e);if("CIMTextSymbol"===r?.type||"CIMPointSymbol"===r?.type){const e=r.angle;return null!=e&&o?360-e:e??0}return 0}function h(e,r,n=!1){const s=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(e);if(n&&(r=360-r),"CIMTextSymbol"!==s?.type){if("CIMPointSymbol"===s?.type&&s.symbolLayers){const e=r-(s.angle||0);for(const t of s.symbolLayers)if((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.isCIMMarker)(t)){let o=t.rotation||0;t.rotateClockwise?o-=e:o+=e,t.rotation=o}s.angle=r}}else s.angle=r}function P(e){const o=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__.toCIMSymbolJSON)(e);if(!o)return null;switch(o.type){case"CIMPointSymbol":return"CIMPointSymbol";case"CIMLineSymbol":return"CIMLineSymbol";case"CIMPolygonSymbol":return"CIMPolygonSymbol";case"CIMTextSymbol":return"CIMTextSymbol";case"CIMMeshSymbol":return"CIMMeshSymbol";default:return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/gfxUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/gfxUtils.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   defaultThematicColor: function() { return /* binding */ b; },
/* harmony export */   dekebabifyLineStyle: function() { return /* binding */ w; },
/* harmony export */   getDashArray: function() { return /* binding */ g; },
/* harmony export */   getFill: function() { return /* binding */ u; },
/* harmony export */   getPatternUrlWithColor: function() { return /* binding */ f; },
/* harmony export */   getStroke: function() { return /* binding */ y; }
/* harmony export */ });
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets.js */ "./node_modules/@arcgis/core/assets.js");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/LRUCache.js */ "./node_modules/@arcgis/core/core/LRUCache.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const i="picture-fill",a="simple-fill",l="simple-line",c="simple-marker",h="text",d="cim",m=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),p=new _core_LRUCache_js__WEBPACK_IMPORTED_MODULE_3__.LRUCache(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:"cross"!==o&&"x"!==o&&(s=e.color);break;case a:o&&"solid"!==o?"none"!==o&&(s={type:"pattern",x:0,y:0,src:(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.getAssetUrl)(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case i:s={type:"pattern",src:e.url,width:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.width)*e.xscale,height:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.height)*e.yscale,x:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.xoffset),y:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e.yoffset)};break;case h:s=e.color;break;case d:s=(0,_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_5__.getCIMSymbolColor)(e)}return s}function f(t,e){const s=t+"-"+e;return void 0!==p.get(s)?Promise.resolve(p.get(s)):(0,_request_js__WEBPACK_IMPORTED_MODULE_2__["default"])(t,{responseType:"image"}).then((t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement("canvas");i.width=r,i.height=n;const a=i.getContext("2d");a.fillStyle=e,a.fillRect(0,0,r,n),a.globalCompositeOperation="destination-in",a.drawImage(o,0,0);const l=i.toDataURL();return p.put(s,l),l}))}function y(t){if(!t)return null;let e=null;switch(t.type){case a:case i:case c:e=y(t.outline);break;case l:{const o=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(t.width);null!=t.style&&"none"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:"miter"===t.join?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(t.miterLimit):t.join},e.dashArray=g(e).join(",")||"none");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if("string"==typeof e&&"none"!==e)return e.split(",").map((t=>Number(t)));const r=s??0,n=m.has(o)?m.get(o).map((t=>t*r)):[];if("butt"!==t.cap)for(const[i,a]of n.entries())n[i]=i%2==1?a+r:Math.max(a-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll("-","");return t[e]=o,o}})(),b=new _Color_js__WEBPACK_IMPORTED_MODULE_1__["default"]([128,128,128]);


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/utils.js ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   applyColorToSymbol: function() { return /* binding */ g; },
/* harmony export */   applyOpacityToColor: function() { return /* binding */ w; },
/* harmony export */   applyRotationToSymbol: function() { return /* binding */ D; },
/* harmony export */   applySizesToSymbol: function() { return /* binding */ R; },
/* harmony export */   fetchWebStyleSymbol: function() { return /* binding */ N; },
/* harmony export */   getCSSFilterFromEffectList: function() { return /* binding */ I; },
/* harmony export */   getColorFromSymbol: function() { return /* binding */ h; },
/* harmony export */   getIconHref: function() { return /* binding */ p; },
/* harmony export */   getSymbolOutlineSize: function() { return /* binding */ m; },
/* harmony export */   isVolumetricSymbol: function() { return /* binding */ y; },
/* harmony export */   symbolHasExtrudeSymbolLayer: function() { return /* binding */ J; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _layers_effects_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layers/effects/jsonUtils.js */ "./node_modules/@arcgis/core/layers/effects/jsonUtils.js");
/* harmony import */ var _cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _gfxUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gfxUtils.js */ "./node_modules/@arcgis/core/symbols/support/gfxUtils.js");
/* harmony import */ var _Symbol3DMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Symbol3DMaterial.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const a=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]("white");function f(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}function m(e){if(!e)return 0;if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(e)){const t=f(e);return null!=t?t:0}return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.px2pt)((0,_gfxUtils_js__WEBPACK_IMPORTED_MODULE_8__.getStroke)(e)?.width)}function y(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function p(e){return e.resource?.href??""}function h(r,n){if(!r)return null;let l=null;return (0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(r)?l=b(r):(0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol2D)(r)&&(l="cim"===r.type?(0,_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_7__.getCIMSymbolColor)(r):r.color?new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](r.color):null),l?w(l,n):null}function b(t){const o=t.symbolLayers;if(!o)return null;let r=null;return o.forEach((e=>{"object"===e.type&&e.resource?.href||(r="water"===e.type?e.color:e.material?e.material.color:null)})),r?new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](r):null}function w(t,o){if(null==o||null==t)return t;const r=t.toRgba();return r[3]=r[3]*o,new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](r)}function d(e,t,o){const r=e.symbolLayers;if(!r)return;const n=e=>w(t=t??e??(null!=o?a:null),o);r.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=n(e.color);else{const t=null!=e.material?e.material.color:null,r=n(t);null==e.material?e.material=new _Symbol3DMaterial_js__WEBPACK_IMPORTED_MODULE_9__.Symbol3DMaterial({color:r}):e.material.color=r,null!=o&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=w(e.outline.color,o))}}))}function j(e,t,o){(t=t??e.color)&&(e.color=w(t,o)),null!=o&&"outline"in e&&e.outline?.color&&(e.outline.color=w(e.outline.color,o))}function g(r,n,l){r&&(n||null!=l)&&(n&&(n=new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"](n)),(0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(r)?d(r,n,l):(0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol2D)(r)&&j(r,n,l))}async function k(e,t){const o=e.symbolLayers;o&&await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_2__.forEach)(o,(async e=>L(e,t)))}async function L(e,t){switch(e.type){case"extrude":x(e,t);break;case"icon":case"line":case"text":z(e,t);break;case"path":v(e,t);break;case"object":await U(e,t)}}function z(e,t){const o=S(t);null!=o&&(e.size=o)}function S(e){for(const t of e)if("number"==typeof t)return t;return null}function x(e,t){e.size="number"==typeof t[2]?t[2]:0}async function U(e,t){const{resourceSize:o,symbolSize:r}=await C(e),n=E(t,o,r);e.width=M(t[0],r[0],o[0],n),e.depth=M(t[1],r[1],o[1],n),e.height=M(t[2],r[2],o[2],n)}function v(e,t){const o=E(t,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.ONES,[e.width,void 0,e.height]);e.width=M(t[0],e.width,1,o),e.height=M(t[2],e.height,1,o)}function E(e,t,o){for(let r=0;r<3;r++){const n=e[r];switch(n){case"symbol-value":{const e=o[r];return null!=e?e/t[r]:1}case"proportional":break;default:if(n&&t[r])return n/t[r]}}return 1}async function C(e){const{computeObjectLayerResourceSize:t}=await __webpack_require__.e(/*! import() | symbolLayerUtils */ "symbolLayerUtils").then(__webpack_require__.bind(__webpack_require__, /*! ./symbolLayerUtils.js */ "./node_modules/@arcgis/core/symbols/support/symbolLayerUtils.js")),o=await t(e,10),{width:r,height:n,depth:l}=e,i=[r,l,n];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/o[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=o[s]*c);return{resourceSize:o,symbolSize:i}}function M(e,t,o,r){switch(e){case"proportional":return o*r;case"symbol-value":return null!=t?t:o;default:return e}}function O(e,t){const o=S(t);if(null!=o)switch(e.type){case"simple-marker":e.size=o;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=o,e.height=o*t):(e.width=o*t,e.height=o);break}case"simple-line":e.width=o;break;case"text":e.font.size=o}}async function R(e,r){if(e&&r)return (0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(e)?k(e,r):void((0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol2D)(e)&&O(e,r))}function D(e,r,n){if(e&&null!=r)if((0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol3D)(e)){const t=e.symbolLayers;t&&t.forEach((e=>{if("object"===e.type)switch(n){case"tilt":e.tilt=(e.tilt??0)+r;break;case"roll":e.roll=(e.roll??0)+r;break;default:e.heading=(e.heading??0)+r}"icon"===e.type&&(e.angle+=r)}))}else (0,_symbols_js__WEBPACK_IMPORTED_MODULE_1__.isSymbol2D)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=r))}function I(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return (0,_layers_effects_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.effectFunctionsFromJSON)(t)}function J(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}async function N(e,t){const o=await e.fetchSymbol(t);return o||e.fetchCIMSymbol(t)}


/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fetchSymbolFromStyle: function() { return /* binding */ h; },
/* harmony export */   getStyleItemFromStyle: function() { return /* binding */ j; },
/* harmony export */   resolveWebStyleSymbol: function() { return /* binding */ g; }
/* harmony export */ });
/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../symbols.js */ "./node_modules/@arcgis/core/symbols.js");
/* harmony import */ var _core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/devEnvironmentUtils.js */ "./node_modules/@arcgis/core/core/devEnvironmentUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../portal/Portal.js */ "./node_modules/@arcgis/core/portal/Portal.js");
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/persistableUrlUtils.js */ "./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");
/* harmony import */ var _jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./jsonUtils.js */ "./node_modules/@arcgis/core/symbols/support/jsonUtils.js");
/* harmony import */ var _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StyleOrigin.js */ "./node_modules/@arcgis/core/symbols/support/StyleOrigin.js");
/* harmony import */ var _styleUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./styleUtils.js */ "./node_modules/@arcgis/core/symbols/support/styleUtils.js");
/* harmony import */ var _Thumbnail_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Thumbnail.js */ "./node_modules/@arcgis/core/symbols/support/Thumbnail.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function g(t,e,r,o){const n=t.name;return null==n?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):"Esri2DPointSymbolsStyle"===t.styleName?d(n,e,o):(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.fetchStyle)(t,e,o).then((t=>h(t,n,e,r,_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.symbolUrlFromStyleItem,o)))}function j(t,e){return e.items.find((e=>e.name===t))}function h(u,y,c,g,h,d){const U=null!=c?.portal?c.portal:_portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__["default"].getDefault(),N={portal:U,url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.urlToObject)(u.baseUrl),origin:"portal-item"},w=j(y,u.data);if(!w){const t=`The symbol name '${y}' could not be found`;return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("symbolstyleutils:symbol-name-not-found",t,{symbolName:y}))}let S=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__.f)(h(w,g),N),D=w.thumbnail?.href??null;const O=w.thumbnail?.imageData;(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.isDevEnvironment)()&&(S=(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.adjustStaticAGOUrl)(S)??"",D=(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.adjustStaticAGOUrl)(D));const P={portal:U,url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.urlToObject)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.removeFile)(S)),origin:"portal-item"};return (0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.requestJSON)(S,d).then((e=>{const r="cimRef"===g?(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.makeCIMSymbolRef)(e.data):e.data,l=(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.fromJSON)(r,P);if(l&&(0,_symbols_js__WEBPACK_IMPORTED_MODULE_0__.isSymbol3D)(l)){if(D){const t=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__.f)(D,N);l.thumbnail=new _Thumbnail_js__WEBPACK_IMPORTED_MODULE_9__.Thumbnail({url:t})}else O&&(l.thumbnail=new _Thumbnail_js__WEBPACK_IMPORTED_MODULE_9__.Thumbnail({url:`data:image/png;base64,${O}`}));u.styleUrl?l.styleOrigin=new _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_7__["default"]({portal:c.portal,styleUrl:u.styleUrl,name:y}):u.styleName&&(l.styleOrigin=new _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_7__["default"]({portal:c.portal,styleName:u.styleName,name:y}))}return l}))}function d(t,e,r){const l=_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.Style2DUrlTemplate.replaceAll(/\{SymbolName\}/gi,t),i=null!=e.portal?e.portal:_portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__["default"].getDefault();return (0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.requestJSON)(l,r).then((t=>{const e=(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.makeCIMSymbolRef)(t.data);return (0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.fromJSON)(e,{portal:i,url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.urlToObject)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.removeFile)(l)),origin:"portal-item"})}))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/svgUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/svgUtils.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createHiddenSvg: function() { return /* binding */ e; },
/* harmony export */   createSvgElement: function() { return /* binding */ t; },
/* harmony export */   destroyHiddenSvg: function() { return /* binding */ n; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function e(){const e=t("svg");return e.setAttribute("style","position: absolute;"),e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("aria-hidden","true"),e.setAttribute("role","presentation"),document.body.appendChild(e),e}function n(t){return null!=t&&document.body.removeChild(t),null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/vectorTiles/GeometryUtils.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   between: function() { return /* binding */ g; },
/* harmony export */   c2pi: function() { return /* binding */ e; },
/* harmony export */   cDegTo256: function() { return /* binding */ u; },
/* harmony export */   cDegToRad: function() { return /* binding */ s; },
/* harmony export */   cInfinity: function() { return /* binding */ r; },
/* harmony export */   cPi: function() { return /* binding */ o; },
/* harmony export */   cRadTo256: function() { return /* binding */ i; },
/* harmony export */   degToByte: function() { return /* binding */ l; },
/* harmony export */   distanceFromToPolylineWithinThreshold: function() { return /* binding */ N; },
/* harmony export */   getTileMargins: function() { return /* binding */ d; },
/* harmony export */   interpolate: function() { return /* binding */ p; },
/* harmony export */   isCircleOverlapingRect: function() { return /* binding */ w; },
/* harmony export */   log2: function() { return /* binding */ h; },
/* harmony export */   offsetLine: function() { return /* binding */ P; },
/* harmony export */   pointInPolygon: function() { return /* binding */ I; },
/* harmony export */   positiveMod: function() { return /* binding */ a; },
/* harmony export */   radToByte: function() { return /* binding */ f; },
/* harmony export */   sqr: function() { return /* binding */ m; },
/* harmony export */   translateAnchor: function() { return /* binding */ b; }
/* harmony export */ });
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/support/coordsUtils.js */ "./node_modules/@arcgis/core/geometry/support/coordsUtils.js");
/* harmony import */ var _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/TileClipper.js */ "./node_modules/@arcgis/core/geometry/support/TileClipper.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const r=Number.POSITIVE_INFINITY,o=Math.PI,e=2*o,i=128/o,u=256/360,s=o/180,c=1/Math.LN2;function a(t,n){return(t%=n)>=0?t:t+n}function f(t){return a(t*i,256)}function l(t){return a(t*u,256)}function h(t){return Math.log(t)*c}function m(t){return t*t}function p(t,n,r){return t*(1-r)+n*r}function g(t,n,r){return t>=n&&t<=r||t>=r&&t<=n}const x=8,y=14,M=16;function d(t){return x+Math.max((t-y)*M,0)}function I(t,n,r){let o,e,i,u=0;for(const s of r){o=s.length;for(let r=1;r<o;++r){if(e=s[r-1],i=s[r],e.y>n==i.y>n)continue;(i.x-e.x)*(n-e.y)-(i.y-e.y)*(t-e.x)>0?u++:u--}}return 0!==u}function N(n,r,o,e){let i,u,s,c;const a=e*e;for(const f of o){const o=f.length;if(!(o<2)){i=f[0].x,u=f[0].y;for(let e=1;e<o;++e){if(s=f[e].x,c=f[e].y,(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_0__.distanceToSegmentSquared)(n,r,i,u,s,c)<a)return!0;i=s,u=c}}}return!1}function w(t,n,r,o,e,i,u){const s=Math.max(o,Math.min(n,i))-n,c=Math.max(e,Math.min(r,u))-r;return s*s+c*c<=t*t}function P(t,r){if(0===r||Number.isNaN(r))return t;const o=[],e=new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.Point(0,0),i=new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.Point(0,0),u=new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.Point(0,0);for(let s=0;s<t.length;s++){const c=t[s],a=[];for(let t=0;t<c.length;t++){const o=c[t-1],s=c[t],f=c[t+1];0===t?e.setCoords(0,0):e.assignSub(s,o).normalize().rightPerpendicular(),t===c.length-1?i.setCoords(0,0):i.assignSub(f,s).normalize().rightPerpendicular(),u.assignAdd(e,i).normalize();const l=u.x*i.x+u.y*i.y;0!==l&&u.scale(1/l),a.push(_geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.Point.add(s,u.scale(r)))}o.push(a)}return o}function b(t,r,o,e){const i=new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__.Point(t[0],t[1]);if(i.scale(e),"viewport"===r){const t=-o*(Math.PI/180),n=Math.cos(t),r=Math.sin(t);i.rotate(n,r)}return i}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HAlign: function() { return /* binding */ r; },
/* harmony export */   VAlign: function() { return /* binding */ n; },
/* harmony export */   getAlignmentFromPlacement: function() { return /* binding */ o; },
/* harmony export */   getJustification: function() { return /* binding */ l; },
/* harmony export */   getXAnchorDirection: function() { return /* binding */ a; },
/* harmony export */   getXDirection: function() { return /* binding */ s; },
/* harmony export */   getYAnchorDirection: function() { return /* binding */ c; },
/* harmony export */   getYDirection: function() { return /* binding */ i; },
/* harmony export */   isMapAligned: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.engine.webgl.alignmentUtils");var r,n;function a(e){if(!e)return r.Center;switch(e){case"Left":case"left":return r.Left;case"Right":case"right":return r.Right;case"Justify":return t().warnOnce("Horizontal alignment 'justify' is not implemented. Falling back to 'center'."),r.Center;case"Center":case"center":return r.Center}}function c(e){if(!e)return n.Center;switch(e){case"Top":case"top":return n.Top;case"Center":case"middle":return n.Center;case"Baseline":case"baseline":return n.Baseline;case"Bottom":case"bottom":return n.Bottom}}function o(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return["right","bottom"];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return["center","bottom"];case"above-right":case"esriServerPointLabelPlacementAboveRight":return["left","bottom"];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return["right","middle"];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return["center","middle"];case"center-right":case"esriServerPointLabelPlacementCenterRight":return["left","middle"];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return["right","top"];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return["center","top"];case"below-right":case"esriServerPointLabelPlacementBelowRight":return["left","top"];default:return console.debug(`Found invalid placement type ${e}`),["center","middle"]}}function s(e){switch(e){case r.Right:case"right":return-1;case r.Center:case"center":return 0;case r.Left:case"left":return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function i(e){switch(e){case n.Top:case"top":return 1;case n.Center:case"middle":return 0;case n.Bottom:case n.Baseline:case"baseline":case"bottom":return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function l(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function u(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}!function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(n||(n={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i{constructor(i,e,s,r){this.transformedX=0,this.transformedY=0,this.center=(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(i,e),this.centerT=(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.halfWidth=s/2,this.halfHeight=r/2,this.width=s,this.height=r}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(t){this.center[0]=t}set y(t){this.center[1]=t}clone(){return new i(this.x,this.y,this.width,this.height)}serialize(t){return t.writeF32(this.center[0]),t.writeF32(this.center[1]),t.push(this.width),t.push(this.height),t}findCollisionDelta(t,h=4){const i=Math.abs(t.centerT[0]-this.centerT[0]),e=Math.abs(t.centerT[1]-this.centerT[1]),s=(t.halfWidth+this.halfWidth+h)/i,r=(t.halfHeight+this.halfHeight+h)/e,n=Math.min(s,r);return Math.log2(n)}extend(t){const h=Math.min(this.xmin,t.xmin),i=Math.min(this.ymin,t.ymin),e=Math.max(this.xmax,t.xmax)-h,s=Math.max(this.ymax,t.ymax)-i,r=h+e/2,n=i+s/2;this.width=e,this.height=s,this.halfWidth=e/2,this.halfHeight=s/2,this.x=r,this.y=n}static deserialize(t){const h=t.readF32(),e=t.readF32(),s=t.readInt32(),r=t.readInt32();return new i(h,e,s,r)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AttributeDataType: function() { return /* binding */ J; },
/* harmony export */   MAX_TILE_RESHUFFLES_PER_FRAME: function() { return /* binding */ ui; },
/* harmony export */   RESHUFFLING_EXEMPT_DRAW_CALLS: function() { return /* binding */ bi; },
/* harmony export */   RESHUFFLING_EXEMPT_MEMORY_BYTES: function() { return /* binding */ wi; },
/* harmony export */   RESHUFFLING_TARGET_DRAW_EFFICIENCY: function() { return /* binding */ ji; },
/* harmony export */   RESHUFFLING_TARGET_MEMORY_EFFICIENCY: function() { return /* binding */ xi; },
/* harmony export */   angleFactor256: function() { return /* binding */ c; },
/* harmony export */   animationUnit: function() { return /* binding */ b; },
/* harmony export */   attributeStoreInitialSize: function() { return /* binding */ qi; },
/* harmony export */   attributeStoreTextureSize: function() { return /* binding */ T; },
/* harmony export */   averageGlyphMosaicItem: function() { return /* binding */ O; },
/* harmony export */   backbufferStencilClipped: function() { return /* binding */ Ci; },
/* harmony export */   backbufferStencilVisible: function() { return /* binding */ Bi; },
/* harmony export */   bitsetFillHasPatternHeightPrecisionFactor: function() { return /* binding */ Li; },
/* harmony export */   bitsetFillHasPatternWidthPrecisionFactor: function() { return /* binding */ Oi; },
/* harmony export */   bitsetFillHasUnresolvedReplacementColor: function() { return /* binding */ Ai; },
/* harmony export */   bitsetFillRandomPatternOffset: function() { return /* binding */ vi; },
/* harmony export */   bitsetGenericConsiderAlphaOnly: function() { return /* binding */ di; },
/* harmony export */   bitsetGenericLockColor: function() { return /* binding */ Fi; },
/* harmony export */   bitsetLineScaleDash: function() { return /* binding */ fi; },
/* harmony export */   bitsetMarkerAlignmentMap: function() { return /* binding */ Pi; },
/* harmony export */   bitsetMarkerAlignmentScreen: function() { return /* binding */ Gi; },
/* harmony export */   bitsetMarkerOutlineAllowColorOverride: function() { return /* binding */ Vi; },
/* harmony export */   bitsetMarkerScaleSymbolsProportionally: function() { return /* binding */ hi; },
/* harmony export */   bitsetTypeFillOutline: function() { return /* binding */ pi; },
/* harmony export */   bufferDataMinimumSize: function() { return /* binding */ gi; },
/* harmony export */   bufferDataPoolSize: function() { return /* binding */ ri; },
/* harmony export */   chartMaxFields: function() { return /* binding */ F; },
/* harmony export */   collisionBoxPadding: function() { return /* binding */ h; },
/* harmony export */   collisionBucketSize: function() { return /* binding */ m; },
/* harmony export */   collisionEarlyRejectBucketSize: function() { return /* binding */ V; },
/* harmony export */   collisionMaxZoomDelta: function() { return /* binding */ P; },
/* harmony export */   collisionPlacementPadding: function() { return /* binding */ f; },
/* harmony export */   collisionTileBoxSize: function() { return /* binding */ d; },
/* harmony export */   compressionFactorForU16: function() { return /* binding */ l; },
/* harmony export */   dataDrivenUnit0: function() { return /* binding */ k; },
/* harmony export */   dataDrivenUnit1: function() { return /* binding */ q; },
/* harmony export */   dataDrivenUnit2: function() { return /* binding */ y; },
/* harmony export */   debugLabels: function() { return /* binding */ g; },
/* harmony export */   defaultSdfTextureSize: function() { return /* binding */ Di; },
/* harmony export */   displayRecordIntPerElement: function() { return /* binding */ ci; },
/* harmony export */   dotDensityMaxFields: function() { return /* binding */ s; },
/* harmony export */   effectFlag0: function() { return /* binding */ N; },
/* harmony export */   enableEarlyLabelDiscard: function() { return /* binding */ Q; },
/* harmony export */   extrudeScale: function() { return /* binding */ n; },
/* harmony export */   filterFlag0: function() { return /* binding */ M; },
/* harmony export */   filterFlagsUnit: function() { return /* binding */ x; },
/* harmony export */   glyphSize: function() { return /* binding */ A; },
/* harmony export */   gpgpuUnit: function() { return /* binding */ z; },
/* harmony export */   heuristicGlyphsPerFeature: function() { return /* binding */ v; },
/* harmony export */   heuristicGlyphsPerLine: function() { return /* binding */ p; },
/* harmony export */   hittestSmallSymbolThreshold: function() { return /* binding */ Y; },
/* harmony export */   hittestToleranceDesktop: function() { return /* binding */ W; },
/* harmony export */   hittestToleranceMobile: function() { return /* binding */ S; },
/* harmony export */   hittestToleranceSmallSymbol: function() { return /* binding */ X; },
/* harmony export */   labelPlacementOffsetPadding: function() { return /* binding */ L; },
/* harmony export */   localTimeOriginUnit: function() { return /* binding */ B; },
/* harmony export */   magicLabelLineHeight: function() { return /* binding */ G; },
/* harmony export */   maxGeohashLevel: function() { return /* binding */ ki; },
/* harmony export */   maxGpuUploadsPerFrame: function() { return /* binding */ ii; },
/* harmony export */   maxHighlightReasons: function() { return /* binding */ K; },
/* harmony export */   maxRepresentableInt: function() { return /* binding */ r; },
/* harmony export */   maxTextLineWidth: function() { return /* binding */ zi; },
/* harmony export */   minMaxZoomPrecisionFactor: function() { return /* binding */ mi; },
/* harmony export */   minTextLineWidth: function() { return /* binding */ yi; },
/* harmony export */   nanMagicNumber: function() { return /* binding */ D; },
/* harmony export */   patchPixelBufferAllocSize: function() { return /* binding */ li; },
/* harmony export */   patternFillRasterizationScale: function() { return /* binding */ ai; },
/* harmony export */   pictureFillColor: function() { return /* binding */ e; },
/* harmony export */   randomInsidePolygonTextureSize: function() { return /* binding */ si; },
/* harmony export */   rasterTileSize: function() { return /* binding */ o; },
/* harmony export */   rasterizedVectorMarkerMinSize: function() { return /* binding */ oi; },
/* harmony export */   spritePadding: function() { return /* binding */ ti; },
/* harmony export */   svgSdfTextureInnerSize: function() { return /* binding */ ei; },
/* harmony export */   svgSdfTextureSize: function() { return /* binding */ ni; },
/* harmony export */   textureBindingBitmap: function() { return /* binding */ w; },
/* harmony export */   textureBindingGlyphAtlas: function() { return /* binding */ u; },
/* harmony export */   textureBindingHighlight0: function() { return /* binding */ C; },
/* harmony export */   textureBindingHighlight1: function() { return /* binding */ E; },
/* harmony export */   textureBindingRenderer0: function() { return /* binding */ H; },
/* harmony export */   textureBindingRenderer1: function() { return /* binding */ I; },
/* harmony export */   textureBindingSpriteAtlas: function() { return /* binding */ U; },
/* harmony export */   textureUploadManagerBudget: function() { return /* binding */ Ui; },
/* harmony export */   textureUploadManagerChunkSize: function() { return /* binding */ Ti; },
/* harmony export */   thinLineHalfWidthThreshold: function() { return /* binding */ R; },
/* harmony export */   tileSize: function() { return /* binding */ a; },
/* harmony export */   visualVariableUnit: function() { return /* binding */ j; },
/* harmony export */   vtlHighResCutoff: function() { return /* binding */ _; },
/* harmony export */   vtlTextureBindingUnitGlyphs: function() { return /* binding */ $; },
/* harmony export */   vtlTextureBindingUnitSprites: function() { return /* binding */ Z; },
/* harmony export */   webglMaxInnerStops: function() { return /* binding */ t; },
/* harmony export */   webglMaxStops: function() { return /* binding */ i; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const i=8,t=i-2,D=1e-30,n=64,e=4294967295,a=512,o=256,c=256/360,l=128,r=16777216,g=!1,m=128,s=8,F=10,G=29,P=1,V=16,h=16,d=a/m,f=8,p=50,v=10,A=24,L=4,O={metrics:{width:15,height:17,left:0,top:-7,advance:14}},T=1024,U=0,u=0,w=0,x=1,b=2,j=3,k=4,q=5,y=6,z=12,B=13,C=5,E=6,H=5,I=6;var J;!function(i){i[i.FilterFlags=0]="FilterFlags",i[i.Animation=1]="Animation",i[i.GPGPU=2]="GPGPU",i[i.VV=3]="VV",i[i.DD0=4]="DD0",i[i.DD1=5]="DD1",i[i.DD2=6]="DD2",i[i.LocalTimeOrigin=7]="LocalTimeOrigin"}(J||(J={}));const K=6,M=1<<K,N=M<<1,Q=!1,R=1.05,S=3,W=1,X=3,Y=3,Z=5,$=6,_=1.15,ii=2,ti=2,Di=128,ni=256,ei=ni-2*ti,ai=2,oi=128,ci=8,li=500,ri=4,gi=128,mi=10,si=1024,Fi=2,Gi=0,Pi=1,Vi=4,hi=8,di=16,fi=4,pi=1,vi=4,Ai=8,Li=32,Oi=64,Ti=128,Ui=4,ui=1,wi=1<<20,xi=.75,bi=10,ji=.75,ki=12,qi=256,yi=32,zi=512,Bi=0,Ci=1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShapedGlyph: function() { return /* binding */ L; },
/* harmony export */   ShapingInfo: function() { return /* binding */ B; },
/* harmony export */   shapeGlyphs: function() { return /* binding */ O; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/mat2d.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2d.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/mat2df32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2df32.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/* harmony import */ var _alignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../alignmentUtils.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../Rect.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js");
/* harmony import */ var _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../collisions/BoundingBox.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const _=22,l=4,u=_+l,x=_-6,p=3,b=Math.PI/180,y=8,w=1.5;class L{constructor(t,s,i,e){this._rotationT=(0,_core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._xBounds=0,this._yBounds=0,this.minZoom=0,this.maxZoom=255,this._bounds=null;const h=i.rect,n=new Float32Array(8);t*=e,s*=e;const r=i.code?h.width*e:i.metrics.width,a=i.code?h.height*e:i.metrics.height;this.width=r,this.height=a,n[0]=t,n[1]=s,n[2]=t+r,n[3]=s,n[4]=t,n[5]=s+a,n[6]=t+r,n[7]=s+a,this._data=n,this._setTextureCoords(h),this._scale=e,this._mosaic=i,this.x=t,this.y=s,this.maxOffset=Math.max(t+r,s+a)}get mosaic(){return this._mosaic}set angle(s){this._angle=s,(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.fromRotation)(this._rotationT,-s),this._setOffsets()}get angle(){return this._angle}get xTopLeft(){return this._data[0]}get yTopLeft(){return this._data[1]}get xBottomRight(){return this._data[6]}get yBottomRight(){return this._data[7]}get texcoords(){return this._texcoords}get textureBinding(){return this._mosaic.textureBinding}get offsets(){return this._offsets||this._setOffsets(),this._offsets}get char(){return String.fromCharCode(this._mosaic.code)}get code(){return this._mosaic.code}get bounds(){if(!this._bounds){const{height:t,width:i}=this._mosaic.metrics,e=i*this._scale,n=Math.abs(t)*this._scale,r=new Float32Array(8);r[0]=this.x,r[1]=this.y,r[2]=this.x+e,r[3]=this.y,r[4]=this.x,r[5]=this.y+n,r[6]=this.x+e,r[7]=this.y+n;const a=(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.multiply)((0,_core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._rotationT,this._transform);(0,_core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.transformMany)(r,r,a);let f=1/0,c=1/0,d=-1/0,m=-1/0;for(let s=0;s<4;s++){const t=r[2*s],i=r[2*s+1];f=Math.min(f,t),c=Math.min(c,i),d=Math.max(d,t),m=Math.max(m,i)}const _=d-f,l=m-c,u=f+_/2,x=c+l/2;this._bounds=new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_6__["default"](u,x,_,l)}return this._bounds}setTransform(t){this._transform=t,this._offsets=null}_setOffsets(){this._offsets||(this._offsets={topLeft:[0,0],topRight:[0,0],bottomLeft:[0,0],bottomRight:[0,0]});const t=(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.multiply)((0,_core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._rotationT,this._transform);this._offsets.topLeft[0]=this._data[0],this._offsets.topLeft[1]=this._data[1],this._offsets.topRight[0]=this._data[2],this._offsets.topRight[1]=this._data[3],this._offsets.bottomLeft[0]=this._data[4],this._offsets.bottomLeft[1]=this._data[5],this._offsets.bottomRight[0]=this._data[6],this._offsets.bottomRight[1]=this._data[7],(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat2d)(this._offsets.topLeft,this._offsets.topLeft,t),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat2d)(this._offsets.topRight,this._offsets.topRight,t),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat2d)(this._offsets.bottomLeft,this._offsets.bottomLeft,t),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat2d)(this._offsets.bottomRight,this._offsets.bottomRight,t)}_setTextureCoords({x:t,y:s,width:i,height:e}){this._texcoords={topLeft:[t,s],topRight:[t+i,s],bottomLeft:[t,s+e],bottomRight:[t+i,s+e]}}}const M=(t,s)=>({code:0,page:0,sdf:!0,rect:new _Rect_js__WEBPACK_IMPORTED_MODULE_5__["default"](0,0,11,8),textureBinding:s,metrics:{advance:0,height:4,width:t,left:0,top:0}});function R(t,s){return t.forEach((t=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat2d)(t,t,s))),{topLeft:t[0],topRight:t[1],bottomLeft:t[2],bottomRight:t[3]}}class B{constructor(t,s,i){this._rotation=0,this._decorate(t,s,i),this.glyphs=t,this.bounds=this._createBounds(t),this.isMultiline=s.length>1,this._hasRotation=0!==i.angle,this._transform=this._createGlyphTransform(this.bounds,i),this._borderLineSizePx=i.borderLineSizePx,(i.borderLineSizePx||i.hasBackground)&&([this.bounds,this.textBox]=this.shapeBackground(this._transform));for(const e of t)e.setTransform(this._transform)}setRotation(i){if(0===i&&0===this._rotation)return;this._rotation=i;const e=this._transform,h=(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.fromRotation)((0,_core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),i);(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(e,h,e);for(const t of this.glyphs)t.setTransform(this._transform)}_decorate(t,s,i){if(!i.decoration||"none"===i.decoration||!t.length)return;const e=i.scale,o="underline"===i.decoration?u:x,h=t[0].textureBinding;for(const n of s){const s=n.startX*e,i=n.startY*e,r=(n.width+n.glyphWidthEnd)*e;t.push(new L(s,i+o*e,M(r,h),1))}}shapeBackground(t){const s=this._borderLineSizePx||0,i=(w+s)/2,e=this._borderLineSizePx?i:0,{xmin:o,ymin:h,xmax:n,ymax:r,x:a,y:f,width:c,height:d}=this.bounds,m=[o-y,h-y],_=[n+y,h-y],l=[o-y,r+y],u=[n+y,r+y],x=R([[m[0]-i,m[1]-i],[_[0]+i,_[1]-i],[m[0]+e,m[1]+e],[_[0]-e,_[1]+e]],t),p=R([[l[0]+e,l[1]-e],[u[0]-e,u[1]-e],[l[0]-i,l[1]+i],[u[0]+i,u[1]+i]],t),b=R([[m[0]-i,m[1]-i],[m[0]+e,m[1]+e],[l[0]-i,l[1]+i],[l[0]+e,l[1]-e]],t),L=R([[_[0]-e,_[1]+e],[_[0]+i,_[1]-i],[u[0]-e,u[1]-e],[u[0]+i,u[1]+i]],t),M={main:R([m,_,l,u],t),top:x,bot:p,left:b,right:L};return[new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_6__["default"](a,f,c+2*i,d+2*i),M]}get boundsT(){const t=this.bounds,s=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)((0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.create)(),t.x,t.y);if((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.transformMat2d)(s,s,this._transform),this._hasRotation){const i=Math.max(t.width,t.height);return new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_6__["default"](s[0],s[1],i,i)}return new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_6__["default"](s[0],s[1],t.width,t.height)}_createBounds(t){let s=1/0,i=1/0,e=0,o=0;for(const r of t)s=Math.min(s,r.xTopLeft),i=Math.min(i,r.yTopLeft),e=Math.max(e,r.xBottomRight),o=Math.max(o,r.yBottomRight);const h=e-s,n=o-i;return new _collisions_BoundingBox_js__WEBPACK_IMPORTED_MODULE_6__["default"](s+h/2,i+n/2,h,n)}_createGlyphTransform(t,s){const h=b*s.angle,n=(0,_core_libs_gl_matrix_2_factories_mat2df32_js__WEBPACK_IMPORTED_MODULE_1__.create)(),f=(0,_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_3__.create)();return (0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.translate)(n,n,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(f,s.xOffset,-s.yOffset)),s.useCIMAngleBehavior?(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.rotate)(n,n,h):((0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.translate)(n,n,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(f,t.x,t.y)),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.rotate)(n,n,h),(0,_core_libs_gl_matrix_2_math_mat2d_js__WEBPACK_IMPORTED_MODULE_0__.translate)(n,n,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.set)(f,-t.x,-t.y))),n}}class T{constructor(t,s,i,e,o,h){this.glyphWidthEnd=0,this.startX=0,this.startY=0,this.start=Math.max(0,Math.min(s,i)),this.end=Math.max(0,Math.max(s,i)),this.end<t.length&&(this.glyphWidthEnd=t[this.end].metrics.width),this.width=e,this.yMin=o,this.yMax=h}}const v=t=>10===t,j=t=>32===t;function A(t,s,i){const e=new Array,o=1/i.scale,h=i.maxLineWidth*o,n=s?t.length-1:0,r=s?-1:t.length,a=s?-1:1;let f=n,c=0,d=0,m=f,g=m,_=0,l=1/0,u=0;for(;f!==r;){const{code:s,metrics:i}=t[f],o=Math.abs(i.top);if(v(s)||j(s)||(l=Math.min(l,o),u=Math.max(u,o+i.height)),v(s))f!==n&&(e.push(new T(t,m,f-a,c,l===1/0?0:l,u)),l=1/0,u=0),c=0,m=f+a,g=f+a,d=0;else if(j(s))g=f+a,d=0,_=i.advance,c+=i.advance;else if(c>h){if(g!==m){const s=g-2*a;c-=_,e.push(new T(t,m,s,c-d,l,u)),l=1/0,u=0,m=g,c=d}else e.push(new T(t,m,f-a,c,l,u)),l=1/0,u=0,m=f,g=f,c=0;c+=i.advance,d+=i.advance}else c+=i.advance,d+=i.advance;f+=a}const x=new T(t,m,f-a,c,l,u);return x.start>=0&&x.end<t.length&&e.push(x),e}function z(t,s){let i=0;for(let h=0;h<t.length;h++){const{width:s}=t[h];i=Math.max(s,i)}const e="underline"===s.decoration?l:0,o=t[0].yMin;return{x:0,y:o,height:t[t.length-1].yMax+s.lineHeight*(t.length-1)+e-o,width:i}}function O(t,s){const i=s.scale,e=new Array,{glyphs:o,isRightToLeft:h}=t,n=A(o,h,s),r=n.length?z(n,s):{x:0,y:0,height:0,width:0},a=(0,_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__.getXAnchorDirection)(s.horizontalAlignment),m=(0,_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__.getYAnchorDirection)(s.verticalAlignment),g=m===_alignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__.VAlign.Baseline?1:0,l=g?0:m-1,u=(1-g)*-r.y+l*(r.height/2)+(g?1:0)*-_;for(let f=0;f<n.length;f++){const{start:h,end:r,width:c}=n[f];let d=-1*(a+1)*(c/2)-p;const m=(t.isRightToLeft?n.length-1-f:f)*s.lineHeight+u-p;n[f].startX=d,n[f].startY=m;for(let t=h;t<=r;t++){const s=o[t];if(v(s.code))continue;const h=new L(d+s.metrics.left,m-s.metrics.top,s,i);d+=s.metrics.advance,e.push(h)}}return new B(e,n,s)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/layers/graphics/graphicsUtils.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getLineWidth: function() { return /* binding */ g; },
/* harmony export */   intersectingInternationalDateline: function() { return /* binding */ c; },
/* harmony export */   isMarkerSymbol: function() { return /* binding */ f; },
/* harmony export */   isTextSymbol: function() { return /* binding */ a; },
/* harmony export */   pixelBuffer: function() { return /* binding */ u; },
/* harmony export */   polygonFromExtent: function() { return /* binding */ l; },
/* harmony export */   roundPtToWholePixel: function() { return /* binding */ p; },
/* harmony export */   tileSize: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../engine/webgl/definitions.js */ "./node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const m=512,u=50;function c(r,n){const e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_3__.getInfo)(n);if(!e)return null;const[o,s]=e.valid;return r[2]>s?[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)([r[0],r[1],s,r[3]]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)([o,r[1],o+r[2]-s,r[3]])]:r[0]<o?[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)([o,r[1],r[2],r[3]]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__.create)([s-(o-r[0]),r[1],s,r[3]])]:null}function a(r){return"text"===r||"esriTS"===r}function f(r){return"simple-marker"===r||"picture-marker"===r||"esriSMS"===r||"esriPMS"===r}function l(r){if(!r)return null;const{xmin:n,ymin:t,xmax:i,ymax:o,spatialReference:s}=r;return new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_1__["default"]({rings:[[[n,t],[n,o],[i,o],[i,t],[n,t]]],spatialReference:s})}function p(e){return (0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(e)))}function g(n){const e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.minTextLineWidth),t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_4__.maxTextLineWidth);return Math.max(e,Math.min(n||t,t))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/Clouds.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/Clouds.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudsTextureChannels: function() { return /* binding */ e; },
/* harmony export */   CubeMapState: function() { return /* binding */ n; },
/* harmony export */   ensureClouds: function() { return /* binding */ d; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var n,e;function d(n){return null!=n&&!n.running}!function(n){n[n.Idle=0]="Idle",n[n.Rendering=1]="Rendering",n[n.Ready=2]="Ready",n[n.Fading=3]="Fading"}(n||(n={})),function(n){n[n.RG=0]="RG",n[n.BA=1]="BA",n[n.COUNT=2]="COUNT"}(e||(e={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudsParameters: function() { return /* binding */ x; },
/* harmony export */   FadeState: function() { return /* binding */ A; }
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ "./node_modules/@arcgis/core/core/compilerUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_signal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/signal.js */ "./node_modules/@arcgis/core/core/signal.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/support/axisAngleDegrees.js */ "./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _Clouds_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Clouds.js */ "./node_modules/@arcgis/core/views/3d/environment/Clouds.js");
/* harmony import */ var _weather_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./weather.js */ "./node_modules/@arcgis/core/views/3d/environment/weather.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class x{constructor(){this.startTime=0,this._data=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(null),this._readChannels=_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CloudsTextureChannels.RG,this.parallax=new O,this.parallaxNew=new O,this._anchorPoint=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this._fadeState=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(A.HIDE),this._fadeFactor=(0,_core_signal_js__WEBPACK_IMPORTED_MODULE_2__.signal)(1)}get data(){return this._data.value}set data(a){this._data.value=a}get readChannels(){return this._readChannels}get fadeState(){return this._fadeState.value}get fadeFactor(){return this._fadeFactor.value}get opacity(){switch(this.fadeState){case A.HIDE:return 0;case A.FADE_OUT:return 1-this.fadeFactor;case A.FADE_IN:return this.fadeFactor;case A.SHOW:case A.CROSS_FADE:return 1}}fade(a,e,s){this.isFading&&this.fadeFactor<1&&(this._fadeFactor.value=s?(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)((e-this.startTime)/(H*s),0,1):1,1===this.fadeFactor&&this._endFade()),this._evaluateState(a,e),this._updateParallax(a)}_evaluateState(a,t){const e=a.relativeElevation,s=this._updateAnchorPoint(a);(e>1.7*_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||e<-_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||s>I)&&this.opacity>0?this._startFade(A.HIDE,t):this.isFading||(e>_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||e<-.35*_weather_js__WEBPACK_IMPORTED_MODULE_10__.heightLimit||s>w*I?this.opacity>0&&this._startFade(A.FADE_OUT,t):(0,_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.ensureClouds)(this.data)&&(0===this.opacity?this._startFade(A.FADE_IN,t):this.data.state===_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready&&(this.fadeState===A.SHOW?this._startFade(A.CROSS_FADE,t):this._startFade(A.SHOW,t))))}_updateParallax(a){const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.k)(a.eye);this.parallax.radiusCurvatureCorrection=.84*Math.sqrt(Math.max(t-_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius*_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius,0))/Math.sqrt(t),(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(C,this.parallax.anchorPoint,v),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.rotate)(this.parallax.transform,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.IDENTITY,v[3],(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.axis)(v)),(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.fromPoints)(C,this.parallaxNew.anchorPoint,v),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.rotate)(this.parallaxNew.transform,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.IDENTITY,v[3],(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.axis)(v))}_updateAnchorPoint(a){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(this._anchorPoint,a.eye),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(this._anchorPoint,this._anchorPoint,_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_8__.earth.radius),this.fadeState===A.HIDE&&this.data?.state===_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this._anchorPoint),0):(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.l)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.d)(g,this.parallax.anchorPoint,this._anchorPoint))}requestFade(){this._fadeFactor.value=0}_startFade(a,t){switch(this._fadeState.value=a,this.startTime=t,a){case A.CROSS_FADE:this.requestFade(),this._switchReadChannels(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_IN:this.requestFade(),this._switchReadChannels(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this._anchorPoint),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallaxNew.anchorPoint,this._anchorPoint);break;case A.FADE_OUT:this.requestFade();break;case A.SHOW:this._switchReadChannels(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this._anchorPoint),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallaxNew.anchorPoint,this._anchorPoint),this._endFade();break;case A.HIDE:this._endFade()}}_endFade(){switch(this._fadeFactor.value=1,this.data&&this.data.state!==_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready&&(this.data.state=_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Idle),this.fadeState){case A.CROSS_FADE:(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.parallax.anchorPoint,this.parallaxNew.anchorPoint),this._fadeState.value=A.SHOW;break;case A.FADE_IN:this._fadeState.value=A.SHOW;break;case A.FADE_OUT:this._fadeState.value=A.HIDE;break;case A.SHOW:case A.HIDE:break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__.neverReached)(this.fadeState)}}_switchReadChannels(){this.data?.state===_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Ready&&(this._readChannels=1-this._readChannels,this.data.state=_Clouds_js__WEBPACK_IMPORTED_MODULE_9__.CubeMapState.Fading)}get isFading(){return this.fadeState===A.FADE_OUT||this.fadeState===A.FADE_IN||this.fadeState===A.CROSS_FADE}}var A;!function(a){a[a.HIDE=0]="HIDE",a[a.FADE_IN=1]="FADE_IN",a[a.SHOW=2]="SHOW",a[a.CROSS_FADE=3]="CROSS_FADE",a[a.FADE_OUT=4]="FADE_OUT"}(A||(A={}));class O{constructor(){this.anchorPoint=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.radiusCurvatureCorrection=0,this.transform=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)()}}const C=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(0,0,1),v=(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_7__.create)(),g=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),H=1.25,w=.5,I=2e5;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var c;let p=c=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="cloudy",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({cloudy:"cloudy"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),p=c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.CloudyWeather")],p);const u=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var p;let c=p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="foggy",this.fogStrength=.5}clone(){return new p({fogStrength:this.fogStrength})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({foggy:"foggy"})],c.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],c.prototype,"fogStrength",void 0),c=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.FoggyWeather")],c);const n=c;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var s;let p=s=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="rainy",this.cloudCover=.5,this.precipitation=.5}clone(){return new s({cloudCover:this.cloudCover,precipitation:this.precipitation})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({rainy:"rainy"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"precipitation",void 0),p=s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.RainyWeather")],p);const c=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var i;let p=i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="snowy",this.cloudCover=.5,this.precipitation=.5,this.snowCover="disabled"}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({snowy:"snowy"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"precipitation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],p.prototype,"snowCover",void 0),p=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.SnowyWeather")],p);const n=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/JSONSupport.js */ "./node_modules/@arcgis/core/core/JSONSupport.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/enumeration.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var c;let p=c=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.JSONSupport{constructor(o){super(o),this.type="sunny",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.enumeration)({sunny:"sunny"})],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.property)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),p=c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.environment.SunnyWeather")],p);const n=p;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/environment/weather.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/environment/weather.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cloudsHeight: function() { return /* binding */ i; },
/* harmony export */   heightLimit: function() { return /* binding */ p; },
/* harmony export */   validateWeatherType: function() { return /* binding */ s; },
/* harmony export */   weatherTypes: function() { return /* binding */ n; },
/* harmony export */   weatherTypesArray: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _CloudyWeather_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CloudyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js");
/* harmony import */ var _FoggyWeather_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FoggyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js");
/* harmony import */ var _RainyWeather_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RainyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/RainyWeather.js");
/* harmony import */ var _SnowyWeather_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnowyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js");
/* harmony import */ var _SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SunnyWeather.js */ "./node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n={key:"type",base:_SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__["default"],typeMap:{sunny:_SunnyWeather_js__WEBPACK_IMPORTED_MODULE_4__["default"],cloudy:_CloudyWeather_js__WEBPACK_IMPORTED_MODULE_0__["default"],rainy:_RainyWeather_js__WEBPACK_IMPORTED_MODULE_2__["default"],snowy:_SnowyWeather_js__WEBPACK_IMPORTED_MODULE_3__["default"],foggy:_FoggyWeather_js__WEBPACK_IMPORTED_MODULE_1__["default"]}},a=Object.keys(n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`"${e}" is not a valid weather type`),!1)}const p=1e4,i=1e5;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefaultLoadingContext: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(r){this._streamDataRequester=r}async loadJSON(r,e){return this._load("json",r,e)}async loadBinary(r,e){return (0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.isDataProtocol)(r)?((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAborted)(e),(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_4__.dataToArrayBuffer)(r)):this._load("binary",r,e)}async loadImage(r,e){return this._load("image",r,e)}async _load(a,s,i){if(null==this._streamDataRequester)return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(s,{responseType:m[a]})).data;const n=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(this._streamDataRequester.request(s,a,i));if(!0===n.ok)return n.value;throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.throwIfAbortError)(n.error),new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("glt-loader-request-error",`Request for resource failed: ${n.error}`)}}const m={image:"image",binary:"array-buffer",json:"json","image+type":void 0};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTransformMatrix: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f32.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f32.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function s(s){if(null==s)return null;const a=null!=s.offset?s.offset:_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_1__.ZEROS,n=null!=s.rotation?s.rotation:0,e=null!=s.scale?s.scale:_core_libs_gl_matrix_2_factories_vec2f32_js__WEBPACK_IMPORTED_MODULE_1__.ONES,f=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(1,0,0,0,1,0,a[0],a[1],1),c=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(Math.cos(n),-Math.sin(n),0,Math.sin(n),Math.cos(n),0,0,0,1),m=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(e[0],0,0,0,e[1],0,0,0,1),u=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();return (0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_2__.multiply)(u,c,m),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_2__.multiply)(u,f,u),u}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   convertPrimitiveToTriangles: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(r,t){switch(t){case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLES:return f(r);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLE_STRIP:return u(r);case _webgl_enums_js__WEBPACK_IMPORTED_MODULE_2__.PrimitiveType.TRIANGLE_FAN:return i(r)}}function f(e){return"number"==typeof e?(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_1__.getContinuousIndexArray)(e):(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.isUint8Array)(e)?new Uint16Array(e):e}function u(r){const t="number"==typeof r?r:r.length;if(t<3)return[];const n=t-2,o=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_1__.newIndexArray)(3*n);if("number"==typeof r){let r=0;for(let t=0;t<n;t+=1)t%2==0?(o[r++]=t,o[r++]=t+1,o[r++]=t+2):(o[r++]=t+1,o[r++]=t,o[r++]=t+2)}else{let t=0;for(let e=0;e<n;e+=1)e%2==0?(o[t++]=r[e],o[t++]=r[e+1],o[t++]=r[e+2]):(o[t++]=r[e+1],o[t++]=r[e],o[t++]=r[e+2])}return o}function i(r){const t="number"==typeof r?r:r.length;if(t<3)return new Uint16Array(0);const e=t-2,n=e<=65536?new Uint16Array(3*e):new Uint32Array(3*e);if("number"==typeof r){let r=0;for(let t=0;t<e;++t)n[r++]=0,n[r++]=t+1,n[r++]=t+2;return n}const o=r[0];let f=r[1],u=0;for(let i=0;i<e;++i){const t=r[i+2];n[u++]=o,n[u++]=f,n[u++]=t,f=t}return n}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EncodedMeshTexture: function() { return /* binding */ t; },
/* harmony export */   imageFromBinaryData: function() { return /* binding */ o; },
/* harmony export */   isEncodedMeshTexture: function() { return /* binding */ r; },
/* harmony export */   jsonFromBinaryData: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t){this.data=t,this.type="encoded-mesh-texture",this.encoding=_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.TextureEncodingMimeType.KTX2_ENCODING}}function r(e){return"encoded-mesh-texture"===e?.type}async function n(e){const t=new Blob([e]),r=await t.text();return JSON.parse(r)}async function o(r,n){if(n===_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_1__.TextureEncodingMimeType.KTX2_ENCODING)return new t(r);const o=new Blob([r],{type:n}),c=URL.createObjectURL(o),s=new Image;if((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-iPhone"))return new Promise(((e,t)=>{const r=()=>{o(),e(s)},n=e=>{o(),t(e)},o=()=>{URL.revokeObjectURL(c),s.removeEventListener("load",r),s.removeEventListener("error",n)};s.addEventListener("load",r),s.addEventListener("error",n),s.src=c}));try{s.src=c,await s.decode()}catch(i){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(c),s}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DDrapedGraphicLayer: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class l{constructor(e,t,i,r){this.graphics3DSymbolLayer=e,this.renderGeometries=t,this.boundingBox=i,this._drapeSourceRenderer=r,this.type="draped",this.stage=null,this._visible=!1,this._addedToStage=!1,this.isElevationSource=!1}initialize(e){this.stage=e.stage}setVisibility(e){if(null!=this.stage&&this._visible!==e){if(this._visible=e,e&&!this._addedToStage)return this._addedToStage=!0,void this._drapeSourceRenderer.addGeometries(this.renderGeometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_6__.DirtyOperation.ADD);if(e||this._addedToStage){for(const e of this.renderGeometries)e.visible=this._visible;this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_6__.DirtyState.VISIBILITY)}}}destroy(){this.stage&&this._addedToStage&&this._drapeSourceRenderer.removeGeometries(this.renderGeometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_6__.DirtyOperation.REMOVE),this._addedToStage=!1,this._visible=!1,this.stage=null}getCenterObjectSpace(i=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)()){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(i,0,0,0)}getBoundingBoxObjectSpace(e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.create)()){return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.empty)(e)}addObjectState(e){e.stateType===_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.Object3DState.Highlight&&(this.renderGeometries.forEach((t=>{const i=t.geometry.allocateIdAndHighlight(e.highlightGroupName);e.addRenderGeometry(t,i,this)})),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries(this.renderGeometries,_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_6__.DirtyState.HIGHLIGHT))}removeObjectState(e){this.renderGeometries.forEach((t=>e.removeByObject(t)))}removeRenderGeometryObjectState(e,t){t.channel===_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.Object3DState.Highlight&&(e.geometry.removeHighlight(t),this._addedToStage&&this._drapeSourceRenderer.modifyGeometries([e],_webgl_engine_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_6__.DirtyState.HIGHLIGHT))}computeAttachmentOrigin(e){for(const t of this.renderGeometries)t.geometry.computeAttachmentOrigin(f)&&(e.draped.origin[0]+=f[0],e.draped.origin[1]+=f[1],e.draped.num++)}async getProjectedBoundingBox(e,t,i,n,d){(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.empty)(d);for(let r=0;r<this.renderGeometries.length;r++){const t=this.renderGeometries[r];this._getRenderGeometryProjectedBoundingRect(t,e,u,i),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.expandWithRect)(d,u)}if(t){let e;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.center)(d,f);const i=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_4__.demResolutionForBoundingBox)(d,t.service.spatialReference,t);try{e=await t.service.queryElevation(f[0],f[1],n,i,"ground")}catch(a){}null!=e&&(d[2]=Math.min(d[2],e),d[5]=Math.max(d[5],e))}return d}_getRenderGeometryProjectedBoundingRect(e,t,i,r){if(this.boundingBox)(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.set)(p,this.boundingBox);else{const t=e.boundingSphere,i=t[3];p[0]=t[0]-i,p[1]=t[1]-i,p[2]=t[2]-i,p[3]=t[0]+i,p[4]=t[1]+i,p[5]=t[2]+i}return t(p,0,2),this.calculateRelativeScreenBounds&&r.push({location:(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.center)(p),screenSpaceBoundingRect:this.calculateRelativeScreenBounds()}),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.toRect)(p,i)}}const u=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_3__.create)(),p=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__.create)(),f=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DExtrudeSymbolLayer: function() { return /* binding */ ot; },
/* harmony export */   extrudePolygon: function() { return /* binding */ nt; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _layers_graphics_data_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../layers/graphics/data/SnappingCandidate.js */ "./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js");
/* harmony import */ var _renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../renderers/support/renderingInfoUtils.js */ "./node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _polygonUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./polygonUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/polygonUtils.js");
/* harmony import */ var _support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../support/edgeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/edgeUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../support/ElevationProvider.js */ "./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js");
/* harmony import */ var _support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../support/renderInfoUtils/polygon.js */ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/polygon.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_GeometryWithMapPositions_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryWithMapPositions.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryWithMapPositions.js");
/* harmony import */ var _webgl_engine_lib_Normals_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../webgl-engine/lib/Normals.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Normals.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const st=["polygon","extent"];class ot extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_21__.Graphics3DSymbolLayer{constructor(t,e,r,s){super(t,e,r,s),this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const e=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_22__.validateSymbolLayerSize)(this._getSymbolSize());if(e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("graphics3dextrudesymbollayer:invalid-size",e)}const e=this.symbolLayer?.material?.color,r=this._getCombinedOpacityAndColor(e),s=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.fromArray)(r),o=r[3],i=o<1||this.needsDrivenTransparentPass,n=this.symbolLayer?.material?.emissiveFactor,a=n?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.L)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.clone)(n)):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.ZEROS,l={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,diffuse:s,ambient:s,opacity:o,transparent:i,cullFace:i?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_31__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_31__.CullFaceOptions.Back,hasVertexColors:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,emissiveFactor:a,offsetTransparentBackfaces:!0,normalType:_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_29__.NormalType.Compressed};this._materials[It.Main]=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_38__.DefaultMaterial(l,this._context),this._materials[It.Bottom]=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_38__.DefaultMaterial({...l,cullFace:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_31__.CullFaceOptions.Back},this._context),this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(t){const e=t.graphic;if(!this._validateGeometry(e.geometry,st,this.symbolLayer.type))return null;const r=this._getVertexOpacityAndColor(t.renderingInfo,255),s=this.setGraphicElevationContext(e);return this._createAs3DShape(e,t.renderingInfo,r,s,e.uid)}layerOpacityChanged(t,e){const r=this.symbolLayer?.material?.color,s=this._getCombinedOpacity(r),o=s<1||this.needsDrivenTransparentPass;this._materials[It.Main]?.setParameters({opacity:s,transparent:o}),this._materials[It.Bottom]?.setParameters({opacity:s,transparent:o});const i=this._getLayerOpacity();t.forEach((t=>e(t)?.layerOpacityChanged(i,this._context.isAsync)))}layerElevationInfoChanged(t,e){return this.updateGraphics3DGraphicElevationInfo(t,e,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_19__.needsElevationUpdates3D)}slicePlaneEnabledChanged(t,e){return this._materials[It.Main]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[It.Bottom]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),t.forEach((t=>{const r=e(t);null!=r&&r.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync)})),!0}physicalBasedRenderingChanged(){const t={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0};return this._materials[It.Main]?.setParameters(t),this._materials[It.Bottom]?.setParameters(t),!0}_getExtrusionSize(t){let e;return e=t.size&&this._drivenProperties.size?(0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__.getDriverAxisSizeValue)(t.size,2)??0:this._getSymbolSize(),e/=this._context.renderCoordsHelper.unitInMeters,e}applyRendererDiff(t,e){return this._drivenPropertiesChanged(e)?_interfaces_js__WEBPACK_IMPORTED_MODULE_23__.ApplyRendererDiffResult.RecreateSymbol:_interfaces_js__WEBPACK_IMPORTED_MODULE_23__.ApplyRendererDiffResult.RecreateGraphics}async queryForSnapping(t,s,o,i){const n=this._getExtrusionSize(o)*this._context.renderCoordsHelper.unitInMeters/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__.getMetersPerVerticalUnitForSR)(s),{objectId:a,target:l}=t,c=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(l);switch(c.z=(c.z??0)+n,t.type){case"edge":{const{start:r,end:s}=t,o=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(r),i=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__.clone)(s);return o.z=(o.z??0)+n,i.z=(i.z??0)+n,[(0,_layers_graphics_data_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_16__.makeEdgeCandidate)(a,c,1/0,o,i)]}case"vertex":return[(0,_layers_graphics_data_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_16__.makeVertexCandidate)(a,c,1/0),(0,_layers_graphics_data_SnappingCandidate_js__WEBPACK_IMPORTED_MODULE_16__.makeEdgeCandidate)(a,l,1/0,l,c)];default:return[]}}_getSymbolSize(){return this.symbolLayer.size??1}_createAs3DShape(t,e,r,a,c){const m=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_24__.geometryAsPolygon)(t.geometry);if(null==m)return null;if(0===m.rings.length||!m.rings.some((t=>t.length>0)))return this._logGeometryValidationWarnings(m.rings,"rings","ExtrudeSymbol3DLayer"),null;const p=(0,_support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_28__.geometryToRenderInfo)(m,this._context.elevationProvider,this._context.renderCoordsHelper,a);this._logGeometryCreationWarnings(p,m.rings,"rings","ExtrudeSymbol3DLayer");const h=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_22__.computeCentroid)(m);if(null==h)return null;const g=new Array,d=new Array,u=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_12__.create)(),f=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),y=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),b=this._context.renderCoordsHelper.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_18__.ViewingMode.Global;b||this._context.renderCoordsHelper.worldUpAtPosition(null,y),(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_11__.computeTranslationToOriginAndRotation)(m.spatialReference,[h.x,h.y,0],f,this._context.renderCoordsHelper.spatialReference);const _=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.invert)(_,f);const v=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_5__.normalFromMat4)(v,_);const{polygons:M,mapPositions:I,position:A}=p,B=new Map,T=this._materials[It.Main];for(const o of M){const t=o.count;if(this._context.clippingExtent&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_12__.fromBuffer)(o.mapPositions,u),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_12__.intersectsClippingArea)(u,this._context.clippingExtent)))continue;const i=(0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_4__.e)(o.mapPositions,o.holeIndices,3);if(0===i.length)continue;const n=i.length,a=6*t,l=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_14__.newIndexArray)(a+n),m=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_14__.newIndexArray)(n),p=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_13__.newDoubleArray)(3*a),h=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_13__.newDoubleArray)(3*a),x=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_13__.newDoubleArray)(3*a),S=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_13__.newDoubleArray)(a);nt(A,I,i,o,p,x,h,S,l,m,this._getExtrusionSize(e),y,b),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_15__.t)(p,p,_);const j=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:c,layerUid:this._context.layer.uid}),v=new At(p,x,(0,_webgl_engine_lib_Normals_js__WEBPACK_IMPORTED_MODULE_35__.compressNormals)(h),S),M=it(T,l,l.length-m.length,v,r,j),L=t,z=t,D=2*o.count,R=new Lt(L,z,D,n/3);_t(M,R,f),B.set(M,R),g.push(M,it(this._materials[It.Bottom],m,0,v,r,j)),d.push(v.heights)}if(0===g.length)return null;const U=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_36__.Object3D({geometries:g,layerUid:this._context.layer.uid,graphicUid:c,isElevationSource:!0});U.transformation=f;const N=(0,_support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_25__.createMaterial)(this.symbolLayer,{opacity:this._getLayerOpacity()}),k=N?new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_20__.Object3DEdgeState(this._materials[It.Main],N,this._context.slicePlaneEnabled):null,H=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_20__.Graphics3DObject3DGraphicLayer(this,U,g,null,null,((t,e,r,s,o)=>bt(t,e,r,s,o,d,B)),a,k);return H.alignedSampledElevation=p.sampledElevation,H.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_19__.needsElevationUpdates3D)(a.mode),H}}function it(t,e,r,s,o,i){const n=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_14__.getZeroIndexArray)(e.length),a=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_30__.Attribute(s.positions,e,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.NORMALCOMPRESSED,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_30__.Attribute(s.normals,e,2,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_30__.Attribute(o,n,4,!0)]];return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_33__.Geometry(t,a,s.elevation,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_32__.ContentObjectType.Mesh,i,r)}function nt(t,e,r,s,o,i,n,a,l,c,m,p,h){{const g=r.length/3,d=2*s.count;at(t,e,s.index,s.count,r,0,g,o,i,n,a,l,c,d,m,p,h)}{let t=0,e=2*s.count,r=0;const c=s.pathLengths[0];mt(o,i,a,n,t,c,s.count,e,l,r,m),e+=4*c,r+=2*c,t+=c;for(let p=1;p<s.pathLengths.length;++p){const c=s.pathLengths[p];mt(o,i,a,n,t,c,s.count,e,l,r,m),e+=4*c,r+=2*c,t+=c}}}function at(t,e,r,s,o,i,n,a,l,c,h,g,d,u,f,y,b){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.c)(St,y);{const o=f>0?1:-1;let i=3*r,n=0,m=3*n,g=s,d=3*g;for(let r=0;r<s;++r){const r=t[i],s=t[i+1],u=t[i+2];b&&(St[0]=r,St[1]=s,St[2]=u,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.n)(St,St)),a[m+0]=r,a[m+1]=s,a[m+2]=u;const y=e[i+0],_=e[i+1],x=e[i+2];l[m+0]=y,l[m+1]=_,l[m+2]=x,c[m+0]=-o*St[0],c[m+1]=-o*St[1],c[m+2]=-o*St[2],h[n]=0,a[d+0]=r+f*St[0],a[d+1]=s+f*St[1],a[d+2]=u+f*St[2],l[d+0]=y,l[d+1]=_,l[d+2]=x,h[g]=f,m+=3,d+=3,i+=3,n+=1,g+=1}}{let t=3*i,e=0,r=3*u;const a=f<0?Et:Pt,l=f<0?Pt:Et;for(let i=0;i<n;++i)d[e]=o[t+a[0]],d[e+1]=o[t+a[1]],d[e+2]=o[t+a[2]],g[r]=o[t+l[0]]+s,g[r+1]=o[t+l[1]]+s,g[r+2]=o[t+l[2]]+s,e+=3,r+=3,t+=3}}function lt(t,e,r,s,o,i,n){s[i]=s[n],n*=3,t[i*=3]=t[n],t[i+1]=t[n+1],t[i+2]=t[n+2],e[i]=e[n],e[i+1]=e[n+1],e[i+2]=e[n+2],r[i]=o[0],r[i+1]=o[1],r[i+2]=o[2]}const ct=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)();function mt(t,e,r,s,o,i,n,a,l,c,m){let p=o,h=o+1,g=o+n,d=o+n+1,u=a,f=a+1,y=a+2*i,b=a+2*i+1;m<0&&(p=o+n+1,d=o);let _=3*c;for(let x=0;x<i;++x)x===i-1&&(h=o,m>0?d=o+n:p=o+n),ft(t,p,h,g,ct),lt(t,e,s,r,ct,u,p),lt(t,e,s,r,ct,f,h),lt(t,e,s,r,ct,y,g),lt(t,e,s,r,ct,b,d),l[_]=u,l[_+1]=y,l[_+2]=b,l[_+3]=u,l[_+4]=b,l[_+5]=f,_+=6,p++,h++,g++,d++,u+=2,f+=2,y+=2,b+=2}const pt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),ht=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),gt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),dt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),ut=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)();function ft(t,e,r,s,o){e*=3,r*=3,s*=3,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.i)(pt,t[e++],t[e++],t[e++]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.i)(ht,t[r++],t[r++],t[r++]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.i)(gt,t[s++],t[s++],t[s++]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.d)(dt,ht,pt),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.d)(ut,gt,pt),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.e)(o,ut,dt),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.n)(o,o)}const yt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)();function bt(t,e,r,s,o,i,n){const c=t.stageObject,m=c.geometries,p=m.length,g="absolute-height"!==e.mode;let d=0;const f=c.transformation,y=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_7__.invertOrIdentity)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),f);for(let a=0;a<p;a+=2){const t=m[a];if(!(0,_webgl_engine_lib_GeometryWithMapPositions_js__WEBPACK_IMPORTED_MODULE_34__.isGeometryWithMapPositions)(t))continue;const e=t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.POSITION).data,l=i[a/2],p=new _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_27__.SamplePosition(t.mapPositions),b=e.length/3;let _=!1,x=0;{let t=0;for(let i=0;i<b;i++){yt[0]=e[t],yt[1]=e[t+1],yt[2]=e[t+2],s(p,jt),g&&(x+=jt.sampledElevation),_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_26__.debugFlags.TESTS_DISABLE_OPTIMIZATIONS?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.i)(xt,p.array[p.offset],p.array[p.offset+1],jt.z+l[t/3]),null!=r&&o.toRenderCoords(xt,r,xt),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.t)(xt,xt,y)):((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.i)(xt,e[t],e[t+1],e[t+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.t)(xt,xt,f),o.setAltitude(xt,jt.z+l[t/3]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.t)(xt,xt,y)),e[t]=xt[0],e[t+1]=xt[1],e[t+2]=xt[2];const i=wt/o.unitInMeters;(Math.abs(yt[0]-e[t])>=i||Math.abs(yt[1]-e[t+1])>=i||Math.abs(yt[2]-e[t+2])>=i)&&(_=!0),p.offset+=3,t+=3}}if(_){const e=n.get(t);e&&_t(t,e,f),c.geometryVertexAttributeUpdated(m[a],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.NORMALCOMPRESSED),t.invalidateBoundingInfo(),c.geometryVertexAttributeUpdated(m[a],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.POSITION),m[a+1].invalidateBoundingInfo(),c.geometryVertexAttributeUpdated(m[a+1],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.POSITION)}d+=x/b}return d/p}function _t(t,e,r){const s=t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.POSITION),o=t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.NORMALCOMPRESSED).data,{topVertexStart:i,topVertexCount:n,topFaceStart:a,topFaceCount:l}=e,c=s.data,m=n,g=t.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_37__.VertexAttribute.POSITION).indices,y=a+l,b=i+n,_=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_13__.newDoubleArray)(3*m);for(let p=0;p<m;++p){const t=3*p;_[t+0]=0,_[t+1]=0,_[t+2]=0}const x=Ot,S=vt,j=Ct,P=Mt,E=St;for(let w=a;w<y;++w){const t=3*w;for(let e=0;e<3;++e){const s=g[t+e];P[e]=s;const o=3*s;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.i)(xt,c[o+0],c[o+1],c[o+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.t)(x[e],xt,r)}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.a)(S,x[1],x[0]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.a)(j,x[2],x[0]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.e)(E,S,j),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_9__.n)(E,E);for(let e=0;e<3;++e){const t=3*(P[e]-i);_[t+0]+=E[0],_[t+1]+=E[1],_[t+2]+=E[2]}}for(let p=i;p<b;++p){const t=3*(p-i),e=_[t+0],r=_[t+1],s=_[t+2],n=Math.sqrt(e*e+r*r+s*s);(0,_webgl_engine_lib_Normals_js__WEBPACK_IMPORTED_MODULE_35__.compressNormal)(o,p,e/n,r/n,s/n)}}const xt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),St=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),jt=new _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_19__.SampleElevationInfo,Pt=[0,2,1],Et=[0,1,2],wt=.01,Ot=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)()],vt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),Ct=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),Mt=[0,0,0];var It;!function(t){t[t.Main=0]="Main",t[t.Bottom=1]="Bottom"}(It||(It={}));class At{constructor(t,e,r,s){this.positions=t,this.elevation=e,this.normals=r,this.heights=s}}class Lt{constructor(t,e,r,s){this.topVertexStart=t,this.topVertexCount=e,this.topFaceStart=r,this.topFaceCount=s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DIconSymbolLayer: function() { return /* binding */ he; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/lang.js */ "./node_modules/@arcgis/core/core/lang.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/string.js */ "./node_modules/@arcgis/core/core/string.js");
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/urlUtils.js */ "./node_modules/@arcgis/core/core/urlUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ "./node_modules/@arcgis/core/support/arcadeOnDemand.js");
/* harmony import */ var _symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../symbols/cim/CIMSymbolHelper.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js");
/* harmony import */ var _symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../symbols/cim/OverrideHelper.js */ "./node_modules/@arcgis/core/symbols/cim/OverrideHelper.js");
/* harmony import */ var _symbols_cim_utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../symbols/cim/utils.js */ "./node_modules/@arcgis/core/symbols/cim/utils.js");
/* harmony import */ var _symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../symbols/support/cimSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js");
/* harmony import */ var _symbols_support_IconSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../symbols/support/IconSymbol3DLayerResource.js */ "./node_modules/@arcgis/core/symbols/support/IconSymbol3DLayerResource.js");
/* harmony import */ var _symbols_support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../symbols/support/Symbol3DAnchorPosition2D.js */ "./node_modules/@arcgis/core/symbols/support/Symbol3DAnchorPosition2D.js");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../symbols/support/utils.js */ "./node_modules/@arcgis/core/symbols/support/utils.js");
/* harmony import */ var _2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../2d/arcade/callExpressionWithFeature.js */ "./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js");
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./constants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/constants.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Graphics3DDrapedGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _placementUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./placementUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js");
/* harmony import */ var _pointUtils_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./pointUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js");
/* harmony import */ var _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../support/engineContent/sdfPrimitives.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../webgl-engine/materials/HUDMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const se=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.fromValues)(0,0,1),oe=16,ae=1.5,ne=_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_35__.defaultSymbolSizeRatio,le=[ne/2,ne/2,1-ne/2,1-ne/2],ce=[_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_35__.defaultTexSize*ne,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_35__.defaultTexSize*ne];class he extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_29__.Graphics3DSymbolLayer{getCachedSize(){return{size:this._getIconSize()}}constructor(e,t,r,i){super(e,t,r,i),this._cimSymbolMaterials=new Map,this._cimSymbolTextures=new Map,this._cimMaterialParametersInfo=null,this._size=null,this._symbolTextureRatio=1,this._outlineSize=0,this._patchTask=null,this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!0}}async doLoad(e){this._validateOrThrow();const t=this._prepareMaterialParameters(),r=this._getPrimitive();if(null!=r)this._prepareResourcesPrimitive(t,r);else{const r=(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_22__.getIconHref)(this.symbolLayer),i=de(r);null!=i?await this._prepareResourcesCIM(t,JSON.parse(i),e):await this._prepareResourcesHref(t,r,e)}}_validateOrThrow(){if(this._drivenProperties.size)return;const e=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_30__.validateSymbolLayerSize)(this._getIconSize());if(e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("graphics3diconsymbollayer:invalid-size",e)}_getIconSize(){const e=this.symbolLayer,t=Math.round(null!=e.size?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(e.size):oe);return this._drivenProperties.size?Math.max(t,64):t}_generateTextureCIM(e){let t=this._cimData;if(t&&t.symbol||this.logger.error("Can't create texture, CIM data is undefined"),t.primitiveOverrides){t=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.clone)(t);const r=t.primitiveOverrides;_symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_17__.OverrideHelper.evaluateOverrides(r,e,this._arcadeInfo.geometryType,null,null),_symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_17__.OverrideHelper.applyOverrides(t.symbol,r)}const r=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_8__.numericHash)(JSON.stringify(t));let i=this._cimSymbolTextures.get(r);if(i)return i;const o=this._context.sharedResources.cimSymbolRasterizer,a=this._context.renderer&&"dictionary"===this._context.renderer.type?this._context.renderer.fieldMap:null;a&&_symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_17__.OverrideHelper.applyDictionaryTextOverrides(t.symbol,e,a,null);const n=null!=this._cimScaleFactorOrFunction?(0,_symbols_cim_utils_js__WEBPACK_IMPORTED_MODULE_18__.evaluateValueOrFunction)(this._cimScaleFactorOrFunction,e):1;1!==n&&t.symbol&&(0,_symbols_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_19__.scaleCIMSymbol)(t.symbol,n,!0);const l=_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_16__.CIMSymbolHelper.getEnvelope(t,null,o.resourceManager);if(l?.width&&l.height){const e=l.x+l.width/2,r=l.y+l.height/2,s=o.rasterize({type:"cim",data:t},l.width,l.height,e,r,1,"esriGeometryPoint"),a=new _symbols_support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_21__.Symbol3DAnchorPosition2D({x:-l.x/l.width-.5,y:(l.height+l.y)/l.height-.5});this._cimMaterialParametersInfo.anchorPosition=pe("relative",a),i=new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_39__.Texture(s,{width:s?.width??1,height:s?.height??1,reloadable:!0})}else i=new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_39__.Texture(new ImageData(1,1),{width:1,height:1,reloadable:!0});return this._cimSymbolTextures.set(r,i),this._context.stage.add(i),i}_prepareMaterialParameters(){const e={anchorPosition:pe(this.symbolLayer.anchor,this.symbolLayer.anchorPosition),rotation:this.symbolLayer.angle},t=this.symbol;if(me(t)){const{screenLength:r,minWorldLength:i,maxWorldLength:s}=t.verticalOffset;e.verticalOffset={screenLength:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(r),minWorldLength:i||0,maxWorldLength:null!=s?s:1/0}}this._context.screenSizePerspectiveEnabled&&(e.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),(0!==e.rotation||this._drivenProperties.rotation)&&(e.hasRotation=!0);const r=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_3__["default"])("enable-feature:non-occluded-hud");return e.occlusionTest=!r,e.occludedFragmentFade=r,e.horizonCullingEnabled=r,e.hasSlicePlane=this._context.slicePlaneEnabled,e}_prepareResourcesPrimitive(e,t){const r=this._getOutlineSize();if(ue(t)&&0===r)throw new Error("Nothing to render");if(this._outlineSize=r,e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,null!=this._context.sharedResources.textures){const r=this._context.sharedResources.textures.fromData(`${t}-icon`,(()=>(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_35__.createTexture)(t)));this._textureHandle=r,e.textureId=r.texture.id}e.textureIsSignedDistanceField=!0,e.sampleSignedDistanceFieldTexelCenter=(0,_support_engineContent_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_35__.requiresHalfTexelOffset)(t),e.distanceFieldBoundingBox=le;const i=this._getIconSize();this._size=[i,i],this._symbolTextureRatio=1/ne,this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesHref(e,r,s){this._outlineSize=this._getOutlineSize(),e.color=this._getFillColor(),e.outlineColor=this._getOutlineColor(),e.outlineSize=this._outlineSize,e.textureIsSignedDistanceField=!1;const o=this._getIconSize(),a=o*this._context.graphicsCoreOwner.view.state.rasterPixelRatio;if(null!=this._context.sharedResources.textures){const l=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(this._context.sharedResources.textures.fromUrl(r,a,{signal:s}));if(!1===l.ok){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError)(l.error);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("graphics3diconsymbollayer:request-failed",`Failed to load (Request for icon resource failed: ${r})`)}this._textureHandle=l.value;const c=l.value.texture;this._size=_e(c,o),e.textureId=c.id}this._createMaterialAndAddToStage(e,this._context.stage)}async _prepareResourcesCIM(e,t,r){if(this._cimData=t,!this._context.sharedResources.cimSymbolRasterizer){const e=(await __webpack_require__.e(/*! import() | symbols-cim-CIMSymbolRasterizer */ "symbols-cim-CIMSymbolRasterizer").then(__webpack_require__.bind(__webpack_require__, /*! ../../../../symbols/cim/CIMSymbolRasterizer.js */ "./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js"))).CIMSymbolRasterizer;(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(r),this._context.sharedResources.cimSymbolRasterizer||(this._context.sharedResources.cimSymbolRasterizer=new e(this._context.renderCoordsHelper.spatialReference))}const i=this._context.sharedResources.cimSymbolRasterizer,s=[],o=t,a=o?.symbol;_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_16__.CIMSymbolHelper.fetchResources(a,i.resourceManager,s,r),_symbols_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_16__.CIMSymbolHelper.fetchFonts(a,i.resourceManager,s);const n=this._context.layer.fields?this._context.layer.fields.map((e=>e.toJSON())):[],c=this._context.renderCoordsHelper.spatialReference;if(this._arcadeInfo={spatialReference:c,fields:n,geometryType:"esriGeometryPoint"},o?.primitiveOverrides&&s.push(_symbols_cim_OverrideHelper_js__WEBPACK_IMPORTED_MODULE_17__.OverrideHelper.createRenderExpressions(o.primitiveOverrides,this._arcadeInfo)),s.length>0&&(await Promise.all(s),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(r)),this._context.renderer&&"dictionary"===this._context.renderer.type&&this._context.renderer.scaleExpression){const e=this._context.renderer;if(e.scaleExpression){const t=e.scaleExpression,r=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_15__.createRendererExpression)(t,this._context.layer.spatialReference,n);this._cimScaleFactorOrFunction=(e,t,i)=>{const s=(0,_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_23__["default"])(r,e,{$view:i},"esriGeometryPoint",t);return null!==s?s:1}}}(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(r),this._cimMaterialParametersInfo=e,this._cimMaterialParametersInfo.color=this._getFillColor(),this._cimMaterialParametersInfo.outlineColor=[0,0,0,0],this._cimMaterialParametersInfo.outlineSize=0,this._cimMaterialParametersInfo.textureIsSignedDistanceField=!1}_getPrimitive(){return this.symbolLayer.resource?.href?null:this.symbolLayer.resource?.primitive??_symbols_support_IconSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_20__.defaultPrimitive}_getOutlineSize(){let e=0;const t=this.symbolLayer;if(null!=t.outline?.size)return Math.max((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(t.outline.size),0);return e=ue(this._getPrimitive())?ae:0,Math.max(e,0)}_getOutlineColor(){const t=this._getLayerOpacity(),r=this.symbolLayer,i=r?.outline?.color;if(null!=i){const r=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(i),s=i.a*t;return[r[0],r[1],r[2],s]}return[0,0,0,0]}_getFillColor(){if(ue(this._getPrimitive()))return _constants_js__WEBPACK_IMPORTED_MODULE_24__.transparentUnit;const e=null==this._getPrimitive(),t=this.symbolLayer?.material?.color;return this._getCombinedOpacityAndColor(t,{hasIntrinsicColor:e})}_createMaterialAndAddToStage(e,t){const r=this._context.spherical;if(this._cimData){this._fastUpdates=null;let i=e.textureId?this._cimSymbolMaterials.get(e.textureId):null;return i||(i=new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_40__.HUDMaterial(e,r),this._cimSymbolMaterials.set(e.textureId??0,i),t.add(i)),i}return this._fastUpdates=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_34__.initFastSymbolUpdatesState)(this._context.renderer,this._fastVisualVariableConvertOptions()),this._fastUpdates&&(e={...e,...this._fastUpdates.materialParameters}),this._materials[0]=new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_40__.HUDMaterial(e,r),t.add(this._materials[0]),this._materials[0]}_setDrapingDependentMaterialParameters(){this.draped&&(this._forEachMaterial((e=>{e.setParameters({verticalOffset:null,screenSizePerspective:null,occlusionTest:!1,hasSlicePlane:!1,shaderPolygonOffset:0,draped:this.draped})})),this.layerOpacityChanged())}destroy(){super.destroy(),this._patchTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.abortMaybe)(this._patchTask),this._forEachMaterial((e=>this._context.stage.remove(e))),this._materials.length=0,this._cimSymbolMaterials.clear(),this._cimSymbolTextures.forEach((e=>this._context.stage.remove(e))),this._cimSymbolTextures.clear(),this._textureHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.releaseMaybe)(this._textureHandle)}_getScaleFactor(e,t){if(this._drivenProperties.size&&e.size){for(let t=0;t<3;t++){const r=e.size[t];r&&"symbol-value"!==r&&"proportional"!==r&&(e.size[t]=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.pt2px)(r))}if("symbol-value"===e.size[0])return 1;if(isFinite(+e.size[0]))return+e.size[0]/t;if(isFinite(+e.size[2]))return+e.size[2]/t}return 1}_getDrivenRotation(e){return this._drivenProperties.rotation?e.heading??0:0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;let r,i=[0,0];if(this._cimData){if(!this._cimData.symbol)return null;const e=this._generateTextureCIM(t),s={textureId:e.id,...this._cimMaterialParametersInfo};r=this._createMaterialAndAddToStage(s,this._context.stage);const o=window.devicePixelRatio||1;i=[e.parameters.width/o,e.parameters.height/o]}else i=this._size,r=this._materials[0];const s=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.placePointOnGeometry)(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for icon symbol: ${t.geometry.type}`),null;const o=e.renderingInfo,a=this._getVertexOpacityAndColor(o),n=this._getDrivenRotation(o);let l=1;if(!this._fastUpdates?.visualVariables.size){const e=i[0]>i[1]?i[0]:i[1];l=this._getScaleFactor(o,e)}l*=this._symbolTextureRatio;const c=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_10__.fromValues)(i[0]*l,i[1]*l),h=this.setGraphicElevationContext(t);return this.ensureDrapedStatus("on-the-ground"===h.mode)&&this._setDrapingDependentMaterialParameters(),this.draped?this._createAsOverlay(t,s,r,a,n,c,e.layer.uid):this._createAs3DShape(t,s,r,a,n,c,h,t.uid)}layerOpacityChanged(){const e=this._getFillColor(),t=this._getOutlineColor();this._forEachMaterial((r=>{r.setParameters({color:e}),r.setParameters({outlineColor:t})}))}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:r,stageObject:i}=e;if(r.mode!==this.getGeometryElevationMode(t))return!1;const s=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.placePointOnGeometry)(t);if(!s)return!1;const o=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.updateStageObjectGeometry)(i,this._context,s,r);if(null==o)return!1;const a=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.getLocalOriginForPoint)(this._context,s);return i.geometries[0].localOrigin===a&&(e.alignedSampledElevation=o,(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.extendPointGraphicElevationContext)(e,s,this._context.elevationProvider),!0)}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,s=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.elevationModeChangeUpdateType)(he.elevationModeChangeTypes,r,i);if(s!==_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.SymbolUpdateType.UPDATE)return s;const o=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.needsElevationUpdates2D)(i)||"absolute-height"===i;return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){return this.draped||this._forEachMaterial((e=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return null!=this._getPrimitive()}applyRendererDiff(e,t){for(const r in e.diff){if("visualVariables"!==r)return _interfaces_js__WEBPACK_IMPORTED_MODULE_31__.ApplyRendererDiffResult.RecreateSymbol;if(!(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_34__.updateFastSymbolUpdatesState)(this._fastUpdates,t,this._fastVisualVariableConvertOptions()))return _interfaces_js__WEBPACK_IMPORTED_MODULE_31__.ApplyRendererDiffResult.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return _interfaces_js__WEBPACK_IMPORTED_MODULE_31__.ApplyRendererDiffResult.FastUpdate}prepareSymbolLayerPatch(e){if(this._patchTask?.abort(),"partial"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchResource(e,t),this._preparePatchRotation(e,t)}_preparePatchResource(e,s){if(!s.resource||"partial"!==s.resource.type)return;const c=s.resource.diff;if("complete"!==c?.href?.type)return;const h=c.href.newValue,{textures:m}=this._context.sharedResources;if(null==h||null==m||null!=de(h))return;const u=this._getIconSize(),d=u*this._context.graphicsCoreOwner.view.state.pixelRatio;e.symbolLayerStatePatches.push((()=>{this._patchTask=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.abortMaybe)(this._patchTask),this._patchTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.createTask)((e=>this._context.schedule((async(e,r)=>{const s=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(m.fromUrl(h,d,{signal:r}));(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAborted)(r);const o=!s.ok;if(o&&(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError)(s.error),this._textureHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.releaseMaybe)(this._textureHandle),this._patchTask=null,o){this._forEachMaterial((e=>{e.visible=!1,e.setParameters({textureId:null})}));const e=`Failed to load (Request for icon resource failed: ${h})`;return void this.logger.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("graphics3diconsymbollayer:request-failed",e))}this._textureHandle=s.value;const c=s.value.texture;this._size=_e(c,u),this._forEachMaterial((e=>{e.setParameters({textureId:c.id}),e.visible=!0}))}),e)))})),delete c.href}_preparePatchRotation(e,t){if(!t.angle||"complete"!==t.angle.type)return;const r=t.angle.newValue??0,i=0!==r||this._drivenProperties.rotation;e.symbolLayerStatePatches.push((()=>{this._forEachMaterial((e=>e.setParameters({rotation:r,hasRotation:i})))})),delete t.angle}_defaultElevationInfoNoZ(){return fe}_createAs3DShape(e,t,r,i,s,o,a,n){const l=this.getFastUpdateAttrValues(e),c=this._context.layer.uid,h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerUid:c}),m=(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_37__.createPointGeometry)(r,se,null,i,s,o,ye,null,l,h),u=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.createStageObject)(this._context,t,m,a,n);if(null==u)return null;const d=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_28__.Graphics3DObject3DGraphicLayer(this,u.object,[m],null,null,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_25__.perObjectElevationAligner,a);return d.alignedSampledElevation=u.sampledElevation,d.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.needsElevationUpdates2D)(a.mode)||"absolute-height"===a.mode,d.getScreenSize=this._createScreenSizeGetter(o,l),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_33__.extendPointGraphicElevationContext)(d,t,this._context.elevationProvider),d}_createAsOverlay(e,t,r,i,s,o,a){r.renderPriority=this._renderPriority;const n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.create)();(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_13__.projectPointToVector)(t,n,this._context.overlaySR),n[2]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_36__.drapedZ;const l=this._context.clippingExtent;if(null!=l&&!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_14__.containsPoint)(l,n))return null;const c=this.getFastUpdateAttrValues(e),h=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:e.uid,layerUid:this._context.layer.uid}),m=(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_37__.createPointGeometry)(r,se,n,i,s,o,null,null,c,h),u=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_38__.RenderGeometry(m,{layerUid:a,graphicUid:e.uid}),d=new _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_27__.Graphics3DDrapedGraphicLayer(this,[u],null,this._context.drapeSourceRenderer);return d.getScreenSize=this._createScreenSizeGetter(o,c),d.calculateRelativeScreenBounds=e=>r.calculateRelativeScreenBounds(d.getScreenSize(),1,e),d}_createScreenSizeGetter(e,t){const r=this._outlineSize+2;if(this._fastUpdates&&t){const i=e[0]/this._symbolTextureRatio,s=e[1]/this._symbolTextureRatio;return(e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_10__.create)())=>{const[o,a]=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_34__.evaluateModelTransformScale)(ge,this._fastUpdates.materialParameters,t);return e[0]=o*i+r,e[1]=a*s+r,e}}const i=e[0]/this._symbolTextureRatio+r,s=e[1]/this._symbolTextureRatio+r;return(e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_10__.create)())=>(e[0]=i,e[1]=s,e)}_fastVisualVariableConvertOptions(){const e=Math.max(this._size[0],this._size[1]),t=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.fromValues)(e,e,e),r=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_7__.px2pt)(1),i=e*r,s=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.fromValues)(i,i,i);return new _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_34__.ConvertOptions({size:!0,color:!0,rotation:!0,opacity:!1},t,s,r)}_forEachMaterial(e){this._materials.forEach(e),this._cimSymbolMaterials.forEach(e)}test(){return{...super.test(),material:this._materials[0]}}}function me(e){return e&&"point-3d"===e.type&&e.hasVisibleVerticalOffset()}function ue(e){return null!=e&&("cross"===e||"x"===e)}function de(e){const t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_9__.dataComponents)(e);return"application/json"===t?.mediaType?t.data:void 0}function pe(e,t){return"relative"===e?(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_10__.fromValues)((t.x||0)+.5,.5-(t.y||0)):e in _placementUtils_js__WEBPACK_IMPORTED_MODULE_32__.namedAnchorToHUDMaterialAnchorPos?_placementUtils_js__WEBPACK_IMPORTED_MODULE_32__.namedAnchorToHUDMaterialAnchorPos[e]:_placementUtils_js__WEBPACK_IMPORTED_MODULE_32__.namedAnchorToHUDMaterialAnchorPos.center}function _e({parameters:e},t){const r=(e.width??1)/(e.height??1);return r>1?[t,Math.round(t/r)]:[Math.round(t*r),t]}he.PRIMITIVE_SIZE=ce,he.elevationModeChangeTypes={definedChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.SymbolUpdateType.UPDATE,staysOnTheGround:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.SymbolUpdateType.NONE,onTheGroundChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_26__.SymbolUpdateType.RECREATE};const fe={mode:"relative-to-ground",offset:0},ye=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(0,0,0,1),ge=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DLineSymbolLayer: function() { return /* binding */ V; }
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../renderers/support/renderingInfoUtils.js */ "./node_modules/@arcgis/core/renderers/support/renderingInfoUtils.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Graphics3DDrapedGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _lineUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lineUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js");
/* harmony import */ var _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_engineContent_line_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/engineContent/line.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/line.js");
/* harmony import */ var _support_renderInfoUtils_line_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/renderInfoUtils/line.js */ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_materials_LineMarkerMaterial_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/materials/LineMarkerMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js");
/* harmony import */ var _webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/materials/lineStippleUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const G=["polyline","polygon","extent"],O=new _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.ConvertOptions({size:!0,color:!0,rotation:!1,opacity:!0});class V extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_10__.Graphics3DSymbolLayer{constructor(e,t,r,i){super(e,t,r,i)}async doLoad(){if(this._fastUpdates=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.initFastSymbolUpdatesState)(this._context.renderer,O),!this._drivenProperties.size){if((null!=this.symbolLayer.size?this.symbolLayer.size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.px2pt)(1))<0)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("graphics3dlinesymbollayer:invalid-size","Symbol sizes may not be negative values")}}_getMaterialParameters(e,t=!1){const r=this._getCombinedOpacityAndColor(t&&this._markerColor||this._materialColor);this._patternHidesLine&&!t&&(r[3]=0);const i={width:this._computeMaterialWidth(this.symbolLayer?.size),color:r,hasPolygonOffset:!0,join:this.symbolLayer.join||"miter",cap:(0,_lineUtils_js__WEBPACK_IMPORTED_MODULE_12__.parseCapType)(this.symbolLayer.cap||"butt"),hasSlicePlane:this._context.slicePlaneEnabled,isClosed:e,stipplePattern:(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_20__.getStipplePatternForLinePattern)(this.symbolLayer.pattern)};return this._fastUpdates?.visualVariables?{...i,...this._fastUpdates.materialParameters}:i}get _materialColor(){return this.symbolLayer.material?.color}get _markerColor(){return this.symbolLayer.marker?.color}get _lineMaterial(){return null==this._materials[H.Line]&&(this._materials[H.Line]=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_21__.RibbonLineMaterial(this._getMaterialParameters(!1)),this._context.stage.add(this._materials[H.Line])),this._materials[H.Line]}get _ringMaterial(){return null==this._materials[H.Ring]&&(this._materials[H.Ring]=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_21__.RibbonLineMaterial(this._getMaterialParameters(!0)),this._context.stage.add(this._materials[H.Ring])),this._materials[H.Ring]}get _wireframeLineMaterial(){return null==this._materials[H.LineWireframe]&&(this._materials[H.LineWireframe]=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_21__.RibbonLineMaterial({...this._getMaterialParameters(!1),wireframe:!0}),this._context.stage.add(this._materials[H.LineWireframe])),this._materials[H.LineWireframe]}get _wireframeRingMaterial(){return null==this._materials[H.RingWireframe]&&(this._materials[H.RingWireframe]=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_21__.RibbonLineMaterial({...this._getMaterialParameters(!0),wireframe:!0}),this._context.stage.add(this._materials[H.RingWireframe])),this._materials[H.RingWireframe]}get _markerMaterial(){return null==this._materials[H.Marker]&&null!=this.symbolLayer.marker&&(this._materials[H.Marker]=new _webgl_engine_materials_LineMarkerMaterial_js__WEBPACK_IMPORTED_MODULE_19__.LineMarkerMaterial({...this._getMaterialParameters(!1,!0),placement:this.symbolLayer.marker.placement,markerPrimitive:(0,_lineUtils_js__WEBPACK_IMPORTED_MODULE_12__.parseLineMarkerStyle)(this.symbolLayer.marker.style)}),this._context.stage.add(this._materials[H.Marker])),this._materials[H.Marker]}destroy(){super.destroy(),this._forEachMaterial((e=>this._context.stage.remove(e))),this._materials.length=0}_getDrivenSize(e){return this._drivenProperties.size&&e.size?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)((0,_renderers_support_renderingInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.getDriverAxisSizeValueAny)(e.size)):1}_getDrivenColor(e){const t=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(1,1,1,1);return this._drivenProperties.color&&e.color&&(t[0]=e.color[0],t[1]=e.color[1],t[2]=e.color[2],e.color.length>0&&(t[3]=e.color[3])),this._drivenProperties.opacity&&e.opacity&&(t[3]=e.opacity),t}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,G,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus("on-the-ground"===r.mode),this.draped?this._createAsOverlay(e,this._context.layer.uid):this._createAs3DShape(e,r,t.uid)}applyRendererDiff(e,t){for(const r in e.diff){if("visualVariables"!==r)return _interfaces_js__WEBPACK_IMPORTED_MODULE_11__.ApplyRendererDiffResult.RecreateSymbol;{const e=this._fastUpdates;if(!(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.updateFastSymbolUpdatesState)(e,t,O))return _interfaces_js__WEBPACK_IMPORTED_MODULE_11__.ApplyRendererDiffResult.RecreateSymbol;this._forEachMaterial((t=>t?.setParameters(e.materialParameters)))}}return _interfaces_js__WEBPACK_IMPORTED_MODULE_11__.ApplyRendererDiffResult.FastUpdate}prepareSymbolLayerPatch(e){if("partial"!==e.diff.type)return;const t=e.diff.diff,r={};"complete"===t.size?.type&&(r.width=this._computeMaterialWidth(t.size.newValue),delete t.size),"complete"===t.cap?.type&&(r.cap=(0,_lineUtils_js__WEBPACK_IMPORTED_MODULE_12__.parseCapType)(t.cap.newValue??"butt"),delete t.cap);const i=this._prepareMarkerPatch(e,t);this._prepareMaterialPatch(e,t,i),e.symbolLayerStatePatches.push((()=>this._forEachMaterial((e=>e?.setParameters(r)))))}layerOpacityChanged(){this._forEachMaterial(((e,t)=>this._updateMaterialLayerOpacity(e,t===H.Marker)))}_forEachMaterial(e){this._materials.forEach(e)}_updateMaterialLayerOpacity(e,t=!1){if(null==e)return;const r=e.parameters.color,a=this.symbolLayer?.material?.color,s=this._patternHidesLine&&!t?0:this._getCombinedOpacity(a),n=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(r[0],r[1],r[2],s);e.setParameters({color:n})}layerElevationInfoChanged(e,t,r){const i=this._elevationContext.mode,a=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.elevationModeChangeUpdateType)(V.elevationModeChangeTypes,r,i);if(a!==_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.SymbolUpdateType.UPDATE)return a;const s=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.needsElevationUpdates2D)(i);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>s))}slicePlaneEnabledChanged(){const e={hasSlicePlane:this._context.slicePlaneEnabled};return this._forEachMaterial((t=>t?.setParameters(e))),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const i=I(e.graphic.geometry),a="polygon"===i.type?i.rings:i.paths,l=new Array,m=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)(),h=(0,_support_renderInfoUtils_line_js__WEBPACK_IMPORTED_MODULE_16__.geometryToRenderInfo)(i,this._context.elevationProvider,this._context.renderCoordsHelper,t),p="polygon"===i.type?"rings":"paths";this._logGeometryCreationWarnings(h,a,p,"LineSymbol3DLayer");for(let s=0;s<h.lines.length;s++){const t=h.lines[s],a=t.position,p=t.mapPositions;if(null!=this._context.clippingExtent&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromBuffer)(p,m),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.intersectsClippingArea)(m,this._context.clippingExtent)))continue;const c=this._createGeometry("polygon"===i.type?this._ringMaterial:this._lineMaterial,e,a,p,i.type,F.ELEVATED,r);l.push(c),_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LINE_WIREFRAMES&&l.push(c.instantiate({material:"polygon"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial})),null!=this._markerMaterial&&l.push(c.instantiate({material:this._markerMaterial}))}if(0===l.length)return null;const d=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_17__.Object3D({geometries:l,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),y=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_9__.Graphics3DObject3DGraphicLayer(this,d,l,null,null,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_6__.sharedGeometryElevationAligner,t);return y.alignedSampledElevation=h.sampledElevation,y.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.needsElevationUpdates2D)(t.mode),y}_createGeometry(e,t,r,i,a,s,n){const o=s===F.DRAPED?{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper}:null,l="polygon"===a,m=this._fastUpdates?.visualVariables.color,h=this._fastUpdates?.visualVariables.size,p=this._fastUpdates?.visualVariables.opacity,c=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:n,layerUid:this._context.layer.uid}),d={position:r,size:h?null:this._getDrivenSize(t.renderingInfo),color:m?null:this._getDrivenColor(t.renderingInfo),sizeFeature:h?(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.getAttributeValue)(h.field,t.graphic):null,colorFeature:m?(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.getAttributeValue)(m.field,t.graphic):null,opacityFeature:p?(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.getAttributeValue)(p.field,t.graphic):null};return (0,_support_engineContent_line_js__WEBPACK_IMPORTED_MODULE_15__.createGeometry)(e,{overlayInfo:o,removeDuplicateStartEnd:l,mapPositions:i,attributeData:d},c)}_createAsOverlay(e,t){const r=e.graphic,i=I(r.geometry),a="polygon"===i.type?i.rings:i.paths,p="polygon"===i.type?this._ringMaterial:this._lineMaterial;p.renderPriority=this._renderPriority;const c=_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LINE_WIREFRAMES?"polygon"===i.type?this._wireframeRingMaterial:this._wireframeLineMaterial:null,d=this._markerMaterial;null!=c&&(c.renderPriority=this._renderPriority-.001),null!=d&&(d.renderPriority=this._renderPriority-.002);const y=new Array,u=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.create)(),g=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.empty)(),f=(0,_support_renderInfoUtils_line_js__WEBPACK_IMPORTED_MODULE_16__.geometryToRenderInfoDraped)(i,this._context.overlaySR),b="polygon"===i.type?"rings":"paths";this._logGeometryCreationWarnings(f,a,b,"LineSymbol3DLayer");for(const s of f.lines){if((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.fromBuffer)(s.position,u),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.intersectsClippingArea)(u,this._context.clippingExtent))continue;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.expandWithAABB)(g,u);const a=a=>{const n=this._createGeometry(a,e,s.position,void 0,i.type,F.DRAPED,r.uid),o=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_18__.RenderGeometry(n,{layerUid:t,graphicUid:r.uid});y.push(o)};if(null!=d){a(d);const e=this.symbolLayer.marker.placement;"begin"!==e&&"begin-end"!==e||(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.expandWithBuffer)(u,s.position,0,1),"end"!==e&&"begin-end"!==e||(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__.expandWithBuffer)(u,s.position,s.position.length-3,1)}a(p),_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LINE_WIREFRAMES&&a(c)}return new _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_8__.Graphics3DDrapedGraphicLayer(this,y,g,this._context.drapeSourceRenderer)}get _patternHidesLine(){const e=this.symbolLayer.pattern;return null!=e&&"style"===e.type&&"none"===e.style}_computeMaterialWidth(e){return e=e??(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.px2pt)(1),this._drivenProperties.size?this._fastUpdates?.visualVariables.size?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(1):1:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(e)}_prepareMaterialPatch(e,t,r){const i=t.material;if(null==i)return void(r.changed&&r.useMaterialColor&&T(this._getCombinedOpacityAndColor(this._materialColor),this._materials[H.Marker],e));if("collection"===i.type)return;const s="complete"===i.type?i.newValue?.color:"complete"===i.diff.color?.type?i.diff.color.newValue:null,n=this._getCombinedOpacityAndColor(s);r.useMaterialColor&&T((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.clone)(n),this._materials[H.Marker],e),this._patternHidesLine&&(n[3]=0),T(n,this._materials[H.Line],e),delete t.material}_prepareMarkerPatch(e,t){const r=t.marker,i=this._markerMaterial;if(null==r||"partial"!==r.type||null==r.diff||null!=r.diff.placement||null!=r.diff.style&&"complete"!==r.diff.style.type||null!=r.diff.color&&"complete"!==r.diff.color.type||null==i)return{changed:!1,useMaterialColor:null==this._markerColor};const a=r.diff.color,s=null!=a,n=s?a.newValue:null,o=null==n&&null==this._markerColor;n&&T(this._getCombinedOpacityAndColor(n),i,e);const l=r.diff.style?.newValue;return l&&e.symbolLayerStatePatches.push((()=>i.setParameters({markerPrimitive:(0,_lineUtils_js__WEBPACK_IMPORTED_MODULE_12__.parseLineMarkerStyle)(l)}))),delete t.marker,{changed:s,useMaterialColor:o}}}function I(e){switch(e.type){case"extent":if(e instanceof _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_22__["default"])return _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_23__["default"].fromExtent(e);break;case"polygon":case"polyline":return e}return null}function T(e,t,r){null!=t&&r.symbolLayerStatePatches.push((()=>t.setParameters({color:e})))}var F,H;V.elevationModeChangeTypes={definedChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.SymbolUpdateType.RECREATE,staysOnTheGround:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.SymbolUpdateType.NONE,onTheGroundChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_7__.SymbolUpdateType.RECREATE},function(e){e[e.DRAPED=0]="DRAPED",e[e.ELEVATED=1]="ELEVATED"}(F||(F={})),function(e){e[e.Line=0]="Line",e[e.Ring=1]="Ring",e[e.LineWireframe=2]="LineWireframe",e[e.RingWireframe=3]="RingWireframe",e[e.Marker=4]="Marker"}(H||(H={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DLodInstanceGraphicLayer: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3DStateID.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class u{constructor(e,t,i,n){this.graphics3DSymbolLayer=e,this.instanceIndex=t,this.elevationAligner=i,this.elevationContext=n,this.type="lod-instance",this._highlights=new Set,this.alignedSampledElevation=0,this.isElevationSource=!1,this.needsElevationUpdates=!1}initialize(){}setVisibility(e){const{instanceData:t}=this;e!==t.getVisible(this.instanceIndex)&&t.setVisible(this.instanceIndex,e)}destroy(){null!=this.instanceIndex&&(this.instanceData.removeInstance(this.instanceIndex),this.graphics3DSymbolLayer.notifyDestroyGraphicLayer(this))}alignWithElevation(e,t,i){if(this.elevationAligner){(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__.setContextFeature)(this.elevationContext.featureExpressionInfoContext,i);const n=(i,n)=>(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_4__.evaluateElevationInfoAtPoint)(i,e,this.elevationContext,t,n),s=this.elevationAligner(this,this.elevationContext,e.spatialReference,n,t);null!=s&&(this.alignedSampledElevation=s)}}getCenterObjectSpace(e=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)()){return this.instanceData.getCombinedLocalTransform(this.instanceIndex,I),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.t)(e,this._lodRenderer.baseBoundingSphere.center,I)}getBoundingBoxObjectSpace(e=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.create)()){this.instanceData.getCombinedLocalTransform(this.instanceIndex,I);const n=this._lodRenderer.baseBoundingBox;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.empty)(e);for(let s=0;s<8;++s)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.i)(x,1&s?n[3]:n[0],2&s?n[4]:n[1],4&s?n[5]:n[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.t)(x,x,I),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.expandWithVec3)(e,x);return e}computeAttachmentOrigin(e){this.instanceData.getGlobalTransform(this.instanceIndex,I),e.render.origin[0]+=I[12],e.render.origin[1]+=I[13],e.render.origin[2]+=I[14],e.render.num++}async getProjectedBoundingBox(e,i,n,a,o){const c=this.getBoundingBoxObjectSpace(o),g=v,m=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.isPoint)(c)?1:g.length;this.instanceData.getGlobalTransform(this.instanceIndex,I);for(let s=0;s<m;s++){const e=g[s];x[0]=c[e[0]],x[1]=c[e[1]],x[2]=c[e[2]],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.t)(x,x,I),f[3*s]=x[0],f[3*s+1]=x[1],f[3*s+2]=x[2]}if(!e(f,0,m))return null;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.empty)(c);let p=null;this.calculateRelativeScreenBounds&&(p=this.calculateRelativeScreenBounds());for(let t=0;t<3*m;t+=3){for(let e=0;e<3;e++)c[e]=Math.min(c[e],f[t+e]),c[e+3]=Math.max(c[e+3],f[t+e]);p&&n.push({location:f.slice(t,t+3),screenSpaceBoundingRect:p})}if(i&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.center)(c,b),"absolute-height"!==this.elevationContext.mode)){let e;const t=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_6__.demResolutionForBoundingBox)(c,i.service.spatialReference,i);try{e=await i.service.queryElevation(b[0],b[1],a,t,"ground")}catch(u){}null!=e&&(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.offset)(c,0,0,-this.alignedSampledElevation+e)}return c}addObjectState(e){e.stateType===_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_7__.Object3DState.Highlight&&this.addObjectHighlightState(e)}addObjectHighlightState(e){const t=new _webgl_engine_lib_Object3DStateID_js__WEBPACK_IMPORTED_MODULE_8__.Object3DHighlightStateID(e.highlightGroupName);this._addHighlightId(t),e.addExternal((e=>{this._removeHighlightId(e)}),t)}removeObjectState(e){this._highlights.forEach((t=>e.remove(t)))}_addHighlightId(e){this._highlights.add(e),this.instanceData.setHighlight(this.instanceIndex,!0,e.highlightGroupName)}_removeHighlightId(e){this._highlights.delete(e),this.instanceData.setHighlight(this.instanceIndex,this._highlights.size>0,e.highlightGroupName)}get _lodRenderer(){return this.graphics3DSymbolLayer.lodRenderer}get instanceData(){return this._lodRenderer.instanceData}}const f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),b=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),v=[[0,1,2],[3,1,2],[0,4,2],[3,4,2],[0,1,5],[3,1,5],[0,4,5],[3,4,5]],I=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DMeshFillSymbolLayer: function() { return /* binding */ Oe; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "./node_modules/@arcgis/core/geometry/projection.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_projection_projectVectorToPoint_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/projection/projectVectorToPoint.js */ "./node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _geometry_support_MeshComponent_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../geometry/support/MeshComponent.js */ "./node_modules/@arcgis/core/geometry/support/MeshComponent.js");
/* harmony import */ var _geometry_support_MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../geometry/support/MeshMaterialMetallicRoughness.js */ "./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js");
/* harmony import */ var _geometry_support_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../geometry/support/MeshTextureTransform.js */ "./node_modules/@arcgis/core/geometry/support/MeshTextureTransform.js");
/* harmony import */ var _geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../geometry/support/meshVertexSpaceUtils.js */ "./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js");
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ "./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../geometry/support/meshUtils/projection.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/projection.js");
/* harmony import */ var _geometry_support_meshUtils_projectMeshVertexPositions_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../geometry/support/meshUtils/projectMeshVertexPositions.js */ "./node_modules/@arcgis/core/geometry/support/meshUtils/projectMeshVertexPositions.js");
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedPoint.js */ "./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js");
/* harmony import */ var _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../layers/graphics/sources/interfaces.js */ "./node_modules/@arcgis/core/layers/graphics/sources/interfaces.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../glTF/internal/resourceUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js");
/* harmony import */ var _glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../glTF/internal/TextureTransformUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DMeshObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Graphics3DMeshObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _MeshFastUpdateProcessor_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./MeshFastUpdateProcessor.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js");
/* harmony import */ var _support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../support/edgeUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/edgeUtils.js");
/* harmony import */ var _support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../support/symbolColorUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/symbolColorUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../webgl-engine/materials/NativeLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js");
/* harmony import */ var _webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../webgl-engine/materials/pbrUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const Ee=["mesh"];class Oe extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_35__.Graphics3DSymbolLayer{constructor(e,t,r,o){super(e,t,r,o),this._materialInfoCache=new _MeshFastUpdateProcessor_js__WEBPACK_IMPORTED_MODULE_36__.MaterialInfoCache,this._fastUpdateProcessor=new _MeshFastUpdateProcessor_js__WEBPACK_IMPORTED_MODULE_36__.MeshFastUpdateProcessor,this._textures=new Map,this.ensureDrapedStatus(!1)}async doLoad(){_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_39__.debugFlags.DRAW_MESH_GEOMETRY_NORMALS&&(this._debugVertexNormalMaterial=new _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_48__.NativeLineMaterial({color:[1,0,1,1]}),this._debugTangentNormalMaterial=new _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_48__.NativeLineMaterial({color:[1,.5,0,1]}),this._debugFaceNormalMaterial=new _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_48__.NativeLineMaterial({color:[0,1,1,1]}))}destroy(){super.destroy(),this._textures.forEach((e=>e.unload())),this._context.stage.removeMany(this._materialInfoCache.materials),this._context.stage.removeMany(Array.from(this._textures.values())),this._materialInfoCache.clear(),this._textures.clear(),this._fastUpdateProcessor.destroy(this._context.stage)}get materials(){return this._materialInfoCache.materials}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,Ee,"fill on mesh-3d"))return null;const r=this.setGraphicElevationContext(t),o=e.renderingInfo;return this._createAs3DShape(t,o,r,t.uid)}onRemoveGraphic(e){this._fastUpdateProcessor.onRemoveGraphic(e,this._materialInfoCache,this._context)}layerOpacityChanged(e,t){const r=this._getLayerOpacity();this._updateMaterialParameters((e=>{e.material.setParameters({layerOpacity:r});const t=e.material.parameters;this._setMaterialTransparentParameter(t,e),e.material.setParameters({transparent:t.transparent})})),e.forEach((e=>t(e)?.layerOpacityChanged(r,this._context.isAsync)))}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_32__.needsElevationUpdates3D)}slicePlaneEnabledChanged(e,t){return this._updateMaterialParameters((({material:e})=>{e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),e.forEach((e=>t(e)?.slicePlaneEnabledChanged(this._context.slicePlaneEnabled,this._context.isAsync))),!0}physicalBasedRenderingChanged(){const e=this._usePBR();return this._updateMaterialParameters((({material:t})=>t.setParameters({usePBR:e}))),!0}updateTransform(e,t,r,o){if(!e.fastTransformUpdatesAllowed)return!1;const n=e.fastTransformUpdatesEnabled;switch(o){case _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.EnableFastUpdates:if(n)return!0;break;case _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.DisableFastUpdates:if(!n)return!0;break;default:if(!n)return!!this.updateTransform(e,t,r,_layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.EnableFastUpdates)&&(e.autoDisableFastTransformUpdates((()=>this.updateTransform(e,t,r,_layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.DisableFastUpdates))),!0)}const a=this._context.renderCoordsHelper.spatialReference,s=ot,{origin:i,transform:l}=r;if(!(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_12__.computeTranslationToOriginAndRotation)(t,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(Xe,i.x,i.y,i.z??0),s,a))return!1;switch(o){case _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.EnableFastUpdates:this._fastUpdateProcessor.enable(e,this._materialInfoCache,this._context);break;case _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.DisableFastUpdates:this._fastUpdateProcessor.disable(e,this._materialInfoCache,this._context);break;case _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.UpdateFastLocalOrigin:e.updateFastLocalOrigin(s,l,this._context.localOriginFactory)}const{elevationContext:c}=e;c.centerPointInElevationSR=this._getCenterPointInElevationSR(s);const{elevationProvider:u,renderCoordsHelper:m}=this._context,f=(e,t)=>(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_32__.evaluateElevationInfoAtPoint)(e,u,c,m,t);return e.alignedSampledElevation=(0,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_31__.perObjectElevationAligner)(e,c,u.spatialReference,f,m,s),e.updateTransform(s,l,this._context.isAsync),e.updateAutoDisableFastTransformUpdates((()=>this.updateTransform(e,t,r,_layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_27__.MeshTransformUpdateAction.DisableFastUpdates))),!0}_requiresSymbolVertexColors(){return this._drivenProperties.color||this._drivenProperties.opacity}_materialPropertiesDefault(e,t){const r=this._requiresSymbolVertexColors(),o=!!e.vertexAttributes.color,n=!!e.vertexAttributes.tangent;return{hasSymbolVertexColors:r,hasVertexColors:o,hasVertexTangents:n,uid:`vc:${o},vt:${n},vct${t},svc:${r}`}}_materialProperties(e,t,r){const o=this._materialPropertiesDefault(e,r);if(!t.material)return o;const{color:n,colorTexture:a,colorTextureTransform:s,normalTexture:i,normalTextureTransform:l,doubleSided:c,alphaCutoff:u,alphaMode:m}=t.material,f=We(n),p=We(a),h=Ye(s),d=We(i),g=Ye(l);if(o.color=n,o.colorTexture=a,o.normalTexture=i,o.uid=`${o.uid},cmuid:${f},ctmuid:${p},cttuid:${h},ntmuid:${d},nttuid:${g},ds:${c},ac:${u},am:${m}`,t.material instanceof _geometry_support_MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_19__["default"]){const{metallic:e,roughness:r,metallicRoughnessTexture:n,metallicRoughnessTextureTransform:a,emissiveColor:i,emissiveTexture:c,emissiveTextureTransform:u,occlusionTexture:m,occlusionTextureTransform:f}=t.material,p=We(n),h=Ye(a),d=We(i),g=We(c),x=Ye(u),_=We(m),T=Ye(f);o.metallic=e,o.roughness=r,o.metallicRoughnessTexture=n,o.emissiveColor=i,o.emissiveTexture=c,o.occlusionTexture=m,o.colorTextureTransform=Ve(s),o.normalTextureTransform=Ve(l),o.emissiveTextureTransform=Ve(u),o.occlusionTextureTransform=Ve(f),o.metallicRoughnessTextureTransform=Ve(a),o.uid=`${o.uid},mrm:${e},mrr:${r},mrt:${p},mrtt:${h},emuid:${d},etmuid:${g},ett:${x},otmuid:${_},ott:${T}`}return o}_getInternalTextureId(e){const t=this._getInternalTexture(e,_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.Opaque);return t?.id}_getInternalTexture(e,t){const r=ze(e);if(!r)return null;const o=`${e.contentHash}/${t}`;let n=this._textures.get(o);if(!n){let a=null;const s=this._context.stage.renderView.renderingContext.parameters.maxMaxAnisotropy,i={wrap:$e(e.wrap),noUnpackFlip:!0,maxAnisotropy:s,mipmap:s>1};(0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_29__.isEncodedMeshTexture)(r)?(a=r.data,i.preMultiplyAlpha=!1,i.encoding=r.encoding):(a=r,i.preMultiplyAlpha=t!==_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.Opaque,i.downsampleUncompressed=this._context.graphicsCoreOwner.view.qualitySettings.graphics3D.uncompressedTextureDownsamplingEnabled),n=new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_45__.Texture(a,i),this._textures.set(o,n),n.load(this._context.stage.renderView.renderingContext),this._context.stage.add(n),n.events.on("unloaded",(()=>{this._textures.delete(o)}))}return n}_setInternalMaterialTextureParameters(t,r){if(null!=t.colorTexture){const e=this._getInternalTexture(t.colorTexture,r.textureAlphaMode);e?(r.textureId=e.id,r.textureAlphaPremultiplied=!!e.parameters.preMultiplyAlpha):r.textureId=void 0}t.normalTexture&&(r.normalTextureId=this._getInternalTextureId(t.normalTexture)),t.emissiveColor&&(r.emissiveFactor=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(t.emissiveColor)),t.emissiveTexture&&(r.emissiveTextureId=this._getInternalTextureId(t.emissiveTexture)),t.occlusionTexture&&(r.occlusionTextureId=this._getInternalTextureId(t.occlusionTexture)),t.metallicRoughnessTexture&&(r.metallicRoughnessTextureId=this._getInternalTextureId(t.metallicRoughnessTexture))}_setInternalMaterialParameters(e,t){null!=e.color&&qe(e.color,t),this._setInternalMaterialTextureParameters(e,t),t.colorTextureTransformMatrix=(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTransformMatrix)(e.colorTextureTransform),t.normalTextureTransformMatrix=(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTransformMatrix)(e.normalTextureTransform);const r=null!=e.normalTextureTransform?.scale?e.normalTextureTransform?.scale:_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.ONES;t.scale=[r[0],r[1]],t.occlusionTextureTransformMatrix=(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTransformMatrix)(e.occlusionTextureTransform),t.emissiveTextureTransformMatrix=(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTransformMatrix)(e.emissiveTextureTransform),t.metallicRoughnessTextureTransformMatrix=(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_30__.getTransformMatrix)(e.metallicRoughnessTextureTransform)}_setExternalMaterialParameters(t){const r=this._drivenProperties.color;let o=this.symbolLayer.material?.colorMixMode??null;if(r)t.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.ONES;else{const r=this.symbolLayer.material?.color??null;r?t.externalColor=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(r):(o=null,t.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_10__.ONES)}o&&(t.colorMixMode=o),t.castShadows=!!this.symbolLayer.castShadows}_getOrCreateMaterial(t,r){const o=r.material?.color,n=r.material?.colorTexture,a=r.material?.alphaMode,s="blend"===a,i=!("opaque"===a)&&(ke(t)||null!=o&&o.a<1||n?.transparent||s),l=this._materialProperties(t,r,i),c=this._materialInfoCache.byUid(l.uid);if(c)return this._setInternalMaterialTextureParameters(l,c.material.parameters),c.material;const u={uid:l.uid,material:null,isComponentTransparent:i,alphaMode:r.material?r.material.alphaMode:"opaque"},m=(0,_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_49__.useSchematicPBR)({normalTexture:l.normalTexture,metallicRoughnessTexture:l.metallicRoughnessTexture,metallicFactor:l.metallic,roughnessFactor:l.roughness,emissiveTexture:l.emissiveTexture,emissiveFactor:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(l.emissiveColor),occlusionTexture:l.occlusionTexture}),f={usePBR:this._usePBR(),isSchematic:m,hasVertexColors:l.hasVertexColors,hasSymbolColors:l.hasSymbolVertexColors,hasVertexTangents:l.hasVertexTangents,ambient:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.ZEROS,diffuse:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.ONES,opacity:1,doubleSided:!0,doubleSidedType:"winding-order",cullFace:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.CullFaceOptions.None,layerOpacity:this._getLayerOpacity(),hasSlicePlane:this._context.slicePlaneEnabled,initTextureTransparent:!0};f.mrrFactors=m?_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_49__.schematicMRRFactors:[l.metallic,l.roughness,_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_49__.advancedMRRFactors[2]],r.material&&(f.doubleSided=r.material.doubleSided,f.cullFace=r.material.doubleSided?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.CullFaceOptions.Back,f.textureAlphaCutoff=r.material.alphaCutoff),this._setExternalMaterialParameters(f),this._setMaterialTransparentParameter(f,u),this._setInternalMaterialParameters(l,f);const p=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_47__.DefaultMaterial(f,this._context);return u.material=p,this._materialInfoCache.set(l.uid,u),this._context.stage.add(p),p}_usePBR(){return this._context.physicalBasedRenderingEnabled}_setMaterialTransparentParameter(e,t){e.transparent=this.needsDrivenTransparentPass||t.isComponentTransparent||e.layerOpacity<1||e.opacity<1||e.externalColor&&e.externalColor[3]<1,"auto"===t.alphaMode?e.textureAlphaMode=e.transparent?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.MaskBlend:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.Opaque:e.textureAlphaMode="opaque"===t.alphaMode?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.Opaque:"mask"===t.alphaMode?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.Mask:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_41__.AlphaDiscardMode.Blend}_createFaceDebugNormals(e,t){const o=t.length,a=e.spatialReference.isGeographic?20015077/180:1,s=.1*Math.max(e.extent.width*a,e.extent.height*a,e.extent.zmax-e.extent.zmin),i=[],l=[],c=t[0].transformation,u=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_3__.normalFromMat4)((0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),c);for(let r=0;r<o;r++){const e=t[r].attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.POSITION);if(!e)continue;const o=e.data,n=e.indices;for(let t=0;t<n.length;t+=3)Ge(o,n,t,tt),De(o,n,t,Xe,Ze,et),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.g)(Xe,Xe,Ze),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.g)(Xe,Xe,et),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.h)(Xe,Xe,1/3),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Xe,Xe,c),i.push(...Xe),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.q)(tt,tt,u),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.n)(tt,tt),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.b)(Xe,Xe,tt,s),i.push(...Xe),l.push(l.length),l.push(l.length)}return i.length?new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_43__.Geometry(this._debugFaceNormalMaterial,[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(i,l,3,!0)]],null,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_42__.ContentObjectType.Line):null}_createPerVertexDebugVectors(e,t,a,s,i){const l=t.length,c=e.spatialReference.isGeographic?20015077/180:1,u=.1*i*Math.max(e.extent.width*c,e.extent.height*c,e.extent.zmax-e.extent.zmin),m=[],f=[],h=t[0].transformation,d=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_3__.normalFromMat4)((0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),h);a===_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.TANGENT&&(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_3__.fromMat4)(d,h);for(let r=0;r<l;r++){const e=t[r],o=e.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.POSITION),n=e.attributes.get(a);if(!o||!n)continue;const s=o.data,i=o.indices,l=n.data,c=n.indices;for(let t=0;t<i.length;t++){const e=3*i[t],r=c[t]*n.stride;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(Xe,s[e+0],s[e+1],s[e+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(Xe,Xe,h),m.push(...Xe),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(Ze,l[r+0],l[r+1],l[r+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.q)(Ze,Ze,d),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.n)(Ze,Ze),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.b)(Xe,Xe,Ze,u),m.push(...Xe),f.push(f.length),f.push(f.length)}}return m.length?new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_43__.Geometry(s,[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(m,f,3,!0)]],null,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_42__.ContentObjectType.Line):null}_createAs3DShape(e,t,r,o){const n=e.geometry;if("mesh"!==n.type)return null;const a=this._createGeometryInfo(n,t,o);if(null==a)return null;const{geometries:s,objectTransformation:i}=a;if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_39__.debugFlags.DRAW_MESH_GEOMETRY_NORMALS){const e=this._createPerVertexDebugVectors(n,s,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.NORMAL,this._debugVertexNormalMaterial,1),t=this._createPerVertexDebugVectors(n,s,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.TANGENT,this._debugTangentNormalMaterial,.5),r=this._createFaceDebugNormals(n,s);e&&s.push(e),t&&s.push(t),r&&s.push(r)}const l=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_44__.Object3D({geometries:s,layerUid:this._context.layer.uid,graphicUid:o,isElevationSource:!0});l.transformation=i;const c=(0,_support_edgeUtils_js__WEBPACK_IMPORTED_MODULE_37__.createMaterial)(this.symbolLayer,{opacity:this._getLayerOpacity()}),u=c?new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_34__.Object3DEdgeState(s[0].material,c,this._context.slicePlaneEnabled):null,m=new _Graphics3DMeshObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_33__.Graphics3DMeshObject3DGraphicLayer(this,l,s,null,null,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_31__.perObjectElevationAligner,r,u);this._fastUpdateProcessor.onAddGraphic(),m.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_32__.needsElevationUpdates3D)(r.mode),m.useObjectOriginAsAttachmentOrigin=!0,m.fastTransformUpdatesAllowed=this._fastTransformUpdatesAllowed(n),r.centerPointInElevationSR=this._getCenterPointInElevationSR(l.transformation);const{elevationProvider:f,renderCoordsHelper:p}=this._context,h=(e,t)=>(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_32__.evaluateElevationInfoAtPoint)(e,f,r,p,t);return m.alignedSampledElevation=(0,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_31__.perObjectElevationAligner)(m,r,f.spatialReference,h,p),m}_fastTransformUpdatesAllowed(e){const{vertexSpace:t,spatialReference:r}=e;if(!(0,_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_21__.isRelativeVertexSpace)(t))return!1;const{type:o}=t,{view:n}=this._context.graphicsCoreOwner,{viewingMode:a}=n.state,s=n.spatialReference;return a===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_28__.ViewingMode.Global&&"local"===o||a===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_28__.ViewingMode.Local&&(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.equals)(s,r)&&"georeferenced"===o&&!r.isGeographic}_getCenterPointInElevationSR(e){const t=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_26__.makeDehydratedPoint)(0,0,0,null!=this._context.elevationProvider.spatialReference?this._context.elevationProvider.spatialReference:null);return (0,_geometry_projection_projectVectorToPoint_js__WEBPACK_IMPORTED_MODULE_14__.projectVectorToPoint)([e[12],e[13],e[14]],this._context.renderCoordsHelper.spatialReference,t),t}_passthroughReprojectionInfo(e){return e.reprojection===st.NONE&&!!e.objectTransformation}_createPositionBuffer(e,t){const r=e.vertexAttributes.position;let o=r,n=null;if(t.reprojection===st.NONE)return{position:o,georeferencedPositionBuffer:n};const a=t.reprojection===st.RENDER?t.transformBeforeProject:null;a&&(o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_23__.t)(new Float64Array(o.length),o,a));const{normal:s,tangent:i}=e.vertexAttributes;this._passthroughReprojectionInfo(t)||!s&&!i||(n=o);const l=o===r||o===n?new Float64Array(o.length):o;return (0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_13__.projectBuffer)(o,e.spatialReference,0,l,this._context.renderCoordsHelper.spatialReference,0),{position:l,georeferencedPositionBuffer:n}}_createNormalBuffer(e,t,r,o){const n=e.vertexAttributes.normal;if(null==n)return null;let a=n;const s=o.reprojection===st.RENDER?o.transformBeforeProject:null;s&&(a=(0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformNormal)(a,new Float32Array(a.length),s));const i=this._context.graphicsCoreOwner.view.viewingMode;if(o.reprojection===st.NONE)return a;if("local"===i){if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.isPlateCarree)(this._context.renderCoordsHelper.spatialReference))return a;if(null==r)return null;if(e.spatialReference.isGeographic){const e=a===n?new Float32Array(a.length):a;return (0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformVectorENUPlateCarree)(a,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.VectorType.NORMAL,r,e)}if(e.spatialReference.isWebMercator){const e=a===n?new Float32Array(a.length):a;return (0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformVectorWMPlateCarree)(a,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.VectorType.NORMAL,r,e)}return a}if(null==r)return null;const l=a===n?new Float32Array(a.length):a,c=this._context.renderCoordsHelper.spatialReference;return (0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.projectNormalToPCPF)(a,r,e.spatialReference,t,c,l)}_createTangentBuffer(e,t,r,o){const n=e.vertexAttributes.tangent;if(null==n)return null;let a=n;const s=o.reprojection===st.RENDER?o.transformBeforeProject:null;s&&(a=(0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformTangent)(a,new Float32Array(a.length),s));const i=this._context.graphicsCoreOwner.view.viewingMode;if(o.reprojection===st.NONE)return a;if("local"===i){if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.isPlateCarree)(this._context.renderCoordsHelper.spatialReference))return a;if(null==r)return null;if(e.spatialReference.isGeographic){const e=a===n?new Float32Array(a.length):a;return (0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformVectorENUPlateCarree)(a,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.VectorType.TANGENT,r,e)}if(e.spatialReference.isWebMercator){const e=a===n?new Float32Array(a.length):a;return (0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformVectorWMPlateCarree)(a,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.VectorType.TANGENT,r,e)}return a}if(null==r)return null;const l=a===n?new Float32Array(a.length):a,c=this._context.renderCoordsHelper.spatialReference;return (0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.projectTangentToPCPF)(a,r,e.spatialReference,t,c,l)}_createSymbolColorBuffer(e){if(this._requiresSymbolVertexColors()){const t=this._getVertexOpacityAndColor(e),r=(0,_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_38__.parseColorMixMode)(this.symbolLayer?.material?.colorMixMode),o=new Uint8Array(4);return (0,_support_symbolColorUtils_js__WEBPACK_IMPORTED_MODULE_38__.encodeSymbolColor)(t,r,o),o}return null}_createBuffers(e,t){const r=e.vertexAttributes&&e.vertexAttributes.position;if(!r)return this.logger.warn("Mesh geometry must contain position vertex attributes"),null;const o=e.vertexAttributes.normal,n=e.vertexAttributes.uv,a=e.vertexAttributes.tangent;if(o&&o.length!==r.length)return this.logger.warn("Mesh normal vertex buffer must contain the same number of elements as the position buffer"),null;if(a&&a.length/4!=r.length/3)return this.logger.warn("Mesh tangent vertex buffer must contain the same number of elements as the position buffer"),null;if(n&&n.length/2!=r.length/3)return this.logger.warn("Mesh uv vertex buffer must contain the same number of elements as the position buffer"),null;const s=this._computeReprojectionInfo(e),{position:i,georeferencedPositionBuffer:l}=this._createPositionBuffer(e,s),u=Je(e),m=this._createSymbolColorBuffer(t),f=this._createNormalBuffer(e,i,l,s),p=this._createTangentBuffer(e,i,l,s),h=n,{transformation:d,position:g,normal:x,tangent:_}=this._passthroughReprojectionInfo(s)?{transformation:s.objectTransformation,position:i,normal:f,tangent:p}:this._transformOriginLocal(e,i,f,p);return{positionBuffer:g,normalBuffer:x,tangentBuffer:_,uvBuffer:h,colorBuffer:u,symbolColorBuffer:m,objectTransformation:d,geometryTransformation:s.reprojection===st.NONE&&s.geometryTransformation?s.geometryTransformation:(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)()}}_computeReprojectionInfo(e){const{vertexSpace:t}=e,r="georeferenced"===t.type?(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_22__.equals)(this._context.renderCoordsHelper.spatialReference,e.spatialReference)?st.NONE:st.RENDER:st.NONE;if((0,_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_21__.isAbsoluteVertexSpace)(t))return{reprojection:r};const o=t.origin,n=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),i=e.transform?.localMatrix??_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.IDENTITY;if(r===st.NONE){(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_12__.computeTranslationToOriginAndRotation)(e.spatialReference,o,n,this._context.renderCoordsHelper.spatialReference);return{reprojection:r,objectTransformation:n,geometryTransformation:(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.clone)(i)}}const l=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.fromTranslation)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),o);return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.multiply)(l,l,i),{reprojection:r,transformBeforeProject:l}}_transformOriginLocal(e,t,r,o){const n=this._context.renderCoordsHelper.spatialReference,a=e.origin;Qe[0]=a.x,Qe[1]=a.y,Qe[2]=a.z??0;const s=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)();(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_12__.computeTranslationToOriginAndRotation)(e.spatialReference,Qe,s,n),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.invert)(rt,s);const{position:l,normal:u,tangent:m}=e.vertexAttributes,f=t===l?new Float64Array(t.length):t;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_23__.t)(f,t,rt);const p=r?r===u?new Float32Array(r.length):r:null,h=o?o===m?new Float32Array(o.length):o:null;return r&&p&&(0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformNormal)(r,p,rt),o&&h&&(0,_geometry_support_meshUtils_projection_js__WEBPACK_IMPORTED_MODULE_24__.transformTangent)(o,h,rt),{transformation:s,position:f,normal:p,tangent:h}}_validateFaces(e,t){const r=e.vertexAttributes.position.length/3,o=t.faces;if(o){let e=-1;for(let t=0;t<o.length;t++){const r=o[t];r>e&&(e=r)}if(r<=e)return this.logger.warn(`Vertex index ${e} is out of bounds of the mesh position buffer`),!1}else if(r%3!=0)return this.logger.warn("Mesh position buffer length must be a multiple of 9 if no component faces are defined (3 values per vertex * 3 vertices per triangle)"),!1;return!0}_isOutsideClippingArea(e){if(!this._context.clippingExtent)return!1;const t=e.vertexAttributes?.position;if(!t)return!1;const r=this._context.elevationProvider.spatialReference,o=(0,_geometry_support_meshUtils_projectMeshVertexPositions_js__WEBPACK_IMPORTED_MODULE_25__.projectMeshVertexPositions)(e,r??e.spatialReference);return!!o&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_15__.fromBuffer)(o,nt),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_15__.intersectsClippingArea)(nt,this._context.clippingExtent))}_createGeometryInfo(e,t,r){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_11__.canProjectWithoutEngine)(e.spatialReference,this._context.renderCoordsHelper.spatialReference))return this.logger.warn("Geometry spatial reference is not compatible with the view"),null;if(!this._validateVertexSpace(e))return null;if(this._isOutsideClippingArea(e))return null;const o=this._createBuffers(e,t);if(null==o)return null;const{positionBuffer:n,uvBuffer:a,colorBuffer:s,symbolColorBuffer:i,normalBuffer:c,tangentBuffer:u,objectTransformation:m,geometryTransformation:f}=o,p=Le(e),h=new Array;let d=!1;const g=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_5__.getTranslation)(Xe,m),x=this._context.localOriginFactory.getOrigin(g);for(const l of p){if(!this._validateFaces(e,l))return null;const t=Ne(e,l);if(0===t.length)continue;const o=Se(n,c,l,t);o.didFlipNormals&&(d=!0);const m=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(n,t,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(o.normals,o.indices,3,!0)]];s&&m.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(s,t,4,!0)]),i&&m.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.SYMBOLCOLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(i,(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_17__.getZeroIndexArray)(t.length),4,!0)]),a&&m.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(a,t,2,!0)]),u&&m.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_46__.VertexAttribute.TANGENT,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_40__.Attribute(u,t,4,!0)]);const p=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:r,layerUid:this._context.layer.uid}),g=this._getOrCreateMaterial(e,l),_=new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_43__.Geometry(g,m,null,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_42__.ContentObjectType.Mesh,p);_.transformation=f,_.localOrigin=x,h.push(_)}return d&&this.logger.warn("Normals have been automatically flipped to be consistent with the counter clock wise face winding order. It is better to generate mesh geometries that have consistent normals."),{geometries:h,objectTransformation:m}}_updateMaterialParameters(e){this._materialInfoCache.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachMaterialInfo(e),this._fastUpdateProcessor.forEachClonedMaterial(((e,t)=>{t.setParameters(e.parameters)}))}_validateVertexSpace(e){const{_context:{graphicsCoreOwner:{view:{state:{viewingMode:t}}}}}=this,{vertexSpace:r}=e;return t!==_ViewingMode_js__WEBPACK_IMPORTED_MODULE_28__.ViewingMode.Local||"local"!==r.type||(this.logger.warn("Displaying a mesh with a local vertex space in a view in local viewing mode is not supported."),!1)}test(){return{...super.test(),materials:this._materialInfoCache.materials}}}class Ie{constructor(e,t,r){this.normals=e,this.indices=t,this.didFlipNormals=r}}function Ne(e,t){return t.faces??(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_17__.getContinuousIndexArray)(e.vertexAttributes.position.length/3)}function Se(e,t,r,o){switch(r.shading||"flat"){default:case"source":return Be(e,t,r,o);case"flat":return Ue(e,o);case"smooth":return Fe(e,o)}}function Ue(e,t){const r=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_16__.newFloatArray)(t.length),o=new Array(3*t.length);for(let n=0;n<t.length;n+=3){const a=Ge(e,t,n,tt);for(let e=0;e<3;e++)r[n+e]=a[e],o[n+e]=n/3}return new Ie(r,o,!1)}function Be(e,t,r,o){if(null==t)return Ue(e,o);let n=!1;if(!r.trustSourceNormals)for(let a=0;a<o.length;a+=3){Ge(e,o,a,tt);for(let e=0;e<3;e++){const r=3*o[a+e];Xe[0]=t[r],Xe[1]=t[r+1],Xe[2]=t[r+2],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.f)(tt,Xe)<0&&(t[r]=-t[r],t[r+1]=-t[r+1],t[r+2]=-t[r+2],n=!0)}}return new Ie(t,o,n)}function Fe(e,t){const r={};for(let a=0;a<t.length;a+=3){const o=Ge(e,t,a,tt);for(let e=0;e<3;e++){const n=t[a+e];let s=r[n];s||(s={normal:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),count:0},r[n]=s),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.g)(s.normal,s.normal,o),s.count++}}const o=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_16__.newFloatArray)(3*t.length),n=new Array(3*t.length);for(let a=0;a<t.length;a++){const e=r[t[a]];1!==e.count&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.n)(e.normal,e.normal),e.count=1);for(let t=0;t<3;t++)o[3*a+t]=e.normal[t];n[a]=a}return new Ie(o,n,!1)}function De(e,t,r,o,n,a){const s=3*t[r],i=3*t[r+1],l=3*t[r+2];o[0]=e[s],o[1]=e[s+1],o[2]=e[s+2],n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],a[0]=e[l],a[1]=e[l+1],a[2]=e[l+2]}function Ge(e,t,r,o){return De(e,t,r,Xe,Ze,et),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.d)(Ze,Ze,Xe),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.d)(et,et,Xe),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.e)(Xe,Ze,et),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.n)(o,Xe),o}function Le(e){return e.components??at}function Ve(e){if(!e)return null;const{scale:r,offset:o,rotation:n}=e;return{scale:r,offset:o,rotation:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__.deg2rad)(n)}}function $e(e="repeat"){if("string"==typeof e){const t=He(e);return{s:t,t}}return{s:He(e.horizontal),t:He(e.vertical)}}function He(e){switch(e){case"clamp":return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_50__.TextureWrapMode.CLAMP_TO_EDGE;case"mirror":return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_50__.TextureWrapMode.MIRRORED_REPEAT;default:return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_50__.TextureWrapMode.REPEAT}}function ke(e){const t=e.vertexAttributes.color;if(null==t)return!1;for(let r=3;r<t.length;r+=4)if(255!==t[r])return!0;return!1}function qe(t,r){r.diffuse=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(t),r.opacity=t.a}function ze(e){return e.data??e.url}function We(t){return null==t?"-":t instanceof _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]?t.toHex():t.contentHash}function Ye(e){const{offset:t,scale:r,rotation:o}=e??Ke;return`${t[0]},${t[1]},${o},${r[0]},${r[1]}`}function Je(e){return e.vertexAttributes.color}const Ke=new _geometry_support_MeshTextureTransform_js__WEBPACK_IMPORTED_MODULE_20__["default"],Qe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),Xe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),Ze=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),et=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),tt=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),rt=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),ot=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),nt=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_15__.create)(),at=[new _geometry_support_MeshComponent_js__WEBPACK_IMPORTED_MODULE_18__["default"]];var st;!function(e){e[e.NONE=0]="NONE",e[e.RENDER=1]="RENDER"}(st||(st={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DMeshObject3DGraphicLayer.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DMeshObject3DGraphicLayer: function() { return /* binding */ p; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _meshAutoFastUpdateConstants_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./meshAutoFastUpdateConstants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/meshAutoFastUpdateConstants.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class p extends _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_7__.Graphics3DObject3DGraphicLayer{constructor(){super(...arguments),this.fastTransformUpdatesAllowed=!1,this._originalGeometries=[],this._fastTransformUpdatesEnabled=!1,this._autoDisableFastUpdatesTimeoutId=0}get fastTransformUpdatesEnabled(){return this._fastTransformUpdatesEnabled}destroy(){super.destroy(),this._cancelAutoDisableFastUpdates()}enableFastTransformUpdates(e,a){if(!this.fastTransformUpdatesAllowed||this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!0;const{stageObject:s}=this,r=s.geometries.slice();s.removeAllGeometries();const i=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.getTranslation)(g,s.transformation),o=a.getOrigin(i);for(const t of r){const a=e(t.material),r=t.instantiate({material:a});r.localOrigin=o,s.addGeometry(r)}this._originalGeometries=r}autoDisableFastTransformUpdates(t){this._cancelAutoDisableFastUpdates(),this._autoDisableFastUpdatesTimeoutId=setTimeout((()=>{this._autoDisableFastUpdatesTimeoutId=0,t()}),_meshAutoFastUpdateConstants_js__WEBPACK_IMPORTED_MODULE_8__.meshAutoFastUpdateConstants.disableDelayMs)}updateAutoDisableFastTransformUpdates(t){this._autoDisableFastUpdatesTimeoutId&&this.autoDisableFastTransformUpdates(t)}_cancelAutoDisableFastUpdates(){clearTimeout(this._autoDisableFastUpdatesTimeoutId),this._autoDisableFastUpdatesTimeoutId=0}disableFastTransformUpdates(t){if(!this._fastTransformUpdatesEnabled)return;this._cancelAutoDisableFastUpdates(),this._fastTransformUpdatesEnabled=!1;const{stageObject:e}=this,a=e.geometries.map((e=>t(e.material)));e.removeAllGeometries();for(let s=0;s<this._originalGeometries.length;s++){const t=this._originalGeometries[s],r=a[s];r.setParameters({modelTransformation:null}),r===t.material?e.addGeometry(t):e.addGeometry(t.instantiate({material:r}))}this._originalGeometries.length=0}updateFastLocalOrigin(e,a,s){if(!this._fastTransformUpdatesEnabled)return;const{stageObject:r}=this;if(0===r.geometries.length)return;const o=r.geometries[0].localOrigin,n=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.getTranslation)(g,e),m=s.getOrigin(n);if(m===o)return;const l=a?.localMatrix??_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.IDENTITY;r.shaderTransformation=null,r.transformation=e,r.geometries.forEach((t=>{t.transformation=l,t.localOrigin=m}))}updateTransform(t,s,r){const{stageObject:o}=this,n=s?.localMatrix??_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.IDENTITY;if(!this._fastTransformUpdatesEnabled)return o.shaderTransformation=null,o.transformation=t,o.geometries.forEach((t=>t.transformation=n)),void this._updateEdgeTransform(r);const m=o.transformation,l=o.geometries[0].transformation,f=t,d=n,c=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(u,m,l),h=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(T,f,d),p=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(_,h,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.invert)(_,l));o.shaderTransformation=p,this._setFastMaterialTransformation({matA:c,matB:h}),this._updateEdgeTransform(r)}alignWithElevation(t,a,r,i){if(!this._fastTransformUpdatesEnabled)return void super.alignWithElevation(t,a,r,i);null!=r&&(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_6__.setContextFeature)(this.elevationContext.featureExpressionInfoContext,r);const o=(e,s)=>(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_5__.evaluateElevationInfoAtPoint)(e,t,this.elevationContext,a,s),{stageObject:n}=this;if(!n.geometries[0].material.parameters.modelTransformation)return;const m=n.transformation,c=n.geometries[0].transformation,h=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(u,m,c),p=n.effectiveTransformation,g=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.copy)(b,p);this.alignedSampledElevation=(0,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_4__.perObjectElevationAligner)(this,this.elevationContext,t.spatialReference,o,a,g),n.shaderTransformation=g;const _=n.geometries[0].transformation,U=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(T,g,_);this._setFastMaterialTransformation({matA:h,matB:U}),this._updateEdgeTransform(i)}_setFastMaterialTransformation({matA:t,matB:s}){const{stageObject:i}=this;if(0===i.geometries.length)return;const o=i.geometries[0].localOrigin,m=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.fromTranslation)(F,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(g,o.vec3,-1)),l=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(U,m,t),f=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(E,m,s),d=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.invert)(U,l),c=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.multiply)(E,f,d);for(const e of i.geometries)e.material.setParameters({modelTransformation:c})}_updateEdgeTransform(t){const{stageObject:e,_stageLayer:a}=this;a.stage.renderer.withEdgeView((a=>{a.fastUpdateObject3DEdgesTransform(e)||this.resetEdgeObject(t)}))}}const g=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),u=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),T=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),b=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),_=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),U=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),E=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),F=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DObjectSymbolLayer: function() { return /* binding */ fe; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/projection/computeTranslationToOriginAndRotation.js */ "./node_modules/@arcgis/core/geometry/projection/computeTranslationToOriginAndRotation.js");
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/projection/projectPointToVector.js */ "./node_modules/@arcgis/core/geometry/projection/projectPointToVector.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _symbols_support_ObjectSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../symbols/support/ObjectSymbol3DLayerResource.js */ "./node_modules/@arcgis/core/symbols/support/ObjectSymbol3DLayerResource.js");
/* harmony import */ var _symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../symbols/support/symbolLayerUtils3D.js */ "./node_modules/@arcgis/core/symbols/support/symbolLayerUtils3D.js");
/* harmony import */ var _defaultSymbolComplexity_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./defaultSymbolComplexity.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/defaultSymbolComplexity.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DLodInstanceGraphicLayer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Graphics3DLodInstanceGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLodInstanceGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Loadable.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Loadable.js");
/* harmony import */ var _lodResourceUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./lodResourceUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js");
/* harmony import */ var _objectResourceUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./objectResourceUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js");
/* harmony import */ var _pointUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./pointUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js");
/* harmony import */ var _primitiveObjectSymbolUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./primitiveObjectSymbolUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/primitiveObjectSymbolUtils.js");
/* harmony import */ var _SymbolComplexity_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./SymbolComplexity.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/SymbolComplexity.js");
/* harmony import */ var _webStyleUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./webStyleUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/webStyleUtils.js");
/* harmony import */ var _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_lib_lodRendering_LodRenderer_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../webgl-engine/lib/lodRendering/LodRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js");
/* harmony import */ var _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../webgl-engine/lib/lodRendering/LodResources.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodResources.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../webgl-engine/materials/pbrUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class ye{constructor(e,t,s,r,i,a,o,n,l,c,h,d){this.lodResources=e,this.lodRenderer=t,this.stageResources=s,this.originalMaterialParameters=r,this.resourceSize=i,this.isEsriSymbolResource=a,this.isWosr=o,this.resourceBoundingBox=n,this.symbolSize=l,this.extentPadding=c,this.physicalBasedRenderingEnabled=h,this.pivotOffset=d}}class fe extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_18__.Graphics3DSymbolLayer{getCachedSize(){const[e,t,s]=null!=this._resources?this._resources.symbolSize:[1,1,1];return{width:e,depth:t,height:s}}constructor(e,t,s,r){super(e,t,s,r),this._resources=null,this._optionalFields=new Array,this._instanceIndexToGraphicUid=new Map,this._hasLoadedPBRTextures=!1,this._disposeResourceHandles=new Array,this.skipHighSymbolLodsChanged=!1,this.ensureDrapedStatus(!1),this._hasLoadedPBRTextures=s.physicalBasedRenderingEnabled}async doLoad(e){if(!this._drivenProperties.size){const e=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_19__.validateSymbolLayerSize)(this.symbolLayer);if(e)throw new Error(e)}if(this._isPrimitive){const t=this.symbolLayer.resource,s=t&&(0,_primitiveObjectSymbolUtils_js__WEBPACK_IMPORTED_MODULE_25__.isValidPrimitive)(t?.primitive)?t.primitive:_symbols_support_ObjectSymbol3DLayerResource_js__WEBPACK_IMPORTED_MODULE_12__.defaultPrimitive;this._resources=await this._createResourcesForPrimitive(s,e)}else{const t=await (0,_webStyleUtils_js__WEBPACK_IMPORTED_MODULE_27__.getResourceUrlFromSymbolStyle)(this.symbol.styleOrigin),s=t?.href??this.symbolLayer.resource?.href;this._resources=await this._createResourcesForUrl(s,e)}this.layerOpacityChanged(),this.slicePlaneEnabledChanged(),this.physicalBasedRenderingChanged(),this.complexity=this.computeComplexity()}get extentPadding(){return null!=this._resources?this._resources.extentPadding:0}get _isPrimitive(){return!this.symbolLayer.resource?.href}get lodRenderer(){return this._resources?.lodRenderer}get materials(){return this._resources?.stageResources.materials??[]}_setMaterialTransparencyParameters(e,t=this.symbolLayer?.material?.color){const s=this._getCombinedOpacity(t),r=s<1||this.needsDrivenTransparentPass;return e.transparent=r,e.opacity=s,e.cullFace=r?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.CullFaceOptions.Back,e}async _createResourcesForPrimitive(t,r){const i=this.symbolLayer,a=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.create)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_13__.objectSymbolLayerPrimitiveBoundingBox)(t)),o=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.size)(a)),n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_13__.objectSymbolLayerSizeWithResourceSize)(o,i)),l=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.l)(n),d=!1,m=!1,p=this.symbolLayer?.material?.emissiveFactor,u=p?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.L)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.clone)(p)):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ZEROS,y={usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0,mrrFactors:_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_35__.schematicMRRFactors,ambient:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ONES,diffuse:_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ONES,hasSlicePlane:this._context.slicePlaneEnabled,hasSliceHighlight:!1,castShadows:this.symbolLayer.castShadows,emissiveFactor:u,offsetTransparentBackfaces:!this.symbolLayer.isPrimitive},P=!!y.usePBR;this._setMaterialTransparencyParameters(y);const R=this.symbol;if("point-3d"===R.type&&R.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=R.verticalOffset;y.verticalOffset={screenLength:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},y.castShadows=!1}if(this._context.screenSizePerspectiveEnabled&&(y.screenSizePerspective=this._context.sharedResources.screenSizePerspectiveSettings),this._drivenProperties.color)y.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.ONES;else{const t=null!=i.material?i.material.color:null,s=null!=t?_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(t):_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.ONES;y.externalColor=s}this._fastUpdates=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.initFastSymbolUpdatesState)(this._context.renderer,this._fastVisualVariableConvertOptions(a,n,o,null)),y.isInstanced=!0,this._fastUpdates?(Object.assign(y,this._fastUpdates.materialParameters),this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(y.hasInstancedColor=!0,this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.COLOR)),(0,_webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_29__.olidEnabled)()&&this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.OBJECTANDLAYERIDCOLOR);const v=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_34__.DefaultMaterial(y,this._context),L=(0,_primitiveObjectSymbolUtils_js__WEBPACK_IMPORTED_MODULE_25__.primitiveLodResources)(t,v);if(!L)throw new Error(`Unknown object symbol primitive: ${t}`);const C=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.materialsFromLodResources)(L).map((e=>({opacity:1,transparent:e.parameters.transparent}))),w=await this._createStageResources(L,P,r),E=await this._createLodRenderer(L,r);return new ye(L,E,w,C,o,d,m,a,n,l,P,null)}async _createResourcesForUrl(e,t){const r={isInstanced:!0,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows},i={spherical:this._context.spherical,doublePrecisionRequiresObfuscation:this._context.doublePrecisionRequiresObfuscation,materialParameters:r,streamDataRequester:this._context.streamDataRequester,cache:this._context.sharedResources.objectResourceCache};this._fastUpdates=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.initFastSymbolUpdatesState)(this._context.renderer,this._fastVisualVariableConvertOptions(null,null,null,null)),this._fastUpdates?(Object.assign(i.materialParameters,this._fastUpdates.materialParameters),this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.FEATUREATTRIBUTE)):this._hasPerInstanceColor()&&(i.materialParameters.hasInstancedColor=!0,this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.COLOR)),(0,_webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_29__.olidEnabled)()&&this._optionalFields.push(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.OBJECTANDLAYERIDCOLOR);const a=this.symbol;if("point-3d"===a.type&&a.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=a.verticalOffset;i.materialParameters.verticalOffset={screenLength:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.pt2px)(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0},i.materialParameters.castShadows=!1}const o=this._context.physicalBasedRenderingEnabled;i.signal=t,i.usePBR=o,i.skipHighLods=this._context.skipHighSymbolLods;const n=await (0,_objectResourceUtils_js__WEBPACK_IMPORTED_MODULE_23__.fetch)(e,i),l=n.isEsriSymbolResource,h=n.isWosr,d=(0,_lodResourceUtils_js__WEBPACK_IMPORTED_MODULE_22__.makeLodResources)(n.lods),m=this._context,p=this.symbolLayer.material,u=this._getExternalColorParameters(p),y=this.symbolLayer?.material?.color,_=this._getCombinedOpacity(y,{hasIntrinsicColor:!0}),g=this.needsDrivenTransparentPass,b=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.materialsFromLodResources)(d),P=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.materialsFromLodResources)(d).map((e=>({opacity:e.parameters.opacity||1,transparent:e.parameters.transparent})));b.forEach((e=>{const t=e.parameters;e.setParameters(u);const s=t.opacity*_,r=s<1||g||t.transparent;e.setParameters({opacity:s,transparent:r}),m.screenSizePerspectiveEnabled&&e.setParameters({screenSizePerspective:m.sharedResources.screenSizePerspectiveSettings})}));const R=n.referenceBoundingBox,x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.size)(R)),v=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)(d.levels[0].pivotOffset),L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_13__.objectSymbolLayerSizeWithResourceSize)(x,this.symbolLayer)),C=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.l)(L),S=this._fastUpdates;(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.updateFastSymbolUpdatesState)(S,this._context.renderer,this._fastVisualVariableConvertOptions(R,L,x,v))&&b.forEach((e=>e.setParameters(S.materialParameters)));const w=await this._createStageResources(d,o,t),E=await this._createLodRenderer(d,t);return new ye(d,E,w,P,x,l,h,R,L,C,o,v)}_addDisposeResource(e){this._disposeResourceHandles.push(e)}async _createStageResources(e,s,r){const i=this._context.stage,a=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.materialsFromLodResources)(e);s!==this._context.physicalBasedRenderingEnabled&&this.physicalBasedRenderingChanged(),i.addMany(a),this._addDisposeResource((()=>i.removeMany(a)));const o=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.texturesFromLodResources)(e);i.addMany(o),this._addDisposeResource((()=>{o.forEach((e=>e.unload())),i.removeMany(o)})),await Promise.all(o.map((e=>this._context.stage.schedule((()=>e.load(i.renderView.renderingContext)),r)))),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(r);const n=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.geometriesFromLodResources)(e);return i.addMany(n),this._addDisposeResource((()=>i.removeMany(n))),{materials:a,textures:o,geometries:n}}async _createLodRenderer(e,t){const s=this._context.stage,r={layerUid:this._context.layer.uid,graphicUid:e=>this._instanceIndexToGraphicUid.get(e),notifyGraphicGeometryChanged:e=>this._context.notifyGraphicGeometryChanged(this._instanceIndexToGraphicUid.get(e)),notifyGraphicVisibilityChanged:e=>this._context.notifyGraphicVisibilityChanged(this._instanceIndexToGraphicUid.get(e))},i=this._fastUpdates,a=i?{applyTransform:(e,t,s)=>{e.getFeatureAttribute(t,xe),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.copy)(s,(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.evaluateModelTransform)(i.materialParameters,xe,s))},scaleFactor:(e,t,s)=>{t.getFeatureAttribute(s,xe),(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.evaluateModelTransformScale)(e,i.materialParameters,xe)}}:null,o=new _webgl_engine_lib_lodRendering_LodRenderer_js__WEBPACK_IMPORTED_MODULE_32__.LodRenderer({symbol:e,optionalFields:this._optionalFields,metadata:r,shaderTransformation:a},this._context.scheduler);return o.slicePlaneEnabled=this._context.slicePlaneEnabled,this._addDisposeResource((()=>{s.removeRenderPlugin(o),o.destroy()})),await s.addRenderPlugin(o,t),o}_getExternalColorParameters(t){const s={};return this._drivenProperties.color?s.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.ONES:null!=t?.color?s.externalColor=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(t.color):(s.externalColor=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.ONES,s.colorMixMode="ignore"),s}destroy(){super.destroy(),this._cleanupResources()}_cleanupResources(){this._disposeResourceHandles.forEach((e=>e())),this._disposeResourceHandles.length=0,this._resources=null}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry))return null;const s=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_24__.placePointOnGeometry)(t.geometry);if(null==s)return this.logger.warn(`unsupported geometry type for object symbol: ${t.geometry.type}`),null;const r=this.setGraphicElevationContext(t),i=e.renderingInfo;return this._createAs3DShape(t,s,i,r,t.uid,e.layer.uid)}notifyDestroyGraphicLayer(e){this._instanceIndexToGraphicUid.delete(e.instanceIndex)}graphicLayerToGraphicId(){return 0}layerOpacityChanged(){if(null==this._resources)return;const e=this._drivenProperties.opacity,t=!this._isPrimitive,s=this._resources.stageResources.materials,r=this._resources.originalMaterialParameters;for(let i=0;i<s.length;i++){const a=s[i],o=this.symbolLayer?.material?.color,n=r[i],l=this._getCombinedOpacity(o,{hasIntrinsicColor:t})*n.opacity,c=l<1||e||n.transparent;a.setParameters({opacity:l,transparent:c}),this._isPrimitive&&a.setParameters({cullFace:c?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_30__.CullFaceOptions.Back})}}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_16__.needsElevationUpdates3D)}slicePlaneEnabledChanged(){if(null==this._resources)return!0;this._resources.lodRenderer.slicePlaneEnabled=this._context.slicePlaneEnabled;for(const e of this._resources.stageResources.materials)e.setParameters({hasSlicePlane:this._context.slicePlaneEnabled});return!0}physicalBasedRenderingChanged(){if(null==this._resources)return!0;const{stageResources:e,isWosr:t}=this._resources;for(const s of e.materials)this._isPrimitive?s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}):t||s.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!1});return!1!==this._hasLoadedPBRTextures||!0!==this._context.physicalBasedRenderingEnabled||(this._hasLoadedPBRTextures=!0,!1)}applyRendererDiff(e,t){if(null==this._resources)return _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ApplyRendererDiffResult.RecreateSymbol;const{stageResources:{materials:s},lodRenderer:r,resourceBoundingBox:i,symbolSize:a,resourceSize:o,pivotOffset:n}=this._resources;for(const l in e.diff){if("visualVariables"!==l)return _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ApplyRendererDiffResult.RecreateSymbol;if(!(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.updateFastSymbolUpdatesState)(this._fastUpdates,t,this._fastVisualVariableConvertOptions(i,a,o,n)))return _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ApplyRendererDiffResult.RecreateSymbol;for(const e of s)e.setParameters(this._fastUpdates.materialParameters);r.notifyShaderTransformationChanged()}return _interfaces_js__WEBPACK_IMPORTED_MODULE_20__.ApplyRendererDiffResult.FastUpdate}computeComplexity(){if(null==this._resources)return super.computeComplexity();const e=this._resources.lodResources,t=(0,_defaultSymbolComplexity_js__WEBPACK_IMPORTED_MODULE_14__.estimateNumVerticesForLods)(e.levels),s=e=>Array.from(e.attributes.values()).reduce(((e,t)=>e+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.estimateSize)(t.data,t.indices)),0),i=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.geometriesFromLodResources)(e).reduce(((e,t)=>e+s(t)),0),a=(0,_webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_33__.texturesFromLodResources)(e).reduce(((e,t)=>e+t.memoryEstimate),0)+i,o={...(0,_defaultSymbolComplexity_js__WEBPACK_IMPORTED_MODULE_14__.defaultSymbolLayerMemoryComplexity)(this.symbol,this.symbolLayer),resourceBytes:a};return new _SymbolComplexity_js__WEBPACK_IMPORTED_MODULE_26__.SymbolComplexity({verticesPerFeature:t,memory:o})}_hasLodRenderer(){return null!=this._resources}_createAs3DShape(e,t,s,r,i,a){if(!this._hasLodRenderer()||null==this._resources)return null;const o=this.getFastUpdateAttrValues(e),n=this._context.clippingExtent;if((0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_10__.projectPointToVector)(t,be,this._context.elevationProvider.spatialReference),null!=n&&!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.containsPoint)(n,be))return null;const l=ge(r),c=this._computeGlobalTransform(t,r,Re,ve),h=this._computeLocalTransform(this._resources,this.symbolLayer,s,Pe),d=this._resources.lodRenderer.instanceData,m=d.addInstance();this._instanceIndexToGraphicUid.set(m,i),d.setLocalTransform(m,h,!1),d.setGlobalTransform(m,c),o&&d.setFeatureAttribute(m,o),null==this._fastUpdates&&this._hasPerInstanceColor()&&d.setColor(m,(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_19__.mixinColorAndOpacity)(s.color,s.opacity,255));const p=this._context.stage.renderView.olidRenderHelper;p&&d.setObjectAndLayerIdColor(m,p.getObjectAndLayerIdColor({graphicUid:i,layerUid:a}));const u=new _Graphics3DLodInstanceGraphicLayer_js__WEBPACK_IMPORTED_MODULE_17__.Graphics3DLodInstanceGraphicLayer(this,m,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_15__.perLodInstanceElevationAligner,r);return l&&(u.alignedSampledElevation=ve.sampledElevation),u.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_16__.needsElevationUpdates3D)(r.mode),(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_24__.extendPointGraphicElevationContext)(u,t,this._context.elevationProvider),u}_computeGlobalTransform(e,t,s,r){return (0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_16__.evaluateElevationInfoAtPoint)(e,this._context.elevationProvider,t,this._context.renderCoordsHelper,r),be[0]=e.x,be[1]=e.y,be[2]=r.z,(0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_9__.computeTranslationToOriginAndRotation)(e.spatialReference,be,s,this._context.renderCoordsHelper.spatialReference),s}_computeLocalTransform(e,t,s,r){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.identity)(r),this._applyObjectRotation(s,!1,r),this._applyObjectRotation(t,!0,r),this._applyObjectScale(e,s,r),this._applyAnchor(e,t,r),r}_applyObjectScale(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=this._drivenProperties.size&&t.size?t.size:e.symbolSize,i=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_19__.computeObjectScale)(r,e.symbolSize,e.resourceSize,this._context.renderCoordsHelper.unitInMeters);1===i[0]&&1===i[1]&&1===i[2]||(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.scale)(s,s,i)}prepareSymbolLayerPatch(e){if("partial"!==e.diff.type)return;const t=e.diff.diff;this._preparePatchTransform(e,t),this._preparePatchColor(e,t)}updateGeometry(e,t){if(null==this._resources)return!0;const s=t&&(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_24__.placePointOnGeometry)(t);if(null==s)return!1;const r=this.getGeometryElevationMode(t);return e.elevationContext.mode===r&&(this._computeGlobalTransform(s,e.elevationContext,Re,ve),ge(e.elevationContext)&&(e.alignedSampledElevation=ve.sampledElevation),this._resources.lodRenderer.instanceData.setGlobalTransform(e.instanceIndex,Re,!0),(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_24__.extendPointGraphicElevationContext)(e,s,this._context.elevationProvider),!0)}_preparePatchTransform(e,t){if(!(t.heading||t.tilt||t.roll||t.width||t.height||t.depth||t.anchor||t.anchorPosition))return;if(null==this._resources)return;const s=(e,t,s)=>(null!=e&&"complete"===e.type?e.newValue:t)??s,r=s(t.heading,this.symbolLayer.heading,0),i=s(t.tilt,this.symbolLayer.tilt,0),a=s(t.roll,this.symbolLayer.roll,0),o=s(t.width,this.symbolLayer.width,void 0),n=s(t.height,this.symbolLayer.height,void 0),l=s(t.depth,this.symbolLayer.depth,void 0),c=s(t.anchor,this.symbolLayer.anchor,void 0),h=s(t.anchorPosition,this.symbolLayer.anchorPosition,void 0);delete t.heading,delete t.tilt,delete t.roll,delete t.width,delete t.height,delete t.depth,delete t.anchor,delete t.anchorPosition;const d={heading:r,tilt:i,roll:a,anchor:c,anchorPosition:h},m=this._resources;this.loadStatus===_Loadable_js__WEBPACK_IMPORTED_MODULE_21__.LoadStatus.LOADED&&e.symbolLayerStatePatches.push((()=>{m.symbolSize=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)((0,_symbols_support_symbolLayerUtils3D_js__WEBPACK_IMPORTED_MODULE_13__.objectSymbolLayerSizeWithResourceSize)(m.resourceSize,{width:o,height:n,depth:l,isPrimitive:this.symbolLayer.isPrimitive}))})),e.graphics3DGraphicPatches.push(((e,t)=>{const s=this._computeLocalTransform(m,d,t,Pe),r=e.instanceIndex;m.lodRenderer.instanceData.setLocalTransform(r,s,!0)}))}_preparePatchColor(t,s){if(!s.material||"partial"!==s.material.type)return;const r=s.material.diff;if(!r.color||"complete"!==r.color.type||null==r.color.newValue||null==r.color.oldValue)return;const i=r.color.newValue,a=null!=i?_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(i):_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.ONES;delete r.color;const o=this._resources;null!=o&&t.graphics3DGraphicPatches.push((e=>{let t;this._hasPerInstanceColor()?(o.lodRenderer.instanceData.setColor(e.instanceIndex,a),t=this._setMaterialTransparencyParameters({},i)):t=this._setMaterialTransparencyParameters({externalColor:a},i);for(const s of o.stageResources.materials)s.setParameters(t)}))}_applyObjectRotation(e,t,s){if(!this._fastUpdates?.requiresShaderTransformation||!t)return (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_19__.computeObjectRotation)(e.heading,e.tilt,e.roll,s)}_applyAnchor(e,t,s){if(this._fastUpdates?.requiresShaderTransformation)return;const r=_e(e.resourceBoundingBox,e.pivotOffset,t);r&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.translate)(s,s,r)}_hasPerInstanceColor(){return this._drivenProperties.color||this._drivenProperties.opacity}_fastVisualVariableConvertOptions(e,t,s,r){const i=null!=e?(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.size)(e)):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ONES,a=null!=e?_e(e,r,this.symbolLayer):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ZEROS,o=this._context.renderCoordsHelper.unitInMeters,n=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_19__.computeObjectScale)(null!=t?t:void 0,t,s,o),l=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromValues)(this.symbolLayer.tilt||0,this.symbolLayer.roll||0,this.symbolLayer.heading||0);return new _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_28__.ConvertOptions({size:!0,color:!0,rotation:!0,opacity:!1},i,t??_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ONES,o,a,n,l)}}function _e(e,t,s){const r=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.create)();switch(s.anchor){case"center":(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.c)(r,(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.center)(e)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.v)(r,r);break;case"top":{const t=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.center)(e);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.i)(r,-t[0],-t[1],-e[5]);break}case"bottom":{const t=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.center)(e);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.i)(r,-t[0],-t[1],-e[2]);break}case"relative":{const t=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.center)(e),i=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_11__.size)(e),a=s.anchorPosition,o=a?(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromValues)(a.x,a.y,a.z):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ZEROS;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.C)(r,i,o),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.g)(r,r,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.v)(r,r);break}default:null!=t?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.v)(r,t):(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.c)(r,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ZEROS)}return r}function ge(e){return"absolute-height"!==e.mode}const be=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),Pe=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),Re=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),xe=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),ve=new _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_16__.SampleElevationInfo;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DPathSymbolLayer: function() { return /* binding */ re; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DPathSymbolLayerConstants_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Graphics3DPathSymbolLayerConstants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayerConstants.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../support/ElevationProvider.js */ "./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_Path_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../webgl-engine/lib/Path.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Path.js");
/* harmony import */ var _webgl_engine_lib_PathBuilder_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/lib/PathBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js");
/* harmony import */ var _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/PathCapBuilder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js");
/* harmony import */ var _webgl_engine_lib_PathExtruder_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../webgl-engine/lib/PathExtruder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js");
/* harmony import */ var _webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl-engine/lib/PathGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js");
/* harmony import */ var _webgl_engine_lib_PathGeometryData_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/lib/PathGeometryData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js");
/* harmony import */ var _webgl_engine_lib_pathGeometryUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl-engine/lib/pathGeometryUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js");
/* harmony import */ var _webgl_engine_lib_PathProfile_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/lib/PathProfile.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js");
/* harmony import */ var _webgl_engine_lib_PathVertex_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/lib/PathVertex.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_PathMaterial_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../webgl-engine/materials/PathMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const ie=["polyline"];class re extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_14__.Graphics3DSymbolLayer{constructor(e,t,i,r){super(e,t,i,r),this._intrinsicSize=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__.fromValues)(1,1),this._upVectorAlignment=_webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.UpVectorAlignment.Path,this._stencilWidth=.1,this.usedMemory=0,this.ensureDrapedStatus(!1)}async doLoad(){const t=null!=this.symbolLayer.width?this.symbolLayer.width:this.symbolLayer.height,i=null!=this.symbolLayer.height?this.symbolLayer.height:t;this._vvConvertOptions=new _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__.ConvertOptions({size:!0,color:!0,rotation:!1,opacity:!0},[1,1,1],[t,1,i],this._context.renderCoordsHelper.unitInMeters);const r=this._context.renderer?.visualVariables;this._fastUpdates=r?.length?(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__.initFastSymbolUpdatesState)(this._context.renderer,this._vvConvertOptions):null;const o=this.symbolLayer.anchor||"center";this._upVectorAlignment="heading"===this.symbolLayer.profileRotation?_webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.UpVectorAlignment.World:_webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.UpVectorAlignment.Path;const h=this.symbolLayer.profile||"circle";switch(h){default:case"circle":this._profile=_webgl_engine_lib_PathProfile_js__WEBPACK_IMPORTED_MODULE_29__.circleProfiles[o];break;case"quad":this._profile=_webgl_engine_lib_PathProfile_js__WEBPACK_IMPORTED_MODULE_29__.quadProfiles[o]}switch(this.symbolLayer.join){case"round":this._extruder=new _webgl_engine_lib_PathExtruder_js__WEBPACK_IMPORTED_MODULE_25__.MiterExtruder(0,_Graphics3DPathSymbolLayerConstants_js__WEBPACK_IMPORTED_MODULE_13__.pathNumRoundJoinSubdivisions);break;case"bevel":this._extruder=new _webgl_engine_lib_PathExtruder_js__WEBPACK_IMPORTED_MODULE_25__.MiterExtruder(0,1);break;case"miter":this._extruder=new _webgl_engine_lib_PathExtruder_js__WEBPACK_IMPORTED_MODULE_25__.MiterExtruder(.8*Math.PI,1);break;default:this._extruder=new _webgl_engine_lib_PathExtruder_js__WEBPACK_IMPORTED_MODULE_25__.SimpleExtruder}const f=this.symbolLayer.cap||"butt";switch(f){case"none":this._startCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.NoCapBuilder,this._endCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.NoCapBuilder;break;case"butt":default:this._startCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.TriangulationCapBuilder(this._profile,0),this._endCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.TriangulationCapBuilder(this._profile,0,!0);break;case"square":this._startCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.TriangulationCapBuilder(this._profile,-.5),this._endCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.TriangulationCapBuilder(this._profile,.5,!0);break;case"round":{const e="quad"===h;this._startCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.RoundCapBuilder({profile:this._profile,flip:!1,breakNormals:e,subdivisions:_Graphics3DPathSymbolLayerConstants_js__WEBPACK_IMPORTED_MODULE_13__.pathNumRoundCapExtrusionSubdivisions}),this._endCap=new _webgl_engine_lib_PathCapBuilder_js__WEBPACK_IMPORTED_MODULE_24__.RoundCapBuilder({profile:this._profile,flip:!0,breakNormals:e,subdivisions:_Graphics3DPathSymbolLayerConstants_js__WEBPACK_IMPORTED_MODULE_13__.pathNumRoundCapExtrusionSubdivisions});break}}const d=this.symbolLayer?.material?.emissiveFactor,u=d?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.L)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.clone)(d)):_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.ZEROS,y=this.symbolLayer?.material?.color,b=this._getCombinedOpacityAndColor(y),g=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.fromArray)(b),_=b[3],v=_<1||this.needsDrivenTransparentPass,x={diffuse:g,ambient:g,emissiveFactor:u,opacity:_,transparent:v,hasVertexColors:!1,hasSlicePlane:this._context.slicePlaneEnabled,castShadows:this.symbolLayer.castShadows,cullFace:v||"none"===f?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_20__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_20__.CullFaceOptions.Back,offsetTransparentBackfaces:!0};if(!this._drivenProperties.size&&((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_4__.set)(this._intrinsicSize,t,i),!(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_15__.isValidSize)(this._intrinsicSize[0])||!(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_15__.isValidSize)(this._intrinsicSize[1])))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("graphics3dpathsymbollayer:invalid-size","Symbol sizes may not be negative values");if(this._fastUpdates?.visualVariables.size||(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_4__.scale)(this._intrinsicSize,this._intrinsicSize,1/this._context.renderCoordsHelper.unitInMeters),this._fastUpdates){const e={...x,...this._fastUpdates.materialParameters,size:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__.fromArray)(this._intrinsicSize)};this._materials[0]=new _webgl_engine_materials_PathMaterial_js__WEBPACK_IMPORTED_MODULE_33__.PathMaterial(e,this._context)}else x.hasVertexColors=this._drivenProperties.color||this._drivenProperties.opacity,x.normalType=_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_19__.NormalType.Compressed,this._materials[0]=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_32__.DefaultMaterial(x,this._context);this._materials[0].setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),this._context.stage.add(this._materials[0])}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,ie,this.symbolLayer.type))return null;const i=this.setGraphicElevationContext(t),r=e.renderingInfo;return this._createAs3DShape(t,r,i,t.uid)}layerOpacityChanged(){const e=this.symbolLayer?.material?.color,t=this._getCombinedOpacity(e),i=t<1||this.needsDrivenTransparentPass;this._materials[0]?.setParameters({opacity:t,transparent:i})}layerElevationInfoChanged(e,t){return this.updateGraphics3DGraphicElevationInfo(e,t,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.needsElevationUpdates3D)}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return this._materials[0]?.setParameters({usePBR:this._context.physicalBasedRenderingEnabled,isSchematic:!0}),!0}applyRendererDiff(e,t){for(const i in e.diff){if("visualVariables"!==i)return _interfaces_js__WEBPACK_IMPORTED_MODULE_16__.ApplyRendererDiffResult.RecreateSymbol;if(!(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__.updateFastSymbolUpdatesState)(this._fastUpdates,t,this._vvConvertOptions))return _interfaces_js__WEBPACK_IMPORTED_MODULE_16__.ApplyRendererDiffResult.RecreateSymbol;this._materials[0]?.setParameters(this._fastUpdates.materialParameters)}return _interfaces_js__WEBPACK_IMPORTED_MODULE_16__.ApplyRendererDiffResult.FastUpdate}_getVertexData(e){let t=0;const i=e.paths,r=[],s=e.spatialReference,a=this._context.elevationProvider.spatialReference,o=this._context.renderCoordsHelper.spatialReference;for(const c of i)t+=c.length;const n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_10__.newDoubleArray)(3*t);let l,h=0;for(const c of i){r.push({offset:h,numVertices:c.length});for(const t of c)n[h++]=t[0],n[h++]=t[1],n[h++]=e.hasZ?t[2]:0}return null==a||s.equals(a)||(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_8__.projectBuffer)(n,s,0,n,a,0,t)?(null==a||a.equals(o)?l=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_10__.doubleArrayFrom)(n):(l=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_10__.newDoubleArray)(3*t),(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_8__.projectBuffer)(n,a,0,l,o,0,t)),{pathVertexDataInfos:r,vertexDataES:n,vertexDataRS:l}):null}_createAs3DShape(e,s,a,o){this.usedMemory=0;const n=e.geometry,l=this._getVertexData(n);if(null==l)return this.logger.warn("PathSymbol3DLayer geometry failed to be created (failed to project geometry to view spatial reference)"),null;if(0===l.pathVertexDataInfos.length)return 0!==n.paths.length&&n.paths.some((e=>e.length>0))||this.logger.warn("PathSymbol3DLayer geometry failed to be created (no paths were defined)"),null;const c=new Array,p=n.spatialReference,m=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)(),f=this._context.renderCoordsHelper,d=new _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_18__.SamplePosition(l.vertexDataES);for(const u of l.pathVertexDataInfos){const n=u.numVertices;if(n<2)continue;const g=u.offset;if(null!=this._context.clippingExtent&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.fromSubBuffer)(l.vertexDataES,g,n,m),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.intersectsClippingArea)(m,this._context.clippingExtent)))continue;const _=new Array,v=g+3*n;for(let e=g;e<v;e+=3){d.offset=e;const t=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.evaluateElevationAlignmentAtPoint)(d,this._context.elevationProvider,a,f);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.i)(le,l.vertexDataRS[e],l.vertexDataRS[e+1],l.vertexDataRS[e+2]),f.setAltitude(le,t),l.vertexDataRS[e]=le[0],l.vertexDataRS[e+1]=le[1],l.vertexDataRS[e+2]=le[2],_.push((0,_webgl_engine_lib_PathVertex_js__WEBPACK_IMPORTED_MODULE_30__.newPathVertex)(this._upVectorAlignment))}const w=new _webgl_engine_lib_Path_js__WEBPACK_IMPORTED_MODULE_22__.Path(_,l.vertexDataES,l.vertexDataRS,g);se(w,this._upVectorAlignment,this._context.renderCoordsHelper);const P=new _webgl_engine_lib_PathBuilder_js__WEBPACK_IMPORTED_MODULE_23__.PathBuilder(w,this._profile,this._extruder,this._startCap,this._endCap);let j=null;if(this._fastUpdates){const t=this._fastUpdates.visualVariables,i=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__.getAttributeValue)(t.size?.field,e)??0,r=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__.getAttributeValue)(t.color?.field,e)??0,s=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_17__.getAttributeValue)(t.opacity?.field,e)??0;j=new _webgl_engine_lib_PathGeometryData_js__WEBPACK_IMPORTED_MODULE_27__.FastUpdatePathGeometry(P,i,r,s)}else{const e=[this._intrinsicSize[0],this._intrinsicSize[1]];if(this._drivenProperties.size){const t=s.size;e[0]*=ae(t[0],"symbol-value"===t[2]?this.symbolLayer.height||0:t[2],this.symbolLayer.width||0),e[1]*=ae(t[2],"symbol-value"===t[0]?this.symbolLayer.width||0:t[0],this.symbolLayer.height||0)}let t;this._drivenProperties.color&&(t=s.color),this._drivenProperties.opacity&&null!=s.opacity&&(t=t?[t[0],t[1],t[2],s.opacity]:[1,1,1,s.opacity]);const i=new _webgl_engine_lib_PathGeometryData_js__WEBPACK_IMPORTED_MODULE_27__.StaticPathGeometry(P);i.bake(e),t&&i.bakeVertexColors(t),j=i}const S=j.createGeometryData(),D=this._context.stage.renderView.getObjectAndLayerIdColor({graphicUid:o,layerUid:this._context.layer.uid}),C=new _webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.PathGeometry(this._materials[0],S,j,p,this._stencilWidth,D);C.transformation=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_2__.translate)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.IDENTITY,P.path.origin),c.push(C),this.usedMemory+=P.usedMemory}if(0===c.length)return null;const g=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_21__.Object3D({geometries:c,layerUid:this._context.layer.uid,graphicUid:o}),_=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_12__.Graphics3DObject3DGraphicLayer(this,g,c,null,null,((e,t,i,r,s)=>ne(e,t,r,s,this._upVectorAlignment)),a);return _.alignedSampledElevation=0,_.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.needsElevationUpdates3D)(a.mode),_}}function se(e,t,i){const{origin:r,positions:s}=e;let a=e.offset;switch(t){default:case _webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.UpVectorAlignment.World:for(const t of e.vertices)le[0]=s[a++]+r[0],le[1]=s[a++]+r[1],le[2]=s[a++]+r[2],i.worldUpAtPosition(le,le),t.setFrameFromUpVector(le);break;case _webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.UpVectorAlignment.Path:le[0]=s[a]+r[0],le[1]=s[a+1]+r[1],le[2]=s[a+2]+r[2],i.worldUpAtPosition(le,le),(0,_webgl_engine_lib_pathGeometryUtils_js__WEBPACK_IMPORTED_MODULE_28__.computeMinimumRotationTangentFrame)(e,le)}}function ae(e,t,i){switch(e){case"symbol-value":return i;case"proportional":return t;default:return e}}function oe(e,t,i,r){let s=0;const{origin:a,vertices:o,positions:n,positionsES:l}=e,c=e.offset+3*o.length;for(let p=e.offset;p<c;p+=3)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_6__.i)(le,l[p],l[p+1],l[p+2]),i(le,he),s+=he.sampledElevation,le[0]=n[p]+a[0],le[1]=n[p+1]+a[1],le[2]=n[p+2]+a[2],r.setAltitude(le,he.z),n[p]=le[0]-a[0],n[p+1]=le[1]-a[1],n[p+2]=le[2]-a[2];return e.updatePathVertexInformation(),s/o.length}function ne(e,t,i,r,s){const a=e.stageObject,o=a.geometries;let n=0;for(const l of o){if(!(0,_webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.isPathGeometry)(l))continue;const e=l.path,o=e.builder.path;n+=oe(o,t,i,r),s!==_webgl_engine_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_26__.UpVectorAlignment.World&&se(o,s,r),e.onPathChanged(l),l.invalidateBoundingInfo(),a.geometryVertexAttributeUpdated(l,_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_31__.VertexAttribute.POSITION)}return n/o.length}const le=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),he=new _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.SampleElevationInfo;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DPolygonFillSymbolLayer: function() { return /* binding */ N; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Graphics3DDrapedGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js");
/* harmony import */ var _lineUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lineUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js");
/* harmony import */ var _polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./polygonUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/polygonUtils.js");
/* harmony import */ var _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _support_patternUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../support/patternUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/patternUtils.js");
/* harmony import */ var _support_uvUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/uvUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/uvUtils.js");
/* harmony import */ var _support_engineContent_line_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../support/engineContent/line.js */ "./node_modules/@arcgis/core/views/3d/support/engineContent/line.js");
/* harmony import */ var _support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../support/renderInfoUtils/polygon.js */ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/polygon.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/materials/lineStippleUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js");
/* harmony import */ var _webgl_engine_materials_PatternMaterial_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../webgl-engine/materials/PatternMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const z=["polyline","polygon","extent"],H=new _support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__.ConvertOptions({size:!1,color:!0,rotation:!1,opacity:!1});class N extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_9__.Graphics3DSymbolLayer{constructor(e,t,i,r){super(e,t,i,r),this._needsUV=!1}async doLoad(){this._fastUpdates=(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__.initFastSymbolUpdatesState)(this._context.renderer,H)}_createMaterials(){if(this._materials.length>0)return;const e=this.symbolLayer?.material?.color,i=this._getCombinedOpacityAndColor(e);this._materials[J.Fill]=(0,_support_patternUtils_js__WEBPACK_IMPORTED_MODULE_15__.createMaterial)(this.symbolLayer,{color:i,forceTransparentMode:this.needsDrivenTransparentPass,discardInvisibleFragments:!0,polygonOffset:!1,hasVertexColors:!0,draped:this.draped,hasSlicePlane:this._context.slicePlaneEnabled,...this._fastUpdates?.materialParameters}),this._needsUV=this._materials[J.Fill]instanceof _webgl_engine_materials_PatternMaterial_js__WEBPACK_IMPORTED_MODULE_22__.PatternMaterial;const r=this.symbolLayer.outline;if(K(r)){const e=(0,_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_21__.getStipplePatternForLinePattern)(r.pattern);this._materials[J.Outline]=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_23__.RibbonLineMaterial({width:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__.pt2px)(r.size),color:this._getOutlineColor(),hasPolygonOffset:!0,hasSlicePlane:this._context.slicePlaneEnabled,isClosed:!0,stipplePattern:e,cap:(0,_lineUtils_js__WEBPACK_IMPORTED_MODULE_12__.parseCapType)(r.patternCap||"butt")})}this._context.stage.addMany(this._materials)}destroy(){super.destroy(),this._context.stage.removeMany(this._materials),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,z,this.symbolLayer.type))return null;const i=this._getVertexOpacityAndColor(e.renderingInfo,255),r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus("on-the-ground"===r.mode),this._createMaterials(),this.draped?this._createAsOverlay(t,i):this._createAs3DShape(t,i,r)}applyRendererDiff(e,t){for(const i in e.diff){if("visualVariables"!==i)return _interfaces_js__WEBPACK_IMPORTED_MODULE_11__.ApplyRendererDiffResult.RecreateSymbol;if(!(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__.updateFastSymbolUpdatesState)(this._fastUpdates,t,H))return _interfaces_js__WEBPACK_IMPORTED_MODULE_11__.ApplyRendererDiffResult.RecreateSymbol;this._materials[J.Fill]?.setParameters(this._fastUpdates.materialParameters)}return _interfaces_js__WEBPACK_IMPORTED_MODULE_11__.ApplyRendererDiffResult.FastUpdate}layerOpacityChanged(){if(null!=this._materials[J.Fill]){const e=this._materials[J.Fill].parameters.color,t=this.symbolLayer?.material?.color,i=this._getCombinedOpacity(t);this._materials[J.Fill].setParameters({color:[e[0],e[1],e[2],i],forceTransparentMode:this.needsDrivenTransparentPass})}if(null!=this._materials[J.Outline]){const e=this._materials[J.Outline].parameters.color;this._materials[J.Outline].setParameters({color:[e[0],e[1],e[2],this._getOutlineOpacity()]})}}layerElevationInfoChanged(e,t,i){const r=this._elevationContext.mode,s=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.elevationModeChangeUpdateType)(N.elevationModeChangeTypes,i,r);if(s!==_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.SymbolUpdateType.UPDATE)return s;const o=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.needsElevationUpdates2D)(r);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>o))}slicePlaneEnabledChanged(){if(this._materials[J.Fill]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),this._materials[J.Outline]){const e={hasSlicePlane:this._context.slicePlaneEnabled};this._materials[J.Outline].setParameters(e)}return!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,i){const r=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.geometryAsPolygon)(e.geometry);if(!r)return null;const s=(0,_support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_18__.geometryToRenderInfo)(r,this._context.elevationProvider,this._context.renderCoordsHelper,i),o=new k(s,t,this._context.layer.uid,e.uid),n=o.renderData.position.length/3;if(this._needsUV&&(o.uvMapSpace=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__.newFloatArray)(4*n,!0),o.boundingRect=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__.newDoubleArray)(9*n,!0),(0,_support_uvUtils_js__WEBPACK_IMPORTED_MODULE_16__.createMapSpaceUVCoords)(o.uvMapSpace,o.boundingRect,o.renderData.position,this._context.renderCoordsHelper)),o.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(o),this._createAs3DShapeFill(e,o),this._materials[J.Outline]&&this._createAs3DShapeOutline(o),this._logGeometryCreationWarnings(o.renderData,r.rings,"rings","FillSymbol3DLayer"),0===o.outGeometries.length)return null;const a=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_19__.Object3D({geometries:o.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:e.uid}),c=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_8__.Graphics3DObject3DGraphicLayer(this,a,o.outGeometries,null,null,_support_patternUtils_js__WEBPACK_IMPORTED_MODULE_15__.uvElevationAligner,i);return c.alignedSampledElevation=o.renderData.sampledElevation,c.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.needsElevationUpdates2D)(i.mode),c}_createAs3DShapeFill(e,t){const i=t.renderData.polygons;for(const{position:r,mapPositions:n,holeIndices:a,index:l,count:p}of i){if(null!=this._context.clippingExtent&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.fromBuffer)(n,W),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.intersectsClippingArea)(W,this._context.clippingExtent)))continue;const i=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.createIndices3D)(n,a,this._context.elevationProvider.spatialReference);if(0===i.length)continue;const u=this._fastUpdates?.visualVariables.color,d=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.createColorGeometry)({material:this._materials[J.Fill],indices:i,mapPositions:n,attributeData:{position:r,color:u?null:t.color,colorFeature:u?(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__.getAttributeValue)(u.field,e):null,uvMapSpace:this._needsUV?(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__.floatSubArray)(t.uvMapSpace,4*l,4*p):null,boundingRect:this._needsUV?(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_4__.doubleSubArray)(t.boundingRect,9*l,9*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(d)}}_createAs3DShapeOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(const{mapPositions:i,position:r}of t){if(null!=this._context.clippingExtent&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.fromBuffer)(i,W),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.intersectsClippingArea)(W,this._context.clippingExtent)))continue;const t=(0,_support_engineContent_line_js__WEBPACK_IMPORTED_MODULE_17__.createGeometry)(this._materials[J.Outline],{overlayInfo:null,removeDuplicateStartEnd:!0,mapPositions:i,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(t)}}_createAsOverlay(e,t){const i=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.geometryAsPolygon)(e.geometry);if(null==i)return null;this._materials[J.Fill].renderPriority=this._renderPriority+this._renderPriorityStep/2,null!=this._materials[J.Outline]&&(this._materials[J.Outline].renderPriority=this._renderPriority);const r=(0,_support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_18__.geometryToRenderInfoDraped)(i,this._context.overlaySR),s=new q(r,t,this._context.layer.uid,e.uid),o=s.renderData.position.length/3;return this._needsUV&&(s.uvMapSpace=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__.newFloatArray)(4*o,!0),(0,_support_uvUtils_js__WEBPACK_IMPORTED_MODULE_16__.createMapSpaceUVCoordsDraped)(s.uvMapSpace,s.renderData.position,this._context.overlaySR,this._context.graphicsCoreOwner.view.state.viewingMode)),s.outBoundingBox=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.empty)(),s.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(s),this._createAsOverlayFill(e,s),this._materials[J.Outline]&&this._createAsOverlayOutline(s),this._logGeometryCreationWarnings(s.renderData,i.rings,"rings","FillSymbol3DLayer"),0===s.outGeometries.length?null:new _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_7__.Graphics3DDrapedGraphicLayer(this,s.outGeometries,s.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayFill(e,t){const r=t.renderData.polygons;for(const{position:n,holeIndices:l,index:c,count:p}of r){const r=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.fromBuffer)(n,W);if(!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.intersectsClippingArea)(r,this._context.clippingExtent))continue;const u=(0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__.e)(n,l,3);if(0===u.length)continue;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.expandWithAABB)(t.outBoundingBox,r);const d=this._fastUpdates?.visualVariables.color,m=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.createColorGeometry)({material:this._materials[J.Fill],indices:u,attributeData:{position:n,color:d?null:t.color,colorFeature:d?(0,_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_14__.getAttributeValue)(d.field,e):null,uvMapSpace:this._needsUV?(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__.floatSubArray)(t.uvMapSpace,4*c,4*p):null,objectAndLayerIdColor:t.objectAndLayerIdColor}});t.outGeometries.push(new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_20__.RenderGeometry(m,t))}}_createAsOverlayOutline(e){if(null==this._materials[J.Outline])return;const t=e.renderData.outlines;for(let i=0;i<t.length;++i){const{position:r}=t[i];if((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.fromBuffer)(r,W),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.intersectsClippingArea)(W,this._context.clippingExtent))continue;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.expandWithAABB)(e.outBoundingBox,W);const n=(0,_support_engineContent_line_js__WEBPACK_IMPORTED_MODULE_17__.createGeometry)(this._materials[J.Outline],{overlayInfo:{spatialReference:this._context.overlaySR,renderCoordsHelper:this._context.renderCoordsHelper},removeDuplicateStartEnd:!0,attributeData:{position:r}},e.objectAndLayerIdColor);e.outGeometries.push(new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_20__.RenderGeometry(n,e))}}_getOutlineOpacity(){const e=this.symbolLayer?.outline?.color;return(this.draped?1:this._getLayerOpacity())*(null!=e?e.a:0)}_getOutlineColor(){const t=this.symbolLayer?.outline?.color,i=this._getOutlineOpacity();return (0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_10__.mixinColorAndOpacity)(null!=t?_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(t):null,i)}test(){return{...super.test(),createAsOverlay:(e,t)=>this._createAsOverlay(e,t),createAs3DShape:(e,t,i)=>this._createAs3DShape(e,t,i)}}}N.elevationModeChangeTypes={definedChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.SymbolUpdateType.RECREATE,staysOnTheGround:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.SymbolUpdateType.NONE,onTheGroundChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_6__.SymbolUpdateType.RECREATE};const W=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.create)();class k extends _polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.PolygonCreationDataBase{constructor(e,t,i,r){super(e,i,r),this.color=t}}class q extends _polygonUtils_js__WEBPACK_IMPORTED_MODULE_13__.PolygonCreationDataBase{constructor(e,t,i,r){super(e,i,r),this.color=t}}var J;function K(e){return null!=e?.size&&e.size>0&&null!=e.color&&(null==e.pattern||"style"!==e.pattern.type||"none"!==e.pattern.style)}!function(e){e[e.Fill=0]="Fill",e[e.Outline=1]="Outline"}(J||(J={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayerFactory.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   make: function() { return /* binding */ c; },
/* harmony export */   setSymbolClass: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _Graphics3DExtrudeSymbolLayer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphics3DExtrudeSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DExtrudeSymbolLayer.js");
/* harmony import */ var _Graphics3DIconSymbolLayer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Graphics3DIconSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DIconSymbolLayer.js");
/* harmony import */ var _Graphics3DLineSymbolLayer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Graphics3DLineSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLineSymbolLayer.js");
/* harmony import */ var _Graphics3DMeshFillSymbolLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Graphics3DMeshFillSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DMeshFillSymbolLayer.js");
/* harmony import */ var _Graphics3DObjectSymbolLayer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Graphics3DObjectSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectSymbolLayer.js");
/* harmony import */ var _Graphics3DPathSymbolLayer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Graphics3DPathSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayer.js");
/* harmony import */ var _Graphics3DPolygonFillSymbolLayer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Graphics3DPolygonFillSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPolygonFillSymbolLayer.js");
/* harmony import */ var _Graphics3DTextSymbolLayer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Graphics3DTextSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js");
/* harmony import */ var _Graphics3DWaterSymbolLayer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Graphics3DWaterSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function c(o,e,t,i){const m=h[o.type]?.[e.type]||l[e.type];return m?new m(o,e,t,i):(_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.layers.graphics.Graphics3DSymbolLayerFactory").error("GraphicsLayerFactory#make",`unknown symbol type ${e.type}`),null)}const l={icon:_Graphics3DIconSymbolLayer_js__WEBPACK_IMPORTED_MODULE_2__.Graphics3DIconSymbolLayer,object:_Graphics3DObjectSymbolLayer_js__WEBPACK_IMPORTED_MODULE_5__.Graphics3DObjectSymbolLayer,line:_Graphics3DLineSymbolLayer_js__WEBPACK_IMPORTED_MODULE_3__.Graphics3DLineSymbolLayer,path:_Graphics3DPathSymbolLayer_js__WEBPACK_IMPORTED_MODULE_6__.Graphics3DPathSymbolLayer,fill:_Graphics3DPolygonFillSymbolLayer_js__WEBPACK_IMPORTED_MODULE_7__.Graphics3DPolygonFillSymbolLayer,extrude:_Graphics3DExtrudeSymbolLayer_js__WEBPACK_IMPORTED_MODULE_1__.Graphics3DExtrudeSymbolLayer,text:_Graphics3DTextSymbolLayer_js__WEBPACK_IMPORTED_MODULE_8__.Graphics3DTextSymbolLayer,water:_Graphics3DWaterSymbolLayer_js__WEBPACK_IMPORTED_MODULE_9__.Graphics3DWaterSymbolLayer};function n(r,o){l[r]=o}const h={"mesh-3d":{fill:_Graphics3DMeshFillSymbolLayer_js__WEBPACK_IMPORTED_MODULE_4__.Graphics3DMeshFillSymbolLayer}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DTextSymbolLayer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DTextSymbolLayer: function() { return /* binding */ W; }
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _symbols_callouts_calloutUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../symbols/callouts/calloutUtils.js */ "./node_modules/@arcgis/core/symbols/callouts/calloutUtils.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _ElevationContext_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ElevationContext.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DObjectMetadata_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Graphics3DObjectMetadata.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectMetadata.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./graphicUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js");
/* harmony import */ var _LabelParameters_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LabelParameters.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/LabelParameters.js");
/* harmony import */ var _placementUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./placementUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js");
/* harmony import */ var _pointUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./pointUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/pointUtils.js");
/* harmony import */ var _webgl_engine_lib_FontMetrics_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/lib/FontMetrics.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/* harmony import */ var _webgl_engine_lib_TextRenderParameters_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../webgl-engine/lib/TextRenderParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js");
/* harmony import */ var _webgl_engine_lib_TextTextureFactory_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../webgl-engine/lib/TextTextureFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js");
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/materials/HUDMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const H=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.freeze)(0,0,1);class W extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_14__.Graphics3DSymbolLayer{constructor(e,t,r,n){super(e,t,r,n),this._elevationOptions={supportsOffsetAdjustment:!0,supportsOnTheGround:!1},this.ensureDrapedStatus(!1)}async doLoad(){if(!this._drivenProperties.size){const t=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_15__.validateSymbolLayerSize)(this.symbolLayer.size);if(t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("graphics3dtextsymbollayer:invalid-size",t)}await this._createTextRenderParameters()}async _createTextRenderParameters(){const e=this._context.graphicsCoreOwner.view.state.rasterPixelRatio;this._textRenderParameters=await _webgl_engine_lib_TextRenderParameters_js__WEBPACK_IMPORTED_MODULE_21__.TextRenderParameters.fromSymbol(this.symbolLayer,e)}destroy(){super.destroy()}createGraphics3DGraphic(e){const t=e.graphic,r=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.placePointOnGeometry)(t.geometry);if(null==r)return this.logger.warn(`unsupported geometry type for text symbol: ${t.geometry.type}`),null;const n=this.symbolLayer.text;if(null==n||""===n)return null;const s=(0,_symbols_callouts_calloutUtils_js__WEBPACK_IMPORTED_MODULE_8__.hasCalloutSupport)(this.symbol)&&this.symbol.hasVisibleVerticalOffset()?this.symbol.verticalOffset:null;if(null!=s&&!(0,_symbols_callouts_calloutUtils_js__WEBPACK_IMPORTED_MODULE_8__.textSymbolLayerSupportsVerticalOffset)(this.symbolLayer))return this.logger.errorOncePerTick(`Callouts and vertical offset on text symbols are currently only supported with 'center' horizontal alignment (not with '${this.symbolLayer.horizontalAlignment}' alignment)`),null;const{verticalAlignment:i}=this.symbolLayer,o=new _LabelParameters_js__WEBPACK_IMPORTED_MODULE_16__.LabelPlacement(s);(0,_placementUtils_js__WEBPACK_IMPORTED_MODULE_17__.verticalScreenOffsetFromAlignment)(i,o.screenOffset);const l=new _LabelParameters_js__WEBPACK_IMPORTED_MODULE_16__.LabelParameters(o,this.symbolLayer.horizontalAlignment,(0,_placementUtils_js__WEBPACK_IMPORTED_MODULE_17__.verticalPlacementFromAlignment)(i));return this._createAs3DShape(t,r,n,l)}createLabel(e,t,r,n,s){const i=e.graphic,o=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.placePointOnGeometry)(i.geometry);if(null==o)return this.logger.warn(`unsupported geometry type for label: ${i.geometry.type}`),null;const l=t.text;return!l||/^\s+$/.test(l)?null:this._createAs3DShape(i,o,l,t,r,n,s)}setGraphicElevationContext(e,t,r=0){return super.setGraphicElevationContext(e,t),t.addOffsetRenderUnits(r),t}layerOpacityChanged(){return this.logger.warn("layer opacity change not yet implemented in Graphics3DTextSymbolLayer"),!1}layerElevationInfoChanged(e,t){return F(e,t,((e,t)=>{this.updateGraphicElevationContext(t,e)})),_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_10__.SymbolUpdateType.UPDATE}slicePlaneEnabledChanged(e,t){return F(e,t,(e=>{for(const t of e.stageObject.geometries)t.material.setParameters({hasSlicePlane:this._context.slicePlaneEnabled})})),!0}physicalBasedRenderingChanged(){return!0}get pixelRatioChanged(){return!1}updateGraphicElevationContext(e,t){const r=t.elevationContext;this.setGraphicElevationContext(e,r,null!=t.metadata?t.metadata.elevationOffset:0),t.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_10__.needsElevationUpdates2D)(r.mode)||"absolute-height"===r.mode}updateGeometry(e,t){if(this.draped||!this._validateGeometry(t))return!1;const{elevationContext:r,stageObject:n}=e;if(r.mode!==this.getGeometryElevationMode(t))return!1;const s=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.placePointOnGeometry)(t);if(!s)return!1;const i=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.updateStageObjectGeometry)(n,this._context,s,r);if(null==i)return!1;const o=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.getLocalOriginForPoint)(this._context,s);return n.geometries[0].localOrigin===o&&(e.alignedSampledElevation=i,(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.extendPointGraphicElevationContext)(e,s,this._context.elevationProvider),!0)}_defaultElevationInfoNoZ(){return M}_createAs3DShape(e,l,c,m,h=null,y=null,x=()=>m.placement.elevationOffset){const v=this.setGraphicElevationContext(e,new _ElevationContext_js__WEBPACK_IMPORTED_MODULE_11__.ElevationContext,m.placement.elevationOffset),b="polyline"===e.geometry?.type,O=e.uid;let P=null,E=null;if(null==y){const e=(0,_placementUtils_js__WEBPACK_IMPORTED_MODULE_17__.textRenderAlignmentFromHorizontalPlacement)(m.horizontalPlacement);P=new _webgl_engine_lib_TextTextureFactory_js__WEBPACK_IMPORTED_MODULE_22__["default"](c,e,this._textRenderParameters);let n=null;if(null!=this._context.sharedResources.textures){E=this._context.sharedResources.textures.fromData(P.key,(()=>P.create())),E.texture.events.on("unloaded",(()=>n=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(n)));const e=this._context.stage.renderView.textures.acquire(E.texture.id);if(null==e||(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__.isPromiseLike)(e))return E.release(),null;n=e}}const _=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:non-occluded-hud"),w=I(P,m),S={occlusionTest:!_,occludedFragmentFade:_,horizonCullingEnabled:_,screenOffset:m.placement.screenOffset,anchorPosition:w,polygonOffset:!0,color:[1,1,1,1],centerOffsetUnits:m.placement.centerOffsetUnits,depthEnabled:!1,drawInSecondSlot:!0,isLabel:!0};if(b&&(S.shaderPolygonOffset=1e-4),y?S.textureId=y.id:E&&(S.textureId=E.texture.id),null!=m.placement.verticalOffset){const{screenLength:e,minWorldLength:t,maxWorldLength:r}=m.placement.verticalOffset;S.verticalOffset={screenLength:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.pt2px)(e),minWorldLength:t||0,maxWorldLength:null!=r?r:1/0}}const L={screenOffset:S.screenOffset,anchorPosition:w,centerOffsetUnits:S.centerOffsetUnits,verticalOffset:S.verticalOffset,shaderPolygonOffset:S.shaderPolygonOffset,occlusionTest:S.occlusionTest};if(this._context.screenSizePerspectiveEnabled){const{screenSizePerspectiveSettings:e,screenSizePerspectiveSettingsLabels:t}=this._context.sharedResources,r=(0,_webgl_engine_lib_FontMetrics_js__WEBPACK_IMPORTED_MODULE_19__.getFontMetrics)(this._textRenderParameters);S.screenSizePerspective=t.overrideFontHeight(r.maxHeight),S.screenSizePerspectiveAlignment=e,L.fontHeight=r.maxHeight}S.hasSlicePlane=this._context.slicePlaneEnabled;const G=this._context.spherical,R=h?JSON.stringify(L):"";let W=h?.get(R);null==W&&(W=new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_23__.HUDMaterial(S,G),h?.add(R,W));const F=m.placement.translation,M=P?(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__.fromValues)(P.displayWidth,P.displayHeight):_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__.ZEROS,V=m.placement.centerOffset,$=H,k=y?(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_7__.fromValues)(0,0,0,0):null,N=(0,_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_20__.createPointGeometry)(W,$,F,null,null,M,V,k,null),q=(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.createStageObject)(this._context,l,N,v,O);if(null==q)return null;const B=(t,r,n,s,i,o)=>{const l=x()||m.placement.elevationOffset,a=this.setGraphicElevationContext(e,r,l);return (0,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_9__.perObjectElevationAligner)(t,a,n,s,i,o)},J=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_12__.Graphics3DObject3DGraphicLayer(this,q.object,[N],null==h?[W]:null,E,B,v);J.alignedSampledElevation=q.sampledElevation,J.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_10__.needsElevationUpdates2D)(v.mode)||"absolute-height"===v.mode,J.getScreenSize=(e=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__.create)())=>(e[0]=P?P.displayWidth:m.displaySize[0],e[1]=P?P.displayHeight:m.displaySize[1],e);const Y=new _Graphics3DObjectMetadata_js__WEBPACK_IMPORTED_MODULE_13__.Graphics3DObjectMetadata(m.placement.elevationOffset,c);return J.metadata=Y,(0,_pointUtils_js__WEBPACK_IMPORTED_MODULE_18__.extendPointGraphicElevationContext)(J,l,this._context.elevationProvider),J}}function F(e,t,r){e&&e.forEach((e=>{const n=t(e);null!=n&&r(n,e.graphic)}))}function I(e,t){if("baseline"===t.verticalPlacement){const r=_placementUtils_js__WEBPACK_IMPORTED_MODULE_17__.horizontalPlacementToAnchorX[t.horizontalPlacement],n=null!=e?e.baselineAnchorY:0;return (0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_5__.fromValues)(r,n)}const r=(0,_placementUtils_js__WEBPACK_IMPORTED_MODULE_17__.anchorFromPlacements)(t.horizontalPlacement,t.verticalPlacement);return _placementUtils_js__WEBPACK_IMPORTED_MODULE_17__.namedAnchorToHUDMaterialAnchorPos[r]}const M={mode:"relative-to-ground",offset:0};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DWaterSymbolLayer.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Graphics3DWaterSymbolLayer: function() { return /* binding */ B; },
/* harmony export */   headingVectorFromAngle: function() { return /* binding */ U; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ "./node_modules/@arcgis/core/core/unitUtils.js");
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_common_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/common.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/common.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _ElevationAligners_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Graphics3DDrapedGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DDrapedGraphicLayer.js");
/* harmony import */ var _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Graphics3DObject3DGraphicLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObject3DGraphicLayer.js");
/* harmony import */ var _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Graphics3DSymbolLayer.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolLayer.js");
/* harmony import */ var _polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./polygonUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/polygonUtils.js");
/* harmony import */ var _support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../support/renderInfoUtils/polygon.js */ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/polygon.js");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js");
/* harmony import */ var _webgl_engine_materials_WaterMaterial_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../webgl-engine/materials/WaterMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js");
/* harmony import */ var _webgl_engine_materials_internal_waterMaterialUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../webgl-engine/materials/internal/waterMaterialUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const I=["polyline","polygon","extent"];class B extends _Graphics3DSymbolLayer_js__WEBPACK_IMPORTED_MODULE_14__.Graphics3DSymbolLayer{constructor(e,t,r,o){super(e,t,r,o)}async doLoad(){}destroy(){super.destroy(),this._context.stage.remove(this._materials[0]),this._materials.length=0}createGraphics3DGraphic(e){const t=e.graphic;if(!this._validateGeometry(t.geometry,I,this.symbolLayer.type))return null;const r=this.setGraphicElevationContext(t);return this.ensureDrapedStatus("on-the-ground"===r.mode),this.ensureMaterial(),this.draped?this._createAsOverlay(t):this._createAs3DShape(t,r,t.uid)}ensureMaterial(){if(this._materials[0])return;const t=new _webgl_engine_materials_WaterMaterial_js__WEBPACK_IMPORTED_MODULE_19__.Parameters,r=this.symbolLayer.color;null!=r&&(t.color=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(r));const o=this._getCombinedOpacity(r,{hasIntrinsicColor:!0});t.color=[t.color[0],t.color[1],t.color[2],o],t.transparent=o<1||this.needsDrivenTransparentPass,t.waveDirection=null!=this.symbolLayer.waveDirection?U(this.symbolLayer.waveDirection):(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(0,0);const n=this.symbolLayer.waveStrength+"-"+this.symbolLayer.waterbodySize,s=_webgl_engine_materials_internal_waterMaterialUtils_js__WEBPACK_IMPORTED_MODULE_20__.wavePresets[n];t.waveStrength=s.waveStrength,t.waveTextureRepeat=s.textureRepeat,t.waveVelocity=s.waveVelocity,t.flowStrength=s.perturbationStrength,t.hasSlicePlane=this._context.slicePlaneEnabled,t.draped=this.draped,this._materials[0]=new _webgl_engine_materials_WaterMaterial_js__WEBPACK_IMPORTED_MODULE_19__.WaterMaterial(t,this._context),this._context.stage.add(this._materials[0])}layerOpacityChanged(){if(null==this._materials[0])return;const e=this._materials[0].parameters.color,t=this._getCombinedOpacity(this.symbolLayer.color,{hasIntrinsicColor:!0}),r=t<1||this.needsDrivenTransparentPass;this._materials[0].setParameters({color:[e[0],e[1],e[2],t],transparent:r})}layerElevationInfoChanged(e,t,r){const o=this._elevationContext.mode,i=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.elevationModeChangeUpdateType)(B.elevationModeChangeTypes,r,o);if(i!==_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.SymbolUpdateType.UPDATE)return i;const n=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.needsElevationUpdates2D)(o);return this.updateGraphics3DGraphicElevationInfo(e,t,(()=>n))}slicePlaneEnabledChanged(){return this._materials[0]?.setParameters({hasSlicePlane:this._context.slicePlaneEnabled}),!0}physicalBasedRenderingChanged(){return!0}_createAs3DShape(e,t,r){const o=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__.geometryAsPolygon)(e.geometry);if(null==o)return null;const i=(0,_support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_16__.geometryToRenderInfo)(o,this._context.elevationProvider,this._context.renderCoordsHelper,t),n=i.position.length/3,s=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_9__.newDoubleArray)(2*n);M(s,i.mapPositions,n,this._context.elevationProvider.spatialReference);const a=new N(i,s,this._context.layer.uid,e.uid);if(a.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(a),this._create3DShapeGeometries(a),this._logGeometryCreationWarnings(a.renderData,o.rings,"rings","WaterSymbol3DLayer"),0===a.outGeometries.length)return null;const l=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_17__.Object3D({geometries:a.outGeometries,castShadow:!1,layerUid:this._context.layer.uid,graphicUid:r}),c=new _Graphics3DObject3DGraphicLayer_js__WEBPACK_IMPORTED_MODULE_13__.Graphics3DObject3DGraphicLayer(this,l,a.outGeometries,null,null,_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_10__.perVertexElevationAligner,t);return c.alignedSampledElevation=a.renderData.sampledElevation,c.needsElevationUpdates=(0,_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.needsElevationUpdates2D)(t.mode),c}_create3DShapeGeometries(e){const t=e.renderData.polygons,o=e.uvCoords;for(const{count:i,index:n,position:s,mapPositions:a,holeIndices:l}of t){if(null!=this._context.clippingExtent&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.fromBuffer)(a,k),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.intersectsClippingArea)(k,this._context.clippingExtent)))continue;const t=(0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__.e)(a,l,3);if(0===t.length)continue;const m=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_9__.doubleSubArray)(o,2*n,2*i),u=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__.createWaterGeometry)({material:this._materials[0],indices:t,mapPositions:a,attributeData:{position:s,uv0:m}},e.objectAndLayerIdColor);e.outGeometries.push(u)}}_createAsOverlay(e){const t=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__.geometryAsPolygon)(e.geometry);if(null==t)return null;this._materials[0].renderPriority=this._renderPriority;const r=(0,_support_renderInfoUtils_polygon_js__WEBPACK_IMPORTED_MODULE_16__.geometryToRenderInfoDraped)(t,this._context.overlaySR),o=r.position.length/3,i=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_9__.newDoubleArray)(2*o);M(i,r.position,o,this._context.overlaySR);const n=new H(r,i,this._context.layer.uid,e.uid);return n.objectAndLayerIdColor=this._context.stage.renderView?.getObjectAndLayerIdColor(n),n.outBoundingBox=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.empty)(),this._createAsOverlayWater(n),this._logGeometryCreationWarnings(n.renderData,t.rings,"rings","WaterSymbol3DLayer"),0===n.outGeometries.length?null:new _Graphics3DDrapedGraphicLayer_js__WEBPACK_IMPORTED_MODULE_12__.Graphics3DDrapedGraphicLayer(this,n.outGeometries,n.outBoundingBox,this._context.drapeSourceRenderer)}_createAsOverlayWater(e){const t=e.uvCoords,o=e.renderData.polygons;for(const{position:i,holeIndices:n,index:s,count:a}of o){if((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.fromBuffer)(i,k),!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.intersectsClippingArea)(k,this._context.clippingExtent))continue;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.expandWithAABB)(e.outBoundingBox,k);const o=(0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_2__.e)(i,n,3);if(0===o.length)continue;const l=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_9__.doubleSubArray)(t,2*s,2*a),m=(0,_polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__.createWaterGeometry)({material:this._materials[0],indices:o,attributeData:{position:i,uv0:l}},e.objectAndLayerIdColor);e.outGeometries.push(new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_18__.RenderGeometry(m,e))}}test(){return{...super.test(),create3DShape:e=>this._createAs3DShape(e.graphic,e.elevationContext,e.graphicUid),ensureMaterial:()=>this.ensureMaterial()}}}function U(e){const t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),r=(0,_core_libs_gl_matrix_2_math_common_js__WEBPACK_IMPORTED_MODULE_6__.toRadian)(e);return t[0]=Math.sin(r),t[1]=Math.cos(r),t}function M(e,r,i,n){const a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__.getMetersPerUnitForSR)(n);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.empty)(z);for(let t=0;t<i;t++)(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.set)(V,r[3*t],r[3*t+1]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.expandPointInPlace)(z,V);(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_5__.d)(z,z,a);const l=z[0]%B.unitSizeOfTexture,c=z[1]%B.unitSizeOfTexture;W[0]=z[0]-l,W[1]=z[1]-c;for(let t=0;t<i;t++)e[2*t]=(r[3*t]*a-W[0])/B.unitSizeOfTexture,e[2*t+1]=(r[3*t+1]*a-W[1])/B.unitSizeOfTexture}B.unitSizeOfTexture=100,B.elevationModeChangeTypes={definedChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.SymbolUpdateType.RECREATE,staysOnTheGround:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.SymbolUpdateType.NONE,onTheGroundChanged:_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_11__.SymbolUpdateType.RECREATE};const W=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),z=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.create)(),V=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),k=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.create)();class N extends _polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__.PolygonCreationDataBase{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}class H extends _polygonUtils_js__WEBPACK_IMPORTED_MODULE_15__.PolygonCreationDataBase{constructor(e,t,r,o){super(e,r,o),this.uvCoords=t}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/LabelParameters.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/LabelParameters.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LabelParameters: function() { return /* binding */ r; },
/* harmony export */   LabelPlacement: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i{constructor(i,r="center",c=!1,a=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.create)(),o=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(0,0,0,-1),l="world",f=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),n=0){this.verticalOffset=i,this.anchor=r,this.hasLabelVerticalOffset=c,this.screenOffset=a,this.centerOffset=o,this.centerOffsetUnits=l,this.translation=f,this.elevationOffset=n}}class r{constructor(e,s="center",i="center",r=null,c=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()){this.placement=e,this.horizontalPlacement=s,this.verticalPlacement=i,this.text=r,this.displaySize=c}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/MeshFastUpdateProcessor.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MaterialInfoCache: function() { return /* binding */ t; },
/* harmony export */   MeshFastUpdateProcessor: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r{constructor(){this._fastTransformOriginalMaterials=new Map,this._fastTransformClonedMaterials=new Map,this._graphicReferenceCount=0}enable(r,t,e){r.enableFastTransformUpdates((r=>{if(this._graphicReferenceCount<=1){if(this._fastTransformOriginalMaterials.has(r))return r;const a=t.byMaterial(r);return this._fastTransformOriginalMaterials.set(r,a),t.delete(r),r}const s=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_0__.DefaultMaterial(r.parameters,e);return e.stage.add(s),this._fastTransformClonedMaterials.set(s,r),s}),e.localOriginFactory)}disable(a,r,t){const e=new Set,s=new Set;a.disableFastTransformUpdates((a=>{if(!this._fastTransformClonedMaterials.has(a)){const t=a,i=this._fastTransformOriginalMaterials.get(t);return r.has(i.uid)?(e.add(t),r.byUid(i.uid).material):(s.add(t),i.material)}const i=a,n=this._fastTransformClonedMaterials.get(i);return this._fastTransformClonedMaterials.delete(i),t.stage.remove(i),n}));for(const i of e)this._fastTransformOriginalMaterials.delete(i),t.stage.remove(i);for(const i of s){const a=this._fastTransformOriginalMaterials.get(i);this._fastTransformOriginalMaterials.delete(i),r.set(a.uid,a)}}onAddGraphic(){this._graphicReferenceCount++}onRemoveGraphic(a,r,t){this._graphicReferenceCount--,this.disable(a,r,t)}forEachMaterialInfo(a){this._fastTransformOriginalMaterials.forEach(a)}forEachClonedMaterial(a){this._fastTransformClonedMaterials.forEach(a)}destroy(a){a.removeMany(Array.from(this._fastTransformClonedMaterials.keys())),a.removeMany(Array.from(this._fastTransformOriginalMaterials.values(),(({material:a})=>a))),this._fastTransformClonedMaterials.clear(),this._fastTransformOriginalMaterials.clear()}}class t{constructor(){this._byUid=new Map,this._byMaterial=new Map}get materials(){return Array.from(this._byUid.values(),(a=>a.material))}byUid(a){return this._byUid.get(a)}byMaterial(a){return this._byMaterial.get(a)}set(a,r){this._byUid.set(a,r),this._byMaterial.set(r.material,r)}delete(a){const r=this._byMaterial.get(a)?.uid;r&&(this._byUid.delete(r),this._byMaterial.delete(a))}has(a){return this._byUid.has(a)}forEachMaterialInfo(a){this._byUid.forEach(a)}clear(){this._byUid.clear(),this._byMaterial.clear()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/ProcessedObjectResource.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/ProcessedObjectResource.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ProcessedObjectResource: function() { return /* binding */ t; },
/* harmony export */   ProcessedObjectStageResources: function() { return /* binding */ s; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(){this.geometries=new Array,this.materials=new Array,this.textures=new Array}}class t{constructor(t,e,r){this.name=t,this.lodThreshold=e,this.pivotOffset=r,this.stageResources=new s,this.numberOfVertices=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   parseCapType: function() { return /* binding */ n; },
/* harmony export */   parseLineMarkerStyle: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl-engine/shaders/RibbonLineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(n){switch(n){case"butt":return _webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.CapType.BUTT;case"square":return _webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.CapType.SQUARE;case"round":return _webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.CapType.ROUND;default:return null}}function r(e){return"diamond"===e?"kite":e}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/lodResourceUtils.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   makeLodResources: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../webgl-engine/lib/lodRendering/LodResources.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodResources.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(e,r){const t=e.stageResources.geometries.map((o=>new _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_0__.LodComponentResources(o,e.stageResources.textures))),u=null==e.lodThreshold||0===e.lodThreshold&&r>0?s(t):e.lodThreshold;return new _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_0__.LodLevelResources(t,u,e.pivotOffset)}function t(n){return new _webgl_engine_lib_lodRendering_LodResources_js__WEBPACK_IMPORTED_MODULE_0__.LodResources(n.map(((e,n)=>r(e,n))))}function s(e){const n=e.reduce(((e,n)=>e+n.numTriangles),0);return Math.sqrt(n*u/Math.PI)}const u=20;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/meshAutoFastUpdateConstants.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/meshAutoFastUpdateConstants.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   meshAutoFastUpdateConstants: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e={disableDelayMs:2e3};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/objectResourceUtils.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fetch: function() { return /* binding */ ee; },
/* harmony export */   parseUrl: function() { return /* binding */ te; }
/* harmony export */ });
/* harmony import */ var _core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/devEnvironmentUtils.js */ "./node_modules/@arcgis/core/core/devEnvironmentUtils.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "./node_modules/@arcgis/core/chunks/vec3.js");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "./node_modules/@arcgis/core/chunks/vec4.js");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "./node_modules/@arcgis/core/chunks/vec2.js");
/* harmony import */ var _chunks_vec33_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../chunks/vec33.js */ "./node_modules/@arcgis/core/chunks/vec33.js");
/* harmony import */ var _chunks_vec43_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../chunks/vec43.js */ "./node_modules/@arcgis/core/chunks/vec43.js");
/* harmony import */ var _glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../glTF/DefaultLoadingContext.js */ "./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js");
/* harmony import */ var _glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../glTF/internal/indexUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js");
/* harmony import */ var _glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../glTF/internal/resourceUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js");
/* harmony import */ var _glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../glTF/internal/TextureTransformUtils.js */ "./node_modules/@arcgis/core/views/3d/glTF/internal/TextureTransformUtils.js");
/* harmony import */ var _ProcessedObjectResource_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ProcessedObjectResource.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ProcessedObjectResource.js");
/* harmony import */ var _wosrLoader_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./wosrLoader.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/NormalAttribute.glsl.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js");
/* harmony import */ var _webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../webgl-engine/materials/pbrUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
async function ee(t,r){const o=te((0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__.adjustStaticAGOUrl)(t));if("wosr"===o.fileType){const e=await(r.cache?r.cache.loadWOSR(o.url,r):(0,_wosrLoader_js__WEBPACK_IMPORTED_MODULE_22__.load)(o.url,r)),{engineResources:t,referenceBoundingBox:s}=(0,_wosrLoader_js__WEBPACK_IMPORTED_MODULE_22__.processLoadResult)(e,r);return{lods:t,referenceBoundingBox:s,isEsriSymbolResource:!1,isWosr:!0}}let s;if(r.cache)s=await r.cache.loadGLTF(o.url,r,!!r.usePBR);else{const{loadGLTF:e}=await __webpack_require__.e(/*! import() | glTF-loader */ "glTF-loader").then(__webpack_require__.bind(__webpack_require__, /*! ../../glTF/loader.js */ "./node_modules/@arcgis/core/views/3d/glTF/loader.js"));s=await e(new _glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_17__.DefaultLoadingContext(r.streamDataRequester),o.url,r,r.usePBR)}const i=s.model.meta?.ESRI_proxyEllipsoid,n=s.meta.isEsriSymbolResource&&null!=i&&"EsriRealisticTreesStyle"===s.meta.ESRI_webstyle;n&&!s.customMeta.esriTreeRendering&&(s.customMeta.esriTreeRendering=!0,ae(s,i));const a=!!r.usePBR,l=s.meta.isEsriSymbolResource?{usePBR:a,isSchematic:!1,treeRendering:n,mrrFactors:_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.esriSymbologyMRRFactors}:{usePBR:a,isSchematic:!1,treeRendering:!1,mrrFactors:_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.advancedMRRFactors},u={...r.materialParameters,treeRendering:n},{engineResources:c,referenceBoundingBox:m}=re(s,l,u,r,o.specifiedLodIndex);return{lods:c,referenceBoundingBox:m,isEsriSymbolResource:s.meta.isEsriSymbolResource,isWosr:!1}}function te(e){const t=e.match(/(.*\.(gltf|glb))(\?lod=([0-9]+))?$/);if(t)return{fileType:"gltf",url:t[1],specifiedLodIndex:null!=t[4]?Number(t[4]):null};return e.match(/(.*\.(json|json\.gz))$/)?{fileType:"wosr",url:e,specifiedLodIndex:null}:{fileType:"unknown",url:e,specifiedLodIndex:null}}function re(e,t,r,o,s){const i=e.model,n=new Array,a=new Map,l=new Map,u=i.lods.length,c=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.empty)();return i.lods.forEach(((e,m)=>{const f=!0===o.skipHighLods&&(u>1&&0===m||u>3&&1===m)||!1===o.skipHighLods&&null!=s&&m!==s;if(f&&0!==m)return;const d=new _ProcessedObjectResource_js__WEBPACK_IMPORTED_MODULE_21__.ProcessedObjectResource(e.name,e.lodThreshold,[0,0,0]);e.parts.forEach((e=>{const s=f?new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMaterial({},o):oe(i,e,d,t,r,a,l,o),{geometry:n,vertexCount:u}=se(e,s??new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMaterial({},o)),p=n.boundingInfo;null!=p&&0===m&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.expandWithVec3)(c,p.bbMin),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.expandWithVec3)(c,p.bbMax)),null!=s&&(d.stageResources.geometries.push(n),d.numberOfVertices+=u)})),f||n.push(d)})),{engineResources:n,referenceBoundingBox:c}}function oe(e,t,r,o,s,i,n,l){const u=t.material+(t.attributes.normal?"_normal":"")+(t.attributes.color?"_color":"")+(t.attributes.texCoord0?"_texCoord0":"")+(t.attributes.tangent?"_tangent":""),c=e.materials.get(t.material),m=null!=t.attributes.texCoord0,f=null!=t.attributes.normal;if(null==c)return null;const d=ne(c.alphaMode);if(!i.has(u)){if(m){const t=(t,r=!1)=>{if(null!=t&&!n.has(t)){const o=e.textures.get(t);if(null!=o){const e=o.data;n.set(t,new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_27__.Texture((0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(e)?e.data:e,{...o.parameters,preMultiplyAlpha:!(0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(e)&&r,encoding:(0,_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_19__.isEncodedMeshTexture)(e)&&null!=e.encoding?e.encoding:void 0}))}}};t(c.textureColor,d!==_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Opaque),t(c.textureNormal),t(c.textureOcclusion),t(c.textureEmissive),t(c.textureMetallicRoughness)}const r=c.color[0]**(1/_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),p=c.color[1]**(1/_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),g=c.color[2]**(1/_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),x=c.emissiveFactor[0]**(1/_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),b=c.emissiveFactor[1]**(1/_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),h=c.emissiveFactor[2]**(1/_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_30__.colorGamma),T=null!=c.textureColor&&m?n.get(c.textureColor):null,y=(0,_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.useSchematicPBR)({normalTexture:c.textureNormal,metallicRoughnessTexture:c.textureMetallicRoughness,metallicFactor:c.metallicFactor,roughnessFactor:c.roughnessFactor,emissiveTexture:c.textureEmissive,emissiveFactor:c.emissiveFactor,occlusionTexture:c.textureOcclusion}),w=null!=c.normalTextureTransform?.scale?c.normalTextureTransform?.scale:_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.ONES;i.set(u,new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_29__.DefaultMaterial({...o,transparent:d===_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Blend,customDepthTest:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.DepthTestFunction.Lequal,textureAlphaMode:d,textureAlphaCutoff:c.alphaCutoff,diffuse:[r,p,g],ambient:[r,p,g],opacity:c.opacity,doubleSided:c.doubleSided,doubleSidedType:"winding-order",cullFace:c.doubleSided?_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.CullFaceOptions.None:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.CullFaceOptions.Back,hasVertexColors:!!t.attributes.color,hasVertexTangents:!!t.attributes.tangent,normalType:f?_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_23__.NormalType.Attribute:_webgl_engine_core_shaderLibrary_attributes_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_23__.NormalType.ScreenDerivative,castShadows:!0,receiveShadows:c.receiveShadows,receiveAmbientOcclusion:c.receiveAmbientOcclustion,textureId:null!=T?T.id:void 0,colorMixMode:c.colorMixMode,normalTextureId:null!=c.textureNormal&&m?n.get(c.textureNormal).id:void 0,textureAlphaPremultiplied:null!=T&&!!T.parameters.preMultiplyAlpha,occlusionTextureId:null!=c.textureOcclusion&&m?n.get(c.textureOcclusion).id:void 0,emissiveTextureId:null!=c.textureEmissive&&m?n.get(c.textureEmissive).id:void 0,metallicRoughnessTextureId:null!=c.textureMetallicRoughness&&m?n.get(c.textureMetallicRoughness).id:void 0,emissiveFactor:[x,b,h],mrrFactors:y?_webgl_engine_materials_pbrUtils_js__WEBPACK_IMPORTED_MODULE_31__.schematicMRRFactors:[c.metallicFactor,c.roughnessFactor,o.mrrFactors[2]],isSchematic:y,colorTextureTransformMatrix:(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(c.colorTextureTransform),normalTextureTransformMatrix:(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(c.normalTextureTransform),scale:[w[0],w[1]],occlusionTextureTransformMatrix:(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(c.occlusionTextureTransform),emissiveTextureTransformMatrix:(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(c.emissiveTextureTransform),metallicRoughnessTextureTransformMatrix:(0,_glTF_internal_TextureTransformUtils_js__WEBPACK_IMPORTED_MODULE_20__.getTransformMatrix)(c.metallicRoughnessTextureTransform),...s},l))}const p=i.get(u);if(r.stageResources.materials.push(p),m){const e=e=>{null!=e&&r.stageResources.textures.push(n.get(e))};e(c.textureColor),e(c.textureNormal),e(c.textureOcclusion),e(c.textureEmissive),e(c.textureMetallicRoughness)}return p}function se(e,s){const i=e.attributes.position.count,n=(0,_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_18__.convertPrimitiveToTriangles)(e.indices||i,e.primitiveType),a=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_10__.newFloatArray)(3*i),{typedBuffer:l,typedBufferStride:u}=e.attributes.position;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.t)(a,l,e.transform,3,u);const c=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(a,n,3,!0)]];if(null!=e.attributes.normal){const o=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_10__.newFloatArray)(3*i),{typedBuffer:s,typedBufferStride:a}=e.attributes.normal;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_2__.normalFromMat4)(ie,e.transform),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.b)(o,s,ie,3,a),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.hasScaling)(ie)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.n)(o,o),c.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(o,n,3,!0)])}if(null!=e.attributes.tangent){const r=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_10__.newFloatArray)(4*i),{typedBuffer:s,typedBufferStride:a}=e.attributes.tangent;(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_2__.fromMat4)(ie,e.transform),(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_13__.t)(r,s,ie,4,a),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.hasScaling)(ie)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.n)(r,r,4),c.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.TANGENT,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(r,n,4,!0)])}if(null!=e.attributes.texCoord0){const t=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_10__.newFloatArray)(2*i),{typedBuffer:r,typedBufferStride:o}=e.attributes.texCoord0;(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_14__.a)(t,r,2,o),c.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(t,n,2,!0)])}const m=e.attributes.color;if(null!=m){const t=new Uint8Array(4*i);4===m.elementCount?m instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec4f?(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_13__.b)(t,m,255):m instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec4u8?(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_16__.a)(t,m):m instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec4u16&&(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_13__.b)(t,m,1/256):(t.fill(255),m instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec3f?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.f)(t,m.typedBuffer,255,4,m.typedBufferStride):e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec3u8?(0,_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_15__.c)(t,m.typedBuffer,4,e.attributes.color.typedBufferStride):e.attributes.color instanceof _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec3u16&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__.f)(t,m.typedBuffer,1/256,4,m.typedBufferStride)),c.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_28__.VertexAttribute.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_24__.Attribute(t,n,4,!0)])}return{geometry:new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_26__.Geometry(s,c),vertexCount:i}}const ie=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)();function ne(e){switch(e){case"BLEND":return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Blend;case"MASK":return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Mask;case"OPAQUE":case null:case void 0:return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_25__.AlphaDiscardMode.Opaque}}function ae(e,t){for(let r=0;r<e.model.lods.length;++r){const o=e.model.lods[r];for(const s of o.parts){const o=s.attributes.normal;if(null==o)return;const a=s.attributes.position,g=a.count,x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),b=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),h=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),y=new Uint8Array(4*g),v=new Float64Array(3*g),R=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.invert)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),s.transform);let j=0,B=0;for(let i=0;i<g;i++){a.getVec(i,b),o.getVec(i,x),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(b,b,s.transform),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.d)(h,b,t.center),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.E)(h,h,t.radius);const n=h[2],p=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(h),g=Math.min(.45+.55*p*p,1);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.E)(h,h,t.radius),null!==R&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(h,h,R),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.n)(h,h),r+1!==e.model.lods.length&&e.model.lods.length>1&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.m)(h,h,x,n>-1?.2:Math.min(-4*n-3.8,1)),v[j]=h[0],v[j+1]=h[1],v[j+2]=h[2],j+=3,y[B]=255*g,y[B+1]=255*g,y[B+2]=255*g,y[B+3]=255,B+=4}s.attributes.normal=new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec3f(v),s.attributes.color=new _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_11__.BufferViewVec4u8(y)}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/placementUtils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   anchorFromPlacements: function() { return /* binding */ m; },
/* harmony export */   horizontalPlacementFromAnchor: function() { return /* binding */ a; },
/* harmony export */   horizontalPlacementToAnchorX: function() { return /* binding */ i; },
/* harmony export */   namedAnchorToHUDMaterialAnchorPos: function() { return /* binding */ s; },
/* harmony export */   textRenderAlignmentFromHorizontalPlacement: function() { return /* binding */ f; },
/* harmony export */   verticalPlacementFromAlignment: function() { return /* binding */ u; },
/* harmony export */   verticalPlacementFromAnchor: function() { return /* binding */ l; },
/* harmony export */   verticalScreenOffsetFromAlignment: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _webgl_engine_lib_TextRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/TextRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const i=Object.freeze({left:0,center:.5,right:1}),s=Object.freeze({"bottom-left":(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,0),bottom:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5,0),"bottom-right":(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(1,0),left:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,.5),center:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5,.5),right:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(1,.5),"top-left":(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,1),top:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5,1),"top-right":(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(1,1)});function f(t){switch(t){case"left":return _webgl_engine_lib_TextRenderer_js__WEBPACK_IMPORTED_MODULE_2__.TextRenderAlignment.Left;case"right":return _webgl_engine_lib_TextRenderer_js__WEBPACK_IMPORTED_MODULE_2__.TextRenderAlignment.Right;default:return _webgl_engine_lib_TextRenderer_js__WEBPACK_IMPORTED_MODULE_2__.TextRenderAlignment.Center}}function a(t){switch(t){case"bottom-left":case"left":case"top-left":return"left";case"bottom":case"center":case"top":return"center";case"bottom-right":case"right":case"top-right":return"right"}}function l(t){switch(t){case"bottom-left":case"bottom":case"bottom-right":return"bottom";case"left":case"center":case"right":return"center";case"top-left":case"top":case"top-right":return"top"}}function m(t,e){switch(e){case"bottom":return"left"===t?"bottom-left":"right"===t?"bottom-right":"bottom";case"center":return t;case"top":return"left"===t?"top-left":"right"===t?"top-right":"top"}}function u(t){return"middle"===t?"center":t}function h(r,c){switch(r){case"top":return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(c,0,_webgl_engine_lib_TextRenderer_js__WEBPACK_IMPORTED_MODULE_2__.textVerticalPaddingPx);case"bottom":return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(c,0,-_webgl_engine_lib_TextRenderer_js__WEBPACK_IMPORTED_MODULE_2__.textVerticalPaddingPx);default:return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.copy)(c,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.ZEROS)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/polygonUtils.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/polygonUtils.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PolygonCreationDataBase: function() { return /* binding */ g; },
/* harmony export */   createColorGeometry: function() { return /* binding */ m; },
/* harmony export */   createIndices3D: function() { return /* binding */ p; },
/* harmony export */   createWaterGeometry: function() { return /* binding */ l; },
/* harmony export */   geometryAsPolygon: function() { return /* binding */ b; }
/* harmony export */ });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry.js */ "./node_modules/@arcgis/core/geometry.js");
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/earcut.js */ "./node_modules/@arcgis/core/chunks/earcut.js");
/* harmony import */ var _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/Axis.js */ "./node_modules/@arcgis/core/geometry/support/Axis.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _geometry_support_polygonUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/polygonUtils.js */ "./node_modules/@arcgis/core/geometry/support/polygonUtils.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ "./node_modules/@arcgis/core/geometry/Extent.js");
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/Polygon.js */ "./node_modules/@arcgis/core/geometry/Polygon.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function p(r,o,n){const a=(o.length>0?o[0]:r.length/3)-1,s=(0,_geometry_support_polygonUtils_js__WEBPACK_IMPORTED_MODULE_4__.leastSignificantAxis)(r,a,n);if(s!==_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_2__.Axis.Z){r=r.slice();for(let t=0;t<r.length;t+=3)r[t+s]=r[t+2]}return (0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_1__.e)(r,o,3)}function m(t){const e=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(t.attributeData.position,t.indices,3,!0)]],i=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_3__.getZeroIndexArray)(t.indices.length);return null!=t.attributeData.colorFeature?e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute([t.attributeData.colorFeature],i,1,!0)]):t.attributeData.color&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(t.attributeData.color,i,4,!0)]),t.attributeData.uvMapSpace&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.UVMAPSPACE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(t.attributeData.uvMapSpace,t.indices,4,!0)]),t.attributeData.boundingRect&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.BOUNDINGRECT,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(t.attributeData.boundingRect,t.indices,9,!0)]),new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_7__.Geometry(t.material,e,t.mapPositions,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_6__.ContentObjectType.Mesh,t.attributeData.objectAndLayerIdColor)}function l(t,e=null){const r=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(t.attributeData.position,t.indices,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_5__.Attribute(t.attributeData.uv0,t.indices,2,!0)]];return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_7__.Geometry(t.material,r,t.mapPositions,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_6__.ContentObjectType.Mesh,e)}function b(t){switch(t.type){case"extent":if(t instanceof _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__["default"])return _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_10__["default"].fromExtent(t);break;case"polygon":return t}return null}class g{constructor(t,e,r){this.renderData=t,this.layerUid=e,this.graphicUid=r,this.outGeometries=new Array}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/webStyleUtils.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/webStyleUtils.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getResourceUrlFromSymbolStyle: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../symbols/support/styleUtils.js */ "./node_modules/@arcgis/core/symbols/support/styleUtils.js");
/* harmony import */ var _symbols_support_webStyleSymbolUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../symbols/support/webStyleSymbolUtils.js */ "./node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
async function r(r){if(null===r||null==r.styleName&&null==r.styleUrl)return null;const o=r.name;if(null==o)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__["default"]("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference");const u={portal:r.portal},i=await (0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_1__.fetchStyle)(r,u).catch((()=>null));if(null===i)return null;const m=(0,_symbols_support_webStyleSymbolUtils_js__WEBPACK_IMPORTED_MODULE_2__.getStyleItemFromStyle)(o,i.data);if(m&&!m.formatInfos?.some((l=>"gltf_basisu"===l.type)))return null;const a=await (0,_symbols_support_webStyleSymbolUtils_js__WEBPACK_IMPORTED_MODULE_2__.fetchSymbolFromStyle)(i,o,u,"webRef",((l,t)=>(0,_symbols_support_styleUtils_js__WEBPACK_IMPORTED_MODULE_1__.symbolUrlFromStyleItem)(l,t,["gltf_basisu","gltf"]))).catch((()=>null));if(null===a||"point-3d"!==a.type)return null;const y=a.symbolLayers.items[0];return"object"===y.type?y.resource:null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/wosrLoader.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createTextureResources: function() { return /* binding */ E; },
/* harmony export */   load: function() { return /* binding */ A; },
/* harmony export */   processLoadResult: function() { return /* binding */ T; }
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../request.js */ "./node_modules/@arcgis/core/request.js");
/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ "./node_modules/@arcgis/core/core/asyncUtils.js");
/* harmony import */ var _core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/byteSizeEstimations.js */ "./node_modules/@arcgis/core/core/byteSizeEstimations.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/NestedMap.js */ "./node_modules/@arcgis/core/core/NestedMap.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_Version_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/Version.js */ "./node_modules/@arcgis/core/core/Version.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../support/requestImageUtils.js */ "./node_modules/@arcgis/core/support/requestImageUtils.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/materials/DefaultMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const v=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__["default"].getLogger("esri.views.3d.layers.graphics.objectResourceUtils");async function A(e,t){const n=await j(e,t),s=await E(n.textureDefinitions??{},t);let a=0;for(const r in s)if(s.hasOwnProperty(r)){const e=s[r];a+=e?.image?e.image.width*e.image.height*4:0}return{resource:n,textures:s,size:a+(0,_core_byteSizeEstimations_js__WEBPACK_IMPORTED_MODULE_2__.estimateNestedObjectSize)(n)}}async function j(r,n){const s=n?.streamDataRequester;if(s)return I(r,s,n);const a=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)((0,_request_js__WEBPACK_IMPORTED_MODULE_0__["default"])(r,n));if(!0===a.ok)return a.value.data;(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError)(a.error),P(a.error)}async function I(e,r,n){const s=await (0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_1__.result)(r.request(e,"json",n));if(!0===s.ok)return s.value;(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__.throwIfAbortError)(s.error),P(s.error.details.url)}function P(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__["default"]("",`Request for object resource failed: ${e}`)}function M(e){const t=e.params,r=t.topology;let n=!0;switch(t.vertexAttributes||(v().warn("Geometry must specify vertex attributes"),n=!1),t.topology){case"PerAttributeArray":break;case"Indexed":case null:case void 0:{const e=t.faces;if(e){if(t.vertexAttributes)for(const r in t.vertexAttributes){const t=e[r];t?.values?(null!=t.valueType&&"UInt32"!==t.valueType&&(v().warn(`Unsupported indexed geometry indices type '${t.valueType}', only UInt32 is currently supported`),n=!1),null!=t.valuesPerElement&&1!==t.valuesPerElement&&(v().warn(`Unsupported indexed geometry values per element '${t.valuesPerElement}', only 1 is currently supported`),n=!1)):(v().warn(`Indexed geometry does not specify face indices for '${r}' attribute`),n=!1)}}else v().warn("Indexed geometries must specify faces"),n=!1;break}default:v().warn(`Unsupported topology '${r}'`),n=!1}e.params.material||(v().warn("Geometry requires material"),n=!1);const s=e.params.vertexAttributes;for(const a in s){s[a].values||(v().warn("Geometries with externally defined attributes are not yet supported"),n=!1)}return n}function T(e,t){const r=new Array,n=new Array,s=new Array,o=new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__.NestedMap,u=e.resource,c=_core_Version_js__WEBPACK_IMPORTED_MODULE_7__.Version.parse(u.version||"1.0","wosr");q.validate(c);const p=u.model.name,g=u.model.geometries,h=u.materialDefinitions??{},v=e.textures;let A=0;const j=new Map;for(let a=0;a<g.length;a++){const e=g[a];if(!M(e))continue;const i=k(e),u=e.params.vertexAttributes,c=[],p=t=>{if("PerAttributeArray"===e.params.topology)return null;const r=e.params.faces;for(const e in r)if(e===t)return r[e].values;return null},I=u[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION],P=I.values.length/I.valuesPerElement;for(const t in u){const e=u[t],r=e.values,n=p(t)??(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_10__.getContinuousIndexArray)(P);c.push([t,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_12__.Attribute(r,n,e.valuesPerElement,!0)])}const T=i.texture,U=v&&v[T];if(U&&!j.has(T)){const{image:e,parameters:t}=U,r=new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_15__.Texture(e,t);n.push(r),j.set(T,r)}const E=j.get(T),q=E?E.id:void 0,R=i.material;let B=o.get(R,T);if(null==B){const e=h[R.slice(R.lastIndexOf("/")+1)].params;1===e.transparency&&(e.transparency=0);const r=U&&U.alphaChannelUsage,n=e.transparency>0||"transparency"===r||"maskAndTransparency"===r,s=U?O(U.alphaChannelUsage):void 0,a={ambient:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.fromArray)(e.diffuse),diffuse:(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.fromArray)(e.diffuse),opacity:1-(e.transparency||0),transparent:n,textureAlphaMode:s,textureAlphaCutoff:.33,textureId:q,initTextureTransparent:!0,doubleSided:!0,cullFace:_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.CullFaceOptions.None,colorMixMode:e.externalColorMixMode||"tint",textureAlphaPremultiplied:U?.parameters.preMultiplyAlpha??!1};t?.materialParameters&&Object.assign(a,t.materialParameters),B=new _webgl_engine_materials_DefaultMaterial_js__WEBPACK_IMPORTED_MODULE_17__.DefaultMaterial(a,t),o.set(R,T,B)}s.push(B);const C=new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_14__.Geometry(B,c);A+=c.find((e=>e[0]===_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION))?.[1]?.indices.length??0,r.push(C)}return{engineResources:[{name:p,stageResources:{textures:n,materials:s,geometries:r},pivotOffset:u.model.pivotOffset,numberOfVertices:A,lodThreshold:null}],referenceBoundingBox:U(r)}}function U(e){const t=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.empty)();return e.forEach((e=>{const r=e.boundingInfo;null!=r&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.expandWithVec3)(t,r.bbMin),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.expandWithVec3)(t,r.bbMax))})),t}async function E(e,t){const r=new Array;for(const a in e){const n=e[a],s=n.images[0].data;if(!s){v().warn("Externally referenced texture data is not yet supported");continue}const o=n.encoding+";base64,"+s,i="/textureDefinitions/"+a,l="rgba"===n.channels?n.alphaChannelUsage||"transparency":"none",u={noUnpackFlip:!0,wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.TextureWrapMode.REPEAT,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_18__.TextureWrapMode.REPEAT},preMultiplyAlpha:O(l)!==_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.AlphaDiscardMode.Opaque},c=t?.disableTextures?Promise.resolve(null):(0,_support_requestImageUtils_js__WEBPACK_IMPORTED_MODULE_11__.requestImage)(o,t);r.push(c.then((e=>({refId:i,image:e,parameters:u,alphaChannelUsage:l}))))}const n=await Promise.all(r),s={};for(const a of n)s[a.refId]=a;return s}function O(e){switch(e){case"mask":return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.AlphaDiscardMode.Mask;case"maskAndTransparency":return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.AlphaDiscardMode.MaskBlend;case"none":return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.AlphaDiscardMode.Opaque;default:return _webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_13__.AlphaDiscardMode.Blend}}function k(e){const t=e.params;return{id:1,material:t.material,texture:t.texture,region:t.texture}}const q=new _core_Version_js__WEBPACK_IMPORTED_MODULE_7__.Version(1,2,"wosr");


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/patternUtils.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/patternUtils.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createMaterial: function() { return /* binding */ s; },
/* harmony export */   parsePatternStyle: function() { return /* binding */ l; },
/* harmony export */   requiresUVUpdates: function() { return /* binding */ c; },
/* harmony export */   updateMapSpaceUVCoords: function() { return /* binding */ u; },
/* harmony export */   uvElevationAligner: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _graphics_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../graphics/ElevationAligners.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationAligners.js");
/* harmony import */ var _uvUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uvUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/support/uvUtils.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/materials/ColorMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js");
/* harmony import */ var _webgl_engine_materials_PatternMaterial_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl-engine/materials/PatternMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js");
/* harmony import */ var _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl-engine/materials/PatternStyle.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternStyle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function s(e,r){const a=e?.pattern;return null==a?new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_5__.ColorMaterial(r):"none"===a.style||"solid"===a.style?("none"===a.style&&(r.color=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,0,0,0),r.forceTransparentMode=!0),new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_5__.ColorMaterial(r)):(r.style=l(a.style),new _webgl_engine_materials_PatternMaterial_js__WEBPACK_IMPORTED_MODULE_6__.PatternMaterial(r))}function l(t){switch(t){case"horizontal":return _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__.Style.Horizontal;case"vertical":return _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__.Style.Vertical;case"cross":return _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__.Style.Cross;case"forward-diagonal":return _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__.Style.ForwardDiagonal;case"backward-diagonal":return _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__.Style.BackwardDiagonal;case"diagonal-cross":return _webgl_engine_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_7__.Style.DiagonalCross;default:return}}function c(t){return t.material instanceof _webgl_engine_materials_PatternMaterial_js__WEBPACK_IMPORTED_MODULE_6__.PatternMaterial&&!t.material.parameters.draped}function u(t,e){if(c(t)){const o=t.attributes.get(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.POSITION).data,n=t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.UVMAPSPACE).data,i=t.getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_4__.VertexAttribute.BOUNDINGRECT).data;(0,_uvUtils_js__WEBPACK_IMPORTED_MODULE_3__.createMapSpaceUVCoords)(n,i,o,e)}}function m(t,r,a,o,n){const i=(0,_graphics_ElevationAligners_js__WEBPACK_IMPORTED_MODULE_2__.perVertexElevationAligner)(t,r,a,o,n),s=t.stageObject.geometries;for(const e of s)u(e,n);return i}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/uvUtils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/uvUtils.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createMapSpaceUVCoords: function() { return /* binding */ M; },
/* harmony export */   createMapSpaceUVCoordsDraped: function() { return /* binding */ T; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/projection/projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function T(t,r,e,s,i=1){if(e.isGeographic&&s===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_9__.ViewingMode.Global){const t=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_7__.newDoubleArray)(r.length),o=r.length,s=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__.getReferenceEllipsoid)(e);for(let e=0;e<o;e+=3)(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_6__.lonLatToWebMercatorComparable)(r,e,t,e,s);r=t}(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__.set)(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);for(let o=0;o<r.length;o+=3)y[0]=Math.min(y[0],r[o]),y[1]=Math.min(y[1],r[o+1]);const a=y[0]%i,m=y[1]%i,n=y[0]-a,c=y[1]-m;for(let o=0;o<r.length;o+=3){const e=o/3*4;t[e]=(r[o]-n)/i,t[e+1]=(r[o+1]-c)/i,t[e+2]=n/i,t[e+3]=c/i}}function M(t,r,n,c,l=1){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(F,1,0,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(Y,0,1,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(_,0,0,1),D(x,n),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.fromArray)(V,n)&&O(V,F,Y,_,c,x),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__.set)(y,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_1__.set)(P,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(let o=0;o<n.length;o+=3){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(E,n[o],n[o+1],n[o+2]);const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(F,E),r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(Y,E);y[0]=Math.min(y[0],t),y[1]=Math.min(y[1],r),P[0]=Math.max(P[0],t),P[1]=Math.max(P[1],r)}const f=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(_,x);q(v,y[0],y[1],f,F,Y,_),q(A,P[0],y[1],f,F,Y,_),q(G,y[0],P[1],f,F,Y,_),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.d)(A,A,v),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.h)(A,A,.5),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.d)(G,G,v),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.h)(G,G,.5),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.g)(v,v,A),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.g)(v,v,G);const I=y[0]%l,h=y[1]%l,p=y[0]-I,N=y[1]-h;for(let o=0;o<n.length;o+=3){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(E,n[o],n[o+1],n[o+2]);const i=o/3,a=4*i;t[a]=((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(F,E)-p)/l,t[a+1]=((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(Y,E)-N)/l,t[a+2]=p/l,t[a+3]=N/l;const m=9*i;for(let t=0;t<3;t++)r[m+t]=v[t],r[m+t+3]=A[t],r[m+t+6]=G[t]}}const x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),E=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),V=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.create)(),F=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),Y=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),_=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),y=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),P=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),v=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),A=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),G=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();function O(t,o,r,i,m,I){null!=m?(m.basisMatrixAtPosition(I,S),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(d,S[0],S[1],S[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(k,S[4],S[5],S[6]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(w,S[8],S[9],S[10])):((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(d,1,0,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(k,0,1,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(w,0,0,1));const h=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__.getNormal)(t);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(h,w)<0&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.h)(h,h,-1),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.c)(i,h);const p=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(h,k),N=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.f)(h,d);Math.abs(p)>Math.abs(N)?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.b)(o,d,h,-N),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(o,o),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.e)(r,o,h),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(r,r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.h)(r,r,-1)):((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.b)(r,k,h,-p),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(r,r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.e)(o,r,h),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.n)(o,o))}const S=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)(),d=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),k=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),w=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();function D(t,o){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(U,0,0,0);for(let r=0;r<o.length-3;r+=3)U[0]+=o[r],U[1]+=o[r+1],U[2]+=o[r+2];(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.h)(t,U,1/(o.length/3-1))}const U=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.create)();function q(t,o,r,s,i,a,m){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.i)(t,o*i[0]+r*a[0]+s*m[0],o*i[1]+r*a[1]+s*m[1],o*i[2]+r*a[2]+s*m[2])}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   glLayout: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(e,t=0){const n=e.stride;return Array.from(e.fields.keys()).map((s=>{const i=e.fields.get(s),u=i.constructor.ElementCount,f=o(i.constructor.ElementType),c=i.offset,m=i.optional?.glNormalized??!1;return new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__.VertexElementDescriptor(s,u,f,c,n,m,t)}))}function o(e){const r=n[e];if(r)return r;throw new Error("BufferType not supported in WebGL")}const n={u8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_BYTE,u16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_SHORT,u32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.UNSIGNED_INT,i8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.BYTE,i16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.SHORT,i32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.INT,f32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__.DataType.FLOAT};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/engineContent/line.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/engineContent/line.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createGeometry: function() { return /* binding */ b; },
/* harmony export */   lineStripsToParameters: function() { return /* binding */ R; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/ellipsoidUtils.js */ "./node_modules/@arcgis/core/geometry/ellipsoidUtils.js");
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/projection/projectors.js */ "./node_modules/@arcgis/core/geometry/projection/projectors.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_7__.getZeroIndexArray)(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_11__.Geometry(t,o,n,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_10__.ContentObjectType.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(n??_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.ONES,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.COLORFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.SIZE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.SIZEFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.OPACITYFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==_ViewingMode_js__WEBPACK_IMPORTED_MODULE_8__.ViewingMode.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_5__.newDoubleArray)(u.length),f=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__.getReferenceEllipsoid)(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_4__.lonLatToWebMercatorComparable)(u,t,p,t,f);const b=u.length/3,g=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_6__.newFloatArray)(b+1);let h=I,T=F,D=0,j=0;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(T,p[j++],p[j++]),j++,D+=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.dist)(h,T),g[n]=D,[h,T]=[T,h];o.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__.VertexAttribute.DISTANCETOSTART,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_9__.Attribute(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),F=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_5__.newDoubleArray)(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   geometryToRenderInfo: function() { return /* binding */ p; },
/* harmony export */   geometryToRenderInfoDraped: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/triangulationUtils.js */ "./node_modules/@arcgis/core/geometry/support/triangulationUtils.js");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function p(o,t,s,p){const l="polygon"===o.type?_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.CCW_IS_HOLE:_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.NONE,a="polygon"===o.type?o.rings:o.paths,{position:u,outlines:f}=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.ringsToTriangulationInfo)(a,!!o.hasZ,l,o.spatialReference),m=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.newDoubleArray)(u.length),g=(0,_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__.applyPerVertexElevationAlignment)(u,o.spatialReference,0,m,0,u,0,u.length/3,t,s,p),y=null!=g;return{lines:y?c(f,u,m):[],projectionSuccess:y,sampledElevation:g}}function l(e,t){const i="polygon"===e.type?_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.CCW_IS_HOLE:_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.NONE,p="polygon"===e.type?e.rings:e.paths,{position:l,outlines:a}=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.ringsToTriangulationInfo)(p,!1,i),u=(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__.projectBuffer)(l,e.spatialReference,0,l,t,0);for(let o=2;o<l.length;o+=3)l[o]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__.drapedZ;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(e,3*i,3*s),mapPositions:null!=n?(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(n,o,p):void 0})}return r}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/polygon.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/renderInfoUtils/polygon.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PolygonRenderInfo: function() { return /* binding */ g; },
/* harmony export */   PolygonVertexData: function() { return /* binding */ m; },
/* harmony export */   PolygonVertexDataDraped: function() { return /* binding */ f; },
/* harmony export */   geometryToRenderInfo: function() { return /* binding */ p; },
/* harmony export */   geometryToRenderInfoDraped: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../geometry/projection/projectBuffer.js */ "./node_modules/@arcgis/core/geometry/projection/projectBuffer.js");
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/DoubleArray.js */ "./node_modules/@arcgis/core/geometry/support/DoubleArray.js");
/* harmony import */ var _geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/triangulationUtils.js */ "./node_modules/@arcgis/core/geometry/support/triangulationUtils.js");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js");
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../terrain/OverlayRenderer.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function p(o,n,r,p){const c=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.ringsToTriangulationInfo)(o.rings,!!o.hasZ&&"on-the-ground"!==p.mode,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.CCW_IS_HOLE,o.spatialReference),a=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.newDoubleArray)(c.position.length),h=(0,_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__.applyPerVertexElevationAlignment)(c.position,o.spatialReference,0,a,0,c.position,0,c.position.length/3,n,r,p),m=null!=h;return new g(c.position,a,u(c.polygons,c.position,a),l(c.outlines,c.position,a),m,h)}function c(t,n){const e=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.ringsToTriangulationInfo)(t.rings,!1,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__.CounterClockwiseMode.CCW_IS_HOLE),p=(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__.projectBuffer)(e.position,t.spatialReference,0,e.position,n,0);for(let o=2;o<e.position.length;o+=3)e.position[o]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__.drapedZ;return{position:e.position,polygons:u(e.polygons,e.position),outlines:l(e.outlines,e.position),projectionSuccess:p}}function l(o,t,s=null){return o.filter((({count:o})=>o>1)).map((({index:o,count:i})=>{const e=3*o,r=3*i;return null!=s?new h(o,i,(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(t,e,r),(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(s,e,r)):new a(o,i,(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(t,e,r))}))}function u(o,t,s=null){const i=new Array;for(const{index:e,count:r,holeIndices:p,pathLengths:c}of o){if(r<=1)continue;const o=3*e,l=3*r,u=p.map((o=>o-e)),a=null!=s?new m(e,r,(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(t,3*e,3*r),(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(s,o,l),u,c):new f(e,r,(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__.doubleSubArray)(t,3*e,3*r),u,c);i.push(a)}return i}class a{constructor(o,t,n){this.index=o,this.count=t,this.position=n}}class h extends a{constructor(o,t,n,s){super(o,t,n),this.mapPositions=s}}class m extends h{constructor(o,t,n,s,i,e){super(o,t,n,s),this.holeIndices=i,this.pathLengths=e}}class f extends a{constructor(o,t,n,s,i){super(o,t,n),this.holeIndices=s,this.pathLengths=i}}class g{constructor(o,t,n,s,i,e){this.position=o,this.mapPositions=t,this.polygons=n,this.outlines=s,this.projectionSuccess=i,this.sampledElevation=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/Intersector.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/Intersector.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayTarget: function() { return /* binding */ i; },
/* harmony export */   isOverlayIntersectorResult: function() { return /* binding */ o; },
/* harmony export */   isTerrainIntersectorResult: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _webgl_engine_lib_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl-engine/lib/IntersectorTarget.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js");
/* harmony import */ var _webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl-engine/lib/intersectorUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function n(r){return (0,_webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r)&&r.intersector===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.TERRAIN&&!!r.target}class i extends _webgl_engine_lib_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__.Graphic3DTarget{constructor(e,r,t){super(e,r),this.triangleNr=t}}function o(r){return (0,_webgl_engine_lib_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r)&&r.intersector===_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.OVERLAY&&!!r.target}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/Overlay.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/Overlay.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Overlay: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _webgl_engine_lib_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../webgl-engine/lib/LocalOriginFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(){this._extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.resolution=0,this.renderLocalOrigin=(0,_webgl_engine_lib_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,0,0,"O"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new r}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryView();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.offset)(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.offset)(this._extent,-e.range,0,s)}}setupGeometryView(){this.canvasGeometries.numViews=1,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.copy)(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class r{constructor(){this.extents=[(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)(),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__.create)()],this.numViews=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayContent: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var o;!function(o){o[o.Color=0]="Color",o[o.ColorNoRasterImage=1]="ColorNoRasterImage",o[o.Highlight=2]="Highlight",o[o.WaterNormal=3]="WaterNormal",o[o.Occluded=4]="Occluded",o[o.ObjectAndLayerIdColor=5]="ObjectAndLayerIdColor"}(o||(o={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayFramebufferObject: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(e,t,h){this._fbos=e,this._format=t,this._name=h}get valid(){return null!=this._handle?.getTexture()}dispose(){this._handle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.releaseMaybe)(this._handle)}get texture(){return this._handle?.getTexture()}bind(e,t,h){this._handle&&this._handle.fbo?.width===t&&this._handle.fbo?.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(t,h,this._name,this._format)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.getTexture()?.descriptor?.hasMipmap&&this._handle?.getTexture()?.generateMipmap()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderTargets: function() { return /* binding */ i; },
/* harmony export */   RenderTargetDescriptor: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./OverlayContent.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js");
/* harmony import */ var _OverlayFramebufferObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OverlayFramebufferObject.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js");
/* harmony import */ var _webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../webgl/formats.js */ "./node_modules/@arcgis/core/views/3d/webgl/formats.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../webgl-engine/effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(e,t,l,s,i=_webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__.ColorFormat.RGBA_MIPMAP){this.output=l,this.content=s,this.fbo=new _OverlayFramebufferObject_js__WEBPACK_IMPORTED_MODULE_1__.OverlayFramebufferObject(e,i,t)}get valid(){return this.fbo.valid}}class i{constructor(r){this.targets=[new s(r,"overlay color",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.Color),new s(r,"overlay IM color",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.ColorNoRasterImage),new s(r,"overlay highlight",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.Highlight,_webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__.ColorFormat.RG),new s(r,"overlay water",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Normal,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.WaterNormal),new s(r,"overlay occluded",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.Occluded)],(0,_webgl_engine_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__.olidEnabled)()&&this.targets.push(new s(r,"overlay olid",_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.ObjectAndLayerIdColor,_OverlayContent_js__WEBPACK_IMPORTED_MODULE_0__.OverlayContent.ObjectAndLayerIdColor,_webgl_formats_js__WEBPACK_IMPORTED_MODULE_2__.ColorFormat.RGBA))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,o)=>r.valid?e|=1<<o:e),0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderer: function() { return /* binding */ Z; },
/* harmony export */   drapedZ: function() { return /* binding */ re; },
/* harmony export */   overlayRenderOccludedFlag: function() { return /* binding */ te; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../layers/interfaces.js */ "./node_modules/@arcgis/core/views/3d/layers/interfaces.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _Overlay_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Overlay.js */ "./node_modules/@arcgis/core/views/3d/terrain/Overlay.js");
/* harmony import */ var _OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./OverlayContent.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js");
/* harmony import */ var _OverlayRenderTargets_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./OverlayRenderTargets.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js");
/* harmony import */ var _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../chunks/TextureOnly.glsl.js */ "./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js");
/* harmony import */ var _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../webgl-engine/effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _webgl_engine_effects_highlight_Highlight_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../webgl-engine/effects/highlight/Highlight.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js");
/* harmony import */ var _webgl_engine_lib_GLMaterialRepository_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../webgl-engine/lib/GLMaterialRepository.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js");
/* harmony import */ var _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../webgl-engine/lib/GridLocalOriginFactory.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js");
/* harmony import */ var _webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../webgl-engine/lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../webgl-engine/lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../webgl-engine/lib/RenderContext.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js");
/* harmony import */ var _webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../webgl-engine/lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _webgl_engine_lib_ShadowMap_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../webgl-engine/lib/ShadowMap.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js");
/* harmony import */ var _webgl_engine_lib_SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../webgl-engine/lib/SortedRenderGeometryRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js");
/* harmony import */ var _webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../webgl-engine/lib/TextureTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js");
/* harmony import */ var _webgl_engine_lib_TextureTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../webgl-engine/lib/TextureTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js");
/* harmony import */ var _webgl_engine_lib_Update_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../webgl-engine/lib/Update.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js");
/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../webgl-engine/lib/UpdatePolicy.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js");
/* harmony import */ var _webgl_engine_lighting_Lightsources_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../webgl-engine/lighting/Lightsources.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js");
/* harmony import */ var _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../chunks/OverlayCompositing.glsl.js */ "./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js");
/* harmony import */ var _webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../webgl-engine/shaders/OverlayCompositingTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let Z=class extends _webgl_engine_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_25__.SyncRenderPlugin{constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_40__.O,this.hasHighlights=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_5__["default"],this._passParameters=new _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_24__.T,this._materials=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_21__["default"],this.worldToPCSRatio=1,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.longitudeCyclical=null,this.produces=new Map([[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,e=>e!==_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Highlight||this.hasHighlights],[_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_WATER,()=>this._hasWater]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const{view:e}=this,{_stage:r}=e,t=r.renderer.fboCache,s=r.renderView,{waterTextures:i,textures:h}=s;this._renderContext=new _webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.OverlayRenderContext(this._rctx,new _webgl_engine_lib_ShadowMap_js__WEBPACK_IMPORTED_MODULE_33__.ShadowMap(t,e.state.viewingMode)),this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>i.updating),(()=>this.events.emit("content-changed")),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>this.spatialReference),(e=>this._localOriginFactory=new _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_28__.GridLocalOriginFactory(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.on)((()=>this.view.allLayerViews),"after-changes",(()=>this._sortedDrapeSourceRenderersDirty=!0)),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>(0,_webgl_engine_effects_highlight_Highlight_js__WEBPACK_IMPORTED_MODULE_26__.trackHighlightOptions)(this.view.highlights)),(()=>this._sortedDrapeSourceRenderersDirty=!0),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.syncAndInitial)]),this._materials=new _webgl_engine_lib_GLMaterialRepository_js__WEBPACK_IMPORTED_MODULE_27__.GLMaterialRepository(h,this._techniques,(()=>{this.notifyChange("rendersOccludedDraped"),this.events.emit("content-changed"),this.notifyChange("updating"),this.notifyChange("isEmpty")}),(()=>this.events.emit("content-changed")));const{_bindParameters:d,_camera:l}=this;d.slot=_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,d.mainDepth=null,l.near=1,l.far=1e4,l.relativeElevation=null,d.camera=this._camera,d.oitPass=_webgl_engine_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_30__.OITPass.NONE,d.updateLighting([new _webgl_engine_lighting_Lightsources_js__WEBPACK_IMPORTED_MODULE_39__.AmbientLight((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.ones)())],0,0,_webgl_engine_lib_Update_js__WEBPACK_IMPORTED_MODULE_37__.Update.Immediate),this.addHandles(this.view.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_42__.TaskPriority.STAGE,this))}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._passParameters.texture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._passParameters.texture),this.disposeOverlays()}get _bindParameters(){return this._renderContext.bind}get _rctx(){return this.view._stage.renderView.renderingContext}get _techniques(){return this.view._stage.renderView.techniques}get rctx(){return this._rctx}get materials(){return this._materials}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}get pluginContext(){return this._pluginContext}initializeRenderContext(e){this._pluginContext=e,this._techniques.precompile(_webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_41__.OverlayCompositingTechnique)}uninitializeRenderContext(){}acquireTechniques(){return[]}render(){}get updating(){return this._sortedDrapeSourceRenderersDirty||(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMaterialRenderer(e){for(const r of this._renderers.values()){const t=r.getMaterialRenderer(e);if(t)return t}return null}get layers(){return this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers(),this._sortedRenderers.map((e=>e.drapeSource.layer)).filter((e=>!!e))}createGeometryDrapeSourceRenderer(e){return this.createDrapeSourceRenderer(e,_webgl_engine_lib_SortedRenderGeometryRenderer_js__WEBPACK_IMPORTED_MODULE_34__.SortedRenderGeometryRenderer)}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,"fullOpacity"in e&&this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_6__.watch)((()=>e.fullOpacity),(()=>this.events.emit("content-changed"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e,(e=>e.drapeTargetType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeTargetType.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e,(e=>e.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.Features)),this._hasDrapedRasterSource=(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.someSet)(e,(e=>e.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new _OverlayRenderTargets_js__WEBPACK_IMPORTED_MODULE_20__.OverlayRenderTargets(this.view._stage.renderer.fboCache),this._overlays=[new _Overlay_js__WEBPACK_IMPORTED_MODULE_18__.Overlay,new _Overlay_js__WEBPACK_IMPORTED_MODULE_18__.Overlay]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._renderTargets),this.events.emit("textures-disposed")}getTexture(e){if(null!=e)return e===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges()&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange("updating"),this.notifyChange("isEmpty"),this.events.emit("content-changed"),this.hasHighlights=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>e.hasHighlights)),this.notifyChange("rendersOccludedDraped"),this._updateHasWater())}processSyncDrapeSources(){this._processDrapeSources(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_42__.noBudget,(e=>e.updatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_38__.UpdatePolicy.SYNC))}get isEmpty(){return!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE&&!(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>!e.isEmpty))}get hasWater(){return this._hasWater}get rendersOccludedDraped(){const e=this._renderContext.renderOccludedMask;this._renderContext.renderOccludedMask=te,++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,this._renderContext.renderOccludedMask=e,r}renders(e){if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE&&e!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&e!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Highlight)return!0;++this._techniques.precompiling;const r=this._sortedRenderers.some((({renderer:e})=>e.precompile(this._renderContext)));return--this._techniques.precompiling,r}get mode(){return this.isEmpty?_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.Disabled:this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.WaterNormal)?_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.EnabledWithWater:this._renderTargets?.getTexture(_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Color)?_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.Enabled:_webgl_engine_core_shaderLibrary_terrain_Overlay_glsl_js__WEBPACK_IMPORTED_MODULE_23__.OverlayMode.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}precompileShaders(e){if(this._renderTargets){this._bindParameters.alignPixelEnabled=e.alignPixelEnabled,this._bindParameters.highlightGroupName=null,++this._techniques.precompiling;for(const e of this._renderTargets.targets){if(e.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const r=e.output;this._renderContext.output=r,this._bindParameters.slot=r===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Normal?_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_WATER:_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,e.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&(this._renderContext.renderOccludedMask=te),this._sortedRenderers.forAll((({drapeSource:r,renderer:t})=>{e.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&r.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.RasterImage||t.precompile(this._renderContext)})),this._renderContext.renderOccludedMask=_webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.defaultRenderOccludedMask}--this._techniques.precompiling}}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryView();this._bindParameters.alignPixelEnabled=e.alignPixelEnabled;for(const r of this._renderTargets.targets){if(r.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&!this._needsColorWithoutRasterImage)continue;const t=this._drawTarget(_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER,r,e),s=this._drawTarget(_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.OUTER,r,e);(t||s)&&r.fbo.generateMipMap()}}}_drawTarget(e,r,t){const s=this._overlays[e],i=s.canvasGeometries;if(0===i.numViews)return!1;const{contentPixelRatio:o}=t;this._screenToWorldRatio=o*s.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Normal&&!this.hasWater||!s.hasSomeSizedView())return!1;const{_rctx:a,_bindParameters:h}=this;if(this._camera.pixelRatio=s.pixelRatio*o,this._renderContext.output=n,h.screenToWorldRatio=this._screenToWorldRatio,h.screenToPCSRatio=this._screenToWorldRatio*this.worldToPCSRatio,h.slot=n===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Normal?_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_WATER:_webgl_engine_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_32__.RenderSlot.DRAPED_MATERIAL,r.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&(this._renderContext.renderOccludedMask=te),h.highlightGroupName=null,!this.renders(r.content))return this._renderContext.renderOccludedMask=_webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.defaultRenderOccludedMask,!1;const{resolution:d}=s,l=e===_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER?0:d;a.setViewport(l,0,d,d),this._bindTargetFBO(r),e===_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER&&(a.setClearColor(0,0,0,0),a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__.FramebufferBit.COLOR));if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_16__.debugFlags.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Occluded&&r.content!==_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.Highlight){this._techniques.precompile(_webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_35__.TextureTechnique,se);const r=this._techniques.acquire(_webgl_engine_lib_TextureTechnique_js__WEBPACK_IMPORTED_MODULE_35__.TextureTechnique,se);for(let t=0;t<i.numViews;t++)this._setViewParameters(i.extents[t],s),this._ensureDebugPatternResources(s.resolution,ee[e]),a.bindTechnique(r,h,this._passParameters),a.screen.draw();r.release()}if(r.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Highlight){const{fboCache:t}=this.view._stage.renderer,s=this._resolution;(0,_webgl_engine_effects_highlight_Highlight_js__WEBPACK_IMPORTED_MODULE_26__.renderHighlightBuffer)(a,t,{width:s,height:s},this.view.highlights,h,(()=>this._renderAllGeometry(e,r)),l,(()=>this._bindTargetFBO(r)))}else this._renderAllGeometry(e,r);return a.bindFramebuffer(null),this._renderContext.renderOccludedMask=_webgl_engine_lib_RenderContext_js__WEBPACK_IMPORTED_MODULE_31__.defaultRenderOccludedMask,!0}_renderAllGeometry(e,r){const t=this._overlays[e],s=t.canvasGeometries;this._sortedRenderers.forAll((({drapeSource:i,renderer:o})=>{if(r.content===_OverlayContent_js__WEBPACK_IMPORTED_MODULE_19__.OverlayContent.ColorNoRasterImage&&i.drapeSourceType===_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapeSourceType.RasterImage)return;const{fullOpacity:n}=i,a=null!=n&&n<1&&r.output===_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_22__.ShaderOutput.Color&&this._bindTemporaryFBO();for(let e=0;e<s.numViews;e++)this._setViewParameters(s.extents[e],t),o.render(this._renderContext);if(a){this._bindTargetFBO(r),this._overlayParameters.texture=a.getTexture(),this._overlayParameters.opacity=n,this._overlayParameters.overlayIndex=e;const t=this._techniques.acquire(_webgl_engine_shaders_OverlayCompositingTechnique_js__WEBPACK_IMPORTED_MODULE_41__.OverlayCompositingTechnique);this._rctx.bindTechnique(t,this._bindParameters,this._overlayParameters),this._rctx.screen.draw(),t.release(),a.release()}}))}_bindTargetFBO(e){const r=this._resolution,t=2*r;e.fbo.bind(this._rctx,t,r)}_bindTemporaryFBO(){const e=this._resolution,r=2*e,t=this.view._stage.renderer.fboCache,s=t.acquire(r,e,"overlay tmp");return t.rctx.bindFramebuffer(s.fbo),t.rctx.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__.FramebufferBit.COLOR),s}get _resolution(){return this._overlays?.[_interfaces_js__WEBPACK_IMPORTED_MODULE_17__.OverlayIndex.INNER].resolution??0}notifyContentChanged(){this.events.emit("content-changed")}intersect(e,r,t,s){this._sortedDrapeSourceRenderersDirty&&this._updateSortedDrapeSourceRenderers();let i=0;for(const{renderer:o}of this._sortedRenderers)i=o.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this.view.map.allLayers,r=e.length;this._renderers.forEach(((t,s)=>{const i=e.indexOf(s.layer),o=i>=0,n=s.renderGroup??(o?_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapedRenderGroup.MapLayer:_layers_interfaces_js__WEBPACK_IMPORTED_MODULE_15__.DrapedRenderGroup.ViewLayer),a=r*n+(o?i:0);this._sortedRenderers.push(new $(s,t,a))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.ortho)(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_12__.fromTranslation)(t.viewMatrix,[-e[0],-e[1],0])}_updateHasWater(){const e=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e,this.events.emit("has-water"))}_ensureDebugPatternResources(e,r){if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let o=0;o<e;o++)for(let r=0;r<e;r++){const i=Math.floor(r/10),n=Math.floor(o/10);i<2||n<2||10*i>e-20||10*n>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&n?1&r^1&o?0:255:1&i^1&n?0:128)}const i=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_45__.TextureDescriptor(e);i.samplingMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_43__.TextureSamplingMode.NEAREST,this._passParameters.texture=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_44__.Texture(this._rctx,i,t)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"hasHighlights",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"_sortedDrapeSourceRenderersDirty",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],Z.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],Z.prototype,"_techniques",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"worldToPCSRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({type:Boolean,readOnly:!0})],Z.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)()],Z.prototype,"isEmpty",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({readOnly:!0})],Z.prototype,"rendersOccludedDraped",null),Z=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__.subclass)("esri.views.3d.terrain.OverlayRenderer")],Z);class ${constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const ee=[[1,.5,.5],[.5,.5,1]],re=-2,te=_webgl_engine_lib_Material_js__WEBPACK_IMPORTED_MODULE_29__.RenderOccludedFlag.OccludeAndTransparent,se=new _webgl_engine_lib_TextureTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_36__.TextureTechniqueConfiguration;se.hasAlpha=!0;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/terrain/interfaces.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayIndex: function() { return /* binding */ E; },
/* harmony export */   PatchType: function() { return /* binding */ A; },
/* harmony export */   TextureUpdate: function() { return /* binding */ O; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var E,A,O;!function(E){E[E.INNER=0]="INNER",E[E.OUTER=1]="OUTER"}(E||(E={})),function(E){E[E.REGULAR=0]="REGULAR",E[E.HAS_NORTH_POLE=1]="HAS_NORTH_POLE",E[E.HAS_SOUTH_POLE=2]="HAS_SOUTH_POLE",E[E.HAS_BOTH_POLES=3]="HAS_BOTH_POLES"}(A||(A={})),function(E){E[E.FADING=0]="FADING",E[E.IMMEDIATE=1]="IMMEDIATE",E[E.UNFADED=2]="UNFADED"}(O||(O={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawParameters: function() { return /* binding */ a; },
/* harmony export */   HighlightPassParameters: function() { return /* binding */ n; },
/* harmony export */   MaterialPassParameters: function() { return /* binding */ h; },
/* harmony export */   PassParameters: function() { return /* binding */ e; },
/* harmony export */   RenderPassIdentifier: function() { return /* binding */ o; },
/* harmony export */   ShadowMapPassParameters: function() { return /* binding */ l; },
/* harmony export */   ViewshedShadowMapPassParameters: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderLibrary/attributes/VertexNormal.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e extends _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__.VertexNormalPassParameters{constructor(){super(...arguments),this.slicePlaneLocalOrigin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.origin=this.slicePlaneLocalOrigin,this.modelTransformation=null}}class a extends _shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_2__.VertexNormalDrawParameters{}var o;!function(s){s[s.Material=0]="Material",s[s.ShadowMap=1]="ShadowMap",s[s.Highlight=2]="Highlight",s[s.ViewshedShadowMap=3]="ViewshedShadowMap"}(o||(o={}));class h extends e{constructor(){super(...arguments),this.identifier=o.Material,this.output=_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color,this.transparent=!1}}class l extends e{constructor(){super(...arguments),this.identifier=o.ShadowMap}}class n extends e{constructor(){super(...arguments),this.identifier=o.Highlight}}class c extends e{constructor(){super(...arguments),this.identifier=o.ViewshedShadowMap}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightCellGridScreenSpacePass.glsl.js ***!
  \*********************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightCellGridScreenSpacePass: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _shaderModules_Integer2PassUniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaderModules/Integer2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Integer2PassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../chunks/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(o){const{vertex:c}=o;c.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Texture2DPassUniform("coverageTexture",(e=>e.coverageTexture)),new _shaderModules_Integer2PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.Integer2PassUniform("highlightRenderCellCount",(e=>[e.horizontalCellCount,e.verticalCellCount])),new _shaderModules_Integer2PassUniform_js__WEBPACK_IMPORTED_MODULE_0__.Integer2PassUniform("highlightTextureResolution",(e=>[e.highlightTexture.descriptor.width,e.highlightTexture.descriptor.height]))),c.constants.add("cellSize","int",_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_3__.g),o.varyings.add("sUV","vec2"),o.varyings.add("vOutlinePossible","float"),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`const ivec2 cellVertices[4] = ivec2[4](ivec2(0,0), ivec2(1,0), ivec2(0,1), ivec2(1,1));`),c.main.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__.glsl)`int cellIndex = gl_InstanceID;
int cellX = cellIndex % highlightRenderCellCount[0];
int cellY = (cellIndex - cellX) / highlightRenderCellCount[0];
ivec2 cellPos = ivec2(cellX, cellY);
vec4 cov = texelFetch(coverageTexture, cellPos, 0);
if (cov.r == 0.0) {
gl_Position = vec4(0.0);
return;
}
vOutlinePossible = cov.g;
ivec2 iPosInCell = cellVertices[gl_VertexID];
vec2 sPos = vec2(cellPos * cellSize + iPosInCell * (cellSize));
vec2 vPos = sPos / vec2(highlightTextureResolution);
sUV = vPos;
gl_Position = vec4(2.0 * vPos - vec2(1.0), 0.0, 1.0);`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/HighlightReadBitmap.glsl.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightReadBitmap: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t){const{fragment:i}=t;i.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`uint readChannelBits(uint channel, int highlightLevel) {
int llc = (highlightLevel & 3) << 1;
return (channel >> llc) & 3u;
}
uint readChannel(vec2 texel, int highlightLevel) {
int lic = (highlightLevel >> 2) & 1;
return uint(texel[lic] * 255.0);
}
uint readLevelBits(vec2 texel, int highlightLevel) {
return readChannelBits(readChannel(texel, highlightLevel), highlightLevel);
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PathVertexPosition.glsl.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PathVertexPosition.glsl.js ***!
  \******************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathVertexPosition: function() { return /* binding */ f; },
/* harmony export */   PathVertexPositionPassParameters: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PositionAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PositionAttribute.glsl.js");
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _shaderModules_Float4sPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/Float4sPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4sPassUniform.js");
/* harmony import */ var _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/FloatsPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../materials/VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const p=8;function f(e,c){const f=_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.FEATUREVALUE;e.attributes.add(f,"vec4");const n=e.vertex;n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`
  bool isCapVertex() {
    return ${f}.w == 1.0;
  }
  `),n.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__.Float2PassUniform("size",(e=>e.size))),c.vvSize?(n.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("vvSizeMinSize",(e=>e.vvSize.minSize)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("vvSizeMaxSize",(e=>e.vvSize.maxSize)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("vvSizeOffset",(e=>e.vvSize.offset)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__.Float3PassUniform("vvSizeFactor",(e=>e.vvSize.factor))),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`
    vec2 getSize() {
      return size * clamp(vvSizeOffset + ${f}.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).xz;
    }
    `)):n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`vec2 getSize(){
return size;
}`),c.vvOpacity?(n.constants.add("vvOpacityNumber","int",p),n.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatsPassUniform("vvOpacityValues",(e=>e.vvOpacity.values),p),new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatsPassUniform("vvOpacityOpacities",(e=>e.vvOpacity.opacityValues),p)),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`
    vec4 applyOpacity(vec4 color) {
      float value = ${f}.z;
      if (value <= vvOpacityValues[0]) {
        return vec4( color.xyz, vvOpacityOpacities[0]);
      }

      for (int i = 1; i < vvOpacityNumber; ++i) {
        if (vvOpacityValues[i] >= value) {
          float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);
          return vec4( color.xyz, mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f));
        }
      }

      return vec4( color.xyz, vvOpacityOpacities[vvOpacityNumber - 1]);
    }
    `)):n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`vec4 applyOpacity(vec4 color){
return color;
}`),c.vvColor?(n.constants.add("vvColorNumber","int",_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_8__.vvColorNumber),n.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.FloatsPassUniform("vvColorValues",(e=>e.vvColor.values),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_8__.vvColorNumber),new _shaderModules_Float4sPassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Float4sPassUniform("vvColorColors",(e=>e.vvColor.colors),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_8__.vvColorNumber)),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`
    vec4 getColor() {
      float value = ${f}.y;
      if (value <= vvColorValues[0]) {
        return applyOpacity(vvColorColors[0]);
      }

      for (int i = 1; i < vvColorNumber; ++i) {
        if (vvColorValues[i] >= value) {
          float f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);
          return applyOpacity(mix(vvColorColors[i-1], vvColorColors[i], f));
        }
      }

      return applyOpacity(vvColorColors[vvColorNumber - 1]);
    }
    `)):n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`vec4 getColor(){
return applyOpacity(vec4(1, 1, 1, 1));
}`),e.include(_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.PositionAttribute),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.PROFILERIGHT,"vec4"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.PROFILEUP,"vec4"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.PROFILEVERTEXANDNORMAL,"vec4"),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`vec3 calculateVPos() {
vec2 size = getSize();
vec3 origin = position;
vec3 right = profileRight.xyz;
vec3 up = profileUp.xyz;
vec3 forward = cross(up, right);
vec2 profileVertex = profileVertexAndNormal.xy * size;
vec2 profileNormal = profileVertexAndNormal.zw;
float positionOffsetAlongProfilePlaneNormal = 0.0;
float normalOffsetAlongProfilePlaneNormal = 0.0;`),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`if(!isCapVertex()) {
vec2 rotationRight = vec2(profileRight.w, profileUp.w);
float maxDistance = length(rotationRight);`),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`rotationRight = maxDistance > 0.0 ? normalize(rotationRight) : vec2(0, 0);
float rx = dot(profileVertex, rotationRight);
if (abs(rx) > maxDistance) {
vec2 rotationUp = vec2(-rotationRight.y, rotationRight.x);
float ry = dot(profileVertex, rotationUp);
profileVertex = rotationRight * maxDistance * sign(rx) + rotationUp * ry;
}
}else{
positionOffsetAlongProfilePlaneNormal = profileRight.w * size[0];
normalOffsetAlongProfilePlaneNormal = profileUp.w;
}
vec3 offset = right * profileVertex.x + up * profileVertex.y + forward * positionOffsetAlongProfilePlaneNormal;
return origin + offset;
}`),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.glsl)`vec3 localNormal() {
vec3 right = profileRight.xyz;
vec3 up = profileUp.xyz;
vec3 forward = cross(up, right);
vec2 profileNormal = profileVertexAndNormal.zw;
vec3 normal = right * profileNormal.x + up * profileNormal.y;
if(isCapVertex()) {
normal += forward * profileUp.w;
}
return normal;
}`)}class n extends _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_8__.VisualVariablePassParameters{constructor(){super(...arguments),this.size=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(1,1)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDOcclusionPass: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlignPixel.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js");
/* harmony import */ var _shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shading/TerrainDepthTest.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(r,i){const{vertex:p,fragment:s}=r;r.include(_shading_TerrainDepthTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__.terrainDepthTest,i),p.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__.AlignPixel),i.terrainDepthTest&&r.varyings.add("depth","float"),p.main.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`
    vec4 posProjCenter;
    if (dot(position, position) > 0.0) {
      // Render single point to center of the pixel to avoid subpixel filtering to affect the marker color
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      posProjCenter = alignToPixelCenter(posProj, viewport.zw);

      ${i.terrainDepthTest?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`depth = projectAux.posView.z;`:""}
      vec3 vpos = projectAux.posModel;
      if (rejectBySlice(vpos)) {
        // Project out of clip space
        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
      }

    } else {
      // Project out of clip space
      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
    }

    gl_Position = posProjCenter;
    gl_PointSize = 1.0;
  `),s.main.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.glsl)`fragColor = vec4(1);
if(terrainDepthTest(depth)) {
fragColor.g = 0.5;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FoamColor: function() { return /* binding */ n; },
/* harmony export */   FoamIntensity: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(o){o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`float normals2FoamIntensity(vec3 n, float waveStrength){
float normalizationFactor =  max(0.015, waveStrength);
return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);
}`)}function n(o){o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){
return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gamma: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e){e.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`const float GAMMA = 2.2;
const float INV_GAMMA = 0.4545454545;
vec4 delinearizeGamma(vec4 color) {
return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);
}
vec3 linearizeGamma(vec3 color) {
return pow(color, vec3(GAMMA));
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/NormalUtils.glsl.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NormalUtils: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function r(r,c){c.spherical?r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`vec3 getLocalUp(in vec3 pos, in vec3 origin) {
return normalize(pos + origin);
}`):r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`vec3 getLocalUp(in vec3 pos, in vec3 origin) {
return vec3(0.0, 0.0, 1.0);
}`),c.spherical?r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`mat3 getTBNMatrix(in vec3 n) {
vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));
vec3 b = normalize(cross(n, t));
return mat3(t, b, n);
}`):r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`mat3 getTBNMatrix(in vec3 n) {
vec3 t = vec3(1.0, 0.0, 0.0);
vec3 b = normalize(cross(n, t));
return mat3(t, b, n);
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js":
/*!*******************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScreenSpaceReflections: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../output/ReadDepth.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js");
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function d(d,n){if(!n.screenSpaceReflections)return;const c=d.fragment;c.include(_output_ReadDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__.ReadDepth),c.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__.Float2PassUniform("nearFar",((e,o)=>o.camera.nearFar)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.Texture2DPassUniform("depthMap",((e,o)=>o.depth?.attachment)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Matrix4PassUniform("proj",((e,o)=>o.camera.projectionMatrix)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__.FloatPassUniform("invResolutionHeight",((e,o)=>1/o.camera.height)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__.Matrix4PassUniform("reprojectionMatrix",((e,o)=>o.ssr.reprojectionMatrix))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__.glsl)`
  vec2 reprojectionCoordinate(vec3 projectionCoordinate)
  {
    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);
    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);
    reprojectedCoord.xy /= reprojectedCoord.w;
    return reprojectedCoord.xy * 0.5 + 0.5;
  }

  const int maxSteps = ${n.highStepCount?"150":"75"};

  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)
  {
    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);
    projectedCoord.xy /= projectedCoord.w;
    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;
    return projectedCoord;
  }

  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)
  {
    vec3 viewPos = startPosition;
    vec3 viewPosEnd = startPosition;

    // Project the start position to the screen
    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);
    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space
    float k0 = 1.0/ projectedCoordStart.w;

    // advance the position in the direction of the reflection
    viewPos += dir;

    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);

    // Project the advanced position to the screen
    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);
    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space
    float k1 = 1.0/ projectedCoordEnd.w;

    // calculate the reflection direction in the screen space
    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);
    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);

    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);

    float projectedCoordDirLength = length(projectedCoordDir);
    float maxSt = float(maxSteps);

    // normalize the projection direction depending on maximum steps
    // this determines how blocky the reflection looks
    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);

    // Normalize the homogeneous camera space coordinates
    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);
    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);

    // initialize the variables for ray marching
    vec2 P = projectedCoordStart.xy;
    vec3 Q = Q0;
    float k = k0;
    float rayStartZ = -startPosition.z; // estimated ray start depth value
    float rayEndZ = -startPosition.z;   // estimated ray end depth value
    float prevEstimateZ = -startPosition.z;
    float rayDiffZ = 0.0;
    float dDepth;
    float depth;
    float rayDiffZOld = 0.0;

    // early outs
    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)
      return vec3(P, 0.0);

    for(int i = 0; i < maxSteps-1; i++)
    {
      depth = -linearDepthFromTexture(depthMap, P); // get linear depth from the depth buffer

      // estimate depth of the marching ray
      rayStartZ = prevEstimateZ;
      dDepth = -rayStartZ - depth;
      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));
      rayDiffZ = rayEndZ- rayStartZ;
      prevEstimateZ = rayEndZ;

      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )
      {
        return vec3(P, 0.);
      }

      // If we detect a hit - return the intersection point, two conditions:
      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth
      //  - if difference between dDepth and rayDiffZOld is not too large
      //  - if difference between dDepth and 0.025/abs(k) is not too large
      //  - if the sampled depth is not behind far plane or in front of near plane

      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)
      {
        return vec3(P, depth);
      }

      // continue with ray marching
      P = clamp(P + dP, vec2(0.0), vec2(0.999));
      Q.z += dQ.z;
      k += dk;
      rayDiffZOld = rayDiffZ;
    }
    return vec3(P, 0.0);
  }
  `)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Water: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FoamRendering.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js");
/* harmony import */ var _Gamma_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Gamma.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js");
/* harmony import */ var _PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PhysicallyBasedRendering.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js");
/* harmony import */ var _ScreenSpaceConstants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ScreenSpaceConstants.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceConstants.js");
/* harmony import */ var _ScreenSpaceReflections_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ScreenSpaceReflections.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js");
/* harmony import */ var _util_CloudsParallaxShading_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/CloudsParallaxShading.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _shaders_ToneMapping_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shaders/ToneMapping.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function m(m,v){m.include(_PhysicallyBasedRendering_glsl_js__WEBPACK_IMPORTED_MODULE_2__.PhysicallyBasedRenderingWater,v),m.include(_Gamma_glsl_js__WEBPACK_IMPORTED_MODULE_1__.Gamma),m.include(_FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_0__.FoamColor),v.cloudReflections&&m.include(_util_CloudsParallaxShading_glsl_js__WEBPACK_IMPORTED_MODULE_5__.CloudsParallaxShading),m.include(_ScreenSpaceReflections_glsl_js__WEBPACK_IMPORTED_MODULE_4__.ScreenSpaceReflections,v);const u=m.fragment;u.include(_shaders_ToneMapping_glsl_js__WEBPACK_IMPORTED_MODULE_10__.ToneMapping),u.constants.add("fresnelSky","vec3",[.02,1,15]),u.constants.add("fresnelMaterial","vec2",[.02,.1]),u.constants.add("roughness","float",.015),u.constants.add("foamIntensityExternal","float",1.7),u.constants.add("ssrIntensity","float",.65),u.constants.add("ssrHeightFadeStart","float",_ScreenSpaceConstants_js__WEBPACK_IMPORTED_MODULE_3__.distanceFadeStart),u.constants.add("ssrHeightFadeEnd","float",_ScreenSpaceConstants_js__WEBPACK_IMPORTED_MODULE_3__.distanceFadeEnd),u.constants.add("waterDiffusion","float",.92),u.constants.add("waterSeaColorMod","float",.8),u.constants.add("correctionViewingPowerFactor","float",.4),u.constants.add("skyZenitColor","vec3",[.52,.68,.9]),u.constants.add("skyColor","vec3",[.67,.79,.9]),u.constants.add("cloudFresnelModifier","vec2",[1.2,.01]),u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`PBRShadingWater shadingInfo;
vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {
float exponent = pow((1.0 - cosTheta), fresnelSky[2]);
return mix(zenit, horizon, exponent);
}`),u.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("lightingSpecularStrength",((e,o)=>o.lighting.mainLight.specularStrength)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("lightingEnvironmentStrength",((e,o)=>o.lighting.mainLight.environmentStrength))),u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {
float reflectionHit = 0.0;
float reflectionHitDiffused = 0.0;
vec3 seaWaterColor = linearizeGamma(color);
vec3 h = normalize(l + v);
shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);
shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);
shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);
shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);
shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);
float upDotV = max(dot(localUp,v), 0.0);
vec3 skyHorizon = linearizeGamma(skyColor);
vec3 skyZenit = linearizeGamma(skyZenitColor);
vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );
float upDotL = max(dot(localUp,l),0.0);
float daytimeMod = 0.1 + upDotL * 0.9;
skyColor *= daytimeMod;
float shadowModifier = clamp(shadow, 0.8, 1.0);
vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);
vec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;
vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;
vec3 specular = vec3(0.0);
if(upDotV > 0.0 && upDotL > 0.0) {
vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);
vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;
float NdotL = clamp(dot(n, l), 0.0, 1.0);
specular = lightingSpecularStrength * NdotL * incidentLight * specularSun;
}
vec3 foam = vec3(0.0);
if(upDotV > 0.0) {
foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);
}
float correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);
vec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);
vec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),v.cloudReflections&&u.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("cloudsOpacity",((e,o)=>o.clouds.opacity))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec4 cloudsColor = renderClouds(reflectedWorld, position);
cloudsColor.a = 1.0 - cloudsColor.a;
cloudsColor = pow(cloudsColor, vec4(GAMMA));
cloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * cloudsOpacity;`),v.screenSpaceReflections?u.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__.Matrix4PassUniform("view",((e,o)=>o.camera.viewMatrix)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("lastFrameColorTexture",((e,o)=>o.ssr.lastFrameColor?.getTexture())),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.FloatPassUniform("fadeFactorSSR",((e,o)=>o.ssr.fadeFactor))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec3 viewDir = normalize(viewPosition);
vec4 viewNormalVectorCoordinate = view * vec4(n, 0.0);
vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);
vec4 viewUp = view * vec4(localUp, 0.0);
vec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);
vec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));
vec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);
vec3 reflectedColor = vec3(0.0);
if (hitCoordinate.z > 0.0)
{
vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);
vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));
float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);
reflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;
reflectionHitDiffused = waterDiffusion * reflectionHit;
reflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *
reflectionHitDiffused * fresnelModifier.y * ssrIntensity;
}
float seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);
vec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +
reflSea * seaColorMod + specular + foam);`):u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),v.cloudReflections?v.screenSpaceReflections?u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;
}`):u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;
}`):u.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.glsl)`return waterRenderedColor;
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WaterDistortion: function() { return /* binding */ u; },
/* harmony export */   WaterDistortionPassParameters: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FoamRendering.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js");
/* harmony import */ var _ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ReadShadowMap.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js");
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/Float2PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js");
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/Float4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function u(t){t.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("texWaveNormal",(e=>e.waveNormal)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__.Texture2DPassUniform("texWavePerturbation",(e=>e.wavePerturbation)),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float4PassUniform("waveParams",(e=>(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_2__.s)(c,e.waveStrength,e.waveTextureRepeat,e.flowStrength,e.flowOffset))),new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__.Float2PassUniform("waveDirection",(t=>(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(n,t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)))),t.include(_FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__.FoamIntensity),t.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__.glsl)`const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);
vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {
return 2.0 * texture(_tex, _uv).rg - 1.0;
}
float sampleNoiseTexture(vec2 _uv) {
return texture(texWavePerturbation, _uv).b;
}
vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {
return 2.0 * texture(_tex, _uv).rgb - 1.0;
}
float computeProgress(vec2 uv, float time) {
return fract(time);
}
float computeWeight(vec2 uv, float time) {
float progress = computeProgress(uv, time);
return 1.0 - abs(1.0 - 2.0 * progress);
}
vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {
float flowStrength = waveParams[2];
float flowOffset = waveParams[3];
vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;
float progress = computeProgress(uv, time + phaseOffset);
float weight = computeWeight(uv, time + phaseOffset);
vec2 result = uv;
result -= flowVector * (progress + flowOffset);
result += phaseOffset;
result += (time - progress) * FLOW_JUMP;
return vec3(result, weight);
}
const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;
const float TIME_NOISE_STRENGTH = 7.77;
vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {
float waveStrength = waveParams[0];
vec2 waveMovement = time * -_waveDir;
float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;
vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);
vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);
vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;
vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;
vec3 mixNormal = normalize(normal_A + normal_B);
mixNormal.xy *= waveStrength;
mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));
return mixNormal;
}
vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {
float waveTextureRepeat = waveParams[1];
vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);
float foam  = normals2FoamIntensity(normal, waveParams[0]);
return vec4(normal, foam);
}`)}class f extends _ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_5__.ReadShadowMapPassParameters{}const c=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),n=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayIM: function() { return /* binding */ C; },
/* harmony export */   OverlayMode: function() { return /* binding */ f; },
/* harmony export */   OverlayTerrain: function() { return /* binding */ g; },
/* harmony export */   getIMColorTexture: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../terrain/interfaces.js */ "./node_modules/@arcgis/core/views/3d/terrain/interfaces.js");
/* harmony import */ var _terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../terrain/OverlayContent.js */ "./node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js");
/* harmony import */ var _renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../renderPasses/AllRenderPasses.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js");
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shading/MainLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js");
/* harmony import */ var _shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shading/Water.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js");
/* harmony import */ var _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/Float4DrawUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../shaderModules/Texture2DPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js");
/* harmony import */ var _shaderModules_Uniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../shaderModules/Uniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var f;function C(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4DrawUniform("overlayTexOffset",((e,o)=>T(e,o))),new _shaderModules_Float4DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__.Float4DrawUniform("overlayTexScale",((e,o)=>V(e,o)))),t.constants.add("overlayOpacity","float",1),t.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Texture2DPassUniform("ovColorTex",((e,o)=>h(e,o)))),O(e,o)}function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new I("overlayTexOffset"),new I("overlayTexScale")),t.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_10__.FloatPassUniform("overlayOpacity",(e=>e.overlayOpacity)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_12__.Texture2DPassUniform("ovColorTex",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),O(e,o)}function O(e,o){const r=o.pbrMode===_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.Water||o.pbrMode===_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.WaterOnIntegratedMesh||o.pbrMode===_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_7__.PBRMode.TerrainWithWater;r&&e.include(_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_8__.Water,o);const{vertex:t,fragment:a}=e;e.varyings.add("vtcOverlay","vec4"),t.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`void setOverlayVTC(in vec2 uv) {
vtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`bool isValid(vec2 uv, vec2 dxdy) {
return (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);
}
vec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {
vec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));
vec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec4 getCombinedOverlayColor() {
return overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec4 getOverlayColorTexel(vec4 texCoords) {
vec2 texDim =  vec2(textureSize(ovColorTex, 0));
vec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);
vec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec2 getAllOverlayHighlightValuesEncoded() {
vec4 texCoords = vtcOverlay;
vec2 uvInner = texCoords.xy;
vec2 uvOuter = texCoords.zw;
bool isValidInner = isValid(uvInner, fwidth(uvInner));
bool isValidOuter = isValid(uvOuter, vec2(0.0, 0.0));
vec2 texelCoordInner = vec2(uvInner.x * 0.5,       uvInner.y);
vec2 texelCoordOuter = vec2(uvOuter.x * 0.5 + 0.5, uvOuter.y);
vec2 texDim =  vec2(textureSize(ovColorTex, 0));
vec2 texelValueInner = texelFetch(ovColorTex, ivec2(texelCoordInner * texDim), 0).rg;
vec2 texelValueOuter = texelFetch(ovColorTex, ivec2(texelCoordOuter * texDim), 0).rg;
return
isValidInner ? texelValueInner :
isValidOuter ? texelValueOuter :
vec2(0.0);
}`),r&&((0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addMainLightDirection)(a),(0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__.addMainLightIntensity)(a),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_11__.glsl)`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,
float shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {
vec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));
vec3 v = vposEyeDir;
vec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);
return vec4(final, colorInput.w);
}`))}function h(e,o){return e.identifier===_renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Material&&e.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color?o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.ColorNoRasterImage):e.identifier===_renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Material&&e.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ObjectAndLayerIdColor?o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.ObjectAndLayerIdColor):e.identifier===_renderPasses_AllRenderPasses_js__WEBPACK_IMPORTED_MODULE_4__.RenderPassIdentifier.Highlight?o.overlay?.getTexture(_terrain_OverlayContent_js__WEBPACK_IMPORTED_MODULE_3__.OverlayContent.Highlight):null}function T(e,l){const i=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.INNER]?.extent;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(i)&&(b[0]=e.toMapSpace[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i)-i[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i),b[1]=e.toMapSpace[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i)-i[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i));const n=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.OUTER]?.extent;return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(n)&&(b[2]=e.toMapSpace[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(n)-n[0]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(n),b[3]=e.toMapSpace[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(n)-n[1]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(n)),b}function V(e,l){const i=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.INNER]?.extent;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(i)&&(b[0]=e.toMapSpace[2]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(i),b[1]=e.toMapSpace[3]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(i));const n=l.overlay?.overlays[_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_2__.OverlayIndex.OUTER]?.extent;return (0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.hasArea)(n)&&(b[2]=e.toMapSpace[2]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.width)(n),b[3]=e.toMapSpace[3]/(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.height)(n)),b}!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.EnabledWithWater=2]="EnabledWithWater",e[e.COUNT=3]="COUNT"}(f||(f={}));const b=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)();class I extends _shaderModules_Uniform_js__WEBPACK_IMPORTED_MODULE_13__.Uniform{constructor(e){super(e,"vec4")}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloudsParallaxShading: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../geometry/support/Ellipsoid.js */ "./node_modules/@arcgis/core/geometry/support/Ellipsoid.js");
/* harmony import */ var _environment_Clouds_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../environment/Clouds.js */ "./node_modules/@arcgis/core/views/3d/environment/Clouds.js");
/* harmony import */ var _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../environment/CloudsParameters.js */ "./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js");
/* harmony import */ var _environment_weather_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../environment/weather.js */ "./node_modules/@arcgis/core/views/3d/environment/weather.js");
/* harmony import */ var _shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shading/MainLighting.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js");
/* harmony import */ var _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shaderModules/BooleanPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/BooleanPassUniform.js");
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../shaderModules/Float3PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js");
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../shaderModules/FloatPassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shaderModules/Matrix4PassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js");
/* harmony import */ var _shaderModules_TextureCubePassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shaderModules/TextureCubePassUniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function h(t){const r=t.fragment;r.constants.add("radiusCloudsSquared","float",C).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos) {
float B = 2.0 * dot(cameraPosition, dir);
float C = dot(cameraPosition, cameraPosition) - radiusCloudsSquared;
float det = B * B - 4.0 * C;
float pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));
return (cameraPosition + dir * pointIntDist) - spherePos;
}`),r.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("radiusCurvatureCorrection",((o,t)=>t.clouds.parallax.radiusCurvatureCorrection))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec3 correctForPlanetCurvature(vec3 dir) {
dir.z = dir.z * (1.0 - radiusCurvatureCorrection) + radiusCurvatureCorrection;
return dir;
}`),r.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec) {
return (rotMat * vec4(inVec, 0.0)).xyz;
}`),(0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__.addMainLightDirection)(r),(0,_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_5__.addMainLightIntensity)(r);const h=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(.28,.175,.035);r.constants.add("RIM_COLOR","vec3",h);const v=.3,f=140,p=.2,g=10,w=.3;r.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`
    vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds) {
      float upDotLight = dot(cameraPosition, mainLightDirection);
      float dirDotLight = max(dot(worldSpaceRay, mainLightDirection), 0.0);
      float sunsetTransition = clamp(pow(max(upDotLight, 0.0), ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(v)}), 0.0, 1.0);

      // Base color of the clouds that depends on lighting of the sun and sky
      vec3 ambientLight = calculateAmbientIrradiance(cameraPosition,  0.0);
      vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));
      vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));

      // Rim light around the edge of the clouds simulating scattering of the direct lun light
      float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);
      float rimLightIntensity = 0.5 + 0.5 * pow(max(upDotLight, 0.0), 0.35);
      vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(f)})) * scatteringMod;

      // Brighten the clouds around the sun at the sunsets
      float additionalLight = ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(p)} * pow(dirDotLight, ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(g)}) * (1. - pow(sunsetTransition, ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl.float(w)})) ;

      return vec3(baseCloudColor * (1.0 + additionalLight) + directSunScattering);
    }
  `),r.uniforms.add(new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("readChannelsRG",((o,t)=>t.clouds.readChannels===_environment_Clouds_js__WEBPACK_IMPORTED_MODULE_2__.CloudsTextureChannels.RG)),new _shaderModules_TextureCubePassUniform_js__WEBPACK_IMPORTED_MODULE_11__.TextureCubePassUniform("cubeMap",((o,t)=>t.clouds.data?.cubeMap?.colorTexture??null))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec4 sampleCloud(vec3 rayDir, bool readOtherChannel) {
vec4 s = texture(cubeMap, rayDir);
bool readRG = readChannelsRG ^^ readOtherChannel;
s = readRG ? vec4(vec3(s.r), s.g) : vec4(vec3(s.b), s.a);
return length(s) == 0.0 ? vec4(s.rgb, 1.0) : s;
}`),r.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("anchorPoint",((o,t)=>t.clouds.parallax.anchorPoint)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__.Float3PassUniform("anchorPointNew",((o,t)=>t.clouds.parallaxNew.anchorPoint)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("rotationClouds",((o,t)=>t.clouds.parallax.transform)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__.Matrix4PassUniform("rotationCloudsNew",((o,t)=>t.clouds.parallaxNew.transform)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("cloudsOpacity",((o,t)=>t.clouds.opacity)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_8__.FloatPassUniform("fadeFactor",((o,t)=>t.clouds.fadeFactor)),new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_6__.BooleanPassUniform("crossFade",((o,t)=>t.clouds.fadeState===_environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_3__.FadeState.CROSS_FADE))).code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_9__.glsl)`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition) {
vec3 intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPoint);
vec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationClouds, normalize(intersectionPoint));
vec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
vec4 cloudData = sampleCloud(worldRayRotatedCorrected, crossFade);
vec3 cameraPositionN = normalize(cameraPosition);
vec4 cloudColor = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);
if(crossFade) {
intersectionPoint = intersectWithCloudLayer(worldRay, cameraPosition, anchorPointNew);
worldRayRotated = rotateDirectionToAnchorPoint(rotationCloudsNew, normalize(intersectionPoint));
worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
cloudData = sampleCloud(worldRayRotatedCorrected, false);
vec4 cloudColorNew = vec4(calculateCloudColor(cameraPositionN, worldRay, cloudData), cloudData.a);
cloudColor = mix(cloudColor, cloudColorNew, fadeFactor);
}
float totalTransmittance = length(cloudColor.rgb) == 0.0 ?
1.0 :
clamp(cloudColor.a * cloudsOpacity + (1.0 - cloudsOpacity), 0.0 , 1.0);
return vec4(cloudColor.rgb, totalTransmittance);
}`)}const C=(_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_1__.earth.radius+_environment_weather_js__WEBPACK_IMPORTED_MODULE_4__.cloudsHeight)**2;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureCubePassUniform: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Uniform.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js");
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shaderTechnique/BindType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__.Uniform{constructor(e,s){super(e,"samplerCube",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__.BindType.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AsyncRenderPlugin: function() { return /* binding */ o; },
/* harmony export */   ConsumesDepth: function() { return /* binding */ s; },
/* harmony export */   ConsumesNone: function() { return /* binding */ t; },
/* harmony export */   SyncRenderPlugin: function() { return /* binding */ u; },
/* harmony export */   releaseTechniques: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t={required:[]},s={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth]};class n extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__["default"]{precompile(e){const r=this.acquireTechniques(e);return c(r),null!=r}consumes(){return t}get usedMemory(){return 0}get isDecoration(){return!1}get running(){return!1}modify(e){}get numGeometries(){return 0}get hasOccludees(){return!1}get hasEmissions(){return!1}forEachGeometry(e){}queryRenderOccludedState(e){return!1}}class u extends n{}class o extends n{}function c(e){Array.isArray(e)?e.forEach((e=>e?.release())):e?.release()}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/Highlight.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Highlight: function() { return /* binding */ G; },
/* harmony export */   renderHighlightBuffer: function() { return /* binding */ W; },
/* harmony export */   trackHighlightOptions: function() { return /* binding */ F; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "./node_modules/@arcgis/core/core/reactiveUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _webgl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl.js */ "./node_modules/@arcgis/core/views/3d/webgl.js");
/* harmony import */ var _webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../webgl/formats.js */ "./node_modules/@arcgis/core/views/3d/webgl/formats.js");
/* harmony import */ var _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/RenderNode.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderNode.js");
/* harmony import */ var _HighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./HighlightApplyTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js");
/* harmony import */ var _HighlightDownsampleTechnique_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./HighlightDownsampleTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js");
/* harmony import */ var _HighlightPassParameters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./HighlightPassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js");
/* harmony import */ var _HighlightToSingleTechnique_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./HighlightToSingleTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js");
/* harmony import */ var _SingleHighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./SingleHighlightApplyTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js");
/* harmony import */ var _SingleHighlightBlurTechnique_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./SingleHighlightBlurTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../lib/DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _lib_DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../lib/DefaultVertexBufferLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js");
/* harmony import */ var _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../lib/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../chunks/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/* harmony import */ var _chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../chunks/SingleHighlightBlur.glsl.js */ "./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let G=class extends _webgl_RenderNode_js__WEBPACK_IMPORTED_MODULE_12__["default"]{constructor(e){super(e),this.produces=_webgl_js__WEBPACK_IMPORTED_MODULE_10__.InternalRenderCategory.HIGHLIGHTS,this.consumes={required:[_webgl_js__WEBPACK_IMPORTED_MODULE_10__.InternalRenderCategory.HIGHLIGHTS,"highlights"]},this.useMultipleHighlights=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__["default"])("enable-feature:multiple-highlights"),this._optionsTexture=null,this._downsampleDrawParameters=new _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.H,this._passParameters=new _HighlightPassParameters_js__WEBPACK_IMPORTED_MODULE_15__.HighlightPassParameters,this._singleHighlightBlurDrawParameters=new _chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_24__.S,this._grid=new L,e.techniques.precompile(_HighlightDownsampleTechnique_js__WEBPACK_IMPORTED_MODULE_14__.HighlightDownsampleTechnique),this.useMultipleHighlights?e.techniques.precompile(_HighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_13__.HighlightApplyTechnique):(e.techniques.precompile(_HighlightToSingleTechnique_js__WEBPACK_IMPORTED_MODULE_16__.HighlightToSingleTechnique),e.techniques.precompile(_SingleHighlightBlurTechnique_js__WEBPACK_IMPORTED_MODULE_18__.SingleHighlightBlurTechnique),e.techniques.precompile(_SingleHighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_17__.SingleHighlightApplyTechnique))}initialize(){this.addHandles([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.watch)((()=>F(this.view.highlights)),(()=>{this._optionsTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._optionsTexture),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__.initial)])}destroy(){this._passParameters&&(this._passParameters.highlightOptionsTexture=null),this._grid.coverage=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._grid.coverage),this._grid.vao=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.disposeMaybe)(this._grid.vao),this._optionsTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._optionsTexture)}_updateOptionsTexture(e){const t=this.renderingContext;let i=this._optionsTexture;if(null==i){const e=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_29__.TextureDescriptor(16,2);e.internalFormat=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.PixelFormat.RGBA,e.samplingMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.TextureSamplingMode.NEAREST,i=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_28__.Texture(t,e,null),this._optionsTexture=i}i.setData(e),this._passParameters.highlightOptionsTexture=i}render(e){const t=e.find((({name:e})=>e===_webgl_js__WEBPACK_IMPORTED_MODULE_10__.InternalRenderCategory.HIGHLIGHTS)),{techniques:i,bindParameters:r,_passParameters:s,renderingContext:o}=this;if(!r.decorations)return t;const l=i.acquire(_HighlightDownsampleTechnique_js__WEBPACK_IMPORTED_MODULE_14__.HighlightDownsampleTechnique);if(!l.compiled)return l.release(),this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE),t;const n=e.find((({name:e})=>"highlights"===e)).getTexture(),h=()=>{const{highlights:e}=this.view;this._optionsTexture||this._updateOptionsTexture(E(e)),s.highlightOptionsTexture=this._optionsTexture,this._gridUpdateResources(n);const t=this._gridComputeCoverage(l,n,r);l.release();const{horizontalCellCount:i,verticalCellCount:o}=t;return s.horizontalCellCount=i,s.verticalCellCount=o,s.coverageTexture=t.coverage?.getTexture(),t},c=e=>{const t=e.verticalCellCount*e.horizontalCellCount;o.bindVAO(e.vao),o.drawElementsInstanced(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.PrimitiveType.TRIANGLES,6,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.DataType.UNSIGNED_BYTE,0,t)},{camera:u}=r,g=()=>{o.bindFramebuffer(t.fbo),o.setViewport4fv(u.fullViewport)};return this.useMultipleHighlights?this._renderMultiple(n,h,c,g):this._renderSingle(n,h,c,g),s.highlightTexture=null,s.coverageTexture=null,t}_renderMultiple(e,t,i,r){const{techniques:s,bindParameters:o,_passParameters:l,renderingContext:n}=this,h=s.acquire(_HighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_13__.HighlightApplyTechnique);if(!h.compiled)return h.release(),void this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE);const a=t();l.highlightTexture=e,l.pixelRatio=o.camera.pixelRatio,l.maxHighlightLevel=k(this.view.highlights)-1,n.bindTechnique(h,o,l),r(),i(a),h.release()}_renderSingle(e,t,i,r){const{fboCache:s,techniques:o,bindParameters:l,_passParameters:h,renderingContext:a}=this,u=o.acquire(_HighlightToSingleTechnique_js__WEBPACK_IMPORTED_MODULE_16__.HighlightToSingleTechnique),g=o.acquire(_SingleHighlightBlurTechnique_js__WEBPACK_IMPORTED_MODULE_18__.SingleHighlightBlurTechnique),p=o.acquire(_SingleHighlightApplyTechnique_js__WEBPACK_IMPORTED_MODULE_17__.SingleHighlightApplyTechnique);if(!p.compiled||!g.compiled||!u.compiled)return p.release(),g.release(),u.release(),void this.requestRender(_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_19__.RenderRequestType.UPDATE);const m=t(),{width:x,height:w}=e.descriptor;h.maxHighlightLevel=k(this.view.highlights)-1,h.highlightTexture=e;const{camera:_}=l,{fullWidth:v,fullHeight:C,pixelRatio:q}=_,H=Math.ceil(v/q),j=Math.ceil(C/q),{_singleHighlightBlurDrawParameters:y}=this;for(let d=0;d<=h.maxHighlightLevel;++d){h.highlightLevel=d,a.setClearColor(0,0,0,0);const e=s.acquire(x,w,"single highlight",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG);a.bindFramebuffer(e.fbo),a.setViewport(0,0,x,w),a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.FramebufferBit.COLOR),a.bindTechnique(u,l,h),i(m),y.blurInput=e.getTexture(),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(y.blurSize,1/H,0);const t=s.acquire(H,j,"single highlight blur h",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG);a.unbindTexture(t.fbo?.colorTexture),a.bindFramebuffer(t.fbo),a.setViewport(0,0,H,j),a.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.FramebufferBit.COLOR),y.blurInput=e.getTexture(),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(y.blurSize,1/H,0),a.bindTechnique(g,l,h,y),i(m),e.release(),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(y.blurSize,0,1/j),h.singleHighlightBlurTexture=t.getTexture(),r(),a.bindTechnique(p,l,h,y),i(m),t.release()}u.release(),g.release(),p.release()}_gridUpdateResources(e){const t=this.renderingContext,i=this._grid,{width:r,height:s}=e.descriptor;if(i.horizontalCellCount=Math.ceil(r/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g),i.verticalCellCount=Math.ceil(s/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g),i.vao)return;const o=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_26__.BufferObject.createIndex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.Usage.STATIC_DRAW,N);i.vao=new _lib_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_22__.VertexArrayObject(t,_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__.Default3D,new Map([["geometry",_lib_DefaultVertexBufferLayouts_js__WEBPACK_IMPORTED_MODULE_21__.NoVertex]]),new Map([["geometry",_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_26__.BufferObject.createVertex(t,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.Usage.STATIC_DRAW)]]),o)}_gridComputeCoverage(e,t,i){const r=this.renderingContext,s=this._grid,o=t.descriptor,l=Math.ceil(o.width/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g),n=Math.ceil(o.height/_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_23__.g);this._downsampleDrawParameters.input=t,s.coverage?.release();const h=this.fboCache.acquire(l,n,"highlight coverage",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG);return s.coverage=h,r.bindFramebuffer(h.fbo),r.bindTechnique(e,i,this._passParameters,this._downsampleDrawParameters),r.setViewport(0,0,l,n),r.screen.draw(),s}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],G.prototype,"produces",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],G.prototype,"consumes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],G.prototype,"techniques",void 0),G=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.effects.highlight.Highlight")],G);class L{constructor(){this.coverage=null,this.vao=null,this.verticalCellCount=0,this.horizontalCellCount=0,this.viewportWidth=0,this.viewportHeight=0}}function E(e){const t=new Uint8Array(128),i=(e,i)=>{t[e]=i},r=(e,t)=>{const r=4*e,s=4*e+64,{color:o}=t,l=t.haloColor??o;i(r+0,o.r),i(r+1,o.g),i(r+2,o.b),i(r+3,t.fillOpacity*o.a*255),i(s+0,l.r),i(s+1,l.g),i(s+2,l.b),i(s+3,t.haloOpacity*l.a*255)};return V(e,((e,t)=>{r(t,e.options)})),t}const z=new Array(_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights),U=new Array(_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights);function V(e,t){const i=Math.min(e.length,_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights);let r=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights;for(let o=i-1;o>=0;--o){const t=e.at(o);if(t){const e=t.name;z.includes(e,r)||(--r,z[r]=e,U[r]=o)}}const s=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights-r;for(let o=0;o<s;++o){const i=U[_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights-s+o];t(e.at(i),o)}}let B=0;function F(e){let t=0;const i=Math.min(_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights,e.length);for(let r=0;r<i;++r){const i=e.at(r);if(i){const{name:e,options:r}=i;t+=e.length;const{color:s,fillOpacity:o,haloColor:l,haloOpacity:n}=r;t+=s.r+(l?.r??1)+o+n}}{const i=e.at(0);if(i){const{shadowOpacity:e,shadowDifference:r,shadowColor:s}=i.options;t+=e+r+s.r}}return B+++(t>=0?0:1)}const N=new Uint8Array([0,1,2,2,1,3]);function W(e,t,i,r,s,o,l=0,a){const{highlightGroupIndices:u}=s;u.clear();const g=[];V(r,(e=>{const{name:t}=e;u.set(t,g.length),g.push(t)}));const p=u.size,{gl:m}=e;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_8__.set)(s.highlightMixOrigin,l,0);let d=null;p>1&&(d=t.acquire(i.width,i.height,"highlight mix",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_11__.ColorFormat.RG),e.bindFramebuffer(d.fbo),e.clearFramebuffer(_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.ZEROS));const f=d?.getTexture()??null;s.highlightMixTexture=f,a();for(let n=0;n<p;++n)n>0&&(e.bindTexture(f,0),m.copyTexSubImage2D(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.TextureType.TEXTURE_2D,0,0,0,l,0,i.width,i.height),e.bindTexture(null,0)),e.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_27__.FramebufferBit.DEPTH),s.highlightLevel=n,s.highlightGroupName=g[n],o();d?.release()}function k(e){const t=new Set;for(let i=0;i<_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_25__.maximumHighlights;++i){const r=e.at(i)?.name;r&&t.add(r)}return t.size}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightApplyTechnique.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightApplyTechnique: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_HighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/HighlightApply.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightApply.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,o,s){super(r,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__.H,(()=>__webpack_require__.e(/*! import() | shaders-HighlightApply.glsl */ "shaders-HighlightApply.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/HighlightApply.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightApply.glsl.js")))),s)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.premultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightDownsampleTechnique.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightDownsampleTechnique: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightDownsample.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class l extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,s,i){super(r,s,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HighlightDownsample_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() | shaders-HighlightDownsample.glsl */ "shaders-HighlightDownsample.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/HighlightDownsample.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightDownsample.glsl.js")))),i)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightPassParameters.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightPassParameters: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/* harmony import */ var _support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../support/HighlightDefaults.js */ "./node_modules/@arcgis/core/views/support/HighlightDefaults.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.NoParameters{constructor(){super(...arguments),this.occludedFactor=_support_HighlightDefaults_js__WEBPACK_IMPORTED_MODULE_1__.defaultOccludedFactor,this.maxHighlightLevel=1,this.verticalCellCount=0,this.horizontalCellCount=0,this.highlightLevel=0,this.pixelRatio=1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/HighlightToSingleTechnique.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HighlightToSingleTechnique: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_HighlightToSingle_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/HighlightToSingle.glsl.js */ "./node_modules/@arcgis/core/chunks/HighlightToSingle.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class l extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,o,s){super(r,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_HighlightToSingle_glsl_js__WEBPACK_IMPORTED_MODULE_2__.H,(()=>__webpack_require__.e(/*! import() | shaders-HighlightToSingle.glsl */ "shaders-HighlightToSingle.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/HighlightToSingle.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HighlightToSingle.glsl.js")))),s)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightApplyTechnique.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SingleHighlightApplyTechnique: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_SingleHighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/SingleHighlightApply.glsl.js */ "./node_modules/@arcgis/core/chunks/SingleHighlightApply.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,l,o){super(r,l,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_SingleHighlightApply_glsl_js__WEBPACK_IMPORTED_MODULE_2__.S,(()=>__webpack_require__.e(/*! import() | shaders-SingleHighlightApply.glsl */ "shaders-SingleHighlightApply.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/SingleHighlightApply.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SingleHighlightApply.glsl.js")))),o)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.premultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/effects/highlight/SingleHighlightBlurTechnique.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SingleHighlightBlurTechnique: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/SingleHighlightBlur.glsl.js */ "./node_modules/@arcgis/core/chunks/SingleHighlightBlur.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,l,o){super(r,l,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_SingleHighlightBlur_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() | shaders-SingleHighlightBlur.glsl */ "shaders-SingleHighlightBlur.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../../shaders/SingleHighlightBlur.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SingleHighlightBlur.glsl.js")))),o)}initializePipeline(){return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BindParameters: function() { return /* binding */ l; },
/* harmony export */   ViewportSize: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../environment/CloudsParameters.js */ "./node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _core_shaderLibrary_hud_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/hud/HUDRenderStyle.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDRenderStyle.js");
/* harmony import */ var _OITPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _Update_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Update.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js");
/* harmony import */ var _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lighting/SceneLighting.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{constructor(i,t){this.width=i,this.height=t}}class l{constructor(i){this.shadowMap=i,this.slot=_RenderSlot_js__WEBPACK_IMPORTED_MODULE_6__.RenderSlot.OPAQUE_MATERIAL,this.slicePlane=null,this.hasOccludees=!1,this.enableFillLights=!0,this.oitPass=_OITPass_js__WEBPACK_IMPORTED_MODULE_5__.OITPass.NONE,this.alignPixelEnabled=!1,this.decorations=!0,this.overlayStretch=1,this.viewshedEnabled=!1,this._camera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._inverseViewport=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._oldLighting=new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__.SceneLighting,this._newLighting=new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__.SceneLighting,this._fadedLighting=new _lighting_SceneLighting_js__WEBPACK_IMPORTED_MODULE_8__.SceneLighting,this._lighting=this._newLighting,this.ssr=new c,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.highlightMixTexture=null,this.highlightGroupName=null,this.highlightGroupIndices=new Map,this.highlightLevel=0,this.highlightMixOrigin=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this.hudRenderStyle=_core_shaderLibrary_hud_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_4__.HUDRenderStyle.Occluded,this.clouds=new _environment_CloudsParameters_js__WEBPACK_IMPORTED_MODULE_2__.CloudsParameters,this.shadowHighlightsVisible=!1}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}fadeLighting(){switch(this.clouds.fadeFactor){case 0:this._lighting=this._oldLighting;break;default:this._fadedLighting.lerpLighting(this._oldLighting,this._newLighting,this.clouds.fadeFactor),this._lighting=this._fadedLighting;break;case 1:this._lighting=this._newLighting,this._oldLighting.copyFrom(this._newLighting)}}updateLighting(i,t,e,h){this._oldLighting.copyFrom(this.lighting),this._newLighting.noonFactor=t,this._newLighting.globalFactor=e,this._newLighting.set(i),h===_Update_js__WEBPACK_IMPORTED_MODULE_7__.Update.FadeWithWeather&&this.clouds.requestFade(),this.fadeLighting()}}class c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CascadeCamera: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let i=class extends _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_7__["default"]{constructor(){super(...arguments),this._projectionMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__.create)()}get projectionMatrix(){return this._projectionMatrix}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)()],i.prototype,"_projectionMatrix",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__.property)({readOnly:!0})],i.prototype,"projectionMatrix",null),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__.subclass)("esri.views.3d.webgl-engine.lib.CascadeCamera")],i);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ChangeSet: function() { return /* binding */ s; },
/* harmony export */   MaterialChangeSet: function() { return /* binding */ t; },
/* harmony export */   RenderGeometryUpdate: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(){this.adds=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.removes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.updates=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({allocator:e=>e||new r,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}get empty(){return 0===this.adds.length&&0===this.removes.length&&0===this.updates.length}}class r{}class t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoVertex: function() { return /* binding */ O; },
/* harmony export */   Pos2: function() { return /* binding */ m; },
/* harmony export */   Pos2Tex: function() { return /* binding */ n; },
/* harmony export */   Pos3: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../webgl/VertexElementDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const O=[],o=[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION,3,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,0,12)],m=[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION,2,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,0,8)],n=[new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.POSITION,2,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,0,16),new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_2__.VertexElementDescriptor(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__.VertexAttribute.UV0,2,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.DataType.FLOAT,8,16)];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getFontMetrics: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextHelperCanvas.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function e(e){const{size:c}=e.definition,a=e.fontString(c);let i=n.get(a);if(!i){const u=(0,_TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_0__.getTextHelperCanvas)(o,0,0).getContext("2d");e.setFontProperties(u,c);const x=u.measureText(r);i=new s(x.actualBoundingBoxAscent,x.actualBoundingBoxDescent),n.set(a,i)}return i}const n=new Map;class s{get maxHeight(){return this.maxAscent+this.maxDescent}constructor(t,e){this.maxAscent=t,this.maxDescent=e}}const o={canvas:null},r=(()=>{let t="";for(let e=32;e<127;e++)t+=String.fromCharCode(e);return t})();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLMaterialRepository: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/NestedMap.js */ "./node_modules/@arcgis/core/core/NestedMap.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(e,t,i,s){this._textures=e,this._techniques=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_2__.NestedMap}dispose(){this._textures.destroy()}acquire(e,t,r){this._ownMaterial(e);const i=e.produces.get(t);if(!i?.(r))return null;let s=this._id2glMaterialRef.get(r,e.id);if(null==s){const t=e.createGLMaterial({material:e,techniques:this._techniques,textures:this._textures,output:r});s=new a(t),this._id2glMaterialRef.set(r,e.id,s)}return s.ref(),s.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.webgl-engine.lib.GLMaterialRepository").error("Material is already owned by a different material repository"),t.repository=this}}class a{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,(0,_Util_js__WEBPACK_IMPORTED_MODULE_3__.assert)(this._refCnt>=0)}get referenced(){return this._refCnt>0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GLMaterials: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(s,t){this._material=s,this._repository=t,this._map=new Map}dispose(){this._map.forEach(((s,t)=>{null!=s&&this._repository.release(this._material,t)}))}load(t,e,r){const i=this._material.produces.get(e);if(!i?.(r))return null;this._map.has(r)||this._map.set(r,this._repository.acquire(this._material,e,r));const a=this._map.get(r);if(null!=a){if(a.ensureResources(t)===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.ResourceState.LOADED)return a;this._repository.requestRender()}return null}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DirtyOperation: function() { return /* binding */ E; },
/* harmony export */   DirtyState: function() { return /* binding */ I; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var E,I;!function(E){E[E.ADD=0]="ADD",E[E.UPDATE=1]="UPDATE",E[E.REMOVE=2]="REMOVE"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.VISIBILITY=1]="VISIBILITY",E[E.GEOMETRY=2]="GEOMETRY",E[E.TRANSFORMATION=4]="TRANSFORMATION",E[E.HIGHLIGHT=8]="HIGHLIGHT",E[E.OCCLUDEE=16]="OCCLUDEE"}(I||(I={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Normals.js":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Normals.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compressAndTransformNormals: function() { return /* binding */ c; },
/* harmony export */   compressNormal: function() { return /* binding */ s; },
/* harmony export */   compressNormals: function() { return /* binding */ e; },
/* harmony export */   decodeInt16: function() { return /* binding */ u; },
/* harmony export */   decompressNormal: function() { return /* binding */ f; },
/* harmony export */   decompressNormals: function() { return /* binding */ h; },
/* harmony export */   encodeInt16: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function s(t,n,r,o,a,s=2){const e=1/(Math.abs(r)+Math.abs(o)+Math.abs(a)),c=r*e,f=o*e,h=a<=0?(c>=0?1:-1)*(1-Math.abs(f)):c,u=a<=0?(f>=0?1:-1)*(1-Math.abs(c)):f,l=n*s;t[l]=i(h),t[l+1]=i(u)}function e(t){const n=t.length/3,r=new Int16Array(2*n);let o=0;for(let a=0;a<n;++a)s(r,a,t[o++],t[o++],t[o++]);return r}function c(t,r){const a=t.length/3,e=new Int16Array(2*a);let c=0;const f=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();for(let o=0;o<a;++o)f[0]=t[c++],f[1]=t[c++],f[2]=t[c++],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.q)(f,f,r),s(e,o,f[0],f[1],f[2]);return e}function f(t,n,o,a=2){const s=o*a,e=u(n[s]),c=u(n[s+1]),f=1-Math.abs(e)-Math.abs(c);t[2]=f,f<0?(t[0]=(e>=0?1:-1)*(1-Math.abs(c)),t[1]=(c>=0?1:-1)*(1-Math.abs(e))):(t[0]=e,t[1]=c),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.n)(t,t)}function h(t,n=2){const r=t.length/n,s=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_3__.newFloatArray)(3*r),e=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();let c=0;for(let o=0;o<r;++o)f(e,t,o,n),s[c++]=e[0],s[c++]=e[1],s[c++]=e[2];return s}function i(n){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.round(32767*n),-32767,32767)}function u(n){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(n/32767,-1,1)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Path.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Path.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Path: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r{constructor(t,i,s,o){this.vertices=t,this.positionsES=i,this.offset=o;const r=t.length,n=Math.floor(r/2),g=this.offset+3*n,v=s[g],f=s[g+1],c=s[g+2];this.origin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(v,f,c),this.positions=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_3__.newFloatArray)(3*r);const l=this.offset+3*r;for(let e=this.offset;e<l;e+=3)this.positions[e]=s[e]-v,this.positions[e+1]=s[e+1]-f,this.positions[e+2]=s[e+2]-c;this.updatePathVertexInformation()}get usedMemory(){return (0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.estimateSize)(this.positions)}updatePathVertexInformation(){const t=this.vertices.length,e=this.vertices[0];let h=this.offset;const r=this.positions;e.vRight[0]=r[h+3]-r[h],e.vRight[1]=r[h+4]-r[h+1],e.vRight[2]=r[h+5]-r[h+2],h+=3;let n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.l)(e.vRight);e.vMinSiblingLength=n,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.n)(e.vRight,e.vRight);let g=e;for(let v=1;v<t;++v){const e=this.vertices[v];if(e.vLeft=g.vRight,v<t-1){e.vRight[0]=r[h+3]-r[h],e.vRight[1]=r[h+4]-r[h+1],e.vRight[2]=r[h+5]-r[h+2];const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.l)(e.vRight);e.vMinSiblingLength=Math.min(n,t),n=t,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.n)(e.vRight,e.vRight)}else (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.c)(e.vRight,e.vLeft),e.vMinSiblingLength=n;g=e,h+=3}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathBuilder.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathBuilder: function() { return /* binding */ h; }
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class h{constructor(t,r,h,o,p,n={}){this.path=t,this.profile=r,this.extruder=h,this.startCap=o,this.endCap=p,this.options=n,this._extrusionVertexCount=0;const l=this.path.vertices.length-2;this.numExtrusionProfiles=h.numProfilesPerJoin()*l+2,this.numVerticesTotal=r.vertices.length*this.numExtrusionProfiles,this.startCap.vertexBufferStart=this.numVerticesTotal;const a=this.startCap.numVertices;this.numVerticesTotal+=a,this.endCap.vertexBufferStart=this.numVerticesTotal;const u=this.endCap.numVertices;this.numVerticesTotal+=u,this.pathVertexData=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__.newIntArray)(1*this.numVerticesTotal),this.profileRightAxes=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_1__.newFloatArray)(4*this.numVerticesTotal),this.profileUpAxes=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_1__.newFloatArray)(4*this.numVerticesTotal),this.profileVertexAndNormals=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_1__.newFloatArray)(4*this.numVerticesTotal),this.positions=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_1__.floatSubArray)(t.positions,t.offset,3*t.vertices.length),this._rebuildGeometry(),this.buildTopology()}get usedMemory(){return (0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.estimateSize)(this.pathVertexData,this.profileRightAxes,this.profileUpAxes,this.profileVertexAndNormals)+this.path.usedMemory+this.profile.usedMemory}emitVertex(t,e,i,s,r){const h=4*this._extrusionVertexCount;if(this.profileRightAxes[h]=e.right[0],this.profileRightAxes[h+1]=e.right[1],this.profileRightAxes[h+2]=e.right[2],this.profileUpAxes[h]=e.up[0],this.profileUpAxes[h+1]=e.up[1],this.profileUpAxes[h+2]=e.up[2],this.profileVertexAndNormals[h]=i[0],this.profileVertexAndNormals[h+1]=i[1],this.profileVertexAndNormals[h+2]=s[0],this.profileVertexAndNormals[h+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,r){const e=this.path.vertices[t],i=e.maxStretchDistance;this.profileRightAxes[h+3]=e.rotationRight[0]*i,this.profileUpAxes[h+3]=e.rotationRight[1]*i}else this.profileRightAxes[h+3]=0,this.profileUpAxes[h+3]=0;++this._extrusionVertexCount}emitCapVertex(t,e,i,s,r,h){const o=4*this._extrusionVertexCount;this.profileRightAxes[o]=e.right[0],this.profileRightAxes[o+1]=e.right[1],this.profileRightAxes[o+2]=e.right[2],this.profileRightAxes[o+3]=r,this.profileUpAxes[o]=e.up[0],this.profileUpAxes[o+1]=e.up[1],this.profileUpAxes[o+2]=e.up[2],this.profileUpAxes[o+3]=h,this.profileVertexAndNormals[o]=i[0],this.profileVertexAndNormals[o+1]=i[1],this.profileVertexAndNormals[o+2]=s[0],this.profileVertexAndNormals[o+3]=s[1],this.pathVertexData[this._extrusionVertexCount]=t,++this._extrusionVertexCount}_rebuildGeometry(){this._extrusionVertexCount=0;const{positions:t,offset:e,vertices:s}=this.path;this.positions=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_1__.floatSubArray)(t,e,3*s.length);let r=0;const h=(t,e,i,s,h)=>this.emitCapVertex(r,t,e,i,s,h),o=(t,e,i,s)=>this.emitVertex(r,t,e,i,s);for(this.startCap.rebuildConnectingProfileGeometry(s[r],this.profile,h),r=1;r<s.length-1;++r)this.extruder.extrude(s[r],this.profile,o);this.endCap.rebuildConnectingProfileGeometry(s[r],this.profile,h),r=0,this.startCap.rebuildCapGeometry(s[r],h),r=s.length-1,this.endCap.rebuildCapGeometry(s[r],h)}buildTopology(){const t=this.profile.vertices.length,e=this.profile.numSegments,i=this.numExtrusionProfiles-1;let s=3*(2*(e*i));this.startCap.indexBufferStart=s,this.startCap.firstProfileVertexIndex=0,s+=this.startCap.numIndices,this.endCap.indexBufferStart=s,this.endCap.firstProfileVertexIndex=t*(this.numExtrusionProfiles-1);const h=new Array,o=new Array,p=new Array,n=(t,e,i)=>{h.push(t),h.push(e),h.push(i),o.push(t),o.push(e),o.push(i),p.push(this.pathVertexData[t]),p.push(this.pathVertexData[e]),p.push(this.pathVertexData[i])};for(let r=0;r<e;++r){const e=this.profile.indices[2*r],s=this.profile.indices[2*r+1];for(let r=0;r<i;++r){const i=r*t+e,h=(r+1)*t+s,o=r*t+s;n(i,(r+1)*t+e,h),n(i,h,o)}}this.startCap.buildTopology(this.path.vertices[0],n),this.endCap.buildTopology(this.path.vertices[this.path.vertices.length-1],n),this.vertexIndices=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__.compactIndices)(h),this.normalIndices=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__.compactIndices)(o),this.pathVertexIndices=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_2__.compactIndices)(p)}onPathChanged(){this._rebuildGeometry()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathCapBuilder.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NoCapBuilder: function() { return /* binding */ l; },
/* harmony export */   PathCapBuilder: function() { return /* binding */ o; },
/* harmony export */   RoundCapBuilder: function() { return /* binding */ h; },
/* harmony export */   TriangulationCapBuilder: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o{rebuildConnectingProfileGeometry(e,t,s){for(let i=0;i<t.vertices.length;++i)s(e.frame,t.vertices[i],t.normals[i],0,0)}}class l extends o{constructor(){super(),this.numVertices=0,this.numIndices=0}rebuildCapGeometry(){}buildTopology(){}}class f extends o{constructor(e,t=0,s=!1){super(),this.profile=e,this.profilePlaneOffset=t,this.flip=s}get numVertices(){return this.profile.vertices.length}get numIndices(){return 3*this.profile.numSegments}rebuildConnectingProfileGeometry(e,t,s){const i=this.profilePlaneOffset;for(let r=0;r<t.vertices.length;++r)s(e.frame,t.vertices[r],t.normals[r],i,0)}rebuildCapGeometry(t,s){const i=this.profile,r=this.flip?1:-1,n=this.profilePlaneOffset,o=m;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(o,0,0);for(let e=0;e<i.vertices.length;++e)s(t.frame,i.vertices[e],o,n,r)}buildTopology(e,t){const s=this.profile,i=this.vertexBufferStart+s.indices[0];for(let r=1;r<s.numSegments;++r){const e=s.indices[2*r],n=s.indices[2*r+1],o=this.vertexBufferStart+e,l=this.vertexBufferStart+n;this.flip?t(l,o,i):t(i,o,l)}}}class h extends o{constructor(e){super(),this.flip=!1,this.sign=0,this.breakNormals=!1,this.numSegments=3,this.profile=e.profile,this.flip=e.flip,this.sign=this.flip?1:-1,this.breakNormals=e.breakNormals,this.numSegments=e.subdivisions}get numVertices(){let e=this.profile.vertices.length*(this.numSegments-1)+this.profile.poles.length;return this.breakNormals&&(e+=this.profile.vertices.length),e}get numIndices(){let e=0;const t=this.profile;e+=2*t.numSegments*(this.numSegments-1);for(let s=0;s<t.numSegments;++s){const i=t.indices[2*s],r=t.indices[2*s+1];t.poleIndices[i]===t.poleIndices[r]?e+=1:e+=2}return 3*e}rebuildCapGeometry(n,o){const l=this.profile,f=n.frame,h=.5*this.sign,p=c,a=m;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(a,0,0);for(const e of l.poles)e.normal?o(f,e.position,e.normal,h,0):o(f,e.position,a,h,this.sign);if(this.breakNormals)for(let e=0;e<l.vertices.length;++e)o(f,l.vertices[e],l.normals[e],0,0);for(let e=0;e<this.numSegments-1;++e){const n=(1-(e+1)/this.numSegments)*Math.PI*.5,c=Math.sin(n),m=Math.cos(n);for(let e=0;e<l.vertices.length;++e){const n=l.poles[l.poleIndices[e]];(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.subtract)(p,l.vertices[e],n.position),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.scale)(p,p,c),n.normal?((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.add)(p,p,n.position),o(f,p,n.normal,h*m,0)):((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.normalize)(a,p),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.scale)(a,a,c),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.add)(p,p,n.position),o(f,p,a,h*m,this.sign*m))}}}buildTopology(e,t){const s=this.profile,i=this.breakNormals?this.vertexBufferStart+s.poles.length:this.firstProfileVertexIndex,r=this.breakNormals?this.vertexBufferStart+s.poles.length+s.vertices.length:this.vertexBufferStart+s.poles.length;for(let n=0;n<s.numSegments;++n){const e=s.indices[2*n],o=s.indices[2*n+1],l=this.vertexBufferStart+s.poleIndices[e],f=this.vertexBufferStart+s.poleIndices[o];let h=i+e,c=i+o;for(let i=0;i<this.numSegments-1;++i){const n=r+i*s.vertices.length+e,l=r+i*s.vertices.length+o;this.flip?(t(n,c,h),t(c,n,l)):(t(h,c,n),t(l,n,c)),h=n,c=l}this.flip?(t(l,c,h),l!==f&&t(l,f,c)):(t(h,c,l),l!==f&&t(c,f,l))}}}const c=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),m=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Frame2D: function() { return /* binding */ l; },
/* harmony export */   MiterExtruder: function() { return /* binding */ a; },
/* harmony export */   PathExtruder: function() { return /* binding */ n; },
/* harmony export */   SimpleExtruder: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{}class c{numProfilesPerJoin(){return 1}extrude(t,e,r){for(let s=0;s<e.vertices.length;++s)r(t.frame,e.vertices[s],e.normals[s],!1)}}class a{constructor(t,e){this.cutoffAngle=t,this.numBendSubdivisions=e}numProfilesPerJoin(){return this.numBendSubdivisions+1}extrude(e,s,i){const o=h,{rotationAngle:n,rotationRight:c,frame:a}=e;if(Math.abs(n)>=this.cutoffAngle){const l=e.rotationFrameUp;for(let h=0;h<this.numBendSubdivisions+1;++h){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.fromRotation)(u,.5*-n+h*n/this.numBendSubdivisions,l),m(o,a,u);for(let t=0;t<s.vertices.length;++t){if((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.dot)(s.vertices[t],c)*n>=0)i(o,s.vertices[t],s.normals[t],!1);else{i(a,e.applyMiterStretch(f,s.vertices[t]),s.normals[t],!0)}}}}else for(let t=0;t<this.numBendSubdivisions+1;++t)for(let o=0;o<s.vertices.length;++o){const t=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_2__.dot)(s.vertices[o],c)*n>=0;i(a,e.applyMiterStretch(f,s.vertices[o]),s.normals[o],!t)}}}class l{constructor(){this.up=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this.right=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)()}}function m(t,e,r){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(t.up,e.up,r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.t)(t.right,e.right,r)}const f=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),u=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),h=new l;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathGeometry: function() { return /* binding */ e; },
/* harmony export */   UpVectorAlignment: function() { return /* binding */ o; },
/* harmony export */   isPathGeometry: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Geometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e extends _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.Geometry{constructor(r,e,o,n,s,i){super(r,e,null,_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_0__.ContentObjectType.Mesh,i),this.path=o,this.geometrySR=n,this.stencilWidth=s}}var o;function n(t){return"path"in t}!function(t){t[t.World=0]="World",t[t.Path=1]="Path"}(o||(o={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometryData.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FastUpdatePathGeometry: function() { return /* binding */ g; },
/* harmony export */   PathGeometryData: function() { return /* binding */ d; },
/* harmony export */   StaticPathGeometry: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/FloatArray.js */ "./node_modules/@arcgis/core/geometry/support/FloatArray.js");
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/Indices.js */ "./node_modules/@arcgis/core/geometry/support/Indices.js");
/* harmony import */ var _Attribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Attribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");
/* harmony import */ var _Normals_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Normals.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Normals.js");
/* harmony import */ var _RayIntersections_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./RayIntersections.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class d{constructor(t){this.builder=t}onPathChanged(t){this.builder.onPathChanged()}}class f extends d{constructor(t){super(t),this.vertexAttributeColor=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(255,255,255,255),this.size=new Array,this.vertexAttributePosition=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__.newFloatArray)(3*this.builder.numVerticesTotal),this.vertexAttributeNormal=new Int16Array(2*this.builder.numVerticesTotal)}bakeVertexColors(t){this.vertexAttributeColor[0]=255*t[0],this.vertexAttributeColor[1]=255*t[1],this.vertexAttributeColor[2]=255*t[2],this.vertexAttributeColor[3]=255*(t.length>3?t[3]:1)}bake(a){this.size=a;const{numVerticesTotal:l,pathVertexData:c,path:u,positions:b,profileRightAxes:v,profileUpAxes:m,profileVertexAndNormals:x}=this.builder;for(let A=0;A<l;++A){let l=c[A];const d=0===l||l===u.vertices.length-1;l*=3;const f=V;let g=0,D=0;const N=4*A,j=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.i)(R,v[N],v[N+1],v[N+2]),E=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.i)(w,m[N],m[N+1],m[N+2]),y=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(P,x[N]*a[0],x[N+1]*a[1]);if(d)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.e)(f,E,j),g=v[N+3]*a[0],D=m[N+3];else{const a=I,h=C;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(a,v[N+3],m[N+3]);const l=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.length)(a);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.normalize)(a,a);const c=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.dot)(y,a);if(Math.abs(c)>l){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(h,-a[1],a[0]);const e=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.dot)(y,h);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.scale)(a,a,l*Math.sign(c)),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.scale)(h,h,e),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.add)(y,a,h)}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.i)(f,0,0,0)}const T=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.i)(O,j[0]*y[0]+E[0]*y[1],j[1]*y[0]+E[1]*y[1],j[2]*y[0]+E[2]*y[1]),L=3*A;this.vertexAttributePosition[L]=b[l]+T[0]+f[0]*g,this.vertexAttributePosition[L+1]=b[l+1]+T[1]+f[1]*g,this.vertexAttributePosition[L+2]=b[l+2]+T[2]+f[2]*g;const M=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_0__.set)(P,x[N+2],x[N+3]);(0,_Normals_js__WEBPACK_IMPORTED_MODULE_8__.compressNormal)(this.vertexAttributeNormal,A,j[0]*M[0]+E[0]*M[1]+f[0]*D,j[1]*M[0]+E[1]*M[1]+f[1]*D,j[2]*M[0]+E[2]*M[1]+f[2]*D)}}createGeometryData(){const t=this.builder.vertexIndices.length,{normalIndices:e,vertexIndices:r}=this.builder;return[[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.POSITION,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(this.vertexAttributePosition,r,3,!0)],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.NORMALCOMPRESSED,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(this.vertexAttributeNormal,e,2,!0)],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.COLOR,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(this.vertexAttributeColor,(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_6__.getZeroIndexArray)(t),4)]]}onPathChanged(t){super.onPathChanged(t),this.bake(this.size)}intersect(t,e,r,i){const s=this.builder.vertexIndices,o=new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Vertices(this.vertexAttributePosition,3),a=s.length/3;(0,_RayIntersections_js__WEBPACK_IMPORTED_MODULE_9__.intersectTriangles)(t,e,0,a,s,o,void 0,r,((t,e,r)=>i(t,r,e,!1)))}}class g extends d{constructor(t,e,r,i){super(t),this.sizeAttributeValue=e,this.colorAttributeValue=r,this.opacityAttributeValue=i,this.vvData=null,this.baked=new f(t),this.vvData=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_5__.newFloatArray)(4*this.builder.path.vertices.length);for(let s=0;s<this.builder.path.vertices.length;++s){this.vvData[4*s]=e,this.vvData[4*s+1]=r,this.vvData[4*s+2]=i;const t=0===s||s===this.builder.path.vertices.length-1;this.vvData[4*s+3]=t?1:0}}createGeometryData(){const{positions:t,profileRightAxes:e,profileUpAxes:r,profileVertexAndNormals:i,pathVertexIndices:s,vertexIndices:o}=this.builder;return[[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.POSITION,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(t,s,3,!0)],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.PROFILERIGHT,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(e,o,4,!0)],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.PROFILEUP,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(r,o,4,!0)],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.PROFILEVERTEXANDNORMAL,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(i,o,4,!0)],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.FEATUREVALUE,new _Attribute_js__WEBPACK_IMPORTED_MODULE_7__.Attribute(this.vvData,s,4,!0)]]}onPathChanged(t){super.onPathChanged(t);const e=t.getMutableAttribute(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__.VertexAttribute.POSITION);e&&(e.data=this.builder.positions)}}const P=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),I=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),C=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),O=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),V=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),R=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),w=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathProfile.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathProfile: function() { return /* binding */ o; },
/* harmony export */   circleProfiles: function() { return /* binding */ d; },
/* harmony export */   quadProfiles: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _layers_graphics_Graphics3DPathSymbolLayerConstants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layers/graphics/Graphics3DPathSymbolLayerConstants.js */ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPathSymbolLayerConstants.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class o{constructor(){this.vertices=new Array,this.normals=new Array,this.indices=new Array,this.poles=new Array,this.poleIndices=new Array}addVertex(t,e){return this.vertices.push((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.clone)(t)),this.normals.push((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.clone)(e)),this.vertices.length-1}addPole(t,e=null){return this.poles.push({position:(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.clone)(t),normal:e?(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.clone)(e):null}),this.poles.length-1}addSegment(t,e=null){this.indices.push(t.v0),this.indices.push(t.v1),e&&(this.poleIndices.push(e.v0),this.poleIndices.push(e.v1))}get numSegments(){return this.indices.length/2}translate(t,e){for(const s of this.vertices)s[0]+=t,s[1]+=e;for(const s of this.poles)s.position[0]+=t,s.position[1]+=e}get usedMemory(){return this.vertices.length*(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.estimateSize)(this.vertices[0])*2+(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__.estimateSize)(this.indices)}}const n={top:[0,-.5],bottom:[0,.5]};function i(t){const s=.5,i=_layers_graphics_Graphics3DPathSymbolLayerConstants_js__WEBPACK_IMPORTED_MODULE_2__.pathNumCircleProfileSubdivisions,d=new o,a={v0:0,v1:0};d.addPole((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,0));for(let r=0;r<i;++r){const t=2*r*Math.PI/i,o=Math.cos(t),n=Math.sin(t),a=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(o*s,n*s),c=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(o,n);d.addVertex(a,c)}for(let e=0;e<i-1;++e){const t={v0:e,v1:e+1};d.addSegment(t,a)}const c={v0:i-1,v1:0};if(d.addSegment(c,a),"center"!==t){const e=n[t];d.translate(e[0],e[1])}return d}const d={center:i("center"),top:i("top"),bottom:i("bottom")},a={center:c("center"),top:c("top"),bottom:c("bottom")};function c(t){const s=1,r=1,i=new o,d=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5*-s,.5*-r),a=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5*s,.5*-r),c=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5*s,.5*r),h=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(.5*-s,.5*r),l=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,-1),v=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(1,0),p=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,1),m=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(-1,0);if(i.addPole((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,.5*r),p),i.addPole((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,.5*r)),i.addPole((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,.5*-r)),i.addPole((0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.fromValues)(0,.5*-r),l),i.addVertex(d,l),i.addVertex(a,l),i.addSegment({v0:0,v1:1},{v0:3,v1:3}),i.addVertex(a,v),i.addVertex(c,v),i.addSegment({v0:2,v1:3},{v0:2,v1:1}),i.addVertex(c,p),i.addVertex(h,p),i.addSegment({v0:4,v1:5},{v0:0,v1:0}),i.addVertex(h,m),i.addVertex(d,m),i.addSegment({v0:6,v1:7},{v0:1,v1:2}),"center"!==t){const e=n[t];i.translate(e[0],e[1])}return i}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathVertex.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathVertex: function() { return /* binding */ R; },
/* harmony export */   newPathVertex: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _PathExtruder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PathExtruder.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathExtruder.js");
/* harmony import */ var _PathGeometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PathGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class R{constructor(){this.vLeft=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.vRight=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),this.vMinSiblingLength=0,this.frame=new _PathExtruder_js__WEBPACK_IMPORTED_MODULE_7__.Frame2D}setFrameFromUpVector(t){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.frame.up,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.g)(D,this.vLeft,this.vRight),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(D,D),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(I,this.frame.up,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(D,this.frame.up)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.d)(k,D,I),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(k,k),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.e)(this.frame.right,k,this.frame.up)}get foldingAngle(){return Math.PI-this.rotationAngle}}class x extends R{get rotationFrameUp(){return this.frame.up}get rotationRight(){return _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.UNIT_X}get rotationAngle(){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(w,this.frame.up,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.frame.up,this.vLeft)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.d)(w,this.vLeft,w),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.v)(w,w),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(w,w),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(y,this.frame.up,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.frame.up,this.vRight)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.d)(y,this.vRight,y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(y,y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.e)(U,this.rotationFrameUp,this.vLeft);return Math.sign((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(U,this.vRight))*(Math.PI-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.acosClamped)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(w,y)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength/Math.cos(.5*this.foldingAngle))}applyMiterStretch(t,r){const s=this.rotationAngle;if(Math.abs(s)<=0)return r;const a=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.reciprocalClamped)(Math.cos(.5*s));return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.set)(t,(a-1+1)*r[0],r[1])}}class L extends R{get rotationFrameUp(){const t=Math.sign((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.frame.right,this.vRight));return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.e)(A,this.vRight,this.vLeft),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(A,A,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(A,A)}get rotationRight(){const t=this.rotationFrameUp,i=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(t,this.frame.up),r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(t,this.frame.right);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(F,this.frame.up,-r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.h)(P,this.frame.right,i),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.g)(F,F,P),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.n)(F,F),j(S,this.frame,F),S}get rotationAngle(){const i=Math.sign((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(this.frame.right,this.vRight));return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.v)(U,this.vLeft),-i*(Math.PI-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.acosClamped)((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(U,this.vRight)))}get maxStretchDistance(){return Math.abs(this.vMinSiblingLength*(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.reciprocalClamped)(Math.cos(.5*this.foldingAngle)))}applyMiterStretch(t,s){const e=this.rotationAngle;if(0===Math.abs(e))return s;const h=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.reciprocalClamped)(Math.cos(.5*e)),o=this.rotationRight,n=(0,_core_libs_gl_matrix_2_math_mat2_js__WEBPACK_IMPORTED_MODULE_1__.set)(E,1+(h-1)*o[0]*o[0],(h-1)*o[0]*o[1],(h-1)*o[0]*o[1],1+(h-1)*o[1]*o[1]);return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.transformMat2)(t,s,n)}}function j(t,i,r){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.set)(t,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(r,i.right),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_5__.f)(r,i.up))}function d(t){switch(t){case _PathGeometry_js__WEBPACK_IMPORTED_MODULE_8__.UpVectorAlignment.World:return new x;case _PathGeometry_js__WEBPACK_IMPORTED_MODULE_8__.UpVectorAlignment.Path:return new L}}const A=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),S=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),F=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),P=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),U=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),w=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),y=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),D=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),k=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),E=(0,_core_libs_gl_matrix_2_factories_mat2f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderContext: function() { return /* binding */ a; },
/* harmony export */   RenderContext: function() { return /* binding */ n; },
/* harmony export */   defaultRenderOccludedMask: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _BindParameters_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BindParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js");
/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{constructor(r,i){this.rctx=r,this.lastFrameCamera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Color,this.renderOccludedMask=o,this.bind=new _BindParameters_js__WEBPACK_IMPORTED_MODULE_3__.BindParameters(i),this.bind.alignPixelEnabled=!0}}class n extends a{constructor(e,t,s){super(e,t),this.techniques=s,this.time=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_0__.Milliseconds)(0)}}const o=_Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.Occlude|_Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.OccludeAndTransparent|_Material_js__WEBPACK_IMPORTED_MODULE_4__.RenderOccludedFlag.OccludeAndTransparentStencil;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderGeometry: function() { return /* binding */ g; },
/* harmony export */   ValidatedRenderGeometry: function() { return /* binding */ m; }
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/mathUtils.js */ "./node_modules/@arcgis/core/views/3d/support/mathUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class g{constructor(r,i={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),this._shaderTransformation=null,this._boundingSphere=null,this.id=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__.generateUID)(),this.layerUid=i.layerUid,this.graphicUid=i.graphicUid,this.castShadow=i.castShadow??!1,i.objectShaderTransformation&&this.objectShaderTransformationChanged(i.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.copy)(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.multiply)(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.c)(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_3__.t)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.a)(this._boundingSphere),this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__.maxScale)(this.shaderTransformation)),this._boundingSphere):_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.N}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return this._shaderTransformation??this.transformation}get attributes(){return this.geometry.attributes}get highlight(){return this.geometry.highlights}foreachHighlightGroup(t){this.geometry.foreachHighlightGroup(t)}get hasHighlights(){return this.geometry.hasHighlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends g{}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShadowMap: function() { return /* binding */ X; },
/* harmony export */   SnapshotSlot: function() { return /* binding */ P; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl/formats.js */ "./node_modules/@arcgis/core/views/3d/webgl/formats.js");
/* harmony import */ var _CascadeCamera_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CascadeCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js");
/* harmony import */ var _textureUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./textureUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var P;!function(t){t[t.Highlight=0]="Highlight",t[t.ExcludeHighlight=1]="ExcludeHighlight"}(P||(P={}));class q{constructor(){this.camera=new _CascadeCamera_js__WEBPACK_IMPORTED_MODULE_14__.CascadeCamera,this.lightMat=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)()}}class G{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class X{constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new G,this._projectionView=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this._projectionViewInverse=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this._modelViewLight=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),this._cascades=[new q,new q,new q,new q],this._lastOrigin=null,this._maxTextureWidth=Math.min((0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("esri-mobile")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}get depthTexture(){return this._handle?.getTexture()}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return (0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.s)(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}disposeOffscreenBuffers(){this._handle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)it[t]=this._cascades[t];return it.length=this._numCascades,it}start(t,s,e,i,a){(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled);const{near:r,far:h}=Tt(e);this._computeCascadeDistances(r,h,i),this._textureHeight=this._computeTextureHeight(t,a,i),this._setupMatrices(t,s);const{viewMatrix:o,projectionMatrix:n}=t;for(let c=0;c<this._numCascades;++c)this._constructCascade(c,n,o,s);this._lastOrigin=null,this.clear()}finish(){(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled),this._handle?.detachDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.p)(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.c)(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.translate)(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)rt[16*s+t]=at[t]}}return rt}moveSnapshot(t){(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(this.enabled),this._handle?.detachDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null,this.clear()}copySnapshot(t){const s=this._handle?.getTexture()?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:i}=s,a=t===P.Highlight?"shadow highlight snapshot":"shadow no highlight snapshot";this._snapshots[t]=this._fbos.acquire(e,i,a,_webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__.ColorFormat.RGBA4);const r=this._fbos.rctx;this._bindFbo();const h=r.bindTexture(this._snapshots[t]?.getTexture(),_webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture.TEXTURE_UNIT_FOR_UPDATES);r.gl.copyTexSubImage2D(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.TextureType.TEXTURE_2D,0,0,0,0,0,e,i),r.bindTexture(h,_webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.getTexture():null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clear(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.FramebufferBit.COLOR|_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.FramebufferBit.DEPTH)}_computeTextureHeight(t,s,e){const i=Math.min(window.devicePixelRatio,s)/t.pixelRatio,a=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=(0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_15__.applyTextureResizeModulo)(Math.floor(Math.max(t.fullWidth,t.fullHeight)*i*a)),h=Math.min(this._maxTextureWidth,this._numCascades*r);return (0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_15__.applyTextureResizeFloorModulo)(h/this._numCascades)}_ensureFbo(){this._handle?.fbo?.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(this._textureWidth,this._textureHeight,"shadow map",_webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__.ColorFormat.RGBA4)),this._handle?.acquireDepth(_webgl_formats_js__WEBPACK_IMPORTED_MODULE_13__.DepthFormat.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.releaseMaybe)(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){this._fbos.rctx.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,i){const a=this._cascades[t],o=-this._cascadeDistances[t],n=-this._cascadeDistances[t+1],c=(s[10]*o+s[14])/Math.abs(s[11]*o+s[15]),l=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]);(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(c<l);for(let r=0;r<8;++r){(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.s)(J,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?c:l,1);const t=K[r];(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.t)(t,J,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.v)(et,K[0]),a.camera.viewMatrix=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.translate)(k,this._modelViewLight,et);for(let r=0;r<8;++r)(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.t)(K[r],K[r],a.camera.viewMatrix);let d=K[0][2],m=K[0][2];for(let r=1;r<8;++r)d=Math.min(d,K[r][2]),m=Math.max(m,K[r][2]);d-=200,m+=200,a.camera.near=-m,a.camera.far=-d,jt(e,i,d,m,a.camera),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.multiply)(a.lightMat,a.camera.projectionMatrix,a.camera.viewMatrix);const u=this._textureHeight;a.camera.viewport=[t*u,0,u,u]}_setupMatrices(t,s){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.multiply)(this._projectionView,t.projectionMatrix,t.viewMatrix),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.invert)(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_12__.ViewingMode.Global?t.eye:(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_8__.i)(et,0,0,1);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_4__.lookAt)(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_computeCascadeDistances(t,e,i){const a=i?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor((0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.logWithBase)(e/t,4)),a);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let o=t,n=t;for(let c=0;c<this._numCascades+1;++c)this._cascadeDistances[c]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.lerp)(o,n,this.settings.splitSchemeLambda),o*=h,n+=r}get test(){}}const k=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),J=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),K=[];for(let yt=0;yt<8;++yt)K.push((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)());const Y=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),Z=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),$=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),tt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),st=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),et=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),it=[],at=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),rt=_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY.concat(_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.IDENTITY),ht=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),ot=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),nt=[(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)()],ct=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),lt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),dt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),mt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),ut=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),_t=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),ft=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)();function gt(t,s,e,i,a,r,h,o){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.set)(ht,0,0);for(let d=0;d<4;++d)(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(ht,ht,t[d]);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(ht,ht,.25),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.set)(ot,0,0);for(let d=4;d<8;++d)(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(ot,ot,t[d]);(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(ot,ot,.25),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[0],t[4],t[5],.5),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[1],t[5],t[6],.5),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[2],t[6],t[7],.5),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(nt[3],t[7],t[4],.5);let n=0,c=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.squaredDistance)(nt[0],ht);for(let d=1;d<4;++d){const t=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.squaredDistance)(nt[d],ht);t<c&&(c=t,n=d)}(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(ct,nt[n],t[n+4]);const l=ct[0];let M,C;ct[0]=-ct[1],ct[1]=l,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(lt,ot,ht),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(lt,ct)<0&&(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.negate)(ct,ct),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.lerp)(ct,ct,lt,e),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.normalize)(ct,ct),M=C=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(dt,t[0],ht),ct);for(let d=1;d<8;++d){const s=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(dt,t[d],ht),ct);s<M?M=s:s>C&&(C=s)}(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.copy)(i,ht),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(dt,ct,M-s),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(i,i,dt);let j=-1,T=1,y=0,D=0;for(let d=0;d<8;++d){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(mt,t[d],i),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.normalize)(mt,mt);const s=ct[0]*mt[1]-ct[1]*mt[0];s>0?s>j&&(j=s,y=d):s<T&&(T=s,D=d)}(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(j>0,"leftArea"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(T<0,"rightArea"),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(ut,ct,M),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(ut,ut,ht),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(_t,ct,C),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(_t,_t,ht),ft[0]=-ct[1],ft[1]=ct[0];const H=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[D],_t,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(dt,_t,ft),1,a),v=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[y],_t,dt,1,r),S=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[y],ut,(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.add)(dt,ut,ft),1,h),R=(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.rayRay2D)(i,t[D],ut,dt,1,o);(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(H,"rayRay"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(v,"rayRay"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(S,"rayRay"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.verify)(R,"rayRay")}function pt(t,s){return 3*s+t}const xt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)();function bt(t,s){return (0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.set)(xt,t[s],t[s+3]),xt}const wt=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_7__.create)(),Mt=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)();function Ct(t,s,e,i,a){(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.subtract)(wt,e,i),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.scale)(wt,wt,.5),Mt[0]=wt[0],Mt[1]=wt[1],Mt[2]=0,Mt[3]=wt[1],Mt[4]=-wt[0],Mt[5]=0,Mt[6]=wt[0]*wt[0]+wt[1]*wt[1],Mt[7]=wt[0]*wt[1]-wt[1]*wt[0],Mt[8]=1,Mt[pt(0,2)]=-(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),t),Mt[pt(1,2)]=-(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),t);let r=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),e)+Mt[pt(0,2)],h=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),e)+Mt[pt(1,2)],o=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),i)+Mt[pt(0,2)],n=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),i)+Mt[pt(1,2)];r=-(r+o)/(h+n),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,0),e)+Mt[pt(0,2)]),h=1/((0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),s)+Mt[pt(1,2)],h=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,2),s)+Mt[pt(2,2)],o=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),e)+Mt[pt(1,2)],n=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+o/n),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,1),s)+Mt[pt(1,2)],h=(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_6__.dot)(bt(Mt,2),s)+Mt[pt(2,2)],o=-h/r,Mt[pt(1,0)]*=o,Mt[pt(1,1)]*=o,Mt[pt(1,2)]*=o,a[0]=Mt[0],a[1]=Mt[1],a[2]=0,a[3]=Mt[2],a[4]=Mt[3],a[5]=Mt[4],a[6]=0,a[7]=Mt[5],a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=Mt[6],a[13]=Mt[7],a[14]=0,a[15]=Mt[8]}function jt(t,s,i,a,r){const h=1/K[0][3],o=1/K[4][3];(0,_Util_js__WEBPACK_IMPORTED_MODULE_16__.assert)(h<o);let n=h+Math.sqrt(h*o);const c=Math.sin((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.acosClamped)(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));n/=c,gt(K,n,c,Y,Z,$,tt,st),Ct(Y,Z,tt,st,r.projectionMatrix),r.projectionMatrix[10]=2/(i-a),r.projectionMatrix[14]=-(i+a)/(i-a)}function Tt(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SortedRenderGeometryRenderer: function() { return /* binding */ v; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../terrain/Intersector.js */ "./node_modules/@arcgis/core/views/3d/terrain/Intersector.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _ChangeSet_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ChangeSet.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _Material_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _rendererUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./rendererUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js");
/* harmony import */ var _RenderSlot_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../materials/renderers/MergedRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let v=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this._pending=new C,this._changes=new _ChangeSet_js__WEBPACK_IMPORTED_MODULE_14__.ChangeSet,this._renderers=new Map,this._sortedRenderers=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_4__["default"],this._geometries=new Map,this._hasHighlights=!1,this._hasWater=!1}destroy(){this._changes.prune(),this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._sortedRenderers.clear(),this._geometries.clear(),this._pending.clear()}get updating(){return!this._pending.empty||this._changes.updates.length>0}get rctx(){return this.rendererContext.rctx}get _materials(){return this.rendererContext.materials}get _localOriginFactory(){return this.rendererContext.localOriginFactory}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccludedDraped(){for(const e of this._renderers.values())if(0!==e.numGeometries&&!e.queryRenderOccludedState(_Material_js__WEBPACK_IMPORTED_MODULE_17__.RenderOccludedFlag.Occlude))return!0;return!1}get isEmpty(){return!this.updating&&0===this._renderers.size&&0===this._geometries.size}getMaterialRenderer(e){return this._renderers.get(e)}get sortedRenderers(){return this._sortedRenderers}commitChanges(){if(!this.updating)return!1;this._processAddsRemoves();const e=(0,_rendererUtils_js__WEBPACK_IMPORTED_MODULE_19__.splitRenderGeometryChangeSetByMaterial)(this._changes);let r=!1;return e.forEach(((e,t)=>{let s=this._renderers.get(t);!s&&e.adds.length>0&&(s=new _materials_renderers_MergedRenderer_js__WEBPACK_IMPORTED_MODULE_21__.MergedRenderer({material:t}),s.initializeRenderContext(this.rendererContext.pluginContext,this._materials),this._renderers.set(t,s),r=!0),s&&(s.modify(e),0===s.numGeometries&&(this._renderers.delete(t),s.destroy(),r=!0))})),this._changes.clear(),r&&this._updateSortedMaterialRenderers(),this._hasHighlights=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>{const r=e.produces.get(_RenderSlot_js__WEBPACK_IMPORTED_MODULE_20__.RenderSlot.DRAPED_MATERIAL);return!!r&&r(_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Highlight)})),this._hasWater=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._renderers,(e=>{const r=e.produces.get(_RenderSlot_js__WEBPACK_IMPORTED_MODULE_20__.RenderSlot.DRAPED_WATER);return!!r&&r(_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_12__.ShaderOutput.Normal)})),this.notifyChange("updating"),!0}addGeometries(e,r){if(0===e.length)return;const t=this._validateRenderGeometries(e);for(const i of t)this._geometries.set(i.id,i);const s=this._pending.empty;for(const i of t)this._pending.adds.add(i);s&&this.notifyChange("updating"),r===_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyOperation.UPDATE&&this._notifyGraphicGeometryChanged(e)}removeGeometries(e,r){const t=this._pending.empty,s=this._pending.adds;for(const i of e)s.has(i)?(this._pending.removed.add(i),s.delete(i)):this._pending.removed.has(i)||this._pending.removes.add(i),this._geometries.delete(i.id);t&&!this._pending.empty&&this.notifyChange("updating"),r===_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyOperation.UPDATE&&this._notifyGraphicGeometryChanged(e)}modifyGeometries(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=this._validateRenderGeometry(s),e.updateType=r}switch(t&&this._changes.updates.length>0&&this.notifyChange("updating"),r){case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.TRANSFORMATION:case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.GEOMETRY:return this._notifyGraphicGeometryChanged(e);case _ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_18__.DirtyState.VISIBILITY:return this._notifyGraphicVisibilityChanged(e)}}updateAnimation(e){let r=!1;return this._sortedRenderers.forAll((t=>r=!!t.updateAnimation&&t.updateAnimation(e)||r)),r}precompile(e){return this._sortedRenderers.reduce(((r,t)=>t.precompile(e)||r),!1)}render(e){this._sortedRenderers.forAll((r=>{const t=r.acquireTechniques(e);t&&(r.render(e,t),(0,_effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_13__.releaseTechniques)(t))}))}intersect(e,r,t,s,i){for(const n of this._geometries.values()){if(!s(n))continue;this._intersectRenderGeometry(n,t,r,0,e,i);const o=this.rendererContext.longitudeCyclical;o&&(n.boundingSphere[0]-n.boundingSphere[3]<o.min&&this._intersectRenderGeometry(n,t,r,o.range,e,i),n.boundingSphere[0]+n.boundingSphere[3]>o.max&&this._intersectRenderGeometry(n,t,r,-o.range,e,i)),i++}return i}_updateSortedMaterialRenderers(){this._sortedRenderers.clear();let e=0;for(const r of this._renderers.values())r.drapedPriority=e++,this._sortedRenderers.push(r);this._sortedRenderers.sort(((e,r)=>r.material?.renderPriority===e.material?.renderPriority?e.drapedPriority-r.drapedPriority:(r.material?.renderPriority||0)-(e.material?.renderPriority||0)))}_processAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._changes.adds.pushArray(Array.from(this._pending.adds)),this._changes.removes.pushArray(Array.from(this._pending.removes)),this._changes.updates.filterInPlace((({renderGeometry:e})=>!this._pending.has(e))),this._pending.clear()}_intersectRenderGeometry(e,r,t,s,i,n){if(!e.visible||!e.material.visible)return;let o=0;s+=e.transformation[12],o=e.transformation[13],S[0]=t[0]-s,S[1]=t[1]-o,e.screenToWorldRatio=this.rendererContext.screenToWorldRatio,e.material.intersectDraped(e,null,i,S,((t,s,o)=>{A(r,o,n,e.material.renderPriority,i,e.layerUid,e.graphicUid)}),r)}_notifyGraphicGeometryChanged(e){if(null==this.drapeSource.notifyGraphicGeometryChanged)return;let r;for(const{graphicUid:t}of e)null!=t&&t!==r&&(this.drapeSource.notifyGraphicGeometryChanged(t),r=t)}_notifyGraphicVisibilityChanged(e){if(null==this.drapeSource.notifyGraphicVisibilityChanged)return;let r;for(const{graphicUid:t}of e)null!=t&&t!==r&&(this.drapeSource.notifyGraphicVisibilityChanged(t),r=t)}_validateRenderGeometries(e){for(const r of e)this._validateRenderGeometry(r);return e}_validateRenderGeometry(e){return null==e.localOrigin&&(e.localOrigin=this._localOriginFactory.getOrigin((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_10__.a)(e.boundingSphere))),e}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"drapeSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"updating",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"rctx",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],v.prototype,"rendererContext",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_materials",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_localOriginFactory",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],v.prototype,"isEmpty",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_renderers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],v.prototype,"_geometries",void 0),v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer")],v);class C{constructor(){this.adds=new Set,this.removes=new Set,this.removed=new Set}get empty(){return 0===this.adds.size&&0===this.removes.size&&0===this.removed.size}has(e){return this.adds.has(e)||this.removes.has(e)||this.removed.has(e)}clear(){this.adds.clear(),this.removes.clear(),this.removed.clear()}}function A(e,r,t,s,i,n,o){const a=new _terrain_Intersector_js__WEBPACK_IMPORTED_MODULE_11__.OverlayTarget(n,o,r),h=r=>{r.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.IntersectorType.OVERLAY,a,e.dist,e.normal,e.transformation,t,s)};if((null==i.results.min.drapedLayerOrder||t>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&h(i.results.min),i.options.store!==_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.StoreResults.MIN&&(null==i.results.max.drapedLayerOrder||t<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&h(i.results.max),i.options.store===_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_16__.StoreResults.ALL){const e=(0,_Intersector_js__WEBPACK_IMPORTED_MODULE_15__.newIntersectorResult)(i.ray);h(e),i.results.all.push(e)}}const S=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_9__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getTextHelperCanvas: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function a(a,n,c){return a.canvas||(a.canvas=document.createElement("canvas")),a.canvas.width=n,a.canvas.height=c,a.canvas}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderParameters.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextRenderParameters: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "./node_modules/@arcgis/core/Color.js");
/* harmony import */ var _core_fontUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/fontUtils.js */ "./node_modules/@arcgis/core/core/fontUtils.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(o){this.definition=o,this.key=JSON.stringify(o),this.haloSize=Math.round(o.halo.size),this.textStyle=a(o.color),this.haloStyle=l(o.halo.color),this.backgroundStyle=0!==o.background.color[3]?a(o.background.color):null}fontString(o){const t=this.definition.font,e="sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji";return`${t.style} ${t.weight} ${o}px ${t.family}, ${e}`}setFontProperties(o,t){o.font=this.fontString(t),o.textAlign="left",o.textBaseline="alphabetic"}static async fromSymbol(l,a){const f=l?.material?.color,m=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(f)??_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.ZEROS,g=null!=l.size?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(l.size):12,u=l.lineHeight,d=null!=l.background?_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(l.background.color):_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.ZEROS,h={family:l.font?.family??"sans-serif",decoration:l.font?.decoration??"none",weight:l.font?.weight??"normal",style:l.font?.style??"normal"},y=l.halo,b=null!=y?.color&&y.size>0?{size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_3__.pt2px)(y.size),color:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(y.color)}:{size:0,color:_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.ZEROS},p=new s({color:m,size:g,background:{color:d,padding:null!=l.background?[.65*g,.5*g]:[0,0],borderRadius:null!=l.background?g*(6/16):0},lineSpacingFactor:u,font:h,halo:b,pixelRatio:a});if(l.font){let o=!1;const r=p.fontString(g);try{o=(await document.fonts.load(r)).some((o=>!(0,_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_1__.isCachedFontFace)(o)))}catch(S){_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.3d.webgl-engine.lib.TextRenderParameters").warnOnce(`Failed to preload font '${r}'. Some text symbology may be rendered using the default browser font.`)}if(!o&&!c.has(l.font.family))try{await (0,_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_1__.loadFont)(l.font)}catch(S){}}return p}}function l(o){return`rgb(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()})`}function a(o){return`rgba(${o.slice(0,3).map((o=>Math.floor(255*o))).toString()},${o[3]})`}const c=new Set(["Arial","Times New Roman","Courier New","serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextRenderAlignment: function() { return /* binding */ o; },
/* harmony export */   TextRenderer: function() { return /* binding */ r; },
/* harmony export */   textVerticalPaddingPx: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _FontMetrics_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FontMetrics.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/FontMetrics.js");
/* harmony import */ var _TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TextHelperCanvas.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const s=1;class r{constructor(t,e,i,n){this.text=t,this._alignment=e,this._parameters=i,this._maxSize=n,this._textWidths=[],this._lineWidths=[],this._renderPixelRatio=null,this._metricsCached=null,this.key=`${t}--${this._parameters.key}-${this._alignment}`,this._lines=t.replaceAll(" "," ").split(/\r?\n/)}get displayWidth(){return Math.ceil(this._displayWidth+2*this._horizontalPadding)}get displayHeight(){let t=this._metrics.firstLineAscent;for(let e=0;e<this._lines.length-1;e++)t+=this._lineSpacing;return t+=this._metrics.lastLineDescent,Math.ceil(t+2*this._haloSize+2*this._verticalPadding)}get renderedWidth(){return this._toRoundedRenderUnit(this.displayWidth)}get renderedHeight(){return this._toRoundedRenderUnit(this.displayHeight)}get firstRenderedBaselinePosition(){return this._toRenderUnit(this._firstLineYOffset+this._metrics.firstLineAscent)}get _firstLineYOffset(){return this._verticalPadding+this._haloSize}get _metrics(){if(null==this._metricsCached){const t=(0,_TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_3__.getTextHelperCanvas)(a,l,l).getContext("2d"),e=this._parameters.definition.pixelRatio,s=this._fontSize*e;this._parameters.setFontProperties(t,s);let r=2*this._haloSize;const h=this._parameters.definition.font;"italic"!==h.style&&"oblique"!==h.style&&"bold"!==h.weight&&"bolder"!==h.weight||(r+=.3*t.measureText("A").width),this._textWidths.length=0,this._lineWidths.length=0;let o=0,d=0,_=0,g=0,m=0;this._lines.forEach(((i,n)=>{const s=t.measureText(i),h=s.width/e,a=h+r;this._textWidths.push(h),this._lineWidths.push(a),o=Math.max(o,a),g=Math.max(g,s.actualBoundingBoxAscent/e),m=Math.max(m,s.actualBoundingBoxDescent/e),0===n&&(d=s.actualBoundingBoxAscent/e),n===this._lines.length-1&&(_=s.actualBoundingBoxDescent/e)}));const f=(0,_FontMetrics_js__WEBPACK_IMPORTED_MODULE_2__.getFontMetrics)(this._parameters),u=Math.max(g,f.maxAscent),p=Math.max(m,f.maxDescent),x=d,R="underline"===this._parameters.definition.font.decoration?p:_,S=o;this._metricsCached=new c(x,R,u,p,S)}return this._metricsCached}get _lineSpacing(){return(this._midLineHeight+this._linePadding)*this._parameters.definition.lineSpacingFactor}get _midLineHeight(){return this._metrics.midLineHeight}get _linePadding(){return this._midLineHeight*d}get _midLineAscent(){return this._metrics.maxLineAscent}get _renderedFontSize(){return this._toRenderUnit(this._fontSize)}get _fontSize(){return this._parameters.definition.size}get _renderedHaloSize(){return this._toRenderUnit(this._haloSize)}get _haloSize(){return this._parameters.haloSize}get _horizontalPadding(){return this._hasBackground?this._parameters.definition.background.padding[0]:0}get _verticalPadding(){return Math.max(this._hasBackground?this._parameters.definition.background.padding[1]:0,s)}get _hasBackground(){return!!this._parameters.backgroundStyle}get renderPixelRatio(){if(null==this._renderPixelRatio){const t=this._parameters.definition.pixelRatio;this._renderPixelRatio=Math.min(t,Math.min(this._maxSize[0]/this.displayWidth,this._maxSize[1]/this.displayHeight))}return this._renderPixelRatio}_getLineXOffset(t){switch(this._alignment){case o.Left:return this._horizontalPadding;case o.Center:return(this.displayWidth-this._lineWidths[t])/2;case o.Right:return this.displayWidth-this._horizontalPadding-this._lineWidths[t]}}render(t,i,n){t.save();const s=i/=this.renderPixelRatio,r=n/=this.renderPixelRatio,h=this._haloSize,o=this._firstLineYOffset+this._metrics.firstLineAscent;i+=h,n+=o;const a=this._haloSize>0;a&&this._renderHalo(t,s,r,h,o),this._parameters.setFontProperties(t,this._renderedFontSize);for(let e=0;e<this._lines.length;++e){const s=this._lines[e],r=this._getLineXOffset(e);a&&(t.globalCompositeOperation="destination-out",t.fillStyle="rgb(0, 0, 0)",this._fillText(t,s,i+r,n),this._renderLineDecoration(t,i+r,n,this._textWidths[e])),t.globalCompositeOperation="source-over",t.fillStyle=this._parameters.textStyle,this._fillText(t,s,i+this._getLineXOffset(e),n),this._renderLineDecoration(t,i+r,n,this._textWidths[e]),n+=this._lineSpacing}if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_1__.debugFlags.TEXT_SHOW_BASELINE){t.strokeStyle=_,t.setLineDash([2,2]),t.lineWidth=1;let e=r+o;for(let i=0;i<this._lines.length;++i)this._drawLine(t,[s,e],[s+this.displayWidth,e]),e+=this._lineSpacing}if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_1__.debugFlags.TEXT_SHOW_BORDER&&(t.strokeStyle=_,t.setLineDash([]),t.lineWidth=1,this._drawBox(t,[s,r],[this.displayWidth,this.displayHeight])),this._hasBackground){const e=this._parameters.definition.background.borderRadius*this.renderPixelRatio;this._roundedRect(t,s,r,e),t.globalCompositeOperation="destination-over",t.fillStyle=this._parameters.backgroundStyle,t.fill()}t.restore()}_renderLineDecoration(t,e,i,n,s=!1){if("none"===this._parameters.definition.font.decoration||0===n)return;const r=1,h=Math.max(this._parameters.definition.size/16,r);switch(this._parameters.definition.font.decoration){case"underline":i+=2*h;break;case"line-through":i-=.33*this._midLineAscent}const o=s?this._haloSize:0;t.strokeStyle=s?this._parameters.haloStyle:this._parameters.textStyle,t.lineWidth=this._toRenderUnit(h+2*o),t.beginPath(),t.moveTo(this._toRenderUnit(e-o),this._toRenderUnit(i)),t.lineTo(this._toRenderUnit(e+n+o),this._toRenderUnit(i)),t.stroke()}_roundedRect(e,i,n,s){i=this._toRenderUnit(i),n=this._toRenderUnit(n);const r=this.renderedWidth,h=this.renderedHeight;0!==s?(s=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(s,0,Math.floor(h/2)),e.beginPath(),e.moveTo(i,n+s),e.arcTo(i,n,i+s,n,s),e.lineTo(i+r-s,n),e.arcTo(i+r,n,i+r,n+s,s),e.lineTo(i+r,n+h-s),e.arcTo(i+r,n+h,i+r-s,n+h,s),e.lineTo(i+s,n+h),e.arcTo(i,n+h,i,n+h-s,s),e.closePath()):e.rect(i,n,r,h)}_renderHalo(t,e,i,s,r){const h=this.renderedWidth,o=this.renderedHeight,d=(0,_TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_3__.getTextHelperCanvas)(a,Math.max(h,l),Math.max(o,l)),_=d.getContext("2d");_.clearRect(0,0,h,o),this._parameters.setFontProperties(_,this._renderedFontSize),_.fillStyle=this._parameters.haloStyle,_.strokeStyle=this._parameters.haloStyle;const c=this._renderedHaloSize<3;_.lineJoin=c?"miter":"round",c?this._renderHaloEmulated(_,s,r):this._renderHaloNative(_,s,r);let g=r;for(let n=0;n<this._lines.length;++n){const t=this._getLineXOffset(n);this._renderLineDecoration(_,s+t,g,this._textWidths[n],!0),g+=this._lineSpacing}t.globalAlpha=this._parameters.definition.halo.color[3],t.drawImage(d,0,0,h,o,this._toRenderUnit(e),this._toRenderUnit(i),h,o),t.globalAlpha=1}_renderHaloEmulated(t,e,i){for(let n=0;n<this._lines.length;++n){const s=this._lines[n],r=this._getLineXOffset(n);for(const[n,o]of h)this._fillText(t,s,e+r+this._haloSize*n,i+this._haloSize*o);i+=this._lineSpacing}}_renderHaloNative(t,e,i){const n=2*this._haloSize;for(let s=0;s<this._lines.length;++s){const r=this._lines[s],h=this._getLineXOffset(s),o=5,a=.1;for(let s=0;s<o;s++){const d=1-(o-1)*a+s*a;t.lineWidth=this._toRenderUnit(d*n),this._strokeText(t,r,e+h,i)}i+=this._lineSpacing}}get _displayWidth(){return this._metrics.displayWidth}_toRenderUnit(t){return t*this.renderPixelRatio}_toRoundedRenderUnit(t){return Math.round(t*this.renderPixelRatio)}_fillText(t,e,i,n){t.fillText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_strokeText(t,e,i,n){t.strokeText(e,this._toRenderUnit(i),this._toRenderUnit(n))}_drawLine(t,e,i){t.beginPath(),t.moveTo(this._toRoundedRenderUnit(e[0])+.5,this._toRoundedRenderUnit(e[1])+.5),t.lineTo(this._toRoundedRenderUnit(i[0])+.5,this._toRoundedRenderUnit(i[1])+.5),t.stroke()}_drawBox(t,e,i){const n=this._toRenderUnit(e[0]),s=this._toRenderUnit(e[1]),r=this._toRenderUnit(i[0]),h=this._toRenderUnit(i[1]),o=Math.floor(n)+.5,a=Math.ceil(n+r)-.5,d=Math.floor(s)+.5,l=Math.ceil(s+h)-.5;t.beginPath(),t.moveTo(o,d),t.lineTo(a,d),t.lineTo(a,l),t.lineTo(o,l),t.lineTo(o,d),t.stroke()}}const h=[];{const t=16;for(let e=0;e<360;e+=360/t)h.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}var o;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(o||(o={}));const a={canvas:null},d=.2,l=512,_="rgb(255, 0, 255, 0.5)";class c{get firstLineHeight(){return this.firstLineAscent+this.maxLineDescent}get midLineHeight(){return this.maxLineAscent+this.maxLineDescent}get lastLineHeight(){return this.maxLineAscent+this.lastLineDescent}constructor(t,e,i,n,s){this.firstLineAscent=t,this.lastLineDescent=e,this.maxLineAscent=i,this.maxLineDescent=n,this.displayWidth=s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextTextureAtlas: function() { return /* binding */ k; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/uid.js */ "./node_modules/@arcgis/core/core/uid.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ContentObjectType.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js");
/* harmony import */ var _testUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./testUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/testUtils.js");
/* harmony import */ var _textureUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./textureUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _support_Yield_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/Yield.js */ "./node_modules/@arcgis/core/views/support/Yield.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl/Texture.js */ "./node_modules/@arcgis/core/views/webgl/Texture.js");
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../webgl/TextureDescriptor.js */ "./node_modules/@arcgis/core/views/webgl/TextureDescriptor.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const T=4096;let k=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super(e),this.type=_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_12__.ContentObjectType.Texture,this.id=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_5__.generateUID)(),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"],this._glTexture=null,this._atlas=new A(256,256),this._needsRepack=!1,this._canRepack=!0,this._elementsToRender=new Map,this._elements=new Map,this._uvCallbacks=new Map,this.updating=!1}initialize(){this._canvas=document.createElement("canvas"),this._canvas.setAttribute("id","textAtlasCanvas"),this._canvas.setAttribute("style","display:none"),this._ctx=this._canvas.getContext("2d"),this._stage=this.view._stage,this._stage.add(this),this._updateCanvasElementSize(this._atlas),this._reset()}unload(){this._glTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._glTexture),this._frameWorker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.removeMaybe)(this._frameWorker),this.updating=!1,this.events.emit("unloaded")}get glTexture(){return this._glTexture}static get maxSize(){return j=_testUtils_js__WEBPACK_IMPORTED_MODULE_13__.textTextureAtlas.stableRendering?R:0,[T-R-j,T-R-j-y]}load(e){if(this._glTexture)return this._glTexture;const t=new _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_19__.TextureDescriptor;return t.wrapMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.TextureWrapMode.CLAMP_TO_EDGE,t.samplingMode=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_17__.TextureSamplingMode.LINEAR_MIPMAP_LINEAR,t.hasMipmap=!0,t.preMultiplyAlpha=!0,t.maxAnisotropy=e.parameters.maxMaxAnisotropy,this._glTexture=new _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_18__.Texture(e,t,this._canvas),this._frameWorker=this.view.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_15__.TaskPriority.TEXT_TEXTURE_ATLAS,this),this.setDirty(),this._glTexture}dispose(){this._elements.clear(),this._elementsToRender.clear(),this._frameWorker=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.removeMaybe)(this._frameWorker),this._glTexture&&(this._stage.remove(this),this._glTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._glTexture)),this._canvas.width=0,this._canvas.height=0,this._canvas=null,this._ctx=null}_updateCanvasElementSize(e){this._canvas.width=e.width,this._canvas.height=e.height}_resizeAtlas(e,t){const{width:s,height:i}=this._atlas;s===e&&i===t||(this._atlas.width=e,this._atlas.height=t,this._glTexture?.resize(e,t),this._glTexture?.updateData(0,0,0,s,i,this._canvas),this._updateCanvasElementSize(this._atlas),this._elements.forEach((e=>this._uvCallbacks.get(e.textRenderer.key)?.forEach((t=>t(e.uv))))),this._reset())}_reset(){this._elementsToRender.clear(),this._atlas.reset(),this._needsRepack=!0,this.setDirty()}_addAtlasElement(e,t,s,i){const r=this._atlas;if(r.width<s||r.height<i)return!1;let h=r.cursors.get(i);if(!h){if(r.height<r.nextY+i)return!1;h=[new C(r.nextY)],r.cursors.set(i,h),r.nextY+=i}let n=h.find((e=>r.width>=e.x+s));if(null==n){if(r.height<r.nextY+i)return!1;n=new C(r.nextY),r.nextY+=i,h.push(n)}return e.setNewPosition(n),this._elements.set(t,e),this._elementsToRender.set(t,e),n.x+=s,!0}_ensureCallbacks(e){const t=this._uvCallbacks.get(e);if(t)return t;const s=new Set;return this._uvCallbacks.set(e,s),s}_addCallback(e,t){this._ensureCallbacks(e).add(t)}_removeCallback(e,t){const s=this._uvCallbacks.get(e);return!(!s?.delete(t)||0!==s.size)&&(this._uvCallbacks.delete(e),!0)}_processAddition(e){const t=e.textRenderer.key;if(this._needsRepack)return void this._elements.set(t,e);const s=this._atlas,i=e.textRenderer.renderedWidth,r=e.textRenderer.renderedHeight,h=i+R,n=r+R+y;if(!this._addAtlasElement(e,t,h,n)){if(this._canRepack)this._reset();else if(s.width<h){const e=Math.min((0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_14__.applyTextureResizeModulo)(Math.max(h,1.5*s.width)),T);this._resizeAtlas(e,s.height)}else{const e=s.nextY+n,t=Math.min((0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_14__.applyTextureResizeModulo)(Math.max(e,1.5*s.height)),T);if(t>s.height)this._resizeAtlas(s.width,t);else if(s.width<T){const e=Math.min((0,_textureUtils_js__WEBPACK_IMPORTED_MODULE_14__.applyTextureResizeModulo)(1.5*s.width),T);this._resizeAtlas(e,s.height)}}this._elements.set(t,e)}}_renderElement(e){const t=e.commitNewPosition(),s=e.textRenderer;this._ctx.clearRect(t[0]-R,t[1]-R,s.renderedWidth+2*R,s.renderedHeight+2*R),s.render(this._ctx,t[0],t[1]),this._uvCallbacks.get(s.key)?.forEach((t=>t(e.uv)))}get running(){return this.updating}runTask(e){if(null==this._glTexture)return _support_Yield_js__WEBPACK_IMPORTED_MODULE_16__.Yield;for(;this._needsRepack&&(this._canRepack||this._atlas.height<T&&this._atlas.height<T);){this._canRepack=this._needsRepack=!1;const t=this._elements;this._elements=new Map,t.forEach((e=>this._processAddition(e))),e.madeProgress()}if(this._elementsToRender.size>0){for(const[t,s]of this._elementsToRender){if(e.done)break;this._renderElement(s),this._elementsToRender.delete(t),e.madeProgress()}this._glTexture.setData(this._canvas)}this.updating=this._elementsToRender.size>0}addText(e,t){const s=e.key;this._addCallback(s,t);let i=this._elements.get(s);return i?(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.a)(i.uv,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.ZEROS)||t(i.uv):(i=new b(this._atlas,e),this._processAddition(i),this.setDirty()),{remove:()=>this._removeText(e,t)}}_removeText(e,t){const s=e.key;this._elements.get(s)&&this._removeCallback(s,t)&&(this._elements.delete(s),this._elementsToRender.delete(s),this._canRepack=!0)}setDirty(){this._glTexture&&(this.updating=!0)}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],k.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({type:Boolean})],k.prototype,"updating",void 0),k=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.webgl-engine.lib.TextTextureAtlas")],k);const R=2,y=2;class b{constructor(e,t){this._atlas=e,this.textRenderer=t,this._uv=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),this._newPosition=[0,0]}get uv(){if(null==this._xOffset||null==this._yOffset)return _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_11__.ZEROS;const{renderedWidth:e,renderedHeight:t}=this.textRenderer;return (0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_10__.s)(this._uv,this._xOffset/this._atlas.width,(this._yOffset+t)/this._atlas.height,(this._xOffset+e)/this._atlas.width,this._yOffset/this._atlas.height)}setNewPosition(e){this._newPosition[0]=e.x,this._newPosition[1]=e.y}commitNewPosition(){return this._xOffset=this._newPosition[0],this._yOffset=this._newPosition[1],this._newPosition}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}}class A{constructor(e,t){this.width=e,this.height=t,this.cursors=new Map,this.nextY=0}reset(){this.cursors.clear(),this.nextY=j}}class C{constructor(e){this.y=e,this.x=j}}let j=0;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureFactory.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TextHelperCanvas.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextHelperCanvas.js");
/* harmony import */ var _TextRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextRenderer.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextRenderer.js");
/* harmony import */ var _TextTextureAtlas_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TextTextureAtlas.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextTextureAtlas.js");
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Texture.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i{constructor(e,n,s){this._renderer=new _TextRenderer_js__WEBPACK_IMPORTED_MODULE_1__.TextRenderer(e,n,s,_TextTextureAtlas_js__WEBPACK_IMPORTED_MODULE_2__.TextTextureAtlas.maxSize)}get key(){return this._renderer.key}get baselineAnchorY(){return 1-this._renderer.firstRenderedBaselinePosition/this._renderer.renderedHeight}get displayWidth(){return this._renderer.displayWidth}get displayHeight(){return this._renderer.displayHeight}create(){const r=(0,_TextHelperCanvas_js__WEBPACK_IMPORTED_MODULE_0__.getTextHelperCanvas)(d,this._renderer.renderedWidth,this._renderer.renderedHeight),t=r.getContext("2d");return t.save(),this._renderer.render(t,0,0),t.restore(),new _Texture_js__WEBPACK_IMPORTED_MODULE_3__.Texture(r,{wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureWrapMode.CLAMP_TO_EDGE,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.TextureWrapMode.CLAMP_TO_EDGE},noUnpackFlip:!1,mipmap:!0,preMultiplyAlpha:!0})}}const d={canvas:null};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureTechnique: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/TextureOnly.glsl.js */ "./node_modules/@arcgis/core/chunks/TextureOnly.glsl.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(o,i,l){super(o,i,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_TextureOnly_glsl_js__WEBPACK_IMPORTED_MODULE_0__.a,(()=>__webpack_require__.e(/*! import() | core-shaderLibrary-util-TextureOnly.glsl */ "core-shaderLibrary-util-TextureOnly.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../core/shaderLibrary/util/TextureOnly.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureOnly.glsl.js")))),l)}initializePipeline(e){return e.hasAlpha?(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.premultipliedAlphaToPremultipliedAlpha,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite}):(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.makePipelineState)({colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_3__.defaultColorWrite})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TextureTechniqueConfiguration: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechniqueConfiguration{constructor(){super(...arguments),this.hasAlpha=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],r.prototype,"hasAlpha",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Update.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Update: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var e;!function(e){e[e.Immediate=0]="Immediate",e[e.FadeWithWeather=1]="FadeWithWeather"}(e||(e={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexArrayObject: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webgl/VertexArrayObject.js */ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__.VertexArrayObject{}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fovd2fovx: function() { return /* binding */ n; },
/* harmony export */   fovd2fovy: function() { return /* binding */ r; },
/* harmony export */   fovx2fovd: function() { return /* binding */ t; },
/* harmony export */   fovy2fovd: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function t(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/a)}function a(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/n)}function n(t,a,n){return 2*Math.atan(a*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}function r(t,a,n){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r{constructor(r,i,s){this._elementSize=i,this._buffer=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_0__.BufferObject.createVertex(r,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__.Usage.STATIC_DRAW),this.resize(s)}destroy(){this._buffer.dispose()}get elementSize(){return this._elementSize}get capacity(){return this._capacity}get array(){return this._array}get buffer(){return this._buffer}get usedMemory(){return this._array.byteLength+this._buffer.usedMemory}copyRange(e,t,r,i=0){const s=new Uint8Array(this.array,e*this.elementSize,(t-e)*this.elementSize);new Uint8Array(r.array,i*this.elementSize).set(s)}transferAll(){this._buffer.setData(this._array)}transferRange(e,t){const r=e*this._elementSize,i=t*this._elementSize;this._buffer.setSubData(new Uint8Array(this._array),r,r,i)}resize(e){const t=e*this._elementSize,r=new ArrayBuffer(t);this._array&&(e>=this._capacity?new Uint8Array(r).set(new Uint8Array(this._array)):new Uint8Array(r).set(new Uint8Array(this._array).subarray(0,e*this._elementSize))),this._array=r,this._buffer.setSize(t),this._capacity=e}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstanceData: function() { return /* binding */ b; },
/* harmony export */   InstanceDataView: function() { return /* binding */ R; },
/* harmony export */   StateFlags: function() { return /* binding */ F; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "./node_modules/@arcgis/core/core/Evented.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../support/mathUtils.js */ "./node_modules/@arcgis/core/views/3d/support/mathUtils.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _RenderInstanceData_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./RenderInstanceData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var F;function C(t){let e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_16__.newLayout)().mat4f64(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.LOCALTRANSFORM).mat4f64(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.GLOBALTRANSFORM).vec4f64(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.BOUNDINGSPHERE).vec3f64(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.MODELORIGIN).mat3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.INSTANCEMODEL).mat3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.INSTANCEMODELNORMAL).vec2f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.MODELSCALEFACTORS);return t.includes(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.FEATUREATTRIBUTE)&&(e=e.vec4f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.FEATUREATTRIBUTE)),t.includes(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR)&&(e=e.vec4u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR)),t.includes(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OBJECTANDLAYERIDCOLOR)&&(e=e.vec4u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OBJECTANDLAYERIDCOLOR)),e=e.u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.STATE).u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.LODLEVEL),e}!function(t){t[t.ALLOCATED=1]="ALLOCATED",t[t.DEFAULT_ACTIVE=2]="DEFAULT_ACTIVE",t[t.VISIBLE=4]="VISIBLE",t[t.HIGHLIGHT=8]="HIGHLIGHT",t[t.HIGHLIGHT_ACTIVE=16]="HIGHLIGHT_ACTIVE",t[t.REMOVE=32]="REMOVE",t[t.TRANSFORM_CHANGED=64]="TRANSFORM_CHANGED",t[t.ACTIVE=18]="ACTIVE"}(F||(F={}));class R{constructor(t){this.localTransform=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.LOCALTRANSFORM,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewMat4f64),this.globalTransform=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.GLOBALTRANSFORM,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewMat4f64),this.modelOrigin=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.MODELORIGIN,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewVec3f64),this.model=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.INSTANCEMODEL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewMat3f),this.modelNormal=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.INSTANCEMODELNORMAL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewMat3f),this.modelScaleFactors=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.MODELSCALEFACTORS,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewVec2f),this.boundingSphere=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.BOUNDINGSPHERE,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewVec4f64),this.featureAttribute=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.FEATUREATTRIBUTE,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewVec4f),this.color=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.COLOR,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewVec4u8),this.objectAndLayerIdColor=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.OBJECTANDLAYERIDCOLOR,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewVec4u8),this.state=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.STATE,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewUint8),this.lodLevel=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_18__.VertexAttribute.LODLEVEL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_14__.BufferViewUint8)}}let b=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t,e){super(t),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_3__["default"],this._capacity=0,this._size=0,this._next=0,this._highlightGroupMap=new Map,this._highlightGroupMapPrev=new Map,this._layout=C(e),this._capacity=_RenderInstanceData_js__WEBPACK_IMPORTED_MODULE_19__.initialCapacity,this._buffer=this._layout.createBuffer(this._capacity),this._view=new R(this._buffer)}get capacity(){return this._capacity}get size(){return this._size}get view(){return this._view}addInstance(){this._size+1>this._capacity&&this._grow();const t=this._findSlot();return this._view.state.set(t,F.ALLOCATED),this._size++,this.events.emit("instances-changed"),t}removeInstance(t){const e=this._view.state;(0,_Util_js__WEBPACK_IMPORTED_MODULE_17__.assert)(t>=0&&t<this._capacity&&!!(e.get(t)&F.ALLOCATED),"invalid instance handle"),this._getStateFlag(t,F.ACTIVE)?this._setStateFlags(t,F.REMOVE):this.freeInstance(t),this.events.emit("instances-changed")}freeInstance(t){const e=this._view.state;(0,_Util_js__WEBPACK_IMPORTED_MODULE_17__.assert)(t>=0&&t<this._capacity&&!!(e.get(t)&F.ALLOCATED),"invalid instance handle"),e.set(t,0),this._size--}setLocalTransform(t,e,s=!0){this._view.localTransform.setMat(t,e),s&&this.updateModelTransform(t)}getLocalTransform(t,e){this._view.localTransform.getMat(t,e)}setGlobalTransform(t,e,s=!0){this._view.globalTransform.setMat(t,e),s&&this.updateModelTransform(t)}getGlobalTransform(t,e){this._view.globalTransform.getMat(t,e)}updateModelTransform(t){const e=this._view,s=G,i=y;e.localTransform.getMat(t,D),e.globalTransform.getMat(t,N);const a=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_10__.multiply)(N,N,D);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_12__.i)(s,a[12],a[13],a[14]),e.modelOrigin.setVec(t,s),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_8__.fromMat4)(i,a),e.model.setMat(t,i);const r=(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_15__.scaleFromMatrix)(G,a);r.sort(),e.modelScaleFactors.set(t,0,r[1]),e.modelScaleFactors.set(t,1,r[2]),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_8__.invert)(i,i),(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_8__.transpose)(i,i),e.modelNormal.setMat(t,i),this._setStateFlags(t,F.TRANSFORM_CHANGED),this.events.emit("instance-transform-changed",{index:t})}getModelTransform(t,e){const s=this._view;s.model.getMat(t,y),s.modelOrigin.getVec(t,G),e[0]=y[0],e[1]=y[1],e[2]=y[2],e[3]=0,e[4]=y[3],e[5]=y[4],e[6]=y[5],e[7]=0,e[8]=y[6],e[9]=y[7],e[10]=y[8],e[11]=0,e[12]=G[0],e[13]=G[1],e[14]=G[2],e[15]=1}applyShaderTransformation(t,e){null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedModelTransform(t,e){return this.getModelTransform(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e),e}getCombinedLocalTransform(t,e){this._view.localTransform.getMat(t,e),null!=this.shaderTransformation&&this.shaderTransformation.applyTransform(this,t,e)}getCombinedMaxScaleFactor(t){let e=this._view.modelScaleFactors.get(t,1);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(G,this,t),e*=Math.max(G[0],G[1],G[2])),e}getCombinedMedianScaleFactor(t){let e=this._view.modelScaleFactors.get(t,0);return null!=this.shaderTransformation&&(this.shaderTransformation.scaleFactor(G,this,t),e*=w(G[0],G[1],G[2])),e}getModel(t,e){this._view.model.getMat(t,e)}setFeatureAttribute(t,e){this._view.featureAttribute.setVec(t,e)}getFeatureAttribute(t,e){this._view.featureAttribute.getVec(t,e)}setColor(t,e){this._view.color.setVec(t,e)}setObjectAndLayerIdColor(t,e){this._view.objectAndLayerIdColor.setVec(t,e)}setVisible(t,e){e!==this.getVisible(t)&&(this._setStateFlag(t,F.VISIBLE,e),this.events.emit("instance-visibility-changed",{index:t}))}getVisible(t){return this._getStateFlag(t,F.VISIBLE)}setHighlight(t,e,s){let i=this._highlightGroupMap.get(t);e?(i||(i=new Set,this._highlightGroupMap.set(t,i)),i.add(s)&&(this._setStateFlag(t,F.HIGHLIGHT,!0),this.events.emit("instance-highlight-changed"))):i?.delete(s)&&(0===i.size&&(this._highlightGroupMap.delete(t),this._setStateFlag(t,F.HIGHLIGHT,!1)),this.events.emit("instance-highlight-changed"))}getHighlight(t){return this._getStateFlag(t,F.HIGHLIGHT)}foreachHighlightGroupPrev(t,e){this._highlightGroupMapPrev.get(t)?.forEach(e),this._highlightGroupMapPrev.delete(t)}foreachHighlightGroup(t,e){const s=this._highlightGroupMap.get(t);s?.forEach(e),s?this._highlightGroupMapPrev.set(t,new Set(s)):this._highlightGroupMapPrev.delete(t)}getState(t){return this._view.state.get(t)}getLodLevel(t){return this._view.lodLevel.get(t)}countFlags(t){let e=0;for(let s=0;s<this._capacity;++s){this.getState(s)&t&&++e}return e}_setStateFlags(t,e){const s=this._view.state;e=s.get(t)|e,s.set(t,e)}_clearStateFlags(t,e){const s=this._view.state;e=s.get(t)&~e,s.set(t,e)}_setStateFlag(t,e,s){s?this._setStateFlags(t,e):this._clearStateFlags(t,e)}_getStateFlag(t,e){return!!(this._view.state.get(t)&e)}_grow(){this._capacity=Math.max(_RenderInstanceData_js__WEBPACK_IMPORTED_MODULE_19__.initialCapacity,Math.floor(this._capacity*_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_2__.reallocGrowthFactor)),this._buffer=this._layout.createBuffer(this._capacity).copyFrom(this._buffer),this._view=new R(this._buffer)}_findSlot(){const t=this._view.state;let e=this._next;for(;t.get(e)&F.ALLOCATED;)e=e+1===this._capacity?0:e+1;return this._next=e+1===this._capacity?0:e+1,e}};function w(t,e,s){return Math.max(Math.min(t,e),Math.min(Math.max(t,e),s))}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],b.prototype,"shaderTransformation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],b.prototype,"_size",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],b.prototype,"size",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)("esri.views.3d.webgl-engine.lib.lodRendering.InstanceData")],b);const G=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__.create)(),y=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),D=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)(),N=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_11__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InstanceOctree: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ "./node_modules/@arcgis/core/chunks/sphere.js");
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../support/mathUtils.js */ "./node_modules/@arcgis/core/views/3d/support/mathUtils.js");
/* harmony import */ var _Octree_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Octree.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n extends _Octree_js__WEBPACK_IMPORTED_MODULE_4__["default"]{constructor(e,r){super((t=>(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_2__.w)(this._instanceData.view.boundingSphere.getVec(t,this._tmpSphere))),{maximumDepth:25}),this._instanceData=e,this._boundingSphere=r,this._tmpSphere=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this._tmpMat4=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()}addInstance(t){const s=this._instanceData.view.boundingSphere,i=this._instanceData.getCombinedModelTransform(t,this._tmpMat4);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.t)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_2__.a)(this._tmpSphere),this._boundingSphere.center,i),this._tmpSphere[3]=this._boundingSphere.radius*(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.maxScale)(i),s.setVec(t,this._tmpSphere),this.add([t])}removeInstance(t){this.remove([t])}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/Intersector.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/Intersector.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LodTarget: function() { return /* binding */ s; },
/* harmony export */   isLodIntersectorResult: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../IntersectorTarget.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js");
/* harmony import */ var _intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../intersectorUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_1__.Graphic3DTarget{constructor(t,r,e,s,i,o){super(t,r),this.layerUid=t,this.graphicUid=r,this.geometryId=e,this.triangleNr=s,this.baseBoundingSphere=i,this.numLodLevels=o}}function i(r){return (0,_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_2__.isValidIntersectorResult)(r)&&r.intersector===_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.IntersectorType.LOD&&!!r.target}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LevelSelector: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e{constructor(e,i){this._worldSpaceRadius=e,this._minScreenSpaceRadii=i}selectLevel(e,i,t){const c=t.computeScreenPixelSizeAt(e),r=this._worldSpaceRadius*i/c;let s=0;for(let a=1;a<this._minScreenSpaceRadii.length;++a)r>=this._minScreenSpaceRadii[a]&&(s=a);return s}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LodComponentData: function() { return /* binding */ d; },
/* harmony export */   createLodComponentRenderGeometry: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ContentObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js");
/* harmony import */ var _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _GLMaterials_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../GLMaterials.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js");
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../VertexArrayObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js");
/* harmony import */ var _Intersector_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Intersector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/Intersector.js");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../webgl/BufferObject.js */ "./node_modules/@arcgis/core/views/webgl/BufferObject.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function f(t,e,r,s=null){const o=t.createBufferWriter(),n=o.vertexBufferLayout,i=o.elementCount(e),a=n.createBuffer(i);return o.write(null,null,e,s,a,0),{material:t,vertexBufferLayout:n,buffer:a.buffer,elementCount:i,boundingInfo:r}}class d{constructor(o,n){const i=o.renderContext.rctx,u=n.geometry;let d=null;d=u instanceof _ContentObject_js__WEBPACK_IMPORTED_MODULE_1__.ContentObject?f(u.material,u.attributes,u.boundingInfo):u;const c=d.material;this._materials=o.materials,c.setParameters({instancedDoublePrecision:!0}),this.geometry=u,this.material=c,this.glMaterials=new _GLMaterials_js__WEBPACK_IMPORTED_MODULE_3__.GLMaterials(c,this._materials),this.vertexBufferLayout=d.vertexBufferLayout,this.vbo=_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_8__.BufferObject.createVertex(i,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.Usage.STATIC_DRAW,d.buffer),this.vao=new _VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_6__.VertexArrayObject(i,_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_2__.Default3D,new Map([["geometry",(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_0__.glLayout)(d.vertexBufferLayout)]]),new Map([["geometry",this.vbo]])),this.vertexCount=d.elementCount}destroy(){this.glMaterials.dispose(),this.vbo.dispose(),this.vao.dispose()}get boundingInfo(){return this.geometry.boundingInfo}get triangleCount(){return this.vertexCount/3}intersect(t,r,s,a,m,l,f,d){if(!(this.geometry instanceof _ContentObject_js__WEBPACK_IMPORTED_MODULE_1__.ContentObject))return;const c=this.geometry.id;this.material.intersect(this.geometry,t.transform.transform,t,s,a,((e,s,a,p,y)=>{if(e>=0){if(null!=r&&!r(t.rayBegin,t.rayEnd,e))return;const p=new _Intersector_js__WEBPACK_IMPORTED_MODULE_7__.LodTarget(l.layerUid,l.graphicUid(m),c,a,f,d);if((null==t.results.min.drapedLayerOrder||y>=t.results.min.drapedLayerOrder)&&(null==t.results.min.dist||e<t.results.min.dist)&&t.results.min.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.IntersectorType.LOD,p,e,s,t.transform.transform,y),t.options.store!==_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.StoreResults.MIN&&(null==t.results.max.drapedLayerOrder||y>=t.results.max.drapedLayerOrder)&&(null==t.results.max.dist||e>t.results.max.dist)&&t.results.max.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.IntersectorType.LOD,p,e,s,t.transform.transform,y),t.options.store===_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.StoreResults.ALL){const r=(0,_Intersector_js__WEBPACK_IMPORTED_MODULE_4__.newIntersectorResult)(t.results.min.ray);r.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.IntersectorType.LOD,p,e,s,t.transform.transform,y),t.results.all.push(r)}}}))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LodLevel: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _LodComponentData_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LodComponentData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodComponentData.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a{static async create(e,r,i){const s=await Promise.allSettled(r.components.map((o=>e.controller.schedule((()=>new _LodComponentData_js__WEBPACK_IMPORTED_MODULE_4__.LodComponentData(e,o)),i)))),c=s.map((o=>"fulfilled"===o.status?o.value:null)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isSome);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.isAborted)(i)||c.length!==s.length){c.forEach((o=>o.destroy())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__.throwIfAborted)(i);for(const o of s)if("rejected"===o.status)throw o.reason}return new a(r.minScreenSpaceRadius,c)}constructor(o,n){this.minScreenSpaceRadius=o,this.components=n}destroy(){this.components.forEach((o=>o.destroy()))}intersect(o,n,t,e,r,i,s){this.components.forEach((c=>c.intersect(o,n,t,e,r,i,this.boundingSphere,s)))}get boundingBox(){if(null==this._boundingBox){const o=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.empty)();this.components.forEach((n=>{null!=n.boundingInfo&&((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.expandWithVec3)(o,n.boundingInfo.bbMin),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.expandWithVec3)(o,n.boundingInfo.bbMax))})),this._boundingBox=o}return this._boundingBox}get boundingSphere(){if(null==this._boundingSphere){const o=this.boundingBox,n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)();(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.center)(o,n),this._boundingSphere={center:n,radius:.5*(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.diameter)(o)}}return this._boundingSphere}get triangleCount(){return this.components.reduce(((o,n)=>o+n.triangleCount),0)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodRenderer.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LodRenderer: function() { return /* binding */ q; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Error.js */ "./node_modules/@arcgis/core/core/Error.js");
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/MapUtils.js */ "./node_modules/@arcgis/core/core/MapUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ "./node_modules/@arcgis/core/core/promiseUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl/RenderCamera.js */ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DefaultVertexAttributeLocations.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js");
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../IntersectorInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");
/* harmony import */ var _Octree_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../Octree.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js");
/* harmony import */ var _RenderSlot_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _InstanceData_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./InstanceData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceData.js");
/* harmony import */ var _InstanceOctree_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./InstanceOctree.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/InstanceOctree.js");
/* harmony import */ var _LevelSelector_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./LevelSelector.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LevelSelector.js");
/* harmony import */ var _LodLevel_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./LodLevel.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/LodLevel.js");
/* harmony import */ var _RenderInstanceData_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./RenderInstanceData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js");
/* harmony import */ var _materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../materials/internal/MaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js");
/* harmony import */ var _materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../materials/renderers/utils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js");
/* harmony import */ var _shaders_DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../shaders/DefaultMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/DefaultMaterialTechnique.js");
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../support/Scheduler.js */ "./node_modules/@arcgis/core/views/support/Scheduler.js");
/* harmony import */ var _webgl_Util_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../webgl/Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const G=e=>{const t=e.baseBoundingSphere.radius,r=e.levels.map((e=>e.minScreenSpaceRadius));return new _LevelSelector_js__WEBPACK_IMPORTED_MODULE_28__.LevelSelector(t,r)};let q=class extends _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_19__.AsyncRenderPlugin{constructor(e,t){super(e),this.type=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_21__.IntersectorType.LOD,this.isGround=!1,this._levels=[],this._defaultRenderInstanceData=new Array,this._highlightRenderInstanceDataMap=new Map,this._instanceIndex=0,this._cycleStartIndex=0,this._slicePlane=!1,this._camera=new _webgl_RenderCamera_js__WEBPACK_IMPORTED_MODULE_17__["default"],this._updateCyclesWithStaticCamera=-1,this._needFullCycle=!1,this.produces=new Map([[_RenderSlot_js__WEBPACK_IMPORTED_MODULE_23__.RenderSlot.OPAQUE_MATERIAL,e=>this._produces(e)],[_RenderSlot_js__WEBPACK_IMPORTED_MODULE_23__.RenderSlot.TRANSPARENT_MATERIAL,e=>!!this._hasTransparentLevels()&&this._produces(e)]]),this._instanceData=new _InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.InstanceData({shaderTransformation:e.shaderTransformation},e.optionalFields),this.addHandles(t.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_34__.TaskPriority.LOD_RENDERER,this))}initialize(){this._instanceBufferLayout=k(this.optionalFields),this._glInstanceBufferLayout=(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_15__.glLayout)(this._instanceBufferLayout,1),this.addHandles([this._instanceData.events.on("instances-changed",(()=>this._requestUpdateCycle())),this._instanceData.events.on("instance-transform-changed",(({index:e})=>{this._requestUpdateCycle(),this.metadata.notifyGraphicGeometryChanged(e)})),this._instanceData.events.on("instance-visibility-changed",(({index:e})=>{this._requestUpdateCycle(!0),this.metadata.notifyGraphicVisibilityChanged(e)})),this._instanceData.events.on("instance-highlight-changed",(()=>this._requestUpdateCycle(!0)))])}get _allRenderInstanceData(){const e=[this._defaultRenderInstanceData];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}get _enableLevelSelection(){return this.symbol.levels.length>1}get levels(){return this._levels}get baseBoundingBox(){return this._levels[this._levels.length-1].boundingBox}get baseBoundingSphere(){return this._levels[this._levels.length-1].boundingSphere}get baseMaterial(){return this._levels[this._levels.length-1].components[0].material}get slicePlaneEnabled(){return this._slicePlane}set slicePlaneEnabled(e){this._slicePlane=e}get layerUid(){return this.metadata.layerUid}get instanceData(){return this._instanceData}get hasEmissions(){return this.baseMaterial.hasEmissions}get usedMemory(){return this._allRenderInstanceData.reduce(((e,t)=>t.reduce(((e,t)=>e+t.usedMemory),e)),0)}get renderStats(){const e=this._instanceData.size,t=[];return this._levels.forEach(((e,r)=>{const n=this._allRenderInstanceData[0][r].size+this._allRenderInstanceData[1][r].size,a=e.triangleCount;t.push({renderedInstances:n,renderedTriangles:n*a,trianglesPerInstance:a})})),{totalInstances:e,renderedInstances:t.reduce(((e,t)=>e+t.renderedInstances),0),renderedTriangles:t.reduce(((e,t)=>e+t.renderedTriangles),0),levels:t}}_createRenderInstanceDataArray(e=[]){const{rctx:t}=this._context.renderContext;return this.symbol.levels.map((r=>{e.push(new _RenderInstanceData_js__WEBPACK_IMPORTED_MODULE_30__.RenderInstanceData(t,this._instanceBufferLayout))})),e}async initializeRenderContext(e,r){this._context=e,this._createRenderInstanceDataArray(this._defaultRenderInstanceData);const n=await Promise.allSettled(this.symbol.levels.map((t=>_LodLevel_js__WEBPACK_IMPORTED_MODULE_29__.LodLevel.create(e,t,r)))),a=n.map((e=>"fulfilled"===e.status?e.value:null)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.isSome);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.isAborted)(r)||a.length!==n.length){a.forEach((e=>e.destroy())),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_5__.throwIfAborted)(r);for(const e of n)if("rejected"===e.status)throw e.reason}this._levels=a,this._levelSelector=G(this)}uninitializeRenderContext(){this._invalidateOctree(),this._levels.forEach((e=>e.destroy())),this._defaultRenderInstanceData.forEach((e=>e.destroy())),this._highlightRenderInstanceDataMap.forEach((e=>e.forEach((e=>e.destroy()))))}_hasTransparentLevels(){return this._levels.some((e=>e.components.some((e=>{const t=e.material.produces.get(_RenderSlot_js__WEBPACK_IMPORTED_MODULE_23__.RenderSlot.TRANSPARENT_MATERIAL);return t?.(_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.Color)}))))}hasHighlights(){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_3__.someMap)(this._highlightRenderInstanceDataMap,(e=>e.some((e=>e.size>0))))}_produces(e){return e!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.Highlight&&e!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.ShadowHighlight||this.hasHighlights()}prepareRender(e){if(!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LOD_INSTANCE_RENDERER_DISABLE_UPDATES){if(this._enableLevelSelection){const t=e.bind.contentCamera.equals(this._camera);this._camera.copyFrom(e.bind.contentCamera),t||this._requestUpdateCycle()}this._needFullCycle&&(this.runTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_34__.noBudget),this._needFullCycle=!1)}}acquireTechniques(e){if(!this.baseMaterial.visible||!this.baseMaterial.isVisibleForOutput(e.output))return null;const t=this._getInstanceDatas(e);if(!t)return null;const r=new Array,n=this.levels;return t.forEach((t=>n.forEach((({components:n},a)=>n.forEach((n=>r.push(this._beginComponent(e,t[a],n)))))))),r}render(e,t){const r=this._getInstanceDatas(e);if(!r||null==t)return;let n=0;e.rctx.bindVAO();const a=this.levels;r.forEach((r=>a.forEach((({components:a},s)=>a.forEach((a=>this._renderComponent(e,t[n++],r[s],a,s)))))))}_getInstanceDatas(e){const{output:t,bind:r}=e,n=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.Highlight,a=!n&&t!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.ShadowHighlight,s=t!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.ShadowExcludeHighlight;if(a)return s?this._allRenderInstanceData:[this._defaultRenderInstanceData];if(s){if(n){const{highlightGroupName:e}=r;if(!e)return null;const t=this._highlightRenderInstanceDataMap.get(e);return t?[t]:null}const e=[];for(const t of this._highlightRenderInstanceDataMap)e.push(t[1]);return e}return null}intersect(e,t,r,n){if(!this.baseMaterial.visible||null==this._octree)return;const a=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.d)(a,n,r);const s=a=>{this._instanceData.getCombinedModelTransform(a,Y),e.transform.set(Y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.t)(J,r,e.transform.inverse),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.t)(Q,n,e.transform.inverse);const s=this._instanceData.getState(a),i=this._instanceData.getLodLevel(a),o=this._levels.length;(0,_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(!!(s&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ACTIVE),"invalid instance state"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(i>=0&&i<o,"invaid lod level"),this._levels[i].intersect(e,t,J,Q,a,this.metadata,o)};this.baseMaterial.parameters.verticalOffset?this._octree.forEach(s):this._octree.forEachAlongRay(r,a,s)}notifyShaderTransformationChanged(){this._invalidateOctree(),this._requestUpdateCycle()}get _octree(){if(null==this._octreeCached){const e=this._instanceData,t=e.view?.state;if(!t)return null;this._octreeCached=new _InstanceOctree_js__WEBPACK_IMPORTED_MODULE_27__.InstanceOctree(e,this.baseBoundingSphere);for(let r=0;r<e.capacity;++r)t.get(r)&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ACTIVE&&this._octreeCached.addInstance(r)}return this._octreeCached}_invalidateOctree(){this._octreeCached=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._octreeCached)}queryDepthRange(e){if(null==this._octree)return{near:1/0,far:-1/0};const t=e.viewForward,r=this._octree.findClosest(t,_Octree_js__WEBPACK_IMPORTED_MODULE_22__["default"].DepthOrder.FRONT_TO_BACK,e.frustum),n=this._octree.findClosest(t,_Octree_js__WEBPACK_IMPORTED_MODULE_22__["default"].DepthOrder.BACK_TO_FRONT,e.frustum);if(null==r||null==n)return{near:1/0,far:-1/0};const a=e.eye,s=this._instanceData.view;s.boundingSphere.getVec(r,K),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.d)(K,K,a);const i=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.f)(K,t)-K[3];s.boundingSphere.getVec(n,K),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.d)(K,K,a);const o=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_11__.f)(K,t)+K[3];return{near:Math.max(e.near,i),far:Math.min(e.far,o)}}_requestUpdateCycle(e=!1){this._updateCyclesWithStaticCamera=-1,this._cycleStartIndex=this._instanceIndex,e&&(this._needFullCycle=!0,this._context.requestRender())}_startUpdateCycle(){this._updateCyclesWithStaticCamera++,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.startUpdateCycle()))))}get running(){return this._instanceData.size>0&&this._updateCyclesWithStaticCamera<1}runTask(e){const{_enableLevelSelection:t,_camera:n,_levelSelector:a}=this;this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.beginUpdate()))));const s=this._instanceData,i=s.view;let o=s.size;const l=s.capacity;let c=this._instanceIndex;const h=Math.ceil(l/500);for(let d=0;d<o&&!e.done;++d){c===this._cycleStartIndex&&this._startUpdateCycle();const d=i.state.get(c);let u=0;if(!(d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ALLOCATED)){c=c+1===l?0:c+1,o++;continue}const f=i.lodLevel.get(c);if(d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.DEFAULT_ACTIVE&&this._defaultRenderInstanceData[f].freeTail(),d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.HIGHLIGHT_ACTIVE&&s.foreachHighlightGroupPrev(c,(e=>{const t=this._highlightRenderInstanceDataMap.get(e);if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"]("Internal error in lodRenderer");t[f].freeTail()})),d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.REMOVE)s.freeInstance(c);else if(d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.VISIBLE){let e=0;t&&(i.modelOrigin.getVec(c,W),e=a.selectLevel(W,s.getCombinedMedianScaleFactor(c),n)),u=d&~(_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ACTIVE|_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.TRANSFORM_CHANGED),e>=0&&(d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.HIGHLIGHT?(s.foreachHighlightGroup(c,(t=>{let n=this._highlightRenderInstanceDataMap.get(t);if(n||(n=this._createRenderInstanceDataArray(),n.forEach((e=>e.beginUpdate())),this._highlightRenderInstanceDataMap.set(t,n)),e>=n.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__["default"](`LodRenderer internal error - missing lodLevel ${e}`);P(n[e],i,c)})),u|=_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.HIGHLIGHT_ACTIVE):(P(this._defaultRenderInstanceData[e],i,c),u|=_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.DEFAULT_ACTIVE)),i.state.set(c,u),i.lodLevel.set(c,e)}else u=d&~(_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ACTIVE|_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.TRANSFORM_CHANGED),i.state.set(c,u);if(null!=this._octreeCached){const e=!!(d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ACTIVE),t=!!(u&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.ACTIVE);!e&&t?this._octreeCached.addInstance(c):e&&!t?this._octreeCached.removeInstance(c):e&&t&&d&_InstanceData_js__WEBPACK_IMPORTED_MODULE_26__.StateFlags.TRANSFORM_CHANGED&&(this._octreeCached.removeInstance(c),this._octreeCached.addInstance(c))}c=c+1===l?0:c+1,c%h==0&&e.madeProgress()}this._instanceIndex=c,this._allRenderInstanceData.forEach((e=>e.forEach((e=>e.endUpdate())))),this._context.requestRender()}_beginComponent(e,t,r){if(0===t.size)return null;const n=r.glMaterials.load(e.rctx,e.bind.slot,e.output);return n?.beginSlot(e.bind)}_renderComponent(e,t,r,n,a){if(!t)return;const{bind:s,rctx:i}=e;i.runAppleAmdDriverHelper();const o=i.bindTechnique(t,s,n.material.parameters,$);i.bindVAO(n.vao),t.ensureAttributeLocations(n.vao),_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL&&e.output===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_18__.ShaderOutput.Color&&(o.setUniform4fv("externalColor",Z[Math.min(a,Z.length-1)]),o.setUniform1i("colorMixMode",_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_31__.colorMixModes.replace));const l=r.capacity,c=r.headIndex,h=r.tailIndex,d=r.firstIndex,u=this._glInstanceBufferLayout,f=(e,a)=>{(0,_webgl_Util_js__WEBPACK_IMPORTED_MODULE_35__.bindVertexBufferLayout)(i,_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__.Default3D,r.buffer,u,e),i.drawArraysInstanced(t.primitiveType,0,n.vertexCount,a-e),(0,_webgl_Util_js__WEBPACK_IMPORTED_MODULE_35__.unbindVertexBufferLayout)(i,_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_20__.Default3D,r.buffer,u)};n.material.parameters.transparent&&null!=d?c>h?((0,_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(d>=h&&d<=c,"invalid firstIndex"),f(d,c),f(h,d)):c<h&&(d<=c?((0,_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(d>=0&&d<=c,"invalid firstIndex"),f(d,c),f(h,l),f(0,d)):((0,_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(d>=h&&d<=l,"invalid firstIndex"),f(d,l),f(0,c),f(h,d))):c>h?f(h,c):c<h&&(f(0,c),f(h,l)),i.bindVAO(null)}};function P(e,t,r){const n=e.allocateHead();z(t,r,e.view,n)}function z(e,t,r,n){(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_32__.encodeDoubleVec3)(e.modelOrigin,t,r.modelOriginHi,r.modelOriginLo,n),r.model.copyFrom(n,e.model,t),r.modelNormal.copyFrom(n,e.modelNormal,t),e.color&&r.color&&r.color.copyFrom(n,e.color,t),e.objectAndLayerIdColor&&r.objectAndLayerIdColor&&r.objectAndLayerIdColor.copyFrom(n,e.objectAndLayerIdColor,t),e.featureAttribute&&r.featureAttribute&&r.featureAttribute.copyFrom(n,e.featureAttribute,t)}function k(e){let t=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_16__.newLayout)().vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCEMODELORIGINHI).vec3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCEMODELORIGINLO).mat3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCEMODEL).mat3f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCEMODELNORMAL);return null!=e&&e.includes("featureAttribute")&&(t=t.vec4f(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCEFEATUREATTRIBUTE)),null!=e&&e.includes("color")&&(t=t.vec4u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCECOLOR)),null!=e&&e.includes("objectAndLayerIdColor")&&(t=t.vec4u8(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.INSTANCEOBJECTANDLAYERIDCOLOR)),t}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],q.prototype,"symbol",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],q.prototype,"optionalFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],q.prototype,"metadata",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({constructOnly:!0})],q.prototype,"shaderTransformation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],q.prototype,"_instanceData",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],q.prototype,"_cycleStartIndex",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],q.prototype,"_enableLevelSelection",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],q.prototype,"_updateCyclesWithStaticCamera",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],q.prototype,"running",null),q=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)("esri.views.3d.webgl-engine.lib.lodRendering.LodRenderer")],q);const W=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),K=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__.create)(),Y=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),J=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),Q=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),Z=[(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__.fromValues)(1,0,1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__.fromValues)(0,0,1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__.fromValues)(0,1,0,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__.fromValues)(1,1,0,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_13__.fromValues)(1,0,0,1)],$=new _shaders_DefaultMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_33__.DefaultMaterialDrawParameters;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/RenderInstanceData.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RenderInstanceData: function() { return /* binding */ f; },
/* harmony export */   RenderInstanceDataView: function() { return /* binding */ c; },
/* harmony export */   initialCapacity: function() { return /* binding */ u; }
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _BackedBufferObject_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BackedBufferObject.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/lodRendering/BackedBufferObject.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class c{constructor(t){this.modelOriginHi=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCEMODELORIGINHI,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewVec3f),this.modelOriginLo=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCEMODELORIGINLO,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewVec3f),this.model=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCEMODEL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewMat3f),this.modelNormal=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCEMODELNORMAL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewMat3f),this.featureAttribute=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCEFEATUREATTRIBUTE,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewVec4f),this.color=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCECOLOR,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewVec4u8),this.objectAndLayerIdColor=t.getField(_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__.VertexAttribute.INSTANCEOBJECTANDLAYERIDCOLOR,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewVec4u8)}}class f{constructor(t,i){this._rctx=t,this._instanceBufferLayout=i,this._headIndex=0,this._tailIndex=0,this._firstIndex=null,this._captureFirstIndex=!0,this._updating=!1,this._prevHeadIndex=0,this._resized=!1,this._capacity=1}destroy(){this._buffer&&this._buffer.destroy()}get buffer(){return this._buffer.buffer}get view(){return this._view}get capacity(){return this._capacity}get size(){const t=this._headIndex,i=this._tailIndex;return t>=i?t-i:t+this._capacity-i}get isEmpty(){return this._headIndex===this._tailIndex}get isFull(){return this._tailIndex===(this._headIndex+1)%this._capacity}get headIndex(){return this._headIndex}get tailIndex(){return this._tailIndex}get firstIndex(){return this._firstIndex}get usedMemory(){return this._buffer?.usedMemory??0}reset(){this._headIndex=0,this._tailIndex=0,this._firstIndex=null}startUpdateCycle(){this._captureFirstIndex=!0}beginUpdate(){(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(!this._updating,"already updating"),this._updating=!0,this._prevHeadIndex=this._headIndex}endUpdate(){(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(this._updating,"not updating"),this.size<_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.reallocShrinkThreshold*this.capacity&&this._shrink(),this._resized?(this._buffer.transferAll(),this._resized=!1):this._transferRange(this._prevHeadIndex,this._headIndex),this._updating=!1}allocateHead(){(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(this._updating,"not updating"),this.isFull&&this._grow();const t=this.headIndex;return this._captureFirstIndex&&(this._firstIndex=t,this._captureFirstIndex=!1),this._incrementHead(),(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(this._headIndex!==this._tailIndex,"invalid pointers"),t}freeTail(){(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(this._updating,"not updating"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(this.size>0,"invalid size");const t=this._tailIndex===this._firstIndex;this._incrementTail(),t&&(this._firstIndex=this._tailIndex)}_grow(){const t=Math.max(u,Math.floor(this._capacity*_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.reallocGrowthFactor));this._resize(t)}_shrink(){const t=Math.max(u,Math.floor(this._capacity*_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.reallocShrinkFactor));this._resize(t)}_resize(t){if((0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(this._updating,"not updating"),t===this._capacity)return;const i=new _BackedBufferObject_js__WEBPACK_IMPORTED_MODULE_4__["default"](this._rctx,this._instanceBufferLayout.stride,t);if(this._buffer){this._firstIndex&&(this._firstIndex=(this._firstIndex+this._capacity-this._tailIndex)%this._capacity);const t=this.size,e=this._compactInstances(i);(0,_Util_js__WEBPACK_IMPORTED_MODULE_2__.assert)(e===t,"invalid compaction"),this._buffer.destroy(),this._tailIndex=0,this._headIndex=e,this._prevHeadIndex=0}this._resized=!0,this._capacity=t,this._buffer=i,this._view=new c(this._instanceBufferLayout.createView(this._buffer.array))}_compactInstances(t){const i=this._headIndex,e=this._tailIndex;return e<i?(this._buffer.copyRange(e,i,t),i-e):e>i?(this._buffer.copyRange(e,this._capacity,t),i>0&&this._buffer.copyRange(0,i,t,this._capacity-e),i+(this._capacity-e)):0}_incrementHead(t=1){this._headIndex=(this._headIndex+t)%this._capacity}_incrementTail(t=1){this._tailIndex=(this._tailIndex+t)%this._capacity}_transferRange(t,i){t<i?this._buffer.transferRange(t,i):t>i&&(i>0&&this._buffer.transferRange(0,i),this._buffer.transferRange(t,this._capacity))}}const u=64;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/pathGeometryUtils.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   computeMinimumRotationTangentFrame: function() { return /* binding */ l; }
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _GeometryUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GeometryUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function l(l,v){let h=null;const u=l.vertices.length,j=.99619469809,R=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),y=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),x=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),b=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),k=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),q=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_2__.create)();let G=l.vertices[0];(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.c)(y,v),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(R,0,1,0),(0,_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_4__.makeOrthoBasisDirUpFallback)(G.vRight,y,R,R,x,y,j),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.c)(G.frame.up,y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.c)(G.frame.right,x);const M=l.positions;let U=l.offset;h=G;for(let m=1;m<u;++m){G=l.vertices[m],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.g)(b,G.vLeft,G.vRight);let a=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.l)(b);a>0?(a=1/Math.sqrt(a),b[0]=b[0]*a,b[1]=b[1]*a,b[2]=b[2]*a):(b[0]=G.vRight[0],b[1]=G.vRight[1],b[2]=G.vRight[2]),k[0]=M[U]+h.frame.up[0],k[1]=M[U+1]+h.frame.up[1],k[2]=M[U+2]+h.frame.up[2],U+=3;const v=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(n,M[U],M[U+1],M[U+2]);(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_2__.fromPositionAndNormal)(v,b,q);(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_2__.intersectRay)(q,(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_3__.wrap)(k,G.vLeft),L)?(L[0]-=M[U],L[1]-=M[U+1],L[2]-=M[U+2],(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.n)(y,L),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.e)(x,b,y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.n)(x,x)):(0,_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_4__.makeOrthoBasisDirUpFallback)(b,h.frame.up,h.frame.right,R,x,y,j),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.c)(G.frame.up,y),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.c)(G.frame.right,x),h=G}}const n=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaddingSide: function() { return /* binding */ t; },
/* harmony export */   RendererTarget: function() { return /* binding */ r; },
/* harmony export */   splitRenderGeometryChangeSetByMaterial: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _ChangeSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChangeSet.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var r,t;function n(r){const t=new Map,n=r=>{let n=t.get(r);return n||(n=new _ChangeSet_js__WEBPACK_IMPORTED_MODULE_0__.MaterialChangeSet,t.set(r,n)),n};return r.removes.forAll((e=>{o(e)&&n(e.material).removes.push(e)})),r.adds.forAll((e=>{o(e)&&n(e.material).adds.push(e)})),r.updates.forAll((e=>{o(e.renderGeometry)&&n(e.renderGeometry.material).updates.push(e)})),t}function o(e){return e.geometry.indexCount>=1}!function(e){e[e.Default=0]="Default",e[e.Screenshot=1]="Screenshot",e[e.ObjectAndLayerID=2]="ObjectAndLayerID"}(r||(r={})),function(e){e[e.TOP=0]="TOP",e[e.RIGHT=1]="RIGHT",e[e.BOTTOM=2]="BOTTOM",e[e.LEFT=3]="LEFT"}(t||(t={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaterial: function() { return /* binding */ O; },
/* harmony export */   Parameters: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _shaders_ColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shaders/ColorMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js");
/* harmony import */ var _shaders_ColorMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../shaders/ColorMaterialTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class O extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_11__.TriangleMaterial{constructor(t){super(t,d),this._configuration=new _shaders_ColorMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_14__.ColorMaterialTechniqueConfiguration,this.supportsEdges=!0,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.OPAQUE_MATERIAL,t=>this._isOpaqueMaterialPass(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS,t=>this._isOpaqueNoSSAODepthPass(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.TRANSPARENT_MATERIAL,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isColorOrOID)(t)&&this._transparent&&this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isDepth)(t)&&this._transparent&&this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isColorOrOID)(t)&&this._transparent&&!this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_8__.RenderSlot.DRAPED_MATERIAL,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.is2DGeometryOutput)(t)]])}getConfiguration(t,r){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(t)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=r.hasOccludees,this._configuration.oitPass=r.oitPass,this._configuration.enableOffset=r.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.OITPolygonOffsetLimit,this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_3__.alphaCutoff}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(t){return this._isOpaqueMaterialPass(t)||this._isOpaqueNoSSAODepthPass(t)}_isOpaqueMaterialPass(t){return t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.ShaderOutput.Highlight||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isColorOrOID)(t)&&!this._transparent}_isOpaqueNoSSAODepthPass(t){return (0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__.isDepth)(t)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(t){return new A(t)}createBufferWriter(){const t=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_1__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.POSITION);return (0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_4__.olidEnabled)()&&t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?t.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.COLORFEATUREATTRIBUTE):t.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.COLOR),new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__.DefaultBufferWriter(t)}}class A extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_6__["default"]{beginSlot(t){return this.acquireTechnique(_shaders_ColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_13__.ColorMaterialTechnique,t)}}class d extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_12__.VisualVariablePassParameters{constructor(){super(...arguments),this.color=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_5__.CullFaceOptions.None,this.draped=!1,this.discardInvisibleFragments=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PositionColorLayout: function() { return /* binding */ r; },
/* harmony export */   PositionLayout: function() { return /* binding */ t; },
/* harmony export */   PositionUVLayout: function() { return /* binding */ f; },
/* harmony export */   PositionUVLayoutObjectAndLayerId: function() { return /* binding */ I; }
/* harmony export */ });
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION),f=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.UV0),r=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.COLOR),I=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__.VertexAttribute.OBJECTANDLAYERIDCOLOR);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   colorGamma: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const o=2.1;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawParameters: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/VertexNormal.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _core_shaderLibrary_attributes_VertexNormal_glsl_js__WEBPACK_IMPORTED_MODULE_1__.VertexNormalDrawParameters{constructor(e=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)()){super(),this.origin=e}get slicePlaneLocalOrigin(){return this.origin}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDMaterial: function() { return /* binding */ ae; },
/* harmony export */   Parameters: function() { return /* binding */ ye; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat3.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat3.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_types_mat4_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/types/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../layers/support/FastSymbolUpdates.js */ "./node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js");
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../support/debugFlags.js */ "./node_modules/@arcgis/core/views/3d/support/debugFlags.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../core/shaderLibrary/hud/HUD.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../lib/screenSizePerspectiveUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _ScaleInfo_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ScaleInfo.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js");
/* harmony import */ var _chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../chunks/HUDMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js");
/* harmony import */ var _shaders_HUDMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../shaders/HUDMaterialTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js");
/* harmony import */ var _shaders_HUDMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../shaders/HUDMaterialTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class ae extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_21__.Material{constructor(e,t){super(e,ye),this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.HUD_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorHighlightOrOID)(e)&&!this.parameters.drawInSecondSlot],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.LABEL_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorHighlightOrOID)(e)&&this.parameters.drawInSecondSlot],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OCCLUSION_PIXELS,()=>this.parameters.occlusionTest],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.DRAPED_MATERIAL,e=>this.parameters.draped&&(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.isColorHighlightOrOID)(e)]]),this._visible=!0,this._configuration=new _shaders_HUDMaterialTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_31__.HUDMaterialTechniqueConfiguration(t)}getConfiguration(e,t){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVerticalOffset=!!this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits,this._configuration.hasPolygonOffset=this.parameters.polygonOffset,this._configuration.draped=this.parameters.draped,this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this._configuration.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this._configuration.sampleSignedDistanceFieldTexelCenter=this.parameters.sampleSignedDistanceFieldTexelCenter,this._configuration.hasRotation=this.parameters.hasRotation,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.occlusionPass=t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OCCLUSION_PIXELS,this._configuration.occludedFragmentFade=this.parameters.occludedFragmentFade,this._configuration.horizonCullingEnabled=this.parameters.horizonCullingEnabled,this._configuration.depthTestEnabled=this.parameters.depthEnabled||t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_22__.RenderSlot.OCCLUSION_PIXELS,e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_16__.ShaderOutput.Color&&(this._configuration.debugDrawLabelBorder=!!_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_14__.debugFlags.LABELS_SHOW_BORDER),this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}intersect(e,t,i,a,o,n){const{options:{selectionMode:c,hud:l,excludeLabels:O},point:T,camera:b}=i,{parameters:A}=this;if(!c||!l||O&&A.isLabel||!e.visible||!T)return;const{scaleX:E,scaleY:I}=this._getScreenScale(e,b.pixelRatio);(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.fromMat4)(Te,t),e.attributes.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE)&&le(Te);const _=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION),R=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE),C=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.NORMAL),x=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION),P=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_24__.assert)(_.size>=3);const y=(0,_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_29__.c)(A),D="screen"===this.parameters.centerOffsetUnits;for(let s=0;s<_.data.length/_.size;s++){const e=s*_.size;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.i)(pe,_.data[e],_.data[e+1],_.data[e+2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(pe,pe,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(pe,pe,b.viewMatrix);const a=s*P.size;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.i)(Ae,P.data[a],P.data[a+1],P.data[a+2]),!D&&(pe[0]+=Ae[0],pe[1]+=Ae[1],0!==Ae[2])){const e=Ae[2];(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.n)(Ae,pe),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.d)(pe,pe,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(Ae,Ae,e))}const o=s*C.size;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.i)(me,C.data[o],C.data[o+1],C.data[o+2]),ce(me,Te,b,_e),this._applyVerticalOffsetTransformationView(pe,_e,b,he),b.applyProjection(pe,ue),ue[0]>-1){D&&(Ae[0]||Ae[1])&&(ue[0]+=Ae[0]*b.pixelRatio,0!==Ae[1]&&(ue[1]+=(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.applyScaleFactor)(Ae[1],he.factorAlignment)*b.pixelRatio),b.unapplyProjection(ue,pe)),ue[0]+=this.parameters.screenOffset[0]*b.pixelRatio,ue[1]+=this.parameters.screenOffset[1]*b.pixelRatio,ue[0]=Math.floor(ue[0]),ue[1]=Math.floor(ue[1]);const e=s*R.size;xe[0]=R.data[e],xe[1]=R.data[e+1],(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.applyPrecomputedScaleFactor)(xe,he.factor,xe);const t=Re*b.pixelRatio;let a=0;if(A.textureIsSignedDistanceField){a=Math.min(A.outlineSize,.5*xe[0])*b.pixelRatio/2}xe[0]*=E,xe[1]*=I;const o=s*x.size,c=A.rotation+x.data[o];if(fe(T,ue[0],ue[1],xe,t,a,c,A,y)){const e=i.ray;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(ge,pe,(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_3__.invert)(ve,b.viewMatrix)),ue[0]=T[0],ue[1]=T[1],b.unprojectFromRenderScreen(ue,pe)){const t=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)();(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(t,e.direction);const s=1/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(t);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(t,t,s);n((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.j)(e.origin,pe)*s,t,-1,!0,1,ge)}}}}}intersectDraped(e,t,s,i,r,a){const o=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION),n=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE),c=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION),l=this.parameters,f=(0,_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_29__.c)(l),{scaleX:h,scaleY:p}=this._getScreenScale(e,e.screenToWorldRatio),m=Ce*e.screenToWorldRatio;for(let u=0;u<o.data.length/o.size;u++){const t=u*o.size,s=o.data[t],d=o.data[t+1],g=u*n.size;xe[0]=n.data[g],xe[1]=n.data[g+1];let S=0;if(l.textureIsSignedDistanceField){S=Math.min(l.outlineSize,.5*xe[0])*e.screenToWorldRatio/2}xe[0]*=h,xe[1]*=p;const O=u*c.size,T=l.rotation+c.data[O];fe(i,s,d,xe,m,S,T,l,f)&&r(a.dist,a.normal,-1,!1)}}createBufferWriter(){return new Fe}_updateScaleInfo(e,t,s){const i=this.parameters;null!=i.screenSizePerspective?(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.precomputeScaleFactor)(s,t,i.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minScaleFactor=0),null!=i.screenSizePerspectiveAlignment?(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_23__.precomputeScaleFactor)(s,t,i.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minScaleFactor=e.factor.minScaleFactor)}applyShaderOffsetsView(e,t,s,i,r,a,o){const n=ce(t,s,r,_e);return this._applyVerticalGroundOffsetView(e,n,r,o),this._applyVerticalOffsetTransformationView(o,n,r,a),this._applyPolygonOffsetView(o,n,i[3],r,o),this._applyCenterOffsetView(o,i,o),o}applyShaderOffsetsNDC(e,t,s,i,r){return this._applyCenterOffsetNDC(e,t,s,i),null!=r&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(r,i),this._applyPolygonOffsetNDC(i,t,s,i),i}_applyPolygonOffsetView(t,s,i,r,a){const o=r.aboveGround?1:-1;let n=Math.sign(i);0===n&&(n=o);const c=o*n;if(this.parameters.shaderPolygonOffset<=0)return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(a,t);const l=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(Math.abs(s.cosAngle),.01,1),f=1-Math.sqrt(1-l*l)/l/r.viewport[2];return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(a,t,c>0?f:1/f),a}_applyVerticalGroundOffsetView(e,t,s,i){const r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(e),a=s.aboveGround?1:-1,o=s.computeRenderPixelSizeAtDist(r)*_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_17__.HUDVerticalPixelOffset,n=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(pe,t.normal,a*o);return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.g)(i,e,n),i}_applyVerticalOffsetTransformationView(e,t,s,i){const r=this.parameters;if(!r.verticalOffset?.screenLength){if(r.screenSizePerspective||r.screenSizePerspectiveAlignment){const s=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(e);this._updateScaleInfo(i,s,t.cosAngle)}else i.factor.scale=1,i.factorAlignment.scale=1;return e}const a=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.l)(e),o=r.screenSizePerspectiveAlignment??r.screenSizePerspective,n=(0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_28__.verticalOffsetAtDistance)(s,a,r.verticalOffset,t.cosAngle,o);return this._updateScaleInfo(i,a,t.cosAngle),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(t.normal,t.normal,n),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.g)(e,e,t.normal)}_applyCenterOffsetView(e,t,s){const i="screen"!==this.parameters.centerOffsetUnits;return s!==e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(s,e),i&&(s[0]+=t[0],s[1]+=t[1],t[2]&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.n)(me,s),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.g)(s,s,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.h)(me,me,t[2])))),s}_applyCenterOffsetNDC(e,t,s,i){const r="screen"!==this.parameters.centerOffsetUnits;return i!==e&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,e),r||(i[0]+=t[0]/s.fullWidth*2,i[1]+=t[1]/s.fullHeight*2),i}_applyPolygonOffsetNDC(e,t,s,i){const r=this.parameters.shaderPolygonOffset;if(e!==i&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.c)(i,e),r){const e=s.aboveGround?1:-1,a=e*Math.sign(t[3]);i[2]-=(a||e)*r}return i}set visible(e){this._visible=e}get visible(){const{color:e,outlineSize:t,outlineColor:s}=this.parameters,i=e[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__.alphaCutoff||t>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__.alphaCutoff&&s[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_18__.alphaCutoff;return this._visible&&i}createGLMaterial(e){return new oe(e)}calculateRelativeScreenBounds(e,t,s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_11__.create)()){return ne(this.parameters,e,t,s),s[2]=s[0]+e[0],s[3]=s[1]+e[1],s}_getScreenScale(e,t){const s=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE);if(null==s)return{scaleX:t,scaleY:t};const i=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.fromArray)(s.data,Ie);return (0,_layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_13__.evaluateModelTransformScale)(Ee,this.parameters,i),{scaleX:Ee[0]*t,scaleY:Ee[1]*t}}}class oe extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_20__.GLTextureMaterial{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(_shaders_HUDMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_30__.HUDMaterialTechnique,e)}}function ne(e,t,s,i){i[0]=e.anchorPosition[0]*-t[0]+e.screenOffset[0]*s,i[1]=e.anchorPosition[1]*-t[1]+e.screenOffset[1]*s}function ce(e,t,i,r){return (0,_core_libs_gl_matrix_2_types_mat4_js__WEBPACK_IMPORTED_MODULE_10__.isMat4)(t)&&(t=(0,_core_libs_gl_matrix_2_math_mat3_js__WEBPACK_IMPORTED_MODULE_1__.fromMat4)(be,t)),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.q)(r.normal,e,t),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.t)(r.normal,r.normal,i.viewInverseTransposeMatrix),r.cosAngle=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_7__.f)(de,Pe),r}function le(e){const t=e[0],s=e[1],i=e[2],r=e[3],a=e[4],o=e[5],n=e[6],c=e[7],l=e[8],f=1/Math.sqrt(t*t+s*s+i*i),h=1/Math.sqrt(r*r+a*a+o*o),p=1/Math.sqrt(n*n+c*c+l*l);return e[0]=t*f,e[1]=s*f,e[2]=i*f,e[3]=r*h,e[4]=a*h,e[5]=o*h,e[6]=n*p,e[7]=c*p,e[8]=l*p,e}function fe(e,s,i,r,a,c,l,f,h){let p=s-a-r[0]*h[0],m=p+r[0]+2*a,u=i-a-r[1]*h[1],d=u+r[1]+2*a;const g=f.distanceFieldBoundingBox;return f.textureIsSignedDistanceField&&null!=g&&(p+=r[0]*g[0],u+=r[1]*g[1],m-=r[0]*(1-g[2]),d-=r[1]*(1-g[3]),p-=c,m+=c,u-=c,d+=c),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_5__.set)(Oe,s,i),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_5__.rotate)(Se,e,Oe,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.deg2rad)(l)),Se[0]>p&&Se[0]<m&&Se[1]>u&&Se[1]<d}const he=new _ScaleInfo_js__WEBPACK_IMPORTED_MODULE_26__.ScaleInfo,pe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),me=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),ue=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),de=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),ge=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),Se=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),Oe=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.create)(),Te=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),be=(0,_core_libs_gl_matrix_2_factories_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.create)(),ve=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.create)(),Ae=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),Ee=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.create)(),Ie=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.create)(),_e={normal:de,cosAngle:0},Re=1,Ce=2,xe=[0,0],Pe=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__.fromValues)(0,0,1);class ye extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_20__.GLTextureMaterialBindParameters{constructor(){super(...arguments),this.renderOccluded=_lib_Material_js__WEBPACK_IMPORTED_MODULE_21__.RenderOccludedFlag.Occlude,this.isDecoration=!1,this.color=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.freeze)(1,1,1,1),this.polygonOffset=!1,this.anchorPosition=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_6__.fromValues)(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.outlineColor=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_9__.freeze)(1,1,1,1),this.outlineSize=0,this.rotation=0,this.hasRotation=!1,this.vvSizeEnabled=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.occludedFragmentFade=!1,this.horizonCullingEnabled=!1,this.centerOffsetUnits="world",this.drawInSecondSlot=!1,this.depthEnabled=!0,this.draped=!1,this.isLabel=!1}}const De=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_15__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.NORMAL).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.COLOR).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE).f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE),je=De.clone().vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.OBJECTANDLAYERIDCOLOR);class Fe{constructor(){this.vertexBufferLayout=(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_19__.olidEnabled)()?je:De}elementCount(e){return 6*e.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION).indices.length}write(e,t,s,i,r,a){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writePosition)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION),e,r.position,a,6),(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeNormal)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.NORMAL),t,r.normal,a,6);const o=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.UV0)?.data;let n=0,c=0,l=1,f=1;o&&o.length>=4&&(n=o[0],c=o[1],l=o[2],f=o[3]),l=Math.min(1.99999,l+1),f=Math.min(1.99999,f+1);let h=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION).indices.length,p=a;const m=r.uv0;for(let S=0;S<h;++S)m.set(p,0,n),m.set(p,1,c),p++,m.set(p,0,l),m.set(p,1,c),p++,m.set(p,0,l),m.set(p,1,f),p++,m.set(p,0,l),m.set(p,1,f),p++,m.set(p,0,n),m.set(p,1,f),p++,m.set(p,0,n),m.set(p,1,c),p++;(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeColor)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.COLOR),4,r.color,a,6);const{data:u,indices:d}=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.SIZE);h=d.length;const g=r.size;p=a;for(let S=0;S<h;++S){const e=u[2*d[S]],t=u[2*d[S]+1];for(let s=0;s<6;++s)g.set(p,0,e),g.set(p,1,t),p++}if((0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferFloat)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.ROTATION),r.rotation,a,6),s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE)?(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.CENTEROFFSETANDDISTANCE),r.centerOffsetAndDistance,a,6):(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4Zeros)(r.centerOffsetAndDistance,a,6*h),s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE)?(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4)(s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.FEATUREATTRIBUTE),r.featureAttribute,a,6):(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeBufferVec4Zeros)(r.featureAttribute,a,6*h),null!=i){const e=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.POSITION)?.indices;if(e){const t=e.length,s=r.getField(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_25__.VertexAttribute.OBJECTANDLAYERIDCOLOR,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_12__.BufferViewVec4u8);(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_27__.writeObjectAndLayerIdColor)(i,s,t,a,6)}}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineMarkerMaterial: function() { return /* binding */ g; },
/* harmony export */   Parameters: function() { return /* binding */ R; }
/* harmony export */ });
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/GLTextureMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _shaders_LineMarkerTechnique_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shaders/LineMarkerTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js");
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shaders/LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../shaders/RibbonLineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class g extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.Material{constructor(e){super(e,R),this._configuration=new _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.LineMarkerTechniqueConfiguration,this.vertexAttributeLocations=_shaders_LineMarkerTechnique_js__WEBPACK_IMPORTED_MODULE_10__.vertexAttributeLocations,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL,e=>e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColor)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isDepth)(e)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.OCCLUDER_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColorHighlightOrDepth)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColorHighlightOrDepth)(e)&&this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColor)(e)&&this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColor)(e)&&!this.parameters.writeDepth],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.DRAPED_MATERIAL,e=>e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Color||e===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.ShaderOutput.Highlight]]),this._layout=this.createLayout()}getConfiguration(e,t){return this._configuration.output=e,this._configuration.space=t.slot===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_7__.RenderSlot.DRAPED_MATERIAL?_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.LineMarkerSpace.Draped:this.parameters.worldSpace?_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.LineMarkerSpace.World:_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.LineMarkerSpace.Screen,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=this.parameters.cap!==_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.CapType.BUTT,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.occluder=this.parameters.renderOccluded===_lib_Material_js__WEBPACK_IMPORTED_MODULE_6__.RenderOccludedFlag.OccludeAndTransparentStencil,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.alphaCutoff}intersect(){}createLayout(){const e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION).vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.PREVPOSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.UV0);return this.parameters.worldSpace&&e.vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NORMAL),this.parameters.vvSize?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZEFEATUREATTRIBUTE):e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE),this.parameters.vvColor?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE):e.vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR),this.parameters.vvOpacity&&e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OPACITYFEATUREATTRIBUTE),e}createBufferWriter(){return new I(this._layout,this.parameters)}createGLMaterial(e){return new S(e)}}class S extends _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_5__.GLTextureMaterial{constructor(){super(...arguments),this._markerPrimitive=null}dispose(){super.dispose(),this._markerTextures.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this._material.setParameters(this.textureBindParameters),this.acquireTechnique(_shaders_LineMarkerTechnique_js__WEBPACK_IMPORTED_MODULE_10__.LineMarkerTechnique,e)}}class R extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_9__.VisualVariablePassParameters{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive="arrow",this.placement="end",this.cap=_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_12__.CapType.BUTT,this.anchor=_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_11__.LineMarkerAnchor.Center,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.markerTexture=null}}class I{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t}elementCount(){return"begin-end"===this._parameters.placement?12:6}write(i,a,s,o,n,h){const c=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.POSITION).data,m=c.length/3;let p=[1,0,0];const l=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.NORMAL);this._parameters.worldSpace&&null!=l&&(p=l.data);let u=1,d=0;this._parameters.vvSize?d=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZEFEATUREATTRIBUTE).data[0]:s.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE)&&(u=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.SIZE).data[0]);let f=[1,1,1,1],A=0;this._parameters.vvColor?A=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLORFEATUREATTRIBUTE).data[0]:s.has(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR)&&(f=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.COLOR).data);let _=0;this._parameters.vvOpacity&&(_=s.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__.VertexAttribute.OPACITYFEATUREATTRIBUTE).data[0]);const v=new Float32Array(n.buffer);let E=h*(this.vertexBufferLayout.stride/4);const O=(e,t,r,i)=>{if(v[E++]=e[0],v[E++]=e[1],v[E++]=e[2],v[E++]=t[0],v[E++]=t[1],v[E++]=t[2],v[E++]=r[0],v[E++]=r[1],this._parameters.worldSpace&&(v[E++]=p[0],v[E++]=p[1],v[E++]=p[2]),this._parameters.vvSize?v[E++]=d:v[E++]=u,this._parameters.vvColor)v[E++]=A;else{const e=Math.min(4*i,f.length-4);v[E++]=f[e],v[E++]=f[e+1],v[E++]=f[e+2],v[E++]=f[e+3]}this._parameters.vvOpacity&&(v[E++]=_)};let g;!function(e){e[e.ASCENDING=1]="ASCENDING",e[e.DESCENDING=-1]="DESCENDING"}(g||(g={}));const S=(a,s)=>{const o=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(P,c[3*a],c[3*a+1],c[3*a+2]),n=L;let h=a+s;do{(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.i)(n,c[3*h],c[3*h+1],c[3*h+2]),h+=s}while((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.H)(o,n)&&h>=0&&h<m);i&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.t)(o,o,i),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.t)(n,n,i)),O(o,n,[-1,-1],a),O(o,n,[1,-1],a),O(o,n,[1,1],a),O(o,n,[-1,-1],a),O(o,n,[1,1],a),O(o,n,[-1,1],a)},R=this._parameters.placement;"begin"!==R&&"begin-end"!==R||S(0,g.ASCENDING),"end"!==R&&"begin-end"!==R||S(m-1,g.DESCENDING)}}const P=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)(),L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NativeLineMaterial: function() { return /* binding */ U; },
/* harmony export */   Parameters: function() { return /* binding */ q; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "./node_modules/@arcgis/core/geometry/support/lineSegment.js");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "./node_modules/@arcgis/core/geometry/support/plane.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./DefaultLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js");
/* harmony import */ var _shaders_NativeLineTechnique_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../shaders/NativeLineTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js");
/* harmony import */ var _shaders_NativeLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../shaders/NativeLineTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class U extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.Material{constructor(e){super(e,q),this._configuration=new _shaders_NativeLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__.NativeLineTechniqueConfiguration,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_14__.RenderSlot.OPAQUE_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_10__.isColorHighlightOrOID)(e)]])}getConfiguration(e,r){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVertexColors=this.parameters.hasVertexColors,this._configuration.transparent=this.parameters.color[3]<1||this.parameters.width<1,this._configuration.hasOccludees=r.hasOccludees,this._configuration}get visible(){return this.parameters.color[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_11__.alphaCutoff}intersect(r,t,f,p,g,A){if(!f.options.selectionMode||!r.visible)return;if(!(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_15__.isTranslationMatrix)(t))return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.3d.webgl-engine.materials.NativeLineMaterial").error("intersection assumes a translation-only matrix");const y=r.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION).data,N=f.camera,R=H;(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_3__.copy)(R,f.point);const v=2;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(J[0],R[0]-v,R[1]+v,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(J[1],R[0]+v,R[1]+v,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(J[2],R[0]+v,R[1]-v,0),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.i)(J[3],R[0]-v,R[1]-v,0);for(let e=0;e<4;e++)if(!N.unprojectFromRenderScreen(J[e],K[e]))return;(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,K[0],K[1],Y),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,K[1],K[2],$),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,K[2],K[3],ee),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.fromPoints)(N.eye,K[3],K[0],re);let E=Number.MAX_VALUE,M=0;for(let e=0;e<y.length-5;e+=3){if(B[0]=y[e]+t[12],B[1]=y[e+1]+t[13],B[2]=y[e+2]+t[14],D[0]=y[e+3]+t[12],D[1]=y[e+4]+t[13],D[2]=y[e+5]+t[14],(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(Y,B)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(Y,D)<0||(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)($,B)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)($,D)<0||(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(ee,B)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(ee,D)<0||(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(re,B)<0&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(re,D)<0)continue;if(N.projectToRenderScreen(B,G),N.projectToRenderScreen(D,k),G[2]<0&&k[2]>0){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.d)(W,B,D);const e=N.frustum,r=-(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR],B)/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.f)(W,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.getNormal)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR]));(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.h)(W,W,r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(B,B,W),N.projectToRenderScreen(B,G)}else if(G[2]>0&&k[2]<0){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.d)(W,D,B);const e=N.frustum,r=-(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.signedDistance)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR],D)/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.f)(W,(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.getNormal)(e[_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_7__.PlaneIndex.NEAR]));(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.h)(W,W,r),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.g)(D,D,W),N.projectToRenderScreen(D,k)}else if(G[2]<0&&k[2]<0)continue;G[2]=0,k[2]=0;const r=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.distance2)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(G,k,Z),R);r<E&&(E=r,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(F,B),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.c)(Q,D),M=e/3)}const w=f.rayBegin,O=f.rayEnd;if(E<v*v){let e=Number.MAX_VALUE;if((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.closestLineSegmentPoint)((0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(F,Q,Z),(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.fromPoints)(w,O,z),X)){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.d)(X,X,w);const r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.l)(X);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.h)(X,X,1/r),e=r/(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_4__.j)(w,O)}A(e,X,M,!1)}}intersectDraped(e,t,o,s,i,a){if(!o.options.selectionMode)return;const n=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION).data,c=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.SIZE),m=c?c.data[0]:0,l=s[0],u=s[1],f=((m+1)/2+4)*e.screenToWorldRatio;let p=Number.MAX_VALUE,h=0;for(let g=0;g<n.length-5;g+=3){const e=n[g],t=n[g+1],o=l-e,s=u-t,i=n[g+3]-e,a=n[g+4]-t,c=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__.clamp)((i*o+a*s)/(i*i+a*a),0,1),m=i*c-o,f=a*c-s,d=m*m+f*f;d<p&&(p=d,h=g/3)}p<f*f&&i(a.dist,a.normal,h,!1)}createGLMaterial(e){return new I(e)}createBufferWriter(){const e=this.parameters.hasVertexColors?_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_18__.PositionColorLayout:_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_18__.PositionLayout;return new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_17__.DefaultBufferWriter(e)}}class I extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_12__["default"]{beginSlot(e){return this.acquireTechnique(_shaders_NativeLineTechnique_js__WEBPACK_IMPORTED_MODULE_19__.NativeLineTechnique,e)}}class q extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_13__.MaterialParameters{constructor(){super(...arguments),this.color=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.ONES,this.hasVertexColors=!1,this.hasSlicePlane=!1,this.width=1}}const B=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),D=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),W=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),X=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),G=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),k=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),F=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),Q=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),Z=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.create)(),z=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__.create)(),H=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),J=[(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)(),(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__.createRenderScreenPointArray3)()],K=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.create)()],Y=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)(),$=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)(),ee=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)(),re=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__.create)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathMaterial.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Parameters: function() { return /* binding */ M; },
/* harmony export */   PathMaterial: function() { return /* binding */ L; }
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/shaderLibrary/shading/Normals.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js");
/* harmony import */ var _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../lib/PathGeometry.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/PathGeometry.js");
/* harmony import */ var _lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../lib/RayIntersections.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _PathTechnique_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./PathTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js");
/* harmony import */ var _PathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PathTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class L extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_12__.Material{constructor(e,t){super(e,M),this._vertexBufferLayout=O(),this.vertexAttributeLocations=_PathTechnique_js__WEBPACK_IMPORTED_MODULE_18__.vertexAttributeLocations,this.supportsEdges=!0,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.OPAQUE_MATERIAL,e=>(this.parameters.castShadows&&(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isShadowRelatedOutput)(e)||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.is3DGeometryOutputMRT)(e))&&!this.parameters.transparent],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_15__.RenderSlot.TRANSPARENT_MATERIAL,e=>(this.parameters.castShadows&&(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isShadowRelatedOutput)(e)||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.is3DGeometryOutputMRT)(e))&&this.parameters.transparent]]),this._configuration=new _PathTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_19__.PathTechniqueConfiguration(t.spherical,t.doublePrecisionRequiresObfuscation)}get hasEmissions(){return!(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.p)(this.parameters.emissiveFactor,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.ZEROS)}getConfiguration(e,t){return this._configuration.output=e,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasOccludees=t.hasOccludees,(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isColorOrColorEmission)(e)&&(this._configuration.doubleSidedMode=this.parameters.doubleSided&&"normal"===this.parameters.doubleSidedType?_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.View:this.parameters.doubleSided&&"winding-order"===this.parameters.doubleSidedType?_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.WindingOrder:_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_7__.NormalsDoubleSidedMode.None,this._configuration.receiveShadows=t.shadowMap.enabled,this._configuration.receiveAmbientOcclusion=null!=t.ssao),this._configuration.pbrMode=this.parameters.usePBR?_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__.PBRMode.Schematic:_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_8__.PBRMode.Disabled,this._configuration.emissionSource=this.parameters.usePBR?_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_6__.EmissionSource.Value:_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_6__.EmissionSource.None,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}isVisibleForOutput(e){return e!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Shadow&&e!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ShadowExcludeHighlight&&e!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.ShadowHighlight||this.parameters.castShadows}get visible(){return this.parameters.opacity>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_9__.alphaCutoff}intersect(t,r,s,a,o,n){const h=t;if(!(0,_lib_PathGeometry_js__WEBPACK_IMPORTED_MODULE_13__.isPathGeometry)(h))return;const u=h.path,c=[this.parameters.size[0],this.parameters.size[1]];if(this.parameters.vvSize){const{offset:t,factor:r,minSize:i,maxSize:s}=this.parameters.vvSize,a=u.sizeAttributeValue;c[0]*=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(t[0]+a*r[0],i[0],s[0]),c[1]*=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(t[2]+a*r[2],i[2],s[2])}const m=new _lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_14__.MeshIntersectionOptions(!1,s.options.normalRequired),p=Math.max(c[0],c[1]),l=t.boundingInfo;if(null==l)return void E(u,c,a,o,m,n);const f=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_3__.fromValues)(l.bbMin[0]-p,l.bbMin[1]-p,l.bbMin[2]-p,l.bbMax[0]+p,l.bbMax[1]+p,l.bbMax[2]+p),d=[o[0]-a[0],o[1]-a[1],o[2]-a[2]],S=Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]),P=[S/d[0],S/d[1],S/d[2]];(0,_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_14__.intersectAabbInvDir)(f,a,P,s.tolerance)&&E(u,c,a,o,m,n)}createBufferWriter(){return new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_17__.DefaultBufferWriter(this._vertexBufferLayout)}createGLMaterial(e){return new T(e)}}function O(){const e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.POSITION).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.PROFILERIGHT).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.PROFILEUP).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.PROFILEVERTEXANDNORMAL).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.FEATUREVALUE);return (0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_10__.olidEnabled)()&&e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__.VertexAttribute.OBJECTANDLAYERIDCOLOR),e}class T extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_11__["default"]{beginSlot(e){return this.acquireTechnique(_PathTechnique_js__WEBPACK_IMPORTED_MODULE_18__.PathTechnique,e)}}function E(e,t,r,i,s,a){e.baked.size&&e.baked.size[0]===t[0]&&e.baked.size[1]===t[1]||e.baked.bake(t),e.baked.intersect(r,i,s,a)}class M extends _PathTechnique_js__WEBPACK_IMPORTED_MODULE_18__.PathPassParameters{constructor(){super(...arguments),this.doubleSided=!1,this.doubleSidedType="normal",this.castShadows=!0,this.hasSlicePlane=!1,this.transparent=!1,this.usePBR=!1}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathTechnique.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathPassParameters: function() { return /* binding */ N; },
/* harmony export */   PathTechnique: function() { return /* binding */ R; },
/* harmony export */   vertexAttributeLocations: function() { return /* binding */ L; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_attributes_PathVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/PathVertexPosition.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/PathVertexPosition.glsl.js");
/* harmony import */ var _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/shading/Normals.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _pbrUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pbrUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/pbrUtils.js");
/* harmony import */ var _chunks_Path_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/Path.glsl.js */ "./node_modules/@arcgis/core/chunks/Path.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class N extends _core_shaderLibrary_attributes_PathVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_2__.PathVertexPositionPassParameters{constructor(){super(...arguments),this.ambient=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.freeze)(.2,.2,.2),this.diffuse=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.freeze)(.8,.8,.8),this.specular=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.freeze)(0,0,0),this.opacity=1,this.origin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.create)(),this.modelTransformation=null,this.mrrFactors=_pbrUtils_js__WEBPACK_IMPORTED_MODULE_10__.advancedMRRFactors,this.emissiveFactor=_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS,this.texture=null,this.textureNormal=null,this.textureEmissive=null,this.textureOcclusion=null,this.textureMetallicRoughness=null}}class R extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__.ShaderTechnique{constructor(e,r,t){super(e,r,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__.ReloadableShaderModule(_chunks_Path_glsl_js__WEBPACK_IMPORTED_MODULE_11__.P,(()=>__webpack_require__.e(/*! import() | shaders-Path.glsl */ "shaders-Path.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../shaders/Path.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Path.glsl.js")))),t,L)}initializePipeline(e){const{output:r,transparent:t,hasSlicePlane:l,doubleSidedMode:n,hasOccludees:a,oitPass:b}=e,O=b===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_6__.OITPass.NONE,j=b===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_6__.OITPass.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.makePipelineState)({blending:(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.isColorOrColorEmission)(r)&&t?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.blending)(b):null,culling:l&&!t&&n!==_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_3__.NormalsDoubleSidedMode.None?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.frontFaceCullingParams:null,depthTest:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.oitDepthTest)(b)},depthWrite:O||j?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.defaultDepthWrite:null,drawBuffers:r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_12__.SpecialDrawBuffers.NONE]}:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.getDrawBuffers)(b,r),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_13__.defaultColorWrite,stencilWrite:a?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_8__.stencilWriteMaskOn:null,stencilTest:a?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_8__.stencilBaseAllZerosParams:null,polygonOffset:O||j?null:_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_7__.OITPolygonOffset})}}const L=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.PROFILERIGHT,1],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.PROFILEUP,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.PROFILEVERTEXANDNORMAL,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.FEATUREVALUE,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__.VertexAttribute.OBJECTANDLAYERIDCOLOR,5]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathTechniqueConfiguration.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PathTechniqueConfiguration.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PathTechniqueConfiguration: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/shading/Normals.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Normals.glsl.js");
/* harmony import */ var _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n extends _DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__.DefaultTechniqueConfiguration{constructor(e,r){super(),this.spherical=e,this.doublePrecisionRequiresObfuscation=r,this.pbrMode=_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__.PBRMode.Disabled,this.doubleSidedMode=_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_3__.NormalsDoubleSidedMode.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.receiveShadows=!1,this.receiveAmbientOcclusion=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasSlicePlane=!1,this.transparent=!1,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.useCustomDTRExponentForWater=!1,this.useFillLights=!1,this.hasColorTexture=!1,this.objectAndLayerIdColorInstanced=!1,this.hasMetallicRoughnessTexture=!1,this.hasOcclusionTexture=!1,this.hasNormalTexture=!1}get discardInvisibleFragments(){return this.transparent}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__.PBRMode.COUNT})],n.prototype,"pbrMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_core_shaderLibrary_shading_Normals_glsl_js__WEBPACK_IMPORTED_MODULE_3__.NormalsDoubleSidedMode.COUNT})],n.prototype,"doubleSidedMode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)({count:_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.COUNT})],n.prototype,"emissionSource",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"receiveShadows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"receiveAmbientOcclusion",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"vvOpacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.parameter)()],n.prototype,"cullAboveTerrain",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternMaterial.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Parameters: function() { return /* binding */ I; },
/* harmony export */   PatternMaterial: function() { return /* binding */ P; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/util/AlphaCutoff.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _PatternStyle_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PatternStyle.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternStyle.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js");
/* harmony import */ var _shaders_PatternTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../shaders/PatternTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js");
/* harmony import */ var _shaders_PatternTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../shaders/PatternTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PatternTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class P extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_14__.TriangleMaterial{constructor(e){super(e,I),this._configuration=new _shaders_PatternTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_18__.PatternTechniqueConfiguration,this.vertexAttributeLocations=(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_5__.olidEnabled)()?_shaders_PatternTechnique_js__WEBPACK_IMPORTED_MODULE_17__.vertexAttributeLocationsOID:_shaders_PatternTechnique_js__WEBPACK_IMPORTED_MODULE_17__.vertexAttributeLocations,this.supportsEdges=!0,this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.OPAQUE_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isHighlightOrOID)(e)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.TRANSPARENT_MATERIAL,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColor)(e)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,e=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isDepth)(e)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.DRAPED_MATERIAL,e=>this.parameters.draped&&(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__.isColorHighlightOrOID)(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.style=this.parameters.style,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__.OITPolygonOffsetLimit,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration}get visible(){return this.parameters.color[3]>=_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_4__.alphaCutoff}createGLMaterial(e){return new R(e)}createBufferWriter(){const e=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_2__.newLayout)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.POSITION).vec4f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.UVMAPSPACE);return this.parameters.draped||e.mat3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.BOUNDINGRECT),this.parameters.vvColor?e.f32(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.COLORFEATUREATTRIBUTE):e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.COLOR),(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_5__.olidEnabled)()&&e.vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.OBJECTANDLAYERIDCOLOR),new y(e)}}class R extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_7__["default"]{beginSlot(e){return this.acquireTechnique(_shaders_PatternTechnique_js__WEBPACK_IMPORTED_MODULE_17__.PatternTechnique,e)}}class y extends _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_12__.DefaultBufferWriter{write(e,s,i,o,a,n){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_16__.writeDefaultAttributes)(i,o,this.vertexBufferLayout,e,s,a,n);for(const f of this.vertexBufferLayout.fields.keys()){const s=i.get(f),o=s?.indices;if(s&&o)switch(f){case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.UVMAPSPACE:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_10__.assert)(4===s.size);const e=a.getField(f,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewVec4f);e&&(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_16__.writeBufferVec4)(s,e,n);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__.VertexAttribute.BOUNDINGRECT:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_10__.assert)(9===s.size);const r=a.getField(f,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__.BufferViewMat3f);r&&L(s,e,r,n);break}}}}}function L(e,t,r,s){const{data:i,indices:o}=e,a=t,n=r.typedBuffer,f=r.typedBufferStride,c=o.length;s*=f;for(let l=0;l<c;++l){const e=9*o[l],t=i[e],r=i[e+1],c=i[e+2];n[s]=a[0]*t+a[4]*r+a[8]*c+a[12],n[s+1]=a[1]*t+a[5]*r+a[9]*c+a[13],n[s+2]=a[2]*t+a[6]*r+a[10]*c+a[14];for(let o=3;o<9;++o)n[s+o]=i[e+o];s+=f}}class I extends _VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_15__.VisualVariablePassParameters{constructor(){super(...arguments),this.color=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.fromValues)(1,1,1,1),this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__.CullFaceOptions.None,this.hasOccludees=!1,this.style=_PatternStyle_js__WEBPACK_IMPORTED_MODULE_13__.Style.Cross,this.draped=!0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternStyle.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternStyle.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Style: function() { return /* binding */ a; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var a;!function(a){a[a.Horizontal=0]="Horizontal",a[a.Vertical=1]="Vertical",a[a.Cross=2]="Cross",a[a.ForwardDiagonal=3]="ForwardDiagonal",a[a.BackwardDiagonal=4]="BackwardDiagonal",a[a.DiagonalCross=5]="DiagonalCross",a[a.COUNT=6]="COUNT"}(a||(a={}));


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ScaleFactor: function() { return /* binding */ c; },
/* harmony export */   ScaleInfo: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this.factor=new c,this.factorAlignment=new c}}class c{constructor(){this.scale=0,this.factor=0,this.minScaleFactor=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TriangleMaterial: function() { return /* binding */ e; }
/* harmony export */ });
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/RayIntersections.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RayIntersections.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class e extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__.Material{intersect(r,e,i,s,o,n){return (0,_lib_RayIntersections_js__WEBPACK_IMPORTED_MODULE_1__.intersectTriangleGeometry)(r,i,s,o,void 0,n)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WaterGLMaterial: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js");
/* harmony import */ var _WaterTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WaterTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_0__["default"]{ensureResources(e){return this._techniques.context.waterTextures.ensureResources(e)}beginSlot(e){const r=this._techniques.context.waterTextures.passParameters;return this._material.setParameters({wavePerturbation:r.wavePerturbation,waveNormal:r.waveNormal}),this.acquireTechnique(_WaterTechnique_js__WEBPACK_IMPORTED_MODULE_1__.WaterTechnique,e)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Parameters: function() { return /* binding */ v; },
/* harmony export */   WaterMaterial: function() { return /* binding */ _; }
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/time.js */ "./node_modules/@arcgis/core/core/time.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Material.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DefaultBufferWriter.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js");
/* harmony import */ var _DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DefaultLayouts.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js");
/* harmony import */ var _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./TriangleMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js");
/* harmony import */ var _WaterGLMaterial_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./WaterGLMaterial.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js");
/* harmony import */ var _WaterTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./WaterTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class _ extends _TriangleMaterial_js__WEBPACK_IMPORTED_MODULE_12__.TriangleMaterial{constructor(t,e){super(t,v),this.produces=new Map([[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.OPAQUE_MATERIAL,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isColor)(t)&&!this.parameters.transparent||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isHighlightOrOID)(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.TRANSPARENT_MATERIAL,t=>(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isColor)(t)&&this.parameters.transparent||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isHighlightOrOID)(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.DRAPED_MATERIAL,t=>this.parameters.draped&&t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Color||(0,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.isHighlightOrOID)(t)],[_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_9__.RenderSlot.DRAPED_WATER,t=>t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_5__.ShaderOutput.Normal]]),this._configuration=new _WaterTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_14__.WaterTechniqueConfiguration(e.spherical,e.doublePrecisionRequiresObfuscation)}getConfiguration(t,e){return this._configuration.output=t,this._configuration.writeDepth=!0,this._configuration.receiveShadows=e.shadowMap.enabled,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.screenSpaceReflections=null!=e.ssr.lastFrameColor,this._configuration.cloudReflections=null!=e.clouds.data,this._configuration.draped=this.parameters.draped,this._configuration.oitPass=e.oitPass,this._configuration.enableOffset=e.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__.OITPolygonOffsetLimit,this._configuration.terrainDepthTest=e.terrainDepthTest,this._configuration.cullAboveTerrain=e.cullAboveTerrain,this._configuration}get visible(){return!0}update(e){return this.setParameters({timeElapsed:(0,_core_time_js__WEBPACK_IMPORTED_MODULE_1__.secondsFromMilliseconds)(e.time)*this.parameters.animationSpeed},!1),this._animationEnabled(e.camera)&&e.dt>0}_animationEnabled(t){const e=Math.min(t.relativeElevation,t.distance);return Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*e<b}createGLMaterial(t){return new _WaterGLMaterial_js__WEBPACK_IMPORTED_MODULE_13__.WaterGLMaterial(t)}createBufferWriter(){return new _DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_10__.DefaultBufferWriter((0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_6__.olidEnabled)()?_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_11__.PositionUVLayoutObjectAndLayerId:_DefaultLayouts_js__WEBPACK_IMPORTED_MODULE_11__.PositionUVLayout)}get test(){}}class v extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_7__.MaterialParameters{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.fromValues)(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fromValues)(0,0,0,0),this.transparent=!0,this.hasSlicePlane=!1,this.draped=!1,this.origin=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.create)(),this.modelTransformation=null}}const b=35e3;


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WaterMaterialPassParameters: function() { return /* binding */ m; },
/* harmony export */   WaterTechnique: function() { return /* binding */ f; }
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/shading/WaterDistortion.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _chunks_WaterSurface_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/WaterSurface.glsl.js */ "./node_modules/@arcgis/core/chunks/WaterSurface.glsl.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class m extends _core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_1__.WaterDistortionPassParameters{}class f extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique{constructor(r,e,s){super(r,e,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_WaterSurface_glsl_js__WEBPACK_IMPORTED_MODULE_6__.W,(()=>__webpack_require__.e(/*! import() | shaders-WaterSurface.glsl */ "shaders-WaterSurface.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ../shaders/WaterSurface.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/WaterSurface.glsl.js")))),s)}initializePipeline(e){const{oitPass:t,output:s,transparent:p,draped:m,enableOffset:f}=e,h=t===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.NONE,j=t===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.makePipelineState)({blending:s!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Normal&&s!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Highlight&&s!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.ObjectAndLayerIdColor&&p?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blending)(t):null,depthTest:m?null:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitDepthTest)(t)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.depthWrite)(e),drawBuffers:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getDrawBuffers)(t,s),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultColorWrite,polygonOffset:h||j?null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getOITPolygonOffset)(f)})}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechniqueConfiguration.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechniqueConfiguration.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WaterTechniqueConfiguration: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a extends _DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.DefaultTechniqueConfiguration{constructor(e,i){super(),this.spherical=e,this.doublePrecisionRequiresObfuscation=i,this.receiveShadows=!1,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.screenSpaceReflections=!1,this.cloudReflections=!1,this.objectAndLayerIdColorInstanced=!1,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.pbrMode=_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_3__.PBRMode.Water,this.occlusionPass=!1,this.useCustomDTRExponentForWater=!0,this.highStepCount=!0,this.useFillLights=!1}get discardInvisibleFragments(){return this.transparent&&this.writeDepth}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"receiveShadows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"screenSpaceReflections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"cloudReflections",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"objectAndLayerIdColorInstanced",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"draped",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.parameter)()],a.prototype,"cullAboveTerrain",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/waterMaterialUtils.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   wavePresets: function() { return /* binding */ e; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const e={"calm-small":{waveStrength:.005,perturbationStrength:.02,textureRepeat:12,waveVelocity:.01},"rippled-small":{waveStrength:.02,perturbationStrength:.09,textureRepeat:32,waveVelocity:.07},"slight-small":{waveStrength:.05,perturbationStrength:.07,textureRepeat:28,waveVelocity:.1},"moderate-small":{waveStrength:.075,perturbationStrength:.07,textureRepeat:24,waveVelocity:.1},"calm-medium":{waveStrength:.003125,perturbationStrength:.01,textureRepeat:8,waveVelocity:.02},"rippled-medium":{waveStrength:.035,perturbationStrength:.015,textureRepeat:12,waveVelocity:.07},"slight-medium":{waveStrength:.06,perturbationStrength:.015,textureRepeat:8,waveVelocity:.12},"moderate-medium":{waveStrength:.09,perturbationStrength:.03,textureRepeat:4,waveVelocity:.12},"calm-large":{waveStrength:.01,perturbationStrength:0,textureRepeat:4,waveVelocity:.05},"rippled-large":{waveStrength:.025,perturbationStrength:.01,textureRepeat:8,waveVelocity:.11},"slight-large":{waveStrength:.06,perturbationStrength:.02,textureRepeat:3,waveVelocity:.13},"moderate-large":{waveStrength:.14,perturbationStrength:.03,textureRepeat:2,waveVelocity:.15}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createStipplePatternSimple: function() { return /* binding */ h; },
/* harmony export */   getStipplePatternForLinePattern: function() { return /* binding */ n; },
/* harmony export */   getStipplePatternForPatternStyle: function() { return /* binding */ l; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const t={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},o={dash:t.dash,"dash-dot":[...t.dash,...t.dot],dot:t.dot,"long-dash":t["long-dash"],"long-dash-dot":[...t["long-dash"],...t.dot],"long-dash-dot-dot":[...t["long-dash"],...t.dot,...t.dot],none:null,"short-dash":t["short-dash"],"short-dash-dot":[...t["short-dash"],...t["short-dot"]],"short-dash-dot-dot":[...t["short-dash"],...t["short-dot"],...t["short-dot"]],"short-dot":t["short-dot"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return"style"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferRange: function() { return /* binding */ t; },
/* harmony export */   mergeAdjacentRanges: function() { return /* binding */ o; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t=0,o=0){this.from=t,this.to=o}get numElements(){return this.to-this.from}}function o(t){const o=new Map;t.forAll((t=>o.set(t.from,t)));let e=!0;for(;e;){e=!1;for(let r=0;r<t.length;++r){const n=t.data[r],s=o.get(n.to);if(!s)return;n.to=s.to,o.delete(s.from),t.removeUnordered(s),e=!0}}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DrawCommand: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(){this.first=0,this.count=0}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Instance: function() { return /* binding */ i; }
/* harmony export */ });
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BufferRange.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class i extends _BufferRange_js__WEBPACK_IMPORTED_MODULE_0__.BufferRange{constructor(e,i,s){super(i,s),this.geometry=e}get isVisible(){return this.geometry.visible}get hasHighlights(){return this.isVisible&&this.geometry.hasHighlights}foreachHighlightGroup(e){this.isVisible&&this.geometry.foreachHighlightGroup(e)}get hasOccludees(){return null!=this.geometry.occludees}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MergedRenderer: function() { return /* binding */ x; },
/* harmony export */   sizeForVao: function() { return /* binding */ V; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/NestedMap.js */ "./node_modules/@arcgis/core/core/NestedMap.js");
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/SetUtils.js */ "./node_modules/@arcgis/core/core/SetUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../support/buffer/glUtil.js */ "./node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../effects/RenderPlugin.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js");
/* harmony import */ var _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../lib/GLMaterials.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js");
/* harmony import */ var _lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../lib/ModelDirtyTypes.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../lib/Util.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");
/* harmony import */ var _DrawParameters_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../DrawParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js");
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./BufferRange.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js");
/* harmony import */ var _Instance_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Instance.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js");
/* harmony import */ var _PerBufferData_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./PerBufferData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js");
/* harmony import */ var _PerOriginData_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./PerOriginData.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
let x=class extends _effects_RenderPlugin_js__WEBPACK_IMPORTED_MODULE_15__.SyncRenderPlugin{get _hasAnyHighlight(){return this._highlightGroups.size>0}constructor(e){super(e),this._dataByOrigin=new Map,this._drawParameters=new _DrawParameters_js__WEBPACK_IMPORTED_MODULE_20__.DrawParameters,this._highlightGroups=new Set,this.drapedPriority=0,this._produces=new Map,this._hasOccludees=!1}destroy(){this._glMaterials=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.disposeMaybe)(this._glMaterials),this._dataByOrigin.forEach((e=>e.dispose())),this._dataByOrigin.clear(),this._vaoCache=null}initialize(){this.material.produces.forEach(((e,t)=>{this._produces.set(t,(t=>!(0===this._dataByOrigin.size||!(t!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight&&t!==_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight||this._hasAnyHighlight))&&e(t)))}))}initializeRenderContext(e,t){this._glMaterials=new _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_16__.GLMaterials(this.material,t??e.materials),this._bufferWriter=this.material.createBufferWriter(),this._vaoCache=e.renderContext.rctx.getVaoCache(this.material.vertexAttributeLocations,(0,_support_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_13__.glLayout)(this._bufferWriter.vertexBufferLayout))}uninitializeRenderContext(){}get produces(){return this._produces}get hasOccludees(){return this._hasOccludees}get hasEmissions(){return this.material.hasEmissions}get isDecoration(){return this.material.parameters.isDecoration}queryRenderOccludedState(e){return this.material.queryRenderOccludedState(e)}get numGeometries(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.instances.size),0))),e}get usedMemory(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.vao.usedMemory),0))),e}forEachGeometry(e){this._dataByOrigin.forEach((t=>t.buffers.forEach((t=>t.instances.forEach((({geometry:t})=>e(t)))))))}modify(e){this._updateGeometries(e.updates),this._addAndRemoveGeometries(e.adds,e.removes),this._updateDrawCommands()}_updateGeometries(e){const t=this._bufferWriter;if(null==t)return;const r=t.vertexBufferLayout.stride/4;for(const i of e){const e=i.renderGeometry,s=this._dataByOrigin.get(e.localOrigin.id),o=s?.findBuffer(e.id);if(null==o)return;const a=o.instances.get(e.id);if(i.updateType&(_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.GEOMETRY|_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.TRANSFORMATION)){const i=W(t.elementCount(a.geometry.geometry.attributes)*r),s=t.vertexBufferLayout.createView(i.buffer);this._writeGeometry(e,s,0),o.vao.vertexBuffers.get("geometry").setSubData(i,a.from*r,0,a.numElements*r)}i.updateType&(_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.HIGHLIGHT|_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.OCCLUDEE|_lib_ModelDirtyTypes_js__WEBPACK_IMPORTED_MODULE_17__.DirtyState.VISIBILITY)&&(o.drawCommandsDirty=!0)}}_computeDeltas(e,t){const r=new _core_NestedMap_js__WEBPACK_IMPORTED_MODULE_5__.NestedMap;for(const i of e){const e=i.localOrigin;if(null==e)continue;let t=r.get(e.id,null);null==t&&(t=new D(e.vec3),r.set(e.id,null,t)),t.changes.push(i)}for(const i of t){const e=i.localOrigin;if(null==e)continue;const t=this._dataByOrigin.get(e.id),s=t?.findBuffer(i.id);if(null==s)continue;let o=r.get(e.id,s);null==o&&(o=new D(e.vec3),r.set(e.id,s,o)),o.changes.push(i)}return r}_addAndRemoveGeometries(e,r){if(null==this._bufferWriter||null==this._vaoCache)return;const{_bufferWriter:i,_dataByOrigin:s}=this,o=i.vertexBufferLayout.stride/4,a=this._computeDeltas(e,r);a.forEach(((e,r)=>{const n=e.get(null),l=n?.changes??[];a.delete(r,null);let u=s.get(r);if(e.forEach(((e,n)=>{if(a.delete(r,n),null==n)return void (0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(!1,"No VAO for removed geometries");if(n.instances.size===e.changes.length)return this._vaoCache.deleteVao(n.vao),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u.buffers,n),void(0===u.buffers.length&&0===l.length&&s.delete(r));const h=n.numElements,f=n.vao.byteSize/4,c=l.reduce(((e,t)=>e+i.elementCount(t.geometry.attributes)),0),m=e.changes.reduce(((e,t)=>e+i.elementCount(t.geometry.attributes)),0),d=Math.min((h+c-m)*o,z),g=d>f;d>H&&d<f/2?(e.changes.forEach((({id:e})=>n.deleteInstance(e))),n.instances.forEach((({geometry:e})=>l.push(e))),this._vaoCache.deleteVao(n.vao),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.removeUnordered)(u.buffers,n)):g?this._applyAndRebuild(n,l,e):this._applyRemoves(n,e)})),l.length>0)for(null==u&&(u=new _PerOriginData_js__WEBPACK_IMPORTED_MODULE_24__.PerOriginData(n.origin),s.set(r,u)),u.buffers.forEach((e=>this._applyAdds(e,l)));l.length>0;)u.buffers.push(this._applyAndRebuild(new _PerBufferData_js__WEBPACK_IMPORTED_MODULE_23__.PerBufferData,l,null))}))}_updateDrawCommands(){this._highlightGroups.clear(),this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.buffers.forEach((e=>{e.updateIfDrawCommandsDirty(this._bufferWriter.vertexBufferLayout.stride),e.hasHighlights&&(0,_core_SetUtils_js__WEBPACK_IMPORTED_MODULE_7__.addMany)(this._highlightGroups,e.highlightGroups),this._hasOccludees=this._hasOccludees||e.hasOccludees}))}))}_applyAndRebuild(e,t,r){if(r)for(const m of r.changes)e.deleteInstance(m.id);const i=this._bufferWriter,s=i.vertexBufferLayout.stride,o=s/4,a=Math.floor(z/o);let n=e.numElements;for(;t.length>0;){const r=t.pop(),s=i.elementCount(r.geometry.attributes);if(n+s>a&&n>0){t.push(r);break}n+=s;const o=new _Instance_js__WEBPACK_IMPORTED_MODULE_22__.Instance(r,0,0);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(null==e.instances.get(r.id)),e.addInstance(r.id,o)}const l=n*o,u=W(l),h=i.vertexBufferLayout.createView(u.buffer);let f=0;e.resetInstanceSummary(),e.instances.forEach(((t,r)=>{this._writeGeometry(t.geometry,h,f);const s=f;f+=i.elementCount(t.geometry.geometry.attributes),e.updateInstance(r,s,f),e.updateDrawState(t)})),this._vaoCache.deleteVao(e.vao),e.vao=this._vaoCache.newVao(V(l)),e.vao.vertexBuffers.get("geometry").setSubData(u,0,0,f*o),e.holes.clear();const c=e.holes.pushNew();return c.from=f,c.to=Math.floor(e.vao.byteSize/s),e.updateDrawCommands(s),e}_applyRemoves(e,t){if(0===t.changes.length||null==this._bufferWriter)return;for(const a of t.changes){const t=a.id,r=e.instances.get(t);if(!r)continue;e.deleteInstance(t);const i=G.back();if(i){if(i.to===r.from){i.to=r.to;continue}if(i.from===r.to){i.from=r.from;continue}}const s=G.pushNew();s.from=r.from,s.to=r.to}(0,_BufferRange_js__WEBPACK_IMPORTED_MODULE_21__.mergeAdjacentRanges)(G);const r=this._bufferWriter.vertexBufferLayout.stride/4,i=G.reduce(((e,t)=>Math.max(e,t.numElements)),0)*r,s=W(i);s.fill(0,0,i);const o=e.vao.vertexBuffers.get("geometry");G.forAll((e=>o.setSubData(s,e.from*r,0,e.numElements*r))),e.holes.pushArray(G.data,G.length),G.forAll(((e,t)=>G.data[t]=null)),G.clear(),e.drawCommandsDirty=!0}_applyAdds(e,t){if(0===t.length||null==this._bufferWriter)return;if(!(0,_PerBufferData_js__WEBPACK_IMPORTED_MODULE_23__.hasVao)(e))return void this._applyAndRebuild(e,t,null);const i=this._bufferWriter,s=i.vertexBufferLayout.stride/4,o=e.numElements,a=t.reduce(((e,t)=>e+i.elementCount(t.geometry.attributes)),0),n=Math.min((o+a)*s,z),l=4*n;if(e.vao.byteSize<V(z-H)&&l>e.vao.byteSize)return void this._applyAndRebuild(e,t,null);(0,_BufferRange_js__WEBPACK_IMPORTED_MODULE_21__.mergeAdjacentRanges)(e.holes);const u=new Array;for(const r of t){const t=i.elementCount(r.geometry.attributes),s=R(e.holes,t);u.push(s)}const h=e.vao.vertexBuffers.get("geometry");let f=0,c=0,m=0;const d=W(n),g=i.vertexBufferLayout.createView(d.buffer);t.forEach(((t,r)=>{const o=u[r];if(null==o)return;if(!(m===o)){const e=m-c;e>0&&h.setSubData(d,c*s,0,e*s),c=o,f=0}const a=i.elementCount(t.geometry.attributes);this._writeGeometry(t,g,f),f+=a,m=o+a;const n=new _Instance_js__WEBPACK_IMPORTED_MODULE_22__.Instance(t,o,o+a);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_19__.assert)(null==e.instances.get(t.id)),e.addInstance(t.id,n),e.drawCommandsDirty=!0}));const p=m-c;p>0&&h.setSubData(d,c*s,0,p*s),(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__.filterInPlace)(t,((e,t)=>null==u[t]))}_writeGeometry(e,t,r){null!=this._bufferWriter&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.copy)(j,e.transformation),j[12]-=e.localOrigin.vec3[0],j[13]-=e.localOrigin.vec3[1],j[14]-=e.localOrigin.vec3[2],(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.invert)(M,j),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_11__.transpose)(M,M),this._bufferWriter.write(j,M,e.geometry.attributes,e.geometry.objectAndLayerIdColor,t,r))}updateAnimation(e){return this.material.update(e)}acquireTechniques(e){if(!this.material.shouldRender(e))return null;const{output:t,bind:r}=e,i=this.material.produces.get(r.slot);if(!i?.(t))return null;const{highlightGroupName:s,slot:o}=r,a=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight,n=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight,l=n||a,u=e=>l&&(0===this._highlightGroups.size||n&&!!s&&!e.has(s));if(u(this._highlightGroups))return null;const h=t===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowExcludeHighlight,f=!(l||h);for(const{buffers:c}of this._dataByOrigin.values())for(const i of c){if(u(i.highlightGroups))continue;const n=a?i.drawCommandsHighlights.size>0:l?s?i.drawCommandsHighlights.get(s):i.drawCommandsHighlights.size>0:((h&&i.needsMultipleCommands()?i.drawCommandsShadowHighlightRest:i.drawCommandsDefault)||null)?.length??!1,c=f&&i.drawCommandsOccludees||null;if(n||c?.length){const i=this._glMaterials.load(e.rctx,o,t),s=i?.beginSlot(r);if(s)return s}}return null}render(e,t){const{output:r,bind:i}=e,{slot:s,highlightGroupName:o}=i,a=r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.Highlight;if(a&&!o)return;const n=r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowHighlight,l=a||n,u=r===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_14__.ShaderOutput.ShadowExcludeHighlight,h=!(l||u),f=s===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_18__.RenderSlot.OCCLUDER_MATERIAL||s===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_18__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL?s:null,{rctx:c}=e;c.runAppleAmdDriverHelper();const m=c.bindTechnique(t,i,this.material.parameters);for(const d of this._dataByOrigin.values())for(const e of d.buffers){if(a&&(!e.hasHighlights||!e.drawCommandsHighlights.has(o)))continue;if(n&&!e.hasHighlights)continue;const r=()=>{const t=[];for(const r of e.drawCommandsHighlights.values())t.push(r);return t},s=l&&!n?e.drawCommandsHighlights.get(o)??null:null,g=n?r():l?s?[s]:N:(u&&e.needsMultipleCommands()?[e.drawCommandsShadowHighlightRest]:[e.drawCommandsDefault])||N,p=g.some((e=>e.length>0)),y=h&&e.drawCommandsOccludees||null;if(p||y?.length){if(this._drawParameters.origin=d.origin,m.bindDraw(i,this.material.parameters,this._drawParameters),t.ensureAttributeLocations(e.vao),c.bindVAO(e.vao),p)for(const e of g)c.setPipelineState(t.getPipeline(!1,f)),e.forAll((e=>c.drawArrays(t.primitiveType,e.first,e.count)));y?.length&&(c.setPipelineState(t.getPipeline(!0,f)),y.forAll((e=>c.drawArrays(t.primitiveType,e.first,e.count))))}}}get test(){}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__.property)({constructOnly:!0})],x.prototype,"material",void 0),x=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)("esri.views.3d.webgl-engine.materials.renderers.MergedRenderer")],x);class D{constructor(e){this.origin=e,this.changes=new Array}}function R(e,t){const r=e.find((e=>e.numElements>=t));if(null==r)return null;const i=r.from;return r.from+=t,r.from>=r.to&&e.removeUnordered(r),i}const j=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),M=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__.create)(),G=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_6__["default"]({allocator:e=>e||new _BufferRange_js__WEBPACK_IMPORTED_MODULE_21__.BufferRange,deallocator:null}),H=65536,L=4*H,I=1024,T=16777216,z=T/4;let P=new Float32Array(H);function W(e){return P.length<e&&(P=new Float32Array(e)),P}function V(e){const t=4*e;return t<=I?I:t<L?(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.nextHighestPowerOfTwo)(t):Math.max(Math.min(Math.ceil(1.5*t/L)*L,T),t)}const N=[];


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PerBufferData: function() { return /* binding */ n; },
/* harmony export */   PerVaoData: function() { return /* binding */ i; },
/* harmony export */   hasVao: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/PooledArray.js */ "./node_modules/@arcgis/core/core/PooledArray.js");
/* harmony import */ var _BufferRange_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BufferRange.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js");
/* harmony import */ var _DrawCommand_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DrawCommand.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n{constructor(){this._numElements=0,this._instances=new Map,this.holes=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({allocator:s=>s||new _BufferRange_js__WEBPACK_IMPORTED_MODULE_1__.BufferRange,deallocator:null}),this.hasHiddenInstances=!1,this.hasOccludees=!1,this.drawCommandsDirty=!0,this.highlightGroups=new Set,this.drawCommandsDefault=h(),this.drawCommandsHighlights=new Map,this.drawCommandsOccludees=h(),this.drawCommandsShadowHighlightRest=h()}get numElements(){return this._numElements}get instances(){return this._instances}get hasHighlights(){return this.highlightGroups.size>0}resetInstanceSummary(){this.hasHiddenInstances=!1,this.hasOccludees=!1,this.highlightGroups.clear()}updateIfDrawCommandsDirty(s){if(this.drawCommandsDirty){this.resetInstanceSummary();for(const s of this.instances.values())this.updateDrawState(s);this.updateDrawCommands(s)}}addInstance(s,t){this.deleteInstance(s),this._instances.set(s,t),this._numElements+=t.numElements}deleteInstance(s){const t=this._instances.get(s);t&&(this._numElements-=t.numElements,this._instances.delete(s))}updateInstance(s,t,e){const n=this._instances.get(s);n&&(this._numElements-=n.numElements,n.from=t,n.to=e,this._numElements+=n.numElements)}updateDrawState(s){s.isVisible?(s.foreachHighlightGroup((s=>this.highlightGroups.add(s))),s.hasOccludees&&(this.hasOccludees=!0)):this.hasHiddenInstances=!0}updateDrawCommands(s){if(this.drawCommandsDefault.clear(),this.drawCommandsHighlights.clear(),this.drawCommandsOccludees.clear(),this.drawCommandsShadowHighlightRest.clear(),this.drawCommandsDirty=!1,0===this._instances.size)return;if(!this.needsMultipleCommands()){const t=this.drawCommandsDefault.pushNew(),e=this.holes.front();return null!=this.vao&&1===this.holes.length&&e.to===Math.floor(this.vao.byteSize/s)?(t.first=0,void(t.count=e.from)):(t.first=1/0,t.count=0,this._instances.forEach((s=>{t.first=Math.min(t.first,s.from),t.count=Math.max(t.count,s.to)})),void(t.count-=t.first))}const t=Array.from(this._instances.values()).sort(((s,t)=>s.from===t.from?s.to-t.to:s.from-t.from)),{drawCommandsHighlights:e}=this;for(const n of t)n.isVisible&&(o(n.hasOccludees?this.drawCommandsOccludees:this.drawCommandsDefault,n),n.hasHighlights?n.foreachHighlightGroup((s=>{let t=e.get(s);t||(t=h(),e.set(s,t)),o(t,n)})):o(this.drawCommandsShadowHighlightRest,n))}needsMultipleCommands(){return this.hasOccludees||this.hasHighlights||this.hasHiddenInstances}}class i extends n{}function a(s){return null!=s.vao}function h(){return new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__["default"]({allocator:s=>s||new _DrawCommand_js__WEBPACK_IMPORTED_MODULE_2__.DrawCommand,deallocator:s=>s})}function o(s,t){const e=s.back();if(null==e){const e=s.pushNew();return e.first=t.from,void(e.count=t.numElements)}if(r(e,t)){const s=t.from-e.first+t.numElements;e.count=s}else{const e=s.pushNew();e.first=t.from,e.count=t.numElements}}function r(s,t){return s.first+s.count>=t.from}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PerOriginData: function() { return /* binding */ s; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s{constructor(s){this.origin=s,this.buffers=new Array}dispose(){this.buffers.forEach((s=>s.vao.dispose())),this.buffers.length=0}findBuffer(s){return this.buffers.find((r=>r.instances.has(s)))}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaterialPassParameters: function() { return /* binding */ g; },
/* harmony export */   ColorMaterialTechnique: function() { return /* binding */ O; }
/* harmony export */ });
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../materials/VisualVariablePassParameters.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js");
/* harmony import */ var _chunks_ColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/ColorMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class g extends _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_7__.VisualVariablePassParameters{constructor(){super(...arguments),this.color=_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.ZEROS}}class O extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__.ShaderTechnique{constructor(e,r,s){super(e,r,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__.ReloadableShaderModule(_chunks_ColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_8__.C,(()=>__webpack_require__.e(/*! import() | ColorMaterial.glsl */ "ColorMaterial.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ./ColorMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterial.glsl.js")))),s)}_createPipeline(e,t){const{oitPass:s,output:f,transparent:d,cullFace:g,draped:O,hasOccludees:T,polygonOffset:_,enableOffset:w}=e,x=s===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.NONE,y=s===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:f===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Color&&d?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blending)(s):null,culling:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.cullingParams)(g),depthTest:O?null:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitDepthTest)(s)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.depthWrite)(e),drawBuffers:f===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.SpecialDrawBuffers.NONE]}:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getDrawBuffers)(s,f),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWrite,stencilWrite:T?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilWriteMaskOn:null,stencilTest:T?t?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilBaseAllZerosParams:null,polygonOffset:x||y?_?S:null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getOITPolygonOffset)(w)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const S={factor:1,units:1};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ColorMaterialTechniqueConfiguration: function() { return /* binding */ a; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class a extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.None,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.COUNT})],a.prototype,"cullFace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasVertexColors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"discardInvisibleFragments",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"polygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"cullAboveTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"objectAndLayerIdColorInstanced",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],a.prototype,"draped",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDMaterialTechnique: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/HUDMaterial.glsl.js */ "./node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class c extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,o,t){super(e,o,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_HUDMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_5__.H,(()=>__webpack_require__.e(/*! import() | HUDMaterial.glsl */ "HUDMaterial.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ./HUDMaterial.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterial.glsl.js")))),t),this.primitiveType=o.occlusionPass?_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.POINTS:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.PrimitiveType.TRIANGLES}initializePipeline(r){const{oitPass:o,hasPolygonOffset:l,draped:n,output:c,depthTestEnabled:f}=r,T=o===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_3__.OITPass.NONE,g=l?h:null,j=o===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_3__.OITPass.ColorAlpha,b=n||!f||j||c===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Highlight?null:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultDepthWrite;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.makePipelineState)({blending:c===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color?T?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.blendWithPremultipliedAlpha:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_4__.oitBlending)(o):null,depthTest:f&&!n?{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_6__.CompareFunction.LEQUAL}:null,depthWrite:b,drawBuffers:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_4__.getDrawBuffers)(o,c),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_7__.defaultColorWrite,polygonOffset:g})}}const h={factor:0,units:-4};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HUDMaterialTechniqueConfiguration: function() { return /* binding */ r; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class r extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__.DefaultTechniqueConfiguration{constructor(e){super(),this.spherical=e,this.screenCenterOffsetUnitsEnabled=!1,this.occlusionTestEnabled=!0,this.signedDistanceFieldEnabled=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.vvSize=!1,this.vvColor=!1,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.hasRotation=!1,this.debugDrawLabelBorder=!1,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.depthTestEnabled=!0,this.pixelSnappingEnabled=!0,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.occlusionPass=!1,this.occludedFragmentFade=!1,this.objectAndLayerIdColorInstanced=!1,this.horizonCullingEnabled=!0,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.discardInvisibleFragments=!0,this.hasSliceInVertexProgram=!0,this.hasVvInstancing=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"screenCenterOffsetUnitsEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"occlusionTestEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"signedDistanceFieldEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"sampleSignedDistanceFieldTexelCenter",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasVerticalOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasScreenSizePerspective",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasRotation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"debugDrawLabelBorder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"hasPolygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"depthTestEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"pixelSnappingEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"draped",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"cullAboveTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"occlusionPass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"occludedFragmentFade",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"objectAndLayerIdColorInstanced",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],r.prototype,"horizonCullingEnabled",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LineMarkerTechnique: function() { return /* binding */ A; },
/* harmony export */   vertexAttributeLocations: function() { return /* binding */ W; }
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/RenderSlot.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_LineMarker_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/LineMarker.glsl.js */ "./node_modules/@arcgis/core/chunks/LineMarker.glsl.js");
/* harmony import */ var _LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LineMarkerTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class A extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,t,r){super(e,t,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_LineMarker_glsl_js__WEBPACK_IMPORTED_MODULE_7__.L,(()=>__webpack_require__.e(/*! import() | LineMarker.glsl */ "LineMarker.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ./LineMarker.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarker.glsl.js")))),r,W)}_makePipelineState(i,t){const{output:o,oitPass:a,space:d,hasOccludees:T}=i;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:o===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.blending)(a):null,depthTest:d===_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__.LineMarkerSpace.Draped?null:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.oitDepthTest)(a)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.depthWrite)(i),drawBuffers:o===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.SpecialDrawBuffers.NONE]}:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__.getDrawBuffers)(a,o),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWrite,stencilWrite:T?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOn:null,stencilTest:T?t?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilBaseAllZerosParams:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.premultipliedAlphaToPremultipliedAlpha,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareAlways,depthWrite:null,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWrite,stencilWrite:null,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolTransparentOccluderParams}),this._occluderPipelineOpaque=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.premultipliedAlphaToPremultipliedAlpha,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareAlways,depthWrite:null,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWrite,stencilWrite:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOff,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskOccluderParams}),this._occluderPipelineMaskWrite=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:null,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.depthCompareLess,depthWrite:null,colorWrite:null,stencilWrite:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilWriteMaskOn,stencilTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_5__.stencilToolMaskBaseParams})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,i){return e?this._occludeePipelineState:i===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_4__.RenderSlot.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent??super.getPipeline():i===_lib_RenderSlot_js__WEBPACK_IMPORTED_MODULE_4__.RenderSlot.OCCLUDER_MATERIAL?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}const W=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.PREVPOSITION,1],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.UV0,2],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.NORMAL,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.COLOR,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.COLORFEATUREATTRIBUTE,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.SIZE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.SIZEFEATUREATTRIBUTE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__.VertexAttribute.OPACITYFEATUREATTRIBUTE,6]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechnique.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NativeLineTechnique: function() { return /* binding */ d; }
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _chunks_NativeLine_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/NativeLine.glsl.js */ "./node_modules/@arcgis/core/chunks/NativeLine.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class d extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,r,t){super(e,r,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_NativeLine_glsl_js__WEBPACK_IMPORTED_MODULE_4__.N,(()=>__webpack_require__.e(/*! import() | NativeLine.glsl */ "NativeLine.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ./NativeLine.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLine.glsl.js")))),t),this.primitiveType=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_5__.PrimitiveType.LINES}initializePipeline(i){const{hasOccludees:r,output:o,transparent:u}=i,d=(e,i=null,o=null)=>(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.makePipelineState)({blending:i,depthTest:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_3__.depthCompareLess,depthWrite:o,colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultColorWrite,stencilWrite:r?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_3__.stencilWriteMaskOn:null,stencilTest:r?e?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_3__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_3__.stencilBaseAllZerosParams:null});return o===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color?(this._occludeePipeline=d(!0,u?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.premultipliedAlphaToPremultipliedAlpha:null,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultDepthWrite),d(!1,u?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.premultipliedAlphaToPremultipliedAlpha:null,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__.defaultDepthWrite)):d(!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/NativeLineTechniqueConfiguration.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NativeLineTechniqueConfiguration: function() { return /* binding */ t; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.hasOccludees=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],t.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],t.prototype,"hasVertexColors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],t.prototype,"transparent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__.parameter)()],t.prototype,"hasOccludees",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayCompositingTechnique: function() { return /* binding */ s; }
/* harmony export */ });
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/OverlayCompositing.glsl.js */ "./node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class s extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_1__.ShaderTechnique{constructor(r,s,a){super(r,s,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_0__.ReloadableShaderModule(_chunks_OverlayCompositing_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,(()=>__webpack_require__.e(/*! import() | OverlayCompositing.glsl */ "OverlayCompositing.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ./OverlayCompositing.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositing.glsl.js")))),a)}}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PatternTechnique.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PatternTechnique: function() { return /* binding */ E; },
/* harmony export */   vertexAttributeLocations: function() { return /* binding */ R; },
/* harmony export */   vertexAttributeLocationsOID: function() { return /* binding */ b; }
/* harmony export */ });
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/ShaderOutput.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js");
/* harmony import */ var _effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../effects/geometry/olidUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/effects/geometry/olidUtils.js");
/* harmony import */ var _lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/OITPass.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OITPass.js");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js");
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/VertexAttribute.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");
/* harmony import */ var _chunks_Pattern_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../chunks/Pattern.glsl.js */ "./node_modules/@arcgis/core/chunks/Pattern.glsl.js");
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../webgl/enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "./node_modules/@arcgis/core/views/webgl/renderState.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class E extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__.ShaderTechnique{constructor(e,r,s){super(e,r,new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__.ReloadableShaderModule(_chunks_Pattern_glsl_js__WEBPACK_IMPORTED_MODULE_8__.P,(()=>__webpack_require__.e(/*! import() | Pattern.glsl */ "Pattern.glsl").then(__webpack_require__.bind(__webpack_require__, /*! ./Pattern.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/Pattern.glsl.js")))),s,(0,_effects_geometry_olidUtils_js__WEBPACK_IMPORTED_MODULE_3__.olidEnabled)()?b:R)}_setPipelineState(t,r){const{oitPass:i,output:f,cullFace:m,draped:E,hasOccludees:R,polygonOffset:b,enableOffset:j}=t,g=i===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.NONE,A=i===_lib_OITPass_js__WEBPACK_IMPORTED_MODULE_4__.OITPass.FrontFace;return (0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.makePipelineState)({blending:f===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Color?(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.blending)(i):null,culling:(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.cullingParams)(m),depthTest:E?null:{func:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.oitDepthTest)(i)},depthWrite:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.depthWrite)(t),drawBuffers:f===_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__.ShaderOutput.Depth?{buffers:[_webgl_enums_js__WEBPACK_IMPORTED_MODULE_9__.SpecialDrawBuffers.NONE]}:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getDrawBuffers)(i,f),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_10__.defaultColorWrite,stencilWrite:R?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilWriteMaskOn:null,stencilTest:R?r?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilToolMaskBaseParams:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_6__.stencilBaseAllZerosParams:null,polygonOffset:g||A?b?S:null:(0,_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_5__.getOITPolygonOffset)(j)})}initializePipeline(e){return this._occludeePipelineState=this._setPipelineState(e,!0),this._setPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const S={factor:1,units:1},R=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLOR,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UVMAPSPACE,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLORFEATUREATTRIBUTE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.BOUNDINGRECT,6]]),b=new Map([[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.POSITION,0],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLOR,3],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.UVMAPSPACE,4],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.COLORFEATUREATTRIBUTE,5],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.BOUNDINGRECT,6],[_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.VertexAttribute.OBJECTANDLAYERIDCOLOR,9]]);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PatternTechniqueConfiguration.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PatternTechniqueConfiguration.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PatternTechniqueConfiguration: function() { return /* binding */ n; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js");
/* harmony import */ var _core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/output/Emissions.glsl.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/Emissions.glsl.js");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js");
/* harmony import */ var _lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/basicInterfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js");
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../materials/DefaultTechniqueConfiguration.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js");
/* harmony import */ var _materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../materials/PatternStyle.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/materials/PatternStyle.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class n extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__.DefaultTechniqueConfiguration{constructor(){super(...arguments),this.cullFace=_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.None,this.style=_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_6__.Style.Horizontal,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasOccludees=!1,this.enableOffset=!0,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=_core_shaderLibrary_attributes_TextureCoordinateAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_1__.TextureCoordinateType.None,this.emissionSource=_core_shaderLibrary_output_Emissions_glsl_js__WEBPACK_IMPORTED_MODULE_2__.EmissionSource.None,this.discardInvisibleFragments=!0,this.writeDepth=!0,this.occlusionPass=!1,this.hasVvInstancing=!1,this.vvSize=!1,this.vvOpacity=!1,this.objectAndLayerIdColorInstanced=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_4__.CullFaceOptions.COUNT})],n.prototype,"cullFace",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)({count:_materials_PatternStyle_js__WEBPACK_IMPORTED_MODULE_6__.Style.COUNT})],n.prototype,"style",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"hasVertexColors",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"polygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"enableOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"terrainDepthTest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"cullAboveTerrain",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__.parameter)()],n.prototype,"draped",void 0);


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ToneMapping.glsl.js ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ToneMapping: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderModules/interfaces.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
function o(o){o.code.add((0,_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.glsl)`vec3 tonemapACES(vec3 x) {
return clamp((x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14), 0.0, 1.0);
}`)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js":
/*!******************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl/RenderCamera.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": function() { return /* binding */ it; }
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../chunks/tslib.es6.js */ "./node_modules/@arcgis/core/chunks/tslib.es6.js");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Accessor.js */ "./node_modules/@arcgis/core/core/Accessor.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "./node_modules/@arcgis/core/core/mathUtils.js");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "./node_modules/@arcgis/core/core/screenUtils.js");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/property.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/RandomLCG.js */ "./node_modules/@arcgis/core/core/RandomLCG.js");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/accessorSupport/decorators/subclass.js */ "./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/mat4.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/mat4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js");
/* harmony import */ var _core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/math/vec2.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/vec2.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec2f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec2f64.js");
/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec32.js */ "./node_modules/@arcgis/core/chunks/vec32.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec3f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/vec42.js */ "./node_modules/@arcgis/core/chunks/vec42.js");
/* harmony import */ var _core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/libs/gl-matrix-2/factories/vec4f64.js */ "./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/support/frustum.js */ "./node_modules/@arcgis/core/geometry/support/frustum.js");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ "./node_modules/@arcgis/core/geometry/support/ray.js");
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/vector.js */ "./node_modules/@arcgis/core/geometry/support/vector.js");
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../ViewingMode.js */ "./node_modules/@arcgis/core/views/ViewingMode.js");
/* harmony import */ var _webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../webgl-engine/lib/fov.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js");
/* harmony import */ var _webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../webgl-engine/lib/rendererUtils.js */ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
var $;let tt=$=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(t){super(t),this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_18__.create)(),this._viewport=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.fromValues)(0,0,1,1),this._padding=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.fromValues)(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=(0,_core_libs_gl_matrix_2_factories_vec2f64_js__WEBPACK_IMPORTED_MODULE_12__.fromValues)(1,1e3),this._viewDirty=!0,this._viewMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this._frustumDirty=!0,this._frustum=(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__.create)(),this._fullViewport=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),this._pixelRatio=1,this.row=0,this.column=0,this._rows=1,this._columns=1,this._center=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this._up=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this.relativeElevation=0}get pixelRatio(){return this._pixelRatio}set pixelRatio(t){this._pixelRatio=t>0?t:1}get rows(){return this._rows}set rows(t){this._rows=Math.max(1,t)}get columns(){return this._columns}set columns(t){this._columns=Math.max(1,t)}get eye(){return this._ray.origin}set eye(t){this._compareAndSetView(t,this._ray.origin)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center,"_center")}get ray(){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.d)(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up,"_up")}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.copy)(this._viewMatrix,t),this.notifyChange("_viewMatrix"),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10])}get viewUp(){return this._ensureViewClean(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9])}get viewRight(){return this._ensureViewClean(),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)((0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8])}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_nearFar"))}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_nearFar"))}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get screenViewport(){if(1===this.pixelRatio)return this._viewport;const t=(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.d)((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),this._viewport,1/this.pixelRatio),i=this._get("screenViewport");return i&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.e)(t,i)?i:t}get screenPadding(){if(1===this.pixelRatio)return this._padding;const t=(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.d)((0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),this._padding,1/this.pixelRatio),i=this._get("screenPadding");return i&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.e)(t,i)?i:t}get x(){return this._viewport[0]}set x(t){t+=this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT],this._viewport[0]!==t&&(this._viewport[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get y(){return this._viewport[1]}set y(t){t+=this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM],this._viewport[1]!==t&&(this._viewport[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get fullWidth(){return this._viewport[2]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]}set fullWidth(t){this.width=t-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT])}get fullHeight(){return this._viewport[3]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]}set fullHeight(t){this.height=t-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT],this._fullViewport[1]=this._viewport[1]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get _aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(this._padding,t)||(this._viewport[0]+=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT],this._viewport[1]+=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]-this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM],this._viewport[2]-=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]),this._viewport[3]-=t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+t[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]-(this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._padding,t),this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_padding"),this.notifyChange("_viewport"))}get viewProjectionMatrix(){return this._viewProjectionDirty&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.multiply)(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){return this._projectionMatrixInternal}get inverseProjectionMatrix(){return (0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.invert)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),this.projectionMatrix)||this._get("inverseProjectionMatrix")||(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)()}get fov(){return this._fov}set fov(t){this._fov=t,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return (0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovd2fovx)(this._fov,this.width,this.height)}set fovX(t){this._fov=(0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovx2fovd)(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return (0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovd2fovy)(this._fov,this.width,this.height)}set fovY(t){this._fov=(0,_webgl_engine_lib_fov_js__WEBPACK_IMPORTED_MODULE_21__.fovy2fovd)(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.j)(this.center,this.eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.invert)(this._viewInverseTransposeMatrix,this.viewMatrix),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.transpose)(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return null!=this.relativeElevation&&this.relativeElevation>=0}get _projectionMatrixInternal(){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2)*2,r=e*this._aspect,s=e/this.rows,o=r/this.columns,n=-r/2+this.column*o,h=n+o,a=-e/2+this.row*s,p=a+s,u=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.frustum)((0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),n*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]/t),h*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.RIGHT]/t),a*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]/i),p*(1+2*this._padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]/i),this.near,this.far),l=this._get("projectionMatrix");return l&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.equals)(l,u)?l:u}copyFrom(t){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(this._ray.origin,t.eye),this.center=t.center,this.up=t.up,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._viewport,t.viewport),this.notifyChange("_viewport"),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._padding,t.padding),this.notifyChange("_padding"),(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_11__.copy)(this._nearFar,t.nearFar),this.notifyChange("_nearFar"),this._fov=t.fov,this.row=t.row,this.column=t.column,this.rows=t.rows,this.columns=t.columns,this.relativeElevation=t.relativeElevation;const i=t;return this._viewDirty=i._viewDirty,this._viewDirty||((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.copy)(this._viewMatrix,t.viewMatrix),this.notifyChange("_viewMatrix")),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||((0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__.copy)(this._frustum,t.frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.copy)(this._viewInverseTransposeMatrix,t.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.c)(this._fullViewport,t.fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up,this.fov=t.fov}clone(){return(new $).copyFrom(this)}equals(t){return (0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(this.eye,t.eye)&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(this.center,t.center)&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(this.up,t.up)&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(this._viewport,t.viewport)&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(this._padding,t.padding)&&(0,_core_libs_gl_matrix_2_math_vec2_js__WEBPACK_IMPORTED_MODULE_11__.exactEquals)(this.nearFar,t.nearFar)&&this._fov===t.fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation&&this.row===t.row&&this.column===t.column&&this.rows===t.rows&&this.columns===t.columns}almostEquals(t){const i=Math.max(1,1/this.pixelRatio,1/t.pixelRatio);if(Math.abs(t.fov-this._fov)>=.001||(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.f)(t.screenPadding,this.screenPadding)>=i||(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.f)(this.screenViewport,t.screenViewport)>=i||this.row!==t.row||this.column!==t.column||this.rows!==t.rows||this.columns!==t.columns)return!1;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(st,t.eye,t.center),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.a)(ot,this.eye,this.center);const e=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(st,ot),r=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.z)(st),s=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.z)(ot),o=5e-4;return e*e>=(1-1e-10)*r*s&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.y)(t.eye,this.eye)<Math.max(r,s)*o*o}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this._viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this._viewDirectionDistance(t))}_viewDirectionDistance(t){return Math.abs((0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_19__.projectPointSignedLength)(this.viewForward,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.d)(st,t,this.eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createScreenPointArray)()){return t[0]=(this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]+this.width/2)/this.pixelRatio,t[1]=(this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.TOP]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t[0]=this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.LEFT]+this.width*i,t[1]=this.padding[_webgl_engine_lib_rendererUtils_js__WEBPACK_IMPORTED_MODULE_22__.PaddingSide.BOTTOM]+this.height*e,t[2]=.5,t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,i){t!==et&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(et,t),et[3]=1,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,this.projectionMatrix);const e=Math.abs(et[3]);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.h)(et,et,1/e);const s=this.fullViewport;i[0]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[0]+s[2],.5+.5*et[0]),i[1]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[1]+s[3],.5+.5*et[1]),i[2]=.5*(et[2]+1),i[3]=e}unapplyProjection(t,i){const e=this.fullViewport;et[0]=(t[0]/(e[0]+e[2])*2-1)*t[3],et[1]=(t[1]/(e[1]+e[3])*2-1)*t[3],et[2]=(2*t[2]-1)*t[3],et[3]=t[3],null!=this.inverseProjectionMatrix&&((0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,this.inverseProjectionMatrix),i[0]=et[0],i[1]=et[1],i[2]=et[2])}projectToScreen(t,i){return this.projectToRenderScreen(t,nt),this.renderToScreen(nt,i),i}projectToRenderScreen(t,i){if(et[0]=t[0],et[1]=t[1],et[2]=t[2],et[3]=1,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,this.viewProjectionMatrix),0===et[3])return null;const e=et;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.h)(e,e,1/Math.abs(et[3]));const s=this.fullViewport,o=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[0]+s[2],.5+.5*e[0]),n=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(0,s[1]+s[3],.5+.5*e[1]);return"x"in i?(i.x=o,i.y=n):(i[0]=o,i[1]=n,i.length>2&&(i[2]=.5*(e[2]+1))),i}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,nt),i)}unprojectFromRenderScreen(t,i){if((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.multiply)(rt,this.projectionMatrix,this.viewMatrix),!(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.invert)(rt,rt))return null;const e=this.fullViewport;return et[0]=2*(t[0]-e[0])/e[2]-1,et[1]=2*(t[1]-e[1])/e[3]-1,et[2]=2*t[2]-1,et[3]=1,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(et,et,rt),0===et[3]?null:(i[0]=et[0]/et[3],i[1]=et[1]/et[3],i[2]=et[2]/et[3],i)}constrainWindowSize(t,i,e,r){const s=t*this.pixelRatio,o=i*this.pixelRatio,n=Math.max(s-e/2,0),h=Math.max(this.fullHeight-o-r/2,0),a=-Math.min(s-e/2,0),p=-Math.min(this.fullHeight-o-r/2,0),u=e-a- -Math.min(this.fullWidth-s-e/2,0),l=r-p- -Math.min(o-r/2,0);return[Math.round(n),Math.round(h),Math.round(u),Math.round(l)]}computeUp(t){t===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_20__.ViewingMode.Global?this._computeUpGlobal():this._computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;i[0]=e,i[1]=r}_computeUpGlobal(){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.d)(st,this.center,this.eye);const t=(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(this.center);t<1?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(this._up,0,0,1),this._markViewDirty(),this.notifyChange("_up")):Math.abs((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.f)(st,this.center))>.9999*(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.l)(st)*t||((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(this._up,st,this.center),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.e)(this._up,this._up,st),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())}_computeUpLocal(){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.o)(st,this.eye,this.center),Math.abs(st[2])<=.9999&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.h)(st,st,st[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.i)(this._up,-st[0],-st[1],1-st[2]),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.n)(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())}_compareAndSetView(t,i,r=""){"number"==typeof t[0]&&isFinite(t[0])&&"number"==typeof t[1]&&isFinite(t[1])&&"number"==typeof t[2]&&isFinite(t[2])?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.p)(t,i)||((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_13__.c)(i,t),this._markViewDirty(),r.length&&this.notifyChange(r)):_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.3d.webgl-engine.lib.RenderCamera").warn("RenderCamera vector contains invalid number, ignoring value")}_markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}_recomputeFrustum(){this._frustumDirty&&((0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_17__.fromMatrix)(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&((0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_9__.lookAt)(this._viewMatrix,this.eye,this.center,this.up),this.notifyChange("_viewMatrix"),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_viewport",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_padding",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_fov",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_nearFar",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_viewDirty",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_viewMatrix",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_pixelRatio",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"pixelRatio",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"row",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"column",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"rows",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_columns",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"columns",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"eye",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"center",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_center",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"up",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"_up",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"viewMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"viewForward",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"viewUp",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"viewRight",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"nearFar",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"near",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"far",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"viewport",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"screenViewport",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"screenPadding",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"x",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"y",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"width",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"height",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fullWidth",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fullHeight",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"_aspect",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"padding",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"projectionMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"inverseProjectionMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fov",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fovX",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"fovY",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"viewInverseTransposeMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],tt.prototype,"_projectionMatrixInternal",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)()],tt.prototype,"relativeElevation",void 0),tt=$=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)("esri.views.3d.webgl.RenderCamera")],tt);const it=tt,et=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_16__.create)(),rt=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__.create)(),st=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),ot=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__.create)(),nt=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_4__.createRenderScreenPointArray3)();


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/BufferObject.js":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/BufferObject.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BufferObject: function() { return /* binding */ E; },
/* harmony export */   tracer: function() { return /* binding */ c; }
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/arrayUtils.js */ "./node_modules/@arcgis/core/core/arrayUtils.js");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/has.js */ "./node_modules/@arcgis/core/core/has.js");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./checkWebGLError.js */ "./node_modules/@arcgis/core/views/webgl/checkWebGLError.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const h=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.webgl.BufferObject"),c=null;class E{static createIndex(t,e,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER,e,i)}static createVertex(t,e,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ARRAY_BUFFER,e,i)}static createUniform(t,e,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.UNIFORM_BUFFER,e,i)}static createPixelPack(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STREAM_READ,i){const s=new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.PIXEL_PACK_BUFFER,e);return i&&s.setSize(i),s}static createPixelUnpack(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STREAM_DRAW,i){return new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.PIXEL_UNPACK_BUFFER,e,i)}static createTransformFeedback(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__.Usage.STATIC_DRAW,i){const s=new E(t,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER,e);return s.setSize(i),s}constructor(t,e,i,s){this._context=t,this.bufferType=e,this.usage=i,this._glName=null,this._size=-1,this._indexType=void 0,t.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_5__.ResourceType.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(this._context.gl),s&&this.setData(s)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get usedMemory(){if(this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER){if(this._indexType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT)return 4*this._size;if(this._indexType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT)return 2*this._size}return this._size}get _isVAOAware(){return this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER||this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_5__.ResourceType.BufferObject,this),this._context=null}else this._glName&&h().warn("Leaked WebGL buffer object")}setSize(t,e=null){if(this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER&&null!=e)switch(this._indexType=e,e){case _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT:t*=2;break;case _enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT:t*=4}this._setBufferData(t)}setData(t){if(!t)return;let e=t.byteLength;this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.ELEMENT_ARRAY_BUFFER&&((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isUint8Array)(t)?this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_BYTE:(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isUint16Array)(t)?(e/=2,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_SHORT):(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_3__.isUint32Array)(t)&&(e/=4,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__.DataType.UNSIGNED_INT)),this._setBufferData(e,t)}_setBufferData(t,e=null){this._size=t;const i=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const s=this._context.gl;null!=e?s.bufferData(this.bufferType,e,this.usage):s.bufferData(this.bufferType,t,this.usage),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(s),this._isVAOAware&&this._context.bindVAO(i)}setSubData(t,e,i,s){if(!t)return;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const{gl:_}=this._context;_.bufferSubData(this.bufferType,e*t.BYTES_PER_ELEMENT,t,i,s-i),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_4__.checkWebGLError)(_),this._isVAOAware&&this._context.bindVAO(r)}getSubData(t,e=0,i,s){if(i<0||s<0)return;const r=o(t)?t.BYTES_PER_ELEMENT:1;if(r*((i??0)+(s??0))>t.byteLength)return;e+r*(s??0)>this.usedMemory&&h().warn("Potential problem getting subdata: requested data exceeds buffer size!");const n=this._context.gl;this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER?(this._context.bindBuffer(this,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER),n.getBufferSubData(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER,e,t,i,s),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.TRANSFORM_FEEDBACK_BUFFER)):(this._context.bindBuffer(this,_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER),n.getBufferSubData(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER,e,t,i,s),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__.BufferType.COPY_READ_BUFFER))}async getSubDataAsync(t,e=0,i,s){await this._context.clientWaitAsync(),this.getSubData(t,e,i,s)}}function o(e){return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.isArrayLike)(e)}


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js":
/*!********************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/VertexArrayObject.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexArrayObject: function() { return /* binding */ o; }
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/Logger.js */ "./node_modules/@arcgis/core/core/Logger.js");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ "./node_modules/@arcgis/core/core/maybe.js");
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/typedArrayUtil.js */ "./node_modules/@arcgis/core/core/typedArrayUtil.js");
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums.js */ "./node_modules/@arcgis/core/views/webgl/enums.js");
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Util.js */ "./node_modules/@arcgis/core/views/webgl/Util.js");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
const n=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.webgl.VertexArrayObject");let o=class{constructor(e,t,i,r,s=null){this._context=e,this._locations=t,this._layout=i,this._buffers=r,this._indexBuffer=s,this._glName=null,this._initialized=!1}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Array.from(this._buffers.values()).reduce(((e,t)=>e+t.usedMemory),null!=this._indexBuffer?this._indexBuffer.usedMemory:0)}get layout(){return this._layout}get locations(){return this._locations}get usedMemory(){return this.byteSize+(Object.keys(this._buffers).length+(this._indexBuffer?1:0))*_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__.typedArrayStaticSize}dispose(){this._context?(this._context.getBoundVAO()===this&&this._context.bindVAO(null),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this._indexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.disposeMaybe)(this._indexBuffer),this.disposeVAOOnly()):(this._glName||Object.getOwnPropertyNames(this._buffers).length>0)&&n().warn("Leaked WebGL VAO")}disposeVAOOnly(){this._glName&&(this._context.gl.deleteVertexArray(this._glName),this._glName=null,this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.VertexArrayObject,this)),this._context=null}initialize(){if(this._initialized)return;const{gl:e}=this._context,t=e.createVertexArray();e.bindVertexArray(t),this._bindLayout(),e.bindVertexArray(null),this._glName=t,this._context.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_3__.ResourceType.VertexArrayObject,this),this._initialized=!0}bind(){this.initialize(),this._context.gl.bindVertexArray(this.glName)}_bindLayout(){const{_buffers:e,_layout:t,_indexBuffer:i}=this;e||n().error("Vertex buffer dictionary is empty!");const r=this._context.gl;this._buffers.forEach(((e,i)=>{const r=t.get(i);r?(0,_Util_js__WEBPACK_IMPORTED_MODULE_4__.bindVertexBufferLayout)(this._context,this._locations,e,r):n().error("Vertex element descriptor is empty!")})),null!=i&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.glName)}unbind(){this.initialize(),this._context.gl.bindVertexArray(null)}};


/***/ }),

/***/ "./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VertexElementDescriptor: function() { return /* binding */ t; }
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,h,o,e=!1,r=0){this.name=t,this.count=s,this.type=i,this.offset=h,this.stride=o,this.normalized=e,this.divisor=r}}


/***/ })

}]);
//# sourceMappingURL=Graphics3DSymbolLayerFactory.js.map