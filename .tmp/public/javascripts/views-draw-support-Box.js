/*! For license information please see views-draw-support-Box.js.LICENSE.txt */
(self.webpackChunkdefra=self.webpackChunkdefra||[]).push([[4292,4874,6314,8852],{54140:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=54140,e.exports=t},54038:function(e,t,i){"use strict";i.d(t,{i:function(){return n}});var r=i(3102);const n=()=>r.L2.isBrowser&&"undefined"!=typeof navigator&&"undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document},67646:function(e,t,i){"use strict";i.d(t,{f:function(){return s},s:function(){return c}});var r=i(3102);const n=globalThis.calciteConfig,s=n?.focusTrapStack||[],o=(r.L2.isTesting&&r.L2.isBrowser,"2.13.2"),a="2024-10-24",l="e38e2977d";function c(){if(n&&n.version)return;console.info(`Using Calcite Components ${o} [Date: ${a}, Revision: ${l}]`);const e=n||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:o,writable:!1}),globalThis.calciteConfig=e}},96367:function(e,t,i){"use strict";i.d(t,{C:function(){return s},D:function(){return o},a:function(){return r},d:function(){return n}});const r="calcite-mode-auto",n="calcite-mode-dark",s={autoMode:r,darkMode:n,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},o={filter:250,nextTick:0,resize:150,reposition:100}},3102:function(e,t,i){"use strict";i.d(t,{L2:function(){return o},FK:function(){return Lt},wt:function(){return S},xr:function(){return re},lh:function(){return ue},$x:function(){return tt},OX:function(){return P},h:function(){return te},w$:function(){return Mt},gv:function(){return U},Qu:function(){return z}});var r={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},n="app",s=Object.defineProperty,o={isDev:!!r.isDev,isBrowser:!0,isServer:!1,isTesting:!!r.isTesting},a=r.hotModuleReplacement?window.__STENCIL_HOSTREFS__||(window.__STENCIL_HOSTREFS__=new WeakMap):new WeakMap,l=e=>a.get(e),c=(e,t)=>t in e,d=(e,t)=>(0,console.error)(e,t),u=r.isTesting?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],p=(...e)=>console.error(...u,...e),h=(...e)=>console.warn(...u,...e),f=new Map,m=new Map,g=[],y="s-id",v="sty-id",b="c-id",w="http://www.w3.org/1999/xlink",_=["formAssociatedCallback","formResetCallback","formDisabledCallback","formStateRestoreCallback"],$="undefined"!=typeof window?window:{},x=$.document||{head:{}},S=$.HTMLElement||class{},k={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,r)=>e.addEventListener(t,i,r),rel:(e,t,i,r)=>e.removeEventListener(t,i,r),ce:(e,t)=>new CustomEvent(e,t)},M=r.shadowDom,L=(()=>{let e=!1;try{x.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(e){}return e})(),T=!!r.constructableCSS&&(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),A=0,I=!1,C=[],O=[],G=[],R=(e,t)=>i=>{e.push(i),I||(I=!0,t&&4&k.$flags$?Z(E):k.raf(E))},N=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){d(e)}e.length=0},D=(e,t)=>{let i=0,r=0;for(;i<e.length&&(r=performance.now())<t;)try{e[i++](r)}catch(e){d(e)}i===e.length?e.length=0:0!==i&&e.splice(0,i)},E=()=>{if(r.asyncQueue&&A++,N(C),r.asyncQueue){const e=2==(6&k.$flags$)?performance.now()+14*Math.ceil(.1*A):1/0;D(O,e),D(G,e),O.length>0&&(G.push(...O),O.length=0),(I=C.length+O.length+G.length>0)?k.raf(E):A=0}else N(O),(I=C.length>0)&&k.raf(E)},Z=e=>Promise.resolve(void 0).then(e),U=R(C,!1),j=R(O,!0),P=e=>{const t=new URL(e,k.$resourcesUrl$);return t.origin!==$.location.origin?t.href:t.pathname},z=e=>k.$resourcesUrl$=e,H={},F=e=>"object"==(e=typeof e)||"function"===e;((e,t)=>{for(var i in t)s(e,i,{get:t[i],enumerable:!0})})({},{err:()=>B,map:()=>K,ok:()=>V,unwrap:()=>Y,unwrapErr:()=>X});var V=e=>({isOk:!0,isErr:!1,value:e}),B=e=>({isOk:!1,isErr:!0,value:e});function K(e,t){if(e.isOk){const i=t(e.value);return i instanceof Promise?i.then((e=>V(e))):V(i)}if(e.isErr){const t=e.value;return B(t)}throw"should never get here"}var W,q,J,Y=e=>{if(e.isOk)return e.value;throw e.value},X=e=>{if(e.isErr)return e.value;throw e.value},Q=0,ee=(e,t="")=>{if(r.profile&&performance.mark){const i=`st:${e}:${t}:${Q++}`;return performance.mark(i),()=>performance.measure(`[Stencil] ${e}() <${t}>`,i)}return()=>{}},te=(e,t,...i)=>{let n=null,s=null,o=null,a=!1,l=!1;const c=[],d=t=>{for(let i=0;i<t.length;i++)n=t[i],Array.isArray(n)?d(n):null!=n&&"boolean"!=typeof n&&((a="function"!=typeof e&&!F(n))?n=String(n):r.isDev&&"function"!=typeof e&&void 0===n.$flags$&&p("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),a&&l?c[c.length-1].$text$+=n:c.push(a?ie(null,n):n),l=a)};if(d(i),t&&(r.isDev&&"input"===e&&le(t),r.vdomKey&&t.key&&(s=t.key),r.slotRelocation&&t.name&&(o=t.name),r.vdomClass)){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}if(r.isDev&&c.some(ne)&&p("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),r.vdomFunctional&&"function"==typeof e)return e(null===t?{}:t,c,se);const u=ie(e,null);return u.$attrs$=t,c.length>0&&(u.$children$=c),r.vdomKey&&(u.$key$=s),r.slotRelocation&&(u.$name$=o),u},ie=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return r.vdomAttribute&&(i.$attrs$=null),r.vdomKey&&(i.$key$=null),r.slotRelocation&&(i.$name$=null),i},re={},ne=e=>e&&e.$tag$===re,se={forEach:(e,t)=>e.map(oe).forEach(t),map:(e,t)=>e.map(oe).map(t).map(ae)},oe=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),ae=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),te(e.vtag,t,...e.vchildren||[])}const t=ie(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},le=e=>{const t=Object.keys(e),i=t.indexOf("value");if(-1===i)return;const r=t.indexOf("type"),n=t.indexOf("min"),s=t.indexOf("max"),o=t.indexOf("step");(i<r||i<n||i<s||i<o)&&h('The "value" prop of <input> should be set after "min", "max", "type" and "step"')},ce=(e,t,i,n,s,o,a)=>{let l,c,d,u;if(1===o.nodeType){if(l=o.getAttribute(b),l&&(c=l.split("."),c[0]!==a&&"0"!==c[0]||(d={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(d),o.removeAttribute(b),e.$children$||(e.$children$=[]),e.$children$[d.$index$]=d,e=d,n&&"0"===d.$depth$&&(n[d.$index$]=d.$elm$))),o.shadowRoot)for(u=o.shadowRoot.childNodes.length-1;u>=0;u--)ce(e,t,i,n,s,o.shadowRoot.childNodes[u],a);for(u=o.childNodes.length-1;u>=0;u--)ce(e,t,i,n,s,o.childNodes[u],a)}else if(8===o.nodeType)c=o.nodeValue.split("."),c[1]!==a&&"0"!==c[1]||(l=c[0],d={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===l?(d.$elm$=o.nextSibling,d.$elm$&&3===d.$elm$.nodeType&&(d.$text$=d.$elm$.textContent,t.push(d),o.remove(),e.$children$||(e.$children$=[]),e.$children$[d.$index$]=d,n&&"0"===d.$depth$&&(n[d.$index$]=d.$elm$))):d.$hostId$===a&&("s"===l?(d.$tag$="slot",c[5]?o["s-sn"]=d.$name$=c[5]:o["s-sn"]="",o["s-sr"]=!0,r.shadowDom&&n&&(d.$elm$=x.createElement(d.$tag$),d.$name$&&d.$elm$.setAttribute("name",d.$name$),o.parentNode.insertBefore(d.$elm$,o),o.remove(),"0"===d.$depth$&&(n[d.$index$]=d.$elm$)),i.push(d),e.$children$||(e.$children$=[]),e.$children$[d.$index$]=d):"r"===l&&(r.shadowDom&&n?o.remove():r.slotRelocation&&(s["s-cr"]=o,o["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=ie(null,o.textContent);t.$elm$=o,t.$index$="0",e.$children$=[t]}},de=(e,t)=>{if(1===e.nodeType){let i=0;if(e.shadowRoot)for(;i<e.shadowRoot.childNodes.length;i++)de(e.shadowRoot.childNodes[i],t);for(i=0;i<e.childNodes.length;i++)de(e.childNodes[i],t)}else if(8===e.nodeType){const i=e.nodeValue.split(".");"o"===i[0]&&(t.set(i[1]+"."+i[2],e),e.nodeValue="",e["s-en"]=i[3])}},ue=(e,t,i)=>{const n=(e=>r.lazyLoad?l(e).$hostElement$:e)(e);return{emit:e=>(r.isDev&&!n.isConnected&&h(`The "${t}" event was emitted, but the dispatcher node is no longer connected to the dom.`),pe(n,t,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:e}))}},pe=(e,t,i)=>{const r=k.ce(t,i);return e.dispatchEvent(r),r},he=new WeakMap,fe=(e,t,i)=>{var n;const s=me(t,i),o=m.get(s);if(!r.attachStyles)return s;if(e=11===e.nodeType?e:x,o)if("string"==typeof o){e=e.head||e;let i,a=he.get(e);if(a||he.set(e,a=new Set),!a.has(s)){if(r.hydrateClientSide&&e.host&&(i=e.querySelector(`[${v}="${s}"]`)))i.innerHTML=o;else{i=x.createElement("style"),i.innerHTML=o;const a=null!=(n=k.$nonce$)?n:function(e){var t,i,r;return null!=(r=null==(i=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:i.getAttribute("content"))?r:void 0}(x);null!=a&&i.setAttribute("nonce",a),(r.hydrateServerSide||r.hotModuleReplacement)&&2&t.$flags$&&i.setAttribute(v,s),(!(1&t.$flags$)||1&t.$flags$&&"HEAD"!==e.nodeName)&&e.insertBefore(i,e.querySelector("link"))}4&t.$flags$&&(i.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}"),a&&a.add(s)}}else r.constructableCSS&&!e.adoptedStyleSheets.includes(o)&&(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return s},me=(e,t)=>"sc-"+(r.mode&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),ge=(e,t,i,n,s,o)=>{if(i!==n){let a=c(e,t),l=t.toLowerCase();if(r.vdomClass&&"class"===t){const t=e.classList,r=ve(i),s=ve(n);t.remove(...r.filter((e=>e&&!s.includes(e)))),t.add(...s.filter((e=>e&&!r.includes(e))))}else if(r.vdomStyle&&"style"===t){if(r.updatable)for(const t in i)n&&null!=n[t]||(!r.hydrateServerSide&&t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in n)i&&n[t]===i[t]||(!r.hydrateServerSide&&t.includes("-")?e.style.setProperty(t,n[t]):e.style[t]=n[t])}else if(r.vdomKey&&"key"===t);else if(r.vdomRef&&"ref"===t)n&&n(e);else if(!r.vdomListener||(r.lazyLoad?a:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(r.vdomPropOrAttr){const c=F(n);if((a||c&&null!==n)&&!s)try{if(e.tagName.includes("-"))e[t]=n;else{const r=null==n?"":n;"list"===t?a=!1:null!=i&&e[t]==r||(e[t]=r)}}catch(e){}let d=!1;r.vdomXlink&&l!==(l=l.replace(/^xlink\:?/,""))&&(t=l,d=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(r.vdomXlink&&d?e.removeAttributeNS(w,t):e.removeAttribute(t)):(!a||4&o||s)&&!c&&(n=!0===n?"":n,r.vdomXlink&&d?e.setAttributeNS(w,t,n):e.setAttribute(t,n))}}else if(t="-"===t[2]?t.slice(3):c($,l)?l.slice(2):l[2]+t.slice(3),i||n){const r=t.endsWith(be);t=t.replace(we,""),i&&k.rel(e,t,i,r),n&&k.ael(e,t,n,r)}}},ye=/\s/,ve=e=>e?e.split(ye):[],be="Capture",we=new RegExp(be+"$"),_e=(e,t,i)=>{const n=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||H,o=t.$attrs$||H;if(r.updatable)for(const e of $e(Object.keys(s)))e in o||ge(n,e,s[e],void 0,i,t.$flags$);for(const e of $e(Object.keys(o)))ge(n,e,s[e],o[e],i,t.$flags$)};function $e(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var xe=!1,Se=!1,ke=!1,Me=!1,Le=(e,t,i,n)=>{var s;const o=t.$children$[i];let a,l,c,d=0;if(r.slotRelocation&&!xe&&(ke=!0,"slot"===o.$tag$&&(W&&n.classList.add(W+"-s"),o.$flags$|=o.$children$?2:1)),r.isDev&&o.$elm$&&p(`The JSX ${null!==o.$text$?`"${o.$text$}" text`:`"${o.$tag$}" element`} node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes`),r.vdomText&&null!==o.$text$)a=o.$elm$=x.createTextNode(o.$text$);else if(r.slotRelocation&&1&o.$flags$)a=o.$elm$=r.isDebug||r.hydrateServerSide?Ve(o):x.createTextNode("");else{if(r.svg&&!Me&&(Me="svg"===o.$tag$),a=o.$elm$=r.svg?x.createElementNS(Me?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!xe&&r.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$):x.createElement(!xe&&r.slotRelocation&&2&o.$flags$?"slot-fb":o.$tag$),r.svg&&Me&&"foreignObject"===o.$tag$&&(Me=!1),r.vdomAttribute&&_e(null,o,Me),!!a.getRootNode().querySelector("body")&&r.scoped&&null!=W&&a["s-si"]!==W&&a.classList.add(a["s-si"]=W),r.scoped&&He(a,n),o.$children$)for(d=0;d<o.$children$.length;++d)l=Le(e,o,d,a),l&&a.appendChild(l);r.svg&&("svg"===o.$tag$?Me=!1:"foreignObject"===a.tagName&&(Me=!0))}return a["s-hn"]=J,r.slotRelocation&&3&o.$flags$&&(a["s-sr"]=!0,a["s-cr"]=q,a["s-sn"]=o.$name$||"",a["s-rf"]=null==(s=o.$attrs$)?void 0:s.ref,c=e&&e.$children$&&e.$children$[i],c&&c.$tag$===o.$tag$&&e.$elm$&&(r.experimentalSlotFixes?Te(e.$elm$):Ae(e.$elm$,!1))),a},Te=e=>{k.$flags$|=1;const t=e.closest(J.toLowerCase());if(null!=t){const i=Array.from(t.childNodes).find((e=>e["s-cr"])),r=Array.from(e.childNodes);for(const e of i?r.reverse():r)null!=e["s-sh"]&&(Pe(t,e,null!=i?i:null),e["s-sh"]=void 0,ke=!0)}k.$flags$&=-2},Ae=(e,t)=>{k.$flags$|=1;const i=Array.from(e.childNodes);if(e["s-sr"]&&r.experimentalSlotFixes){let t=e;for(;t=t.nextSibling;)t&&t["s-sn"]===e["s-sn"]&&t["s-sh"]===J&&i.push(t)}for(let e=i.length-1;e>=0;e--){const r=i[e];r["s-hn"]!==J&&r["s-ol"]&&(Pe(Re(r),r,Ge(r)),r["s-ol"].remove(),r["s-ol"]=void 0,r["s-sh"]=void 0,ke=!0),t&&Ae(r,t)}k.$flags$&=-2},Ie=(e,t,i,n,s,o)=>{let a,l=r.slotRelocation&&e["s-cr"]&&e["s-cr"].parentNode||e;for(r.shadowDom&&l.shadowRoot&&l.tagName===J&&(l=l.shadowRoot);s<=o;++s)n[s]&&(a=Le(null,i,s,e),a&&(n[s].$elm$=a,Pe(l,a,r.slotRelocation?Ge(t):t)))},Ce=(e,t,i)=>{for(let n=t;n<=i;++n){const t=e[n];if(t){const e=t.$elm$;je(t),e&&(r.slotRelocation&&(Se=!0,e["s-ol"]?e["s-ol"].remove():Ae(e,!0)),e.remove())}}},Oe=(e,t,i=!1)=>!(e.$tag$!==t.$tag$||(r.slotRelocation&&"slot"===e.$tag$?"$nodeId$"in e&&i&&8!==e.$elm$.nodeType||e.$name$!==t.$name$:r.vdomKey&&!i&&e.$key$!==t.$key$)),Ge=e=>e&&e["s-ol"]||e,Re=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,Ne=(e,t,i=!1)=>{const n=t.$elm$=e.$elm$,s=e.$children$,o=t.$children$,a=t.$tag$,l=t.$text$;let c;r.vdomText&&null!==l?r.vdomText&&r.slotRelocation&&(c=n["s-cr"])?c.parentNode.textContent=l:r.vdomText&&e.$text$!==l&&(n.data=l):(r.svg&&(Me="svg"===a||"foreignObject"!==a&&Me),(r.vdomAttribute||r.reflect)&&(r.slot&&"slot"===a&&!xe?r.experimentalSlotFixes&&e.$name$!==t.$name$&&(t.$elm$["s-sn"]=t.$name$||"",Te(t.$elm$.parentElement)):_e(e,t,Me)),r.updatable&&null!==s&&null!==o?((e,t,i,n,s=!1)=>{let o,a,l=0,c=0,d=0,u=0,p=t.length-1,h=t[0],f=t[p],m=n.length-1,g=n[0],y=n[m];for(;l<=p&&c<=m;)if(null==h)h=t[++l];else if(null==f)f=t[--p];else if(null==g)g=n[++c];else if(null==y)y=n[--m];else if(Oe(h,g,s))Ne(h,g,s),h=t[++l],g=n[++c];else if(Oe(f,y,s))Ne(f,y,s),f=t[--p],y=n[--m];else if(Oe(h,y,s))!r.slotRelocation||"slot"!==h.$tag$&&"slot"!==y.$tag$||Ae(h.$elm$.parentNode,!1),Ne(h,y,s),Pe(e,h.$elm$,f.$elm$.nextSibling),h=t[++l],y=n[--m];else if(Oe(f,g,s))!r.slotRelocation||"slot"!==h.$tag$&&"slot"!==y.$tag$||Ae(f.$elm$.parentNode,!1),Ne(f,g,s),Pe(e,f.$elm$,h.$elm$),f=t[--p],g=n[++c];else{if(d=-1,r.vdomKey)for(u=l;u<=p;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===g.$key$){d=u;break}r.vdomKey&&d>=0?(a=t[d],a.$tag$!==g.$tag$?o=Le(t&&t[c],i,d,e):(Ne(a,g,s),t[d]=void 0,o=a.$elm$),g=n[++c]):(o=Le(t&&t[c],i,c,e),g=n[++c]),o&&(r.slotRelocation?Pe(Re(h.$elm$),o,Ge(h.$elm$)):Pe(h.$elm$.parentNode,o,h.$elm$))}l>p?Ie(e,null==n[m+1]?null:n[m+1].$elm$,i,n,c,m):r.updatable&&c>m&&Ce(t,l,p)})(n,s,t,o,i):null!==o?(r.updatable&&r.vdomText&&null!==e.$text$&&(n.textContent=""),Ie(n,null,t,o,0,o.length-1)):!i&&r.updatable&&null!==s&&Ce(s,0,s.length-1),r.svg&&Me&&"svg"===a&&(Me=!1))},De=e=>{const t=e.childNodes;for(const e of t)if(1===e.nodeType){if(e["s-sr"]){const i=e["s-sn"];e.hidden=!1;for(const r of t)if(r!==e)if(r["s-hn"]!==e["s-hn"]||""!==i){if(1===r.nodeType&&(i===r.getAttribute("slot")||i===r["s-sn"])||3===r.nodeType&&i===r["s-sn"]){e.hidden=!0;break}}else if(1===r.nodeType||3===r.nodeType&&""!==r.textContent.trim()){e.hidden=!0;break}}De(e)}},Ee=[],Ze=e=>{let t,i,n;for(const s of e.childNodes){if(s["s-sr"]&&(t=s["s-cr"])&&t.parentNode){i=t.parentNode.childNodes;const e=s["s-sn"];for(n=i.length-1;n>=0;n--)if(t=i[n],!(t["s-cn"]||t["s-nr"]||t["s-hn"]===s["s-hn"]||r.experimentalSlotFixes&&t["s-sh"]&&t["s-sh"]===s["s-hn"]))if(Ue(t,e)){let i=Ee.find((e=>e.$nodeToRelocate$===t));Se=!0,t["s-sn"]=t["s-sn"]||e,i?(i.$nodeToRelocate$["s-sh"]=s["s-hn"],i.$slotRefNode$=s):(t["s-sh"]=s["s-hn"],Ee.push({$slotRefNode$:s,$nodeToRelocate$:t})),t["s-sr"]&&Ee.map((e=>{Ue(e.$nodeToRelocate$,t["s-sn"])&&(i=Ee.find((e=>e.$nodeToRelocate$===t)),i&&!e.$slotRefNode$&&(e.$slotRefNode$=i.$slotRefNode$))}))}else Ee.some((e=>e.$nodeToRelocate$===t))||Ee.push({$nodeToRelocate$:t})}1===s.nodeType&&Ze(s)}},Ue=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,je=e=>{r.vdomRef&&(e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(je))},Pe=(e,t,i)=>{const n=null==e?void 0:e.insertBefore(t,i);return r.scoped&&He(t,e),n},ze=e=>{const t=[];return e&&t.push(...e["s-scs"]||[],e["s-si"],e["s-sc"],...ze(e.parentElement)),t},He=(e,t,i=!1)=>{var r;if(e&&t&&1===e.nodeType){const n=new Set(ze(t).filter(Boolean));if(n.size&&(null==(r=e.classList)||r.add(...e["s-scs"]=[...n]),e["s-ol"]||i))for(const t of Array.from(e.childNodes))He(t,e,!0)}},Fe=(e,t,i=!1)=>{var n,s,o,a,l;const c=e.$hostElement$,d=e.$cmpMeta$,u=e.$vnode$||ie(null,null),p=ne(t)?t:te(null,null,t);if(J=c.tagName,r.isDev&&Array.isArray(t)&&t.some(ne))throw new Error(`The <Host> must be the single root component.\nLooks like the render() function of "${J.toLowerCase()}" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  `);if(r.reflect&&d.$attrsToReflect$&&(p.$attrs$=p.$attrs$||{},d.$attrsToReflect$.map((([e,t])=>p.$attrs$[t]=c[e]))),i&&p.$attrs$)for(const e of Object.keys(p.$attrs$))c.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(p.$attrs$[e]=c[e]);if(p.$tag$=null,p.$flags$|=4,e.$vnode$=p,p.$elm$=u.$elm$=r.shadowDom&&c.shadowRoot||c,(r.scoped||r.shadowDom)&&(W=c["s-sc"]),xe=M&&!!(1&d.$flags$),r.slotRelocation&&(q=c["s-cr"],Se=!1),Ne(u,p,i),r.slotRelocation){if(k.$flags$|=1,ke){Ze(p.$elm$);for(const e of Ee){const t=e.$nodeToRelocate$;if(!t["s-ol"]){const e=r.isDebug||r.hydrateServerSide?Be(t):x.createTextNode("");e["s-nr"]=t,Pe(t.parentNode,t["s-ol"]=e,t)}}for(const e of Ee){const t=e.$nodeToRelocate$,l=e.$slotRefNode$;if(l){const e=l.parentNode;let i=l.nextSibling;if(!r.experimentalSlotFixes||i&&1===i.nodeType){let r=null==(n=t["s-ol"])?void 0:n.previousSibling;for(;r;){let n=null!=(s=r["s-nr"])?s:null;if(n&&n["s-sn"]===t["s-sn"]&&e===n.parentNode){for(n=n.nextSibling;n===t||(null==n?void 0:n["s-sr"]);)n=null==n?void 0:n.nextSibling;if(!n||!n["s-nr"]){i=n;break}}r=r.previousSibling}}(!i&&e!==t.parentNode||t.nextSibling!==i)&&t!==i&&(r.experimentalSlotFixes||t["s-hn"]||!t["s-ol"]||(t["s-hn"]=t["s-ol"].parentNode.nodeName),Pe(e,t,i),1===t.nodeType&&(t.hidden=null!=(o=t["s-ih"])&&o)),t&&"function"==typeof l["s-rf"]&&l["s-rf"](t)}else 1===t.nodeType&&(i&&(t["s-ih"]=null!=(a=t.hidden)&&a),t.hidden=!0)}}Se&&De(p.$elm$),k.$flags$&=-2,Ee.length=0}if(r.experimentalScopedSlotChanges&&2&d.$flags$)for(const e of p.$elm$.childNodes)e["s-hn"]===J||e["s-sh"]||(i&&null==e["s-ih"]&&(e["s-ih"]=null!=(l=e.hidden)&&l),e.hidden=!0);q=void 0},Ve=e=>x.createComment(`<slot${e.$name$?' name="'+e.$name$+'"':""}> (host=${J.toLowerCase()})`),Be=e=>x.createComment("org-location for "+(e.localName?`<${e.localName}> (host=${e["s-hn"]})`:`[${e.textContent}]`)),Ke=(e,t)=>{r.asyncLoading&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},We=(e,t)=>{if(r.taskQueue&&r.updatable&&(e.$flags$|=16),r.asyncLoading&&4&e.$flags$)return void(e.$flags$|=512);Ke(e,e.$ancestorComponent$);const i=()=>qe(e,t);return r.taskQueue?j(i):i()},qe=(e,t)=>{const i=e.$hostElement$,n=ee("scheduleUpdate",e.$cmpMeta$.$tagName$),s=r.lazyLoad?e.$lazyInstance$:i;if(!s)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let o;return t?(r.lazyLoad&&r.hostListener&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>rt(s,e,t))),e.$queuedListeners$=void 0)),nt(i,"componentWillLoad"),r.cmpWillLoad&&(o=rt(s,"componentWillLoad"))):(nt(i,"componentWillUpdate"),r.cmpWillUpdate&&(o=rt(s,"componentWillUpdate"))),nt(i,"componentWillRender"),r.cmpWillRender&&(o=Je(o,(()=>rt(s,"componentWillRender")))),n(),Je(o,(()=>Xe(e,s,t)))},Je=(e,t)=>Ye(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),Ye=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Xe=async(e,t,i)=>{var n;const s=e.$hostElement$,o=ee("update",e.$cmpMeta$.$tagName$),a=s["s-rc"];r.style&&i&&(e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,s=ee("attachStyles",t.$tagName$),o=fe(r.shadowDom&&M&&i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);(r.shadowDom||r.scoped)&&r.cssAnnotations&&10&n&&2&n&&(i["s-sc"]=o,i.classList.add(o+"-h"),r.scoped&&2&n&&i.classList.add(o+"-s")),s()})(e);const l=ee("render",e.$cmpMeta$.$tagName$);if(r.isDev&&(e.$flags$|=1024),r.hydrateServerSide?await Qe(e,t,s,i):Qe(e,t,s,i),r.isDev&&(e.$renderCount$=void 0===e.$renderCount$?1:e.$renderCount$+1,e.$flags$&=-1025),r.hydrateServerSide)try{ot(s),i&&(1&e.$cmpMeta$.$flags$?s["s-en"]="":2&e.$cmpMeta$.$flags$&&(s["s-en"]="c"))}catch(e){d(e,s)}if(r.asyncLoading&&a&&(a.map((e=>e())),s["s-rc"]=void 0),l(),o(),r.asyncLoading){const t=null!=(n=s["s-p"])?n:[],i=()=>et(e);0===t.length?i():(Promise.all(t).then(i),e.$flags$|=4,t.length=0)}else et(e)},Qe=(e,t,i,n)=>{const s=!!r.allRenderFn,o=!!r.lazyLoad,a=!!r.taskQueue,l=!!r.updatable;try{if(t=(s||t.render)&&t.render(),l&&a&&(e.$flags$&=-17),(l||o)&&(e.$flags$|=2),r.hasRenderFn||r.reflect)if(r.vdomRender||r.reflect){if(r.hydrateServerSide)return Promise.resolve(t).then((t=>Fe(e,t,n)));Fe(e,t,n)}else{const r=i.shadowRoot;1&e.$cmpMeta$.$flags$?r.textContent=t:i.textContent=t}}catch(t){d(t,e.$hostElement$)}return null},et=e=>{const t=e.$cmpMeta$.$tagName$,i=e.$hostElement$,n=ee("postUpdate",t),s=r.lazyLoad?e.$lazyInstance$:i,o=e.$ancestorComponent$;r.cmpDidRender&&(r.isDev&&(e.$flags$|=1024),rt(s,"componentDidRender"),r.isDev&&(e.$flags$&=-1025)),nt(i,"componentDidRender"),64&e.$flags$?(r.cmpDidUpdate&&(r.isDev&&(e.$flags$|=1024),rt(s,"componentDidUpdate"),r.isDev&&(e.$flags$&=-1025)),nt(i,"componentDidUpdate"),n()):(e.$flags$|=64,r.asyncLoading&&r.cssAnnotations&&st(i),r.cmpDidLoad&&(r.isDev&&(e.$flags$|=2048),rt(s,"componentDidLoad"),r.isDev&&(e.$flags$&=-2049)),nt(i,"componentDidLoad"),n(),r.asyncLoading&&(e.$onReadyResolve$(i),o||it(t))),r.method&&r.lazyLoad&&e.$onInstanceResolve$(i),r.asyncLoading&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Z((()=>We(e,!1))),e.$flags$&=-517)},tt=e=>{if(r.updatable&&(o.isBrowser||o.isTesting)){const t=l(e),i=t.$hostElement$.isConnected;return i&&2==(18&t.$flags$)&&We(t,!1),i}return!1},it=e=>{r.cssAnnotations&&st(x.documentElement),r.asyncQueue&&(k.$flags$|=2),Z((()=>pe($,"appload",{detail:{namespace:n}}))),r.profile&&performance.measure&&performance.measure(`[Stencil] ${n} initial load (by ${e})`,"st:app:start")},rt=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(e){d(e)}},nt=(e,t)=>{r.lifecycleDOMEvents&&pe(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:n}})},st=e=>{var t,i;return r.hydratedClass?e.classList.add(null!=(t=r.hydratedSelectorName)?t:"hydrated"):r.hydratedAttribute?e.setAttribute(null!=(i=r.hydratedSelectorName)?i:"hydrated",""):void 0},ot=e=>{const t=e.children;if(null!=t)for(let e=0,i=t.length;e<i;e++){const i=t[e];"function"==typeof i.connectedCallback&&i.connectedCallback(),ot(i)}},at=(e,t,i)=>{var n,s;const o=e.prototype;if(r.formAssociated&&64&t.$flags$&&1&i&&_.forEach((e=>Object.defineProperty(o,e,{value(...t){const i=l(this),n=r.lazyLoad?i.$hostElement$:this,s=r.lazyLoad?i.$lazyInstance$:n;if(s){const i=s[e];"function"==typeof i&&i.call(s,...t)}else i.$onReadyPromise$.then((i=>{const r=i[e];"function"==typeof r&&r.call(i,...t)}))}}))),r.member&&t.$members$||r.watchCallback&&(t.$watchers$||e.watchers)){r.watchCallback&&e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const a=Object.entries(null!=(n=t.$members$)?n:{});if(a.map((([e,[n]])=>{(r.prop||r.state)&&(31&n||(!r.lazyLoad||2&i)&&32&n)?Object.defineProperty(o,e,{get(){return t=e,l(this).$instanceValues$.get(t);var t},set(s){if(r.isDev){const r=l(this);1&i||0!==(r&&8&r.$flags$)||!(31&n)||1024&n||h(`@Prop() "${e}" on <${t.$tagName$}> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability`)}((e,t,i,n)=>{const s=l(e);if(r.lazyLoad&&!s)throw new Error(`Couldn't find host element for "${n.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const o=r.lazyLoad?s.$hostElement$:e,a=s.$instanceValues$.get(t),c=s.$flags$,u=r.lazyLoad?s.$lazyInstance$:o;var p,f;p=i,f=n.$members$[t][0],i=null==p||F(p)?p:r.propBoolean&&4&f?"false"!==p&&(""===p||!!p):r.propNumber&&2&f?parseFloat(p):r.propString&&1&f?String(p):p;const m=Number.isNaN(a)&&Number.isNaN(i);if((!r.lazyLoad||!(8&c)||void 0===a)&&i!==a&&!m&&(s.$instanceValues$.set(t,i),r.isDev&&(1024&s.$flags$?h(`The state/prop "${t}" changed during rendering. This can potentially lead to infinite-loops and other bugs.`,"\nElement",o,"\nNew value",i,"\nOld value",a):2048&s.$flags$&&h(`The state/prop "${t}" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"`,"\nElement",o,"\nNew value",i,"\nOld value",a)),!r.lazyLoad||u)){if(r.watchCallback&&n.$watchers$&&128&c){const e=n.$watchers$[t];e&&e.map((e=>{try{u[e](i,a,t)}catch(e){d(e,o)}}))}if(r.updatable&&2==(18&c)){if(r.cmpShouldUpdate&&u.componentShouldUpdate&&!1===u.componentShouldUpdate(i,a,t))return;We(s,!1)}}})(this,e,s,t)},configurable:!0,enumerable:!0}):r.lazyLoad&&r.method&&1&i&&64&n&&Object.defineProperty(o,e,{value(...t){var i;const r=l(this);return null==(i=null==r?void 0:r.$onInstancePromise$)?void 0:i.then((()=>{var i;return null==(i=r.$lazyInstance$)?void 0:i[e](...t)}))}})})),r.observeAttribute&&(!r.lazyLoad||1&i)){const i=new Map;o.attributeChangedCallback=function(e,n,s){k.jmp((()=>{var a;const c=i.get(e);if(this.hasOwnProperty(c))s=this[c],delete this[c];else{if(o.hasOwnProperty(c)&&"number"==typeof this[c]&&this[c]==s)return;if(null==c){const i=l(this),o=null==i?void 0:i.$flags$;if(o&&!(8&o)&&128&o&&s!==n){const o=r.lazyLoad?i.$hostElement$:this,l=r.lazyLoad?i.$lazyInstance$:o,c=null==(a=t.$watchers$)?void 0:a[e];null==c||c.forEach((t=>{null!=l[t]&&l[t].call(l,s,n,e)}))}return}}this[c]=(null!==s||"boolean"!=typeof this[c])&&s}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(s=t.$watchers$)?s:{}),...a.filter((([e,t])=>15&t[0])).map((([e,n])=>{var s;const o=n[1]||e;return i.set(o,e),r.reflect&&512&n[0]&&(null==(s=t.$attrsToReflect$)||s.push([e,o])),o}))]))}}return e},lt=async(e,t,n,s)=>{let o;if(!(32&t.$flags$)){t.$flags$|=32;const c=n.$lazyBundleId$;if((r.lazyLoad||r.hydrateClientSide)&&c){const e=((e,t,n)=>{const s=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$;if(r.isDev&&"string"!=typeof o)return void p(`Trying to lazily load component <${e.$tagName$}> with style mode "${t.$modeName$}", but it does not exist.`);if(!o)return;const a=!r.hotModuleReplacement&&f.get(o);return a?a[s]:i(54140)(`./${o}.entry.js${r.hotModuleReplacement&&n?"?s-hmr="+n:""}`).then((e=>(r.hotModuleReplacement||f.set(o,e),e[s])),d)})(n,t,s);if(e&&"then"in e){const i=(a=`st:load:${n.$tagName$}:${t.$modeName$}`,l=`[Stencil] Load module for <${n.$tagName$}>`,r.profile&&performance.mark?(0===performance.getEntriesByName(a,"mark").length&&performance.mark(a),()=>{0===performance.getEntriesByName(l,"measure").length&&performance.measure(l,a)}):()=>{});o=await e,i()}else o=e;if(!o)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);r.member&&!o.isProxied&&(r.watchCallback&&(n.$watchers$=o.watchers),at(o,n,2),o.isProxied=!0);const c=ee("createInstance",n.$tagName$);r.member&&(t.$flags$|=8);try{new o(t)}catch(e){d(e)}r.member&&(t.$flags$&=-9),r.watchCallback&&(t.$flags$|=128),c(),ct(t.$lazyInstance$)}else{o=e.constructor;const i=e.localName;customElements.whenDefined(i).then((()=>t.$flags$|=128))}if(r.style&&o&&o.style){let s;"string"==typeof o.style?s=o.style:r.mode&&"string"!=typeof o.style&&(t.$modeName$=(e=>g.map((t=>t(e))).find((e=>!!e)))(e),t.$modeName$&&(s=o.style[t.$modeName$]),r.hydrateServerSide&&t.$modeName$&&e.setAttribute("s-mode",t.$modeName$));const a=me(n,t.$modeName$);if(!m.has(a)){const e=ee("registerStyles",n.$tagName$);!r.hydrateServerSide&&r.shadowDom&&r.shadowDomShim&&8&n.$flags$&&(s=await i.e(4060).then(i.bind(i,64060)).then((e=>e.scopeCss(s,a)))),((e,t,i)=>{let r=m.get(e);T&&i?(r=r||new CSSStyleSheet,"string"==typeof r?r=t:r.replaceSync(t)):r=t,m.set(e,r)})(a,s,!!(1&n.$flags$)),e()}}}var a,l;const c=t.$ancestorComponent$,u=()=>We(t,!0);r.asyncLoading&&c&&c["s-rc"]?c["s-rc"].push(u):u()},ct=e=>{r.lazyLoad&&r.connectedCallback&&rt(e,"connectedCallback")},dt=e=>{const t=e["s-cr"]=x.createComment(r.isDebug?`content-ref (host=${e.localName})`:"");t["s-cn"]=!0,Pe(e,t,e.firstChild)},ut=e=>{r.lazyLoad&&r.disconnectedCallback&&rt(e,"disconnectedCallback"),r.cmpDidUnload&&rt(e,"componentDidUnload")},pt=e=>{const t=e.cloneNode;e.cloneNode=function(e){const i=this,n=!!r.shadowDom&&i.shadowRoot&&M,s=t.call(i,!!n&&e);if(r.slot&&!n&&e){let e,t,n=0;const o=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;n<i.childNodes.length;n++)e=i.childNodes[n]["s-nr"],t=o.every((e=>!i.childNodes[n][e])),e&&(r.appendChildSlotFix&&s.__appendChild?s.__appendChild(e.cloneNode(!0)):s.appendChild(e.cloneNode(!0))),t&&s.appendChild(i.childNodes[n].cloneNode(!0))}return s}},ht=e=>{e.__appendChild=e.appendChild,e.appendChild=function(e){const t=e["s-sn"]=xt(e),i=St(this.childNodes,t,this.tagName);if(i){const r=kt(i,t),n=r[r.length-1],s=Pe(n.parentNode,e,n.nextSibling);return De(this),s}return this.__appendChild(e)}},ft=e=>{e.__removeChild=e.removeChild,e.removeChild=function(e){if(e&&void 0!==e["s-sn"]){const t=St(this.childNodes,e["s-sn"],this.tagName);if(t){const i=kt(t,e["s-sn"]).find((t=>t===e));if(i)return i.remove(),void De(this)}}return this.__removeChild(e)}},mt=e=>{const t=e.prepend;e.prepend=function(...e){e.forEach((e=>{"string"==typeof e&&(e=this.ownerDocument.createTextNode(e));const i=e["s-sn"]=xt(e),r=St(this.childNodes,i,this.tagName);if(r){const t=document.createTextNode("");t["s-nr"]=e,r["s-cr"].parentNode.__appendChild(t),e["s-ol"]=t;const n=kt(r,i)[0];return Pe(n.parentNode,e,n.nextSibling)}return 1===e.nodeType&&e.getAttribute("slot")&&(e.hidden=!0),t.call(this,e)}))}},gt=e=>{e.append=function(...e){e.forEach((e=>{"string"==typeof e&&(e=this.ownerDocument.createTextNode(e)),this.appendChild(e)}))}},yt=e=>{const t=e.insertAdjacentHTML;e.insertAdjacentHTML=function(e,i){if("afterbegin"!==e&&"beforeend"!==e)return t.call(this,e,i);const r=this.ownerDocument.createElement("_");let n;if(r.innerHTML=i,"afterbegin"===e)for(;n=r.firstChild;)this.prepend(n);else if("beforeend"===e)for(;n=r.firstChild;)this.append(n)}},vt=e=>{e.insertAdjacentText=function(e,t){this.insertAdjacentHTML(e,t)}},bt=e=>{const t=e.insertAdjacentElement;e.insertAdjacentElement=function(e,i){return"afterbegin"!==e&&"beforeend"!==e?t.call(this,e,i):"afterbegin"===e?(this.prepend(i),i):"beforeend"===e?(this.append(i),i):i}},wt=e=>{const t=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(e,"__textContent",t),r.experimentalScopedSlotChanges?Object.defineProperty(e,"textContent",{get(){return" "+$t(this.childNodes).map((e=>{var t,i;const r=[];let n=e.nextSibling;for(;n&&n["s-sn"]===e["s-sn"];)3!==n.nodeType&&1!==n.nodeType||r.push(null!=(i=null==(t=n.textContent)?void 0:t.trim())?i:""),n=n.nextSibling;return r.filter((e=>""!==e)).join(" ")})).filter((e=>""!==e)).join(" ")+" "},set(e){$t(this.childNodes).forEach((t=>{let i=t.nextSibling;for(;i&&i["s-sn"]===t["s-sn"];){const e=i;i=i.nextSibling,e.remove()}if(""===t["s-sn"]){const i=this.ownerDocument.createTextNode(e);i["s-sn"]="",Pe(t.parentElement,i,t.nextSibling)}else t.remove()}))}}):Object.defineProperty(e,"textContent",{get(){var e;const t=St(this.childNodes,"",this.tagName);return 3===(null==(e=null==t?void 0:t.nextSibling)?void 0:e.nodeType)?t.nextSibling.textContent:t?t.textContent:this.__textContent},set(e){var t;const i=St(this.childNodes,"",this.tagName);if(3===(null==(t=null==i?void 0:i.nextSibling)?void 0:t.nodeType))i.nextSibling.textContent=e;else if(i)i.textContent=e;else{this.__textContent=e;const t=this["s-cr"];t&&Pe(this,t,this.firstChild)}}})},_t=(e,t)=>{class i extends Array{item(e){return this[e]}}if(8&t.$flags$){const t=e.__lookupGetter__("childNodes");Object.defineProperty(e,"children",{get(){return this.childNodes.map((e=>1===e.nodeType))}}),Object.defineProperty(e,"childElementCount",{get(){return e.children.length}}),Object.defineProperty(e,"childNodes",{get(){const e=t.call(this);if(!(1&k.$flags$)&&2&l(this).$flags$){const t=new i;for(let i=0;i<e.length;i++){const r=e[i]["s-nr"];r&&t.push(r)}return t}return i.from(e)}})}},$t=e=>{const t=[];for(const i of Array.from(e))i["s-sr"]&&t.push(i),t.push(...$t(i.childNodes));return t},xt=e=>e["s-sn"]||1===e.nodeType&&e.getAttribute("slot")||"",St=(e,t,i)=>{let r,n=0;for(;n<e.length;n++){if(r=e[n],r["s-sr"]&&r["s-sn"]===t&&r["s-hn"]===i)return r;if(r=St(r.childNodes,t,i),r)return r}return null},kt=(e,t)=>{const i=[e];for(;(e=e.nextSibling)&&e["s-sn"]===t;)i.push(e);return i},Mt=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};var n,s;r.member&&(i.$members$=t[2]),r.hostListener&&(i.$listeners$=t[3]),r.watchCallback&&(i.$watchers$=e.$watchers$),r.reflect&&(i.$attrsToReflect$=[]),r.shadowDom&&!M&&1&i.$flags$&&(i.$flags$|=8),r.experimentalSlotFixes?r.scoped&&2&i.$flags$&&(n=e.prototype,s=i,pt(n),ht(n),gt(n),mt(n),bt(n),yt(n),vt(n),wt(n),_t(n,s),ft(n)):(r.slotChildNodesFix&&_t(e.prototype,i),r.cloneNodeFix&&pt(e.prototype),r.appendChildSlotFix&&ht(e.prototype),r.scopedSlotTextContentFix&&2&i.$flags$&&wt(e.prototype));const o=e.prototype.connectedCallback,c=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){((e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};r.isDev&&(i.$renderCount$=0),r.method&&r.lazyLoad&&(i.$onInstancePromise$=new Promise((e=>i.$onInstanceResolve$=e))),r.asyncLoading&&(i.$onReadyPromise$=new Promise((e=>i.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[]),a.set(e,i)})(this,i)},connectedCallback(){const e=l(this);Tt(this,e,i.$listeners$,!1),(e=>{if(!(1&k.$flags$)){const t=l(e),i=t.$cmpMeta$,n=ee("connectedCallback",i.$tagName$);if(r.hostListenerTargetParent&&Tt(e,t,i.$listeners$,!0),1&t.$flags$)Tt(e,t,i.$listeners$,!1),(null==t?void 0:t.$lazyInstance$)?ct(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>ct(t.$lazyInstance$)));else{let n;if(t.$flags$|=1,r.hydrateClientSide&&(n=e.getAttribute(y),n)){if(r.shadowDom&&M&&1&i.$flags$){const t=r.mode?fe(e.shadowRoot,i,e.getAttribute("s-mode")):fe(e.shadowRoot,i);e.classList.remove(t+"-h",t+"-s")}((e,t,i,n)=>{const s=ee("hydrateClient",t),o=e.shadowRoot,a=[],l=r.shadowDom&&o?[]:null,c=n.$vnode$=ie(t,null);k.$orgLocNodes$||de(x.body,k.$orgLocNodes$=new Map),e[y]=i,e.removeAttribute(y),ce(c,a,[],l,e,e,i),a.map((e=>{const i=e.$hostId$+"."+e.$nodeId$,r=k.$orgLocNodes$.get(i),n=e.$elm$;r&&M&&""===r["s-en"]&&r.parentNode.insertBefore(n,r.nextSibling),o||(n["s-hn"]=t,r&&(n["s-ol"]=r,n["s-ol"]["s-nr"]=n)),k.$orgLocNodes$.delete(i)})),r.shadowDom&&o&&l.map((e=>{e&&o.appendChild(e)})),s()})(e,i.$tagName$,n,t)}if(r.slotRelocation&&!n&&(r.hydrateServerSide||(r.slot||r.shadowDom)&&12&i.$flags$)&&dt(e),r.asyncLoading){let i=e;for(;i=i.parentNode||i.host;)if(r.hydrateClientSide&&1===i.nodeType&&i.hasAttribute("s-id")&&i["s-p"]||i["s-p"]){Ke(t,t.$ancestorComponent$=i);break}}r.prop&&!r.hydrateServerSide&&i.$members$&&Object.entries(i.$members$).map((([t,[i]])=>{if(31&i&&e.hasOwnProperty(t)){const i=e[t];delete e[t],e[t]=i}})),r.initializeNextTick?Z((()=>lt(e,t,i))):lt(e,t,i)}n()}})(this),r.connectedCallback&&o&&o.call(this)},disconnectedCallback(){(async e=>{if(!(1&k.$flags$)){const t=l(e);r.hostListener&&t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0),r.lazyLoad?(null==t?void 0:t.$lazyInstance$)?ut(t.$lazyInstance$):(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>ut(t.$lazyInstance$))):ut(e)}})(this),r.disconnectedCallback&&c&&c.call(this)},__attachShadow(){if(M)if(this.shadowRoot){if("open"!==this.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else r.shadowDelegatesFocus?this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)}):this.attachShadow({mode:"open"});else this.shadowRoot=this}}),e.is=i.$tagName$,at(e,i,3)},Lt=(e,t)=>t,Tt=(e,t,i,n)=>{r.hostListener&&i&&(r.hostListenerTargetParent&&(i=n?i.filter((([e])=>32&e)):i.filter((([e])=>!(32&e)))),i.map((([i,n,s])=>{const o=r.hostListenerTarget?It(e,i):e,a=At(t,s),l=Ct(i);k.ael(o,n,a,l),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>k.rel(o,n,a,l)))})))},At=(e,t)=>i=>{var n;try{r.lazyLoad?256&e.$flags$?null==(n=e.$lazyInstance$)||n[t](i):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,i]):e.$hostElement$[t](i)}catch(e){d(e)}},It=(e,t)=>r.hostListenerTargetDocument&&4&t?x:r.hostListenerTargetWindow&&8&t?$:r.hostListenerTargetBody&&16&t?x.body:r.hostListenerTargetParent&&32&t&&e.parentElement?e.parentElement:e,Ct=e=>L?{passive:!!(1&e),capture:!!(2&e)}:!!(2&e)},74756:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return G}});var r=i(53804),n=i(93040),s=i(78879),o=i(61500),a=i(30905),l=i(21609),c=i(31609),d=i(75218),u=i(40633),p=i(95929),h=i(60539),f=i(90683),m=i(23502),g=(i(58941),i(65953)),y=i(81392),v=i(57165),b=i(51432),w=i(43173),_=i(11876),$=i(83525),x=(i(13798),i(22739));const S=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let k=class extends $.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const e=(0,x.JK)().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const t=(0,x.Z0)(e);return"pt"===t?"pt-BR":t&&S.has(t)?t:"global"}};(0,r._)([(0,m.MZ)()],k.prototype,"apiKey",void 0),(0,r._)([(0,m.MZ)()],k.prototype,"id",void 0),(0,r._)([(0,m.MZ)()],k.prototype,"language",void 0),(0,r._)([(0,m.MZ)()],k.prototype,"places",void 0),(0,r._)([(0,m.MZ)()],k.prototype,"serviceUrl",void 0),(0,r._)([(0,m.MZ)()],k.prototype,"worldview",void 0),k=(0,r._)([(0,g.$)("esri.support.BasemapStyle")],k);const M=k;var L,T=i(84624);let A=0,I=L=class extends((0,a.Te)(c.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+A++,this.baseLayers=new s.A,this.referenceLayers=new s.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&u.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>i(e.item))),this.referenceLayers.on("after-remove",(e=>i(e.item)))])}initialize(){this.when().catch((e=>{u.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const t of e)t.destroy();const t=this.referenceLayers.toArray();for(const e of t)e.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,p.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,o.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e?(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,T.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&r.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,T.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&("scene"!==e.type&&(t.isReference=!0),r.push(t))})),t.baseMapLayers=r):t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",(0,o.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,d.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,l.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,l.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new L({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,l.o8)(e);return t.url&&(0,f.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,f.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;(0,h.Te)(e);const n=[];if(t){const i=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,i,e)),t.data.id&&!t.data.title){const e=t.data.id;n.push((0,_.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else i?n.push(this._loadFromItem(i,e)):r&&n.push(this._loadFromStylesService(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo?.context,s=this.portalItem?.portal||n?.portal||null,o=O[n?.origin||""]??"web-map",{populateOperationalLayers:a}=await i.e(3538).then(i.bind(i,80669)),l=[];if((0,h.Te)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const i={context:{...n,origin:o,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===o&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=a(this.baseLayers,e.baseMapLayers.filter((e=>!r(e))),i);l.push(c);const d=a(this.referenceLayers,e.baseMapLayers.filter(r),i);l.push(d)}await Promise.allSettled(l)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),n=(0,f.An)(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:C[e.type||""]??"web-map",portal:e.portal||b.A.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||b.A.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}async _loadFromStylesService(e,t){const i=`${e.serviceUrl}/${e.id}`,r=(await(0,n.A)(i,{query:{language:e.getLanguageParamValue(),places:e.places,worldview:e.worldview,token:e.apiKey},signal:t?.signal})).data,s=(0,f.An)(i);if(this._set("resourceInfo",{data:r.baseMap??{},context:{origin:"web-map",url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,s,t),e.apiKey)for(const t of[...this.baseLayers,...this.referenceLayers])"apiKey"in t&&(t.apiKey=e.apiKey)}static fromId(e){const t=_.H[e];return t?t.itemId?new L({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):L.fromJSON(t,{origin:t.is3d?"web-scene":"web-map"}):null}};(0,r._)([(0,m.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:s.A}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],I.prototype,"baseLayers",null),(0,r._)([(0,m.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],I.prototype,"id",void 0),(0,r._)([(0,m.MZ)({type:w.default})],I.prototype,"portalItem",void 0),(0,r._)([(0,m.MZ)()],I.prototype,"referenceLayers",null),(0,r._)([(0,m.MZ)({readOnly:!0})],I.prototype,"resourceInfo",void 0),(0,r._)([(0,m.MZ)({type:v.A})],I.prototype,"spatialReference",void 0),(0,r._)([(0,m.MZ)({type:M})],I.prototype,"style",void 0),(0,r._)([(0,m.MZ)()],I.prototype,"thumbnailUrl",void 0),(0,r._)([(0,m.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],I.prototype,"title",void 0),(0,r._)([(0,y.K)("title")],I.prototype,"writeTitle",null),I=L=(0,r._)([(0,g.$)("esri.Basemap")],I);const C={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},O={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},G=I},69296:function(e,t,i){"use strict";var r;i.d(t,{u:function(){return r}}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(r||(r={}))},84016:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});var r=i(25591);const n=()=>r.default.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},88264:function(e,t,i){"use strict";function r(e){return"string"==typeof e?document.getElementById(e):e??null}function n(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}i.d(t,{$:function(){return r},y:function(){return n}})},32237:function(e,t,i){"use strict";i.d(t,{A6:function(){return g},B8:function(){return h},Xd:function(){return d},Xr:function(){return f},Yc:function(){return C},hZ:function(){return v},lw:function(){return u},t2:function(){return A},x8:function(){return c}});var r=i(87725),n=i(61769),s=i(32501),o=i(8527),a=i(20551),l=i(33400);function c(e,t,i){i*=.5;const r=Math.sin(i);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(i),e}function d(e,t){const i=2*Math.acos(t[3]),r=Math.sin(i/2);return r>(0,o.FD)()?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),i}function u(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=i[0],l=i[1],c=i[2],d=i[3];return e[0]=r*d+o*a+n*c-s*l,e[1]=n*d+o*l+s*a-r*c,e[2]=s*d+o*c+r*l-n*a,e[3]=o*d-r*a-n*l-s*c,e}function p(e,t,i,r){const n=t[0],s=t[1],a=t[2],l=t[3];let c,d,u,p,h,f=i[0],m=i[1],g=i[2],y=i[3];return d=n*f+s*m+a*g+l*y,d<0&&(d=-d,f=-f,m=-m,g=-g,y=-y),1-d>(0,o.FD)()?(c=Math.acos(d),u=Math.sin(c),p=Math.sin((1-r)*c)/u,h=Math.sin(r*c)/u):(p=1-r,h=r),e[0]=p*n+h*f,e[1]=p*s+h*m,e[2]=p*a+h*g,e[3]=p*l+h*y,e}function h(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=i*i+r*r+n*n+s*s,a=o?1/o:0;return e[0]=-i*a,e[1]=-r*a,e[2]=-n*a,e[3]=s*a,e}function f(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function m(e,t){const i=t[0]+t[4]+t[8];let r;if(i>0)r=Math.sqrt(i+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);const n=(i+1)%3,s=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*n+n]-t[3*s+s]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*n+s]-t[3*s+n])*r,e[n]=(t[3*n+i]+t[3*i+n])*r,e[s]=(t[3*s+i]+t[3*i+s])*r}return e}function g(e,t,i,r){const n=.5*Math.PI/180;t*=n,i*=n,r*=n;const s=Math.sin(t),o=Math.cos(t),a=Math.sin(i),l=Math.cos(i),c=Math.sin(r),d=Math.cos(r);return e[0]=s*l*d-o*a*c,e[1]=o*a*d+s*l*c,e[2]=o*l*c-s*a*d,e[3]=o*l*d+s*a*c,e}const y=l.c,v=l.s,b=l.g,w=u,_=l.d,$=l.h,x=l.l,S=l.j,k=S,M=l.b,L=M,T=l.n,A=l.a,I=l.e;function C(e,t,i){const r=(0,a.f)(t,i);return r<-.999999?((0,a.e)(O,G,t),(0,a.G)(O)<1e-6&&(0,a.e)(O,R,t),(0,a.n)(O,O),c(e,O,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,a.e)(O,t,i),e[0]=O[0],e[1]=O[1],e[2]=O[2],e[3]=1+r,T(e,e))}const O=(0,s.vt)(),G=(0,s.fA)(1,0,0),R=(0,s.fA)(0,1,0),N=(0,n.vt)(),D=(0,n.vt)(),E=(0,r.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:b,calculateW:function(e,t){const i=t[0],r=t[1],n=t[2];return e[0]=i,e[1]=r,e[2]=n,e[3]=Math.sqrt(Math.abs(1-i*i-r*r-n*n)),e},conjugate:f,copy:y,dot:$,equals:I,exactEquals:A,fromEuler:g,fromMat3:m,getAxisAngle:d,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:h,len:k,length:S,lerp:x,mul:w,multiply:u,normalize:T,random:function(e){const t=o.Ov,i=t(),r=t(),n=t(),s=Math.sqrt(1-i),a=Math.sqrt(i);return e[0]=s*Math.sin(2*Math.PI*r),e[1]=s*Math.cos(2*Math.PI*r),e[2]=a*Math.sin(2*Math.PI*n),e[3]=a*Math.cos(2*Math.PI*n),e},rotateX:function(e,t,i){i*=.5;const r=t[0],n=t[1],s=t[2],o=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+o*a,e[1]=n*l+s*a,e[2]=s*l-n*a,e[3]=o*l-r*a,e},rotateY:function(e,t,i){i*=.5;const r=t[0],n=t[1],s=t[2],o=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l-s*a,e[1]=n*l+o*a,e[2]=s*l+r*a,e[3]=o*l-n*a,e},rotateZ:function(e,t,i){i*=.5;const r=t[0],n=t[1],s=t[2],o=t[3],a=Math.sin(i),l=Math.cos(i);return e[0]=r*l+n*a,e[1]=n*l-r*a,e[2]=s*l+o*a,e[3]=o*l-s*a,e},rotationTo:C,scale:_,set:v,setAxes:function(e,t,i,r){const n=E;return n[0]=i[0],n[3]=i[1],n[6]=i[2],n[1]=r[0],n[4]=r[1],n[7]=r[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],T(e,m(e,n))},setAxisAngle:c,slerp:p,sqlerp:function(e,t,i,r,n,s){return p(N,t,n,s),p(D,i,r,s),p(e,N,D,2*s*(1-s)),e},sqrLen:L,squaredLength:M,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},75218:function(e,t,i){"use strict";i.d(t,{L:function(){return a},g:function(){return o}});var r=i(77472),n=i(78879),s=i(31609);async function o(e,t){return await e.load(),a(e,t)}async function a(e,t){const i=[],o=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?o(...t):n.A.isCollection(t)?t.forEach((e=>o(e))):s.A.isLoadable(t)&&i.push(t))};t(o);let a=null;if(await(0,r.Tj)(i,(async e=>{const t=await(0,r.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||a||(a=t)})),a)throw a.error;return e}},7213:function(e,t,i){"use strict";function r(e){let t,i,r=[],n=!1;return function(...s){return n&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}(s,r)||(i=e.apply(this,s),t=this,r=s,n=!0),i}}i.d(t,{B:function(){return r}})},88226:function(e,t,i){"use strict";i.d(t,{Jd:function(){return h},Nk:function(){return l},OM:function(){return p},Oo:function(){return u},ix:function(){return c},yh:function(){return d}});var r=i(16691),n=i(56275),s=i(15999);function o(e,t,i,r=2,o="abbr"){return(0,s.zJ)(e,(0,n.kM)(t,i).value,i,r,o)}function a(e,t,i,r=2,o="abbr"){return(0,s.nD)(e,(0,n.kM)(t,i).value,i,r,o)}function l(e,t,i,n=r.ie,o=!0){return(0,s.Me)(e.value,e.unit,e.rotationType,t,i,n,o)}function c(e,t,i,r,n="abbr"){switch(r=r??2,i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.tr)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.Ee)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return o(e,t,i,r,n)}}function d(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.J1)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.Mm)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return a(e,t,i,r,n)}}function u(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.t_)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.W4)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return o(e,t,i,r,n)}}function p(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.LF)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.e_)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return a(e,t,i,r,n)}}function h(e,t,i,r=2,n="abbr"){switch(i){case"imperial":return function(e,t,i=2,r="abbr"){return(0,s.Sz)(e,t.value,t.unit,i,r)}(e,t,r,n);case"metric":return function(e,t,i=2,r="abbr"){return(0,s.zq)(e,t.value,t.unit,i,r)}(e,t,r,n);default:return o(e,t,i,r,n)}}},15999:function(e,t,i){"use strict";i.d(t,{Cq:function(){return d},Ee:function(){return h},J1:function(){return v},LF:function(){return w},Me:function(){return S},Mm:function(){return f},Sz:function(){return $},W4:function(){return m},e_:function(){return g},nD:function(){return p},t_:function(){return b},tr:function(){return y},v7:function(){return L},zJ:function(){return u},zq:function(){return _}});var r=i(69296),n=i(16691),s=i(15774),o=i(56275),a=i(50944),l=i(62938),c=i(2900);function d(e,t,i){return e.units[t][i]}function u(e,t,i,r=2,n="abbr"){return`${(0,c.ZV)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:t>0?"never":"exceptZero"})} ${d(e,i,n)}`}function p(e,t,i,r=2,n="abbr"){return`${(0,c.ZV)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${d(e,i,n)}`}function h(e,t,i,r=2,n="abbr"){const s=(0,l.x0)(t,i);return u(e,(0,l.oU)(t,i,s),s,r,n)}function f(e,t,i,r=2,n="abbr"){const s=(0,l.x0)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function m(e,t,i,r=2,n="abbr"){const s=(0,l.x$)(t,i);return u(e,(0,l.oU)(t,i,s),s,r,n)}function g(e,t,i,r=2,n="abbr"){const s=(0,l.x$)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function y(e,t,i,r=2,n="abbr"){const s=(0,l.OU)(t,i);return u(e,(0,l.oU)(t,i,s),s,r,n)}function v(e,t,i,r=2,n="abbr"){const s=(0,l.OU)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function b(e,t,i,r=2,n="abbr"){const s=(0,l.y7)(t,i);return u(e,(0,l.oU)(t,i,s),s,r,n)}function w(e,t,i,r=2,n="abbr"){const s=(0,l.y7)(t,i);return p(e,(0,l.oU)(t,i,s),s,r,n)}function _(e,t,i,r=2,n="abbr"){const s=(0,l.wv)(t,i);return u(e,(0,l.oU)(t,i,s),s,r,n)}function $(e,t,i,r=2,n="abbr"){const s=(0,l.TL)(t,i);return u(e,(0,l.oU)(t,i,s),s,r,n)}const x=(e,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:e>0?"never":"exceptZero"});function S(e,t,i,r,s,a=n.ie,d=!0){let u=a.normalize((0,o.g2)((0,l.oU)(e,t,"degrees"),i,r),0,d);const p=x(u,s??2);return u=function(e,t){const i=JSON.stringify(t);let r=k.get(i);return r||(r=new Intl.NumberFormat("en-US",t),k.set(i,r)),/^[-+]?360\.?0*?$/.test(r.format(e))?0:e}(u,p),(0,c.ZV)(u,p)}const k=new Map;const M=["B","kB","MB","GB","TB"];function L(e,t){let i=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(r.u.KILOBYTES));i=(0,s.qE)(i,0,M.length-1);const n=(0,c.ZV)(t/r.u.KILOBYTES**i,{maximumFractionDigits:2});return(0,a.HC)(e.units.bytes[M[i]],{fileSize:n})}},66110:function(e,t,i){"use strict";i.d(t,{AG:function(){return a},lk:function(){return n},vD:function(){return o},yS:function(){return s}});const r="randomUUID"in crypto;function n(){if(r)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function s(){return`{${n().toUpperCase()}}`}function o(){return`{${n()}}`}function a(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}},6338:function(e,t,i){"use strict";i.d(t,{Hh:function(){return c},mT:function(){return u},o6:function(){return d},s1:function(){return l},ts:function(){return p}});var r=i(39819),n=i(38305),s=i(45532),o=i(57165),a=i(2900);function l(){return(0,n.i)()}function c(){return(0,n.l)()}function d(e,t){const i=[];e=(e=(e=e.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("","'")).replaceAll("",'"');const a=function(e){let t=null;if(e||(e=o.A.WGS84),e.wkid){if(t=n.P.geogcs(e.wkid),!t)throw new r.A("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new r.A("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(t=n.P.fromString(n.a.PE_TYPE_GEOGCS,e.wkt2||e.wkt),!t)throw new r.A("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}(t);return n.c.dmsToGeog(a,1,[e],i)?new s.default(i[0][0],i[0][1],t||o.A.WGS84):null}function u(e){return e&&l()?(0,a.$J)(e)??d(`0 0' 0" N | ${e}`)?.longitude??d(`0 | ${e}`)?.longitude??null:null}function p(e){return e&&l()?(0,a.$J)(e)??d(`${e} | 0 0' 0" E`)?.latitude??d(`${e} | 0`)?.latitude??null:null}},96611:function(e,t,i){"use strict";i.d(t,{Y0:function(){return c},lO:function(){return d}});var r=i(61714),n=i(57165),s=i(57652);const o=new n.A(r.fv),a=new n.A(r.FY),l=new n.A(r.LJ),c=new n.A(r.Ro);function d(e){const t=u.get(e);if(t)return t;let i=o;if(e)if(e===a)i=a;else if(e===l)i=l;else{const t=e.wkid,r=e.latestWkid;if(null!=t||null!=r)(0,s.tl)(t)||(0,s.tl)(r)?i=a:((0,s.ZL)(t)||(0,s.ZL)(r))&&(i=l);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===p?i=a:e===h&&(i=l)}}}return u.set(e,i),i}const u=new Map,p=a.wkt.toUpperCase(),h=l.wkt.toUpperCase()},65907:function(e,t,i){"use strict";i.d(t,{A:function(){return u}});var r,n=i(53804),s=i(75743),o=i(30905),a=i(23502),l=(i(58941),i(40633),i(13798),i(74376)),c=i(65953);let d=r=class extends((0,s.O)(o.oY)){constructor(e){super(e),this.type="georeferenced",this.origin=null}};d.absolute=new r,(0,n._)([(0,l.e)({georeferenced:"georeferenced"},{readOnly:!0})],d.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],d.prototype,"origin",void 0),d=r=(0,n._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],d);const u=d},20460:function(e,t,i){"use strict";i.d(t,{A:function(){return u}});var r=i(53804),n=i(75743),s=i(30905),o=i(23502),a=(i(58941),i(40633),i(13798),i(74376)),l=i(65953),c=i(32501);let d=class extends((0,n.O)(s.oY)){constructor(e){super(e),this.type="local",this.origin=(0,c.vt)()}};(0,r._)([(0,a.e)({local:"local"},{readOnly:!0})],d.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"origin",void 0),d=(0,r._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],d);const u=d},36405:function(e,t,i){"use strict";i.d(t,{A:function(){return g}});var r,n=i(53804),s=i(30905),o=i(23502),a=(i(58941),i(40633),i(13798),i(65953)),l=i(73364),c=i(39714),d=i(32237),u=i(61769),p=i(32501),h=i(26133);let f=r=class extends s.oY{constructor(e){super(e),this.translation=(0,p.vt)(),this.rotationAxis=(0,p.ci)(h.up),this.rotationAngle=0,this.scale=(0,p.fA)(1,1,1)}get rotation(){return(0,h.i4)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,p.o8)((0,h.yo)(e)),this.rotationAngle=(0,h.g7)(e)}get localMatrix(){const e=(0,c.vt)();return(0,d.x8)(m,(0,h.yo)(this.rotation),(0,h.$I)(this.rotation)),(0,l.o1)(e,m,this.translation,this.scale),e}get localMatrixInverse(){return(0,l.B8)((0,c.vt)(),this.localMatrix)}equals(e){return this===e||null!=e&&(0,l.t2)(this.localMatrix,e.localMatrix)}clone(){const e={translation:(0,p.o8)(this.translation),rotationAxis:(0,p.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.o8)(this.scale)};return new r(e)}};(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"translation",void 0),(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAxis",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAngle",void 0),(0,n._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"scale",void 0),(0,n._)([(0,o.MZ)()],f.prototype,"rotation",null),(0,n._)([(0,o.MZ)()],f.prototype,"localMatrix",null),(0,n._)([(0,o.MZ)()],f.prototype,"localMatrixInverse",null),f=r=(0,n._)([(0,a.$)("esri.geometry.support.MeshTransform")],f);const m=(0,u.vt)(),g=f},26133:function(e,t,i){"use strict";i.d(t,{$I:function(){return y},AU:function(){return f},Cr:function(){return u},g7:function(){return g},i4:function(){return d},ui:function(){return p},up:function(){return b},vt:function(){return c},yo:function(){return m}});var r=i(15774),n=i(73364),s=i(32237),o=i(61769),a=i(20551),l=i(32501);function c(e=b){return[e[0],e[1],e[2],e[3]]}function d(e,t,i=c()){return(0,a.c)(i,e),i[3]=t,i}function u(e,t,i){return(0,a.e)(i,e,t),(0,a.n)(i,i),i[3]=-(0,a.r)(e,t),i}function p(e,t=c()){const i=(0,n.l)(w,e);return v(t,(0,r.KJ)((0,s.Xd)(t,i))),t}function h(e,t,i=c()){return(0,s.x8)(w,e,y(e)),(0,s.x8)(_,t,y(t)),(0,s.lw)(w,_,w),v(i,(0,r.KJ)((0,s.Xd)(i,w)))}function f(e,t,i,r=c()){return d(l.Cw,e,$),d(l.JP,t,x),d(l.Cb,i,S),h($,x,$),h($,S,r),r}function m(e){return e}function g(e){return e[3]}function y(e){return(0,r.kU)(e[3])}function v(e,t){return e[3]=t,e}const b=[0,0,1,0],w=(0,o.vt)(),_=(0,o.vt)(),$=(c(),c()),x=c(),S=c()},67376:function(e,t,i){"use strict";i.d(t,{CK:function(){return p},E9:function(){return d},Hq:function(){return u},MW:function(){return h},TE:function(){return f},yJ:function(){return m}});var r=i(88022),n=i(40633),s=i(20551),o=i(45532),a=i(65907),l=i(20460);function c(){return n.A.getLogger("esri.geometry.Mesh")}function d(e){return!u(e)}function u(e){return null!=e.origin}function p(e){return u(e.vertexSpace)}function h(e,t){if(!u(e))return null;const[i,r,n]=e.origin;return new o.default({x:i,y:r,z:n,spatialReference:t})}function f(e,t){const{x:i,y:n,z:s,spatialReference:o}=e,d=[i,n,s??0];return void 0!==t?.geographic&&((0,r.io)(c(),"option: geographic",{replacement:"Use the `vertexSpace` option instead.",version:"4.29",warnOnce:!0}),t.vertexSpace&&c().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")),"local"===(t?.vertexSpace??(u=t?.geographic,null==u?void 0:u?"local":"georeferenced")??function(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}(o))?new l.A({origin:d}):new a.A({origin:d});var u}function m(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,s.p)(e.origin,t.origin))}},92781:function(e,t,i){"use strict";i.d(t,{R:function(){return s},t:function(){return o}});var r=i(77528);const n={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}};let s=e=>(0,r.X$)(n,e),o={create:(e,t)=>(t=s(t),(0,r.dj)(e,document.createElement("div"),void 0,t),(0,r.Av)(e,t)),append:(e,t,i)=>(i=s(i),(0,r.dj)(t,e,void 0,i),(0,r.Av)(t,i)),insertBefore:(e,t,i)=>(i=s(i),(0,r.dj)(t,e.parentNode,e,i),(0,r.Av)(t,i)),merge:(e,t,i)=>(i=s(i),t.domNode=e,(0,r.OM)(e,t,i),(0,r.Av)(t,i)),replace:(e,t,i)=>(i=s(i),(0,r.dj)(t,e.parentNode,e,i),e.parentNode.removeChild(e),(0,r.Av)(t,i))}},77528:function(e,t,i){"use strict";i.d(t,{Av:function(){return T},OM:function(){return x},X$:function(){return l},dj:function(){return S}});var r=i(10362);const n="http://www.w3.org/",s=`${n}2000/svg`,o=`${n}1999/xlink`;let a=[],l=(e,t)=>{let i={};return Object.keys(e).forEach((t=>{i[t]=e[t]})),t&&Object.keys(t).forEach((e=>{i[e]=t[e]})),i},c=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),d=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},u=(e,t,i)=>{if(""!==t.vnodeSelector)for(let r=i;r<e.length;r++)if(c(e[r],t))return r;return-1},p=(e,t,i,r)=>{let n=e[t];if(""===n.vnodeSelector)return;let s=n.properties;if(!(s?void 0===s.key?s.bind:s.key:void 0))for(let s=0;s<e.length;s++)if(s!==t){let t=e[s];if(c(t,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${"added"===r?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},h=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},f=[],m=!1,g=e=>{(e.children||[]).forEach(g),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},y=()=>{m=!1,f.forEach(g),f.length=0},v=e=>{f.push(e),m||(m=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(y,{timeout:16}):setTimeout(y,16))},b=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i){t.style.pointerEvents="none";let r=()=>{t.parentNode&&(t.parentNode.removeChild(t),v(e))};return void i(t,r,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),v(e))},w=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){let l=a[c],u=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)k(e,u,!0);else if("classes"===l){let t=Object.keys(u),i=t.length;for(let r=0;r<i;r++){let i=t[r];u[i]&&e.classList.add(i)}}else if("styles"===l){let t=Object.keys(u),r=t.length;for(let n=0;n<r;n++){let r=t[n],s=u[r];s&&(d(s),i.styleApplyer(e,r,s))}}else if("key"!==l&&null!=u){let a=typeof u;"function"===a?(0===l.lastIndexOf("on",0)&&(n&&(u=n(l,u,e,t)),"oninput"===l&&function(){let e=u;u=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=u):i.namespace===s?"href"===l?e.setAttributeNS(o,l,u):e.setAttribute(l,u):"string"===a&&"value"!==l?"innerHTML"===l?e[l]=r.W5.sanitize(u):_(e)&&l in e?e[l]=u:e.setAttribute(l,u):e[l]=u}}};function _(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let $,x=(e,t,i)=>{((e,t,i)=>{if(t)for(let r of t)S(r,e,void 0,i)})(e,t.children,i),t.text&&(e.textContent=t.text),w(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},S=(e,t,i,r)=>{let n,o=0,a=e.vnodeSelector,c=t.ownerDocument;if(""===a)n=e.domNode=c.createTextNode(e.text),void 0!==i?t.insertBefore(n,i):t.appendChild(n);else{for(let d=0;d<=a.length;++d){let u=a.charAt(d);if(d===a.length||"."===u||"#"===u){let u=a.charAt(o-1),p=a.slice(o,d);"."===u?n.classList.add(p):"#"===u?n.id=p:("svg"===p&&(r=l(r,{namespace:s})),void 0!==r.namespace?n=e.domNode=c.createElementNS(r.namespace,p):(n=e.domNode=e.domNode||c.createElement(p),"input"===p&&e.properties&&void 0!==e.properties.type&&n.setAttribute("type",e.properties.type)),void 0!==i?t.insertBefore(n,i):n.parentNode!==t&&t.appendChild(n)),o=d+1}}x(n,e,r)}},k=(e,t,i)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,i)}))},M=(e,t,i,n)=>{if(!i)return;let a=!1,l=Object.keys(i),c=l.length;for(let u=0;u<c;u++){let c=l[u],p=i[c],h=t[c];if("class"===c)h!==p&&(k(e,h,!1),k(e,p,!0));else if("classes"===c){let t=e.classList,i=Object.keys(p),r=i.length;for(let e=0;e<r;e++){let r=i[e],n=!!p[r];n!==!!h[r]&&(a=!0,n?t.add(r):t.remove(r))}}else if("styles"===c){let t=Object.keys(p),i=t.length;for(let r=0;r<i;r++){let i=t[r],s=p[i];s!==h[i]&&(a=!0,s?(d(s),n.styleApplyer(e,i,s)):n.styleApplyer(e,i,""))}}else if(p||"string"!=typeof h||(p=""),"value"!==c||_(e)){if(p!==h){let t=typeof p;"function"===t&&n.eventHandlerInterceptor||(n.namespace===s?"href"===c?e.setAttributeNS(o,c,p):e.setAttribute(c,p):"string"===t?"innerHTML"===c?e[c]=r.W5.sanitize(p):"role"===c&&""===p?e.removeAttribute(c):_(e)&&c in e?e[c]=p:e.setAttribute(c,p):e[c]!==p&&(e[c]=p),a=!0)}}else{let t=e[c];t!==p&&(e["oninput-value"]?t===e["oninput-value"]:p!==h)&&(e[c]=p,e["oninput-value"]=void 0),p!==h&&(a=!0)}}return a},L=(e,t,i,r,n)=>{if(i===r)return!1;r=r||a;let s,o=(i=i||a).length,l=r.length,d=0,f=0,m=!1;for(;f<l;){let a=d<o?i[d]:void 0,l=r[f];if(void 0!==a&&c(a,l))m=$(a,l,n)||m,d++;else{let a=u(i,l,d+1);if(a>=0){for(s=d;s<a;s++)b(i[s]),p(i,s,e,"removed");m=$(i[a],l,n)||m,d=a+1}else S(l,t,d<o?i[d].domNode:void 0,n),h(l),p(r,f,e,"added")}f++}if(o>d)for(s=d;s<o;s++)b(i[s]),p(i,s,e,"removed");return m};$=(e,t,i)=>{let r=e.domNode,n=!1;if(e===t)return!1;let o=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(e,r),t.domNode=e,n=!0,n}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(i=l(i,{namespace:s})),e.text!==t.text&&(o=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,o=L(t,r,e.children,t.children,i)||o,o=M(r,e.properties,t.properties,i)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),n};let T=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,$(r,i,t)},domNode:e.domNode})},81401:function(e,t,i){"use strict";i.d(t,{F:function(){return a}});var r=i(92781);let n;n=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let s=(e,t)=>{let i=e;return t.forEach((e=>{i=i&&i.children?n(i.children,(t=>t.domNode===e)):void 0})),i},o=(e,t,i)=>{let r=function(r){i("domEvent",r);let n=t(),o=((e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(r.currentTarget,n.domNode);o.reverse();let a,l=s(n.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),a};return(e,t,i,n)=>r},a=e=>{let t,i,n=(0,r.R)(e),s=n.performanceLogger,a=!0,l=!1,c=[],d=[],u=(e,i,r)=>{let a;n.eventHandlerInterceptor=o(t,(()=>a),s),a=e(i,r(),n),c.push(a),d.push(r)},p=()=>{if(i=void 0,a){a=!1,s("renderStart",void 0);for(let e=0;e<c.length;e++){let t=d[e]();s("rendered",void 0),c[e].update(t),s("patched",void 0)}s("renderDone",void 0),a=!0}};return t={renderNow:p,scheduleRender:()=>{i||l||(i=requestAnimationFrame(p))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{u(r.t.append,e,t)},insertBefore:(e,t)=>{u(r.t.insertBefore,e,t)},merge:(e,t)=>{u(r.t.merge,e,t)},replace:(e,t)=>{u(r.t.replace,e,t)},detach:e=>{for(let t=0;t<d.length;t++)if(d[t]===e)return d.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}},43173:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return A}});var r=i(53804),n=i(53216),s=i(39819),o=i(30905),a=i(21609),l=i(31609),c=i(90683),d=i(23502),u=i(67888),p=i(47332),h=i(65953),f=i(91484),m=i(51432),g=i(83525),y=i(40633),v=i(77560);i(13798),i(58941);let b=class extends g.A{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:w(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,c.oP)(e)?y.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return w(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const i=this.cdnUrl;if(null==i)throw new s.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:r}=await i.e(4460).then(i.bind(i,55597));return await r(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function w(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,c.oP)(e)&&(e=(0,c.V1)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,r._)([(0,d.MZ)()],b.prototype,"portalItem",void 0),(0,r._)([(0,d.MZ)({type:String,value:null})],b.prototype,"path",null),(0,r._)([(0,v.w)("path")],b.prototype,"_castPath",null),(0,r._)([(0,d.MZ)({type:String,readOnly:!0})],b.prototype,"url",null),(0,r._)([(0,d.MZ)({type:String,readOnly:!0})],b.prototype,"cdnUrl",null),(0,r._)([(0,d.MZ)({type:String,readOnly:!0})],b.prototype,"itemRelativeUrl",null),b=(0,r._)([(0,h.$)("esri.portal.PortalItemResource")],b);const _=b;let $=class extends g.A{constructor(e){super(e),this.created=null,this.rating=null}};(0,r._)([(0,d.MZ)()],$.prototype,"created",void 0),(0,r._)([(0,d.MZ)()],$.prototype,"rating",void 0),$=(0,r._)([(0,h.$)("esri.portal.PortalRating")],$);const x=$;var S,k=i(60534);const M=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),L=new Set(["KML","GeoJson","CSV"]);let T=S=class extends((0,o.Te)(l.A)){static from(e){return(0,u.PZ)(S,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return"Feature Service"===e||"Feature Collection"===e?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?i="Scene Layer":"Video Service"===e?i="Video Layer":"Scene Package"===e?i="Scene Layer Package":"Stream Service"===e?i="Feature Layer":"Geoprocessing Service"===e?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?i="GeoEnrichment Service":"Geocoding Service"===e?i="Locator":"Microsoft Powerpoint"===e?i="Microsoft PowerPoint":"GeoJson"===e?i="GeoJSON":"Globe Service"===e?i="Globe Layer":"Vector Tile Service"===e?i="Tile Layer":"netCDF"===e?i="NetCDF":"Map Service"===e?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?i="Big Data File Share":"Compact Tile Package"===e?i="Tile Package (tpkx)":"Raster function template"===e?i="Raster Function Template":"OGCFeatureServer"===e?i="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?i="Instant App":"Insights Page"===e?i="Insights Report":"Excalibur Imagery Project"===e?i="Excalibur Project":"3DTiles Service"===e?i="3D tiles layer":"3DTiles Package"===e&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new f.default(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let i,r=!1,s=!1,o=!1,a=!1,l=!1,c=!1,d=!1,u=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(s=t.includes("Table"),o=t.includes("Route Layer"),a=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),i=l&&s?"spatiotemporaltable":s?"table":o?"routelayer":a?"markup":l?"spatiotemporal":c?"utilitynetwork":r?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(l=t.includes("Spatiotemporal"),d=t.includes("Relational"),i=l||d?"mapimages":r||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):i="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?i="maps":"web scene"===e?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?i="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?i="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?i="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?i="datafiles":"360 vr experience"===e?i="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?i="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?i="addindesktop":"pdf"===e?i="pdf":"microsoft word"===e?i="word":"microsoft excel"===e?i="excel":"microsoft powerpoint"===e?i="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?i="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?i="layersgray":"analysis model"===e?i="analysismodel":"scene package"===e?i="scenepackage":"3dtiles package"===e?i="3dtileslayerpackage":"3dtiles service"===e?i="3dtileslayer":"mobile scene package"===e?i="mobilescenepackage":"tile package"===e||"compact tile package"===e?i="tilepackage":"task file"===e?i="taskfile":"report template"===e?i="report-template":"statistical data collection"===e?i="statisticaldatacollection":"insights workbook"===e?i="workbook":"insights model"===e?i="insightsmodel":"insights page"===e?i="insightspage":"insights theme"===e?i="insightstheme":"hub initiative"===e?i="hubinitiative":"hub page"===e?i="hubpage":"hub site application"===e?i="hubsite":"hub event"===e?i="hubevent":"hub project"===e?i="hubproject":"relational database connection"===e?i="relationaldatabaseconnection":"big data file share"===e?i="datastorecollection":"image collection"===e?i="imagecollection":"desktop style"===e?i="desktopstyle":"style"===e?i=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?i="dashboard":"raster function template"===e?i="rasterprocessingtemplate":"vector tile package"===e?i="vectortilepackage":"ortho mapping project"===e?i="orthomappingproject":"ortho mapping template"===e?i="orthomappingtemplate":"solution"===e?i="solutions":"geopackage"===e?i="geopackage":"deep learning package"===e?i="deeplearningpackage":"real time analytic"===e?i="realtimeanalytics":"reality mapping project"===e?i="realitymappingproject":"big data analytic"===e?i="bigdataanalytics":"feed"===e?i="feed":"excalibur imagery project"===e?i="excaliburimageryproject":"notebook"===e?i="notebook":"storymap"===e?i="storymap":"survey123 add in"===e?i="survey123addin":"mission"===e?i="mission":"mission report"===e?i="missionreport":"mission template"===e?i="missiontemplate":"quickcapture project"===e?i="quickcaptureproject":"pro report"===e?i="proreport":"pro report template"===e?i="proreporttemplate":"urban model"===e?i="urbanmodel":"urban project"===e?i="urbanproject":"web experience"===e?i="experiencebuilder":"web experience template"===e?i="webexperiencetemplate":"experience builder widget"===e?i="experiencebuilderwidget":"experience builder widget package"===e?i="experiencebuilderwidgetpackage":"workflow"===e?i="workflow":"kernel gateway connection"===e?i="kernelgatewayconnection":"insights script"===e?i="insightsscript":"hub initiative template"===e?i="hubinitiativetemplate":"storymap theme"===e?i="storymaptheme":"knowledge graph"===e?i="knowledgegraph":"knowledge graph layer"===e?i="knowledgegraphlayer":"knowledge studio project"===e?i="knowledgestudio":"native application"===e?i="nativeapp":"native application installer"===e?i="nativeappinstaller":"web link chart"===e?i="linkchart":"knowledge graph web investigation"===e?i="investigation":"ogcfeatureserver"===e?i="features":"pro presentation"===e?i="propresentation":"pro project"===e?i="proproject":"insights workbook package"===e?i="insightsworkbookpackage":"apache parquet"===e?i="apacheparquet":"notebook code snippet library"===e?i="notebookcodesnippets":"suitability model"===e?i="suitabilitymodel":"esri classifier definition"===e?i="classifierdefinition":"esri classification schema"===e?i="classificationschema":"insights data engineering workbook"===e?i="dataengineeringworkbook":"insights data engineering model"===e?i="dataengineeringmodel":"deep learning studio project"===e?i="deeplearningproject":"discussion"===e?i="discussion":"allsource project"===e?i="allsourceproject":"api key"===e?i="apikey":"data pipeline"===e?i="datapipelines":"group layer"===e?(u=t.includes("Map"),i=u?"layergroup2d":"layergroup"):i="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",i?(0,n.s)("esri/images/portal/"+i+"16.png"):null}get isLayer(){return null!=this.type&&M.has(this.type)}get itemCdnUrl(){return(0,k.a)(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.username;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=m.A.getDefault()),i=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof x&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new x({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,a.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:(0,a.o8)(this.created),culture:this.culture,description:this.description,extent:(0,a.o8)(this.extent),groupCategories:(0,a.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,a.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,a.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new S({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const i=e[t];i&&(e[t]=JSON.stringify(i))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new x(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},S)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,i={method:"post"};i.query=this.createPostQuery();for(const e in i.query)null===i.query[e]&&(i.query[e]="");return i.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?i.query.text=t:"object"==typeof t&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new s.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:n,tags:o,title:a}=e||{},l={method:"post",query:{copyPrivateResources:"all"===r,folder:"string"==typeof n?n:n?.id,includeResources:!!r,tags:o?.join(","),title:a}},{itemId:c}=await t.request(`${i}/copy`,l);return new S({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if("string"==typeof t)(0,c.DB)(t)?r.query={data:t}:r.query={url:(0,c.s2)(t)},null!=i&&(r.query.filename=i);else{const e=new FormData;null!=i?e.append("file",t,i):e.append("file",t),r.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await i.e(4460).then(i.bind(i,55597));return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await i.e(4460).then(i.bind(i,55597));return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await i.e(4460).then(i.bind(i,55597));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new s.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await i.e(4460).then(i.bind(i,55597));return t(this,e)}resourceFromPath(e){return new _({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};return(0,a.oy)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new S({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,r._)([(0,d.MZ)({type:["private","shared","org","public"]})],T.prototype,"access",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"accessInformation",void 0),(0,r._)([(0,d.MZ)({type:String})],T.prototype,"apiKey",void 0),(0,r._)([(0,d.MZ)({json:{read:{source:"appProxies"}}})],T.prototype,"applicationProxies",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"avgRating",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"categories",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"classification",void 0),(0,r._)([(0,d.MZ)({type:Date})],T.prototype,"created",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"culture",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"description",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"displayName",null),(0,r._)([(0,d.MZ)({type:f.default})],T.prototype,"extent",void 0),(0,r._)([(0,p.w)("extent")],T.prototype,"readExtent",null),(0,r._)([(0,d.MZ)()],T.prototype,"groupCategories",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"iconUrl",null),(0,r._)([(0,d.MZ)()],T.prototype,"id",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"isLayer",null),(0,r._)([(0,d.MZ)({type:Boolean,readOnly:!0})],T.prototype,"isOrgItem",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"itemControl",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"itemPageUrl",null),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"itemUrl",null),(0,r._)([(0,d.MZ)()],T.prototype,"licenseInfo",void 0),(0,r._)([(0,d.MZ)({type:Date})],T.prototype,"modified",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"name",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"numComments",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"numRatings",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"numViews",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"owner",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"ownerFolder",void 0),(0,r._)([(0,d.MZ)({type:m.A})],T.prototype,"portal",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"screenshots",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"size",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"snippet",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"sourceJSON",void 0),(0,r._)([(0,d.MZ)({type:String})],T.prototype,"sourceUrl",void 0),(0,r._)([(0,d.MZ)({type:String})],T.prototype,"spatialReference",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"tags",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"thumbnail",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"thumbnailUrl",null),(0,r._)([(0,d.MZ)()],T.prototype,"title",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"type",void 0),(0,r._)([(0,d.MZ)()],T.prototype,"typeKeywords",void 0),(0,r._)([(0,d.MZ)({type:String,json:{read(e,t){if(L.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],T.prototype,"url",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],T.prototype,"userItemUrl",null),T=S=(0,r._)([(0,h.$)("esri.portal.PortalItem")],T);const A=T},82418:function(e,t,i){"use strict";function r(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function n(e,t){return"number"==typeof e?e:e?.stops?.length?function(e){let t=0,i=0;for(let r=0;r<e.length;r++){const n=e[r].size;"number"==typeof n&&(t+=n,i++)}return t/i}(e.stops):t}function s(e,t){if(!t)return e;const i=t.filter((e=>"size"===e.type)).map((t=>{const{maxSize:i,minSize:r}=t;return(n(i,e)+n(r,e))/2}));let r=0;const s=i.length;if(0===s)return e;for(let e=0;e<s;e++)r+=i[e];const o=Math.floor(r/s);return Math.max(o,e)}function o(e){const t=e?.renderer,i=e?.pointerType,n="touch"===i?9:6;if(!t)return n;const o="visualVariables"in t?s(n,t.visualVariables):n;if("simple"===t.type)return r(o,t.symbol);if("unique-value"===t.type){let e=o;return t.uniqueValueInfos?.forEach((t=>{e=r(e,t.symbol)})),e}if("class-breaks"===t.type){let e=o;return t.classBreakInfos.forEach((t=>{e=r(e,t.symbol)})),e}return"dot-density"===t.type||t.type,o}i.d(t,{o:function(){return o}})},33118:function(e,t,i){"use strict";i.d(t,{fs:function(){return o},i0:function(){return a}});var r=i(8289),n=i(53743),s=(i(54547),i(51107),i(21168));function o(e){return(0,n.vE)(e)||(0,n.zD)(e)||(0,n.Ah)(e)}function a(e,t){const{format:i,timeZoneOptions:n,fieldType:o}=t??{};let a,l;if(n&&({timeZone:a,timeZoneName:l}=(0,s.hv)(n.layerTimeZone,n.datesInUnknownTimezone,n.viewTimeZone,(0,r.J2)(i||"short-date-short-time"),o)),"string"==typeof e&&isNaN(Date.parse("time-only"===o?`1970-01-01T${e}Z`:e)))return e;switch(o){case"date-only":{const t=(0,r.J2)(i||"short-date");return"string"==typeof e?(0,r.iS)(e,{...t}):(0,r.Yq)(e,{...t,timeZone:s.n$})}case"time-only":{const t=(0,r.J2)(i||"short-time");return"string"==typeof e?(0,r.F8)(e,t):(0,r.Yq)(e,{...t,timeZone:s.n$})}case"timestamp-offset":{if(!a&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=i||n?(0,r.J2)(i||"short-date-short-time"):void 0,s=t?{...t,timeZone:a,timeZoneName:l}:void 0;return"string"==typeof e?(0,r.Ey)(e,s):(0,r.Yq)(e,s)}default:{const t=i||n?(0,r.J2)(i||"short-date-short-time"):void 0;return(0,r.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:a,timeZoneName:l}:void 0)}}}new Set(["integer","small-integer"])},11876:function(e,t,i){"use strict";i.d(t,{H:function(){return o},q:function(){return s}});var r=i(53216),n=i(38225);async function s(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await(0,n.ud)("esri/t9n/basemaps");return i[e]||i[t]}const o={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}}},51107:function(e,t,i){"use strict";i.d(t,{VC:function(){return d},dp:function(){return p},jj:function(){return u},ns:function(){return h}});var r=i(74756),n=i(25591),s=(i(78879),i(40633)),o=i(95929),a=(i(90683),i(67888)),l=(i(25128),i(11876));const c=()=>s.A.getLogger("esri.support.basemapUtils");function d(){return{}}function u(e){for(const t in e){const i=e[t];(0,o.pR)(i),delete e[t]}}function p(e,t){let i;if("string"==typeof e){const s=e in l.H,o=!s&&e.includes("/");if(!s&&!o){if(n.default.apiKey)c().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(l.H).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");c().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(i=t[e]),i||(i=s?r.default.fromId(e):new r.default({style:{id:e}}),t&&(t[e]=i))}else i=(0,a.dp)(r.default,e);return i?.destroyed&&(c().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function h(e,t){return e.basemap?.referenceLayers?.some((e=>e.uid===t))||e.basemap?.baseLayers?.some((e=>e.uid===t))}},76722:function(e,t,i){"use strict";i.d(t,{c:function(){return s}});var r=i(62938),n=i(51432);function s(e){const t="metric";if(null==e)return t;const i=e.map,s=(i&&"portalItem"in i?i.portalItem?.portal:null)??n.A.getDefault();switch(s.user?.units??s.units){case t:return t;case"english":return"imperial"}return(0,r.jM)(e.spatialReference)??t}},93839:function(e,t,i){"use strict";i.d(t,{fJ:function(){return s},g4:function(){return n},hY:function(){return o}});const r="calcite-mode-";function n(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function s(){return`${r}${n()?"dark":"light"}`}function o(e){a(e),e.classList.add(s())}function a(e){Array.from(e.classList).forEach((t=>{t.startsWith(r)&&e.classList.remove(t)}))}},74661:function(e,t,i){"use strict";i.d(t,{A7:function(){return c},Cx:function(){return d},Hk:function(){return u},JJ:function(){return m},SF:function(){return p},UK:function(){return l},jM:function(){return h},x3:function(){return f}}),i(58941);var r=i(8740),n=i(22198),s=i(90363),o=i(90972),a=i(6259);const l=s.A.fromJSON(a.Cb),c=n.A.fromJSON(a.yM),d=r.A.fromJSON(a.WR),u=o.A.fromJSON(a.JZ);function p(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return l;case"polyline":return c;case"polygon":case"extent":return d}return null}const h=s.A.fromJSON(a.nC),f=n.A.fromJSON(a.HW),m=r.A.fromJSON(a.b6)},6259:function(e,t,i){"use strict";i.d(t,{Cb:function(){return s},HW:function(){return d},JR:function(){return n},JZ:function(){return l},WR:function(){return a},b6:function(){return u},fT:function(){return r},nC:function(){return c},yM:function(){return o}});const r=[252,146,31,255],n=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},d={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},u={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},89127:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return W}});var r=i(53804),n=(i(50917),i(59469)),s=i(48996),o=i(95929),a=i(56275),l=i(28181),c=i(23502),d=(i(58941),i(40633),i(13798),i(65953)),u=i(87416),p=i(35068),h=i(38441),f=i(44740),m=i(91508),g=i(45532),y=i(71673);function v(e,t,i,r){const n=[];for(const s of e){const e=s.slice();n.push(e);const o=t*(s[0]-r.x)-i*(s[1]-r.y)+r.x,a=i*(s[0]-r.x)+t*(s[1]-r.y)+r.y;e[0]=o,e[1]=a}return n}function b(e,t,i){const{hasM:r,hasZ:n,spatialReference:s}=e,o=t*Math.PI/180,a=Math.cos(o),l=Math.sin(o);if("xmin"in e&&(i=i??e.center,e=new f.A({spatialReference:s,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})),"paths"in e){i=i??e.extent.center;const t=[];for(const r of e.paths)t.push(v(r,a,l,i));return new m.A({hasM:r,hasZ:n,spatialReference:s,paths:t})}if("rings"in e){i=i??e.extent.center;const t=[];for(const r of e.rings){const e=(0,h.$3)(r),n=v(r,a,l,i);(0,h.$3)(n)!==e&&n.reverse(),t.push(n)}return new f.A({hasM:r,hasZ:n,spatialReference:s,rings:t})}if("x"in e){i=i??e;const t=new g.default({x:a*(e.x-i.x)-l*(e.y-i.y)+i.x,y:l*(e.x-i.x)+a*(e.y-i.y)+i.y,spatialReference:s});return null!=e.z&&(t.z=e.z),null!=e.m&&(t.m=e.m),t}return"points"in e?(i=i??e.extent.center,new y.A({hasM:r,hasZ:n,points:v(e.points,a,l,i),spatialReference:s})):null}var w=i(8740),_=i(22198),$=i(90363),x=i(67060),S=i(62190),k=i(93959),M=i(777),L=i(69646),T=i(37102),A=i(24148),I=i(60403),C=i(96632),O=i(94492),G=i(9862),R=i(16633);class N{constructor(e,t,i,r){this.graphics=e,this.mover=t,this.dx=i,this.dy=r,this.type="move-start"}}class D{constructor(e,t,i,r){this.graphics=e,this.mover=t,this.dx=i,this.dy=r,this.type="move"}}class E{constructor(e,t,i,r){this.graphics=e,this.mover=t,this.dx=i,this.dy=r,this.type="move-stop"}}class Z{constructor(e,t,i){this.graphics=e,this.mover=t,this.angle=i,this.type="rotate-start"}}class U{constructor(e,t,i){this.graphics=e,this.mover=t,this.angle=i,this.type="rotate"}}class j{constructor(e,t,i){this.graphics=e,this.mover=t,this.angle=i,this.type="rotate-stop"}}class P{constructor(e,t,i,r){this.graphics=e,this.mover=t,this.xScale=i,this.yScale=r,this.type="scale-start"}}class z{constructor(e,t,i,r){this.graphics=e,this.mover=t,this.xScale=i,this.yScale=r,this.type="scale"}}class H{constructor(e,t,i,r){this.graphics=e,this.mover=t,this.xScale=i,this.yScale=r,this.type="scale-stop"}}const F=L.W.transformGraphics,V={centerIndicator:new $.A({style:"cross",size:F.center.size,color:F.center.color}),fill:{default:new w.A({color:F.fill.color,outline:{color:F.fill.outlineColor,join:"round",width:1}}),active:new w.A({color:F.fill.stagedColor,outline:{color:F.fill.outlineColor,join:"round",style:"dash",width:1}})},handles:{default:new $.A({style:"square",size:F.vertex.size,color:F.vertex.color,outline:{color:F.vertex.outlineColor,width:1}}),hover:new $.A({style:"square",size:F.vertex.hoverSize,color:F.vertex.hoverColor,outline:{color:F.vertex.hoverOutlineColor,width:1}})},rotator:{default:new $.A({style:"circle",size:F.vertex.size,color:F.vertex.color,outline:{color:F.vertex.outlineColor,width:1}}),hover:new $.A({style:"circle",size:F.vertex.hoverSize,color:F.vertex.hoverColor,outline:{color:F.vertex.hoverOutlineColor,width:1}})},rotatorLine:new _.A({color:F.line.color,width:1})};let B=class extends s.A.EventedAccessor{constructor(e){super(e),this._activeHandleGraphic=null,this._graphicAttributes={esriSketchTool:"box"},this._mover=null,this._centerGraphic=null,this._backgroundGraphic=null,this._vertexGraphics=[],this._rotateHandleGraphic=null,this._rotateGraphicOffset=20,this._angleOfRotation=0,this._rotateLineGraphic=null,this._startInfo=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this.tooltip=null,this.type="box",this.callbacks={onMoveStart(){},onMove(){},onMoveStop(){},onScaleStart(){},onScale(){},onScaleStop(){},onRotateStart(){},onRotate(){},onRotateStop(){},onGraphicClick(){}},this.enableMovement=!0,this.enableRotation=!0,this.enableScaling=!0,this.graphics=[],this.highlightsEnabled=!0,this.layer=null,this.preserveAspectRatio=!1,this.showCenterGraphic=!0,this.symbols=V,this.sketchOptions=new T.A,this.view=null,this._getBounds=(()=>{const e=(0,u.vt)();return(t,i)=>{t[0]=Number.POSITIVE_INFINITY,t[1]=Number.POSITIVE_INFINITY,t[2]=Number.NEGATIVE_INFINITY,t[3]=Number.NEGATIVE_INFINITY;for(const r of i){if(!r)continue;let i,n,s,o;if("point"===r.type)i=s=r.x,n=o=r.y;else if("multipoint"===r.type){const t=(0,h.$K)(r);[i,n,s,o]=(0,p.Yz)(e,[t])}else if("extent"===r.type)[i,n,s,o]=[r.xmin,r.ymin,r.xmax,r.ymax];else{const t=(0,h.$K)(r);[i,n,s,o]=(0,p.Yz)(e,t)}t[0]=Math.min(i,t[0]),t[1]=Math.min(n,t[1]),t[2]=Math.max(s,t[2]),t[3]=Math.max(o,t[3])}return t}})()}initialize(){const e=this.view;this._highlightHelper=new k.A({view:e}),this._setup(),this.addHandles([(0,l.when)((()=>e?.ready),(()=>{const{layer:e,view:t}=this;(0,M.Y)(t,e)}),{once:!0,initial:!0}),(0,l.watch)((()=>this.preserveAspectRatio),(()=>{this._activeHandleGraphic&&(this._scaleGraphic(this._activeHandleGraphic),this._updateGraphics(),this._updateTooltip(this._activeHandleGraphic))})),(0,l.watch)((()=>e?.scale),(()=>{this._updateRotateGraphic(),this._updateRotateLineGraphic()})),(0,l.watch)((()=>this.graphics),(()=>this.refresh())),(0,l.watch)((()=>this.layer),((e,t)=>{t&&this._resetGraphics(t),this.refresh()})),(0,l.watch)((()=>this.highlightsEnabled),(()=>{this._highlightHelper?.removeAll(),this._setUpHighlights()})),(0,l.watch)((()=>this.sketchOptions.tooltips.effectiveEnabled),(t=>{this.tooltip=t?(0,A.A)((()=>({view:e,options:this.sketchOptions.tooltips}))):(0,o.pR)(this.tooltip)}),l.pc),(0,l.watch)((()=>this.view.effectiveTheme.accentColor),(()=>this._updateSymbolsForTheme()),l.Vh),this.on("move-start",(e=>this.callbacks?.onMoveStart?.(e))),this.on("move",(e=>this.callbacks?.onMove?.(e))),this.on("move-stop",(e=>this.callbacks?.onMoveStop?.(e))),this.on("rotate-start",(e=>this.callbacks?.onRotateStart?.(e))),this.on("rotate",(e=>this.callbacks?.onRotate?.(e))),this.on("rotate-stop",(e=>this.callbacks?.onRotateStop?.(e))),this.on("scale-start",(e=>this.callbacks?.onScaleStart?.(e))),this.on("scale",(e=>this.callbacks?.onScale?.(e))),this.on("scale-stop",(e=>this.callbacks?.onScaleStop?.(e)))])}destroy(){this._reset(),this.tooltip=(0,o.pR)(this.tooltip)}get state(){const e=this.view?.ready??!1,t=this.graphics.length&&this.layer;return e&&t?"active":e?"ready":"disabled"}isUIGraphic(e){return this._vertexGraphics.includes(e)||e===this._backgroundGraphic||e===this._centerGraphic||e===this._rotateHandleGraphic||e===this._rotateLineGraphic}move(e,t){if(this._mover&&this.graphics.length){for(const i of this.graphics){const r=i.geometry,n=(0,x.lR)(r,e,t,this.view);i.geometry=n}this.refresh(),this.emit("move-stop",new E(this.graphics,null,e,t))}}scale(e,t){if(this._mover&&this.graphics.length){for(const i of this.graphics){const r=i.geometry,n=(0,x.hs)(r,e,t);i.geometry=n}this.refresh(),this.emit("scale-stop",new H(this.graphics,null,e,t))}}rotate(e,t){if(this._mover&&this.graphics.length){if(!t){const e=this._vertexGraphics[1].geometry.x,i=this._vertexGraphics[3].geometry.y;t=new g.default(e,i,this.view.spatialReference)}for(const i of this.graphics){const r=b(i.geometry,e,t);i.geometry=r}this.refresh(),this.emit("rotate-stop",new j(this.graphics,null,e))}}refresh(){this._reset(),this._setup()}reset(){this.graphics=[]}_setup(){"active"===this.state&&(this._setUpHighlights(),this._setupGraphics(),this._setupMover(),this._updateGraphics())}_reset(){this._highlightHelper?.removeAll(),this._resetGraphicStateVars(),this._resetGraphics(),this._updateTooltip(),this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}_resetGraphicStateVars(){this._startInfo=null,this._activeHandleGraphic=null,this._totalDx=0,this._totalDy=0,this._xScale=1,this._yScale=1,this._angleOfRotation=0}_resetGraphics(e){(e=e||this.layer)&&(e.removeMany(this._vertexGraphics),e.remove(this._backgroundGraphic),e.remove(this._centerGraphic),e.remove(this._rotateHandleGraphic),e.remove(this._rotateLineGraphic)),this._vertexGraphics.forEach((e=>!e.destroyed&&e.destroy())),!this._backgroundGraphic.destroyed&&this._backgroundGraphic.destroy(),!this._centerGraphic.destroyed&&this._centerGraphic.destroy(),!this._rotateHandleGraphic.destroyed&&this._rotateHandleGraphic.destroy(),!this._rotateLineGraphic.destroyed&&this._rotateLineGraphic.destroy(),this._vertexGraphics=[],this._backgroundGraphic=null,this._centerGraphic=null,this._rotateHandleGraphic=null,this._rotateLineGraphic=null}_setupMover(){let e=[];this.enableScaling&&(e=e.concat(this._vertexGraphics)),this.enableMovement&&(e=e.concat(this.graphics,this._backgroundGraphic)),this.enableRotation&&e.push(this._rotateHandleGraphic),this.showCenterGraphic&&e.push(this._centerGraphic),this._mover=new S.default({enableMoveAllGraphics:!1,highlightsEnabled:!1,indicatorsEnabled:!1,view:this.view,graphics:e,callbacks:{onGraphicClick:e=>this._onGraphicClickCallback(e),onGraphicMoveStart:e=>this._onGraphicMoveStartCallback(e),onGraphicMove:e=>this._onGraphicMoveCallback(e),onGraphicMoveStop:e=>this._onGraphicMoveStopCallback(e),onGraphicPointerOver:e=>this._onGraphicPointerOverCallback(e),onGraphicPointerOut:e=>this._onGraphicPointerOutCallback(e)}})}_getStartInfo(e){const[t,i,r,n]=this._getBoxBounds((0,u.vt)()),s=Math.abs(r-t),o=Math.abs(n-i),a=(r+t)/2,l=(n+i)/2,{x:c,y:d}=e.geometry;return{width:s,height:o,centerX:a,centerY:l,startX:c,startY:d,graphicInfos:this._getGraphicInfos(),box:this._backgroundGraphic.geometry,rotate:this._rotateHandleGraphic.geometry}}_getGraphicInfos(){return this.graphics.map((e=>this._getGraphicInfo(e)))}_getGraphicInfo(e){const t=e.geometry,[i,r,n,s]=this._getBounds((0,u.vt)(),[t]);return{width:Math.abs(n-i),height:Math.abs(s-r),centerX:(n+i)/2,centerY:(s+r)/2,geometry:t}}_onGraphicClickCallback(e){e.viewEvent.stopPropagation(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e)}_onGraphicMoveStartCallback(e){const{_angleOfRotation:t,_xScale:i,_yScale:r,_backgroundGraphic:n,_vertexGraphics:s,_rotateHandleGraphic:o,symbols:a}=this,l=e.graphic;this._resetGraphicStateVars(),this._hideGraphicsBeforeUpdate(),n.symbol=a.fill.active,this._startInfo=this._getStartInfo(l),this._updateTooltip(l,e.viewEvent),l===o?(this.view.cursor="grabbing",this.emit("rotate-start",new Z(this.graphics,l,t))):s.includes(l)?(this._activeHandleGraphic=l,this.emit("scale-start",new P(this.graphics,l,i,r))):this.emit("move-start",new N(this.graphics,l,e.dx,e.dy))}_onGraphicMoveCallback(e){const t=e.graphic;if(this._startInfo)if(this._vertexGraphics.includes(t))this._scaleGraphic(t),this._updateTooltip(t,e.viewEvent),this.emit("scale",new z(this.graphics,t,this._xScale,this._yScale));else if(t===this._rotateHandleGraphic)this._rotateGraphic(t),this._updateTooltip(t,e.viewEvent),this.emit("rotate",new U(this.graphics,t,this._angleOfRotation));else{const{dx:i,dy:r}=e;this._totalDx+=i,this._totalDy+=r,this._moveGraphic(t,i,r),this._updateTooltip(t,e.viewEvent),this.emit("move",new D(this.graphics,t,i,r))}}_onGraphicMoveStopCallback(e){const t=e.graphic;if(!this._startInfo)return void this.refresh();const{_angleOfRotation:i,_totalDx:r,_totalDy:n,_xScale:s,_yScale:o,_vertexGraphics:a,_rotateHandleGraphic:l}=this;this.refresh(),t===l?(this.view.cursor="pointer",this.emit("rotate-stop",new j(this.graphics,t,i))):a.includes(t)?this.emit("scale-stop",new H(this.graphics,t,s,o)):this.emit("move-stop",new E(this.graphics,t,r,n))}_onGraphicPointerOverCallback(e){const{_backgroundGraphic:t,_vertexGraphics:i,graphics:r,_rotateHandleGraphic:n,symbols:s,view:o}=this,a=e.graphic;if(this._hoveredGraphic=a,a===n)return n.symbol=s.rotator.hover,o.cursor="pointer",void this._updateTooltip(a);if(r.includes(a)||a===t)return void(o.cursor="move");if(!i.includes(a))return void(o.cursor="pointer");this._updateTooltip(a),e.graphic.symbol=s.handles.hover;const l=o.rotation;let c,d=e.index;switch(d<8&&(l>=0&&l<45?d%=8:d=l>=45&&l<90?(d+1)%8:l>=90&&l<135?(d+2)%8:l>=135&&l<180?(d+3)%8:l>=180&&l<225?(d+4)%8:l>=225&&l<270?(d+5)%8:l>=270&&l<315?(d+6)%8:(d+7)%8),d){case 0:case 4:c="nwse-resize";break;case 1:case 5:c="ns-resize";break;case 2:case 6:c="nesw-resize";break;case 3:case 7:c="ew-resize";break;default:c="pointer"}o.cursor=c}_onGraphicPointerOutCallback(e){const{_vertexGraphics:t,_rotateHandleGraphic:i,symbols:r,view:n}=this;this._hoveredGraphic=null,e.graphic===i?i.symbol=r.rotator.default:t.includes(e.graphic)&&(e.graphic.symbol=r.handles.default),n.cursor="default",this._updateTooltip()}_scaleGraphic(e){const{_startInfo:t,_vertexGraphics:i,preserveAspectRatio:r,view:n}=this,{centerX:s,centerY:o,graphicInfos:a,height:l,startX:c,startY:d,width:u}=t,{resolution:p,transform:h}=n.state,f=i.indexOf(e);1!==f&&5!==f||this._updateX(e,s),3!==f&&7!==f||this._updateY(e,o);const{x:m,y:y}=e.geometry,v=h[0]*m+h[2]*y+h[4],b=h[1]*m+h[3]*y+h[5],w=a?.map((e=>e.geometry))??[],_=w.every((e=>"point"===e.type));if((0===u||0===l)&&_){const e=K((m-c)/p),i=K((d-y)/p);for(let t=0;t<w.length;t++)this.graphics[t].geometry=(0,x.lR)(w[t],e,i,n,!0);return this._centerGraphic.geometry=new g.default(m,y,n.spatialReference),void(this._backgroundGraphic.geometry=(0,x.lR)(t.box,e,i,n,!0))}if(r){const e=K(h[0]*s+h[2]*o+h[4],2),t=K(h[1]*s+h[3]*o+h[5],2),i=K(h[0]*c+h[2]*d+h[4],2),r=K(h[1]*c+h[3]*d+h[5],2);let n=(0,x.wW)(e,t,i,r,v,b);0!==n&&Math.abs(n)!==1/0||(n=1),this._xScale=this._yScale=n;for(const e of w){const t=w.indexOf(e);this.graphics[t].geometry=(0,x.hs)(e,this._xScale,this._yScale,[s,o])}this._updateBackgroundGraphic()}else{let e=m-c,i=d-y;if(1===f||5===f?e=0:3!==f&&7!==f||(i=0),0===e&&0===i)return;const r=s+e/2,a=o+i/2;let h=(u+(c>s?e:-1*e))/u,v=(l+(d<o?i:-1*i))/l;1!==f&&5!==f&&0!==h&&Math.abs(h)!==1/0||(h=1),3!==f&&7!==f&&0!==v&&Math.abs(v)!==1/0||(v=1),this._xScale=h,this._yScale=v;const b=(r-s)/p,_=(a-o)/p,$=(0,x.hs)(t.box,this._xScale,this._yScale);this._backgroundGraphic.geometry=(0,x.lR)($,b,_,n,!0);const{centerX:S,centerY:k}=this._getGraphicInfo(this._backgroundGraphic),M=(S-s)/p,L=-1*(k-o)/p;for(const e of w){const t=w.indexOf(e),i=(0,x.hs)(e,this._xScale,this._yScale,[s,o]);this.graphics[t].geometry=(0,x.lR)(i,M,L,n,!0)}this._centerGraphic.geometry=new g.default(S,k,n.spatialReference)}}_rotateGraphic(e){const{centerX:t,centerY:i,startX:r,startY:n,box:s,rotate:o}=this._startInfo,a=this.view.spatialReference,l=new g.default(r,n,a),c=new g.default(t,i,a),d=e.geometry;this._angleOfRotation=(0,x.UT)(l,d,c);const u=this._startInfo.graphicInfos?.map((e=>e.geometry))??[];for(const e of u){const t=u.indexOf(e),i=b(e,this._angleOfRotation,c);this.graphics[t].geometry=i}this._backgroundGraphic.geometry=b(s,this._angleOfRotation,c),this._rotateHandleGraphic.geometry=b(o,this._angleOfRotation,c)}_moveGraphic(e,t,i){if(this.graphics.includes(e)){const r=this._backgroundGraphic.geometry;this._backgroundGraphic.geometry=(0,x.lR)(r,t,i,this.view);for(const r of this.graphics)r!==e&&(r.geometry=(0,x.lR)(r.geometry,t,i,this.view))}else if(e===this._centerGraphic){const e=this._backgroundGraphic.geometry;this._backgroundGraphic.geometry=(0,x.lR)(e,t,i,this.view)}if(e===this._backgroundGraphic||e===this._centerGraphic)for(const e of this.graphics)e.geometry=(0,x.lR)(e.geometry,t,i,this.view)}_setUpHighlights(){this.highlightsEnabled&&this.graphics.length&&this._highlightHelper?.add(this.graphics)}_setupGraphics(){const{_graphicAttributes:e,symbols:t}=this;this._centerGraphic=new n.default({symbol:t.centerIndicator,attributes:e}),this.showCenterGraphic&&this.layer.add(this._centerGraphic),this._backgroundGraphic=new n.default({symbol:t.fill.default,attributes:e}),this.layer.add(this._backgroundGraphic),this._rotateLineGraphic=new n.default({symbol:t.rotatorLine,attributes:e}),this._rotateHandleGraphic=new n.default({symbol:t.rotator.default,attributes:e}),this.enableRotation&&!this._hasExtentGraphic()&&this.layer.addMany([this._rotateLineGraphic,this._rotateHandleGraphic]);for(let i=0;i<8;i++)this._vertexGraphics.push(new n.default({symbol:t.handles.default,attributes:e}));this.enableScaling&&this.layer.addMany(this._vertexGraphics)}_updateSymbolsForTheme(){const e=this.view.effectiveTheme.accentColor;this.symbols={...this.symbols,fill:{active:this.symbols.fill.active?.clone().set("outline.color",e),default:this.symbols.fill.default?.clone().set("outline.color",e)},handles:{...this.symbols.handles,default:this.symbols.handles.default.clone().set("outline.color",e)},rotator:{...this.symbols.rotator,default:this.symbols.rotator.default.clone().set("outline.color",e)},rotatorLine:this.symbols.rotatorLine.clone().set("color",e)};for(const e of this._vertexGraphics)e.symbol=e===this._hoveredGraphic?this.symbols.handles.hover:this.symbols.handles.default;this._backgroundGraphic.symbol=this.symbols.fill.default,this._rotateHandleGraphic.symbol=this._rotateHandleGraphic===this._hoveredGraphic?this.symbols.rotator.hover:this.symbols.rotator.default,this._rotateLineGraphic.symbol=this.symbols.rotatorLine}_updateGraphics(){this._updateBackgroundGraphic(),this._updateHandleGraphics(),this._updateCenterGraphic(),this._updateRotateGraphic(),this._updateRotateLineGraphic()}_hideGraphicsBeforeUpdate(){this._centerGraphic.visible=!1,this._rotateHandleGraphic.visible=!1,this._rotateLineGraphic.visible=!1,this._vertexGraphics.forEach((e=>e.visible=!1))}_updateHandleGraphics(){const e=this._getCoordinates(!0);this._vertexGraphics.forEach(((t,i)=>{const[r,n]=e[i];this._updateXY(t,r,n)}))}_updateBackgroundGraphic(){const e=this._getCoordinates().map((([e,t])=>[e,t]));this._backgroundGraphic.geometry=new f.A({rings:[e],spatialReference:this.view.spatialReference})}_updateCenterGraphic(){const[e,t,i,r]=this._getBoxBounds((0,u.vt)()),n=(i+e)/2,s=(r+t)/2;this._centerGraphic.geometry=new g.default(n,s,this.view.spatialReference)}_updateRotateGraphic(){if(!this._vertexGraphics.length)return;const{x:e,y:t}=this._vertexGraphics[1].geometry,i=t+this.view.state.resolution*this._rotateGraphicOffset;this._rotateHandleGraphic.geometry=new g.default(e,i,this.view.spatialReference)}_updateRotateLineGraphic(){if(!this._vertexGraphics.length||!this._rotateHandleGraphic?.geometry)return;const e=this._vertexGraphics[1].geometry,t=this._rotateHandleGraphic.geometry;this._rotateLineGraphic.geometry=new m.A({paths:[[[e.x,e.y],[t.x,t.y]]],spatialReference:this.view.spatialReference})}_updateXY(e,t,i){e.geometry=new g.default(t,i,this.view.spatialReference)}_updateX(e,t){const i=e.geometry.y;e.geometry=new g.default(t,i,this.view.spatialReference)}_updateY(e,t){const i=e.geometry.x;e.geometry=new g.default(i,t,this.view.spatialReference)}_hasExtentGraphic(){return this.graphics.some((e=>null!=e?.geometry&&"extent"===e.geometry.type))}_getBoxBounds(e){const t=this.graphics.map((e=>e.geometry));return this._getBounds(e,t)}_getCoordinates(e){const[t,i,r,n]=this._getBoxBounds((0,u.vt)());if(e){const e=(t+r)/2,s=(n+i)/2;return[[t,n],[e,n],[r,n],[r,s],[r,i],[e,i],[t,i],[t,s]]}return[[t,n],[r,n],[r,i],[t,i]]}_updateTooltip(e,t){if(null==this.tooltip)return;if(!e)return void this.tooltip.clear();const{_backgroundGraphic:i,graphics:r,_vertexGraphics:n,_rotateHandleGraphic:s}=this;e===s?this._updateRotateTooltip():n.includes(e)?this._updateScaleTooltip():(r.includes(e)||e===i)&&this._updateMoveTooltip(t)}_updateRotateTooltip(){null!=this.tooltip&&(this.tooltip.info=new I.d({sketchOptions:this.sketchOptions,angle:-this._angleOfRotation}))}_updateScaleTooltip(){const{tooltip:e,_xScale:t,_yScale:i,sketchOptions:r,view:n}=this;if(null==e)return;const s=this._getCoordinates(),o=(0,R.b)({topLeft:s[0],topRight:s[1],bottomRight:s[2],bottomLeft:s[3],spatialReference:n.spatialReference});if(null==o)return;const{xSize:a,ySize:l}=o,c=Math.abs(t),d=Math.abs(i);e.info=new C.c({sketchOptions:r,xScale:c,yScale:d,xSize:a,ySize:l})}_updateMoveTooltip(e){const{tooltip:t,sketchOptions:i,view:r}=this;if(null==t)return;const n=new O.M({sketchOptions:i});if(e){const{x:t,y:i}=e.origin,s=r.toMap(e),o=r.toMap({x:t,y:i}),l=(0,G.Kt)(o,s);n.distance=null!=l?l:a.r7}t.info=n}};function K(e,t=2){return Number.parseFloat(e.toFixed(t))}(0,r._)([(0,c.MZ)()],B.prototype,"tooltip",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],B.prototype,"type",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"callbacks",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"enableMovement",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"enableRotation",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"enableScaling",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"graphics",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"highlightsEnabled",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"layer",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"preserveAspectRatio",void 0),(0,r._)([(0,c.MZ)()],B.prototype,"showCenterGraphic",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],B.prototype,"state",null),(0,r._)([(0,c.MZ)()],B.prototype,"symbols",void 0),(0,r._)([(0,c.MZ)({type:T.A})],B.prototype,"sketchOptions",void 0),(0,r._)([(0,c.MZ)({constructOnly:!0})],B.prototype,"view",void 0),B=(0,r._)([(0,d.$)("esri.views.draw.support.Box")],B);const W=B},62190:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return C}});var r=i(53804),n=(i(10748),i(48996)),s=i(21609),o=i(28181),a=i(23502),l=(i(58941),i(40633),i(65953)),c=i(19702),d=i(67060),u=i(93959),p=i(777);class h{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-click"}}class f{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-double-click"}}class m{constructor(e,t,i,r,n,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=r,this.y=n,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-start"}preventDefault(){this.defaultPrevented=!0}}class g{constructor(e,t,i,r,n,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=r,this.y=n,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move"}preventDefault(){this.defaultPrevented=!0}}class y{constructor(e,t,i,r,n,s,o,a,l,c){this.graphic=e,this.allGraphics=t,this.index=i,this.x=r,this.y=n,this.dx=s,this.dy=o,this.totalDx=a,this.totalDy=l,this.viewEvent=c,this.defaultPrevented=!1,this.type="graphic-move-stop"}preventDefault(){this.defaultPrevented=!0}}class v{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-over"}}class b{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-out"}}class w{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-down"}}class _{constructor(e,t,i,r,n){this.graphic=e,this.index=t,this.x=i,this.y=r,this.viewEvent=n,this.type="graphic-pointer-up"}}var $=i(87922),x=i(82067),S=i(62097),k=i(90363),M=i(22198),L=i(8740);const T="indicator-symbols";let A=class extends n.A.EventedAccessor{constructor(e){super(e),this._activeGraphic=null,this._dragEvent=null,this._hoverGraphic=null,this._indicators=[],this._initialDragGeometry=null,this._manipulators=[],this._layerViews=null,this.type="graphic-mover",this.callbacks={onGraphicClick(){},onGraphicDoubleClick(){},onGraphicMoveStart(){},onGraphicMove(){},onGraphicMoveStop(){},onGraphicPointerOver(){},onGraphicPointerOut(){},onGraphicPointerDown(){},onGraphicPointerUp(){}},this.enableMoveAllGraphics=!1,this.graphics=[],this.indicatorsEnabled=!1,this.layer=new c.default({listMode:"hide",internal:!0,title:"GraphicMover highlight layer"}),this.view=null}initialize(){(0,p.Y)(this.view,this.layer),this._highlightHelper=new u.A({view:this.view}),this.refresh(),this.addHandles([(0,o.watch)((()=>this.graphics.length),(()=>this.refresh())),(0,o.when)((()=>this.view?.ready),(()=>{this.addHandles([this.view.on("immediate-click",(e=>this._clickHandler(e)),$.o.TOOL),this.view.on("double-click",(e=>this._doubleClickHandler(e)),$.o.TOOL),this.view.on("pointer-down",(e=>this._pointerDownHandler(e)),$.o.TOOL),this.view.on("pointer-move",(e=>this._pointerMoveHandler(e)),$.o.TOOL),this.view.on("pointer-up",(e=>this._pointerUpHandler(e)),$.o.TOOL),this.view.on("drag",(e=>this._dragHandler(e)),$.o.TOOL),this.view.on("key-down",(e=>this._keyDownHandler(e)),$.o.TOOL)])}),{once:!0,initial:!0}),(0,o.watch)((()=>this.view),(e=>{this._highlightHelper.removeAll(),this._highlightHelper.view=e}))])}destroy(){this._removeIndicators(),this.view.map?.remove(this.layer),this.layer.destroy(),this.reset(),this._manipulators.forEach((e=>e.destroy())),this._manipulators=null}set highlightsEnabled(e){this._highlightHelper?.removeAll(),this._set("highlightsEnabled",e),e&&this._highlightHelper?.add(this.graphics)}get state(){const e=this.view.ready,t=this.graphics.length>0,i=this._activeGraphic;return e&&t?i?"moving":"active":e?"ready":"disabled"}refresh(){this.reset(),this._setup()}reset(){this._activeGraphic=null,this._hoverGraphic=null,this._dragEvent=null,this._highlightHelper.removeAll()}updateGeometry(e,t){const i=this.graphics[e];i&&(i.set("geometry",t),this._setUpIndicators())}_setup(){this._setUpHighlights(),this._setUpIndicators(),this._setUpManipulators(),this._syncLayerViews()}_clickHandler(e){const t=this._findTargetGraphic((0,S.ZV)(e));if(t){const i=new h(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-click",i),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(i)}}_doubleClickHandler(e){const t=this._findTargetGraphic((0,S.ZV)(e));if(t){const i=new f(t,this.graphics.indexOf(t),e.x,e.y,e);this.emit("graphic-double-click",i),this.callbacks.onGraphicDoubleClick&&this.callbacks.onGraphicDoubleClick(i)}}_pointerDownHandler(e){const t=this._findTargetGraphic((0,S.ZV)(e));if(t){this._activeGraphic=t;const{x:i,y:r}=e,n=new w(t,this.graphics.indexOf(t),i,r,e);this.emit("graphic-pointer-down",n),this.callbacks.onGraphicPointerDown&&this.callbacks.onGraphicPointerDown(n)}else this._activeGraphic=null}_pointerUpHandler(e){if(this._activeGraphic){const{x:t,y:i}=e,r=this.graphics.indexOf(this._activeGraphic),n=new _(this._activeGraphic,r,t,i,e);this.emit("graphic-pointer-up",n),this.callbacks.onGraphicPointerUp&&this.callbacks.onGraphicPointerUp(n)}}_pointerMoveHandler(e){if(this._dragEvent)return;const t=this._findTargetGraphic((0,S.ZV)(e));if(t){const{x:i,y:r}=e;if(this._hoverGraphic){if(this._hoverGraphic===t)return;const n=this.graphics.indexOf(this._hoverGraphic),s=new b(this.graphics[n],n,i,r,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",s),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(s)}const n=this.graphics.indexOf(t),s=new v(t,n,i,r,e);return this._hoverGraphic=t,this.emit("graphic-pointer-over",s),void(this.callbacks.onGraphicPointerOver&&this.callbacks.onGraphicPointerOver(s))}if(this._hoverGraphic){const{x:t,y:i}=e,r=this.graphics.indexOf(this._hoverGraphic),n=new b(this.graphics[r],r,t,i,e);this._hoverGraphic=null,this.emit("graphic-pointer-out",n),this.callbacks.onGraphicPointerOut&&this.callbacks.onGraphicPointerOut(n)}}_dragHandler(e){if("start"!==e.action&&!this._dragEvent||!this._activeGraphic?.geometry)return;"start"===e.action&&this._removeIndicators(),e.stopPropagation();const{action:t,x:i,y:r}=e,n=this.graphics.indexOf(this._activeGraphic),o=this._dragEvent?i-this._dragEvent.x:0,a=this._dragEvent?r-this._dragEvent.y:0,l=i-e.origin.x,c=r-e.origin.y,u="start"===t?this._activeGraphic.geometry:this._initialDragGeometry,p=(0,d.lR)(u,l,c,this.view);if(this._activeGraphic.geometry=p,this.enableMoveAllGraphics&&this.graphics.forEach((e=>{e!==this._activeGraphic&&(e.geometry=(0,d.lR)(e.geometry,o,a,this.view))})),this._dragEvent=e,"start"===t){this._initialDragGeometry=(0,s.o8)(u);const t=new m(this._activeGraphic,this.graphics,n,i,r,o,a,l,c,e);this.emit("graphic-move-start",t),this.callbacks.onGraphicMoveStart&&this.callbacks.onGraphicMoveStart(t),t.defaultPrevented&&this._activeGraphic.set("geometry",u)}else if("update"===t){const t=new g(this._activeGraphic,this.graphics,n,i,r,o,a,l,c,e);this.emit("graphic-move",t),this.callbacks.onGraphicMove&&this.callbacks.onGraphicMove(t),t.defaultPrevented&&(this._activeGraphic.geometry=u)}else{const t=new y(this._activeGraphic,this.graphics,n,i,r,o,a,l,c,e);this._dragEvent=null,this._activeGraphic=null,this._setUpIndicators(),this.emit("graphic-move-stop",t),this.callbacks.onGraphicMoveStop&&this.callbacks.onGraphicMoveStop(t),t.defaultPrevented&&(this.graphics[n].set("geometry",this._initialDragGeometry),this._setUpIndicators()),this._initialDragGeometry=null}}_keyDownHandler(e){"a"!==e.key&&"d"!==e.key&&"n"!==e.key||"moving"!==this.state||e.stopPropagation()}_findTargetGraphic(e){const t=this.view.toMap(e),i=this.graphics;let r=null,n=Number.MAX_VALUE;this._syncLayerViews();const s=this._layerViews.flatMap((e=>"graphicsViews"in e?Array.from(e.graphicsViews(),(e=>e.hitTest(t))).flat():e.graphicsView.hitTest(t))).filter((e=>i.includes(e))).sort(((e,t)=>i.indexOf(e)-i.indexOf(t)));return s.length?s[0]:(this._manipulators.forEach((t=>{const i=t.intersectionDistance(e);null!=i&&i<n&&(n=i,r=t.graphic)})),r)}_syncLayerViews(){this._layerViews=[];const e=new Set;for(const t of this.graphics){const i=(0,p.i)(this.view,t.layer);i&&e.add(i)}this._layerViews=[...e]}_setUpManipulators(){const{graphics:e,view:t}=this;this._manipulators.forEach((e=>e.destroy())),this._manipulators=e.length?e.map((e=>new x.l({graphic:e,view:t}))):[]}_setUpHighlights(){this.highlightsEnabled&&this._highlightHelper.add(this.graphics)}_setUpIndicators(){if(this._removeIndicators(),this.indicatorsEnabled){for(const e of this.graphics){const t=e.clone();t.symbol=I(e),this._indicators.push(t),this.addHandles((0,o.watch)((()=>e.symbol),(()=>this._setUpIndicators())),T)}this.layer.addMany(this._indicators)}}_removeIndicators(){this.removeHandles(T),this._indicators.length&&(this.layer.removeMany(this._indicators),this._indicators.forEach((e=>e.destroy())),this._indicators=[])}};function I(e){if(null==e.symbol)return null;switch(e.symbol.type){case"cim":return new k.A({style:"circle",size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}});case"picture-marker":{const{xoffset:t,yoffset:i,height:r,width:n}=e.symbol,s=r===n?n:Math.max(r,n);return new k.A({xoffset:t,yoffset:i,size:s,style:"square",color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-marker":{const{xoffset:t,yoffset:i,size:r,style:n}=e.symbol;return new k.A({xoffset:t,yoffset:i,style:"circle"===n?"circle":"square",size:r+2,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}case"simple-fill":return new L.A({color:[0,0,0,0],outline:{style:"dash",color:[255,127,0,1],width:1}});case"simple-line":return new M.A({color:[255,127,0,1],style:"dash",width:1});case"text":{const{xoffset:t,yoffset:i}=e.symbol;return new k.A({xoffset:t,yoffset:i,size:12,color:[0,0,0,0],outline:{color:[255,127,0,1],width:1}})}default:return null}}(0,r._)([(0,a.MZ)()],A.prototype,"_activeGraphic",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],A.prototype,"type",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"callbacks",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"enableMoveAllGraphics",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"graphics",void 0),(0,r._)([(0,a.MZ)({value:!1})],A.prototype,"highlightsEnabled",null),(0,r._)([(0,a.MZ)()],A.prototype,"indicatorsEnabled",void 0),(0,r._)([(0,a.MZ)()],A.prototype,"layer",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],A.prototype,"state",null),(0,r._)([(0,a.MZ)()],A.prototype,"view",void 0),A=(0,r._)([(0,l.$)("esri.views.draw.support.GraphicMover")],A);const C=A},93959:function(e,t,i){"use strict";i.d(t,{A:function(){return u}});var r=i(53804),n=i(83525),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953)),a=i(777),l=i(39715),c=i(25867);let d=class extends n.A{constructor(e){super(e),this.view=null}add(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach((e=>this._highlight(e)))}remove(e){const t=!e||Array.isArray(e)?e:[e];t?.length&&t.forEach((e=>this._removeHighlight(e)))}removeAll(){this.removeAllHandles()}_highlight(e){const t=(0,a.i)(this.view,e.layer);(0,l.Of)(t)&&this.addHandles(t.highlight(e),(0,c.Fr)(e))}_removeHighlight(e){e&&this.removeHandles((0,c.Fr)(e))}};(0,r._)([(0,s.MZ)()],d.prototype,"view",void 0),d=(0,r._)([(0,o.$)("esri.views.draw.support.HighlightHelper")],d);const u=d},67060:function(e,t,i){"use strict";i.d(t,{UT:function(){return u},hs:function(){return c},lR:function(){return l},wW:function(){return d}});var r=i(15774),n=i(87416),s=i(35068),o=i(38441);function a(e,t,i,r){if(null==r||e.hasZ||(r=void 0),"point"===e.type)return e.x+=t,e.y+=i,e.hasZ&&null!=r&&(e.z+=r),e;if("multipoint"===e.type){const n=e.points;for(let e=0;e<n.length;e++)n[e]=p(n[e],t,i,r);return e}if("extent"===e.type)return e.xmin+=t,e.xmax+=t,e.ymin+=i,e.ymax+=i,null!=r&&(e.zmin??=0,e.zmin+=r,e.zmax??=0,e.zmax+=r),e;const n=(0,o.$K)(e),s="polyline"===e.type?e.paths:e.rings;for(let e=0;e<n.length;e++){const s=n[e];for(let e=0;e<s.length;e++)s[e]=p(s[e],t,i,r)}return"paths"in e?e.paths=s:e.rings=s,e}function l(e,t,i,r,n){const s=e.clone(),l=r.resolution;if("point"===s.type){if(n)a(s,t*l,-i*l);else{const e=r.state.transform,n=r.state.inverseTransform,o=e[0]*s.x+e[2]*s.y+e[4],a=e[1]*s.x+e[3]*s.y+e[5];s.x=n[0]*(o+t)+n[2]*(a+i)+n[4],s.y=n[1]*(o+t)+n[3]*(a+i)+n[5]}return s}if("multipoint"===s.type){if(n)a(s,t*l,-i*l);else{const e=s.points,n=r.state.transform,o=r.state.inverseTransform;for(let r=0;r<e.length;r++){const s=e[r],a=n[0]*s[0]+n[2]*s[1]+n[4],l=n[1]*s[0]+n[3]*s[1]+n[5],c=o[0]*(a+t)+o[2]*(l+i)+o[4],d=o[1]*(a+t)+o[3]*(l+i)+o[5];e[r]=h(s,c,d,void 0)}}return s}if("extent"===s.type){if(n)a(s,t*l,-i*l);else{const e=r.state.transform,n=r.state.inverseTransform,o=e[0]*s.xmin+e[2]*s.ymin+e[4],a=e[1]*s.xmin+e[3]*s.ymin+e[5],l=e[0]*s.xmax+e[2]*s.ymax+e[4],c=e[1]*s.xmax+e[3]*s.ymax+e[5];s.xmin=n[0]*(o+t)+n[2]*(a+i)+n[4],s.ymin=n[1]*(o+t)+n[3]*(a+i)+n[5],s.xmax=n[0]*(l+t)+n[2]*(c+i)+n[4],s.ymax=n[1]*(l+t)+n[3]*(c+i)+n[5]}return s}if(n)a(s,t*l,-i*l);else{const e=(0,o.$K)(s),n="polyline"===s.type?s.paths:s.rings,a=r.state.transform,l=r.state.inverseTransform;for(let r=0;r<e.length;r++){const n=e[r];for(let e=0;e<n.length;e++){const r=n[e],s=a[0]*r[0]+a[2]*r[1]+a[4],o=a[1]*r[0]+a[3]*r[1]+a[5],c=l[0]*(s+t)+l[2]*(o+i)+l[4],d=l[1]*(s+t)+l[3]*(o+i)+l[5];n[e]=h(r,c,d,void 0)}}"paths"in s?s.paths=n:s.rings=n}return s}function c(e,t,i,r){if("point"===e.type){const{x:n,y:s}=e,o=r?r[0]:n,a=r?r[1]:s,l=e.clone(),c=(n-o)*t+o,d=(s-a)*i+a;return l.x=c,l.y=d,l}if("multipoint"===e.type){const a=(0,o.$K)(e),l=(0,n.vt)(),[c,d,u,p]=(0,s.Yz)(l,[a]),f=r?r[0]:(c+u)/2,m=r?r[1]:(p+d)/2,g=e.clone(),y=g.points;for(let e=0;e<y.length;e++){const r=y[e],[n,s]=r,o=(n-f)*t+f,a=(s-m)*i+m;y[e]=h(r,o,a,void 0)}return g}if("extent"===e.type){const{xmin:n,xmax:s,ymin:o,ymax:a}=e,l=r?r[0]:(n+s)/2,c=r?r[1]:(a+o)/2,d=e.clone();if(d.xmin=(n-l)*t+l,d.ymax=(a-c)*i+c,d.xmax=(s-l)*t+l,d.ymin=(o-c)*i+c,d.xmin>d.xmax){const e=d.xmin,t=d.xmax;d.xmin=t,d.xmax=e}if(d.ymin>d.ymax){const e=d.ymin,t=d.ymax;d.ymin=t,d.ymax=e}return d}const a=(0,o.$K)(e),l=(0,n.vt)(),[c,d,u,p]=(0,s.Yz)(l,a),f=r?r[0]:(c+u)/2,m=r?r[1]:(p+d)/2,g=e.clone(),y="polyline"===g.type?g.paths:g.rings;for(let e=0;e<a.length;e++){const r=a[e];for(let n=0;n<r.length;n++){const s=r[n],[o,a]=s,l=(o-f)*t+f,c=(a-m)*i+m;y[e][n]=h(s,l,c,void 0)}}return"paths"in g?g.paths=y:g.rings=y,g}function d(e,t,i,r,n,s){const o=Math.sqrt((i-e)*(i-e)+(r-t)*(r-t));return Math.sqrt((n-e)*(n-e)+(s-t)*(s-t))/o}function u(e,t,i,n=!1){const s=Math.atan2(t.y-i.y,t.x-i.x)-Math.atan2(e.y-i.y,e.x-i.x),o=Math.atan2(Math.sin(s),Math.cos(s));return n?o:(0,r.KJ)(o)}function p(e,t,i,r){return h(e,e[0]+t,e[1]+i,null!=e[2]&&null!=r?e[2]+r:void 0)}function h(e,t,i,r){const n=[t,i];return e.length>2&&n.push(null!=r?r:e[2]),e.length>3&&n.push(e[3]),n}},69646:function(e,t,i){"use strict";i.d(t,{W:function(){return u}});var r=i(52874);const n={main:new r.A([255,127,0]),selected:new r.A([255,255,255]),outline:new r.A([0,0,0,.5]),selectedOutline:new r.A([255,255,255]),hoverOutline:new r.A([255,255,255]),secondary:new r.A([255,255,255]),secondaryOutline:new r.A([100,100,100]),transparent:new r.A([0,0,0,0])};function s(e,t){Object.assign(e,t)}class o{constructor(e){this.size=8,this.hoverSize=10,this.color=n.main,this.hoverColor=n.main,this.outlineColor=n.outline,this.hoverOutlineColor=n.hoverOutline,s(this,e)}}class a{constructor(e){this.color=n.secondary,this.hoverColor=n.main,s(this,e)}}class l{constructor(e){this.color=n.transparent,this.hoverColor=n.transparent,this.outlineColor=n.main,this.hoverOutlineColor=n.main,this.stagedColor=n.transparent,this.stagedOutlineColor=n.secondary,s(this,e)}}class c{constructor(e){this.vertex=new o,this.midpoint=new o({color:n.secondary,outlineColor:n.secondaryOutline,size:6}),this.selected=new o({color:n.selected,hoverColor:n.selected,hoverOutlineColor:n.hoverOutline}),s(this,e)}}class d{constructor(e){this.center=new o({color:n.secondaryOutline}),this.fill=new l,this.line=new a,this.vertex=new o({color:n.selected,outlineColor:n.main,hoverColor:n.selected,hoverOutlineColor:n.secondaryOutline}),s(this,e)}}const u=new class{constructor(e){this.reshapeGraphics=new c,this.transformGraphics=new d,s(this,e)}}},82067:function(e,t,i){"use strict";i.d(t,{l:function(){return w}});var r=i(53804),n=i(83525),s=i(48996),o=i(28181),a=i(13520),l=i(23502),c=(i(58941),i(40633),i(13798),i(65953)),d=i(13786),u=i(20551),p=i(32501),h=i(46157),f=i(56763),m=i(68945),g=i(74661),y=i(6422),v=i(17921),b=i(33383);let w=class extends n.A{set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set("graphic",e),this.attachSymbolChanged()}get elevationInfo(){const{layer:e}=this.graphic,t=e&&"elevationInfo"in e?e.elevationInfo:null,i=(0,m.ky)(this.graphic),r=t?t.offset:0;return new y.A({mode:i,offset:r})}set focusedSymbol(e){e!==this._get("focusedSymbol")&&(this._set("focusedSymbol",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get("grabbing")&&(this._set("grabbing",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get("hovering")&&(this._set("hovering",e),this._updateGraphicSymbol())}set selected(e){e!==this._get("selected")&&(this._set("selected",e),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new s.A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(null==i)return null;const r=this._get("focusedSymbol"),n=null!=r?r:t.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,e,i,n):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,o.watch)((()=>this.graphic?.symbol),(e=>{null!=e&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),o.OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,r){if(null==(r=r||(0,g.SF)(i)))return null;let n=this._circleCollisionCache;if("point"===i.type&&"cim"===r.type&&"CIMPointSymbol"===r.data.symbol?.type&&r.data.symbol.symbolLayers){const{offsetX:n,offsetY:s,size:o}=(0,v.T)(r),l=(0,a.WA)(t,$),c=o/2,u=e.toScreen(i),p=u.x+n,h=u.y+s;return(0,d.hG)(l,[p,h])<c*c?1:null}if("point"!==i.type||"simple-marker"!==r.type)return(0,b.t)(t,i,e)?1:null;if(null==n||!n.originalPoint.equals(i)){const t=i,s=e.spatialReference;if((0,h.canProjectWithoutEngine)(t.spatialReference,s)){const e=(0,h.project)(t,s);n={originalPoint:t.clone(),mapPoint:e,radiusPx:(0,a.Lz)(r.size)},this._circleCollisionCache=n}}if(null!=n){const i=(0,a.WA)(t,$),s=e.toScreen?.(n.mapPoint);if(!s)return null;const o=n.radiusPx,l=s.x+(0,a.Lz)(r.xoffset),c=s.y-(0,a.Lz)(r.yoffset);return(0,d.hG)(i,[l,c])<o*o?1:null}return null}_intersectDistance3D(e,t,i){const r=e.toMap(t,{include:[i]});return r&&(0,f.g)(r,_,e.renderSpatialReference)?(0,u.j)(_,e.state.camera.eye):null}};(0,r._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],w.prototype,"graphic",null),(0,r._)([(0,l.MZ)()],w.prototype,"elevationInfo",null),(0,r._)([(0,l.MZ)({constructOnly:!0,nonNullable:!0})],w.prototype,"view",void 0),(0,r._)([(0,l.MZ)({value:null})],w.prototype,"focusedSymbol",null),(0,r._)([(0,l.MZ)({constructOnly:!0})],w.prototype,"layer",void 0),(0,r._)([(0,l.MZ)()],w.prototype,"interactive",void 0),(0,r._)([(0,l.MZ)()],w.prototype,"selectable",void 0),(0,r._)([(0,l.MZ)()],w.prototype,"grabbable",void 0),(0,r._)([(0,l.MZ)({value:!1})],w.prototype,"grabbing",null),(0,r._)([(0,l.MZ)()],w.prototype,"dragging",void 0),(0,r._)([(0,l.MZ)()],w.prototype,"hovering",null),(0,r._)([(0,l.MZ)({value:!1})],w.prototype,"selected",null),(0,r._)([(0,l.MZ)()],w.prototype,"cursor",void 0),w=(0,r._)([(0,c.$)("esri.views.interactive.GraphicManipulator")],w);const _=(0,p.vt)(),$=(0,a.gs)()},17921:function(e,t,i){"use strict";i.d(t,{T:function(){return n}});var r=i(13520);function n(e){let t=0,i=0,n=0;return e?("cim"===e.type&&e.data.symbol&&"symbolLayers"in e.data.symbol&&e.data.symbol.symbolLayers&&e.data.symbol.symbolLayers.map((e=>{"CIMVectorMarker"===e.type&&e.anchorPoint&&(Math.abs(e.anchorPoint.x)>t&&(t=e.anchorPoint.x),Math.abs(e.anchorPoint.y)>i&&(i=e.anchorPoint.y),null!=e.size&&e.size>n&&(n=e.size))})),t=(0,r.Lz)(t),i=(0,r.Lz)(i),n=(0,r.Lz)(n),{offsetX:t,offsetY:i,size:n}):{offsetX:t,offsetY:i,size:n}}},49634:function(e,t,i){"use strict";i.d(t,{A3:function(){return R},D5:function(){return L},GC:function(){return u},L5:function(){return G},Nr:function(){return I},X3:function(){return O},hw:function(){return M},m6:function(){return N},oZ:function(){return b},zX:function(){return v}});var r=i(16691),n=i(88226),s=i(56275),o=i(6338),a=i(2900),l=i(99675);const c=1,d=6;function u(e,t){return{angleRelative:p,direction:h,directionRelative:f,directionRelativeBilateral:m,latitudeDecimalDegrees:y,longitudeDecimalDegrees:g,area:(i,r)=>(0,n.Jd)(e,i,r??t.area),length:(i,r,s)=>(0,n.ix)(e,i,r??t.length,s),lengthRelative:(i,r)=>(0,n.yh)(e,i,r??t.length),totalLength:(i,r)=>(0,n.ix)(e,i,r??t.length),verticalLength:(i,r)=>(0,n.Oo)(e,i,r??t.verticalLength),verticalLengthRelative:(i,r)=>(0,n.OM)(e,i,r??t.verticalLength),percentage:$,scalar:S,scale:x}}function p(e){return(0,a.ZV)(e,{signDisplay:"exceptZero",...k(c)})}function h(e){return(0,n.Nk)(e,e.rotationType,c)}function f(e){const t=(0,l.hF)(e);return(0,a.ZV)(t,{style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:t>0?"never":"exceptZero",...k(c)})}function m(e){return(0,n.Nk)(e,e.rotationType,c)}function g(e){return w(e,D)}function y(e){return w(e,E)}function v(e){return _(e,D)}function b(e){return _(e,E)}function w(e,t){return(0,n.Nk)((0,s.kM)(e,"degrees"),"geographic",d,t,!1)}function _(e,t){const i=t.normalize((0,s.kM)(e,"degrees").value,void 0,!1);return S((0,s.LF)(i),d)}function $(e){return(0,a.ZV)(e.value,{style:"percent"})}function x(e){return(0,a.ZV)(e,{style:"percent",maximumFractionDigits:0})}function S(e,t){return(0,a.ZV)(e.value,k(t))}function k(e){return{minimumFractionDigits:e,maximumFractionDigits:e}}function M({createQuantity:e,sanitize:t}){return(i,r)=>{if(null==i)return null;t&&(i=t(i));const n=(0,a.$J)(i);return null==n?null:e(n,r)}}function L(e){return e.replaceAll(/[*^~]/g,"")}const T=e=>{let t=`[-+]?[0-9${e.thousands}]+`;return""!==e.decimal&&(t+=`${e.decimal}[0-9]+`),new RegExp(`^(${t}\\s*)${e.separator}(\\s*${t})$`,"i")},A=[];for(const e of[",","\\|","\\s+"])for(const t of["\\.",",",""])for(const i of["",",","\\.","","\\s+"])e!==t&&e!==i&&t!==i&&A.push({separator:e,decimal:t,thousands:i,pattern:T({decimal:t,thousands:i,separator:e})});function I(e){for(const{decimal:t,thousands:i,pattern:r}of A){r.lastIndex=0;const n=e.match(r);if(!n)continue;const o=(0,a.$J)(C(n[1],t,i)),l=(0,a.$J)(C(n[2],t,i));if(null!=o&&null!=l)return{x:(0,s.LF)(o),y:(0,s.LF)(l)}}return null}function C(e,t,i){let r=e.replaceAll(/[\s+]/g,"");return""!==i&&(r=r.replaceAll(i,"")),""!==t&&(r=r.replaceAll(t,".")),r}function O(e){if(!e||null!=(0,a.$J)(e)||!(0,o.s1)())return null;const t=(0,o.o6)(e),i=N(t?.latitude),r=N(t?.longitude);return null!=r&&null!=i?{latitude:i,longitude:r}:null}function G(e){return N((0,o.mT)(e))}function R(e){return N((0,o.ts)(e))}function N(e){return null!=e?(0,s.Wq)(e,"degrees","geographic"):null}const D=new r.hr(-180,180),E=new r.hr(-90,90)},60403:function(e,t,i){"use strict";i.d(t,{d:function(){return a}});var r=i(53804),n=i(23502),s=(i(58941),i(40633),i(13798),i(65953)),o=i(90858);let a=class extends o.w{constructor(e){super(e),this.type="extent-rotate",this.angle=0}};(0,r._)([(0,n.MZ)()],a.prototype,"type",void 0),(0,r._)([(0,n.MZ)()],a.prototype,"angle",void 0),a=(0,r._)([(0,s.$)("esri.views.interactive.tooltip.infos.ExtentRotateTooltipInfo")],a)},96632:function(e,t,i){"use strict";i.d(t,{c:function(){return l}});var r=i(53804),n=i(56275),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953)),a=i(90858);let l=class extends a.w{constructor(e){super(e),this.type="extent-scale",this.xScale=0,this.yScale=0,this.xSize=n.r7,this.ySize=n.r7}};(0,r._)([(0,s.MZ)()],l.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"xScale",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"yScale",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"xSize",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"ySize",void 0),l=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.infos.ExtentScaleTooltipInfo")],l)},90858:function(e,t,i){"use strict";i.d(t,{w:function(){return a}});var r=i(53804),n=i(83525),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953));let a=class extends n.A{constructor(e){super(e),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter((e=>e.visible&&!e.readOnly))}clearInputValues(){this.allFields.forEach((e=>e.clearInputValue()))}};(0,r._)([(0,s.MZ)()],a.prototype,"sketchOptions",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"visibleElements",null),(0,r._)([(0,s.MZ)()],a.prototype,"helpMessage",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"viewType",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"allFields",null),(0,r._)([(0,s.MZ)()],a.prototype,"editableFields",null),a=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],a)},94492:function(e,t,i){"use strict";i.d(t,{M:function(){return l}});var r=i(53804),n=i(56275),s=i(23502),o=(i(58941),i(40633),i(13798),i(65953)),a=i(90858);let l=class extends a.w{constructor(e){super(e),this.type="translate",this.distance=n.r7}clear(){this.distance=n.r7}};(0,r._)([(0,s.MZ)()],l.prototype,"type",void 0),(0,r._)([(0,s.MZ)()],l.prototype,"distance",void 0),l=(0,r._)([(0,o.$)("esri.views.interactive.tooltip.infos.TranslateTooltipInfo")],l)},24148:function(e,t,i){"use strict";i.d(t,{sZ:function(){return Ve},wG:function(){return Fe},mu:function(){return Ue},A:function(){return De},HA:function(){return Be},IA:function(){return Ze},Ue:function(){return Ee}});var r=i(77472),n=i(61226),s=i(15774),o=i(56275),a=i(28181),l=i(62938),c=i(20551),d=i(32501),u=i(6338),p=(i(45532),i(36405)),h=i(67376),f=i(57652),m=i(1644),g=i(37578),y=i(53804),v=i(48996),b=i(40212),w=i(95929),_=i(13520),$=i(23502),x=(i(58941),i(40633),i(13798),i(65953)),S=i(93839);const k="esri-tooltip",M=`${k}-content`,L=`${k}-content--input`,T=`${k}-content__header`,A=`${k}-content__header__spacer`,I=`${k}-content__header__actions`,C=`${k}-draw-header-actions`,O=`${k}-table`,G=`${k}-help-message`,R=`${k}-help-message__text`,N=`${k}-help-message__icon`;i(39819);var D=i(31267),E=i(10362),Z=i(49146);const U=`${k}-field`,j={base:U,inputMode:`${U}--input`,title:`${U}__title`,value:`${U}__value`};let P=class extends D.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return(0,Z.K)("div",{class:this.classes({[j.base]:!0,[j.inputMode]:"input"===this.mode})},(0,Z.K)("div",{class:j.title,key:"title"},this.title),(0,Z.K)("div",{class:j.value,key:"value"},this.value))}};(0,y._)([(0,$.MZ)()],P.prototype,"hidden",void 0),(0,y._)([(0,$.MZ)()],P.prototype,"mode",void 0),(0,y._)([(0,$.MZ)()],P.prototype,"title",void 0),(0,y._)([(0,$.MZ)()],P.prototype,"value",void 0),P=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.components.TooltipField")],P);const z={base:`${k}-value-by-value`};let H=class extends D.A{constructor(){super(...arguments),this.divider=""}render(){return(0,Z.K)("div",{class:z.base},(0,Z.K)("span",null,this.left),(0,Z.K)("span",null,this.divider),(0,Z.K)("span",null,this.right))}};(0,y._)([(0,$.MZ)()],H.prototype,"left",void 0),(0,y._)([(0,$.MZ)()],H.prototype,"divider",void 0),(0,y._)([(0,$.MZ)()],H.prototype,"right",void 0),H=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.components.ValueByValue")],H);var F=i(84016),V=i(7213),B=i(60539),K=i(74087),W=i(15999),q=i(76722),J=i(49634),Y=i(28754),X=i(90357);const Q=Symbol("dragHandles");let ee=class extends D.A{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transitionInfo=null,this._mode="feedback",this._getFormatters=(0,V.B)(J.GC),this._onHeaderPointerDown=e=>{const t=e.target;t instanceof HTMLElement&&"calcite-button"!==t?.tagName?.toLowerCase()&&(this.removeHandles(Q),t.setPointerCapture(e.pointerId),this.tooltip.onDragStart(e.clientX,e.clientY),this.addHandles([(0,b.on)(t,"pointermove",(({clientX:e,clientY:t})=>{this.tooltip.onDrag(e,t)})),(0,b.on)(t,["pointerup","pointercancel"],(i=>{this.removeHandles(Q),t.releasePointerCapture(e.pointerId),this.tooltip.onDragEnd()})),(0,b.on)(t,"touchstart",(e=>e.preventDefault()))],Q))},this._onDiscard=()=>{this.destroyed||(this.tooltip.emit("discard"),this.info.clearInputValues(),this.exitInputMode())},this._onCommit=(e,t)=>{if(this.destroyed)return;if(this.tooltip.emit("commit",{type:t}),"commit-and-exit"===t)return void this.exitInputMode();if("commit-on-blur"===t)return;const i=this._getFocusableElements(),r=i.length,n=i.indexOf(e);if(-1===n)return void this.exitInputMode();const s=((n+("commit-and-next"===t?1:-1))%r+r)%r;te(i.at(s))},this._onKeyDown=e=>{switch(e.code){case g.ac.next:return this._onNextKey(e);case g.ac.discard:return e.stopPropagation(),this._onDiscard()}}}get mode(){return this._mode}get _displayUnits(){const{displayUnits:e}=this.info.sketchOptions.values,t=(0,q.c)(this.tooltip.view);return{length:e.length??t,verticalLength:e.verticalLength??t,area:e.area??t}}get _inputUnitInfos(){const e=this._messagesUnits,t=t=>({unit:t,abbreviation:(0,W.Cq)(e,t,"abbr")}),{inputUnits:i}=this.info.sketchOptions.values,r=(0,q.c)(this.tooltip.view),n=i.length??r,s=i.verticalLength??r,o=i.area??r;return{length:t((0,l.wL)(n)),verticalLength:t((0,l.m5)(s)),area:t((0,l.tW)(o)),angle:t("degrees")}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){const{visibleElements:e}=this.info.sketchOptions.tooltips,t=this._renderedContent,i=this._renderedActions,r=this._renderedHelpMessage,n=t.length>0,s=n||!!r,o="input"===this.mode;return(0,Z.K)("div",{class:(0,E.Ly)(M,o&&L),onkeydown:this._onKeyDown,tabIndex:-1},o&&s&&e.header?(0,Z.K)("div",{class:T,"data-testid":"tooltip-header",key:"header",onpointerdown:this._onHeaderPointerDown},(0,Z.K)("calcite-button",{appearance:"transparent","data-testid":"tooltip-back-button",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),i.length>0?(0,Z.K)(Z.w,null,(0,Z.K)("div",{class:A,key:"spacer"}),(0,Z.K)("div",{class:I,key:"actions"},i)):null):null,n?(0,Z.K)("div",{class:O,key:"content"},...t):null,r)}destroy(){this._focusAbortController.abort(),this._transitionInfo?.transition.skipTransition()}_renderActions(){return null}loadDependencies(){return(0,Y.W)({button:()=>i.e(2974).then(i.bind(i,45399)),icon:()=>i.e(2525).then(i.bind(i,50855)),input:()=>i.e(2498).then(i.bind(i,21512))})}async enterInputMode(e,t){try{await this._transitionTo("input",t),await this._focusField(e)}catch(e){(0,B.jH)(e)}}async exitInputMode({focusOnView:e=!0}={}){try{const{container:t,info:i}=this;i.clearInputValues();const r=e?t?.closest(".esri-view")?.querySelector(".esri-view-surface"):null;await this._transitionTo("feedback"),r instanceof HTMLElement&&r.focus()}catch(e){(0,B.jH)(e)}}_onNextKey(e){const t=this._getFocusableElements(),i=t.at(0),r=t.at(-1);i&&r&&(e.shiftKey?document.activeElement===i&&(e.preventDefault(),e.stopPropagation(),te(r)):document.activeElement===r&&(e.preventDefault(),e.stopPropagation(),te(i)))}get _renderedContent(){return ie(this._renderContent())}get _renderedActions(){return ie(this._renderActions())}get _renderedHelpMessage(){const{sketchOptions:e,visibleElements:t}=this.info;if(!t.helpMessage)return null;const i=e.tooltips.helpMessage??this._defaultHelpMessage;if(!i)return null;const r=e.tooltips.helpMessageIcon??"information";return(0,Z.K)("div",{class:G,key:"help-message"},r?(0,Z.K)("calcite-icon",{class:N,icon:r,scale:"s"}):null,(0,Z.K)("div",{class:R},i))}get _defaultHelpMessage(){const{helpMessage:e,viewType:t}=this.info;if(null==e)return null;const i="3d"===t?"helpMessages3d":"helpMessages2d";return this._messagesTooltip?.sketch?.[i]?.[e]}async _focusField(e){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;const{signal:t}=this._focusAbortController;await this._waitForInputs(),(0,B.Te)(t);const i=this._getFocusableInputs(),r=e?i.find((t=>t.getAttribute("data-field-name")===e)):i.at(0);await te(r)}async _transitionTo(e,t){if(this._mode===e&&!this._transitionInfo)return;if(this._transitionInfo?.mode===e)return this._transitionInfo.transition.finished;this._transitionInfo?.transition.skipTransition();const i=async()=>{this.destroyed||(this._mode=e,await(0,K.NO)(),this.destroyed||(this.renderNow(),await(0,K.NO)(),this.destroyed||t?.()))};if(!this.domNode?.firstChild||!document.startViewTransition||(0,F.O)())return void await i();this.autoRenderingEnabled=!1;const r=this._transitionInfo={transition:document.startViewTransition((async()=>{this.destroyed||r!==this._transitionInfo||(this.autoRenderingEnabled=!0,await i())})),mode:e};try{await r.transition.finished}finally{r===this._transitionInfo&&(this._transitionInfo=null)}}async _waitForInputs(){const e=()=>Array.from(this.domNode?.querySelectorAll("calcite-input")??[]);for(;0===e().length;)await(0,B.Pl)(re);await(0,K.$m)()}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])")??[])}_getFocusableElements(){const e=this.domNode?.querySelector(`.${C}`);return[...Array.from(e?.querySelectorAll(`.${I} calcite-button:not([disabled])`)??[]),...this._getFocusableInputs()]}};async function te(e){await(e?.setFocus())}function ie(e){return(Array.isArray(e)?e:[e]).flat(10).filter((e=>!!e))}(0,y._)([(0,X.G)("esri/core/t9n/Units"),(0,$.MZ)()],ee.prototype,"_messagesUnits",void 0),(0,y._)([(0,X.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,$.MZ)()],ee.prototype,"_messagesTooltip",void 0),(0,y._)([(0,$.MZ)()],ee.prototype,"info",void 0),(0,y._)([(0,$.MZ)()],ee.prototype,"tooltip",void 0),(0,y._)([(0,$.MZ)()],ee.prototype,"_mode",void 0),(0,y._)([(0,$.MZ)()],ee.prototype,"mode",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_displayUnits",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_inputUnitInfos",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_formatters",null),(0,y._)([(0,$.MZ)()],ee.prototype,"fieldContext",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_renderedContent",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_renderedActions",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_renderedHelpMessage",null),(0,y._)([(0,$.MZ)()],ee.prototype,"_defaultHelpMessage",null),ee=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContent")],ee);const re=20;let ne=class extends ee{_renderContent(){const{area:e,radius:t,xSize:i,ySize:r,visibleElements:n}=this.info,s=this._messagesTooltip.sketch,o=this._formatters;return(0,Z.K)(Z.w,null,n.radius&&null!=t?(0,Z.K)(P,{title:s.radius,value:o.length(t)}):null,n.size&&null!=i&&null!=r?(0,Z.K)(P,{title:s.size,value:(0,Z.K)(H,{left:o.length(i),right:o.length(r)})}):null,n.area?(0,Z.K)(P,{title:s.area,value:o.area(e)}):null)}};ne=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],ne);const se=`${k}-editable-field`,oe={base:se,inputMode:`${se}--input`,feedbackMode:`${se}--feedback`,readOnly:`${se}--read-only`,locked:`${se}--locked`,title:`${se}__title`,value:`${se}__value`,valueContent:`${se}__value__content`,valueContentReadOnly:`${se}__value__content--read-only`,lockIcon:`${se}__lock-icon`,input:`${se}__input`,inputSuffix:`${se}__input-suffix`,button:`${se}__button`},ae="lock";let le=class extends D.A{constructor(){super(...arguments),this._input=null,this._lock=null,this._onLockClick=()=>{this.field.toggleLock(this.context)},this._onLockAfterCreate=e=>{this._lock=e},this._onLockAfterRemoved=()=>{this._lock=null},this._onKeyDown=e=>{e.key===g.ac.discard&&"input"===this.mode&&this._input&&this.context.onDiscard(this._input)},this._onInputKeyDown=e=>{const t=this._input;if(t)switch(e.key){case g.ac.commit:return this.field.onCommit("commit-and-exit",t,this.context);case g.ac.next:{e.preventDefault(),e.stopPropagation();const i=e.shiftKey?"commit-and-previous":"commit-and-next";return this.field.onCommit(i,t,this.context)}}},this._onInput=e=>{this.field.onInput(e.target.value)},this._onInputBlur=e=>{const t=this._input;t&&e.relatedTarget!==this._lock&&this.field.onCommit("commit-on-blur",t,this.context)},this._selectText=()=>{const e=()=>{this._input===document.activeElement&&this._input?.selectText()};e(),(0,K.$m)().then(e)},this._onAfterCreate=e=>{this._input=e,e.addEventListener("paste",this._onPaste),e.addEventListener("beforeinput",this._onBeforeInput)},this._onAfterRemoved=e=>{e.removeEventListener("paste",this._onPaste),e.removeEventListener("beforeinput",this._onBeforeInput)},this._onPaste=e=>{const t=e.clipboardData?.getData("text");t&&null!=this.field.parse(t,this.context)&&(e.stopPropagation(),this.field.onInput(t))},this._onBeforeInput=e=>{("historyUndo"===e.inputType||"historyRedo"===e.inputType)&&!this.field.dirty&&e.preventDefault()}}initialize(){this.addHandles((0,a.watch)((()=>this._rawDisplayValue),(()=>{const{committed:e,inputValue:t}=this.field;e||t||this._input!==document.activeElement||this._selectText()})))}loadDependencies(){return(0,Y.W)({button:()=>i.e(2974).then(i.bind(i,45399)),icon:()=>i.e(2525).then(i.bind(i,50855)),input:()=>i.e(2498).then(i.bind(i,21512))})}render(){const{field:e,mode:t}=this,i="input"===t,{locked:r,readOnly:n}=e;return(0,Z.K)("div",{class:this.classes({[oe.base]:!0,[oe.feedbackMode]:"feedback"===t,[oe.inputMode]:"input"===t,[oe.locked]:r,[oe.readOnly]:n})},(0,Z.K)("div",{class:oe.title,key:"title"},this._title),(0,Z.K)("div",{class:oe.value,key:"value",onkeydown:this._onKeyDown},i?this._renderValueInputMode():this._renderValueFeedbackMode()))}get _formattedValue(){return this.field.getFormattedValue(this.context)||ce}get _rawDisplayValue(){return this.field.getRawDisplayValue(this.context)}get _suffix(){return this.field.getSuffix(this.context)}get _title(){const{title:e}=this.field;return"string"==typeof e?e:e(this.context)}_renderValueFeedbackMode(){return(0,Z.K)(Z.w,null,(0,Z.K)("div",{class:oe.valueContent,key:"value-feedback"},this._formattedValue),this.field.locked&&"input"!==this.mode?(0,Z.K)("calcite-icon",{class:oe.lockIcon,icon:ae,key:"icon",scale:"s"}):null)}_renderValueInputMode(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return(0,Z.K)("div",{class:this.classes(oe.valueContent,oe.valueContentReadOnly),key:"value-read-only"},this._formattedValue)}_renderValueWritable(){const{field:e}=this,{name:t,invalid:i,locked:r}=e,n=this.context?.messages.sketch??{},s=r?n.unlockConstraint:n.lockConstraint;return(0,Z.K)(Z.w,null,(0,Z.K)("calcite-input",{afterCreate:this._onAfterCreate,afterRemoved:this._onAfterRemoved,class:oe.input,"data-field-name":t,"data-testid":`tooltip-field-${t}`,key:"input",onblur:this._onInputBlur,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",status:i?"invalid":"idle",type:"text",value:this._rawDisplayValue??ce,onCalciteInputInput:this._onInput}),(0,Z.K)("div",{class:oe.inputSuffix,key:"suffix"},this._suffix),e.lockable?(0,Z.K)("calcite-button",{afterCreate:this._onLockAfterCreate,afterRemoved:this._onLockAfterRemoved,alignment:"center",appearance:"transparent",class:oe.button,"data-testid":`tooltip-field-${t}-lock`,iconStart:r?ae:"unlock",key:"lock",kind:"neutral",label:s,onclick:this._onLockClick,scale:"s",tabIndex:-1,title:s}):(0,Z.K)("div",{key:"lock-empty"}))}};(0,y._)([(0,$.MZ)()],le.prototype,"field",void 0),(0,y._)([(0,$.MZ)()],le.prototype,"context",void 0),(0,y._)([(0,$.MZ)()],le.prototype,"mode",void 0),(0,y._)([(0,$.MZ)()],le.prototype,"_input",void 0),(0,y._)([(0,$.MZ)()],le.prototype,"_lock",void 0),(0,y._)([(0,$.MZ)()],le.prototype,"_formattedValue",null),(0,y._)([(0,$.MZ)()],le.prototype,"_rawDisplayValue",null),(0,y._)([(0,$.MZ)()],le.prototype,"_suffix",null),(0,y._)([(0,$.MZ)()],le.prototype,"_title",null),le=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.components.TooltipEditableField")],le);const ce="";function de(e){const t=e.fields.filter((e=>!0===e?.visible));return 0===t.length?null:(0,Z.K)(Z.w,null,t.map((t=>(0,Z.K)(le,{context:e.context,field:t,key:t.id,mode:e.mode}))))}let ue=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,Z.K)(de,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.orientation?t.orientation:void 0,r.scale?t.scale:void 0],mode:i})}};ue=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],ue);let pe=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{elevation:r,visibleElements:n}=t;return(0,Z.K)(de,{context:e,fields:[n.coordinates?t.effectiveX:void 0,n.coordinates?t.effectiveY:void 0,n.elevation?r:void 0],mode:i})}};pe=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],pe);const he={absolute:"absolute-direction",relative:"relative-direction"};let fe=class extends D.A{constructor(e){super(e),this.visibleElements={}}render(){return(0,Z.K)("div",{class:C},this._isElementVisible("direction")?(0,Z.K)(me,{messages:this.messages,sketchOptions:this.sketchOptions}):null)}loadDependencies(){return(0,Y.W)({button:()=>i.e(2974).then(i.bind(i,45399)),dropdown:()=>i.e(7209).then(i.bind(i,94794)),"dropdown-item":()=>i.e(2547).then(i.bind(i,79383)),"dropdown-group":()=>i.e(951).then(i.bind(i,96361))})}_isElementVisible(e){return this.visibleElements?.[e]??this.sketchOptions.tooltips.visibleElements[e]}};function me(e){const{directionMode:t}=e.sketchOptions.values,i=e.messages?.sketch,r=i?.directionModeSelect?.title,n="absolute",s="relative";return(0,Z.K)("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:t=>{const i=t.target.selectedItems?.[0]?.getAttribute("data-mode");e.sketchOptions.values.directionMode=i??"absolute"}},(0,Z.K)("calcite-button",{alignment:"end",appearance:"transparent",iconStart:he[t],kind:"neutral",label:r,scale:"s",slot:"trigger",title:r}),(0,Z.K)("calcite-dropdown-group",{selectionMode:"single"},(0,Z.K)("calcite-dropdown-item",{"data-mode":s,"data-testid":"tooltip-direction-mode-relative",iconStart:he.relative,key:"relative",selected:t===s},i?.directionModeSelect?.relative),(0,Z.K)("calcite-dropdown-item",{"data-mode":n,"data-testid":"tooltip-direction-mode-absolute",iconStart:he.absolute,key:"absolute",selected:t===n},i?.directionModeSelect?.absolute)))}(0,y._)([(0,X.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,$.MZ)()],fe.prototype,"messages",void 0),(0,y._)([(0,$.MZ)()],fe.prototype,"sketchOptions",void 0),(0,y._)([(0,$.MZ)()],fe.prototype,"visibleElements",void 0),fe=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.components.DrawHeaderActions")],fe);let ge=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{xyMode:r,visibleElements:n}=t;return(0,Z.K)(de,{context:e,fields:[..."direction-distance"===r?[n.direction?t.direction:void 0,n.distance?t.distance:void 0]:[n.coordinates?t.effectiveX:void 0,n.coordinates?t.effectiveY:void 0],n.elevation?t.elevation:void 0,n.area?t.area:void 0],mode:i})}_renderActions(){const{xyMode:e,sketchOptions:t}=this.info;return(0,Z.K)(fe,{sketchOptions:t,visibleElements:{direction:"direction-distance"===e}})}};ge=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],ge);let ye=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{xyMode:r,visibleElements:n}=t;return(0,Z.K)(de,{context:e,fields:[..."direction-distance"===r?[n.direction?t.direction:void 0,n.distance?t.distance:void 0]:[n.coordinates?t.effectiveX:void 0,n.coordinates?t.effectiveY:void 0],n.elevation?t.elevation:void 0,n.totalLength?t.totalLength:void 0],mode:i})}_renderActions(){const{xyMode:e,sketchOptions:t}=this.info;return(0,Z.K)(fe,{sketchOptions:t,visibleElements:{direction:"direction-distance"===e}})}};ye=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],ye);let ve=class extends ee{_renderContent(){const{area:e,xSize:t,ySize:i,visibleElements:r}=this.info,n=this._messagesTooltip.sketch,s=this._formatters;return(0,Z.K)(Z.w,null,r.size&&null!=t&&null!=i?(0,Z.K)(P,{title:n.size,value:(0,Z.K)(H,{left:s.length(t),right:s.length(i)})}):null,r.area?(0,Z.K)(P,{title:n.area,value:s.area(e)}):null)}};ve=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],ve);let be=class extends ee{_renderContent(){const{angle:e,visibleElements:t}=this.info,i=this._messagesTooltip.sketch;return(0,Z.K)(Z.w,null,t.rotation?(0,Z.K)(P,{title:i.rotation,value:this._formatters.angleRelative(e)}):null)}};be=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],be);let we=class extends ee{_renderContent(){const e=this.info,{visibleElements:t}=e,i=this._messagesTooltip.sketch,r=this._formatters;return(0,Z.K)(Z.w,null,t.size?(0,Z.K)(P,{title:i.size,value:(0,Z.K)(H,{left:r.length(e.xSize),right:r.length(e.ySize)})}):null,t.scale?(0,Z.K)(P,{title:i.scale,value:(0,Z.K)(H,{left:r.scale(e.xScale),right:r.scale(e.yScale)})}):null)}};we=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],we);let _e=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,Z.K)(de,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0],mode:i})}};_e=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentMovePoint")],_e);let $e=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,Z.K)(de,{context:e,fields:[r.distance?t.distance:void 0,r.area?t.area:void 0,r.totalLength?t.totalLength:void 0],mode:i})}};$e=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],$e);let xe=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,Z.K)(de,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.area&&"polygon"===t.geometryType?t.area:null,r.totalLength&&"polyline"===t.geometryType?t.totalLength:null],mode:i})}};xe=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")],xe);let Se=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,Z.K)(de,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.orientation?t.orientation:void 0,r.scale?t.scale:void 0],mode:i})}};Se=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")],Se);let ke=class extends ee{_renderContent(){const{fieldContext:e,info:t,mode:i}=this,{visibleElements:r}=t;return(0,Z.K)(de,{context:e,fields:[r.coordinates?t.effectiveX:void 0,r.coordinates?t.effectiveY:void 0,r.elevation?t.elevation:void 0,r.orientation?t.orientation:void 0,r.size?t.size:void 0],mode:i})}};ke=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")],ke);let Me=class extends ee{_renderContent(){const{info:e}=this,{visibleElements:t}=e,i=this._messagesTooltip.sketch,r=this._formatters;return(0,Z.K)(Z.w,null,t.distance?(0,Z.K)(P,{title:i.distance,value:r.length(e.distance)}):null)}};Me=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslate")],Me);let Le=class extends ee{_renderContent(){const{distance:e,elevation:t,area:i,totalLength:r,visibleElements:n}=this.info,s=this._messagesTooltip.sketch,o=this._formatters;return(0,Z.K)(Z.w,null,n.distance?(0,Z.K)(P,{title:s.distance,value:o.length(e)}):null,n.elevation&&null!=t?.actual?(0,Z.K)(P,{title:s.elevation,value:o.verticalLength(t.actual)}):null,n.area&&null!=i?(0,Z.K)(P,{title:s.area,value:o.area(i)}):null,n.totalLength&&null!=r?(0,Z.K)(P,{title:s.totalLength,value:o.length(r)}):null)}};Le=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],Le);let Te=class extends ee{_renderContent(){const{info:e}=this,{visibleElements:t}=e,i=this._messagesTooltip.sketch,r=this._formatters;return(0,Z.K)(Z.w,null,t.distance?(0,Z.K)(P,{title:i.distance,value:r.length(e.distance)}):null)}};Te=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")],Te);let Ae=class extends ee{_renderContent(){const{info:e}=this,{visibleElements:t}=e,i=this._messagesTooltip.sketch;return(0,Z.K)(Z.w,null,t.distance?(0,Z.K)(P,{title:i.distance,value:this._formatters.verticalLengthRelative(e.distance)}):null)}};Ae=(0,y._)([(0,x.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],Ae);const Ie={base:`${k}`,ltr:`${k}--ltr`,rtl:`${k}--rtl`,debug:`${k}--debug`};let Ce=class extends v.A.EventedAccessor{constructor(e){super(e),this.info=null,this.options=null,this.position=null,this.content=null,this._focused=!1,this.outerContainer=document.createElement("div"),this.debug=!1,this._lastPosition=null,this._rtl=!1,this._prevXY=[0,0]}initialize(){const{outerContainer:e}=this;this.addHandles([(0,a.watch)((()=>this.view.overlay?.surface),(t=>{e.remove(),t?.appendChild(e),this._rtl=(0,E.V8)(t)}),a.pc),(0,a.watch)((()=>this.info),((t,i)=>{if(null!=this.content&&null!=t&&null!=i&&t.type===i.type)this.content.info=t;else{(0,w.pR)(this.content);const i=function(e,t){if(null==t)return null;const i=document.createElement("div");switch(t.type){case"draw-point":return new pe({tooltip:e,info:t,container:i});case"draw-polygon":return new ge({tooltip:e,info:t,container:i});case"draw-polyline":return new ye({tooltip:e,info:t,container:i});case"draw-mesh":return new ue({tooltip:e,info:t,container:i});case"draw-rectangle":return new ve({tooltip:e,info:t,container:i});case"draw-circle":return new ne({tooltip:e,info:t,container:i});case"extent-rotate":return new be({tooltip:e,info:t,container:i});case"extent-scale":return new we({tooltip:e,info:t,container:i});case"move-point":return new _e({tooltip:e,info:t,container:i});case"selected-vertex":return new xe({tooltip:e,info:t,container:i});case"transform-point":return new ke({tooltip:e,info:t,container:i});case"transform-mesh":return new Se({tooltip:e,info:t,container:i});case"translate":return new Me({tooltip:e,info:t,container:i});case"translate-vertex":return new Le({tooltip:e,info:t,container:i});case"translate-z":return new Ae({tooltip:e,info:t,container:i});case"translate-xy":return new Te({tooltip:e,info:t,container:i});case"reshape-edge-offset":return new $e({tooltip:e,info:t,container:i})}}(this,t);i?(this.content=i,i.container&&e.appendChild(i.container),this.exitInputMode()):this.content=null}}),a.pc),(0,a.watch)((()=>({container:this.outerContainer,style:this._outerContainerStyle})),(({container:e,style:t})=>{Object.assign(e.style,t)}),a.Vh),(0,a.watch)((()=>({outerContainer:this.outerContainer,placement:this.effectivePlacement,effectiveOffset:this._effectiveOffset,rtl:this._rtl,debug:this.debug})),(({outerContainer:e,placement:t,effectiveOffset:i,rtl:r,debug:n})=>{const{classList:s}=e;s.add(Ie.base),s.toggle(Ie.rtl,r),s.toggle(Ie.ltr,!r),s.toggle(Ie.debug,n),this.outerContainer.style.setProperty("--offset",`${i}px`),(0,S.hY)(e),function({classList:e},t){Oe.forEach((t=>e.remove(t))),e.add(Ge(t))}(e,t)}),a.Vh),(0,a.when)((()=>"feedback"===this.mode),(()=>{this.position=null,this._clearOverride("effectivePlacement")}),a.OH),(0,b.on)(this.outerContainer,"paste",(e=>{this.emit("paste",e)})),(0,b.on)(this.outerContainer,["focusin","focusout"],(()=>{setTimeout((()=>{this._focused=this.content?.container?.contains(document.activeElement)??!1}))}))])}destroy(){this.info=null,this.content=(0,w.pR)(this.content),this.outerContainer.remove()}get mode(){return this.content?.mode??"feedback"}get focused(){return this._focused}get visible(){return"none"!==this._outerContainerStyle.display}get contentContainer(){return this.content?.container}get effectivePlacement(){const e=this.options?.placement;return"auto"===e?"bottom-end":e??"bottom-end"}get _screenPoint(){const{inputManager:e}=this.view;return e?.multiTouchActive?null:e?.latestPointerLocation}get _effectiveOffset(){return this.options?.offset??20}get _outerContainerStyle(){const e=this.position??this._screenPoint;return this._lastPosition=(0,_.y8)(e),null!=e&&null!=this.content?{display:"block",transform:`translate(${Math.round(e.x)}px, ${Math.round(e.y)}px)`}:{display:"none",transform:"none"}}clear(){this.info=null}async enterInputMode(e){const t=this.position??this._lastPosition??this._screenPoint,i=this.position=(0,_.y8)(t),{effectivePlacement:r}=this;this._override("effectivePlacement",r),await(this.content?.enterInputMode(e,(()=>{i&&(this.position=function(e,t,i,r){if(!e||!r.container)return t;const n=e.getBoundingClientRect(),{left:s,top:o}=r.container.getBoundingClientRect();let{x:a,y:l}=t;const c=n.left-s-i;c<0&&(a-=c);const d=n.right-s+i-r.width;d>0&&(a-=d);const u=n.top-o-i;u<0&&(l-=u);const p=n.bottom-o+i-r.height;return p>0&&(l-=p),(0,_.tc)(a,l)}(this.contentContainer,i,this._effectiveOffset,this.view),Object.assign(this.outerContainer.style,this._outerContainerStyle))})))}async exitInputMode(e){await(this.content?.exitInputMode(e))}onDragStart(e,t){this._prevXY=[e,t]}onDrag(e,t){const i=e-this._prevXY[0],r=t-this._prevXY[1];this._prevXY=[e,t];const{position:n}=this;if(n){const{view:s}=this,o=e-s.position[0],a=t-s.position[1];if(o<0||o>s.width||a<0||a>s.height-16)return;this.position=(0,_.tc)(n.x+i,n.y+r)}}onDragEnd(){this._prevXY=[0,0]}};(0,y._)([(0,$.MZ)({nonNullable:!0})],Ce.prototype,"view",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"info",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"options",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"position",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"content",void 0),(0,y._)([(0,$.MZ)({readOnly:!0})],Ce.prototype,"mode",null),(0,y._)([(0,$.MZ)()],Ce.prototype,"_focused",void 0),(0,y._)([(0,$.MZ)({readOnly:!0})],Ce.prototype,"focused",null),(0,y._)([(0,$.MZ)({readOnly:!0})],Ce.prototype,"outerContainer",void 0),(0,y._)([(0,$.MZ)({readOnly:!0})],Ce.prototype,"contentContainer",null),(0,y._)([(0,$.MZ)({readOnly:!0})],Ce.prototype,"effectivePlacement",null),(0,y._)([(0,$.MZ)()],Ce.prototype,"debug",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"_lastPosition",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"_screenPoint",null),(0,y._)([(0,$.MZ)()],Ce.prototype,"_rtl",void 0),(0,y._)([(0,$.MZ)()],Ce.prototype,"_effectiveOffset",null),(0,y._)([(0,$.MZ)()],Ce.prototype,"_outerContainerStyle",null),Ce=(0,y._)([(0,x.$)("esri.views.interactive.Tooltip")],Ce);const Oe=["top","bottom","leading","trailing"].flatMap((e=>[Ge(`${e}-start`),Ge(e),Ge(`${e}-end`)]));function Ge(e){return`${Ie.base}--${e}`}const Re=Ce;var Ne=i(99675);function De(e){const t=new Re(e());return t.addHandles((0,a.watch)((()=>e()),(({view:e,options:i,info:r})=>{t.view=e,void 0!==i&&(t.options=i),void 0!==r&&(t.info=r)}))),t}function Ee(e,t){const i=(0,h.Hq)(t.vertexSpace),{scale:r,orientation:n}=e,{transform:s}=t,a=function(e){if(!e)return 0;const t=Pe(e.rotationAxis);return null!=t?t*e.rotationAngle:null}(s);i&&null!=a?(n.actual=(0,o.Wq)(a,"degrees","arithmetic"),n.visible=!0):(n.actual=null,n.visible=!1),i?(r.actual=(0,o.LF)(He(s)),r.visible=!0):(r.actual=null,r.visible=!1)}function Ze(e,t,i){if(!t||!(0,h.Hq)(t.vertexSpace))return;const r=t.transform??=new p.A;(function(e,t,i){const r=(0,Ne.Ef)(e.orientation.actual),n=Pe(t.rotationAxis);if(null==r||null==n)return;const s=t.rotationAngle,o=r*n,a=(r-s)*n;s!==o&&(i?.onRotateStart(0),t.rotationAngle=o,i?.onRotate(a),i?.onRotateStop(a))})(e,r,i),function(e,t,i){const r=e.scale.actual?.value,n=He(t);if(null==r||r===n)return;const{scale:s}=t;let o;if(0===n)o=(0,d.o8)(d.Un);else{const e=r/n;o=(0,c.h)((0,d.vt)(),s,e)}i?.onScaleStart(s[0],s[1],s[2]),t.scale=o,i?.onScale(o[0],o[1],o[2]),i?.onScaleStop(o[0],o[1],o[2])}(e,r,i)}function Ue(e,t){const{x:i,y:r,z:n}=t,{x:a,y:c,z:d}=function(e,t){let i,r;e.geographic?(i=(0,Ne.hF)(e.longitude.actual),r=(0,Ne.hF)(e.latitude.actual),(0,f.K8)(t)&&(null!=i&&null!=r?[i,r]=(0,m.je)(i,r,je):null!=i?i=(0,m.je)(i,0,je)[0]:null!=r&&(r=(0,m.je)(0,r,je)[1]))):(i=e.x.actual?.value,r=e.y.actual?.value);const n=e.elevation.actual,s=(0,l.mq)(t);return{x:i,y:r,z:null!=s&&null!=n?(0,o.l3)(n,s):void 0}}(e,t.spatialReference);return{dx:null==a||(0,s.Io)(a,i)?0:a-i,dy:null==c||(0,s.Io)(c,r)?0:c-r,dz:null==d||null==n||(0,s.Io)(d,n)?0:d-n}}const je=[0,0];function Pe(e){return(0,c.H)(e,d.Cb)?1:(0,c.H)(e,ze)?-1:null}const ze=(0,c.v)((0,d.vt)(),d.Cb);function He(e){return e?Math.max(...e.scale):1}function Fe(e,t){return!("key-down"!==e.type||e.key!==g.ac.enterInputMode||!t||!function(e){const t=e?.sketchOptions;if(!t)return!1;const{inputEnabled:i,visibleElements:r}=t.tooltips;return i&&!0===e.editableFields.some((({name:e})=>"x"===e||"y"===e?r.coordinates:r[e]))}(t.info)||(t.enterInputMode(),e.preventDefault(),e.stopPropagation(),0))}function Ve(e,t){let i=null;return(0,n.vE)([e.on("paste",(async n=>{i?.abort(),i=(0,r.UT)((async()=>{(0,u.s1)()||await(0,u.Hh)(),Be(n,e.info,t)}))})),(0,r.UT)((()=>(0,u.Hh)())),(0,n.hA)((()=>i?.abort()))])}function Be(e,t,i){if(!t||!("geographic"in t))return;const r=e.clipboardData?.getData("text");if(!r)return;const n=t=>{e.stopPropagation(),e.preventDefault(),i?.onBeforePaste(),t(),i?.onAfterPaste()};if(t.geographic){const e=(0,J.X3)(r);e&&n((()=>{t.longitude.applyValue(e.longitude),t.latitude.applyValue(e.latitude)}))}else{const e=(0,J.Nr)(r);e&&n((()=>{t.x.applyValue(e.x),t.y.applyValue(e.y)}))}}},9862:function(e,t,i){"use strict";i.d(t,{Do:function(){return l},Kt:function(){return a},ob:function(){return o}});var r=i(32501),n=i(46517),s=i(1428);function o(e){return(0,s.mh)(e)??(0,n.Xg)(e)}function a(e,t){return(0,s.Og)(e,t)??(0,n.ll)(e,t)}function l(e,t,i){return c[0]=e[0],c[1]=e[1],c[2]=3===e.length?e[2]:0,d[0]=t[0],d[1]=t[1],d[2]=3===t.length?t[2]:0,(0,s.n3)(c,d,i)??(0,n.sT)(c,d,i)}const c=(0,r.vt)(),d=(0,r.vt)()},33383:function(e,t,i){"use strict";i.d(t,{V:function(){return o},t:function(){return a}}),i(50917);var r=i(62938),n=i(82418),s=i(91484);function o(e,t,i,n=new s.default){let o=0;if("2d"===i.type)o=t*(i.resolution??0);else if("3d"===i.type){const n=i.overlayPixelSizeInMapUnits(e),s=i.basemapSpatialReference;o=null==s||s.equals(i.spatialReference)?t*n:(0,r.GA)(s)/(0,r.GA)(i.spatialReference)}const a=e.x-o,l=e.y-o,c=e.x+o,d=e.y+o,{spatialReference:u}=i;return n.xmin=Math.min(a,c),n.ymin=Math.min(l,d),n.xmax=Math.max(a,c),n.ymax=Math.max(l,d),n.spatialReference=u,n}function a(e,t,i){const r=i.toMap(e);return null!=r&&o(r,(0,n.o)(),i,l).intersects(t)}const l=new s.default},46517:function(e,t,i){"use strict";i.d(t,{Of:function(){return m},Qc:function(){return g},Xg:function(){return p},cL:function(){return b},e5:function(){return f},ll:function(){return h},sT:function(){return v}});var r,n,s=i(56275),o=i(62938),a=i(20551),l=i(32501),c=i(68734),d=i(57652),u=i(19271);function p(e){return function(e,t){const{hasZ:i,spatialReference:n}=e,a=(0,u.l)(n);let l=0;const c=(0,o._H)(a);if(null==c)return null;const d=t===r.Direct?y:v;for(const t of e.paths){if(t.length<2)continue;const e=t.length-1;for(let r=0;r<e;++r){const e=t[r];_[0]=e[0],_[1]=e[1],_[2]=i?e[2]:0;const s=t[r+1];$[0]=s[0],$[1]=s[1],$[2]=i?s[2]:0;const o=d(_,$,n);if(null==o)return null;l+=o.value}}return(0,s.d_)(l,c)}(e,r.Horizontal)}function h(e,t){const{spatialReference:i}=e;return(0,d.aI)(i,t.spatialReference)?(_[0]=e.x,_[1]=e.y,_[2]=e.hasZ?e.z:0,$[0]=t.x,$[1]=t.y,$[2]=t.hasZ?t.z:0,v(_,$,i)):null}function f(e,t){const{spatialReference:i}=e;return(0,d.aI)(i,t.spatialReference)?(_[0]=e.x,_[1]=e.y,_[2]=e.hasZ?e.z:0,$[0]=t.x,$[1]=t.y,$[2]=t.hasZ?t.z:0,b(_,$,i)):null}function m(e){return null!=e?g(e.hasZ?e.z:0,e.spatialReference):null}function g(e,t){const i=(0,o.mq)(t);return null!=i?(0,s.d_)(e??0,i):null}function y(e,t,i){const n=w(e,t,i,r.Direct);return null!=n?(0,s.d_)(n.direct,n.unit):null}function v(e,t,i){const n=w(e,t,i,r.Horizontal);return null!=n?(0,s.d_)(n.horizontal,n.unit):null}function b(e,t,i){const n=w(e,t,i,r.Vertical);return null!=n?(0,s.d_)(n.verticalSigned,n.unit):null}function w(e,t,i,n){const s=(0,u.l)(i),l=(0,o._H)(s);if(null==l)return null;const d=t[2]-e[2];if(n===r.Vertical)return{verticalSigned:d,unit:l};if(!(0,c.F)(e,i,x,s)||!(0,c.F)(t,i,S,s))return null;if(n===r.Direct)return{direct:(0,a.j)(S,x),unit:l};if((0,a.i)(k,e[0],e[1],t[2]),!(0,c.F)(k,i,k,s))return null;const p=(0,a.j)(k,S);return n===r.Horizontal?{horizontal:p,unit:l}:{direct:(0,a.j)(S,x),horizontal:p,vertical:Math.abs(d),unit:l}}(n=r||(r={}))[n.Direct=0]="Direct",n[n.Horizontal=1]="Horizontal",n[n.Vertical=2]="Vertical";const _=(0,l.vt)(),$=(0,l.vt)(),x=(0,l.vt)(),S=(0,l.vt)(),k=(0,l.vt)()},16633:function(e,t,i){"use strict";i.d(t,{b:function(){return s}});var r=i(56275),n=i(9862);function s({topLeft:e,topRight:t,bottomRight:i,bottomLeft:s,spatialReference:o}){const a=(0,r.T9)((0,n.Do)(s,i,o),(0,n.Do)(e,t,o));if(null==a)return null;const l=(0,r.T9)((0,n.Do)(i,t,o),(0,n.Do)(s,e,o));return null==l?null:{xSize:a,ySize:l}}},1428:function(e,t,i){"use strict";i.d(t,{Og:function(){return d},mh:function(){return c},n3:function(){return u}});var r=i(56275),n=i(32501),s=i(22162),o=i(57862),a=i(57652),l=i(99368);function c(e){const{spatialReference:t}=e;return(0,l.M0)(t,f,m,e)}function d(e,t){if(!(0,a.aI)(e.spatialReference,t.spatialReference))return null;const{spatialReference:i}=e;return y[0]=e.x,y[1]=e.y,y[2]=e.hasZ?e.z:0,v[0]=t.x,v[1]=t.y,v[2]=t.hasZ?t.z:0,u(y,v,i)}function u(e,t,i){return(0,l.M0)(i,p,h,e,t,i)}function p(e,t,i){return(0,r.d_)((0,o._3)(g,e,t,i).distance,"meters")}function h(e,t,i){return(0,r.d_)((0,s.geodesicLength)(function(e,t,i){return{type:"polyline",spatialReference:i,paths:[[[...e],[...t]]]}}(e,t,i),"meters"),"meters")}function f(e){return(0,r.d_)((0,o.l1)([e],"meters")[0],"meters")}function m(e){return(0,r.d_)((0,s.geodesicLength)(e,"meters"),"meters")}const g=new o.Zj,y=(0,n.vt)(),v=(0,n.vt)()},99368:function(e,t,i){"use strict";i.d(t,{M0:function(){return o},yF:function(){return s}});var r=i(57862),n=i(57652);function s(e){return(0,r.TT)(e)||(0,n.K8)(e)}function o(e,t,i,...s){return(0,r.TT)(e)?t.apply(void 0,s):(0,n.K8)(e)?i.apply(void 0,s):null}},39715:function(e,t,i){"use strict";function r(e){return e&&"function"==typeof e.highlight}function n(e,t,i){return null==e||e>=i&&(0===t||e<=t)}function s(e,t){if(t&&e){const{minScale:i,maxScale:r}=e;if(function(e,t){return null!=e&&e>0||null!=t&&t>0}(i,r))return n(t,i,r)}return!0}function o(e){return!e?.minScale||!e.maxScale||e.minScale>=e.maxScale}i.d(t,{E5:function(){return s},JU:function(){return n},Of:function(){return r},g7:function(){return o}}),i(39819)},19271:function(e,t,i){"use strict";i.d(t,{l:function(){return o}});var r=i(61714),n=i(96611),s=i(57652);function o(e){return(0,s.B3)(e)?(0,s.oT)(e)||(0,s.K8)(e)||(0,s.x1)(e)||(0,r.jA)(e)?n.Y0:e:(0,n.lO)(e)}},84624:function(e,t,i){"use strict";i.d(t,{CJ:function(){return p}});var r=i(39819),n=i(21609),s=i(34194),o=i(47527),a=i(11432);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function d(e,t){if(t.restrictedWebMapWriting){const i=function(e){return"basemap"===e.layerContainerType?l:"operational-layers"===e.layerContainerType?c:null}(t);return null==i||i.has(e.type)&&!(0,a.Ov)(e)}return!0}function u(e,t){"maxScale"in e&&(t.maxScale=(0,o.B)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,o.B)(e.minScale)??void 0)}function p(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i?.messages&&i.messages.push(new r.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,a.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(d(e,i)){const t={};return e.write(t,i)?t:null}return null!=t&&function(e,t){if(function(e,t){if(t)if((0,a.Ov)(e)){const i=(0,s.wc)("featureCollection.layers",t),r=i?.[0]?.layerDefinition;r&&u(e,r)}else"group"!==e.type&&u(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,o.B)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,a.Ov)(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,n.o8)(t)),t}},25867:function(e,t,i){"use strict";i.d(t,{A4:function(){return A},AB:function(){return k},Ao:function(){return te},CS:function(){return U},DU:function(){return q},Fr:function(){return ae},JF:function(){return S},MK:function(){return N},Tt:function(){return L},Uu:function(){return B},a$:function(){return z},bG:function(){return V},bV:function(){return T},c3:function(){return J},cS:function(){return re},gd:function(){return R},kX:function(){return M},ld:function(){return F},lm:function(){return P},n_:function(){return H},q6:function(){return ie},s$:function(){return Y},sS:function(){return Z},u2:function(){return G},x1:function(){return W},xL:function(){return I},yY:function(){return ne}});var r=i(58941),n=i(40633),s=i(50944),o=i(8289),a=i(2900),l=i(53743),c=i(11432),d=i(33118),u=i(54547),p=i(21168);const h=()=>n.A.getLogger("esri.widgets.Feature.support.featureUtils"),f=/href=(""|'')/gi,m=/(\{([^{\r\n]+)\})/g,g=/'/g,y=/^\s*expression\//i,v=/(\n)/gi,b=/[\u00A0-\u9999<>&]/gim,w=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,_=/^(?:mailto:|tel:)/,$="relationships/",x=(0,o.J2)("short-date-short-time");function S(e){if(null!=e)return(e.sourceLayer||e.layer)??void 0}async function k({type:e,value:t,event:i}){try{return"function"==typeof t?t(i):await t}catch(r){return void h().error("error",`An error occurred when calling the "${e}" function`,{error:r,graphic:i.graphic,value:t})}}function M(e=""){if(e)return!_.test(e.trim().toLowerCase())}function L(e){return!!e&&y.test(e)}function T(e,t){const i=function(e,t){if(!t||!L(t)||!e)return;const i=t.replace(y,"").toLowerCase();return e.find((({name:e})=>e.toLowerCase()===i))}(t,e?.fieldName);return i?i.title||null:e?e.label||e.fieldName:null}function A(e,t){const i=C(t,e);return i?i.name:e}function I(e,t){return e&&e.map((e=>A(e,t)))}function C(e,t){return e&&"function"==typeof e.getField&&t?e.getField(t)??null:null}function O(e){return`${e}`.trim()}function G({attributes:e,globalAttributes:t,layer:i,text:r,expressionAttributes:n,fieldInfoMap:s}){return r?R({formattedAttributes:t,template:D(r,{...t,...n,...e},i),fieldInfoMap:s}):""}function R({formattedAttributes:e,template:t,fieldInfoMap:i}){return O(function(e){return e.replaceAll(f,"")}((0,s.HC)((0,s.HC)(t,(e=>function(e,t){const i=t.get(e.toLowerCase());return`{${i?.fieldName||e}}`}(e,i))),e)))}function N(e,t){return e.replaceAll(m,((e,i,r)=>{const n=C(t,r);return n?`{${n.name}}`:i}))}function D(e,t,i){const r=N(e,i);return r?r.replaceAll(w,((e,i,r)=>function(e,t,i){const r=(t=O(t))&&"{"!==t[0];return(0,s.HC)(e,function(e,t=!1){const i={...e};return Object.keys(i).forEach((e=>function(e,t,i=!1){const r=t[e];if("string"==typeof r){const n="%27",s=(i?encodeURIComponent(r):r).replaceAll(g,n);t[e]=s}}(e,i,t))),i}(i,r||!1))}(e,i||r,t))):r}function E(e){return null!=e&&"object"==typeof e&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&("feature"===e.type||"scene"===e.type||"subtype-sublayer"===e.type||"sublayer"===e.type)&&"when"in e}function Z(e){return E(e)&&function(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}(e)}function U(e){return E(e)&&function(e){return!!(e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"type"in e)&&("subtype-sublayer"===e.type&&"parent"in e&&e.parent&&"object"==typeof e.parent?"globalIdField"in e.parent:"globalIdField"in e)}(e)}function j(e,t,i,r){return e.trim().split(t).map((e=>(0,a.ZV)(Number(e),(0,a.yx)(r)))).join(i)}function P(e,t){if(e?.length&&t)return e.find((e=>e.fieldName?.toLowerCase()===t.toLowerCase()))}function z(e,t,i,r){const{creatorField:n,creationDateField:s,editorField:a,editDateField:l}=e;if(!t)return;const c=(0,p.hv)(r&&"preferredTimeZone"in r?r.preferredTimeZone:null,!(!r||!("datesInUnknownTimezone"in r)||!r.datesInUnknownTimezone),i,x,"date"),d={...x,...c},u=t[l];if("number"==typeof u){const e=t[a];return{type:"edit",date:(0,o.Yq)(u,d),user:e}}const h=t[s];if("number"==typeof h){const e=t[n];return{type:"create",date:(0,o.Yq)(h,d),user:e}}return null}function H(e,t){const i=new Map;if(!e)return i;for(const r of e){if(!r.fieldName)continue;const e=A(r.fieldName,t);r.fieldName=e,i.set(e.toLowerCase(),r)}return i}function F(e){const t=[];if(!e)return t;const{fieldInfos:i,content:r}=e;return i&&t.push(...i),r&&Array.isArray(r)?(r.forEach((e=>{if("fields"===e.type){const i=e?.fieldInfos;i&&t.push(...i)}})),t):t}function V(e){return e.replaceAll(b,(e=>`&#${e.charCodeAt(0)};`))}function B(e){return"string"==typeof e?e.replaceAll(v,'<br class="esri-text-new-line" />'):e}function K(e){const{value:t,fieldName:i,fieldInfos:n,fieldInfoMap:s,layer:o,graphic:c,timeZone:u}=e;if(null==t)return"";const p=function({fieldName:e,value:t,graphic:i,layer:n}){if(Y(e))return null;if(!n||"function"!=typeof n.getFieldDomain)return null;const s=i&&n.getFieldDomain(e,{feature:i,excludeImpliedDomains:(0,r.A)("esri-widget-legacy-field-domain-calculation")});return s&&"coded-value"===s.type?s.getName(t):null}({fieldName:i,value:t,graphic:c,layer:o});if(p)return p;const h=function({fieldName:e,graphic:t,layer:i}){if(Y(e))return null;if(!i||"function"!=typeof i.getFeatureType)return null;const{typeIdField:r}=i;if(!r||e!==r)return null;const n=i.getFeatureType(t);return n?n.name:null}({fieldName:i,graphic:c,layer:o});if(h)return h;if(s.get(i.toLowerCase()))return function(e,t){const{fieldInfos:i,fieldName:r,preventPlacesFormatting:n,layer:s,timeZone:o}=t,c=P(i,r),u=C(s,r);if(c&&!(0,l.JL)(r)){const t=u?.type,i=c.format?.dateFormat;if("date"===t||"date-only"===t||"time-only"===t||"timestamp-offset"===t||i)return(0,d.i0)(e,{format:i,fieldType:t,timeZoneOptions:{layerTimeZone:s&&"preferredTimeZone"in s?s.preferredTimeZone:null,viewTimeZone:o,datesInUnknownTimezone:!(!s||!("datesInUnknownTimezone"in s)||!s.datesInUnknownTimezone)}})}const p=c?.format;return"string"==typeof e&&(0,l.JL)(r)&&p?function(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?j(e,",",", ",t):e.includes(";")?j(e,";","; ",t):e.includes(" ")?j(e," "," ",t):(0,a.ZV)(Number(e),(0,a.yx)(t))}(e,p):"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e);if(!isNaN(t))return t}return e}(e,p))||null==e||null==p?B(e):(0,a.ZV)(e,n?{...(0,a.yx)(p),minimumFractionDigits:0,maximumFractionDigits:20}:(0,a.yx)(p))}(t,{fieldInfos:n||Array.from(s.values()),fieldName:i,layer:o,timeZone:u});const f=o?.fieldsIndex?.get(i);return f&&((0,d.fs)(f)||(0,l.OH)(f))?(0,d.i0)(t,{fieldType:f.type,timeZoneOptions:{layerTimeZone:o&&"preferredTimeZone"in o?o.preferredTimeZone:null,viewTimeZone:u,datesInUnknownTimezone:!(!o||!("datesInUnknownTimezone"in o)||!o.datesInUnknownTimezone)}}):B(t)}function W({fieldInfos:e,attributes:t,layer:i,graphic:r,fieldInfoMap:n,relatedInfos:s,timeZone:o}){const a={};return s?.forEach((t=>function({attributes:e,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:n,timeZone:s}){e&&t&&(t.relatedFeatures?.forEach((o=>X({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:n,timeZone:s}))),t.relatedStatsFeatures?.forEach((o=>X({attributes:e,graphic:o,relatedInfo:t,fieldInfoMap:i,fieldInfos:r,layer:n,timeZone:s}))))}({attributes:a,relatedInfo:t,fieldInfoMap:n,fieldInfos:e,layer:i,timeZone:o}))),t&&Object.keys(t).forEach((s=>{const l=t[s];a[s]=K({fieldName:s,fieldInfos:e,fieldInfoMap:n,layer:i,value:l,graphic:r,timeZone:o})})),a}async function q(e,t){const{layer:i,graphic:r,outFields:n,objectIds:s,returnGeometry:o,spatialReference:a}=e,l=s[0];if("number"!=typeof l&&"string"!=typeof l){const e="Could not query required fields for the specified feature. The feature's ID is invalid.",t={layer:i,graphic:r,objectId:l,requiredFields:n};return h().warn(e,t),null}if(!(0,c.BR)(i)?.operations?.supportsQuery){const e="The specified layer cannot be queried. The following fields will not be available.",t={layer:i,graphic:r,requiredFields:n,returnGeometry:o};return h().warn(e,t),null}const d=i.createQuery();return d.objectIds=s,d.outFields=n?.length?n:[i.objectIdField],d.returnGeometry=!!o,d.returnZ=!!o,d.returnM=!!o,d.outSpatialReference=a,(await i.queryFeatures(d,t)).features[0]}async function J({graphic:e,popupTemplate:t,layer:i,spatialReference:r},n){if(!i||!t)return;if("function"==typeof i.load&&await i.load(n),!e.attributes)return;const s=i.objectIdField,o=e.attributes[s];if(null==o)return;const a=[o],c=await t.getRequiredFields(i.fieldsIndex),d=(0,l.Kl)(c,e),p=d?[]:c.includes(s)?c:[...c,s],h=t.returnGeometry||await async function(e){if(!e.expressionInfos?.length)return!1;const t=await(0,u.lw)(),{arcadeUtils:{hasGeometryFunctions:i}}=t;return i(e)}(t);if(d&&!h)return;const f=await q({layer:i,graphic:e,outFields:p,objectIds:a,returnGeometry:h,spatialReference:r},n);f&&(f.geometry&&(e.geometry=f.geometry),f.attributes&&(e.attributes={...e.attributes,...f.attributes}))}function Y(e=""){return!!e&&e.includes($)}function X({attributes:e,graphic:t,relatedInfo:i,fieldInfos:r,fieldInfoMap:n,layer:s,timeZone:o}){e&&t&&i&&Object.keys(t.attributes).forEach((a=>{const l=function(e){return e?`${$}${e.layerId}/${e.fieldName}`:""}({layerId:i.relation.id.toString(),fieldName:a}),c=t.attributes[a];e[l]=K({fieldName:l,fieldInfos:r,fieldInfoMap:n,layer:s,value:c,graphic:t,timeZone:o})}))}const Q=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},ee=({layer:e,method:t,query:i,definitionExpression:r})=>{if(!e.capabilities?.query?.supportsCacheHint||"attachments"===t)return;const n=null!=i.where?i.where:null,s=null!=i.geometry?i.geometry:null;Q(r)||Q(n)||"extent"===s?.type||"tile"===i.resultType||(i.cacheHint=!0)},te=({query:e,layer:t,method:i})=>{ee({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})},ie=({queryPayload:e,layer:t,method:i})=>{ee({layer:t,method:i,query:e,definitionExpression:`${t.definitionExpression} ${t.serviceDefinitionExpression??""}`})};function re(e,t,i){return e&&t&&i?"sublayer"===t.type?oe({layers:t.layer?.sublayers,map:e,relatedLayer:t,relationship:i})||oe({layers:t.layer?.subtables,map:e,relatedLayer:t,relationship:i}):oe({layers:e.allLayers,map:e,relatedLayer:t,relationship:i})||oe({layers:e.allTables,map:e,relatedLayer:t,relationship:i}):null}function ne(e,t){return e&&"utilityNetworks"in e&&t?e.utilityNetworks?.find((e=>e.isUtilityLayer(t))):null}function se(e,t){return e?.allTables.find((e=>"feature"===e.type&&e.layerId===t.id&&e.url===t.layer?.url))}function oe({map:e,relationship:t,relationship:{relatedTableId:i},relatedLayer:r,layers:n}){if(!n)return null;for(const s of n){if("map-image"===s.type){const i=oe({layers:s.sublayers,map:e,relatedLayer:r,relationship:t})||oe({layers:s.subtables,map:e,relatedLayer:r,relationship:t});if(i)return i;continue}if(!Z(s))continue;if("sublayer"===r.type){if(s!==r&&s.id===i)return s.isTable?se(e,s):s;continue}const n="scene"===r.type&&r.associatedLayer?r.associatedLayer.url:r.url;if(!n)return null;if("sublayer"!==s.type){if(s!==r&&s.url===n&&s.layerId===i)return s}else if(s!==r&&s.layer?.url===n&&s.id===i)return s.isTable?se(e,s):s}return null}function ae(e){const t=e.getObjectId();return null!=t?`oid:${t}`:`uid:${e.uid}`}},31267:function(e,t,i){"use strict";i.d(t,{A:function(){return Z}});var r=i(53804),n=(i(64122),i(88022)),s=i(88264),o=i(48996),a=i(40212),l=(i(58941),i(21609)),c=i(40633),d=i(95929),u=i(62560),p=i(60539),h=i(28181),f=i(66110),m=i(23502),g=i(77560),y=i(65953),v=i(44567),b=i(6792),w=i(92781);i(81401);const _={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},$={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}},x=(e,t,i=!1)=>{let r=e;return t.forEach(((e,n)=>{const s=r?.children?((e,t)=>e.find(t))(r.children,(t=>t.domNode===e)):void 0;i&&!s&&n!==t.length-1||(r=s)})),r};var S=i(28754),k=i(69987),M=i(50074);const L=new Set;var T,A=i(15351),I=i(10362),C=i(22739),O=i(38225);let G=0;function R(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(null!=e[r]&&null!=t[r]&&"object"==typeof e[r]&&"object"==typeof t[r]?R(e[r],t[r]):e[r]=t[r]);return e}const N=(e=>{let t;const i={..._,...e},r=(s=i,{...$,...s}),n=r.performanceLogger;var s;let o,a=!0,l=!1;const c=[],d=[],u=(e,s,o)=>{let a;r.eventHandlerInterceptor=(e,r,s,o)=>function(e){let r;n("domEvent",e);const s=((e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(e.currentTarget,a.domNode),o=s.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase!==Event.CAPTURING_PHASE&&o){const t=e.composedPath(),i=t.slice(t.indexOf(e.currentTarget),t.indexOf(a.domNode)).reverse();r=x(a.getLastRender(),i,!0)}else s.reverse(),r=x(a.getLastRender(),s);let l;return r&&(l=i.handleInterceptedEvent(t,r,this,e)),n("domEventProcessed",e),l},i.postProcessProjectionOptions?.(r);const l=o();a=e(s,l,r),r.eventHandlerInterceptor=void 0,c.push(a),d.push(o),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(a,l)};let p=()=>{if(o=void 0,a){a=!1,n("renderStart",void 0);for(let e=0;e<c.length;e++){const t=d[e]();n("rendered",void 0);try{c[e].update(t)}catch(e){console.error(e)}n("patched",void 0)}n("renderDone",void 0),a=!0}};return i.modifyDoRenderImplementation&&(p=i.modifyDoRenderImplementation(p,c,d)),t={renderNow:p,scheduleRender:()=>{o||l||(o=requestAnimationFrame(p))},stop:()=>{o&&(cancelAnimationFrame(o),o=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{u(w.t.append,e,t)},insertBefore:(e,t)=>{u(w.t.insertBefore,e,t)},merge:(e,t)=>{u(w.t.merge,e,t)},replace:(e,t)=>{u(w.t.replace,e,t)},detach:e=>{for(let t=0;t<d.length;t++)if(d[t]===e)return d.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t})({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(e,r,n,s)=>{const o=t?.(e,r,n,s),a=i.test(e);if(!((e=e.replace(i,"")).toLowerCase()in n)||a){const t=e[2].toLowerCase()+e.slice(3),i=e=>o?.call(n,e);n.addEventListener(t,i,a);const r=()=>n.removeEventListener(t,i,a),l=s.afterRemoved;s.afterRemoved=e=>{l?.(e),r()}}return o}},handleInterceptedEvent(e,t,i,r){const{eventPhase:n,type:s}=r,o=n===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&((0,A.Sh)(),e.scheduleRender(),l[a].call(l.bind||i,r))}});let D=!1,E=class extends((0,u.g)(o.A.EventedAccessor)){constructor(e,t){super(e,t),this._attached=!1,this._projector=N,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,p.sg)((async()=>{if(this._messageBundleProps?.length){const e=await Promise.allSettled(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let i=await(0,O.ud)(e);this.uiStrings&&Object.keys(this.uiStrings)&&(i=R((0,l.o8)(i),this.uiStrings)),this[t]=i})));if(this.destroyed)return;for(const t of e)"rejected"===t.status&&c.A.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.reason)}await this.loadLocale()})),(0,S.V)();const i="esri-widget-uid-"+(0,f.lk)(),r=this.render.bind(this);this._trackingTarget=new b.r((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const n=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),s=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const e=r()??n(),t=e.properties??={};if(t.key??=i,(0,k.b)(e.vnodeSelector)){if(!this.visible)return n()}else this.visible?t.styles||(t.styles={}):(t.class="",t.styles={display:"none"}),t.styles.display??="";let s=0;return e.children?.forEach((e=>{(0,k.b)(e.vnodeSelector)||(e.properties??={},e.properties.key??=`${this.id}--${s++}`)})),(0,k.d)(this,e)};this.render=()=>{if(D)return s();let e=(0,A.rE)(this)??null;if(e)return e;this._trackingTarget.clear(),D=!0;try{e=(0,v.a)(this._trackingTarget,s)}catch(e){throw c.A.getLogger(this).error(e),e}finally{D=!1}return e&&(0,A.$U)(this,e),e};const o=this.beforeFirstRender();var a;o?this._resourcesFetch=o.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),a=this._resourcesFetch,L.add(a),a.finally((()=>L.delete(a)))}normalizeCtorArgs(e,t){const i={...e};return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then((()=>{})).catch(p.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,d.pR)(this._trackingTarget),(0,d.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,A.Qw)(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return(0,s.$)(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+G++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(T=M.x,M.D)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,A.Qw)(this),this._projector.scheduleRender())}own(e){(0,n.eO)(c.A.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return I.Ly.apply(this,e)}renderNow(){(0,A.Qw)(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,h.watch)((()=>this.viewModel),((e,t)=>{t&&this.removeHandles("delegated-events"),e&&(0,a.wb)(e)&&this.addHandles(this._delegatedEventNames.map((t=>(0,a.on)(e,t,(e=>{this.emit(t,e)})))),"delegated-events")}),h.pc)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(p.jH),this.scheduleRender()};this.addHandles([(0,C.oQ)(e),(0,h.watch)((()=>this.uiStrings),e),(0,h.when)((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}};E[T]=!0,E.vnodeSelector="div",(0,r._)([(0,m.MZ)()],E.prototype,"_readyForTrueRender",void 0),(0,r._)([(0,m.MZ)({value:null})],E.prototype,"container",null),(0,r._)([(0,g.w)("container")],E.prototype,"castContainer",null),(0,r._)([(0,m.MZ)()],E.prototype,"icon",null),(0,r._)([(0,m.MZ)()],E.prototype,"id",null),(0,r._)([(0,m.MZ)()],E.prototype,"label",null),(0,r._)([(0,m.MZ)()],E.prototype,"renderable",null),(0,r._)([(0,m.MZ)()],E.prototype,"uiStrings",void 0),(0,r._)([(0,m.MZ)()],E.prototype,"viewModel",void 0),(0,r._)([(0,m.MZ)({value:!0})],E.prototype,"visible",null),(0,r._)([(0,m.MZ)()],E.prototype,"key",void 0),(0,r._)([(0,m.MZ)()],E.prototype,"children",void 0),(0,r._)([(0,m.MZ)()],E.prototype,"afterCreate",void 0),(0,r._)([(0,m.MZ)()],E.prototype,"afterUpdate",void 0),(0,r._)([(0,m.MZ)()],E.prototype,"afterRemoved",void 0),E=(0,r._)([(0,y.$)("esri.widgets.Widget")],E);const Z=E},28754:function(e,t,i){"use strict";i.d(t,{V:function(){return u},W:function(){return p}});var r=i(96367),n=i(67646),s=i(54038),o=i(3102);function a(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(r.d)||e.contains(r.a)&&t?"dark":"light",n=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),s=e=>{o!==e&&n(e),o=e};let o=i();n(o),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>s(e.matches?"dark":"light"))),new MutationObserver((()=>s(i()))).observe(document.body,{attributes:!0,attributeFilter:["class"]})}(0,s.i)()&&("interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",(()=>a()),{once:!0})),(0,n.s)();var l=i(53216),c=(i(58941),i(90683));let d;function u(){try{(0,o.OX)(".")}catch{(0,o.Qu)((0,c.s2)((0,l.s)(d)))}}function p(e){const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push(e[i]?.());return t.length>0?Promise.all(t):null}d="components/assets"},90357:function(e,t,i){"use strict";function r(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}i.d(t,{G:function(){return r}})},49146:function(e,t,i){"use strict";i.d(t,{K:function(){return a},w:function(){return l}});var r=i(69987),n=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},s=function(e,t){for(var i=0,r=e.length;i<r;i++){var o=e[i];Array.isArray(o)?s(o,t):null!=o&&!1!==o&&(o.hasOwnProperty("vnodeSelector")||(o=n(o)),t.push(o))}},o=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(1===i.length&&"string"==typeof i[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var n=[];return s(i,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function a(e,t,...i){return"function"!=typeof e||(0,r.b)(e)?o(e,t,...i):e(t,...i)}function l(...e){return e}},69987:function(e,t,i){"use strict";i.d(t,{b:function(){return p},d:function(){return l}});var r=i(61226),n=i(50074);const s=[],o={},a=new WeakMap;function l(e,t){let i=t.children;if(i?.length)for(let t=0;t<i.length;++t)i[t]=l(e,i[t]);else i=s;const r=t.vnodeSelector;if(p(r)){const n=t.properties||o,s=n.key||r,a={key:s,afterCreate:c,afterUpdate:d,afterRemoved:u,parentWidget:e,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function c(e,t,i,{parentWidget:s,widgetConstructor:o,widgetProperties:l}){const c=new o(l);c.container=e,a.set(e,c),c.afterCreate?.(c,e),s.addHandles((0,r.hA)((()=>u(e)))),queueMicrotask((()=>{c[n.D].projector.renderNow()}))}function d(e,t,i,{widgetProperties:r}){const n=a.get(e);n&&(n.set(r),n.afterUpdate?.(n,e))}function u(e){const t=a.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),a.delete(e))}function p(e){return"function"==typeof e&&e[n.x]}},50074:function(e,t,i){"use strict";i.d(t,{D:function(){return n},x:function(){return r}});const r=Symbol("widget"),n=Symbol("widget-test-data")},15351:function(e,t,i){"use strict";i.d(t,{$U:function(){return o},Qw:function(){return a},Sh:function(){return n},rE:function(){return s}});const r=new Map;function n(){r.clear()}function s(e){return r.get(e)}function o(e,t){r.set(e,t)}function a(e){r.delete(e)}},10362:function(e,t,i){"use strict";i.d(t,{Ly:function(){return ue},N_:function(){return he},OU:function(){return ve},V8:function(){return pe},W5:function(){return ye},Z6:function(){return be},cA:function(){return fe}});var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n={exports:{}},s={},o={exports:{}},a={};function l(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var c=/javascript\s*\:/gim;a.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},a.getDefaultWhiteList=l,a.onAttr=function(e,t,i){},a.onIgnoreAttr=function(e,t,i){},a.safeAttrValue=function(e,t){return c.test(t)?"":t};var d=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},u=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")},p=a,h=function(e,t){";"!==(e=u(e))[e.length-1]&&(e+=";");var i=e.length,r=!1,n=0,s=0,o="";function a(){if(!r){var i=d(e.slice(n,s)),a=i.indexOf(":");if(-1!==a){var l=d(i.slice(0,a)),c=d(i.slice(a+1));if(l){var u=t(n,o.length,l,c,i);u&&(o+=u+"; ")}}}n=s+1}for(;s<i;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var c=e.indexOf("*/",s+2);if(-1===c)break;n=(s=c+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||a():"\n"===l&&a()}return d(o)};function f(e){return null==e}function m(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).whiteList=e.whiteList||p.whiteList,e.onAttr=e.onAttr||p.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||p.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||p.safeAttrValue,this.options=e}m.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onAttr,n=t.onIgnoreAttr,s=t.safeAttrValue;return h(e,(function(e,t,o,a,l){var c=i[o],d=!1;if(!0===c?d=c:"function"==typeof c?d=c(a):c instanceof RegExp&&(d=c.test(a)),!0!==d&&(d=!1),a=s(o,a)){var u,p={position:t,sourcePosition:e,source:l,isWhite:d};return d?f(u=r(o,a,p))?o+":"+a:u:f(u=n(o,a,p))?void 0:u}}))};var g=m;!function(e,t){var i=a,r=g;for(var n in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,i)t[n]=i[n]}(o,o.exports);var y=o.exports,v={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},b=y.FilterCSS,w=y.getDefaultWhiteList,_=v;var $=new b;function x(e){return e.replace(S,"&lt;").replace(k,"&gt;")}var S=/</g,k=/>/g,M=/"/g,L=/&quot;/g,T=/&#([a-zA-Z0-9]*);?/gim,A=/&colon;?/gim,I=/&newline;?/gim,C=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,O=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,G=/u\s*r\s*l\s*\(.*/gi;function R(e){return e.replace(M,"&quot;")}function N(e){return e.replace(L,'"')}function D(e){return e.replace(T,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function E(e){return e.replace(A,":").replace(I," ")}function Z(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return _.trim(t)}function U(e){return Z(e=E(e=D(e=N(e))))}function j(e){return x(e=R(e))}s.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},s.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},s.onTag=function(e,t,i){},s.onIgnoreTag=function(e,t,i){},s.onTagAttr=function(e,t,i){},s.onIgnoreTagAttr=function(e,t,i){},s.safeAttrValue=function(e,t,i,r){if(i=U(i),"href"===t||"src"===t){if("#"===(i=_.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===t){if(C.lastIndex=0,C.test(i))return""}else if("style"===t){if(O.lastIndex=0,O.test(i))return"";if(G.lastIndex=0,G.test(i)&&(C.lastIndex=0,C.test(i)))return"";!1!==r&&(i=(r=r||$).process(i))}return j(i)},s.escapeHtml=x,s.escapeQuote=R,s.unescapeQuote=N,s.escapeHtmlEntities=D,s.escapeDangerHtml5Entities=E,s.clearNonPrintableCharacter=Z,s.friendlyAttrValue=U,s.escapeAttrValue=j,s.onIgnoreTagStripAll=function(){return""},s.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var i=!Array.isArray(e),r=[],n=!1;return{onIgnoreTag:function(s,o,a){if(function(t){return!!i||-1!==_.indexOf(e,t)}(s)){if(a.isClosing){var l=a.position+10;return r.push([!1!==n?n:a.position,l]),n=!1,"[/removed]"}return n||(n=a.position),"[removed]"}return t(s,o,a)},remove:function(e){var t="",i=0;return _.forEach(r,(function(r){t+=e.slice(i,r[0]),i=r[1]})),t+=e.slice(i)}}},s.stripCommentTag=function(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("\x3c!--",i);if(-1===r){t+=e.slice(i);break}t+=e.slice(i,r);var n=e.indexOf("--\x3e",r);if(-1===n)break;i=n+3}return t},s.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},s.cssFilter=$,s.getDefaultCSSWhiteList=w;var P={},z=v;function H(e){var t,i=z.spaceIndex(e);return t=-1===i?e.slice(1,-1):e.slice(1,i+1),"/"===(t=z.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function F(e){return"</"===e.slice(0,2)}var V=/[^a-zA-Z0-9\\_:.-]/gim;function B(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"="===i?t:-1}}function K(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"'"===i||'"'===i?t:-1}}function W(e,t){for(;t>0;t--){var i=e[t];if(" "!==i)return"="===i?t:-1}}function q(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}P.parseTag=function(e,t,i){var r="",n=0,s=!1,o=!1,a=0,l=e.length,c="",d="";e:for(a=0;a<l;a++){var u=e.charAt(a);if(!1===s){if("<"===u){s=a;continue}}else if(!1===o){if("<"===u){r+=i(e.slice(n,a)),s=a,n=a;continue}if(">"===u){r+=i(e.slice(n,s)),c=H(d=e.slice(s,a+1)),r+=t(s,r.length,c,d,F(d)),n=a+1,s=!1;continue}if('"'===u||"'"===u)for(var p=1,h=e.charAt(a-p);""===h.trim()||"="===h;){if("="===h){o=u;continue e}h=e.charAt(a-++p)}}else if(u===o){o=!1;continue}}return n<e.length&&(r+=i(e.substr(n))),r},P.parseAttr=function(e,t){var i=0,r=0,n=[],s=!1,o=e.length;function a(e,i){if(!((e=(e=z.trim(e)).replace(V,"").toLowerCase()).length<1)){var r=t(e,i||"");r&&n.push(r)}}for(var l=0;l<o;l++){var c,d=e.charAt(l);if(!1!==s||"="!==d)if(!1===s||l!==r){if(/\s|\n|\t/.test(d)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(c=B(e,l))){a(z.trim(e.slice(i,l))),s=!1,i=l+1;continue}l=c-1;continue}if(-1===(c=W(e,l-1))){a(s,q(z.trim(e.slice(i,l)))),s=!1,i=l+1;continue}}}else{if(-1===(c=e.indexOf(d,l+1)))break;a(s,z.trim(e.slice(r+1,c))),s=!1,i=(l=c)+1}else s=e.slice(i,l),i=l+1,r='"'===e.charAt(i)||"'"===e.charAt(i)?i:K(e,l+1)}return i<e.length&&(!1===s?a(e.slice(i)):a(s,q(z.trim(e.slice(i))))),z.trim(n.join(" "))};var J=y.FilterCSS,Y=s,X=P,Q=X.parseTag,ee=X.parseAttr,te=v;function ie(e){return null==e}function re(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Y.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map((function(e){return e.toLowerCase()})):t[i.toLowerCase()]=e[i];return t}(e.whiteList||e.allowList):e.whiteList=Y.whiteList,e.onTag=e.onTag||Y.onTag,e.onTagAttr=e.onTagAttr||Y.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Y.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Y.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Y.safeAttrValue,e.escapeHtml=e.escapeHtml||Y.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new J(e.css))}re.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onTag,n=t.onIgnoreTag,s=t.onTagAttr,o=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Y.stripBlankChar(e)),t.allowCommentTag||(e=Y.stripCommentTag(e));var d=!1;t.stripIgnoreTagBody&&(d=Y.StripTagBody(t.stripIgnoreTagBody,n),n=d.onIgnoreTag);var u=Q(e,(function(e,t,d,u,p){var h={sourcePosition:e,position:t,isClosing:p,isWhite:Object.prototype.hasOwnProperty.call(i,d)},f=r(d,u,h);if(!ie(f))return f;if(h.isWhite){if(h.isClosing)return"</"+d+">";var m=function(e){var t=te.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=te.trim(e.slice(t+1,-1)))[e.length-1];return i&&(e=te.trim(e.slice(0,-1))),{html:e,closing:i}}(u),g=i[d],y=ee(m.html,(function(e,t){var i=-1!==te.indexOf(g,e),r=s(d,e,t,i);return ie(r)?i?(t=a(d,e,t,c))?e+'="'+t+'"':e:ie(r=o(d,e,t,i))?void 0:r:r}));return u="<"+d,y&&(u+=" "+y),m.closing&&(u+=" /"),u+">"}return ie(f=n(d,u,h))?l(u):f}),l);return d&&(u=d.remove(u)),u};var ne=re;!function(e,t){var i=s,r=P,n=ne;function o(e,t){return new n(t).process(e)}(t=e.exports=o).filterXSS=o,t.FilterXSS=n,function(){for(var e in i)t[e]=i[e];for(var n in r)t[n]=r[n]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(n,n.exports);var se=n.exports,oe=function(){function e(e,t){var i,n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=r(r({},se.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,i,r){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(i):se.safeAttrValue(e,t,i,r)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?i=e:e&&t?((i=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach((function(t){if("whiteList"===t)i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]);else if("css"===t){var r=e.css.whiteList;null!=r&&e.css instanceof Object&&Object.keys(r).forEach((function(e){return i.css.whiteList[e]=r[e]}))}else i[t]=e[t]}))):((i=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new se.FilterXSS(i)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e,t){var i=(null!=t?t:{}).isProtocolRequired,r=void 0===i||i,n=this._trim(e.substring(0,e.indexOf(":"))),s="/"===e,o=/^#/.test(e),a=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return s||o||a?se.escapeAttrValue(e):n||r?"":se.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,i,r){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,i,r):se.safeAttrValue(e,t,i,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var i=this.sanitize(e,t);return{isValid:e===i,sanitized:i}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,(function(i,r){return t.test(i)?i:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(i){Array.isArray(e[i])&&Array.isArray(t[i])?t[i]=t[i].concat(e[i]):t[i]=e[i]}))})),t},e.prototype._iterateOverObject=function(e,t){var i=this;void 0===t&&(t={});try{var r=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var s=i.validate(n,t);return s.isValid?e.concat([n]):(r=!0,e.concat([s.sanitized]))}),[]);else{if(!function(e){if("object"!=typeof e||null===e)return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)){if(t.allowUndefined&&void 0===e)return;return null}n=Object.keys(e).reduce((function(n,s){var o=e[s],a=i.validate(o,t);return a.isValid?n[s]=o:(r=!0,n[s]=a.sanitized),n}),{})}return r?n:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}(),ae=i(14130),le=(i(61226),i(58941),i(40633),i(60539)),ce=(i(28181),i(74087)),de=i(15351);function ue(...e){const t=ae.A.acquire();for(let i=0;i<e.length;i++){const r=e[i],n=typeof r;if("string"===n)t.push(r);else if(Array.isArray(r))t.push.apply(t,r);else if("object"===n)for(const e in r)r[e]&&t.push(e)}const i=t.join(" ");return ae.A.release(t),i}function pe(e){const t=e?.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function he(e){this[e.getAttribute("data-node-ref")]=null}function fe(e){this[e.getAttribute("data-node-ref")]=e}(()=>{const e=new Map;new ResizeObserver((t=>{(0,de.Sh)();for(const i of t)e.get(i.target)?.(i)}))})();const me=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),ge=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],ye=new oe({whiteList:me,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(ge.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function ve(e){return"Enter"===e||" "===e}async function be(e,t){await(0,ce.$m)((0,le.Mq)(t));const i="function"==typeof e?e():e;i&&("setFocus"in i&&"function"==typeof i.setFocus?await i.setFocus():i instanceof HTMLElement&&i.focus())}}}]);
//# sourceMappingURL=views-draw-support-Box.js.map